var h2=Object.defineProperty;var f2=(t,e,r)=>e in t?h2(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Gr=(t,e,r)=>f2(t,typeof e!="symbol"?e+"":e,r);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function r(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(a){if(a.ep)return;a.ep=!0;const o=r(a);fetch(a.href,o)}})();var Xk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function p2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hp={exports:{}},Ed={},fp={exports:{}},mr={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dg;function m2(){if(dg)return mr;dg=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),m=Symbol.iterator;function j(X){return X===null||typeof X!="object"?null:(X=m&&X[m]||X["@@iterator"],typeof X=="function"?X:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function L(X,P,Y){this.props=X,this.context=P,this.refs=k,this.updater=Y||y}L.prototype.isReactComponent={},L.prototype.setState=function(X,P){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,P,"setState")},L.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function E(){}E.prototype=L.prototype;function B(X,P,Y){this.props=X,this.context=P,this.refs=k,this.updater=Y||y}var T=B.prototype=new E;T.constructor=B,C(T,L.prototype),T.isPureReactComponent=!0;var D=Array.isArray,z=Object.prototype.hasOwnProperty,ie={current:null},se={key:!0,ref:!0,__self:!0,__source:!0};function Q(X,P,Y){var W,ne={},le=null,me=null;if(P!=null)for(W in P.ref!==void 0&&(me=P.ref),P.key!==void 0&&(le=""+P.key),P)z.call(P,W)&&!se.hasOwnProperty(W)&&(ne[W]=P[W]);var Se=arguments.length-2;if(Se===1)ne.children=Y;else if(1<Se){for(var Ee=Array(Se),Fe=0;Fe<Se;Fe++)Ee[Fe]=arguments[Fe+2];ne.children=Ee}if(X&&X.defaultProps)for(W in Se=X.defaultProps,Se)ne[W]===void 0&&(ne[W]=Se[W]);return{$$typeof:t,type:X,key:le,ref:me,props:ne,_owner:ie.current}}function J(X,P){return{$$typeof:t,type:X.type,key:P,ref:X.ref,props:X.props,_owner:X._owner}}function de(X){return typeof X=="object"&&X!==null&&X.$$typeof===t}function O(X){var P={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(Y){return P[Y]})}var K=/\/+/g;function ae(X,P){return typeof X=="object"&&X!==null&&X.key!=null?O(""+X.key):P.toString(36)}function ce(X,P,Y,W,ne){var le=typeof X;(le==="undefined"||le==="boolean")&&(X=null);var me=!1;if(X===null)me=!0;else switch(le){case"string":case"number":me=!0;break;case"object":switch(X.$$typeof){case t:case e:me=!0}}if(me)return me=X,ne=ne(me),X=W===""?"."+ae(me,0):W,D(ne)?(Y="",X!=null&&(Y=X.replace(K,"$&/")+"/"),ce(ne,P,Y,"",function(Fe){return Fe})):ne!=null&&(de(ne)&&(ne=J(ne,Y+(!ne.key||me&&me.key===ne.key?"":(""+ne.key).replace(K,"$&/")+"/")+X)),P.push(ne)),1;if(me=0,W=W===""?".":W+":",D(X))for(var Se=0;Se<X.length;Se++){le=X[Se];var Ee=W+ae(le,Se);me+=ce(le,P,Y,Ee,ne)}else if(Ee=j(X),typeof Ee=="function")for(X=Ee.call(X),Se=0;!(le=X.next()).done;)le=le.value,Ee=W+ae(le,Se++),me+=ce(le,P,Y,Ee,ne);else if(le==="object")throw P=String(X),Error("Objects are not valid as a React child (found: "+(P==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":P)+"). If you meant to render a collection of children, use an array instead.");return me}function we(X,P,Y){if(X==null)return X;var W=[],ne=0;return ce(X,W,"","",function(le){return P.call(Y,le,ne++)}),W}function Ae(X){if(X._status===-1){var P=X._result;P=P(),P.then(function(Y){(X._status===0||X._status===-1)&&(X._status=1,X._result=Y)},function(Y){(X._status===0||X._status===-1)&&(X._status=2,X._result=Y)}),X._status===-1&&(X._status=0,X._result=P)}if(X._status===1)return X._result.default;throw X._result}var ve={current:null},H={transition:null},he={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:H,ReactCurrentOwner:ie};function xe(){throw Error("act(...) is not supported in production builds of React.")}return mr.Children={map:we,forEach:function(X,P,Y){we(X,function(){P.apply(this,arguments)},Y)},count:function(X){var P=0;return we(X,function(){P++}),P},toArray:function(X){return we(X,function(P){return P})||[]},only:function(X){if(!de(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},mr.Component=L,mr.Fragment=r,mr.Profiler=a,mr.PureComponent=B,mr.StrictMode=n,mr.Suspense=h,mr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=he,mr.act=xe,mr.cloneElement=function(X,P,Y){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var W=C({},X.props),ne=X.key,le=X.ref,me=X._owner;if(P!=null){if(P.ref!==void 0&&(le=P.ref,me=ie.current),P.key!==void 0&&(ne=""+P.key),X.type&&X.type.defaultProps)var Se=X.type.defaultProps;for(Ee in P)z.call(P,Ee)&&!se.hasOwnProperty(Ee)&&(W[Ee]=P[Ee]===void 0&&Se!==void 0?Se[Ee]:P[Ee])}var Ee=arguments.length-2;if(Ee===1)W.children=Y;else if(1<Ee){Se=Array(Ee);for(var Fe=0;Fe<Ee;Fe++)Se[Fe]=arguments[Fe+2];W.children=Se}return{$$typeof:t,type:X.type,key:ne,ref:le,props:W,_owner:me}},mr.createContext=function(X){return X={$$typeof:c,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:o,_context:X},X.Consumer=X},mr.createElement=Q,mr.createFactory=function(X){var P=Q.bind(null,X);return P.type=X,P},mr.createRef=function(){return{current:null}},mr.forwardRef=function(X){return{$$typeof:u,render:X}},mr.isValidElement=de,mr.lazy=function(X){return{$$typeof:x,_payload:{_status:-1,_result:X},_init:Ae}},mr.memo=function(X,P){return{$$typeof:f,type:X,compare:P===void 0?null:P}},mr.startTransition=function(X){var P=H.transition;H.transition={};try{X()}finally{H.transition=P}},mr.unstable_act=xe,mr.useCallback=function(X,P){return ve.current.useCallback(X,P)},mr.useContext=function(X){return ve.current.useContext(X)},mr.useDebugValue=function(){},mr.useDeferredValue=function(X){return ve.current.useDeferredValue(X)},mr.useEffect=function(X,P){return ve.current.useEffect(X,P)},mr.useId=function(){return ve.current.useId()},mr.useImperativeHandle=function(X,P,Y){return ve.current.useImperativeHandle(X,P,Y)},mr.useInsertionEffect=function(X,P){return ve.current.useInsertionEffect(X,P)},mr.useLayoutEffect=function(X,P){return ve.current.useLayoutEffect(X,P)},mr.useMemo=function(X,P){return ve.current.useMemo(X,P)},mr.useReducer=function(X,P,Y){return ve.current.useReducer(X,P,Y)},mr.useRef=function(X){return ve.current.useRef(X)},mr.useState=function(X){return ve.current.useState(X)},mr.useSyncExternalStore=function(X,P,Y){return ve.current.useSyncExternalStore(X,P,Y)},mr.useTransition=function(){return ve.current.useTransition()},mr.version="18.3.1",mr}var hg;function G0(){return hg||(hg=1,fp.exports=m2()),fp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fg;function g2(){if(fg)return Ed;fg=1;var t=G0(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(u,h,f){var x,m={},j=null,y=null;f!==void 0&&(j=""+f),h.key!==void 0&&(j=""+h.key),h.ref!==void 0&&(y=h.ref);for(x in h)n.call(h,x)&&!o.hasOwnProperty(x)&&(m[x]=h[x]);if(u&&u.defaultProps)for(x in h=u.defaultProps,h)m[x]===void 0&&(m[x]=h[x]);return{$$typeof:e,type:u,key:j,ref:y,props:m,_owner:a.current}}return Ed.Fragment=r,Ed.jsx=c,Ed.jsxs=c,Ed}var pg;function b2(){return pg||(pg=1,hp.exports=g2()),hp.exports}var s=b2(),F=G0();const Dt=p2(F);var $h={},pp={exports:{}},ms={},mp={exports:{}},gp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mg;function x2(){return mg||(mg=1,function(t){function e(H,he){var xe=H.length;H.push(he);e:for(;0<xe;){var X=xe-1>>>1,P=H[X];if(0<a(P,he))H[X]=he,H[xe]=P,xe=X;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var he=H[0],xe=H.pop();if(xe!==he){H[0]=xe;e:for(var X=0,P=H.length,Y=P>>>1;X<Y;){var W=2*(X+1)-1,ne=H[W],le=W+1,me=H[le];if(0>a(ne,xe))le<P&&0>a(me,ne)?(H[X]=me,H[le]=xe,X=le):(H[X]=ne,H[W]=xe,X=W);else if(le<P&&0>a(me,xe))H[X]=me,H[le]=xe,X=le;else break e}}return he}function a(H,he){var xe=H.sortIndex-he.sortIndex;return xe!==0?xe:H.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();t.unstable_now=function(){return c.now()-u}}var h=[],f=[],x=1,m=null,j=3,y=!1,C=!1,k=!1,L=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(H){for(var he=r(f);he!==null;){if(he.callback===null)n(f);else if(he.startTime<=H)n(f),he.sortIndex=he.expirationTime,e(h,he);else break;he=r(f)}}function D(H){if(k=!1,T(H),!C)if(r(h)!==null)C=!0,Ae(z);else{var he=r(f);he!==null&&ve(D,he.startTime-H)}}function z(H,he){C=!1,k&&(k=!1,E(Q),Q=-1),y=!0;var xe=j;try{for(T(he),m=r(h);m!==null&&(!(m.expirationTime>he)||H&&!O());){var X=m.callback;if(typeof X=="function"){m.callback=null,j=m.priorityLevel;var P=X(m.expirationTime<=he);he=t.unstable_now(),typeof P=="function"?m.callback=P:m===r(h)&&n(h),T(he)}else n(h);m=r(h)}if(m!==null)var Y=!0;else{var W=r(f);W!==null&&ve(D,W.startTime-he),Y=!1}return Y}finally{m=null,j=xe,y=!1}}var ie=!1,se=null,Q=-1,J=5,de=-1;function O(){return!(t.unstable_now()-de<J)}function K(){if(se!==null){var H=t.unstable_now();de=H;var he=!0;try{he=se(!0,H)}finally{he?ae():(ie=!1,se=null)}}else ie=!1}var ae;if(typeof B=="function")ae=function(){B(K)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,we=ce.port2;ce.port1.onmessage=K,ae=function(){we.postMessage(null)}}else ae=function(){L(K,0)};function Ae(H){se=H,ie||(ie=!0,ae())}function ve(H,he){Q=L(function(){H(t.unstable_now())},he)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){C||y||(C=!0,Ae(z))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):J=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return j},t.unstable_getFirstCallbackNode=function(){return r(h)},t.unstable_next=function(H){switch(j){case 1:case 2:case 3:var he=3;break;default:he=j}var xe=j;j=he;try{return H()}finally{j=xe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,he){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var xe=j;j=H;try{return he()}finally{j=xe}},t.unstable_scheduleCallback=function(H,he,xe){var X=t.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?X+xe:X):xe=X,H){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=xe+P,H={id:x++,callback:he,priorityLevel:H,startTime:xe,expirationTime:P,sortIndex:-1},xe>X?(H.sortIndex=xe,e(f,H),r(h)===null&&H===r(f)&&(k?(E(Q),Q=-1):k=!0,ve(D,xe-X))):(H.sortIndex=P,e(h,H),C||y||(C=!0,Ae(z))),H},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(H){var he=j;return function(){var xe=j;j=he;try{return H.apply(this,arguments)}finally{j=xe}}}}(gp)),gp}var gg;function v2(){return gg||(gg=1,mp.exports=x2()),mp.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bg;function y2(){if(bg)return ms;bg=1;var t=G0(),e=v2();function r(i){for(var l="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)l+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function o(i,l){c(i,l),c(i+"Capture",l)}function c(i,l){for(a[i]=l,i=0;i<l.length;i++)n.add(l[i])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},m={};function j(i){return h.call(m,i)?!0:h.call(x,i)?!1:f.test(i)?m[i]=!0:(x[i]=!0,!1)}function y(i,l,d,b){if(d!==null&&d.type===0)return!1;switch(typeof l){case"function":case"symbol":return!0;case"boolean":return b?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,l,d,b){if(l===null||typeof l>"u"||y(i,l,d,b))return!0;if(b)return!1;if(d!==null)switch(d.type){case 3:return!l;case 4:return l===!1;case 5:return isNaN(l);case 6:return isNaN(l)||1>l}return!1}function k(i,l,d,b,_,N,M){this.acceptsBooleans=l===2||l===3||l===4,this.attributeName=b,this.attributeNamespace=_,this.mustUseProperty=d,this.propertyName=i,this.type=l,this.sanitizeURL=N,this.removeEmptyString=M}var L={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){L[i]=new k(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var l=i[0];L[l]=new k(l,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){L[i]=new k(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){L[i]=new k(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){L[i]=new k(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){L[i]=new k(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){L[i]=new k(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){L[i]=new k(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){L[i]=new k(i,5,!1,i.toLowerCase(),null,!1,!1)});var E=/[\-:]([a-z])/g;function B(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var l=i.replace(E,B);L[l]=new k(l,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var l=i.replace(E,B);L[l]=new k(l,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var l=i.replace(E,B);L[l]=new k(l,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){L[i]=new k(i,1,!1,i.toLowerCase(),null,!1,!1)}),L.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){L[i]=new k(i,1,!1,i.toLowerCase(),null,!0,!0)});function T(i,l,d,b){var _=L.hasOwnProperty(l)?L[l]:null;(_!==null?_.type!==0:b||!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(C(l,d,_,b)&&(d=null),b||_===null?j(l)&&(d===null?i.removeAttribute(l):i.setAttribute(l,""+d)):_.mustUseProperty?i[_.propertyName]=d===null?_.type===3?!1:"":d:(l=_.attributeName,b=_.attributeNamespace,d===null?i.removeAttribute(l):(_=_.type,d=_===3||_===4&&d===!0?"":""+d,b?i.setAttributeNS(b,l,d):i.setAttribute(l,d))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),ie=Symbol.for("react.portal"),se=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),de=Symbol.for("react.provider"),O=Symbol.for("react.context"),K=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ce=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),ve=Symbol.for("react.offscreen"),H=Symbol.iterator;function he(i){return i===null||typeof i!="object"?null:(i=H&&i[H]||i["@@iterator"],typeof i=="function"?i:null)}var xe=Object.assign,X;function P(i){if(X===void 0)try{throw Error()}catch(d){var l=d.stack.trim().match(/\n( *(at )?)/);X=l&&l[1]||""}return`
`+X+i}var Y=!1;function W(i,l){if(!i||Y)return"";Y=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(l)if(l=function(){throw Error()},Object.defineProperty(l.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(l,[])}catch(Ie){var b=Ie}Reflect.construct(i,[],l)}else{try{l.call()}catch(Ie){b=Ie}i.call(l.prototype)}else{try{throw Error()}catch(Ie){b=Ie}i()}}catch(Ie){if(Ie&&b&&typeof Ie.stack=="string"){for(var _=Ie.stack.split(`
`),N=b.stack.split(`
`),M=_.length-1,oe=N.length-1;1<=M&&0<=oe&&_[M]!==N[oe];)oe--;for(;1<=M&&0<=oe;M--,oe--)if(_[M]!==N[oe]){if(M!==1||oe!==1)do if(M--,oe--,0>oe||_[M]!==N[oe]){var ge=`
`+_[M].replace(" at new "," at ");return i.displayName&&ge.includes("<anonymous>")&&(ge=ge.replace("<anonymous>",i.displayName)),ge}while(1<=M&&0<=oe);break}}}finally{Y=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?P(i):""}function ne(i){switch(i.tag){case 5:return P(i.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return i=W(i.type,!1),i;case 11:return i=W(i.type.render,!1),i;case 1:return i=W(i.type,!0),i;default:return""}}function le(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case se:return"Fragment";case ie:return"Portal";case J:return"Profiler";case Q:return"StrictMode";case ae:return"Suspense";case ce:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case O:return(i.displayName||"Context")+".Consumer";case de:return(i._context.displayName||"Context")+".Provider";case K:var l=i.render;return i=i.displayName,i||(i=l.displayName||l.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case we:return l=i.displayName||null,l!==null?l:le(i.type)||"Memo";case Ae:l=i._payload,i=i._init;try{return le(i(l))}catch{}}return null}function me(i){var l=i.type;switch(i.tag){case 24:return"Cache";case 9:return(l.displayName||"Context")+".Consumer";case 10:return(l._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=l.render,i=i.displayName||i.name||"",l.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return l;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return le(l);case 8:return l===Q?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l}return null}function Se(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ee(i){var l=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function Fe(i){var l=Ee(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,l),b=""+i[l];if(!i.hasOwnProperty(l)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var _=d.get,N=d.set;return Object.defineProperty(i,l,{configurable:!0,get:function(){return _.call(this)},set:function(M){b=""+M,N.call(this,M)}}),Object.defineProperty(i,l,{enumerable:d.enumerable}),{getValue:function(){return b},setValue:function(M){b=""+M},stopTracking:function(){i._valueTracker=null,delete i[l]}}}}function We(i){i._valueTracker||(i._valueTracker=Fe(i))}function et(i){if(!i)return!1;var l=i._valueTracker;if(!l)return!0;var d=l.getValue(),b="";return i&&(b=Ee(i)?i.checked?"true":"false":i.value),i=b,i!==d?(l.setValue(i),!0):!1}function tt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function vt(i,l){var d=l.checked;return xe({},l,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function Z(i,l){var d=l.defaultValue==null?"":l.defaultValue,b=l.checked!=null?l.checked:l.defaultChecked;d=Se(l.value!=null?l.value:d),i._wrapperState={initialChecked:b,initialValue:d,controlled:l.type==="checkbox"||l.type==="radio"?l.checked!=null:l.value!=null}}function rt(i,l){l=l.checked,l!=null&&T(i,"checked",l,!1)}function bt(i,l){rt(i,l);var d=Se(l.value),b=l.type;if(d!=null)b==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(b==="submit"||b==="reset"){i.removeAttribute("value");return}l.hasOwnProperty("value")?He(i,l.type,d):l.hasOwnProperty("defaultValue")&&He(i,l.type,Se(l.defaultValue)),l.checked==null&&l.defaultChecked!=null&&(i.defaultChecked=!!l.defaultChecked)}function pt(i,l,d){if(l.hasOwnProperty("value")||l.hasOwnProperty("defaultValue")){var b=l.type;if(!(b!=="submit"&&b!=="reset"||l.value!==void 0&&l.value!==null))return;l=""+i._wrapperState.initialValue,d||l===i.value||(i.value=l),i.defaultValue=l}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function He(i,l,d){(l!=="number"||tt(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var jt=Array.isArray;function Me(i,l,d,b){if(i=i.options,l){l={};for(var _=0;_<d.length;_++)l["$"+d[_]]=!0;for(d=0;d<i.length;d++)_=l.hasOwnProperty("$"+i[d].value),i[d].selected!==_&&(i[d].selected=_),_&&b&&(i[d].defaultSelected=!0)}else{for(d=""+Se(d),l=null,_=0;_<i.length;_++){if(i[_].value===d){i[_].selected=!0,b&&(i[_].defaultSelected=!0);return}l!==null||i[_].disabled||(l=i[_])}l!==null&&(l.selected=!0)}}function at(i,l){if(l.dangerouslySetInnerHTML!=null)throw Error(r(91));return xe({},l,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function wt(i,l){var d=l.value;if(d==null){if(d=l.children,l=l.defaultValue,d!=null){if(l!=null)throw Error(r(92));if(jt(d)){if(1<d.length)throw Error(r(93));d=d[0]}l=d}l==null&&(l=""),d=l}i._wrapperState={initialValue:Se(d)}}function vr(i,l){var d=Se(l.value),b=Se(l.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),l.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),b!=null&&(i.defaultValue=""+b)}function Ht(i){var l=i.textContent;l===i._wrapperState.initialValue&&l!==""&&l!==null&&(i.value=l)}function Pt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function nr(i,l){return i==null||i==="http://www.w3.org/1999/xhtml"?Pt(l):i==="http://www.w3.org/2000/svg"&&l==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Zt,ht=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(l,d,b,_){MSApp.execUnsafeLocalFunction(function(){return i(l,d,b,_)})}:i}(function(i,l){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=l;else{for(Zt=Zt||document.createElement("div"),Zt.innerHTML="<svg>"+l.valueOf().toString()+"</svg>",l=Zt.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;l.firstChild;)i.appendChild(l.firstChild)}});function Ft(i,l){if(l){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=l;return}}i.textContent=l}var st={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hr=["Webkit","ms","Moz","O"];Object.keys(st).forEach(function(i){Hr.forEach(function(l){l=l+i.charAt(0).toUpperCase()+i.substring(1),st[l]=st[i]})});function sr(i,l,d){return l==null||typeof l=="boolean"||l===""?"":d||typeof l!="number"||l===0||st.hasOwnProperty(i)&&st[i]?(""+l).trim():l+"px"}function Yt(i,l){i=i.style;for(var d in l)if(l.hasOwnProperty(d)){var b=d.indexOf("--")===0,_=sr(d,l[d],b);d==="float"&&(d="cssFloat"),b?i.setProperty(d,_):i[d]=_}}var Qt=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qr(i,l){if(l){if(Qt[i]&&(l.children!=null||l.dangerouslySetInnerHTML!=null))throw Error(r(137,i));if(l.dangerouslySetInnerHTML!=null){if(l.children!=null)throw Error(r(60));if(typeof l.dangerouslySetInnerHTML!="object"||!("__html"in l.dangerouslySetInnerHTML))throw Error(r(61))}if(l.style!=null&&typeof l.style!="object")throw Error(r(62))}}function ct(i,l){if(i.indexOf("-")===-1)return typeof l.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var br=null;function kt(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Bt=null,Sr=null,Wt=null;function St(i){if(i=ml(i)){if(typeof Bt!="function")throw Error(r(280));var l=i.stateNode;l&&(l=zl(l),Bt(i.stateNode,i.type,l))}}function fr(i){Sr?Wt?Wt.push(i):Wt=[i]:Sr=i}function Ga(){if(Sr){var i=Sr,l=Wt;if(Wt=Sr=null,St(i),l)for(i=0;i<l.length;i++)St(l[i])}}function Mn(i,l){return i(l)}function Ji(){}var va=!1;function nt(i,l,d){if(va)return i(l,d);va=!0;try{return Mn(i,l,d)}finally{va=!1,(Sr!==null||Wt!==null)&&(Ji(),Ga())}}function Yr(i,l){var d=i.stateNode;if(d===null)return null;var b=zl(d);if(b===null)return null;d=b[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(i=i.type,b=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!b;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(r(231,l,typeof d));return d}var ya=!1;if(u)try{var ai={};Object.defineProperty(ai,"passive",{get:function(){ya=!0}}),window.addEventListener("test",ai,ai),window.removeEventListener("test",ai,ai)}catch{ya=!1}function pn(i,l,d,b,_,N,M,oe,ge){var Ie=Array.prototype.slice.call(arguments,3);try{l.apply(d,Ie)}catch(Ge){this.onError(Ge)}}var yr=!1,Xr=null,mn=!1,Ka=null,Ws={onError:function(i){yr=!0,Xr=i}};function cn(i,l,d,b,_,N,M,oe,ge){yr=!1,Xr=null,pn.apply(Ws,arguments)}function si(i,l,d,b,_,N,M,oe,ge){if(cn.apply(this,arguments),yr){if(yr){var Ie=Xr;yr=!1,Xr=null}else throw Error(r(198));mn||(mn=!0,Ka=Ie)}}function Tn(i){var l=i,d=i;if(i.alternate)for(;l.return;)l=l.return;else{i=l;do l=i,l.flags&4098&&(d=l.return),i=l.return;while(i)}return l.tag===3?d:null}function Yi(i){if(i.tag===13){var l=i.memoizedState;if(l===null&&(i=i.alternate,i!==null&&(l=i.memoizedState)),l!==null)return l.dehydrated}return null}function oi(i){if(Tn(i)!==i)throw Error(r(188))}function vo(i){var l=i.alternate;if(!l){if(l=Tn(i),l===null)throw Error(r(188));return l!==i?null:i}for(var d=i,b=l;;){var _=d.return;if(_===null)break;var N=_.alternate;if(N===null){if(b=_.return,b!==null){d=b;continue}break}if(_.child===N.child){for(N=_.child;N;){if(N===d)return oi(_),i;if(N===b)return oi(_),l;N=N.sibling}throw Error(r(188))}if(d.return!==b.return)d=_,b=N;else{for(var M=!1,oe=_.child;oe;){if(oe===d){M=!0,d=_,b=N;break}if(oe===b){M=!0,b=_,d=N;break}oe=oe.sibling}if(!M){for(oe=N.child;oe;){if(oe===d){M=!0,d=N,b=_;break}if(oe===b){M=!0,b=N,d=_;break}oe=oe.sibling}if(!M)throw Error(r(189))}}if(d.alternate!==b)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?i:l}function li(i){return i=vo(i),i!==null?Ja(i):null}function Ja(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var l=Ja(i);if(l!==null)return l;i=i.sibling}return null}var Vs=e.unstable_scheduleCallback,yo=e.unstable_cancelCallback,Xi=e.unstable_shouldYield,wo=e.unstable_requestPaint,Br=e.unstable_now,Dl=e.unstable_getCurrentPriorityLevel,vs=e.unstable_ImmediatePriority,Zi=e.unstable_UserBlockingPriority,yi=e.unstable_NormalPriority,_o=e.unstable_LowPriority,Ii=e.unstable_IdlePriority,Gs=null,lr=null;function Oi(i){if(lr&&typeof lr.onCommitFiberRoot=="function")try{lr.onCommitFiberRoot(Gs,i,void 0,(i.current.flags&128)===128)}catch{}}var Zr=Math.clz32?Math.clz32:Qr,jo=Math.log,sc=Math.LN2;function Qr(i){return i>>>=0,i===0?32:31-(jo(i)/sc|0)|0}var Ks=64,Qi=4194304;function Rn(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function wa(i,l){var d=i.pendingLanes;if(d===0)return 0;var b=0,_=i.suspendedLanes,N=i.pingedLanes,M=d&268435455;if(M!==0){var oe=M&~_;oe!==0?b=Rn(oe):(N&=M,N!==0&&(b=Rn(N)))}else M=d&~_,M!==0?b=Rn(M):N!==0&&(b=Rn(N));if(b===0)return 0;if(l!==0&&l!==b&&!(l&_)&&(_=b&-b,N=l&-l,_>=N||_===16&&(N&4194240)!==0))return l;if(b&4&&(b|=d&16),l=i.entangledLanes,l!==0)for(i=i.entanglements,l&=b;0<l;)d=31-Zr(l),_=1<<d,b|=i[d],l&=~_;return b}function Di(i,l){switch(i){case 1:case 2:case 4:return l+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sn(i,l){for(var d=i.suspendedLanes,b=i.pingedLanes,_=i.expirationTimes,N=i.pendingLanes;0<N;){var M=31-Zr(N),oe=1<<M,ge=_[M];ge===-1?(!(oe&d)||oe&b)&&(_[M]=Di(oe,l)):ge<=l&&(i.expiredLanes|=oe),N&=~oe}}function _a(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Fl(){var i=Ks;return Ks<<=1,!(Ks&4194240)&&(Ks=64),i}function Tr(i){for(var l=[],d=0;31>d;d++)l.push(i);return l}function wi(i,l,d){i.pendingLanes|=l,l!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,l=31-Zr(l),i[l]=d}function ja(i,l){var d=i.pendingLanes&~l;i.pendingLanes=l,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=l,i.mutableReadLanes&=l,i.entangledLanes&=l,l=i.entanglements;var b=i.eventTimes;for(i=i.expirationTimes;0<d;){var _=31-Zr(d),N=1<<_;l[_]=0,b[_]=-1,i[_]=-1,d&=~N}}function So(i,l){var d=i.entangledLanes|=l;for(i=i.entanglements;d;){var b=31-Zr(d),_=1<<b;_&l|i[b]&l&&(i[b]|=l),d&=~_}}var cr=0;function Js(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var ys,No,ko,oc,Oa,Ys=!1,_i=[],Ya=null,en=null,Wn=null,ws=new Map,Et=new Map,ea=[],Hc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gn(i,l){switch(i){case"focusin":case"focusout":Ya=null;break;case"dragenter":case"dragleave":en=null;break;case"mouseover":case"mouseout":Wn=null;break;case"pointerover":case"pointerout":ws.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Et.delete(l.pointerId)}}function bn(i,l,d,b,_,N){return i===null||i.nativeEvent!==N?(i={blockedOn:l,domEventName:d,eventSystemFlags:b,nativeEvent:N,targetContainers:[_]},l!==null&&(l=ml(l),l!==null&&No(l)),i):(i.eventSystemFlags|=b,l=i.targetContainers,_!==null&&l.indexOf(_)===-1&&l.push(_),i)}function Xa(i,l,d,b,_){switch(l){case"focusin":return Ya=bn(Ya,i,l,d,b,_),!0;case"dragenter":return en=bn(en,i,l,d,b,_),!0;case"mouseover":return Wn=bn(Wn,i,l,d,b,_),!0;case"pointerover":var N=_.pointerId;return ws.set(N,bn(ws.get(N)||null,i,l,d,b,_)),!0;case"gotpointercapture":return N=_.pointerId,Et.set(N,bn(Et.get(N)||null,i,l,d,b,_)),!0}return!1}function lc(i){var l=Ls(i.target);if(l!==null){var d=Tn(l);if(d!==null){if(l=d.tag,l===13){if(l=Yi(d),l!==null){i.blockedOn=l,Oa(i.priority,function(){ko(d)});return}}else if(l===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Vn(i){if(i.blockedOn!==null)return!1;for(var l=i.targetContainers;0<l.length;){var d=Zs(i.domEventName,i.eventSystemFlags,l[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var b=new d.constructor(d.type,d);br=b,d.target.dispatchEvent(b),br=null}else return l=ml(d),l!==null&&No(l),i.blockedOn=d,!1;l.shift()}return!0}function ta(i,l,d){Vn(i)&&d.delete(l)}function Co(){Ys=!1,Ya!==null&&Vn(Ya)&&(Ya=null),en!==null&&Vn(en)&&(en=null),Wn!==null&&Vn(Wn)&&(Wn=null),ws.forEach(ta),Et.forEach(ta)}function Sa(i,l){i.blockedOn===l&&(i.blockedOn=null,Ys||(Ys=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Co)))}function Xs(i){function l(_){return Sa(_,i)}if(0<_i.length){Sa(_i[0],i);for(var d=1;d<_i.length;d++){var b=_i[d];b.blockedOn===i&&(b.blockedOn=null)}}for(Ya!==null&&Sa(Ya,i),en!==null&&Sa(en,i),Wn!==null&&Sa(Wn,i),ws.forEach(l),Et.forEach(l),d=0;d<ea.length;d++)b=ea[d],b.blockedOn===i&&(b.blockedOn=null);for(;0<ea.length&&(d=ea[0],d.blockedOn===null);)lc(d),d.blockedOn===null&&ea.shift()}var Fi=D.ReactCurrentBatchConfig,ci=!0;function Za(i,l,d,b){var _=cr,N=Fi.transition;Fi.transition=null;try{cr=1,Eo(i,l,d,b)}finally{cr=_,Fi.transition=N}}function Ao(i,l,d,b){var _=cr,N=Fi.transition;Fi.transition=null;try{cr=4,Eo(i,l,d,b)}finally{cr=_,Fi.transition=N}}function Eo(i,l,d,b){if(ci){var _=Zs(i,l,d,b);if(_===null)fl(i,l,b,ji,d),gn(i,b);else if(Xa(_,i,l,d,b))b.stopPropagation();else if(gn(i,b),l&4&&-1<Hc.indexOf(i)){for(;_!==null;){var N=ml(_);if(N!==null&&ys(N),N=Zs(i,l,d,b),N===null&&fl(i,l,b,ji,d),N===_)break;_=N}_!==null&&b.stopPropagation()}else fl(i,l,b,null,d)}}var ji=null;function Zs(i,l,d,b){if(ji=null,i=kt(b),i=Ls(i),i!==null)if(l=Tn(i),l===null)i=null;else if(d=l.tag,d===13){if(i=Yi(l),i!==null)return i;i=null}else if(d===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;i=null}else l!==i&&(i=null);return ji=i,null}function Qs(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dl()){case vs:return 1;case Zi:return 4;case yi:case _o:return 16;case Ii:return 536870912;default:return 16}default:return 16}}var Bi=null,Qa=null,eo=null;function Wr(){if(eo)return eo;var i,l=Qa,d=l.length,b,_="value"in Bi?Bi.value:Bi.textContent,N=_.length;for(i=0;i<d&&l[i]===_[i];i++);var M=d-i;for(b=1;b<=M&&l[d-b]===_[N-b];b++);return eo=_.slice(i,1<b?1-b:void 0)}function Si(i){var l=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&l===13&&(i=13)):i=l,i===10&&(i=13),32<=i||i===13?i:0}function $i(){return!0}function Da(){return!1}function In(i){function l(d,b,_,N,M){this._reactName=d,this._targetInst=_,this.type=b,this.nativeEvent=N,this.target=M,this.currentTarget=null;for(var oe in i)i.hasOwnProperty(oe)&&(d=i[oe],this[oe]=d?d(N):N[oe]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?$i:Da,this.isPropagationStopped=Da,this}return xe(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),l}var ra={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Lo=In(ra),w=xe({},ra,{view:0,detail:0}),R=In(w),re,fe,_e,Be=xe({},w,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ts,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==_e&&(_e&&i.type==="mousemove"?(re=i.screenX-_e.screenX,fe=i.screenY-_e.screenY):fe=re=0,_e=i),re)},movementY:function(i){return"movementY"in i?i.movementY:fe}}),qe=In(Be),Ye=xe({},Be,{dataTransfer:0}),it=In(Ye),Tt=xe({},w,{relatedTarget:0}),zt=In(Tt),or=xe({},ra,{animationName:0,elapsedTime:0,pseudoElement:0}),tn=In(or),Ar=xe({},ra,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Nr=In(Ar),Nn=xe({},ra,{data:0}),xn=In(Nn),wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ui={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},na={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function es(i){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(i):(i=na[i])?!!l[i]:!1}function ts(){return es}var Po=xe({},w,{key:function(i){if(i.key){var l=wr[i.key]||i.key;if(l!=="Unidentified")return l}return i.type==="keypress"?(i=Si(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?ui[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ts,charCode:function(i){return i.type==="keypress"?Si(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Si(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_s=In(Po),js=xe({},Be,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ni=In(js),to=xe({},w,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ts}),ft=In(to),di=xe({},ra,{propertyName:0,elapsedTime:0,pseudoElement:0}),ro=In(di),sl=xe({},Be,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ol=In(sl),ki=[9,13,27,32],qn=u&&"CompositionEvent"in window,Na=null;u&&"documentMode"in document&&(Na=document.documentMode);var To=u&&"TextEvent"in window&&!Na,ia=u&&(!qn||Na&&8<Na&&11>=Na),Ss=" ",no=!1;function Ro(i,l){switch(i){case"keyup":return ki.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rs(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Mi=!1;function aa(i,l){switch(i){case"compositionend":return rs(l);case"keypress":return l.which!==32?null:(no=!0,Ss);case"textInput":return i=l.data,i===Ss&&no?null:i;default:return null}}function qi(i,l){if(Mi)return i==="compositionend"||!qn&&Ro(i,l)?(i=Wr(),eo=Qa=Bi=null,Mi=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return ia&&l.locale!=="ko"?null:l.data;default:return null}}var io={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ka(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l==="input"?!!io[i.type]:l==="textarea"}function Ns(i,l,d,b){fr(b),l=Ml(l,"onChange"),0<l.length&&(d=new Lo("onChange","change",null,d,b),i.push({event:d,listeners:l}))}var ks=null,Fa=null;function Er(i){hl(i,0)}function ao(i){var l=ho(i);if(et(l))return i}function ns(i,l){if(i==="change")return l}var Ca=!1;if(u){var Rr;if(u){var sa="oninput"in document;if(!sa){var so=document.createElement("div");so.setAttribute("oninput","return;"),sa=typeof so.oninput=="function"}Rr=sa}else Rr=!1;Ca=Rr&&(!document.documentMode||9<document.documentMode)}function Io(){ks&&(ks.detachEvent("onpropertychange",Ba),Fa=ks=null)}function Ba(i){if(i.propertyName==="value"&&ao(Fa)){var l=[];Ns(l,Fa,i,kt(i)),nt(Er,l)}}function Gn(i,l,d){i==="focusin"?(Io(),ks=l,Fa=d,ks.attachEvent("onpropertychange",Ba)):i==="focusout"&&Io()}function Ui(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return ao(Fa)}function hi(i,l){if(i==="click")return ao(l)}function is(i,l){if(i==="input"||i==="change")return ao(l)}function oo(i,l){return i===l&&(i!==0||1/i===1/l)||i!==i&&l!==l}var rn=typeof Object.is=="function"?Object.is:oo;function nn(i,l){if(rn(i,l))return!0;if(typeof i!="object"||i===null||typeof l!="object"||l===null)return!1;var d=Object.keys(i),b=Object.keys(l);if(d.length!==b.length)return!1;for(b=0;b<d.length;b++){var _=d[b];if(!h.call(l,_)||!rn(i[_],l[_]))return!1}return!0}function xr(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ur(i,l){var d=xr(i);i=0;for(var b;d;){if(d.nodeType===3){if(b=i+d.textContent.length,i<=l&&b>=l)return{node:d,offset:l-i};i=b}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=xr(d)}}function un(i,l){return i&&l?i===l?!0:i&&i.nodeType===3?!1:l&&l.nodeType===3?un(i,l.parentNode):"contains"in i?i.contains(l):i.compareDocumentPosition?!!(i.compareDocumentPosition(l)&16):!1:!1}function an(){for(var i=window,l=tt();l instanceof i.HTMLIFrameElement;){try{var d=typeof l.contentWindow.location.href=="string"}catch{d=!1}if(d)i=l.contentWindow;else break;l=tt(i.document)}return l}function kn(i){var l=i&&i.nodeName&&i.nodeName.toLowerCase();return l&&(l==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||l==="textarea"||i.contentEditable==="true")}function ll(i){var l=an(),d=i.focusedElem,b=i.selectionRange;if(l!==d&&d&&d.ownerDocument&&un(d.ownerDocument.documentElement,d)){if(b!==null&&kn(d)){if(l=b.start,i=b.end,i===void 0&&(i=l),"selectionStart"in d)d.selectionStart=l,d.selectionEnd=Math.min(i,d.value.length);else if(i=(l=d.ownerDocument||document)&&l.defaultView||window,i.getSelection){i=i.getSelection();var _=d.textContent.length,N=Math.min(b.start,_);b=b.end===void 0?N:Math.min(b.end,_),!i.extend&&N>b&&(_=b,b=N,N=_),_=ur(d,N);var M=ur(d,b);_&&M&&(i.rangeCount!==1||i.anchorNode!==_.node||i.anchorOffset!==_.offset||i.focusNode!==M.node||i.focusOffset!==M.offset)&&(l=l.createRange(),l.setStart(_.node,_.offset),i.removeAllRanges(),N>b?(i.addRange(l),i.extend(M.node,M.offset)):(l.setEnd(M.node,M.offset),i.addRange(l)))}}for(l=[],i=d;i=i.parentNode;)i.nodeType===1&&l.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<l.length;d++)i=l[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Oo=u&&"documentMode"in document&&11>=document.documentMode,oa=null,Bl=null,Do=null,Fo=!1;function Wc(i,l,d){var b=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Fo||oa==null||oa!==tt(b)||(b=oa,"selectionStart"in b&&kn(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),Do&&nn(Do,b)||(Do=b,b=Ml(Bl,"onSelect"),0<b.length&&(l=new Lo("onSelect","select",null,l,d),i.push({event:l,listeners:b}),l.target=oa)))}function $l(i,l){var d={};return d[i.toLowerCase()]=l.toLowerCase(),d["Webkit"+i]="webkit"+l,d["Moz"+i]="moz"+l,d}var Cs={animationend:$l("Animation","AnimationEnd"),animationiteration:$l("Animation","AnimationIteration"),animationstart:$l("Animation","AnimationStart"),transitionend:$l("Transition","TransitionEnd")},Bo={},$o={};u&&($o=document.createElement("div").style,"AnimationEvent"in window||(delete Cs.animationend.animation,delete Cs.animationiteration.animation,delete Cs.animationstart.animation),"TransitionEvent"in window||delete Cs.transitionend.transition);function lo(i){if(Bo[i])return Bo[i];if(!Cs[i])return i;var l=Cs[i],d;for(d in l)if(l.hasOwnProperty(d)&&d in $o)return Bo[i]=l[d];return i}var cc=lo("animationend"),uc=lo("animationiteration"),dc=lo("animationstart"),$a=lo("transitionend"),cl=new Map,hc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ma(i,l){cl.set(i,l),o(l,[i])}for(var ul=0;ul<hc.length;ul++){var Kn=hc[ul],Ci=Kn.toLowerCase(),dl=Kn[0].toUpperCase()+Kn.slice(1);Ma(Ci,"on"+dl)}Ma(cc,"onAnimationEnd"),Ma(uc,"onAnimationIteration"),Ma(dc,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma($a,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var as="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fc=new Set("cancel close invalid load scroll toggle".split(" ").concat(as));function Mo(i,l,d){var b=i.type||"unknown-event";i.currentTarget=d,si(b,l,void 0,i),i.currentTarget=null}function hl(i,l){l=(l&4)!==0;for(var d=0;d<i.length;d++){var b=i[d],_=b.event;b=b.listeners;e:{var N=void 0;if(l)for(var M=b.length-1;0<=M;M--){var oe=b[M],ge=oe.instance,Ie=oe.currentTarget;if(oe=oe.listener,ge!==N&&_.isPropagationStopped())break e;Mo(_,oe,Ie),N=ge}else for(M=0;M<b.length;M++){if(oe=b[M],ge=oe.instance,Ie=oe.currentTarget,oe=oe.listener,ge!==N&&_.isPropagationStopped())break e;Mo(_,oe,Ie),N=ge}}}if(mn)throw i=Ka,mn=!1,Ka=null,i}function Vt(i,l){var d=l[Jn];d===void 0&&(d=l[Jn]=new Set);var b=i+"__bubble";d.has(b)||(qa(l,i,2,!1),d.add(b))}function As(i,l,d){var b=0;l&&(b|=4),qa(d,i,b,l)}var qo="_reactListening"+Math.random().toString(36).slice(2);function ss(i){if(!i[qo]){i[qo]=!0,n.forEach(function(d){d!=="selectionchange"&&(fc.has(d)||As(d,!1,i),As(d,!0,i))});var l=i.nodeType===9?i:i.ownerDocument;l===null||l[qo]||(l[qo]=!0,As("selectionchange",!1,l))}}function qa(i,l,d,b){switch(Qs(l)){case 1:var _=Za;break;case 4:_=Ao;break;default:_=Eo}d=_.bind(null,l,d,i),_=void 0,!ya||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(_=!0),b?_!==void 0?i.addEventListener(l,d,{capture:!0,passive:_}):i.addEventListener(l,d,!0):_!==void 0?i.addEventListener(l,d,{passive:_}):i.addEventListener(l,d,!1)}function fl(i,l,d,b,_){var N=b;if(!(l&1)&&!(l&2)&&b!==null)e:for(;;){if(b===null)return;var M=b.tag;if(M===3||M===4){var oe=b.stateNode.containerInfo;if(oe===_||oe.nodeType===8&&oe.parentNode===_)break;if(M===4)for(M=b.return;M!==null;){var ge=M.tag;if((ge===3||ge===4)&&(ge=M.stateNode.containerInfo,ge===_||ge.nodeType===8&&ge.parentNode===_))return;M=M.return}for(;oe!==null;){if(M=Ls(oe),M===null)return;if(ge=M.tag,ge===5||ge===6){b=N=M;continue e}oe=oe.parentNode}}b=b.return}nt(function(){var Ie=N,Ge=kt(d),Je=[];e:{var Ve=cl.get(i);if(Ve!==void 0){var ot=Lo,mt=i;switch(i){case"keypress":if(Si(d)===0)break e;case"keydown":case"keyup":ot=_s;break;case"focusin":mt="focus",ot=zt;break;case"focusout":mt="blur",ot=zt;break;case"beforeblur":case"afterblur":ot=zt;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ot=qe;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ot=it;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ot=ft;break;case cc:case uc:case dc:ot=tn;break;case $a:ot=ro;break;case"scroll":ot=R;break;case"wheel":ot=ol;break;case"copy":case"cut":case"paste":ot=Nr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ot=Ni}var yt=(l&4)!==0,ti=!yt&&i==="scroll",Le=yt?Ve!==null?Ve+"Capture":null:Ve;yt=[];for(var ye=Ie,Pe;ye!==null;){Pe=ye;var Xe=Pe.stateNode;if(Pe.tag===5&&Xe!==null&&(Pe=Xe,Le!==null&&(Xe=Yr(ye,Le),Xe!=null&&yt.push(Uo(ye,Xe,Pe)))),ti)break;ye=ye.return}0<yt.length&&(Ve=new ot(Ve,mt,null,d,Ge),Je.push({event:Ve,listeners:yt}))}}if(!(l&7)){e:{if(Ve=i==="mouseover"||i==="pointerover",ot=i==="mouseout"||i==="pointerout",Ve&&d!==br&&(mt=d.relatedTarget||d.fromElement)&&(Ls(mt)||mt[fi]))break e;if((ot||Ve)&&(Ve=Ge.window===Ge?Ge:(Ve=Ge.ownerDocument)?Ve.defaultView||Ve.parentWindow:window,ot?(mt=d.relatedTarget||d.toElement,ot=Ie,mt=mt?Ls(mt):null,mt!==null&&(ti=Tn(mt),mt!==ti||mt.tag!==5&&mt.tag!==6)&&(mt=null)):(ot=null,mt=Ie),ot!==mt)){if(yt=qe,Xe="onMouseLeave",Le="onMouseEnter",ye="mouse",(i==="pointerout"||i==="pointerover")&&(yt=Ni,Xe="onPointerLeave",Le="onPointerEnter",ye="pointer"),ti=ot==null?Ve:ho(ot),Pe=mt==null?Ve:ho(mt),Ve=new yt(Xe,ye+"leave",ot,d,Ge),Ve.target=ti,Ve.relatedTarget=Pe,Xe=null,Ls(Ge)===Ie&&(yt=new yt(Le,ye+"enter",mt,d,Ge),yt.target=Pe,yt.relatedTarget=ti,Xe=yt),ti=Xe,ot&&mt)t:{for(yt=ot,Le=mt,ye=0,Pe=yt;Pe;Pe=co(Pe))ye++;for(Pe=0,Xe=Le;Xe;Xe=co(Xe))Pe++;for(;0<ye-Pe;)yt=co(yt),ye--;for(;0<Pe-ye;)Le=co(Le),Pe--;for(;ye--;){if(yt===Le||Le!==null&&yt===Le.alternate)break t;yt=co(yt),Le=co(Le)}yt=null}else yt=null;ot!==null&&Vc(Je,Ve,ot,yt,!1),mt!==null&&ti!==null&&Vc(Je,ti,mt,yt,!0)}}e:{if(Ve=Ie?ho(Ie):window,ot=Ve.nodeName&&Ve.nodeName.toLowerCase(),ot==="select"||ot==="input"&&Ve.type==="file")var _t=ns;else if(ka(Ve))if(Ca)_t=is;else{_t=Ui;var Rt=Gn}else(ot=Ve.nodeName)&&ot.toLowerCase()==="input"&&(Ve.type==="checkbox"||Ve.type==="radio")&&(_t=hi);if(_t&&(_t=_t(i,Ie))){Ns(Je,_t,d,Ge);break e}Rt&&Rt(i,Ve,Ie),i==="focusout"&&(Rt=Ve._wrapperState)&&Rt.controlled&&Ve.type==="number"&&He(Ve,"number",Ve.value)}switch(Rt=Ie?ho(Ie):window,i){case"focusin":(ka(Rt)||Rt.contentEditable==="true")&&(oa=Rt,Bl=Ie,Do=null);break;case"focusout":Do=Bl=oa=null;break;case"mousedown":Fo=!0;break;case"contextmenu":case"mouseup":case"dragend":Fo=!1,Wc(Je,d,Ge);break;case"selectionchange":if(Oo)break;case"keydown":case"keyup":Wc(Je,d,Ge)}var It;if(qn)e:{switch(i){case"compositionstart":var Kt="onCompositionStart";break e;case"compositionend":Kt="onCompositionEnd";break e;case"compositionupdate":Kt="onCompositionUpdate";break e}Kt=void 0}else Mi?Ro(i,d)&&(Kt="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(Kt="onCompositionStart");Kt&&(ia&&d.locale!=="ko"&&(Mi||Kt!=="onCompositionStart"?Kt==="onCompositionEnd"&&Mi&&(It=Wr()):(Bi=Ge,Qa="value"in Bi?Bi.value:Bi.textContent,Mi=!0)),Rt=Ml(Ie,Kt),0<Rt.length&&(Kt=new xn(Kt,i,null,d,Ge),Je.push({event:Kt,listeners:Rt}),It?Kt.data=It:(It=rs(d),It!==null&&(Kt.data=It)))),(It=To?aa(i,d):qi(i,d))&&(Ie=Ml(Ie,"onBeforeInput"),0<Ie.length&&(Ge=new xn("onBeforeInput","beforeinput",null,d,Ge),Je.push({event:Ge,listeners:Ie}),Ge.data=It))}hl(Je,l)})}function Uo(i,l,d){return{instance:i,listener:l,currentTarget:d}}function Ml(i,l){for(var d=l+"Capture",b=[];i!==null;){var _=i,N=_.stateNode;_.tag===5&&N!==null&&(_=N,N=Yr(i,d),N!=null&&b.unshift(Uo(i,N,_)),N=Yr(i,l),N!=null&&b.push(Uo(i,N,_))),i=i.return}return b}function co(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function Vc(i,l,d,b,_){for(var N=l._reactName,M=[];d!==null&&d!==b;){var oe=d,ge=oe.alternate,Ie=oe.stateNode;if(ge!==null&&ge===b)break;oe.tag===5&&Ie!==null&&(oe=Ie,_?(ge=Yr(d,N),ge!=null&&M.unshift(Uo(d,ge,oe))):_||(ge=Yr(d,N),ge!=null&&M.push(Uo(d,ge,oe)))),d=d.return}M.length!==0&&i.push({event:l,listeners:M})}var ql=/\r\n?/g,gd=/\u0000|\uFFFD/g;function bd(i){return(typeof i=="string"?i:""+i).replace(ql,`
`).replace(gd,"")}function Ul(i,l,d){if(l=bd(l),bd(i)!==l&&d)throw Error(r(425))}function ar(){}var uo=null,Es=null;function Gc(i,l){return i==="textarea"||i==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var pl=typeof setTimeout=="function"?setTimeout:void 0,ku=typeof clearTimeout=="function"?clearTimeout:void 0,$e=typeof Promise=="function"?Promise:void 0,At=typeof queueMicrotask=="function"?queueMicrotask:typeof $e<"u"?function(i){return $e.resolve(null).then(i).catch(Cu)}:pl;function Cu(i){setTimeout(function(){throw i})}function pc(i,l){var d=l,b=0;do{var _=d.nextSibling;if(i.removeChild(d),_&&_.nodeType===8)if(d=_.data,d==="/$"){if(b===0){i.removeChild(_),Xs(l);return}b--}else d!=="$"&&d!=="$?"&&d!=="$!"||b++;d=_}while(d);Xs(l)}function On(i){for(;i!=null;i=i.nextSibling){var l=i.nodeType;if(l===1||l===3)break;if(l===8){if(l=i.data,l==="$"||l==="$!"||l==="$?")break;if(l==="/$")return null}}return i}function Aa(i){i=i.previousSibling;for(var l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(l===0)return i;l--}else d==="/$"&&l++}i=i.previousSibling}return null}var zi=Math.random().toString(36).slice(2),os="__reactFiber$"+zi,zo="__reactProps$"+zi,fi="__reactContainer$"+zi,Jn="__reactEvents$"+zi,mc="__reactListeners$"+zi,xd="__reactHandles$"+zi;function Ls(i){var l=i[os];if(l)return l;for(var d=i.parentNode;d;){if(l=d[fi]||d[os]){if(d=l.alternate,l.child!==null||d!==null&&d.child!==null)for(i=Aa(i);i!==null;){if(d=i[os])return d;i=Aa(i)}return l}i=d,d=i.parentNode}return null}function ml(i){return i=i[os]||i[fi],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ho(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(r(33))}function zl(i){return i[zo]||null}var Kc=[],Ps=-1;function Ua(i){return{current:i}}function kr(i){0>Ps||(i.current=Kc[Ps],Kc[Ps]=null,Ps--)}function gr(i,l){Ps++,Kc[Ps]=i.current,i.current=l}var Ts={},Yn=Ua(Ts),Ai=Ua(!1),sn=Ts;function la(i,l){var d=i.type.contextTypes;if(!d)return Ts;var b=i.stateNode;if(b&&b.__reactInternalMemoizedUnmaskedChildContext===l)return b.__reactInternalMemoizedMaskedChildContext;var _={},N;for(N in d)_[N]=l[N];return b&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=l,i.__reactInternalMemoizedMaskedChildContext=_),_}function pi(i){return i=i.childContextTypes,i!=null}function gc(){kr(Ai),kr(Yn)}function Au(i,l,d){if(Yn.current!==Ts)throw Error(r(168));gr(Yn,l),gr(Ai,d)}function Eu(i,l,d){var b=i.stateNode;if(l=l.childContextTypes,typeof b.getChildContext!="function")return d;b=b.getChildContext();for(var _ in b)if(!(_ in l))throw Error(r(108,me(i)||"Unknown",_));return xe({},d,b)}function fo(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Ts,sn=Yn.current,gr(Yn,i),gr(Ai,Ai.current),!0}function gl(i,l,d){var b=i.stateNode;if(!b)throw Error(r(169));d?(i=Eu(i,l,sn),b.__reactInternalMemoizedMergedChildContext=i,kr(Ai),kr(Yn),gr(Yn,i)):kr(Ai),gr(Ai,d)}var Rs=null,ls=!1,Hl=!1;function p(i){Rs===null?Rs=[i]:Rs.push(i)}function v(i){ls=!0,p(i)}function S(){if(!Hl&&Rs!==null){Hl=!0;var i=0,l=cr;try{var d=Rs;for(cr=1;i<d.length;i++){var b=d[i];do b=b(!0);while(b!==null)}Rs=null,ls=!1}catch(_){throw Rs!==null&&(Rs=Rs.slice(i+1)),Vs(vs,S),_}finally{cr=l,Hl=!1}}return null}var A=[],I=0,q=null,U=0,V=[],G=0,ee=null,pe=1,Ce="";function te(i,l){A[I++]=U,A[I++]=q,q=i,U=l}function be(i,l,d){V[G++]=pe,V[G++]=Ce,V[G++]=ee,ee=i;var b=pe;i=Ce;var _=32-Zr(b)-1;b&=~(1<<_),d+=1;var N=32-Zr(l)+_;if(30<N){var M=_-_%5;N=(b&(1<<M)-1).toString(32),b>>=M,_-=M,pe=1<<32-Zr(l)+_|d<<_|b,Ce=N+i}else pe=1<<N|d<<_|b,Ce=i}function Ne(i){i.return!==null&&(te(i,1),be(i,1,0))}function De(i){for(;i===q;)q=A[--I],A[I]=null,U=A[--I],A[I]=null;for(;i===ee;)ee=V[--G],V[G]=null,Ce=V[--G],V[G]=null,pe=V[--G],V[G]=null}var ke=null,Oe=null,Re=!1,Ue=null;function ze(i,l){var d=go(5,null,null,0);d.elementType="DELETED",d.stateNode=l,d.return=i,l=i.deletions,l===null?(i.deletions=[d],i.flags|=16):l.push(d)}function xt(i,l){switch(i.tag){case 5:var d=i.type;return l=l.nodeType!==1||d.toLowerCase()!==l.nodeName.toLowerCase()?null:l,l!==null?(i.stateNode=l,ke=i,Oe=On(l.firstChild),!0):!1;case 6:return l=i.pendingProps===""||l.nodeType!==3?null:l,l!==null?(i.stateNode=l,ke=i,Oe=null,!0):!1;case 13:return l=l.nodeType!==8?null:l,l!==null?(d=ee!==null?{id:pe,overflow:Ce}:null,i.memoizedState={dehydrated:l,treeContext:d,retryLane:1073741824},d=go(18,null,null,0),d.stateNode=l,d.return=i,i.child=d,ke=i,Oe=null,!0):!1;default:return!1}}function Ze(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Gt(i){if(Re){var l=Oe;if(l){var d=l;if(!xt(i,l)){if(Ze(i))throw Error(r(418));l=On(d.nextSibling);var b=ke;l&&xt(i,l)?ze(b,d):(i.flags=i.flags&-4097|2,Re=!1,ke=i)}}else{if(Ze(i))throw Error(r(418));i.flags=i.flags&-4097|2,Re=!1,ke=i}}}function ut(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;ke=i}function ir(i){if(i!==ke)return!1;if(!Re)return ut(i),Re=!0,!1;var l;if((l=i.tag!==3)&&!(l=i.tag!==5)&&(l=i.type,l=l!=="head"&&l!=="body"&&!Gc(i.type,i.memoizedProps)),l&&(l=Oe)){if(Ze(i))throw Cn(),Error(r(418));for(;l;)ze(i,l),l=On(l.nextSibling)}if(ut(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,l=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(l===0){Oe=On(i.nextSibling);break e}l--}else d!=="$"&&d!=="$!"&&d!=="$?"||l++}i=i.nextSibling}Oe=null}}else Oe=ke?On(i.stateNode.nextSibling):null;return!0}function Cn(){for(var i=Oe;i;)i=On(i.nextSibling)}function $t(){Oe=ke=null,Re=!1}function lt(i){Ue===null?Ue=[i]:Ue.push(i)}var Qe=D.ReactCurrentBatchConfig;function Vr(i,l,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(r(309));var b=d.stateNode}if(!b)throw Error(r(147,i));var _=b,N=""+i;return l!==null&&l.ref!==null&&typeof l.ref=="function"&&l.ref._stringRef===N?l.ref:(l=function(M){var oe=_.refs;M===null?delete oe[N]:oe[N]=M},l._stringRef=N,l)}if(typeof i!="string")throw Error(r(284));if(!d._owner)throw Error(r(290,i))}return i}function Mt(i,l){throw i=Object.prototype.toString.call(l),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":i))}function er(i){var l=i._init;return l(i._payload)}function Ur(i){function l(Le,ye){if(i){var Pe=Le.deletions;Pe===null?(Le.deletions=[ye],Le.flags|=16):Pe.push(ye)}}function d(Le,ye){if(!i)return null;for(;ye!==null;)l(Le,ye),ye=ye.sibling;return null}function b(Le,ye){for(Le=new Map;ye!==null;)ye.key!==null?Le.set(ye.key,ye):Le.set(ye.index,ye),ye=ye.sibling;return Le}function _(Le,ye){return Le=Cc(Le,ye),Le.index=0,Le.sibling=null,Le}function N(Le,ye,Pe){return Le.index=Pe,i?(Pe=Le.alternate,Pe!==null?(Pe=Pe.index,Pe<ye?(Le.flags|=2,ye):Pe):(Le.flags|=2,ye)):(Le.flags|=1048576,ye)}function M(Le){return i&&Le.alternate===null&&(Le.flags|=2),Le}function oe(Le,ye,Pe,Xe){return ye===null||ye.tag!==6?(ye=sp(Pe,Le.mode,Xe),ye.return=Le,ye):(ye=_(ye,Pe),ye.return=Le,ye)}function ge(Le,ye,Pe,Xe){var _t=Pe.type;return _t===se?Ge(Le,ye,Pe.props.children,Xe,Pe.key):ye!==null&&(ye.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ae&&er(_t)===ye.type)?(Xe=_(ye,Pe.props),Xe.ref=Vr(Le,ye,Pe),Xe.return=Le,Xe):(Xe=Ph(Pe.type,Pe.key,Pe.props,null,Le.mode,Xe),Xe.ref=Vr(Le,ye,Pe),Xe.return=Le,Xe)}function Ie(Le,ye,Pe,Xe){return ye===null||ye.tag!==4||ye.stateNode.containerInfo!==Pe.containerInfo||ye.stateNode.implementation!==Pe.implementation?(ye=op(Pe,Le.mode,Xe),ye.return=Le,ye):(ye=_(ye,Pe.children||[]),ye.return=Le,ye)}function Ge(Le,ye,Pe,Xe,_t){return ye===null||ye.tag!==7?(ye=iu(Pe,Le.mode,Xe,_t),ye.return=Le,ye):(ye=_(ye,Pe),ye.return=Le,ye)}function Je(Le,ye,Pe){if(typeof ye=="string"&&ye!==""||typeof ye=="number")return ye=sp(""+ye,Le.mode,Pe),ye.return=Le,ye;if(typeof ye=="object"&&ye!==null){switch(ye.$$typeof){case z:return Pe=Ph(ye.type,ye.key,ye.props,null,Le.mode,Pe),Pe.ref=Vr(Le,null,ye),Pe.return=Le,Pe;case ie:return ye=op(ye,Le.mode,Pe),ye.return=Le,ye;case Ae:var Xe=ye._init;return Je(Le,Xe(ye._payload),Pe)}if(jt(ye)||he(ye))return ye=iu(ye,Le.mode,Pe,null),ye.return=Le,ye;Mt(Le,ye)}return null}function Ve(Le,ye,Pe,Xe){var _t=ye!==null?ye.key:null;if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number")return _t!==null?null:oe(Le,ye,""+Pe,Xe);if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case z:return Pe.key===_t?ge(Le,ye,Pe,Xe):null;case ie:return Pe.key===_t?Ie(Le,ye,Pe,Xe):null;case Ae:return _t=Pe._init,Ve(Le,ye,_t(Pe._payload),Xe)}if(jt(Pe)||he(Pe))return _t!==null?null:Ge(Le,ye,Pe,Xe,null);Mt(Le,Pe)}return null}function ot(Le,ye,Pe,Xe,_t){if(typeof Xe=="string"&&Xe!==""||typeof Xe=="number")return Le=Le.get(Pe)||null,oe(ye,Le,""+Xe,_t);if(typeof Xe=="object"&&Xe!==null){switch(Xe.$$typeof){case z:return Le=Le.get(Xe.key===null?Pe:Xe.key)||null,ge(ye,Le,Xe,_t);case ie:return Le=Le.get(Xe.key===null?Pe:Xe.key)||null,Ie(ye,Le,Xe,_t);case Ae:var Rt=Xe._init;return ot(Le,ye,Pe,Rt(Xe._payload),_t)}if(jt(Xe)||he(Xe))return Le=Le.get(Pe)||null,Ge(ye,Le,Xe,_t,null);Mt(ye,Xe)}return null}function mt(Le,ye,Pe,Xe){for(var _t=null,Rt=null,It=ye,Kt=ye=0,Vi=null;It!==null&&Kt<Pe.length;Kt++){It.index>Kt?(Vi=It,It=null):Vi=It.sibling;var Fr=Ve(Le,It,Pe[Kt],Xe);if(Fr===null){It===null&&(It=Vi);break}i&&It&&Fr.alternate===null&&l(Le,It),ye=N(Fr,ye,Kt),Rt===null?_t=Fr:Rt.sibling=Fr,Rt=Fr,It=Vi}if(Kt===Pe.length)return d(Le,It),Re&&te(Le,Kt),_t;if(It===null){for(;Kt<Pe.length;Kt++)It=Je(Le,Pe[Kt],Xe),It!==null&&(ye=N(It,ye,Kt),Rt===null?_t=It:Rt.sibling=It,Rt=It);return Re&&te(Le,Kt),_t}for(It=b(Le,It);Kt<Pe.length;Kt++)Vi=ot(It,Le,Kt,Pe[Kt],Xe),Vi!==null&&(i&&Vi.alternate!==null&&It.delete(Vi.key===null?Kt:Vi.key),ye=N(Vi,ye,Kt),Rt===null?_t=Vi:Rt.sibling=Vi,Rt=Vi);return i&&It.forEach(function(Ac){return l(Le,Ac)}),Re&&te(Le,Kt),_t}function yt(Le,ye,Pe,Xe){var _t=he(Pe);if(typeof _t!="function")throw Error(r(150));if(Pe=_t.call(Pe),Pe==null)throw Error(r(151));for(var Rt=_t=null,It=ye,Kt=ye=0,Vi=null,Fr=Pe.next();It!==null&&!Fr.done;Kt++,Fr=Pe.next()){It.index>Kt?(Vi=It,It=null):Vi=It.sibling;var Ac=Ve(Le,It,Fr.value,Xe);if(Ac===null){It===null&&(It=Vi);break}i&&It&&Ac.alternate===null&&l(Le,It),ye=N(Ac,ye,Kt),Rt===null?_t=Ac:Rt.sibling=Ac,Rt=Ac,It=Vi}if(Fr.done)return d(Le,It),Re&&te(Le,Kt),_t;if(It===null){for(;!Fr.done;Kt++,Fr=Pe.next())Fr=Je(Le,Fr.value,Xe),Fr!==null&&(ye=N(Fr,ye,Kt),Rt===null?_t=Fr:Rt.sibling=Fr,Rt=Fr);return Re&&te(Le,Kt),_t}for(It=b(Le,It);!Fr.done;Kt++,Fr=Pe.next())Fr=ot(It,Le,Kt,Fr.value,Xe),Fr!==null&&(i&&Fr.alternate!==null&&It.delete(Fr.key===null?Kt:Fr.key),ye=N(Fr,ye,Kt),Rt===null?_t=Fr:Rt.sibling=Fr,Rt=Fr);return i&&It.forEach(function(d2){return l(Le,d2)}),Re&&te(Le,Kt),_t}function ti(Le,ye,Pe,Xe){if(typeof Pe=="object"&&Pe!==null&&Pe.type===se&&Pe.key===null&&(Pe=Pe.props.children),typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case z:e:{for(var _t=Pe.key,Rt=ye;Rt!==null;){if(Rt.key===_t){if(_t=Pe.type,_t===se){if(Rt.tag===7){d(Le,Rt.sibling),ye=_(Rt,Pe.props.children),ye.return=Le,Le=ye;break e}}else if(Rt.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===Ae&&er(_t)===Rt.type){d(Le,Rt.sibling),ye=_(Rt,Pe.props),ye.ref=Vr(Le,Rt,Pe),ye.return=Le,Le=ye;break e}d(Le,Rt);break}else l(Le,Rt);Rt=Rt.sibling}Pe.type===se?(ye=iu(Pe.props.children,Le.mode,Xe,Pe.key),ye.return=Le,Le=ye):(Xe=Ph(Pe.type,Pe.key,Pe.props,null,Le.mode,Xe),Xe.ref=Vr(Le,ye,Pe),Xe.return=Le,Le=Xe)}return M(Le);case ie:e:{for(Rt=Pe.key;ye!==null;){if(ye.key===Rt)if(ye.tag===4&&ye.stateNode.containerInfo===Pe.containerInfo&&ye.stateNode.implementation===Pe.implementation){d(Le,ye.sibling),ye=_(ye,Pe.children||[]),ye.return=Le,Le=ye;break e}else{d(Le,ye);break}else l(Le,ye);ye=ye.sibling}ye=op(Pe,Le.mode,Xe),ye.return=Le,Le=ye}return M(Le);case Ae:return Rt=Pe._init,ti(Le,ye,Rt(Pe._payload),Xe)}if(jt(Pe))return mt(Le,ye,Pe,Xe);if(he(Pe))return yt(Le,ye,Pe,Xe);Mt(Le,Pe)}return typeof Pe=="string"&&Pe!==""||typeof Pe=="number"?(Pe=""+Pe,ye!==null&&ye.tag===6?(d(Le,ye.sibling),ye=_(ye,Pe),ye.return=Le,Le=ye):(d(Le,ye),ye=sp(Pe,Le.mode,Xe),ye.return=Le,Le=ye),M(Le)):d(Le,ye)}return ti}var dn=Ur(!0),mi=Ur(!1),tr=Ua(null),Dn=null,An=null,vn=null;function dr(){vn=An=Dn=null}function _r(i){var l=tr.current;kr(tr),i._currentValue=l}function Jr(i,l,d){for(;i!==null;){var b=i.alternate;if((i.childLanes&l)!==l?(i.childLanes|=l,b!==null&&(b.childLanes|=l)):b!==null&&(b.childLanes&l)!==l&&(b.childLanes|=l),i===d)break;i=i.return}}function pr(i,l){Dn=i,vn=An=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&l&&(hs=!0),i.firstContext=null)}function Ir(i){var l=i._currentValue;if(vn!==i)if(i={context:i,memoizedValue:l,next:null},An===null){if(Dn===null)throw Error(r(308));An=i,Dn.dependencies={lanes:0,firstContext:i}}else An=An.next=i;return l}var Xn=null;function Or(i){Xn===null?Xn=[i]:Xn.push(i)}function Ei(i,l,d,b){var _=l.interleaved;return _===null?(d.next=d,Or(l)):(d.next=_.next,_.next=d),l.interleaved=d,hr(i,b)}function hr(i,l){i.lanes|=l;var d=i.alternate;for(d!==null&&(d.lanes|=l),d=i,i=i.return;i!==null;)i.childLanes|=l,d=i.alternate,d!==null&&(d.childLanes|=l),d=i,i=i.return;return d.tag===3?d.stateNode:null}var zr=!1;function Li(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fn(i,l){i=i.updateQueue,l.updateQueue===i&&(l.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function yn(i,l){return{eventTime:i,lane:l,tag:0,payload:null,callback:null,next:null}}function En(i,l,d){var b=i.updateQueue;if(b===null)return null;if(b=b.shared,Pr&2){var _=b.pending;return _===null?l.next=l:(l.next=_.next,_.next=l),b.pending=l,hr(i,d)}return _=b.interleaved,_===null?(l.next=l,Or(b)):(l.next=_.next,_.next=l),b.interleaved=l,hr(i,d)}function Zn(i,l,d){if(l=l.updateQueue,l!==null&&(l=l.shared,(d&4194240)!==0)){var b=l.lanes;b&=i.pendingLanes,d|=b,l.lanes=d,So(i,d)}}function Cr(i,l){var d=i.updateQueue,b=i.alternate;if(b!==null&&(b=b.updateQueue,d===b)){var _=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var M={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};N===null?_=N=M:N=N.next=M,d=d.next}while(d!==null);N===null?_=N=l:N=N.next=l}else _=N=l;d={baseState:b.baseState,firstBaseUpdate:_,lastBaseUpdate:N,shared:b.shared,effects:b.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=l:i.next=l,d.lastBaseUpdate=l}function Lr(i,l,d,b){var _=i.updateQueue;zr=!1;var N=_.firstBaseUpdate,M=_.lastBaseUpdate,oe=_.shared.pending;if(oe!==null){_.shared.pending=null;var ge=oe,Ie=ge.next;ge.next=null,M===null?N=Ie:M.next=Ie,M=ge;var Ge=i.alternate;Ge!==null&&(Ge=Ge.updateQueue,oe=Ge.lastBaseUpdate,oe!==M&&(oe===null?Ge.firstBaseUpdate=Ie:oe.next=Ie,Ge.lastBaseUpdate=ge))}if(N!==null){var Je=_.baseState;M=0,Ge=Ie=ge=null,oe=N;do{var Ve=oe.lane,ot=oe.eventTime;if((b&Ve)===Ve){Ge!==null&&(Ge=Ge.next={eventTime:ot,lane:0,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null});e:{var mt=i,yt=oe;switch(Ve=l,ot=d,yt.tag){case 1:if(mt=yt.payload,typeof mt=="function"){Je=mt.call(ot,Je,Ve);break e}Je=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=yt.payload,Ve=typeof mt=="function"?mt.call(ot,Je,Ve):mt,Ve==null)break e;Je=xe({},Je,Ve);break e;case 2:zr=!0}}oe.callback!==null&&oe.lane!==0&&(i.flags|=64,Ve=_.effects,Ve===null?_.effects=[oe]:Ve.push(oe))}else ot={eventTime:ot,lane:Ve,tag:oe.tag,payload:oe.payload,callback:oe.callback,next:null},Ge===null?(Ie=Ge=ot,ge=Je):Ge=Ge.next=ot,M|=Ve;if(oe=oe.next,oe===null){if(oe=_.shared.pending,oe===null)break;Ve=oe,oe=Ve.next,Ve.next=null,_.lastBaseUpdate=Ve,_.shared.pending=null}}while(!0);if(Ge===null&&(ge=Je),_.baseState=ge,_.firstBaseUpdate=Ie,_.lastBaseUpdate=Ge,l=_.shared.interleaved,l!==null){_=l;do M|=_.lane,_=_.next;while(_!==l)}else N===null&&(_.shared.lanes=0);eu|=M,i.lanes=M,i.memoizedState=Je}}function Hi(i,l,d){if(i=l.effects,l.effects=null,i!==null)for(l=0;l<i.length;l++){var b=i[l],_=b.callback;if(_!==null){if(b.callback=null,b=d,typeof _!="function")throw Error(r(191,_));_.call(b)}}}var Pi={},gi=Ua(Pi),ca=Ua(Pi),wn=Ua(Pi);function cs(i){if(i===Pi)throw Error(r(174));return i}function Wl(i,l){switch(gr(wn,l),gr(ca,i),gr(gi,Pi),i=l.nodeType,i){case 9:case 11:l=(l=l.documentElement)?l.namespaceURI:nr(null,"");break;default:i=i===8?l.parentNode:l,l=i.namespaceURI||null,i=i.tagName,l=nr(l,i)}kr(gi),gr(gi,l)}function Is(){kr(gi),kr(ca),kr(wn)}function bl(i){cs(wn.current);var l=cs(gi.current),d=nr(l,i.type);l!==d&&(gr(ca,i),gr(gi,d))}function Jc(i){ca.current===i&&(kr(gi),kr(ca))}var on=Ua(0);function za(i){for(var l=i;l!==null;){if(l.tag===13){var d=l.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if(l.flags&128)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}var us=[];function Yc(){for(var i=0;i<us.length;i++)us[i]._workInProgressVersionPrimary=null;us.length=0}var bc=D.ReactCurrentDispatcher,Xc=D.ReactCurrentBatchConfig,ds=0,$r=null,Ln=null,_n=null,Ho=!1,Wo=!1,Os=0,Lu=0;function bi(){throw Error(r(321))}function xl(i,l){if(l===null)return!1;for(var d=0;d<l.length&&d<i.length;d++)if(!rn(i[d],l[d]))return!1;return!0}function xc(i,l,d,b,_,N){if(ds=N,$r=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,bc.current=i===null||i.memoizedState===null?mh:gh,i=d(b,_),Wo){N=0;do{if(Wo=!1,Os=0,25<=N)throw Error(r(301));N+=1,_n=Ln=null,l.updateQueue=null,bc.current=bh,i=d(b,_)}while(Wo)}if(bc.current=Qc,l=Ln!==null&&Ln.next!==null,ds=0,_n=Ln=$r=null,Ho=!1,l)throw Error(r(300));return i}function Vl(){var i=Os!==0;return Os=0,i}function Qn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _n===null?$r.memoizedState=_n=i:_n=_n.next=i,_n}function ua(){if(Ln===null){var i=$r.alternate;i=i!==null?i.memoizedState:null}else i=Ln.next;var l=_n===null?$r.memoizedState:_n.next;if(l!==null)_n=l,Ln=i;else{if(i===null)throw Error(r(310));Ln=i,i={memoizedState:Ln.memoizedState,baseState:Ln.baseState,baseQueue:Ln.baseQueue,queue:Ln.queue,next:null},_n===null?$r.memoizedState=_n=i:_n=_n.next=i}return _n}function vl(i,l){return typeof l=="function"?l(i):l}function yl(i){var l=ua(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var b=Ln,_=b.baseQueue,N=d.pending;if(N!==null){if(_!==null){var M=_.next;_.next=N.next,N.next=M}b.baseQueue=_=N,d.pending=null}if(_!==null){N=_.next,b=b.baseState;var oe=M=null,ge=null,Ie=N;do{var Ge=Ie.lane;if((ds&Ge)===Ge)ge!==null&&(ge=ge.next={lane:0,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),b=Ie.hasEagerState?Ie.eagerState:i(b,Ie.action);else{var Je={lane:Ge,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null};ge===null?(oe=ge=Je,M=b):ge=ge.next=Je,$r.lanes|=Ge,eu|=Ge}Ie=Ie.next}while(Ie!==null&&Ie!==N);ge===null?M=b:ge.next=oe,rn(b,l.memoizedState)||(hs=!0),l.memoizedState=b,l.baseState=M,l.baseQueue=ge,d.lastRenderedState=b}if(i=d.interleaved,i!==null){_=i;do N=_.lane,$r.lanes|=N,eu|=N,_=_.next;while(_!==i)}else _===null&&(d.lanes=0);return[l.memoizedState,d.dispatch]}function vc(i){var l=ua(),d=l.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var b=d.dispatch,_=d.pending,N=l.memoizedState;if(_!==null){d.pending=null;var M=_=_.next;do N=i(N,M.action),M=M.next;while(M!==_);rn(N,l.memoizedState)||(hs=!0),l.memoizedState=N,l.baseQueue===null&&(l.baseState=N),d.lastRenderedState=N}return[N,b]}function Vo(){}function Pu(i,l){var d=$r,b=ua(),_=l(),N=!rn(b.memoizedState,_);if(N&&(b.memoizedState=_,hs=!0),b=b.queue,Ot(yc.bind(null,d,b,i),[i]),b.getSnapshot!==l||N||_n!==null&&_n.memoizedState.tag&1){if(d.flags|=2048,$(9,Tu.bind(null,d,b,_,l),void 0,null),Wi===null)throw Error(r(349));ds&30||Zc(d,l,_)}return _}function Zc(i,l,d){i.flags|=16384,i={getSnapshot:l,value:d},l=$r.updateQueue,l===null?(l={lastEffect:null,stores:null},$r.updateQueue=l,l.stores=[i]):(d=l.stores,d===null?l.stores=[i]:d.push(i))}function Tu(i,l,d,b){l.value=d,l.getSnapshot=b,Ru(l)&&Go(i)}function yc(i,l,d){return d(function(){Ru(l)&&Go(i)})}function Ru(i){var l=i.getSnapshot;i=i.value;try{var d=l();return!rn(i,d)}catch{return!0}}function Go(i){var l=hr(i,1);l!==null&&Xo(l,i,1,-1)}function g(i){var l=Qn();return typeof i=="function"&&(i=i()),l.memoizedState=l.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vl,lastRenderedState:i},l.queue=i,i=i.dispatch=ph.bind(null,$r,i),[l.memoizedState,i]}function $(i,l,d,b){return i={tag:i,create:l,destroy:d,deps:b,next:null},l=$r.updateQueue,l===null?(l={lastEffect:null,stores:null},$r.updateQueue=l,l.lastEffect=i.next=i):(d=l.lastEffect,d===null?l.lastEffect=i.next=i:(b=d.next,d.next=i,i.next=b,l.lastEffect=i)),i}function je(){return ua().memoizedState}function Te(i,l,d,b){var _=Qn();$r.flags|=i,_.memoizedState=$(1|l,d,void 0,b===void 0?null:b)}function Ke(i,l,d,b){var _=ua();b=b===void 0?null:b;var N=void 0;if(Ln!==null){var M=Ln.memoizedState;if(N=M.destroy,b!==null&&xl(b,M.deps)){_.memoizedState=$(l,d,N,b);return}}$r.flags|=i,_.memoizedState=$(1|l,d,N,b)}function Lt(i,l){return Te(8390656,8,i,l)}function Ot(i,l){return Ke(2048,8,i,l)}function Xt(i,l){return Ke(4,2,i,l)}function Dr(i,l){return Ke(4,4,i,l)}function ei(i,l){if(typeof l=="function")return i=i(),l(i),function(){l(null)};if(l!=null)return i=i(),l.current=i,function(){l.current=null}}function da(i,l,d){return d=d!=null?d.concat([i]):null,Ke(4,4,ei.bind(null,l,i),d)}function po(){}function wl(i,l){var d=ua();l=l===void 0?null:l;var b=d.memoizedState;return b!==null&&l!==null&&xl(l,b[1])?b[0]:(d.memoizedState=[i,l],i)}function Ko(i,l){var d=ua();l=l===void 0?null:l;var b=d.memoizedState;return b!==null&&l!==null&&xl(l,b[1])?b[0]:(i=i(),d.memoizedState=[i,l],i)}function _l(i,l,d){return ds&21?(rn(d,l)||(d=Fl(),$r.lanes|=d,eu|=d,i.baseState=!0),l):(i.baseState&&(i.baseState=!1,hs=!0),i.memoizedState=d)}function wc(i,l){var d=cr;cr=d!==0&&4>d?d:4,i(!0);var b=Xc.transition;Xc.transition={};try{i(!1),l()}finally{cr=d,Xc.transition=b}}function jl(){return ua().memoizedState}function bm(i,l,d){var b=Nc(i);if(d={lane:b,action:d,hasEagerState:!1,eagerState:null,next:null},vd(i))yd(l,d);else if(d=Ei(i,l,d,b),d!==null){var _=Wa();Xo(d,i,b,_),wd(d,l,b)}}function ph(i,l,d){var b=Nc(i),_={lane:b,action:d,hasEagerState:!1,eagerState:null,next:null};if(vd(i))yd(l,_);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=l.lastRenderedReducer,N!==null))try{var M=l.lastRenderedState,oe=N(M,d);if(_.hasEagerState=!0,_.eagerState=oe,rn(oe,M)){var ge=l.interleaved;ge===null?(_.next=_,Or(l)):(_.next=ge.next,ge.next=_),l.interleaved=_;return}}catch{}finally{}d=Ei(i,l,_,b),d!==null&&(_=Wa(),Xo(d,i,b,_),wd(d,l,b))}}function vd(i){var l=i.alternate;return i===$r||l!==null&&l===$r}function yd(i,l){Wo=Ho=!0;var d=i.pending;d===null?l.next=l:(l.next=d.next,d.next=l),i.pending=l}function wd(i,l,d){if(d&4194240){var b=l.lanes;b&=i.pendingLanes,d|=b,l.lanes=d,So(i,d)}}var Qc={readContext:Ir,useCallback:bi,useContext:bi,useEffect:bi,useImperativeHandle:bi,useInsertionEffect:bi,useLayoutEffect:bi,useMemo:bi,useReducer:bi,useRef:bi,useState:bi,useDebugValue:bi,useDeferredValue:bi,useTransition:bi,useMutableSource:bi,useSyncExternalStore:bi,useId:bi,unstable_isNewReconciler:!1},mh={readContext:Ir,useCallback:function(i,l){return Qn().memoizedState=[i,l===void 0?null:l],i},useContext:Ir,useEffect:Lt,useImperativeHandle:function(i,l,d){return d=d!=null?d.concat([i]):null,Te(4194308,4,ei.bind(null,l,i),d)},useLayoutEffect:function(i,l){return Te(4194308,4,i,l)},useInsertionEffect:function(i,l){return Te(4,2,i,l)},useMemo:function(i,l){var d=Qn();return l=l===void 0?null:l,i=i(),d.memoizedState=[i,l],i},useReducer:function(i,l,d){var b=Qn();return l=d!==void 0?d(l):l,b.memoizedState=b.baseState=l,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:l},b.queue=i,i=i.dispatch=bm.bind(null,$r,i),[b.memoizedState,i]},useRef:function(i){var l=Qn();return i={current:i},l.memoizedState=i},useState:g,useDebugValue:po,useDeferredValue:function(i){return Qn().memoizedState=i},useTransition:function(){var i=g(!1),l=i[0];return i=wc.bind(null,i[1]),Qn().memoizedState=i,[l,i]},useMutableSource:function(){},useSyncExternalStore:function(i,l,d){var b=$r,_=Qn();if(Re){if(d===void 0)throw Error(r(407));d=d()}else{if(d=l(),Wi===null)throw Error(r(349));ds&30||Zc(b,l,d)}_.memoizedState=d;var N={value:d,getSnapshot:l};return _.queue=N,Lt(yc.bind(null,b,N,i),[i]),b.flags|=2048,$(9,Tu.bind(null,b,N,d,l),void 0,null),d},useId:function(){var i=Qn(),l=Wi.identifierPrefix;if(Re){var d=Ce,b=pe;d=(b&~(1<<32-Zr(b)-1)).toString(32)+d,l=":"+l+"R"+d,d=Os++,0<d&&(l+="H"+d.toString(32)),l+=":"}else d=Lu++,l=":"+l+"r"+d.toString(32)+":";return i.memoizedState=l},unstable_isNewReconciler:!1},gh={readContext:Ir,useCallback:wl,useContext:Ir,useEffect:Ot,useImperativeHandle:da,useInsertionEffect:Xt,useLayoutEffect:Dr,useMemo:Ko,useReducer:yl,useRef:je,useState:function(){return yl(vl)},useDebugValue:po,useDeferredValue:function(i){var l=ua();return _l(l,Ln.memoizedState,i)},useTransition:function(){var i=yl(vl)[0],l=ua().memoizedState;return[i,l]},useMutableSource:Vo,useSyncExternalStore:Pu,useId:jl,unstable_isNewReconciler:!1},bh={readContext:Ir,useCallback:wl,useContext:Ir,useEffect:Ot,useImperativeHandle:da,useInsertionEffect:Xt,useLayoutEffect:Dr,useMemo:Ko,useReducer:vc,useRef:je,useState:function(){return vc(vl)},useDebugValue:po,useDeferredValue:function(i){var l=ua();return Ln===null?l.memoizedState=i:_l(l,Ln.memoizedState,i)},useTransition:function(){var i=vc(vl)[0],l=ua().memoizedState;return[i,l]},useMutableSource:Vo,useSyncExternalStore:Pu,useId:jl,unstable_isNewReconciler:!1};function ha(i,l){if(i&&i.defaultProps){l=xe({},l),i=i.defaultProps;for(var d in i)l[d]===void 0&&(l[d]=i[d]);return l}return l}function Gl(i,l,d,b){l=i.memoizedState,d=d(b,l),d=d==null?l:xe({},l,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var _d={isMounted:function(i){return(i=i._reactInternals)?Tn(i)===i:!1},enqueueSetState:function(i,l,d){i=i._reactInternals;var b=Wa(),_=Nc(i),N=yn(b,_);N.payload=l,d!=null&&(N.callback=d),l=En(i,N,_),l!==null&&(Xo(l,i,_,b),Zn(l,i,_))},enqueueReplaceState:function(i,l,d){i=i._reactInternals;var b=Wa(),_=Nc(i),N=yn(b,_);N.tag=1,N.payload=l,d!=null&&(N.callback=d),l=En(i,N,_),l!==null&&(Xo(l,i,_,b),Zn(l,i,_))},enqueueForceUpdate:function(i,l){i=i._reactInternals;var d=Wa(),b=Nc(i),_=yn(d,b);_.tag=2,l!=null&&(_.callback=l),l=En(i,_,b),l!==null&&(Xo(l,i,b,d),Zn(l,i,b))}};function xh(i,l,d,b,_,N,M){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(b,N,M):l.prototype&&l.prototype.isPureReactComponent?!nn(d,b)||!nn(_,N):!0}function xm(i,l,d){var b=!1,_=Ts,N=l.contextType;return typeof N=="object"&&N!==null?N=Ir(N):(_=pi(l)?sn:Yn.current,b=l.contextTypes,N=(b=b!=null)?la(i,_):Ts),l=new l(d,N),i.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=_d,i.stateNode=l,l._reactInternals=i,b&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=_,i.__reactInternalMemoizedMaskedChildContext=N),l}function vm(i,l,d,b){i=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(d,b),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(d,b),l.state!==i&&_d.enqueueReplaceState(l,l.state,null)}function Of(i,l,d,b){var _=i.stateNode;_.props=d,_.state=i.memoizedState,_.refs={},Li(i);var N=l.contextType;typeof N=="object"&&N!==null?_.context=Ir(N):(N=pi(l)?sn:Yn.current,_.context=la(i,N)),_.state=i.memoizedState,N=l.getDerivedStateFromProps,typeof N=="function"&&(Gl(i,l,N,d),_.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(l=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),l!==_.state&&_d.enqueueReplaceState(_,_.state,null),Lr(i,d,_,b),_.state=i.memoizedState),typeof _.componentDidMount=="function"&&(i.flags|=4194308)}function Iu(i,l){try{var d="",b=l;do d+=ne(b),b=b.return;while(b);var _=d}catch(N){_=`
Error generating stack: `+N.message+`
`+N.stack}return{value:i,source:l,stack:_,digest:null}}function Df(i,l,d){return{value:i,source:null,stack:d??null,digest:l??null}}function Ff(i,l){try{console.error(l.value)}catch(d){setTimeout(function(){throw d})}}var qv=typeof WeakMap=="function"?WeakMap:Map;function ym(i,l,d){d=yn(-1,d),d.tag=3,d.payload={element:null};var b=l.value;return d.callback=function(){Nh||(Nh=!0,Zf=b),Ff(i,l)},d}function wm(i,l,d){d=yn(-1,d),d.tag=3;var b=i.type.getDerivedStateFromError;if(typeof b=="function"){var _=l.value;d.payload=function(){return b(_)},d.callback=function(){Ff(i,l)}}var N=i.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(d.callback=function(){Ff(i,l),typeof b!="function"&&(jc===null?jc=new Set([this]):jc.add(this));var M=l.stack;this.componentDidCatch(l.value,{componentStack:M!==null?M:""})}),d}function _m(i,l,d){var b=i.pingCache;if(b===null){b=i.pingCache=new qv;var _=new Set;b.set(l,_)}else _=b.get(l),_===void 0&&(_=new Set,b.set(l,_));_.has(d)||(_.add(d),i=t2.bind(null,i,l,d),l.then(i,i))}function jm(i){do{var l;if((l=i.tag===13)&&(l=i.memoizedState,l=l!==null?l.dehydrated!==null:!0),l)return i;i=i.return}while(i!==null);return null}function Sm(i,l,d,b,_){return i.mode&1?(i.flags|=65536,i.lanes=_,i):(i===l?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(l=yn(-1,1),l.tag=2,En(d,l,1))),d.lanes|=1),i)}var Uv=D.ReactCurrentOwner,hs=!1;function Ha(i,l,d,b){l.child=i===null?mi(l,null,d,b):dn(l,i.child,d,b)}function Nm(i,l,d,b,_){d=d.render;var N=l.ref;return pr(l,_),b=xc(i,l,d,b,N,_),d=Vl(),i!==null&&!hs?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~_,Kl(i,l,_)):(Re&&d&&Ne(l),l.flags|=1,Ha(i,l,b,_),l.child)}function km(i,l,d,b,_){if(i===null){var N=d.type;return typeof N=="function"&&!ap(N)&&N.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(l.tag=15,l.type=N,Cm(i,l,N,b,_)):(i=Ph(d.type,null,b,l,l.mode,_),i.ref=l.ref,i.return=l,l.child=i)}if(N=i.child,!(i.lanes&_)){var M=N.memoizedProps;if(d=d.compare,d=d!==null?d:nn,d(M,b)&&i.ref===l.ref)return Kl(i,l,_)}return l.flags|=1,i=Cc(N,b),i.ref=l.ref,i.return=l,l.child=i}function Cm(i,l,d,b,_){if(i!==null){var N=i.memoizedProps;if(nn(N,b)&&i.ref===l.ref)if(hs=!1,l.pendingProps=b=N,(i.lanes&_)!==0)i.flags&131072&&(hs=!0);else return l.lanes=i.lanes,Kl(i,l,_)}return Bf(i,l,d,b,_)}function Am(i,l,d){var b=l.pendingProps,_=b.children,N=i!==null?i.memoizedState:null;if(b.mode==="hidden")if(!(l.mode&1))l.memoizedState={baseLanes:0,cachePool:null,transitions:null},gr(Du,Ds),Ds|=d;else{if(!(d&1073741824))return i=N!==null?N.baseLanes|d:d,l.lanes=l.childLanes=1073741824,l.memoizedState={baseLanes:i,cachePool:null,transitions:null},l.updateQueue=null,gr(Du,Ds),Ds|=i,null;l.memoizedState={baseLanes:0,cachePool:null,transitions:null},b=N!==null?N.baseLanes:d,gr(Du,Ds),Ds|=b}else N!==null?(b=N.baseLanes|d,l.memoizedState=null):b=d,gr(Du,Ds),Ds|=b;return Ha(i,l,_,d),l.child}function Em(i,l){var d=l.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(l.flags|=512,l.flags|=2097152)}function Bf(i,l,d,b,_){var N=pi(d)?sn:Yn.current;return N=la(l,N),pr(l,_),d=xc(i,l,d,b,N,_),b=Vl(),i!==null&&!hs?(l.updateQueue=i.updateQueue,l.flags&=-2053,i.lanes&=~_,Kl(i,l,_)):(Re&&b&&Ne(l),l.flags|=1,Ha(i,l,d,_),l.child)}function Lm(i,l,d,b,_){if(pi(d)){var N=!0;fo(l)}else N=!1;if(pr(l,_),l.stateNode===null)yh(i,l),xm(l,d,b),Of(l,d,b,_),b=!0;else if(i===null){var M=l.stateNode,oe=l.memoizedProps;M.props=oe;var ge=M.context,Ie=d.contextType;typeof Ie=="object"&&Ie!==null?Ie=Ir(Ie):(Ie=pi(d)?sn:Yn.current,Ie=la(l,Ie));var Ge=d.getDerivedStateFromProps,Je=typeof Ge=="function"||typeof M.getSnapshotBeforeUpdate=="function";Je||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(oe!==b||ge!==Ie)&&vm(l,M,b,Ie),zr=!1;var Ve=l.memoizedState;M.state=Ve,Lr(l,b,M,_),ge=l.memoizedState,oe!==b||Ve!==ge||Ai.current||zr?(typeof Ge=="function"&&(Gl(l,d,Ge,b),ge=l.memoizedState),(oe=zr||xh(l,d,oe,b,Ve,ge,Ie))?(Je||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(l.flags|=4194308)):(typeof M.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=b,l.memoizedState=ge),M.props=b,M.state=ge,M.context=Ie,b=oe):(typeof M.componentDidMount=="function"&&(l.flags|=4194308),b=!1)}else{M=l.stateNode,Fn(i,l),oe=l.memoizedProps,Ie=l.type===l.elementType?oe:ha(l.type,oe),M.props=Ie,Je=l.pendingProps,Ve=M.context,ge=d.contextType,typeof ge=="object"&&ge!==null?ge=Ir(ge):(ge=pi(d)?sn:Yn.current,ge=la(l,ge));var ot=d.getDerivedStateFromProps;(Ge=typeof ot=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(oe!==Je||Ve!==ge)&&vm(l,M,b,ge),zr=!1,Ve=l.memoizedState,M.state=Ve,Lr(l,b,M,_);var mt=l.memoizedState;oe!==Je||Ve!==mt||Ai.current||zr?(typeof ot=="function"&&(Gl(l,d,ot,b),mt=l.memoizedState),(Ie=zr||xh(l,d,Ie,b,Ve,mt,ge)||!1)?(Ge||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(b,mt,ge),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(b,mt,ge)),typeof M.componentDidUpdate=="function"&&(l.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof M.componentDidUpdate!="function"||oe===i.memoizedProps&&Ve===i.memoizedState||(l.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||oe===i.memoizedProps&&Ve===i.memoizedState||(l.flags|=1024),l.memoizedProps=b,l.memoizedState=mt),M.props=b,M.state=mt,M.context=ge,b=Ie):(typeof M.componentDidUpdate!="function"||oe===i.memoizedProps&&Ve===i.memoizedState||(l.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||oe===i.memoizedProps&&Ve===i.memoizedState||(l.flags|=1024),b=!1)}return $f(i,l,d,b,N,_)}function $f(i,l,d,b,_,N){Em(i,l);var M=(l.flags&128)!==0;if(!b&&!M)return _&&gl(l,d,!1),Kl(i,l,N);b=l.stateNode,Uv.current=l;var oe=M&&typeof d.getDerivedStateFromError!="function"?null:b.render();return l.flags|=1,i!==null&&M?(l.child=dn(l,i.child,null,N),l.child=dn(l,null,oe,N)):Ha(i,l,oe,N),l.memoizedState=b.state,_&&gl(l,d,!0),l.child}function Pm(i){var l=i.stateNode;l.pendingContext?Au(i,l.pendingContext,l.pendingContext!==l.context):l.context&&Au(i,l.context,!1),Wl(i,l.containerInfo)}function Tm(i,l,d,b,_){return $t(),lt(_),l.flags|=256,Ha(i,l,d,b),l.child}var Mf={dehydrated:null,treeContext:null,retryLane:0};function qf(i){return{baseLanes:i,cachePool:null,transitions:null}}function Rm(i,l,d){var b=l.pendingProps,_=on.current,N=!1,M=(l.flags&128)!==0,oe;if((oe=M)||(oe=i!==null&&i.memoizedState===null?!1:(_&2)!==0),oe?(N=!0,l.flags&=-129):(i===null||i.memoizedState!==null)&&(_|=1),gr(on,_&1),i===null)return Gt(l),i=l.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(l.mode&1?i.data==="$!"?l.lanes=8:l.lanes=1073741824:l.lanes=1,null):(M=b.children,i=b.fallback,N?(b=l.mode,N=l.child,M={mode:"hidden",children:M},!(b&1)&&N!==null?(N.childLanes=0,N.pendingProps=M):N=Th(M,b,0,null),i=iu(i,b,d,null),N.return=l,i.return=l,N.sibling=i,l.child=N,l.child.memoizedState=qf(d),l.memoizedState=Mf,i):Uf(l,M));if(_=i.memoizedState,_!==null&&(oe=_.dehydrated,oe!==null))return zv(i,l,M,b,oe,_,d);if(N){N=b.fallback,M=l.mode,_=i.child,oe=_.sibling;var ge={mode:"hidden",children:b.children};return!(M&1)&&l.child!==_?(b=l.child,b.childLanes=0,b.pendingProps=ge,l.deletions=null):(b=Cc(_,ge),b.subtreeFlags=_.subtreeFlags&14680064),oe!==null?N=Cc(oe,N):(N=iu(N,M,d,null),N.flags|=2),N.return=l,b.return=l,b.sibling=N,l.child=b,b=N,N=l.child,M=i.child.memoizedState,M=M===null?qf(d):{baseLanes:M.baseLanes|d,cachePool:null,transitions:M.transitions},N.memoizedState=M,N.childLanes=i.childLanes&~d,l.memoizedState=Mf,b}return N=i.child,i=N.sibling,b=Cc(N,{mode:"visible",children:b.children}),!(l.mode&1)&&(b.lanes=d),b.return=l,b.sibling=null,i!==null&&(d=l.deletions,d===null?(l.deletions=[i],l.flags|=16):d.push(i)),l.child=b,l.memoizedState=null,b}function Uf(i,l){return l=Th({mode:"visible",children:l},i.mode,0,null),l.return=i,i.child=l}function vh(i,l,d,b){return b!==null&&lt(b),dn(l,i.child,null,d),i=Uf(l,l.pendingProps.children),i.flags|=2,l.memoizedState=null,i}function zv(i,l,d,b,_,N,M){if(d)return l.flags&256?(l.flags&=-257,b=Df(Error(r(422))),vh(i,l,M,b)):l.memoizedState!==null?(l.child=i.child,l.flags|=128,null):(N=b.fallback,_=l.mode,b=Th({mode:"visible",children:b.children},_,0,null),N=iu(N,_,M,null),N.flags|=2,b.return=l,N.return=l,b.sibling=N,l.child=b,l.mode&1&&dn(l,i.child,null,M),l.child.memoizedState=qf(M),l.memoizedState=Mf,N);if(!(l.mode&1))return vh(i,l,M,null);if(_.data==="$!"){if(b=_.nextSibling&&_.nextSibling.dataset,b)var oe=b.dgst;return b=oe,N=Error(r(419)),b=Df(N,b,void 0),vh(i,l,M,b)}if(oe=(M&i.childLanes)!==0,hs||oe){if(b=Wi,b!==null){switch(M&-M){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=_&(b.suspendedLanes|M)?0:_,_!==0&&_!==N.retryLane&&(N.retryLane=_,hr(i,_),Xo(b,i,_,-1))}return ip(),b=Df(Error(r(421))),vh(i,l,M,b)}return _.data==="$?"?(l.flags|=128,l.child=i.child,l=r2.bind(null,i),_._reactRetry=l,null):(i=N.treeContext,Oe=On(_.nextSibling),ke=l,Re=!0,Ue=null,i!==null&&(V[G++]=pe,V[G++]=Ce,V[G++]=ee,pe=i.id,Ce=i.overflow,ee=l),l=Uf(l,b.children),l.flags|=4096,l)}function Im(i,l,d){i.lanes|=l;var b=i.alternate;b!==null&&(b.lanes|=l),Jr(i.return,l,d)}function zf(i,l,d,b,_){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:b,tail:d,tailMode:_}:(N.isBackwards=l,N.rendering=null,N.renderingStartTime=0,N.last=b,N.tail=d,N.tailMode=_)}function Om(i,l,d){var b=l.pendingProps,_=b.revealOrder,N=b.tail;if(Ha(i,l,b.children,d),b=on.current,b&2)b=b&1|2,l.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=l.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Im(i,d,l);else if(i.tag===19)Im(i,d,l);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===l)break e;for(;i.sibling===null;){if(i.return===null||i.return===l)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}b&=1}if(gr(on,b),!(l.mode&1))l.memoizedState=null;else switch(_){case"forwards":for(d=l.child,_=null;d!==null;)i=d.alternate,i!==null&&za(i)===null&&(_=d),d=d.sibling;d=_,d===null?(_=l.child,l.child=null):(_=d.sibling,d.sibling=null),zf(l,!1,_,d,N);break;case"backwards":for(d=null,_=l.child,l.child=null;_!==null;){if(i=_.alternate,i!==null&&za(i)===null){l.child=_;break}i=_.sibling,_.sibling=d,d=_,_=i}zf(l,!0,d,null,N);break;case"together":zf(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function yh(i,l){!(l.mode&1)&&i!==null&&(i.alternate=null,l.alternate=null,l.flags|=2)}function Kl(i,l,d){if(i!==null&&(l.dependencies=i.dependencies),eu|=l.lanes,!(d&l.childLanes))return null;if(i!==null&&l.child!==i.child)throw Error(r(153));if(l.child!==null){for(i=l.child,d=Cc(i,i.pendingProps),l.child=d,d.return=l;i.sibling!==null;)i=i.sibling,d=d.sibling=Cc(i,i.pendingProps),d.return=l;d.sibling=null}return l.child}function Hv(i,l,d){switch(l.tag){case 3:Pm(l),$t();break;case 5:bl(l);break;case 1:pi(l.type)&&fo(l);break;case 4:Wl(l,l.stateNode.containerInfo);break;case 10:var b=l.type._context,_=l.memoizedProps.value;gr(tr,b._currentValue),b._currentValue=_;break;case 13:if(b=l.memoizedState,b!==null)return b.dehydrated!==null?(gr(on,on.current&1),l.flags|=128,null):d&l.child.childLanes?Rm(i,l,d):(gr(on,on.current&1),i=Kl(i,l,d),i!==null?i.sibling:null);gr(on,on.current&1);break;case 19:if(b=(d&l.childLanes)!==0,i.flags&128){if(b)return Om(i,l,d);l.flags|=128}if(_=l.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),gr(on,on.current),b)break;return null;case 22:case 23:return l.lanes=0,Am(i,l,d)}return Kl(i,l,d)}var Dm,Hf,Fm,Bm;Dm=function(i,l){for(var d=l.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===l)break;for(;d.sibling===null;){if(d.return===null||d.return===l)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Hf=function(){},Fm=function(i,l,d,b){var _=i.memoizedProps;if(_!==b){i=l.stateNode,cs(gi.current);var N=null;switch(d){case"input":_=vt(i,_),b=vt(i,b),N=[];break;case"select":_=xe({},_,{value:void 0}),b=xe({},b,{value:void 0}),N=[];break;case"textarea":_=at(i,_),b=at(i,b),N=[];break;default:typeof _.onClick!="function"&&typeof b.onClick=="function"&&(i.onclick=ar)}qr(d,b);var M;d=null;for(Ie in _)if(!b.hasOwnProperty(Ie)&&_.hasOwnProperty(Ie)&&_[Ie]!=null)if(Ie==="style"){var oe=_[Ie];for(M in oe)oe.hasOwnProperty(M)&&(d||(d={}),d[M]="")}else Ie!=="dangerouslySetInnerHTML"&&Ie!=="children"&&Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&Ie!=="autoFocus"&&(a.hasOwnProperty(Ie)?N||(N=[]):(N=N||[]).push(Ie,null));for(Ie in b){var ge=b[Ie];if(oe=_!=null?_[Ie]:void 0,b.hasOwnProperty(Ie)&&ge!==oe&&(ge!=null||oe!=null))if(Ie==="style")if(oe){for(M in oe)!oe.hasOwnProperty(M)||ge&&ge.hasOwnProperty(M)||(d||(d={}),d[M]="");for(M in ge)ge.hasOwnProperty(M)&&oe[M]!==ge[M]&&(d||(d={}),d[M]=ge[M])}else d||(N||(N=[]),N.push(Ie,d)),d=ge;else Ie==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,oe=oe?oe.__html:void 0,ge!=null&&oe!==ge&&(N=N||[]).push(Ie,ge)):Ie==="children"?typeof ge!="string"&&typeof ge!="number"||(N=N||[]).push(Ie,""+ge):Ie!=="suppressContentEditableWarning"&&Ie!=="suppressHydrationWarning"&&(a.hasOwnProperty(Ie)?(ge!=null&&Ie==="onScroll"&&Vt("scroll",i),N||oe===ge||(N=[])):(N=N||[]).push(Ie,ge))}d&&(N=N||[]).push("style",d);var Ie=N;(l.updateQueue=Ie)&&(l.flags|=4)}},Bm=function(i,l,d,b){d!==b&&(l.flags|=4)};function jd(i,l){if(!Re)switch(i.tailMode){case"hidden":l=i.tail;for(var d=null;l!==null;)l.alternate!==null&&(d=l),l=l.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var b=null;d!==null;)d.alternate!==null&&(b=d),d=d.sibling;b===null?l||i.tail===null?i.tail=null:i.tail.sibling=null:b.sibling=null}}function Ea(i){var l=i.alternate!==null&&i.alternate.child===i.child,d=0,b=0;if(l)for(var _=i.child;_!==null;)d|=_.lanes|_.childLanes,b|=_.subtreeFlags&14680064,b|=_.flags&14680064,_.return=i,_=_.sibling;else for(_=i.child;_!==null;)d|=_.lanes|_.childLanes,b|=_.subtreeFlags,b|=_.flags,_.return=i,_=_.sibling;return i.subtreeFlags|=b,i.childLanes=d,l}function Wv(i,l,d){var b=l.pendingProps;switch(De(l),l.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ea(l),null;case 1:return pi(l.type)&&gc(),Ea(l),null;case 3:return b=l.stateNode,Is(),kr(Ai),kr(Yn),Yc(),b.pendingContext&&(b.context=b.pendingContext,b.pendingContext=null),(i===null||i.child===null)&&(ir(l)?l.flags|=4:i===null||i.memoizedState.isDehydrated&&!(l.flags&256)||(l.flags|=1024,Ue!==null&&(tp(Ue),Ue=null))),Hf(i,l),Ea(l),null;case 5:Jc(l);var _=cs(wn.current);if(d=l.type,i!==null&&l.stateNode!=null)Fm(i,l,d,b,_),i.ref!==l.ref&&(l.flags|=512,l.flags|=2097152);else{if(!b){if(l.stateNode===null)throw Error(r(166));return Ea(l),null}if(i=cs(gi.current),ir(l)){b=l.stateNode,d=l.type;var N=l.memoizedProps;switch(b[os]=l,b[zo]=N,i=(l.mode&1)!==0,d){case"dialog":Vt("cancel",b),Vt("close",b);break;case"iframe":case"object":case"embed":Vt("load",b);break;case"video":case"audio":for(_=0;_<as.length;_++)Vt(as[_],b);break;case"source":Vt("error",b);break;case"img":case"image":case"link":Vt("error",b),Vt("load",b);break;case"details":Vt("toggle",b);break;case"input":Z(b,N),Vt("invalid",b);break;case"select":b._wrapperState={wasMultiple:!!N.multiple},Vt("invalid",b);break;case"textarea":wt(b,N),Vt("invalid",b)}qr(d,N),_=null;for(var M in N)if(N.hasOwnProperty(M)){var oe=N[M];M==="children"?typeof oe=="string"?b.textContent!==oe&&(N.suppressHydrationWarning!==!0&&Ul(b.textContent,oe,i),_=["children",oe]):typeof oe=="number"&&b.textContent!==""+oe&&(N.suppressHydrationWarning!==!0&&Ul(b.textContent,oe,i),_=["children",""+oe]):a.hasOwnProperty(M)&&oe!=null&&M==="onScroll"&&Vt("scroll",b)}switch(d){case"input":We(b),pt(b,N,!0);break;case"textarea":We(b),Ht(b);break;case"select":case"option":break;default:typeof N.onClick=="function"&&(b.onclick=ar)}b=_,l.updateQueue=b,b!==null&&(l.flags|=4)}else{M=_.nodeType===9?_:_.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Pt(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=M.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof b.is=="string"?i=M.createElement(d,{is:b.is}):(i=M.createElement(d),d==="select"&&(M=i,b.multiple?M.multiple=!0:b.size&&(M.size=b.size))):i=M.createElementNS(i,d),i[os]=l,i[zo]=b,Dm(i,l,!1,!1),l.stateNode=i;e:{switch(M=ct(d,b),d){case"dialog":Vt("cancel",i),Vt("close",i),_=b;break;case"iframe":case"object":case"embed":Vt("load",i),_=b;break;case"video":case"audio":for(_=0;_<as.length;_++)Vt(as[_],i);_=b;break;case"source":Vt("error",i),_=b;break;case"img":case"image":case"link":Vt("error",i),Vt("load",i),_=b;break;case"details":Vt("toggle",i),_=b;break;case"input":Z(i,b),_=vt(i,b),Vt("invalid",i);break;case"option":_=b;break;case"select":i._wrapperState={wasMultiple:!!b.multiple},_=xe({},b,{value:void 0}),Vt("invalid",i);break;case"textarea":wt(i,b),_=at(i,b),Vt("invalid",i);break;default:_=b}qr(d,_),oe=_;for(N in oe)if(oe.hasOwnProperty(N)){var ge=oe[N];N==="style"?Yt(i,ge):N==="dangerouslySetInnerHTML"?(ge=ge?ge.__html:void 0,ge!=null&&ht(i,ge)):N==="children"?typeof ge=="string"?(d!=="textarea"||ge!=="")&&Ft(i,ge):typeof ge=="number"&&Ft(i,""+ge):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(a.hasOwnProperty(N)?ge!=null&&N==="onScroll"&&Vt("scroll",i):ge!=null&&T(i,N,ge,M))}switch(d){case"input":We(i),pt(i,b,!1);break;case"textarea":We(i),Ht(i);break;case"option":b.value!=null&&i.setAttribute("value",""+Se(b.value));break;case"select":i.multiple=!!b.multiple,N=b.value,N!=null?Me(i,!!b.multiple,N,!1):b.defaultValue!=null&&Me(i,!!b.multiple,b.defaultValue,!0);break;default:typeof _.onClick=="function"&&(i.onclick=ar)}switch(d){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}}b&&(l.flags|=4)}l.ref!==null&&(l.flags|=512,l.flags|=2097152)}return Ea(l),null;case 6:if(i&&l.stateNode!=null)Bm(i,l,i.memoizedProps,b);else{if(typeof b!="string"&&l.stateNode===null)throw Error(r(166));if(d=cs(wn.current),cs(gi.current),ir(l)){if(b=l.stateNode,d=l.memoizedProps,b[os]=l,(N=b.nodeValue!==d)&&(i=ke,i!==null))switch(i.tag){case 3:Ul(b.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Ul(b.nodeValue,d,(i.mode&1)!==0)}N&&(l.flags|=4)}else b=(d.nodeType===9?d:d.ownerDocument).createTextNode(b),b[os]=l,l.stateNode=b}return Ea(l),null;case 13:if(kr(on),b=l.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Re&&Oe!==null&&l.mode&1&&!(l.flags&128))Cn(),$t(),l.flags|=98560,N=!1;else if(N=ir(l),b!==null&&b.dehydrated!==null){if(i===null){if(!N)throw Error(r(318));if(N=l.memoizedState,N=N!==null?N.dehydrated:null,!N)throw Error(r(317));N[os]=l}else $t(),!(l.flags&128)&&(l.memoizedState=null),l.flags|=4;Ea(l),N=!1}else Ue!==null&&(tp(Ue),Ue=null),N=!0;if(!N)return l.flags&65536?l:null}return l.flags&128?(l.lanes=d,l):(b=b!==null,b!==(i!==null&&i.memoizedState!==null)&&b&&(l.child.flags|=8192,l.mode&1&&(i===null||on.current&1?Ti===0&&(Ti=3):ip())),l.updateQueue!==null&&(l.flags|=4),Ea(l),null);case 4:return Is(),Hf(i,l),i===null&&ss(l.stateNode.containerInfo),Ea(l),null;case 10:return _r(l.type._context),Ea(l),null;case 17:return pi(l.type)&&gc(),Ea(l),null;case 19:if(kr(on),N=l.memoizedState,N===null)return Ea(l),null;if(b=(l.flags&128)!==0,M=N.rendering,M===null)if(b)jd(N,!1);else{if(Ti!==0||i!==null&&i.flags&128)for(i=l.child;i!==null;){if(M=za(i),M!==null){for(l.flags|=128,jd(N,!1),b=M.updateQueue,b!==null&&(l.updateQueue=b,l.flags|=4),l.subtreeFlags=0,b=d,d=l.child;d!==null;)N=d,i=b,N.flags&=14680066,M=N.alternate,M===null?(N.childLanes=0,N.lanes=i,N.child=null,N.subtreeFlags=0,N.memoizedProps=null,N.memoizedState=null,N.updateQueue=null,N.dependencies=null,N.stateNode=null):(N.childLanes=M.childLanes,N.lanes=M.lanes,N.child=M.child,N.subtreeFlags=0,N.deletions=null,N.memoizedProps=M.memoizedProps,N.memoizedState=M.memoizedState,N.updateQueue=M.updateQueue,N.type=M.type,i=M.dependencies,N.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return gr(on,on.current&1|2),l.child}i=i.sibling}N.tail!==null&&Br()>Fu&&(l.flags|=128,b=!0,jd(N,!1),l.lanes=4194304)}else{if(!b)if(i=za(M),i!==null){if(l.flags|=128,b=!0,d=i.updateQueue,d!==null&&(l.updateQueue=d,l.flags|=4),jd(N,!0),N.tail===null&&N.tailMode==="hidden"&&!M.alternate&&!Re)return Ea(l),null}else 2*Br()-N.renderingStartTime>Fu&&d!==1073741824&&(l.flags|=128,b=!0,jd(N,!1),l.lanes=4194304);N.isBackwards?(M.sibling=l.child,l.child=M):(d=N.last,d!==null?d.sibling=M:l.child=M,N.last=M)}return N.tail!==null?(l=N.tail,N.rendering=l,N.tail=l.sibling,N.renderingStartTime=Br(),l.sibling=null,d=on.current,gr(on,b?d&1|2:d&1),l):(Ea(l),null);case 22:case 23:return np(),b=l.memoizedState!==null,i!==null&&i.memoizedState!==null!==b&&(l.flags|=8192),b&&l.mode&1?Ds&1073741824&&(Ea(l),l.subtreeFlags&6&&(l.flags|=8192)):Ea(l),null;case 24:return null;case 25:return null}throw Error(r(156,l.tag))}function Vv(i,l){switch(De(l),l.tag){case 1:return pi(l.type)&&gc(),i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 3:return Is(),kr(Ai),kr(Yn),Yc(),i=l.flags,i&65536&&!(i&128)?(l.flags=i&-65537|128,l):null;case 5:return Jc(l),null;case 13:if(kr(on),i=l.memoizedState,i!==null&&i.dehydrated!==null){if(l.alternate===null)throw Error(r(340));$t()}return i=l.flags,i&65536?(l.flags=i&-65537|128,l):null;case 19:return kr(on),null;case 4:return Is(),null;case 10:return _r(l.type._context),null;case 22:case 23:return np(),null;case 24:return null;default:return null}}var wh=!1,La=!1,Gv=typeof WeakSet=="function"?WeakSet:Set,dt=null;function Ou(i,l){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(b){Un(i,l,b)}else d.current=null}function Wf(i,l,d){try{d()}catch(b){Un(i,l,b)}}var $m=!1;function Kv(i,l){if(uo=ci,i=an(),kn(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var b=d.getSelection&&d.getSelection();if(b&&b.rangeCount!==0){d=b.anchorNode;var _=b.anchorOffset,N=b.focusNode;b=b.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var M=0,oe=-1,ge=-1,Ie=0,Ge=0,Je=i,Ve=null;t:for(;;){for(var ot;Je!==d||_!==0&&Je.nodeType!==3||(oe=M+_),Je!==N||b!==0&&Je.nodeType!==3||(ge=M+b),Je.nodeType===3&&(M+=Je.nodeValue.length),(ot=Je.firstChild)!==null;)Ve=Je,Je=ot;for(;;){if(Je===i)break t;if(Ve===d&&++Ie===_&&(oe=M),Ve===N&&++Ge===b&&(ge=M),(ot=Je.nextSibling)!==null)break;Je=Ve,Ve=Je.parentNode}Je=ot}d=oe===-1||ge===-1?null:{start:oe,end:ge}}else d=null}d=d||{start:0,end:0}}else d=null;for(Es={focusedElem:i,selectionRange:d},ci=!1,dt=l;dt!==null;)if(l=dt,i=l.child,(l.subtreeFlags&1028)!==0&&i!==null)i.return=l,dt=i;else for(;dt!==null;){l=dt;try{var mt=l.alternate;if(l.flags&1024)switch(l.tag){case 0:case 11:case 15:break;case 1:if(mt!==null){var yt=mt.memoizedProps,ti=mt.memoizedState,Le=l.stateNode,ye=Le.getSnapshotBeforeUpdate(l.elementType===l.type?yt:ha(l.type,yt),ti);Le.__reactInternalSnapshotBeforeUpdate=ye}break;case 3:var Pe=l.stateNode.containerInfo;Pe.nodeType===1?Pe.textContent="":Pe.nodeType===9&&Pe.documentElement&&Pe.removeChild(Pe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(Xe){Un(l,l.return,Xe)}if(i=l.sibling,i!==null){i.return=l.return,dt=i;break}dt=l.return}return mt=$m,$m=!1,mt}function Sd(i,l,d){var b=l.updateQueue;if(b=b!==null?b.lastEffect:null,b!==null){var _=b=b.next;do{if((_.tag&i)===i){var N=_.destroy;_.destroy=void 0,N!==void 0&&Wf(l,d,N)}_=_.next}while(_!==b)}}function _h(i,l){if(l=l.updateQueue,l=l!==null?l.lastEffect:null,l!==null){var d=l=l.next;do{if((d.tag&i)===i){var b=d.create;d.destroy=b()}d=d.next}while(d!==l)}}function Vf(i){var l=i.ref;if(l!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof l=="function"?l(i):l.current=i}}function Mm(i){var l=i.alternate;l!==null&&(i.alternate=null,Mm(l)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(l=i.stateNode,l!==null&&(delete l[os],delete l[zo],delete l[Jn],delete l[mc],delete l[xd])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function qm(i){return i.tag===5||i.tag===3||i.tag===4}function Um(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||qm(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Gf(i,l,d){var b=i.tag;if(b===5||b===6)i=i.stateNode,l?d.nodeType===8?d.parentNode.insertBefore(i,l):d.insertBefore(i,l):(d.nodeType===8?(l=d.parentNode,l.insertBefore(i,d)):(l=d,l.appendChild(i)),d=d._reactRootContainer,d!=null||l.onclick!==null||(l.onclick=ar));else if(b!==4&&(i=i.child,i!==null))for(Gf(i,l,d),i=i.sibling;i!==null;)Gf(i,l,d),i=i.sibling}function Kf(i,l,d){var b=i.tag;if(b===5||b===6)i=i.stateNode,l?d.insertBefore(i,l):d.appendChild(i);else if(b!==4&&(i=i.child,i!==null))for(Kf(i,l,d),i=i.sibling;i!==null;)Kf(i,l,d),i=i.sibling}var fa=null,Jo=!1;function _c(i,l,d){for(d=d.child;d!==null;)zm(i,l,d),d=d.sibling}function zm(i,l,d){if(lr&&typeof lr.onCommitFiberUnmount=="function")try{lr.onCommitFiberUnmount(Gs,d)}catch{}switch(d.tag){case 5:La||Ou(d,l);case 6:var b=fa,_=Jo;fa=null,_c(i,l,d),fa=b,Jo=_,fa!==null&&(Jo?(i=fa,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):fa.removeChild(d.stateNode));break;case 18:fa!==null&&(Jo?(i=fa,d=d.stateNode,i.nodeType===8?pc(i.parentNode,d):i.nodeType===1&&pc(i,d),Xs(i)):pc(fa,d.stateNode));break;case 4:b=fa,_=Jo,fa=d.stateNode.containerInfo,Jo=!0,_c(i,l,d),fa=b,Jo=_;break;case 0:case 11:case 14:case 15:if(!La&&(b=d.updateQueue,b!==null&&(b=b.lastEffect,b!==null))){_=b=b.next;do{var N=_,M=N.destroy;N=N.tag,M!==void 0&&(N&2||N&4)&&Wf(d,l,M),_=_.next}while(_!==b)}_c(i,l,d);break;case 1:if(!La&&(Ou(d,l),b=d.stateNode,typeof b.componentWillUnmount=="function"))try{b.props=d.memoizedProps,b.state=d.memoizedState,b.componentWillUnmount()}catch(oe){Un(d,l,oe)}_c(i,l,d);break;case 21:_c(i,l,d);break;case 22:d.mode&1?(La=(b=La)||d.memoizedState!==null,_c(i,l,d),La=b):_c(i,l,d);break;default:_c(i,l,d)}}function Hm(i){var l=i.updateQueue;if(l!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new Gv),l.forEach(function(b){var _=n2.bind(null,i,b);d.has(b)||(d.add(b),b.then(_,_))})}}function Yo(i,l){var d=l.deletions;if(d!==null)for(var b=0;b<d.length;b++){var _=d[b];try{var N=i,M=l,oe=M;e:for(;oe!==null;){switch(oe.tag){case 5:fa=oe.stateNode,Jo=!1;break e;case 3:fa=oe.stateNode.containerInfo,Jo=!0;break e;case 4:fa=oe.stateNode.containerInfo,Jo=!0;break e}oe=oe.return}if(fa===null)throw Error(r(160));zm(N,M,_),fa=null,Jo=!1;var ge=_.alternate;ge!==null&&(ge.return=null),_.return=null}catch(Ie){Un(_,l,Ie)}}if(l.subtreeFlags&12854)for(l=l.child;l!==null;)Wm(l,i),l=l.sibling}function Wm(i,l){var d=i.alternate,b=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Yo(l,i),Sl(i),b&4){try{Sd(3,i,i.return),_h(3,i)}catch(yt){Un(i,i.return,yt)}try{Sd(5,i,i.return)}catch(yt){Un(i,i.return,yt)}}break;case 1:Yo(l,i),Sl(i),b&512&&d!==null&&Ou(d,d.return);break;case 5:if(Yo(l,i),Sl(i),b&512&&d!==null&&Ou(d,d.return),i.flags&32){var _=i.stateNode;try{Ft(_,"")}catch(yt){Un(i,i.return,yt)}}if(b&4&&(_=i.stateNode,_!=null)){var N=i.memoizedProps,M=d!==null?d.memoizedProps:N,oe=i.type,ge=i.updateQueue;if(i.updateQueue=null,ge!==null)try{oe==="input"&&N.type==="radio"&&N.name!=null&&rt(_,N),ct(oe,M);var Ie=ct(oe,N);for(M=0;M<ge.length;M+=2){var Ge=ge[M],Je=ge[M+1];Ge==="style"?Yt(_,Je):Ge==="dangerouslySetInnerHTML"?ht(_,Je):Ge==="children"?Ft(_,Je):T(_,Ge,Je,Ie)}switch(oe){case"input":bt(_,N);break;case"textarea":vr(_,N);break;case"select":var Ve=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!N.multiple;var ot=N.value;ot!=null?Me(_,!!N.multiple,ot,!1):Ve!==!!N.multiple&&(N.defaultValue!=null?Me(_,!!N.multiple,N.defaultValue,!0):Me(_,!!N.multiple,N.multiple?[]:"",!1))}_[zo]=N}catch(yt){Un(i,i.return,yt)}}break;case 6:if(Yo(l,i),Sl(i),b&4){if(i.stateNode===null)throw Error(r(162));_=i.stateNode,N=i.memoizedProps;try{_.nodeValue=N}catch(yt){Un(i,i.return,yt)}}break;case 3:if(Yo(l,i),Sl(i),b&4&&d!==null&&d.memoizedState.isDehydrated)try{Xs(l.containerInfo)}catch(yt){Un(i,i.return,yt)}break;case 4:Yo(l,i),Sl(i);break;case 13:Yo(l,i),Sl(i),_=i.child,_.flags&8192&&(N=_.memoizedState!==null,_.stateNode.isHidden=N,!N||_.alternate!==null&&_.alternate.memoizedState!==null||(Xf=Br())),b&4&&Hm(i);break;case 22:if(Ge=d!==null&&d.memoizedState!==null,i.mode&1?(La=(Ie=La)||Ge,Yo(l,i),La=Ie):Yo(l,i),Sl(i),b&8192){if(Ie=i.memoizedState!==null,(i.stateNode.isHidden=Ie)&&!Ge&&i.mode&1)for(dt=i,Ge=i.child;Ge!==null;){for(Je=dt=Ge;dt!==null;){switch(Ve=dt,ot=Ve.child,Ve.tag){case 0:case 11:case 14:case 15:Sd(4,Ve,Ve.return);break;case 1:Ou(Ve,Ve.return);var mt=Ve.stateNode;if(typeof mt.componentWillUnmount=="function"){b=Ve,d=Ve.return;try{l=b,mt.props=l.memoizedProps,mt.state=l.memoizedState,mt.componentWillUnmount()}catch(yt){Un(b,d,yt)}}break;case 5:Ou(Ve,Ve.return);break;case 22:if(Ve.memoizedState!==null){Km(Je);continue}}ot!==null?(ot.return=Ve,dt=ot):Km(Je)}Ge=Ge.sibling}e:for(Ge=null,Je=i;;){if(Je.tag===5){if(Ge===null){Ge=Je;try{_=Je.stateNode,Ie?(N=_.style,typeof N.setProperty=="function"?N.setProperty("display","none","important"):N.display="none"):(oe=Je.stateNode,ge=Je.memoizedProps.style,M=ge!=null&&ge.hasOwnProperty("display")?ge.display:null,oe.style.display=sr("display",M))}catch(yt){Un(i,i.return,yt)}}}else if(Je.tag===6){if(Ge===null)try{Je.stateNode.nodeValue=Ie?"":Je.memoizedProps}catch(yt){Un(i,i.return,yt)}}else if((Je.tag!==22&&Je.tag!==23||Je.memoizedState===null||Je===i)&&Je.child!==null){Je.child.return=Je,Je=Je.child;continue}if(Je===i)break e;for(;Je.sibling===null;){if(Je.return===null||Je.return===i)break e;Ge===Je&&(Ge=null),Je=Je.return}Ge===Je&&(Ge=null),Je.sibling.return=Je.return,Je=Je.sibling}}break;case 19:Yo(l,i),Sl(i),b&4&&Hm(i);break;case 21:break;default:Yo(l,i),Sl(i)}}function Sl(i){var l=i.flags;if(l&2){try{e:{for(var d=i.return;d!==null;){if(qm(d)){var b=d;break e}d=d.return}throw Error(r(160))}switch(b.tag){case 5:var _=b.stateNode;b.flags&32&&(Ft(_,""),b.flags&=-33);var N=Um(i);Kf(i,N,_);break;case 3:case 4:var M=b.stateNode.containerInfo,oe=Um(i);Gf(i,oe,M);break;default:throw Error(r(161))}}catch(ge){Un(i,i.return,ge)}i.flags&=-3}l&4096&&(i.flags&=-4097)}function Jv(i,l,d){dt=i,Vm(i)}function Vm(i,l,d){for(var b=(i.mode&1)!==0;dt!==null;){var _=dt,N=_.child;if(_.tag===22&&b){var M=_.memoizedState!==null||wh;if(!M){var oe=_.alternate,ge=oe!==null&&oe.memoizedState!==null||La;oe=wh;var Ie=La;if(wh=M,(La=ge)&&!Ie)for(dt=_;dt!==null;)M=dt,ge=M.child,M.tag===22&&M.memoizedState!==null?Jm(_):ge!==null?(ge.return=M,dt=ge):Jm(_);for(;N!==null;)dt=N,Vm(N),N=N.sibling;dt=_,wh=oe,La=Ie}Gm(i)}else _.subtreeFlags&8772&&N!==null?(N.return=_,dt=N):Gm(i)}}function Gm(i){for(;dt!==null;){var l=dt;if(l.flags&8772){var d=l.alternate;try{if(l.flags&8772)switch(l.tag){case 0:case 11:case 15:La||_h(5,l);break;case 1:var b=l.stateNode;if(l.flags&4&&!La)if(d===null)b.componentDidMount();else{var _=l.elementType===l.type?d.memoizedProps:ha(l.type,d.memoizedProps);b.componentDidUpdate(_,d.memoizedState,b.__reactInternalSnapshotBeforeUpdate)}var N=l.updateQueue;N!==null&&Hi(l,N,b);break;case 3:var M=l.updateQueue;if(M!==null){if(d=null,l.child!==null)switch(l.child.tag){case 5:d=l.child.stateNode;break;case 1:d=l.child.stateNode}Hi(l,M,d)}break;case 5:var oe=l.stateNode;if(d===null&&l.flags&4){d=oe;var ge=l.memoizedProps;switch(l.type){case"button":case"input":case"select":case"textarea":ge.autoFocus&&d.focus();break;case"img":ge.src&&(d.src=ge.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(l.memoizedState===null){var Ie=l.alternate;if(Ie!==null){var Ge=Ie.memoizedState;if(Ge!==null){var Je=Ge.dehydrated;Je!==null&&Xs(Je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}La||l.flags&512&&Vf(l)}catch(Ve){Un(l,l.return,Ve)}}if(l===i){dt=null;break}if(d=l.sibling,d!==null){d.return=l.return,dt=d;break}dt=l.return}}function Km(i){for(;dt!==null;){var l=dt;if(l===i){dt=null;break}var d=l.sibling;if(d!==null){d.return=l.return,dt=d;break}dt=l.return}}function Jm(i){for(;dt!==null;){var l=dt;try{switch(l.tag){case 0:case 11:case 15:var d=l.return;try{_h(4,l)}catch(ge){Un(l,d,ge)}break;case 1:var b=l.stateNode;if(typeof b.componentDidMount=="function"){var _=l.return;try{b.componentDidMount()}catch(ge){Un(l,_,ge)}}var N=l.return;try{Vf(l)}catch(ge){Un(l,N,ge)}break;case 5:var M=l.return;try{Vf(l)}catch(ge){Un(l,M,ge)}}}catch(ge){Un(l,l.return,ge)}if(l===i){dt=null;break}var oe=l.sibling;if(oe!==null){oe.return=l.return,dt=oe;break}dt=l.return}}var Yv=Math.ceil,jh=D.ReactCurrentDispatcher,Jf=D.ReactCurrentOwner,mo=D.ReactCurrentBatchConfig,Pr=0,Wi=null,xi=null,pa=0,Ds=0,Du=Ua(0),Ti=0,Nd=null,eu=0,Sh=0,Yf=0,kd=null,fs=null,Xf=0,Fu=1/0,Jl=null,Nh=!1,Zf=null,jc=null,kh=!1,Sc=null,Ch=0,Cd=0,Qf=null,Ah=-1,Eh=0;function Wa(){return Pr&6?Br():Ah!==-1?Ah:Ah=Br()}function Nc(i){return i.mode&1?Pr&2&&pa!==0?pa&-pa:Qe.transition!==null?(Eh===0&&(Eh=Fl()),Eh):(i=cr,i!==0||(i=window.event,i=i===void 0?16:Qs(i.type)),i):1}function Xo(i,l,d,b){if(50<Cd)throw Cd=0,Qf=null,Error(r(185));wi(i,d,b),(!(Pr&2)||i!==Wi)&&(i===Wi&&(!(Pr&2)&&(Sh|=d),Ti===4&&kc(i,pa)),ps(i,b),d===1&&Pr===0&&!(l.mode&1)&&(Fu=Br()+500,ls&&S()))}function ps(i,l){var d=i.callbackNode;Sn(i,l);var b=wa(i,i===Wi?pa:0);if(b===0)d!==null&&yo(d),i.callbackNode=null,i.callbackPriority=0;else if(l=b&-b,i.callbackPriority!==l){if(d!=null&&yo(d),l===1)i.tag===0?v(Xm.bind(null,i)):p(Xm.bind(null,i)),At(function(){!(Pr&6)&&S()}),d=null;else{switch(Js(b)){case 1:d=vs;break;case 4:d=Zi;break;case 16:d=yi;break;case 536870912:d=Ii;break;default:d=yi}d=ag(d,Ym.bind(null,i))}i.callbackPriority=l,i.callbackNode=d}}function Ym(i,l){if(Ah=-1,Eh=0,Pr&6)throw Error(r(327));var d=i.callbackNode;if(Bu()&&i.callbackNode!==d)return null;var b=wa(i,i===Wi?pa:0);if(b===0)return null;if(b&30||b&i.expiredLanes||l)l=Lh(i,b);else{l=b;var _=Pr;Pr|=2;var N=Qm();(Wi!==i||pa!==l)&&(Jl=null,Fu=Br()+500,ru(i,l));do try{Qv();break}catch(oe){Zm(i,oe)}while(!0);dr(),jh.current=N,Pr=_,xi!==null?l=0:(Wi=null,pa=0,l=Ti)}if(l!==0){if(l===2&&(_=_a(i),_!==0&&(b=_,l=ep(i,_))),l===1)throw d=Nd,ru(i,0),kc(i,b),ps(i,Br()),d;if(l===6)kc(i,b);else{if(_=i.current.alternate,!(b&30)&&!Xv(_)&&(l=Lh(i,b),l===2&&(N=_a(i),N!==0&&(b=N,l=ep(i,N))),l===1))throw d=Nd,ru(i,0),kc(i,b),ps(i,Br()),d;switch(i.finishedWork=_,i.finishedLanes=b,l){case 0:case 1:throw Error(r(345));case 2:nu(i,fs,Jl);break;case 3:if(kc(i,b),(b&130023424)===b&&(l=Xf+500-Br(),10<l)){if(wa(i,0)!==0)break;if(_=i.suspendedLanes,(_&b)!==b){Wa(),i.pingedLanes|=i.suspendedLanes&_;break}i.timeoutHandle=pl(nu.bind(null,i,fs,Jl),l);break}nu(i,fs,Jl);break;case 4:if(kc(i,b),(b&4194240)===b)break;for(l=i.eventTimes,_=-1;0<b;){var M=31-Zr(b);N=1<<M,M=l[M],M>_&&(_=M),b&=~N}if(b=_,b=Br()-b,b=(120>b?120:480>b?480:1080>b?1080:1920>b?1920:3e3>b?3e3:4320>b?4320:1960*Yv(b/1960))-b,10<b){i.timeoutHandle=pl(nu.bind(null,i,fs,Jl),b);break}nu(i,fs,Jl);break;case 5:nu(i,fs,Jl);break;default:throw Error(r(329))}}}return ps(i,Br()),i.callbackNode===d?Ym.bind(null,i):null}function ep(i,l){var d=kd;return i.current.memoizedState.isDehydrated&&(ru(i,l).flags|=256),i=Lh(i,l),i!==2&&(l=fs,fs=d,l!==null&&tp(l)),i}function tp(i){fs===null?fs=i:fs.push.apply(fs,i)}function Xv(i){for(var l=i;;){if(l.flags&16384){var d=l.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var b=0;b<d.length;b++){var _=d[b],N=_.getSnapshot;_=_.value;try{if(!rn(N(),_))return!1}catch{return!1}}}if(d=l.child,l.subtreeFlags&16384&&d!==null)d.return=l,l=d;else{if(l===i)break;for(;l.sibling===null;){if(l.return===null||l.return===i)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function kc(i,l){for(l&=~Yf,l&=~Sh,i.suspendedLanes|=l,i.pingedLanes&=~l,i=i.expirationTimes;0<l;){var d=31-Zr(l),b=1<<d;i[d]=-1,l&=~b}}function Xm(i){if(Pr&6)throw Error(r(327));Bu();var l=wa(i,0);if(!(l&1))return ps(i,Br()),null;var d=Lh(i,l);if(i.tag!==0&&d===2){var b=_a(i);b!==0&&(l=b,d=ep(i,b))}if(d===1)throw d=Nd,ru(i,0),kc(i,l),ps(i,Br()),d;if(d===6)throw Error(r(345));return i.finishedWork=i.current.alternate,i.finishedLanes=l,nu(i,fs,Jl),ps(i,Br()),null}function rp(i,l){var d=Pr;Pr|=1;try{return i(l)}finally{Pr=d,Pr===0&&(Fu=Br()+500,ls&&S())}}function tu(i){Sc!==null&&Sc.tag===0&&!(Pr&6)&&Bu();var l=Pr;Pr|=1;var d=mo.transition,b=cr;try{if(mo.transition=null,cr=1,i)return i()}finally{cr=b,mo.transition=d,Pr=l,!(Pr&6)&&S()}}function np(){Ds=Du.current,kr(Du)}function ru(i,l){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,ku(d)),xi!==null)for(d=xi.return;d!==null;){var b=d;switch(De(b),b.tag){case 1:b=b.type.childContextTypes,b!=null&&gc();break;case 3:Is(),kr(Ai),kr(Yn),Yc();break;case 5:Jc(b);break;case 4:Is();break;case 13:kr(on);break;case 19:kr(on);break;case 10:_r(b.type._context);break;case 22:case 23:np()}d=d.return}if(Wi=i,xi=i=Cc(i.current,null),pa=Ds=l,Ti=0,Nd=null,Yf=Sh=eu=0,fs=kd=null,Xn!==null){for(l=0;l<Xn.length;l++)if(d=Xn[l],b=d.interleaved,b!==null){d.interleaved=null;var _=b.next,N=d.pending;if(N!==null){var M=N.next;N.next=_,b.next=M}d.pending=b}Xn=null}return i}function Zm(i,l){do{var d=xi;try{if(dr(),bc.current=Qc,Ho){for(var b=$r.memoizedState;b!==null;){var _=b.queue;_!==null&&(_.pending=null),b=b.next}Ho=!1}if(ds=0,_n=Ln=$r=null,Wo=!1,Os=0,Jf.current=null,d===null||d.return===null){Ti=1,Nd=l,xi=null;break}e:{var N=i,M=d.return,oe=d,ge=l;if(l=pa,oe.flags|=32768,ge!==null&&typeof ge=="object"&&typeof ge.then=="function"){var Ie=ge,Ge=oe,Je=Ge.tag;if(!(Ge.mode&1)&&(Je===0||Je===11||Je===15)){var Ve=Ge.alternate;Ve?(Ge.updateQueue=Ve.updateQueue,Ge.memoizedState=Ve.memoizedState,Ge.lanes=Ve.lanes):(Ge.updateQueue=null,Ge.memoizedState=null)}var ot=jm(M);if(ot!==null){ot.flags&=-257,Sm(ot,M,oe,N,l),ot.mode&1&&_m(N,Ie,l),l=ot,ge=Ie;var mt=l.updateQueue;if(mt===null){var yt=new Set;yt.add(ge),l.updateQueue=yt}else mt.add(ge);break e}else{if(!(l&1)){_m(N,Ie,l),ip();break e}ge=Error(r(426))}}else if(Re&&oe.mode&1){var ti=jm(M);if(ti!==null){!(ti.flags&65536)&&(ti.flags|=256),Sm(ti,M,oe,N,l),lt(Iu(ge,oe));break e}}N=ge=Iu(ge,oe),Ti!==4&&(Ti=2),kd===null?kd=[N]:kd.push(N),N=M;do{switch(N.tag){case 3:N.flags|=65536,l&=-l,N.lanes|=l;var Le=ym(N,ge,l);Cr(N,Le);break e;case 1:oe=ge;var ye=N.type,Pe=N.stateNode;if(!(N.flags&128)&&(typeof ye.getDerivedStateFromError=="function"||Pe!==null&&typeof Pe.componentDidCatch=="function"&&(jc===null||!jc.has(Pe)))){N.flags|=65536,l&=-l,N.lanes|=l;var Xe=wm(N,oe,l);Cr(N,Xe);break e}}N=N.return}while(N!==null)}tg(d)}catch(_t){l=_t,xi===d&&d!==null&&(xi=d=d.return);continue}break}while(!0)}function Qm(){var i=jh.current;return jh.current=Qc,i===null?Qc:i}function ip(){(Ti===0||Ti===3||Ti===2)&&(Ti=4),Wi===null||!(eu&268435455)&&!(Sh&268435455)||kc(Wi,pa)}function Lh(i,l){var d=Pr;Pr|=2;var b=Qm();(Wi!==i||pa!==l)&&(Jl=null,ru(i,l));do try{Zv();break}catch(_){Zm(i,_)}while(!0);if(dr(),Pr=d,jh.current=b,xi!==null)throw Error(r(261));return Wi=null,pa=0,Ti}function Zv(){for(;xi!==null;)eg(xi)}function Qv(){for(;xi!==null&&!Xi();)eg(xi)}function eg(i){var l=ig(i.alternate,i,Ds);i.memoizedProps=i.pendingProps,l===null?tg(i):xi=l,Jf.current=null}function tg(i){var l=i;do{var d=l.alternate;if(i=l.return,l.flags&32768){if(d=Vv(d,l),d!==null){d.flags&=32767,xi=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ti=6,xi=null;return}}else if(d=Wv(d,l,Ds),d!==null){xi=d;return}if(l=l.sibling,l!==null){xi=l;return}xi=l=i}while(l!==null);Ti===0&&(Ti=5)}function nu(i,l,d){var b=cr,_=mo.transition;try{mo.transition=null,cr=1,e2(i,l,d,b)}finally{mo.transition=_,cr=b}return null}function e2(i,l,d,b){do Bu();while(Sc!==null);if(Pr&6)throw Error(r(327));d=i.finishedWork;var _=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(r(177));i.callbackNode=null,i.callbackPriority=0;var N=d.lanes|d.childLanes;if(ja(i,N),i===Wi&&(xi=Wi=null,pa=0),!(d.subtreeFlags&2064)&&!(d.flags&2064)||kh||(kh=!0,ag(yi,function(){return Bu(),null})),N=(d.flags&15990)!==0,d.subtreeFlags&15990||N){N=mo.transition,mo.transition=null;var M=cr;cr=1;var oe=Pr;Pr|=4,Jf.current=null,Kv(i,d),Wm(d,i),ll(Es),ci=!!uo,Es=uo=null,i.current=d,Jv(d),wo(),Pr=oe,cr=M,mo.transition=N}else i.current=d;if(kh&&(kh=!1,Sc=i,Ch=_),N=i.pendingLanes,N===0&&(jc=null),Oi(d.stateNode),ps(i,Br()),l!==null)for(b=i.onRecoverableError,d=0;d<l.length;d++)_=l[d],b(_.value,{componentStack:_.stack,digest:_.digest});if(Nh)throw Nh=!1,i=Zf,Zf=null,i;return Ch&1&&i.tag!==0&&Bu(),N=i.pendingLanes,N&1?i===Qf?Cd++:(Cd=0,Qf=i):Cd=0,S(),null}function Bu(){if(Sc!==null){var i=Js(Ch),l=mo.transition,d=cr;try{if(mo.transition=null,cr=16>i?16:i,Sc===null)var b=!1;else{if(i=Sc,Sc=null,Ch=0,Pr&6)throw Error(r(331));var _=Pr;for(Pr|=4,dt=i.current;dt!==null;){var N=dt,M=N.child;if(dt.flags&16){var oe=N.deletions;if(oe!==null){for(var ge=0;ge<oe.length;ge++){var Ie=oe[ge];for(dt=Ie;dt!==null;){var Ge=dt;switch(Ge.tag){case 0:case 11:case 15:Sd(8,Ge,N)}var Je=Ge.child;if(Je!==null)Je.return=Ge,dt=Je;else for(;dt!==null;){Ge=dt;var Ve=Ge.sibling,ot=Ge.return;if(Mm(Ge),Ge===Ie){dt=null;break}if(Ve!==null){Ve.return=ot,dt=Ve;break}dt=ot}}}var mt=N.alternate;if(mt!==null){var yt=mt.child;if(yt!==null){mt.child=null;do{var ti=yt.sibling;yt.sibling=null,yt=ti}while(yt!==null)}}dt=N}}if(N.subtreeFlags&2064&&M!==null)M.return=N,dt=M;else e:for(;dt!==null;){if(N=dt,N.flags&2048)switch(N.tag){case 0:case 11:case 15:Sd(9,N,N.return)}var Le=N.sibling;if(Le!==null){Le.return=N.return,dt=Le;break e}dt=N.return}}var ye=i.current;for(dt=ye;dt!==null;){M=dt;var Pe=M.child;if(M.subtreeFlags&2064&&Pe!==null)Pe.return=M,dt=Pe;else e:for(M=ye;dt!==null;){if(oe=dt,oe.flags&2048)try{switch(oe.tag){case 0:case 11:case 15:_h(9,oe)}}catch(_t){Un(oe,oe.return,_t)}if(oe===M){dt=null;break e}var Xe=oe.sibling;if(Xe!==null){Xe.return=oe.return,dt=Xe;break e}dt=oe.return}}if(Pr=_,S(),lr&&typeof lr.onPostCommitFiberRoot=="function")try{lr.onPostCommitFiberRoot(Gs,i)}catch{}b=!0}return b}finally{cr=d,mo.transition=l}}return!1}function rg(i,l,d){l=Iu(d,l),l=ym(i,l,1),i=En(i,l,1),l=Wa(),i!==null&&(wi(i,1,l),ps(i,l))}function Un(i,l,d){if(i.tag===3)rg(i,i,d);else for(;l!==null;){if(l.tag===3){rg(l,i,d);break}else if(l.tag===1){var b=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(jc===null||!jc.has(b))){i=Iu(d,i),i=wm(l,i,1),l=En(l,i,1),i=Wa(),l!==null&&(wi(l,1,i),ps(l,i));break}}l=l.return}}function t2(i,l,d){var b=i.pingCache;b!==null&&b.delete(l),l=Wa(),i.pingedLanes|=i.suspendedLanes&d,Wi===i&&(pa&d)===d&&(Ti===4||Ti===3&&(pa&130023424)===pa&&500>Br()-Xf?ru(i,0):Yf|=d),ps(i,l)}function ng(i,l){l===0&&(i.mode&1?(l=Qi,Qi<<=1,!(Qi&130023424)&&(Qi=4194304)):l=1);var d=Wa();i=hr(i,l),i!==null&&(wi(i,l,d),ps(i,d))}function r2(i){var l=i.memoizedState,d=0;l!==null&&(d=l.retryLane),ng(i,d)}function n2(i,l){var d=0;switch(i.tag){case 13:var b=i.stateNode,_=i.memoizedState;_!==null&&(d=_.retryLane);break;case 19:b=i.stateNode;break;default:throw Error(r(314))}b!==null&&b.delete(l),ng(i,d)}var ig;ig=function(i,l,d){if(i!==null)if(i.memoizedProps!==l.pendingProps||Ai.current)hs=!0;else{if(!(i.lanes&d)&&!(l.flags&128))return hs=!1,Hv(i,l,d);hs=!!(i.flags&131072)}else hs=!1,Re&&l.flags&1048576&&be(l,U,l.index);switch(l.lanes=0,l.tag){case 2:var b=l.type;yh(i,l),i=l.pendingProps;var _=la(l,Yn.current);pr(l,d),_=xc(null,l,b,i,_,d);var N=Vl();return l.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(l.tag=1,l.memoizedState=null,l.updateQueue=null,pi(b)?(N=!0,fo(l)):N=!1,l.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Li(l),_.updater=_d,l.stateNode=_,_._reactInternals=l,Of(l,b,i,d),l=$f(null,l,b,!0,N,d)):(l.tag=0,Re&&N&&Ne(l),Ha(null,l,_,d),l=l.child),l;case 16:b=l.elementType;e:{switch(yh(i,l),i=l.pendingProps,_=b._init,b=_(b._payload),l.type=b,_=l.tag=a2(b),i=ha(b,i),_){case 0:l=Bf(null,l,b,i,d);break e;case 1:l=Lm(null,l,b,i,d);break e;case 11:l=Nm(null,l,b,i,d);break e;case 14:l=km(null,l,b,ha(b.type,i),d);break e}throw Error(r(306,b,""))}return l;case 0:return b=l.type,_=l.pendingProps,_=l.elementType===b?_:ha(b,_),Bf(i,l,b,_,d);case 1:return b=l.type,_=l.pendingProps,_=l.elementType===b?_:ha(b,_),Lm(i,l,b,_,d);case 3:e:{if(Pm(l),i===null)throw Error(r(387));b=l.pendingProps,N=l.memoizedState,_=N.element,Fn(i,l),Lr(l,b,null,d);var M=l.memoizedState;if(b=M.element,N.isDehydrated)if(N={element:b,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},l.updateQueue.baseState=N,l.memoizedState=N,l.flags&256){_=Iu(Error(r(423)),l),l=Tm(i,l,b,d,_);break e}else if(b!==_){_=Iu(Error(r(424)),l),l=Tm(i,l,b,d,_);break e}else for(Oe=On(l.stateNode.containerInfo.firstChild),ke=l,Re=!0,Ue=null,d=mi(l,null,b,d),l.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if($t(),b===_){l=Kl(i,l,d);break e}Ha(i,l,b,d)}l=l.child}return l;case 5:return bl(l),i===null&&Gt(l),b=l.type,_=l.pendingProps,N=i!==null?i.memoizedProps:null,M=_.children,Gc(b,_)?M=null:N!==null&&Gc(b,N)&&(l.flags|=32),Em(i,l),Ha(i,l,M,d),l.child;case 6:return i===null&&Gt(l),null;case 13:return Rm(i,l,d);case 4:return Wl(l,l.stateNode.containerInfo),b=l.pendingProps,i===null?l.child=dn(l,null,b,d):Ha(i,l,b,d),l.child;case 11:return b=l.type,_=l.pendingProps,_=l.elementType===b?_:ha(b,_),Nm(i,l,b,_,d);case 7:return Ha(i,l,l.pendingProps,d),l.child;case 8:return Ha(i,l,l.pendingProps.children,d),l.child;case 12:return Ha(i,l,l.pendingProps.children,d),l.child;case 10:e:{if(b=l.type._context,_=l.pendingProps,N=l.memoizedProps,M=_.value,gr(tr,b._currentValue),b._currentValue=M,N!==null)if(rn(N.value,M)){if(N.children===_.children&&!Ai.current){l=Kl(i,l,d);break e}}else for(N=l.child,N!==null&&(N.return=l);N!==null;){var oe=N.dependencies;if(oe!==null){M=N.child;for(var ge=oe.firstContext;ge!==null;){if(ge.context===b){if(N.tag===1){ge=yn(-1,d&-d),ge.tag=2;var Ie=N.updateQueue;if(Ie!==null){Ie=Ie.shared;var Ge=Ie.pending;Ge===null?ge.next=ge:(ge.next=Ge.next,Ge.next=ge),Ie.pending=ge}}N.lanes|=d,ge=N.alternate,ge!==null&&(ge.lanes|=d),Jr(N.return,d,l),oe.lanes|=d;break}ge=ge.next}}else if(N.tag===10)M=N.type===l.type?null:N.child;else if(N.tag===18){if(M=N.return,M===null)throw Error(r(341));M.lanes|=d,oe=M.alternate,oe!==null&&(oe.lanes|=d),Jr(M,d,l),M=N.sibling}else M=N.child;if(M!==null)M.return=N;else for(M=N;M!==null;){if(M===l){M=null;break}if(N=M.sibling,N!==null){N.return=M.return,M=N;break}M=M.return}N=M}Ha(i,l,_.children,d),l=l.child}return l;case 9:return _=l.type,b=l.pendingProps.children,pr(l,d),_=Ir(_),b=b(_),l.flags|=1,Ha(i,l,b,d),l.child;case 14:return b=l.type,_=ha(b,l.pendingProps),_=ha(b.type,_),km(i,l,b,_,d);case 15:return Cm(i,l,l.type,l.pendingProps,d);case 17:return b=l.type,_=l.pendingProps,_=l.elementType===b?_:ha(b,_),yh(i,l),l.tag=1,pi(b)?(i=!0,fo(l)):i=!1,pr(l,d),xm(l,b,_),Of(l,b,_,d),$f(null,l,b,!0,i,d);case 19:return Om(i,l,d);case 22:return Am(i,l,d)}throw Error(r(156,l.tag))};function ag(i,l){return Vs(i,l)}function i2(i,l,d,b){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function go(i,l,d,b){return new i2(i,l,d,b)}function ap(i){return i=i.prototype,!(!i||!i.isReactComponent)}function a2(i){if(typeof i=="function")return ap(i)?1:0;if(i!=null){if(i=i.$$typeof,i===K)return 11;if(i===we)return 14}return 2}function Cc(i,l){var d=i.alternate;return d===null?(d=go(i.tag,l,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=l,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,l=i.dependencies,d.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function Ph(i,l,d,b,_,N){var M=2;if(b=i,typeof i=="function")ap(i)&&(M=1);else if(typeof i=="string")M=5;else e:switch(i){case se:return iu(d.children,_,N,l);case Q:M=8,_|=8;break;case J:return i=go(12,d,l,_|2),i.elementType=J,i.lanes=N,i;case ae:return i=go(13,d,l,_),i.elementType=ae,i.lanes=N,i;case ce:return i=go(19,d,l,_),i.elementType=ce,i.lanes=N,i;case ve:return Th(d,_,N,l);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case de:M=10;break e;case O:M=9;break e;case K:M=11;break e;case we:M=14;break e;case Ae:M=16,b=null;break e}throw Error(r(130,i==null?i:typeof i,""))}return l=go(M,d,l,_),l.elementType=i,l.type=b,l.lanes=N,l}function iu(i,l,d,b){return i=go(7,i,b,l),i.lanes=d,i}function Th(i,l,d,b){return i=go(22,i,b,l),i.elementType=ve,i.lanes=d,i.stateNode={isHidden:!1},i}function sp(i,l,d){return i=go(6,i,null,l),i.lanes=d,i}function op(i,l,d){return l=go(4,i.children!==null?i.children:[],i.key,l),l.lanes=d,l.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},l}function s2(i,l,d,b,_){this.tag=l,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Tr(0),this.expirationTimes=Tr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Tr(0),this.identifierPrefix=b,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function lp(i,l,d,b,_,N,M,oe,ge){return i=new s2(i,l,d,oe,ge),l===1?(l=1,N===!0&&(l|=8)):l=0,N=go(3,null,null,l),i.current=N,N.stateNode=i,N.memoizedState={element:b,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(N),i}function o2(i,l,d){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:b==null?null:""+b,children:i,containerInfo:l,implementation:d}}function sg(i){if(!i)return Ts;i=i._reactInternals;e:{if(Tn(i)!==i||i.tag!==1)throw Error(r(170));var l=i;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(pi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(l!==null);throw Error(r(171))}if(i.tag===1){var d=i.type;if(pi(d))return Eu(i,d,l)}return l}function og(i,l,d,b,_,N,M,oe,ge){return i=lp(d,b,!0,i,_,N,M,oe,ge),i.context=sg(null),d=i.current,b=Wa(),_=Nc(d),N=yn(b,_),N.callback=l??null,En(d,N,_),i.current.lanes=_,wi(i,_,b),ps(i,b),i}function Rh(i,l,d,b){var _=l.current,N=Wa(),M=Nc(_);return d=sg(d),l.context===null?l.context=d:l.pendingContext=d,l=yn(N,M),l.payload={element:i},b=b===void 0?null:b,b!==null&&(l.callback=b),i=En(_,l,M),i!==null&&(Xo(i,_,M,N),Zn(i,_,M)),M}function Ih(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function lg(i,l){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<l?d:l}}function cp(i,l){lg(i,l),(i=i.alternate)&&lg(i,l)}var cg=typeof reportError=="function"?reportError:function(i){console.error(i)};function up(i){this._internalRoot=i}Oh.prototype.render=up.prototype.render=function(i){var l=this._internalRoot;if(l===null)throw Error(r(409));Rh(i,l,null,null)},Oh.prototype.unmount=up.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var l=i.containerInfo;tu(function(){Rh(null,i,null,null)}),l[fi]=null}};function Oh(i){this._internalRoot=i}Oh.prototype.unstable_scheduleHydration=function(i){if(i){var l=oc();i={blockedOn:null,target:i,priority:l};for(var d=0;d<ea.length&&l!==0&&l<ea[d].priority;d++);ea.splice(d,0,i),d===0&&lc(i)}};function dp(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Dh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function ug(){}function l2(i,l,d,b,_){if(_){if(typeof b=="function"){var N=b;b=function(){var Ie=Ih(M);N.call(Ie)}}var M=og(l,b,i,0,null,!1,!1,"",ug);return i._reactRootContainer=M,i[fi]=M.current,ss(i.nodeType===8?i.parentNode:i),tu(),M}for(;_=i.lastChild;)i.removeChild(_);if(typeof b=="function"){var oe=b;b=function(){var Ie=Ih(ge);oe.call(Ie)}}var ge=lp(i,0,!1,null,null,!1,!1,"",ug);return i._reactRootContainer=ge,i[fi]=ge.current,ss(i.nodeType===8?i.parentNode:i),tu(function(){Rh(l,ge,d,b)}),ge}function Fh(i,l,d,b,_){var N=d._reactRootContainer;if(N){var M=N;if(typeof _=="function"){var oe=_;_=function(){var ge=Ih(M);oe.call(ge)}}Rh(l,M,i,_)}else M=l2(d,l,i,_,b);return Ih(M)}ys=function(i){switch(i.tag){case 3:var l=i.stateNode;if(l.current.memoizedState.isDehydrated){var d=Rn(l.pendingLanes);d!==0&&(So(l,d|1),ps(l,Br()),!(Pr&6)&&(Fu=Br()+500,S()))}break;case 13:tu(function(){var b=hr(i,1);if(b!==null){var _=Wa();Xo(b,i,1,_)}}),cp(i,1)}},No=function(i){if(i.tag===13){var l=hr(i,134217728);if(l!==null){var d=Wa();Xo(l,i,134217728,d)}cp(i,134217728)}},ko=function(i){if(i.tag===13){var l=Nc(i),d=hr(i,l);if(d!==null){var b=Wa();Xo(d,i,l,b)}cp(i,l)}},oc=function(){return cr},Oa=function(i,l){var d=cr;try{return cr=i,l()}finally{cr=d}},Bt=function(i,l,d){switch(l){case"input":if(bt(i,d),l=d.name,d.type==="radio"&&l!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+l)+'][type="radio"]'),l=0;l<d.length;l++){var b=d[l];if(b!==i&&b.form===i.form){var _=zl(b);if(!_)throw Error(r(90));et(b),bt(b,_)}}}break;case"textarea":vr(i,d);break;case"select":l=d.value,l!=null&&Me(i,!!d.multiple,l,!1)}},Mn=rp,Ji=tu;var c2={usingClientEntryPoint:!1,Events:[ml,ho,zl,fr,Ga,rp]},Ad={findFiberByHostInstance:Ls,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u2={bundleType:Ad.bundleType,version:Ad.version,rendererPackageName:Ad.rendererPackageName,rendererConfig:Ad.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=li(i),i===null?null:i.stateNode},findFiberByHostInstance:Ad.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bh.isDisabled&&Bh.supportsFiber)try{Gs=Bh.inject(u2),lr=Bh}catch{}}return ms.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c2,ms.createPortal=function(i,l){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dp(l))throw Error(r(200));return o2(i,l,null,d)},ms.createRoot=function(i,l){if(!dp(i))throw Error(r(299));var d=!1,b="",_=cg;return l!=null&&(l.unstable_strictMode===!0&&(d=!0),l.identifierPrefix!==void 0&&(b=l.identifierPrefix),l.onRecoverableError!==void 0&&(_=l.onRecoverableError)),l=lp(i,1,!1,null,null,d,!1,b,_),i[fi]=l.current,ss(i.nodeType===8?i.parentNode:i),new up(l)},ms.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var l=i._reactInternals;if(l===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=li(l),i=i===null?null:i.stateNode,i},ms.flushSync=function(i){return tu(i)},ms.hydrate=function(i,l,d){if(!Dh(l))throw Error(r(200));return Fh(null,i,l,!0,d)},ms.hydrateRoot=function(i,l,d){if(!dp(i))throw Error(r(405));var b=d!=null&&d.hydratedSources||null,_=!1,N="",M=cg;if(d!=null&&(d.unstable_strictMode===!0&&(_=!0),d.identifierPrefix!==void 0&&(N=d.identifierPrefix),d.onRecoverableError!==void 0&&(M=d.onRecoverableError)),l=og(l,null,i,1,d??null,_,!1,N,M),i[fi]=l.current,ss(i),b)for(i=0;i<b.length;i++)d=b[i],_=d._getVersion,_=_(d._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[d,_]:l.mutableSourceEagerHydrationData.push(d,_);return new Oh(l)},ms.render=function(i,l,d){if(!Dh(l))throw Error(r(200));return Fh(null,i,l,!1,d)},ms.unmountComponentAtNode=function(i){if(!Dh(i))throw Error(r(40));return i._reactRootContainer?(tu(function(){Fh(null,null,i,!1,function(){i._reactRootContainer=null,i[fi]=null})}),!0):!1},ms.unstable_batchedUpdates=rp,ms.unstable_renderSubtreeIntoContainer=function(i,l,d,b){if(!Dh(d))throw Error(r(200));if(i==null||i._reactInternals===void 0)throw Error(r(38));return Fh(i,l,d,!1,b)},ms.version="18.3.1-next-f1338f8080-20240426",ms}var xg;function w2(){if(xg)return pp.exports;xg=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),pp.exports=y2(),pp.exports}var vg;function _2(){if(vg)return $h;vg=1;var t=w2();return $h.createRoot=t.createRoot,$h.hydrateRoot=t.hydrateRoot,$h}var j2=_2(),Ld={},yg;function S2(){if(yg)return Ld;yg=1,Object.defineProperty(Ld,"__esModule",{value:!0}),Ld.parse=c,Ld.serialize=f;const t=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const j=function(){};return j.prototype=Object.create(null),j})();function c(j,y){const C=new o,k=j.length;if(k<2)return C;const L=(y==null?void 0:y.decode)||x;let E=0;do{const B=j.indexOf("=",E);if(B===-1)break;const T=j.indexOf(";",E),D=T===-1?k:T;if(B>D){E=j.lastIndexOf(";",B-1)+1;continue}const z=u(j,E,B),ie=h(j,B,z),se=j.slice(z,ie);if(C[se]===void 0){let Q=u(j,B+1,D),J=h(j,D,Q);const de=L(j.slice(Q,J));C[se]=de}E=D+1}while(E<k);return C}function u(j,y,C){do{const k=j.charCodeAt(y);if(k!==32&&k!==9)return y}while(++y<C);return C}function h(j,y,C){for(;y>C;){const k=j.charCodeAt(--y);if(k!==32&&k!==9)return y+1}return C}function f(j,y,C){const k=(C==null?void 0:C.encode)||encodeURIComponent;if(!t.test(j))throw new TypeError(`argument name is invalid: ${j}`);const L=k(y);if(!e.test(L))throw new TypeError(`argument val is invalid: ${y}`);let E=j+"="+L;if(!C)return E;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);E+="; Max-Age="+C.maxAge}if(C.domain){if(!r.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);E+="; Domain="+C.domain}if(C.path){if(!n.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);E+="; Path="+C.path}if(C.expires){if(!m(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);E+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(E+="; HttpOnly"),C.secure&&(E+="; Secure"),C.partitioned&&(E+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":E+="; Priority=Low";break;case"medium":E+="; Priority=Medium";break;case"high":E+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":E+="; SameSite=Strict";break;case"lax":E+="; SameSite=Lax";break;case"none":E+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return E}function x(j){if(j.indexOf("%")===-1)return j;try{return decodeURIComponent(j)}catch{return j}}function m(j){return a.call(j)==="[object Date]"}return Ld}S2();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var wg="popstate";function N2(t={}){function e(a,o){let{pathname:c="/",search:u="",hash:h=""}=ju(a.location.hash.substring(1));return!c.startsWith("/")&&!c.startsWith(".")&&(c="/"+c),l0("",{pathname:c,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function r(a,o){let c=a.document.querySelector("base"),u="";if(c&&c.getAttribute("href")){let h=a.location.href,f=h.indexOf("#");u=f===-1?h:h.slice(0,f)}return u+"#"+(typeof o=="string"?o:Wd(o))}function n(a,o){rl(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(o)})`)}return C2(e,r,n,t)}function $n(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function rl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function k2(){return Math.random().toString(36).substring(2,10)}function _g(t,e){return{usr:t.state,key:t.key,idx:e}}function l0(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?ju(e):e,state:r,key:e&&e.key||n||k2()}}function Wd({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ju(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function C2(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:o=!1}=n,c=a.history,u="POP",h=null,f=x();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function x(){return(c.state||{idx:null}).idx}function m(){u="POP";let L=x(),E=L==null?null:L-f;f=L,h&&h({action:u,location:k.location,delta:E})}function j(L,E){u="PUSH";let B=l0(k.location,L,E);r(B,L),f=x()+1;let T=_g(B,f),D=k.createHref(B);try{c.pushState(T,"",D)}catch(z){if(z instanceof DOMException&&z.name==="DataCloneError")throw z;a.location.assign(D)}o&&h&&h({action:u,location:k.location,delta:1})}function y(L,E){u="REPLACE";let B=l0(k.location,L,E);r(B,L),f=x();let T=_g(B,f),D=k.createHref(B);c.replaceState(T,"",D),o&&h&&h({action:u,location:k.location,delta:0})}function C(L){let E=a.location.origin!=="null"?a.location.origin:a.location.href,B=typeof L=="string"?L:Wd(L);return B=B.replace(/ $/,"%20"),$n(E,`No window.location.(origin|href) available to create URL for href: ${B}`),new URL(B,E)}let k={get action(){return u},get location(){return t(a,c)},listen(L){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(wg,m),h=L,()=>{a.removeEventListener(wg,m),h=null}},createHref(L){return e(a,L)},createURL:C,encodeLocation(L){let E=C(L);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:j,replace:y,go(L){return c.go(L)}};return k}function T1(t,e,r="/"){return A2(t,e,r,!1)}function A2(t,e,r,n){let a=typeof e=="string"?ju(e):e,o=Mc(a.pathname||"/",r);if(o==null)return null;let c=R1(t);E2(c);let u=null;for(let h=0;u==null&&h<c.length;++h){let f=M2(o);u=B2(c[h],f,n)}return u}function R1(t,e=[],r=[],n=""){let a=(o,c,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};h.relativePath.startsWith("/")&&($n(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length));let f=rc([n,h.relativePath]),x=r.concat(h);o.children&&o.children.length>0&&($n(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),R1(o.children,e,x,f)),!(o.path==null&&!o.index)&&e.push({path:f,score:D2(f,o.index),routesMeta:x})};return t.forEach((o,c)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))a(o,c);else for(let h of I1(o.path))a(o,c,h)}),e}function I1(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return a?[o,""]:[o];let c=I1(n.join("/")),u=[];return u.push(...c.map(h=>h===""?o:[o,h].join("/"))),a&&u.push(...c),u.map(h=>t.startsWith("/")&&h===""?"/":h)}function E2(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:F2(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var L2=/^:[\w-]+$/,P2=3,T2=2,R2=1,I2=10,O2=-2,jg=t=>t==="*";function D2(t,e){let r=t.split("/"),n=r.length;return r.some(jg)&&(n+=O2),e&&(n+=T2),r.filter(a=>!jg(a)).reduce((a,o)=>a+(L2.test(o)?P2:o===""?R2:I2),n)}function F2(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function B2(t,e,r=!1){let{routesMeta:n}=t,a={},o="/",c=[];for(let u=0;u<n.length;++u){let h=n[u],f=u===n.length-1,x=o==="/"?e:e.slice(o.length)||"/",m=uf({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},x),j=h.route;if(!m&&f&&r&&!n[n.length-1].route.index&&(m=uf({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},x)),!m)return null;Object.assign(a,m.params),c.push({params:a,pathname:rc([o,m.pathname]),pathnameBase:H2(rc([o,m.pathnameBase])),route:j}),m.pathnameBase!=="/"&&(o=rc([o,m.pathnameBase]))}return c}function uf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=$2(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let o=a[0],c=o.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:n.reduce((f,{paramName:x,isOptional:m},j)=>{if(x==="*"){let C=u[j]||"";c=o.slice(0,o.length-C.length).replace(/(.)\/+$/,"$1")}const y=u[j];return m&&!y?f[x]=void 0:f[x]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:c,pattern:t}}function $2(t,e=!1,r=!0){rl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,h)=>(n.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function M2(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return rl(!1,`The URL path "${t}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Mc(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function q2(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?ju(t):t;return{pathname:r?r.startsWith("/")?r:U2(r,e):e,search:W2(n),hash:V2(a)}}function U2(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function bp(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z2(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function O1(t){let e=z2(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function D1(t,e,r,n=!1){let a;typeof t=="string"?a=ju(t):(a={...t},$n(!a.pathname||!a.pathname.includes("?"),bp("?","pathname","search",a)),$n(!a.pathname||!a.pathname.includes("#"),bp("#","pathname","hash",a)),$n(!a.search||!a.search.includes("#"),bp("#","search","hash",a)));let o=t===""||a.pathname==="",c=o?"/":a.pathname,u;if(c==null)u=r;else{let m=e.length-1;if(!n&&c.startsWith("..")){let j=c.split("/");for(;j[0]==="..";)j.shift(),m-=1;a.pathname=j.join("/")}u=m>=0?e[m]:"/"}let h=q2(a,u),f=c&&c!=="/"&&c.endsWith("/"),x=(o||c===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(f||x)&&(h.pathname+="/"),h}var rc=t=>t.join("/").replace(/\/\/+/g,"/"),H2=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),W2=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,V2=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function G2(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var F1=["POST","PUT","PATCH","DELETE"];new Set(F1);var K2=["GET",...F1];new Set(K2);var hd=F.createContext(null);hd.displayName="DataRouter";var Sf=F.createContext(null);Sf.displayName="DataRouterState";var B1=F.createContext({isTransitioning:!1});B1.displayName="ViewTransition";var J2=F.createContext(new Map);J2.displayName="Fetchers";var Y2=F.createContext(null);Y2.displayName="Await";var Il=F.createContext(null);Il.displayName="Navigation";var sh=F.createContext(null);sh.displayName="Location";var ic=F.createContext({outlet:null,matches:[],isDataRoute:!1});ic.displayName="Route";var K0=F.createContext(null);K0.displayName="RouteError";function X2(t,{relative:e}={}){$n(oh(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=F.useContext(Il),{hash:a,pathname:o,search:c}=lh(t,{relative:e}),u=o;return r!=="/"&&(u=o==="/"?r:rc([r,o])),n.createHref({pathname:u,search:c,hash:a})}function oh(){return F.useContext(sh)!=null}function Uc(){return $n(oh(),"useLocation() may be used only in the context of a <Router> component."),F.useContext(sh).location}var $1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function M1(t){F.useContext(Il).static||F.useLayoutEffect(t)}function zc(){let{isDataRoute:t}=F.useContext(ic);return t?uy():Z2()}function Z2(){$n(oh(),"useNavigate() may be used only in the context of a <Router> component.");let t=F.useContext(hd),{basename:e,navigator:r}=F.useContext(Il),{matches:n}=F.useContext(ic),{pathname:a}=Uc(),o=JSON.stringify(O1(n)),c=F.useRef(!1);return M1(()=>{c.current=!0}),F.useCallback((h,f={})=>{if(rl(c.current,$1),!c.current)return;if(typeof h=="number"){r.go(h);return}let x=D1(h,JSON.parse(o),a,f.relative==="path");t==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:rc([e,x.pathname])),(f.replace?r.replace:r.push)(x,f.state,f)},[e,r,o,a,t])}F.createContext(null);function lh(t,{relative:e}={}){let{matches:r}=F.useContext(ic),{pathname:n}=Uc(),a=JSON.stringify(O1(r));return F.useMemo(()=>D1(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function Q2(t,e){return q1(t,e)}function q1(t,e,r,n){var E;$n(oh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=F.useContext(Il),{matches:o}=F.useContext(ic),c=o[o.length-1],u=c?c.params:{},h=c?c.pathname:"/",f=c?c.pathnameBase:"/",x=c&&c.route;{let B=x&&x.path||"";U1(h,!x||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let m=Uc(),j;if(e){let B=typeof e=="string"?ju(e):e;$n(f==="/"||((E=B.pathname)==null?void 0:E.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${B.pathname}" was given in the \`location\` prop.`),j=B}else j=m;let y=j.pathname||"/",C=y;if(f!=="/"){let B=f.replace(/^\//,"").split("/");C="/"+y.replace(/^\//,"").split("/").slice(B.length).join("/")}let k=T1(t,{pathname:C});rl(x||k!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),rl(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let L=iy(k&&k.map(B=>Object.assign({},B,{params:Object.assign({},u,B.params),pathname:rc([f,a.encodeLocation?a.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?f:rc([f,a.encodeLocation?a.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),o,r,n);return e&&L?F.createElement(sh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},L):L}function ey(){let t=cy(),e=G2(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=F.createElement(F.Fragment,null,F.createElement("p",null," Hey developer "),F.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",F.createElement("code",{style:o},"ErrorBoundary")," or"," ",F.createElement("code",{style:o},"errorElement")," prop on your route.")),F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),r?F.createElement("pre",{style:a},r):null,c)}var ty=F.createElement(ey,null),ry=class extends F.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?F.createElement(ic.Provider,{value:this.props.routeContext},F.createElement(K0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ny({routeContext:t,match:e,children:r}){let n=F.useContext(hd);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),F.createElement(ic.Provider,{value:t},r)}function iy(t,e=[],r=null,n=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=r==null?void 0:r.errors;if(o!=null){let h=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);$n(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),a=a.slice(0,Math.min(a.length,h+1))}let c=!1,u=-1;if(r)for(let h=0;h<a.length;h++){let f=a[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=h),f.route.id){let{loaderData:x,errors:m}=r,j=f.route.loader&&!x.hasOwnProperty(f.route.id)&&(!m||m[f.route.id]===void 0);if(f.route.lazy||j){c=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((h,f,x)=>{let m,j=!1,y=null,C=null;r&&(m=o&&f.route.id?o[f.route.id]:void 0,y=f.route.errorElement||ty,c&&(u<0&&x===0?(U1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,C=null):u===x&&(j=!0,C=f.route.hydrateFallbackElement||null)));let k=e.concat(a.slice(0,x+1)),L=()=>{let E;return m?E=y:j?E=C:f.route.Component?E=F.createElement(f.route.Component,null):f.route.element?E=f.route.element:E=h,F.createElement(ny,{match:f,routeContext:{outlet:h,matches:k,isDataRoute:r!=null},children:E})};return r&&(f.route.ErrorBoundary||f.route.errorElement||x===0)?F.createElement(ry,{location:r.location,revalidation:r.revalidation,component:y,error:m,children:L(),routeContext:{outlet:null,matches:k,isDataRoute:!0}}):L()},null)}function J0(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ay(t){let e=F.useContext(hd);return $n(e,J0(t)),e}function sy(t){let e=F.useContext(Sf);return $n(e,J0(t)),e}function oy(t){let e=F.useContext(ic);return $n(e,J0(t)),e}function Y0(t){let e=oy(t),r=e.matches[e.matches.length-1];return $n(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function ly(){return Y0("useRouteId")}function cy(){var n;let t=F.useContext(K0),e=sy("useRouteError"),r=Y0("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function uy(){let{router:t}=ay("useNavigate"),e=Y0("useNavigate"),r=F.useRef(!1);return M1(()=>{r.current=!0}),F.useCallback(async(a,o={})=>{rl(r.current,$1),r.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...o}))},[t,e])}var Sg={};function U1(t,e,r){!e&&!Sg[t]&&(Sg[t]=!0,rl(!1,r))}F.memo(dy);function dy({routes:t,future:e,state:r}){return q1(t,void 0,r,e)}function kl(t){$n(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function hy({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:o=!1}){$n(!oh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),u=F.useMemo(()=>({basename:c,navigator:a,static:o,future:{}}),[c,a,o]);typeof r=="string"&&(r=ju(r));let{pathname:h="/",search:f="",hash:x="",state:m=null,key:j="default"}=r,y=F.useMemo(()=>{let C=Mc(h,c);return C==null?null:{location:{pathname:C,search:f,hash:x,state:m,key:j},navigationType:n}},[c,h,f,x,m,j,n]);return rl(y!=null,`<Router basename="${c}"> is not able to match the URL "${h}${f}${x}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:F.createElement(Il.Provider,{value:u},F.createElement(sh.Provider,{children:e,value:y}))}function fy({children:t,location:e}){return Q2(c0(t),e)}function c0(t,e=[]){let r=[];return F.Children.forEach(t,(n,a)=>{if(!F.isValidElement(n))return;let o=[...e,a];if(n.type===F.Fragment){r.push.apply(r,c0(n.props.children,o));return}$n(n.type===kl,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),$n(!n.props.index||!n.props.children,"An index route cannot have child routes.");let c={id:n.props.id||o.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(c.children=c0(n.props.children,o)),r.push(c)}),r}var ef="get",tf="application/x-www-form-urlencoded";function Nf(t){return t!=null&&typeof t.tagName=="string"}function py(t){return Nf(t)&&t.tagName.toLowerCase()==="button"}function my(t){return Nf(t)&&t.tagName.toLowerCase()==="form"}function gy(t){return Nf(t)&&t.tagName.toLowerCase()==="input"}function by(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function xy(t,e){return t.button===0&&(!e||e==="_self")&&!by(t)}var Mh=null;function vy(){if(Mh===null)try{new FormData(document.createElement("form"),0),Mh=!1}catch{Mh=!0}return Mh}var yy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function xp(t){return t!=null&&!yy.has(t)?(rl(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${tf}"`),null):t}function wy(t,e){let r,n,a,o,c;if(my(t)){let u=t.getAttribute("action");n=u?Mc(u,e):null,r=t.getAttribute("method")||ef,a=xp(t.getAttribute("enctype"))||tf,o=new FormData(t)}else if(py(t)||gy(t)&&(t.type==="submit"||t.type==="image")){let u=t.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||u.getAttribute("action");if(n=h?Mc(h,e):null,r=t.getAttribute("formmethod")||u.getAttribute("method")||ef,a=xp(t.getAttribute("formenctype"))||xp(u.getAttribute("enctype"))||tf,o=new FormData(u,t),!vy()){let{name:f,type:x,value:m}=t;if(x==="image"){let j=f?`${f}.`:"";o.append(`${j}x`,"0"),o.append(`${j}y`,"0")}else f&&o.append(f,m)}}else{if(Nf(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=ef,n=null,a=tf,c=t}return o&&a==="text/plain"&&(c=o,o=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:o,body:c}}function X0(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function _y(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function jy(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Sy(t,e,r){let n=await Promise.all(t.map(async a=>{let o=e.routes[a.route.id];if(o){let c=await _y(o,r);return c.links?c.links():[]}return[]}));return Ay(n.flat(1).filter(jy).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Ng(t,e,r,n,a,o){let c=(h,f)=>r[f]?h.route.id!==r[f].route.id:!0,u=(h,f)=>{var x;return r[f].pathname!==h.pathname||((x=r[f].route.path)==null?void 0:x.endsWith("*"))&&r[f].params["*"]!==h.params["*"]};return o==="assets"?e.filter((h,f)=>c(h,f)||u(h,f)):o==="data"?e.filter((h,f)=>{var m;let x=n.routes[h.route.id];if(!x||!x.hasLoader)return!1;if(c(h,f)||u(h,f))return!0;if(h.route.shouldRevalidate){let j=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function Ny(t,e){return ky(t.map(r=>{let n=e.routes[r.route.id];if(!n)return[];let a=[n.module];return n.imports&&(a=a.concat(n.imports)),a}).flat(1))}function ky(t){return[...new Set(t)]}function Cy(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function Ay(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let o=JSON.stringify(Cy(a));return r.has(o)||(r.add(o),n.push({key:o,link:a})),n},[])}function Ey(t){let e=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Ly(){let t=F.useContext(hd);return X0(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Py(){let t=F.useContext(Sf);return X0(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Z0=F.createContext(void 0);Z0.displayName="FrameworkContext";function z1(){let t=F.useContext(Z0);return X0(t,"You must render this element inside a <HydratedRouter> element"),t}function Ty(t,e){let r=F.useContext(Z0),[n,a]=F.useState(!1),[o,c]=F.useState(!1),{onFocus:u,onBlur:h,onMouseEnter:f,onMouseLeave:x,onTouchStart:m}=e,j=F.useRef(null);F.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let k=E=>{E.forEach(B=>{c(B.isIntersecting)})},L=new IntersectionObserver(k,{threshold:.5});return j.current&&L.observe(j.current),()=>{L.disconnect()}}},[t]),F.useEffect(()=>{if(n){let k=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(k)}}},[n]);let y=()=>{a(!0)},C=()=>{a(!1),c(!1)};return r?t!=="intent"?[o,j,{}]:[o,j,{onFocus:Pd(u,y),onBlur:Pd(h,C),onMouseEnter:Pd(f,y),onMouseLeave:Pd(x,C),onTouchStart:Pd(m,y)}]:[!1,j,{}]}function Pd(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Ry({page:t,...e}){let{router:r}=Ly(),n=F.useMemo(()=>T1(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?F.createElement(Oy,{page:t,matches:n,...e}):null}function Iy(t){let{manifest:e,routeModules:r}=z1(),[n,a]=F.useState([]);return F.useEffect(()=>{let o=!1;return Sy(t,e,r).then(c=>{o||a(c)}),()=>{o=!0}},[t,e,r]),n}function Oy({page:t,matches:e,...r}){let n=Uc(),{manifest:a,routeModules:o}=z1(),{loaderData:c,matches:u}=Py(),h=F.useMemo(()=>Ng(t,e,u,a,n,"data"),[t,e,u,a,n]),f=F.useMemo(()=>Ng(t,e,u,a,n,"assets"),[t,e,u,a,n]),x=F.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let y=new Set,C=!1;if(e.forEach(L=>{var B;let E=a.routes[L.route.id];!E||!E.hasLoader||(!h.some(T=>T.route.id===L.route.id)&&L.route.id in c&&((B=o[L.route.id])!=null&&B.shouldRevalidate)||E.hasClientLoader?C=!0:y.add(L.route.id))}),y.size===0)return[];let k=Ey(t);return C&&y.size>0&&k.searchParams.set("_routes",e.filter(L=>y.has(L.route.id)).map(L=>L.route.id).join(",")),[k.pathname+k.search]},[c,n,a,h,e,t,o]),m=F.useMemo(()=>Ny(f,a),[f,a]),j=Iy(f);return F.createElement(F.Fragment,null,x.map(y=>F.createElement("link",{key:y,rel:"prefetch",as:"fetch",href:y,...r})),m.map(y=>F.createElement("link",{key:y,rel:"modulepreload",href:y,...r})),j.map(({key:y,link:C})=>F.createElement("link",{key:y,...C})))}function Dy(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var H1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{H1&&(window.__reactRouterVersion="7.1.1")}catch{}function Fy({basename:t,children:e,window:r}){let n=F.useRef();n.current==null&&(n.current=N2({window:r,v5Compat:!0}));let a=n.current,[o,c]=F.useState({action:a.action,location:a.location}),u=F.useCallback(h=>{F.startTransition(()=>c(h))},[c]);return F.useLayoutEffect(()=>a.listen(u),[a,u]),F.createElement(hy,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:a})}var W1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,V1=F.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:o,replace:c,state:u,target:h,to:f,preventScrollReset:x,viewTransition:m,...j},y){let{basename:C}=F.useContext(Il),k=typeof f=="string"&&W1.test(f),L,E=!1;if(typeof f=="string"&&k&&(L=f,H1))try{let J=new URL(window.location.href),de=f.startsWith("//")?new URL(J.protocol+f):new URL(f),O=Mc(de.pathname,C);de.origin===J.origin&&O!=null?f=O+de.search+de.hash:E=!0}catch{rl(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let B=X2(f,{relative:a}),[T,D,z]=Ty(n,j),ie=qy(f,{replace:c,state:u,target:h,preventScrollReset:x,relative:a,viewTransition:m});function se(J){e&&e(J),J.defaultPrevented||ie(J)}let Q=F.createElement("a",{...j,...z,href:L||B,onClick:E||o?e:se,ref:Dy(y,D),target:h,"data-discover":!k&&r==="render"?"true":void 0});return T&&!k?F.createElement(F.Fragment,null,Q,F.createElement(Ry,{page:B})):Q});V1.displayName="Link";var By=F.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:o,to:c,viewTransition:u,children:h,...f},x){let m=lh(c,{relative:f.relative}),j=Uc(),y=F.useContext(Sf),{navigator:C,basename:k}=F.useContext(Il),L=y!=null&&Vy(m)&&u===!0,E=C.encodeLocation?C.encodeLocation(m).pathname:m.pathname,B=j.pathname,T=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(B=B.toLowerCase(),T=T?T.toLowerCase():null,E=E.toLowerCase()),T&&k&&(T=Mc(T,k)||T);const D=E!=="/"&&E.endsWith("/")?E.length-1:E.length;let z=B===E||!a&&B.startsWith(E)&&B.charAt(D)==="/",ie=T!=null&&(T===E||!a&&T.startsWith(E)&&T.charAt(E.length)==="/"),se={isActive:z,isPending:ie,isTransitioning:L},Q=z?e:void 0,J;typeof n=="function"?J=n(se):J=[n,z?"active":null,ie?"pending":null,L?"transitioning":null].filter(Boolean).join(" ");let de=typeof o=="function"?o(se):o;return F.createElement(V1,{...f,"aria-current":Q,className:J,ref:x,style:de,to:c,viewTransition:u},typeof h=="function"?h(se):h)});By.displayName="NavLink";var $y=F.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:o,method:c=ef,action:u,onSubmit:h,relative:f,preventScrollReset:x,viewTransition:m,...j},y)=>{let C=Hy(),k=Wy(u,{relative:f}),L=c.toLowerCase()==="get"?"get":"post",E=typeof u=="string"&&W1.test(u),B=T=>{if(h&&h(T),T.defaultPrevented)return;T.preventDefault();let D=T.nativeEvent.submitter,z=(D==null?void 0:D.getAttribute("formmethod"))||c;C(D||T.currentTarget,{fetcherKey:e,method:z,navigate:r,replace:a,state:o,relative:f,preventScrollReset:x,viewTransition:m})};return F.createElement("form",{ref:y,method:L,action:k,onSubmit:n?h:B,...j,"data-discover":!E&&t==="render"?"true":void 0})});$y.displayName="Form";function My(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function G1(t){let e=F.useContext(hd);return $n(e,My(t)),e}function qy(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:o,viewTransition:c}={}){let u=zc(),h=Uc(),f=lh(t,{relative:o});return F.useCallback(x=>{if(xy(x,e)){x.preventDefault();let m=r!==void 0?r:Wd(h)===Wd(f);u(t,{replace:m,state:n,preventScrollReset:a,relative:o,viewTransition:c})}},[h,u,f,r,n,e,t,a,o,c])}var Uy=0,zy=()=>`__${String(++Uy)}__`;function Hy(){let{router:t}=G1("useSubmit"),{basename:e}=F.useContext(Il),r=ly();return F.useCallback(async(n,a={})=>{let{action:o,method:c,encType:u,formData:h,body:f}=wy(n,e);if(a.navigate===!1){let x=a.fetcherKey||zy();await t.fetch(x,r,a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||c,formEncType:a.encType||u,flushSync:a.flushSync})}else await t.navigate(a.action||o,{preventScrollReset:a.preventScrollReset,formData:h,body:f,formMethod:a.method||c,formEncType:a.encType||u,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,r])}function Wy(t,{relative:e}={}){let{basename:r}=F.useContext(Il),n=F.useContext(ic);$n(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),o={...lh(t||".",{relative:e})},c=Uc();if(t==null){o.search=c.search;let u=new URLSearchParams(o.search),h=u.getAll("index");if(h.some(x=>x==="")){u.delete("index"),h.filter(m=>m).forEach(m=>u.append("index",m));let x=u.toString();o.search=x?`?${x}`:""}}return(!t||t===".")&&a.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:rc([r,o.pathname])),Wd(o)}function Vy(t,e={}){let r=F.useContext(B1);$n(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=G1("useViewTransitionState"),a=lh(t,{relative:e.relative});if(!r.isTransitioning)return!1;let o=Mc(r.currentLocation.pathname,n)||r.currentLocation.pathname,c=Mc(r.nextLocation.pathname,n)||r.nextLocation.pathname;return uf(a.pathname,c)!=null||uf(a.pathname,o)!=null}new TextEncoder;function kf(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function Gy(t,e,r,n){function a(o){return o instanceof r?o:new r(function(c){c(o)})}return new(r||(r=Promise))(function(o,c){function u(x){try{f(n.next(x))}catch(m){c(m)}}function h(x){try{f(n.throw(x))}catch(m){c(m)}}function f(x){x.done?o(x.value):a(x.value).then(u,h)}f((n=n.apply(t,e||[])).next())})}const Ky=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class Q0 extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class Jy extends Q0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class kg extends Q0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Cg extends Q0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var u0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(u0||(u0={}));class Yy{constructor(e,{headers:r={},customFetch:n,region:a=u0.Any}={}){this.url=e,this.headers=r,this.region=a,this.fetch=Ky(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Gy(this,arguments,void 0,function*(r,n={}){var a;let o,c;try{const{headers:u,method:h,body:f,signal:x,timeout:m}=n;let j={},{region:y}=n;y||(y=this.region);const C=new URL(`${this.url}/${r}`);y&&y!=="any"&&(j["x-region"]=y,C.searchParams.set("forceFunctionRegion",y));let k;f&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)?typeof Blob<"u"&&f instanceof Blob||f instanceof ArrayBuffer?(j["Content-Type"]="application/octet-stream",k=f):typeof f=="string"?(j["Content-Type"]="text/plain",k=f):typeof FormData<"u"&&f instanceof FormData?k=f:(j["Content-Type"]="application/json",k=JSON.stringify(f)):f&&typeof f!="string"&&!(typeof Blob<"u"&&f instanceof Blob)&&!(f instanceof ArrayBuffer)&&!(typeof FormData<"u"&&f instanceof FormData)?k=JSON.stringify(f):k=f;let L=x;m&&(c=new AbortController,o=setTimeout(()=>c.abort(),m),x?(L=c.signal,x.addEventListener("abort",()=>c.abort())):L=c.signal);const E=yield this.fetch(C.toString(),{method:h||"POST",headers:Object.assign(Object.assign(Object.assign({},j),this.headers),u),body:k,signal:L}).catch(z=>{throw new Jy(z)}),B=E.headers.get("x-relay-error");if(B&&B==="true")throw new kg(E);if(!E.ok)throw new Cg(E);let T=((a=E.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),D;return T==="application/json"?D=yield E.json():T==="application/octet-stream"||T==="application/pdf"?D=yield E.blob():T==="text/event-stream"?D=E:T==="multipart/form-data"?D=yield E.formData():D=yield E.text(),{data:D,error:null,response:E}}catch(u){return{data:null,error:u,response:u instanceof Cg||u instanceof kg?u.context:void 0}}finally{o&&clearTimeout(o)}})}}var Xy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},Zy=class{constructor(t){var e,r;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(r=t.isMaybeSingle)!==null&&r!==void 0?r:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let c=null,u=null,h=null,f=o.status,x=o.statusText;if(o.ok){var m,j;if(r.method!=="HEAD"){var y;const E=await o.text();E===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((y=r.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?u=E:u=JSON.parse(E))}const k=(m=r.headers.get("Prefer"))===null||m===void 0?void 0:m.match(/count=(exact|planned|estimated)/),L=(j=o.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");k&&L&&L.length>1&&(h=parseInt(L[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,f=406,x="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{var C;const k=await o.text();try{c=JSON.parse(k),Array.isArray(c)&&o.status===404&&(u=[],c=null,f=200,x="OK")}catch{o.status===404&&k===""?(f=204,x="No Content"):c={message:k}}if(c&&r.isMaybeSingle&&(!(c==null||(C=c.details)===null||C===void 0)&&C.includes("0 rows"))&&(c=null,f=200,x="OK"),c&&r.shouldThrowOnError)throw new Xy(c)}return{error:c,data:u,count:h,status:f,statusText:x}});return this.shouldThrowOnError||(a=a.catch(o=>{var c;let u="";const h=o==null?void 0:o.cause;if(h){var f,x,m,j;const C=(f=h==null?void 0:h.message)!==null&&f!==void 0?f:"",k=(x=h==null?void 0:h.code)!==null&&x!==void 0?x:"";u=`${(m=o==null?void 0:o.name)!==null&&m!==void 0?m:"FetchError"}: ${o==null?void 0:o.message}`,u+=`

Caused by: ${(j=h==null?void 0:h.name)!==null&&j!==void 0?j:"Error"}: ${C}`,k&&(u+=` (${k})`),h!=null&&h.stack&&(u+=`
${h.stack}`)}else{var y;u=(y=o==null?void 0:o.stack)!==null&&y!==void 0?y:""}return{error:{message:`${(c=o==null?void 0:o.name)!==null&&c!==void 0?c:"FetchError"}: ${o==null?void 0:o.message}`,details:u,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(t,e)}returns(){return this}overrideTypes(){return this}},Qy=class extends Zy{select(t){let e=!1;const r=(t??"*").split("").map(n=>/\s/.test(n)&&!e?"":(n==='"'&&(e=!e),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const o=a?`${a}.order`:"order",c=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${c?`${c},`:""}${t}.${e?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:r=e}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,e,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,o=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:o="text"}={}){var c;const u=[t?"analyze":null,e?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),h=(c=this.headers.get("Accept"))!==null&&c!==void 0?c:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${h}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Ag=new RegExp("[,()]");var Ju=class extends Qy{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Ag.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${r})`),this}notIn(t,e){const r=Array.from(new Set(e)).map(n=>typeof n=="string"&&Ag.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`not.in.(${r})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(t,`${a}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,r])=>{this.url.searchParams.append(e,`eq.${r}`)}),this}not(t,e,r){return this.url.searchParams.append(t,`not.${e}.${r}`),this}or(t,{foreignTable:e,referencedTable:r=e}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,e,r){return this.url.searchParams.append(t,`${e}.${r}`),this}},e5=class{constructor(t,{headers:e={},schema:r,fetch:n}){this.url=t,this.headers=new Headers(e),this.schema=r,this.fetch=n}select(t,e){const{head:r=!1,count:n}=e??{},a=r?"HEAD":"GET";let o=!1;const c=(t??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",c),n&&this.headers.append("Prefer",`count=${n}`),new Ju({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:r=!0}={}){var n;const a="POST";if(e&&this.headers.append("Prefer",`count=${e}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(o.length>0){const c=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Ju({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var o;const c="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const u=t.reduce((h,f)=>h.concat(Object.keys(f)),[]);if(u.length>0){const h=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",h.join(","))}}return new Ju({method:c,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var r;const n="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new Ju({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:t}={}){var e;const r="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new Ju({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},t5=class K1{constructor(e,{headers:r={},schema:n,fetch:a}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new e5(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new K1(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:a=!1,count:o}={}){var c;let u;const h=new URL(`${this.url}/rpc/${e}`);let f;const x=y=>y!==null&&typeof y=="object"&&(!Array.isArray(y)||y.some(x)),m=n&&Object.values(r).some(x);m?(u="POST",f=r):n||a?(u=n?"HEAD":"GET",Object.entries(r).filter(([y,C])=>C!==void 0).map(([y,C])=>[y,Array.isArray(C)?`{${C.join(",")}}`:`${C}`]).forEach(([y,C])=>{h.searchParams.append(y,C)})):(u="POST",f=r);const j=new Headers(this.headers);return m?j.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&j.set("Prefer",`count=${o}`),new Ju({method:u,url:h,headers:j,schema:this.schemaName,body:f,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}};class r5{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,o=parseInt(a.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const n5="2.90.0",i5=`realtime-js/${n5}`,J1="1.0.0",a5="2.0.0",Eg=J1,d0=1e4,s5=1e3,o5=100;var Tc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Tc||(Tc={}));var Ri;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ri||(Ri={}));var tl;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(tl||(tl={}));var h0;(function(t){t.websocket="websocket"})(h0||(h0={}));var cu;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(cu||(cu={}));class l5{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(e){var r,n;const a=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},c=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,c)}_encodeUserBroadcastPush(e,r,n){var a,o;const c=e.topic,u=(a=e.ref)!==null&&a!==void 0?a:"",h=(o=e.join_ref)!==null&&o!==void 0?o:"",f=e.payload.event,x=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(x).length===0?"":JSON.stringify(x);if(h.length>255)throw new Error(`joinRef length ${h.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`ref length ${u.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`topic length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`userEvent length ${f.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const j=this.USER_BROADCAST_PUSH_META_LENGTH+h.length+u.length+c.length+f.length+m.length,y=new ArrayBuffer(this.HEADER_LENGTH+j);let C=new DataView(y),k=0;C.setUint8(k++,this.KINDS.userBroadcastPush),C.setUint8(k++,h.length),C.setUint8(k++,u.length),C.setUint8(k++,c.length),C.setUint8(k++,f.length),C.setUint8(k++,m.length),C.setUint8(k++,r),Array.from(h,E=>C.setUint8(k++,E.charCodeAt(0))),Array.from(u,E=>C.setUint8(k++,E.charCodeAt(0))),Array.from(c,E=>C.setUint8(k++,E.charCodeAt(0))),Array.from(f,E=>C.setUint8(k++,E.charCodeAt(0))),Array.from(m,E=>C.setUint8(k++,E.charCodeAt(0)));var L=new Uint8Array(y.byteLength+n.byteLength);return L.set(new Uint8Array(y),0),L.set(new Uint8Array(n),y.byteLength),L.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[a,o,c,u,h]=n;return r({join_ref:a,ref:o,topic:c,event:u,payload:h})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,a)}}_decodeUserBroadcast(e,r,n){const a=r.getUint8(1),o=r.getUint8(2),c=r.getUint8(3),u=r.getUint8(4);let h=this.HEADER_LENGTH+4;const f=n.decode(e.slice(h,h+a));h=h+a;const x=n.decode(e.slice(h,h+o));h=h+o;const m=n.decode(e.slice(h,h+c));h=h+c;const j=e.slice(h,e.byteLength),y=u===this.JSON_ENCODING?JSON.parse(n.decode(j)):j,C={type:this.BROADCAST_EVENT,event:x,payload:y};return c>0&&(C.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:f,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}class Y1{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var fn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(fn||(fn={}));const Lg=(t,e,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((o,c)=>(o[c]=c5(c,t,e,a),o),{}):{}},c5=(t,e,r,n)=>{const a=e.find(u=>u.name===t),o=a==null?void 0:a.type,c=r[t];return o&&!n.includes(o)?X1(o,c):f0(c)},X1=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return f5(e,r)}switch(t){case fn.bool:return u5(e);case fn.float4:case fn.float8:case fn.int2:case fn.int4:case fn.int8:case fn.numeric:case fn.oid:return d5(e);case fn.json:case fn.jsonb:return h5(e);case fn.timestamp:return p5(e);case fn.abstime:case fn.date:case fn.daterange:case fn.int4range:case fn.int8range:case fn.money:case fn.reltime:case fn.text:case fn.time:case fn.timestamptz:case fn.timetz:case fn.tsrange:case fn.tstzrange:return f0(e);default:return f0(e)}},f0=t=>t,u5=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},d5=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},h5=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},f5=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let o;const c=t.slice(1,r);try{o=JSON.parse("["+c+"]")}catch{o=c?c.split(","):[]}return o.map(u=>X1(e,u))}return t},p5=t=>typeof t=="string"?t.replace(" ","T"):t,Z1=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class vp{constructor(e,r,n={},a=d0){this.channel=e,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Pg;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Pg||(Pg={}));class Bd{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:o,onLeave:c,onSync:u}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Bd.syncState(this.state,a,o,c),this.pendingDiffs.forEach(h=>{this.state=Bd.syncDiff(this.state,h,o,c)}),this.pendingDiffs=[],u()}),this.channel._on(n.diff,{},a=>{const{onJoin:o,onLeave:c,onSync:u}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=Bd.syncDiff(this.state,a,o,c),u())}),this.onJoin((a,o,c)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:o,newPresences:c})}),this.onLeave((a,o,c)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:o,leftPresences:c})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,a){const o=this.cloneDeep(e),c=this.transformState(r),u={},h={};return this.map(o,(f,x)=>{c[f]||(h[f]=x)}),this.map(c,(f,x)=>{const m=o[f];if(m){const j=x.map(L=>L.presence_ref),y=m.map(L=>L.presence_ref),C=x.filter(L=>y.indexOf(L.presence_ref)<0),k=m.filter(L=>j.indexOf(L.presence_ref)<0);C.length>0&&(u[f]=C),k.length>0&&(h[f]=k)}else u[f]=x}),this.syncDiff(o,{joins:u,leaves:h},n,a)}static syncDiff(e,r,n,a){const{joins:o,leaves:c}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(o,(u,h)=>{var f;const x=(f=e[u])!==null&&f!==void 0?f:[];if(e[u]=this.cloneDeep(h),x.length>0){const m=e[u].map(y=>y.presence_ref),j=x.filter(y=>m.indexOf(y.presence_ref)<0);e[u].unshift(...j)}n(u,x,h)}),this.map(c,(u,h)=>{let f=e[u];if(!f)return;const x=h.map(m=>m.presence_ref);f=f.filter(m=>x.indexOf(m.presence_ref)<0),e[u]=f,a(u,f,h),f.length===0&&delete e[u]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const a=e[n];return"metas"in a?r[n]=a.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=a,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Tg;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Tg||(Tg={}));var $d;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})($d||($d={}));var Zl;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Zl||(Zl={}));class ed{constructor(e,r={config:{}},n){var a,o;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=Ri.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new vp(this,tl.join,this.params,this.timeout),this.rejoinTimer=new Y1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ri.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(c=>c.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ri.closed,this.socket._remove(this)}),this._onError(c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ri.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ri.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",c=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,c),this.state=Ri.errored,this.rejoinTimer.scheduleTimeout())}),this._on(tl.reply,{},(c,u)=>{this._trigger(this._replyEventName(u),c)}),this.presence=new Bd(this),this.broadcastEndpointURL=Z1(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,a,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Ri.closed){const{config:{broadcast:c,presence:u,private:h}}=this.params,f=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&a!==void 0?a:[],x=!!this.bindings[$d.PRESENCE]&&this.bindings[$d.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,m={},j={broadcast:c,presence:Object.assign(Object.assign({},u),{enabled:x}),postgres_changes:f,private:h};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(Zl.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(Zl.CLOSED)),this.updateJoinPayload(Object.assign({config:j},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var C;if(this.socket._isManualToken()||this.socket.setAuth(),y===void 0){e==null||e(Zl.SUBSCRIBED);return}else{const k=this.bindings.postgres_changes,L=(C=k==null?void 0:k.length)!==null&&C!==void 0?C:0,E=[];for(let B=0;B<L;B++){const T=k[B],{filter:{event:D,schema:z,table:ie,filter:se}}=T,Q=y&&y[B];if(Q&&Q.event===D&&ed.isFilterValueEqual(Q.schema,z)&&ed.isFilterValueEqual(Q.table,ie)&&ed.isFilterValueEqual(Q.filter,se))E.push(Object.assign(Object.assign({},T),{id:Q.id}));else{this.unsubscribe(),this.state=Ri.errored,e==null||e(Zl.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(Zl.SUBSCRIBED);return}}).receive("error",y=>{this.state=Ri.errored,e==null||e(Zl.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Zl.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===Ri.joined&&e===$d.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const c={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(u.status===202)return{success:!0};let h=u.statusText;try{const f=await u.json();h=f.error||f.message||h}catch{}return Promise.reject(new Error(h))}async send(e,r={}){var n,a;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:c}=e,u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:c,private:this.private}]})};try{const f=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=f.body)===null||a===void 0?void 0:a.cancel()),f.ok?"ok":"error"}catch(f){return f.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var c,u,h;const f=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((h=(u=(c=this.params)===null||c===void 0?void 0:c.config)===null||u===void 0?void 0:u.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),f.receive("ok",()=>o("ok")),f.receive("error",()=>o("error")),f.receive("timeout",()=>o("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ri.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(tl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new vp(this,tl.leave,{},e),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Ri.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const a=new AbortController,o=setTimeout(()=>a.abort(),n),c=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(o),c}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new vp(this,e,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>o5){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var a,o;const c=e.toLocaleLowerCase(),{close:u,error:h,leave:f,join:x}=tl;if(n&&[u,h,f,x].indexOf(c)>=0&&n!==this._joinRef())return;let j=this._onMessage(c,r,n);if(r&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(c)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(y=>{var C,k,L;return((C=y.filter)===null||C===void 0?void 0:C.event)==="*"||((L=(k=y.filter)===null||k===void 0?void 0:k.event)===null||L===void 0?void 0:L.toLocaleLowerCase())===c}).map(y=>y.callback(j,n)):(o=this.bindings[c])===null||o===void 0||o.filter(y=>{var C,k,L,E,B,T;if(["broadcast","presence","postgres_changes"].includes(c))if("id"in y){const D=y.id,z=(C=y.filter)===null||C===void 0?void 0:C.event;return D&&((k=r.ids)===null||k===void 0?void 0:k.includes(D))&&(z==="*"||(z==null?void 0:z.toLocaleLowerCase())===((L=r.data)===null||L===void 0?void 0:L.type.toLocaleLowerCase()))}else{const D=(B=(E=y==null?void 0:y.filter)===null||E===void 0?void 0:E.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return D==="*"||D===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===c}).map(y=>{if(typeof j=="object"&&"ids"in j){const C=j.data,{schema:k,table:L,commit_timestamp:E,type:B,errors:T}=C;j=Object.assign(Object.assign({},{schema:k,table:L,commit_timestamp:E,eventType:B,new:{},old:{},errors:T}),this._getPayloadRecords(C))}y.callback(j,n)})}_isClosed(){return this.state===Ri.closed}_isJoined(){return this.state===Ri.joined}_isJoining(){return this.state===Ri.joining}_isLeaving(){return this.state===Ri.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const a=e.toLocaleLowerCase(),o={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(o):this.bindings[a]=[o],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var o;return!(((o=a.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&ed.isEqual(a.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}static isFilterValueEqual(e,r){return(e??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(tl.close,{},e)}_onError(e){this._on(tl.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ri.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Lg(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Lg(e.columns,e.old_record)),r}}const yp=()=>{},qh={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},m5=[1e3,2e3,5e3,1e4],g5=1e4,b5=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class x5{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=d0,this.transport=null,this.heartbeatIntervalMs=qh.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=yp,this.ref=0,this.reconnectTimer=null,this.vsn=Eg,this.logger=yp,this.conn=null,this.sendBuffer=[],this.serializer=new l5,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...o)=>a(...o):(...o)=>fetch(...o),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${h0.websocket}`,this.httpEndpoint=Z1(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=r5.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Tc.connecting:return cu.Connecting;case Tc.open:return cu.Open;case Tc.closing:return cu.Closing;default:return cu.Closed}}isConnected(){return this.connectionState()===cu.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,a=this.getChannels().find(o=>o.topic===n);if(a)return a;{const o=new ed(`realtime:${e}`,r,this);return this.channels.push(o),o}}push(e){const{topic:r,event:n,payload:a,ref:o}=e,c=()=>{this.encode(e,u=>{var h;(h=this.conn)===null||h===void 0||h.send(u)})};this.log("push",`${r} ${n} (${o})`,a),this.isConnected()?c():this.sendBuffer.push(c)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(s5,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},qh.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const f=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",f)}catch(x){this.log("error","error in heartbeat callback",x)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:o,ref:c}=r,u=c?`(${c})`:"",h=o.status||"";this.log("receive",`${h} ${n} ${a} ${u}`.trim(),o),this.channels.filter(f=>f._isMember(n)).forEach(f=>f._trigger(a,o,c)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Tc.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Tc.open||this.conn.readyState===Tc.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(tl.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${e}${n}${a}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([b5],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r,n=!1;if(e)r=e,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const o={access_token:r,version:i5};r&&a.updateJoinPayload(o),a.joinedOnce&&a._isJoined()&&a._push(tl.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${e} callback`,a)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Y1(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qh.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,a,o,c,u,h,f,x,m,j,y;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:d0,this.heartbeatIntervalMs=(a=e==null?void 0:e.heartbeatIntervalMs)!==null&&a!==void 0?a:qh.HEARTBEAT_INTERVAL,this.worker=(o=e==null?void 0:e.worker)!==null&&o!==void 0?o:!1,this.accessToken=(c=e==null?void 0:e.accessToken)!==null&&c!==void 0?c:null,this.heartbeatCallback=(u=e==null?void 0:e.heartbeatCallback)!==null&&u!==void 0?u:yp,this.vsn=(h=e==null?void 0:e.vsn)!==null&&h!==void 0?h:Eg,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(f=e==null?void 0:e.reconnectAfterMs)!==null&&f!==void 0?f:C=>m5[C-1]||g5,this.vsn){case J1:this.encode=(x=e==null?void 0:e.encode)!==null&&x!==void 0?x:(C,k)=>k(JSON.stringify(C)),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:(C,k)=>k(JSON.parse(C));break;case a5:this.encode=(j=e==null?void 0:e.encode)!==null&&j!==void 0?j:this.serializer.encode.bind(this.serializer),this.decode=(y=e==null?void 0:e.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Vd=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function v5(t,e,r){const n=new URL(e,t);if(r)for(const[a,o]of Object.entries(r))o!==void 0&&n.searchParams.set(a,o);return n.toString()}async function y5(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function w5(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:o,headers:c}){const u=v5(t.baseUrl,n,a),h=await y5(t.auth),f=await e(u,{method:r,headers:{...o?{"Content-Type":"application/json"}:{},...h,...c},body:o?JSON.stringify(o):void 0}),x=await f.text(),m=(f.headers.get("content-type")||"").includes("application/json"),j=m&&x?JSON.parse(x):x;if(!f.ok){const y=m?j:void 0,C=y==null?void 0:y.error;throw new Vd((C==null?void 0:C.message)??`Request failed with status ${f.status}`,{status:f.status,icebergType:C==null?void 0:C.type,icebergCode:C==null?void 0:C.code,details:y})}return{status:f.status,headers:f.headers,data:j}}}}function Uh(t){return t.join("")}var _5=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Uh(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Uh(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Uh(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Uh(t.namespace)}`}),!0}catch(e){if(e instanceof Vd&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof Vd&&r.status===409)return;throw r}}};function $u(t){return t.join("")}var j5=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$u(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$u(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$u(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$u(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$u(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$u(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof Vd&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof Vd&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},S5=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=w5({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new _5(this.client,e),this.tableOps=new j5(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Cf=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function Bn(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var N5=class extends Cf{constructor(t,e,r){super(t),this.name="StorageApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},p0=class extends Cf{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const em=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),k5=()=>Response,m0=t=>{if(Array.isArray(t))return t.map(r=>m0(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));e[a]=m0(n)}),e},C5=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},A5=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Gd(t){"@babel/helpers - typeof";return Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gd(t)}function E5(t,e){if(Gd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Gd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function L5(t){var e=E5(t,"string");return Gd(e)=="symbol"?e:e+""}function P5(t,e,r){return(e=L5(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ut(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rg(Object(r),!0).forEach(function(n){P5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rg(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const wp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},T5=async(t,e,r)=>{t instanceof await k5()&&!(r!=null&&r.noResolveJson)?t.json().then(n=>{const a=t.status||500,o=(n==null?void 0:n.statusCode)||a+"";e(new N5(wp(n),a,o))}).catch(n=>{e(new p0(wp(n),n))}):e(new p0(wp(t),t))},R5=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?a:(C5(n)?(a.headers=Ut({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,e!=null&&e.duplex&&(a.duplex=e.duplex),Ut(Ut({},a),r))};async function ch(t,e,r,n,a,o){return new Promise((c,u)=>{t(r,R5(e,n,a,o)).then(h=>{if(!h.ok)throw h;return n!=null&&n.noResolveJson?h:h.json()}).then(h=>c(h)).catch(h=>T5(h,u,n))})}async function Kd(t,e,r,n){return ch(t,"GET",e,r,n)}async function el(t,e,r,n,a){return ch(t,"POST",e,n,a,r)}async function g0(t,e,r,n,a){return ch(t,"PUT",e,n,a,r)}async function I5(t,e,r,n){return ch(t,"HEAD",e,Ut(Ut({},r),{},{noResolveJson:!0}),n)}async function tm(t,e,r,n,a){return ch(t,"DELETE",e,n,a,r)}var O5=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Bn(e))return{data:null,error:e};throw e}}};let Q1;Q1=Symbol.toStringTag;var D5=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[Q1]="BlobDownloadBuilder",this.promise=null}asStream(){return new O5(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Bn(e))return{data:null,error:e};throw e}}};const F5={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ig={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var B5=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=r,this.fetch=em(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,r,n){var a=this;try{let o;const c=Ut(Ut({},Ig),n);let u=Ut(Ut({},a.headers),t==="POST"&&{"x-upsert":String(c.upsert)});const h=c.metadata;typeof Blob<"u"&&r instanceof Blob?(o=new FormData,o.append("cacheControl",c.cacheControl),h&&o.append("metadata",a.encodeMetadata(h)),o.append("",r)):typeof FormData<"u"&&r instanceof FormData?(o=r,o.has("cacheControl")||o.append("cacheControl",c.cacheControl),h&&!o.has("metadata")&&o.append("metadata",a.encodeMetadata(h))):(o=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType,h&&(u["x-metadata"]=a.toBase64(a.encodeMetadata(h))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!c.duplex&&(c.duplex="half")),n!=null&&n.headers&&(u=Ut(Ut({},u),n.headers));const f=a._removeEmptyFolders(e),x=a._getFinalPath(f),m=await(t=="PUT"?g0:el)(a.fetch,`${a.url}/object/${x}`,o,Ut({headers:u},c!=null&&c.duplex?{duplex:c.duplex}:{}));return{data:{path:f,id:m.Id,fullPath:m.Key},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(Bn(o))return{data:null,error:o};throw o}}async upload(t,e,r){return this.uploadOrUpdate("POST",t,e,r)}async uploadToSignedUrl(t,e,r,n){var a=this;const o=a._removeEmptyFolders(t),c=a._getFinalPath(o),u=new URL(a.url+`/object/upload/sign/${c}`);u.searchParams.set("token",e);try{let h;const f=Ut({upsert:Ig.upsert},n),x=Ut(Ut({},a.headers),{"x-upsert":String(f.upsert)});return typeof Blob<"u"&&r instanceof Blob?(h=new FormData,h.append("cacheControl",f.cacheControl),h.append("",r)):typeof FormData<"u"&&r instanceof FormData?(h=r,h.append("cacheControl",f.cacheControl)):(h=r,x["cache-control"]=`max-age=${f.cacheControl}`,x["content-type"]=f.contentType),{data:{path:o,fullPath:(await g0(a.fetch,u.toString(),h,{headers:x})).Key},error:null}}catch(h){if(a.shouldThrowOnError)throw h;if(Bn(h))return{data:null,error:h};throw h}}async createSignedUploadUrl(t,e){var r=this;try{let n=r._getFinalPath(t);const a=Ut({},r.headers);e!=null&&e.upsert&&(a["x-upsert"]="true");const o=await el(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),c=new URL(r.url+o.url),u=c.searchParams.get("token");if(!u)throw new Cf("No token returned by API");return{data:{signedUrl:c.toString(),path:t,token:u},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Bn(n))return{data:null,error:n};throw n}}async update(t,e,r){return this.uploadOrUpdate("PUT",t,e,r)}async move(t,e,r){var n=this;try{return{data:await el(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Bn(a))return{data:null,error:a};throw a}}async copy(t,e,r){var n=this;try{return{data:{path:(await el(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:t,destinationKey:e,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Bn(a))return{data:null,error:a};throw a}}async createSignedUrl(t,e,r){var n=this;try{let a=n._getFinalPath(t),o=await el(n.fetch,`${n.url}/object/sign/${a}`,Ut({expiresIn:e},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return o={signedUrl:encodeURI(`${n.url}${o.signedURL}${c}`)},{data:o,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Bn(a))return{data:null,error:a};throw a}}async createSignedUrls(t,e,r){var n=this;try{const a=await el(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:e,paths:t},{headers:n.headers}),o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(c=>Ut(Ut({},c),{},{signedUrl:c.signedURL?encodeURI(`${n.url}${c.signedURL}${o}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Bn(a))return{data:null,error:a};throw a}}download(t,e){const r=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),a=n?`?${n}`:"",o=this._getFinalPath(t),c=()=>Kd(this.fetch,`${this.url}/${r}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new D5(c,this.shouldThrowOnError)}async info(t){var e=this;const r=e._getFinalPath(t);try{return{data:m0(await Kd(e.fetch,`${e.url}/object/info/${r}`,{headers:e.headers})),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Bn(n))return{data:null,error:n};throw n}}async exists(t){var e=this;const r=e._getFinalPath(t);try{return await I5(e.fetch,`${e.url}/object/${r}`,{headers:e.headers}),{data:!0,error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Bn(n)&&n instanceof p0){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(t,e){const r=this._getFinalPath(t),n=[],a=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";a!==""&&n.push(a);const o=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});c!==""&&n.push(c);let u=n.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${u}`)}}}async remove(t){var e=this;try{return{data:await tm(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Bn(r))return{data:null,error:r};throw r}}async list(t,e,r){var n=this;try{const a=Ut(Ut(Ut({},F5),e),{},{prefix:t||""});return{data:await el(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(Bn(a))return{data:null,error:a};throw a}}async listV2(t,e){var r=this;try{const n=Ut({},t);return{data:await el(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},e),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Bn(n))return{data:null,error:n};throw n}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const ex="2.90.0",tx={"X-Client-Info":`storage-js/${ex}`};var $5=class{constructor(t,e={},r,n){this.shouldThrowOnError=!1;const a=new URL(t);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=Ut(Ut({},tx),e),this.fetch=em(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const r=e.listBucketOptionsToQueryString(t);return{data:await Kd(e.fetch,`${e.url}/bucket${r}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Bn(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await Kd(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Bn(r))return{data:null,error:r};throw r}}async createBucket(t,e={public:!1}){var r=this;try{return{data:await el(r.fetch,`${r.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Bn(n))return{data:null,error:n};throw n}}async updateBucket(t,e){var r=this;try{return{data:await g0(r.fetch,`${r.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Bn(n))return{data:null,error:n};throw n}}async emptyBucket(t){var e=this;try{return{data:await el(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Bn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await tm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Bn(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},M5=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ut(Ut({},tx),e),this.fetch=em(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await el(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Bn(r))return{data:null,error:r};throw r}}async listBuckets(t){var e=this;try{const r=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&r.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&r.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&r.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&r.set("sortOrder",t.sortOrder),t!=null&&t.search&&r.set("search",t.search);const n=r.toString(),a=n?`${e.url}/bucket?${n}`:`${e.url}/bucket`;return{data:await Kd(e.fetch,a,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Bn(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await tm(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Bn(r))return{data:null,error:r};throw r}}from(t){var e=this;if(!A5(t))throw new Cf("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new S5({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,o){const c=a[o];return typeof c!="function"?c:async(...u)=>{try{return{data:await c.apply(a,u),error:null}}catch(h){if(n)throw h;return{data:null,error:h}}}}})}};const rm={"X-Client-Info":`storage-js/${ex}`,"Content-Type":"application/json"};var rx=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Ms(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var _p=class extends rx{constructor(t,e,r){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},q5=class extends rx{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const nm=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),U5=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Og=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),z5=async(t,e,r)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const n=t.status||500,a=t;if(typeof a.json=="function")a.json().then(o=>{const c=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||n+"";e(new _p(Og(o),n,c))}).catch(()=>{const o=n+"";e(new _p(a.statusText||`HTTP ${n} error`,n,o))});else{const o=n+"";e(new _p(a.statusText||`HTTP ${n} error`,n,o))}}else e(new q5(Og(t),t))},H5=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(U5(n)?(a.headers=Ut({"Content-Type":"application/json"},e==null?void 0:e.headers),a.body=JSON.stringify(n)):a.body=n,Ut(Ut({},a),r)):a};async function W5(t,e,r,n,a,o){return new Promise((c,u)=>{t(r,H5(e,n,a,o)).then(h=>{if(!h.ok)throw h;if(n!=null&&n.noResolveJson)return h;const f=h.headers.get("content-type");return!f||!f.includes("application/json")?{}:h.json()}).then(h=>c(h)).catch(h=>z5(h,u,n))})}async function qs(t,e,r,n,a){return W5(t,"POST",e,n,a,r)}var V5=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ut(Ut({},rm),e),this.fetch=nm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await qs(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ms(r))return{data:null,error:r};throw r}}async getIndex(t,e){var r=this;try{return{data:await qs(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ms(n))return{data:null,error:n};throw n}}async listIndexes(t){var e=this;try{return{data:await qs(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ms(r))return{data:null,error:r};throw r}}async deleteIndex(t,e){var r=this;try{return{data:await qs(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(Ms(n))return{data:null,error:n};throw n}}},G5=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ut(Ut({},rm),e),this.fetch=nm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await qs(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ms(r))return{data:null,error:r};throw r}}async getVectors(t){var e=this;try{return{data:await qs(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ms(r))return{data:null,error:r};throw r}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await qs(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ms(r))return{data:null,error:r};throw r}}async queryVectors(t){var e=this;try{return{data:await qs(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ms(r))return{data:null,error:r};throw r}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await qs(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ms(r))return{data:null,error:r};throw r}}},K5=class{constructor(t,e={},r){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Ut(Ut({},rm),e),this.fetch=nm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await qs(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ms(r))return{data:null,error:r};throw r}}async getBucket(t){var e=this;try{return{data:await qs(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ms(r))return{data:null,error:r};throw r}}async listBuckets(t={}){var e=this;try{return{data:await qs(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ms(r))return{data:null,error:r};throw r}}async deleteBucket(t){var e=this;try{return{data:await qs(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(r){if(e.shouldThrowOnError)throw r;if(Ms(r))return{data:null,error:r};throw r}}},J5=class extends K5{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new Y5(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,r=this;return e().call(r,t)}async getBucket(t){var e=()=>super.getBucket,r=this;return e().call(r,t)}async listBuckets(t={}){var e=()=>super.listBuckets,r=this;return e().call(r,t)}async deleteBucket(t){var e=()=>super.deleteBucket,r=this;return e().call(r,t)}},Y5=class extends V5{constructor(t,e,r,n){super(t,e,n),this.vectorBucketName=r}async createIndex(t){var e=()=>super.createIndex,r=this;return e().call(r,Ut(Ut({},t),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,r=this;return e().call(r,Ut(Ut({},t),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,r=this;return e().call(r,r.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,r=this;return e().call(r,r.vectorBucketName,t)}index(t){return new X5(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},X5=class extends G5{constructor(t,e,r,n,a){super(t,e,a),this.vectorBucketName=r,this.indexName=n}async putVectors(t){var e=()=>super.putVectors,r=this;return e().call(r,Ut(Ut({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(t){var e=()=>super.getVectors,r=this;return e().call(r,Ut(Ut({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,r=this;return e().call(r,Ut(Ut({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,r=this;return e().call(r,Ut(Ut({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,r=this;return e().call(r,Ut(Ut({},t),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Z5=class extends $5{constructor(t,e={},r,n){super(t,e,r,n)}from(t){return new B5(this.url,this.headers,t,this.fetch)}get vectors(){return new J5(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new M5(this.url+"/iceberg",this.headers,this.fetch)}};const nx="2.90.0",Yu=30*1e3,b0=3,jp=b0*Yu,Q5="http://localhost:9999",ew="supabase.auth.token",tw={"X-Client-Info":`gotrue-js/${nx}`},x0="X-Supabase-Api-Version",ix={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},rw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nw=10*60*1e3;class Jd extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Nt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class iw extends Jd{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function aw(t){return Nt(t)&&t.name==="AuthApiError"}class uu extends Jd{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class ac extends Jd{constructor(e,r,n,a){super(e,n,a),this.name=r,this.status=n}}class Bs extends ac{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function sw(t){return Nt(t)&&t.name==="AuthSessionMissingError"}class Mu extends ac{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class zh extends ac{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Hh extends ac{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ow(t){return Nt(t)&&t.name==="AuthImplicitGrantRedirectError"}class Dg extends ac{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class lw extends ac{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class v0 extends ac{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Sp(t){return Nt(t)&&t.name==="AuthRetryableFetchError"}class Fg extends ac{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class y0 extends ac{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const df="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Bg=` 	
\r=`.split(""),cw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Bg.length;e+=1)t[Bg[e].charCodeAt(0)]=-2;for(let e=0;e<df.length;e+=1)t[df[e].charCodeAt(0)]=e;return t})();function $g(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(df[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(df[n]),e.queuedBits-=6}}function ax(t,e,r){const n=cw[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Mg(t){const e=[],r=c=>{e.push(String.fromCodePoint(c))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},o=c=>{hw(c,n,r)};for(let c=0;c<t.length;c+=1)ax(t.charCodeAt(c),a,o);return e.join("")}function uw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function dw(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}uw(n,e)}}function hw(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function rd(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};for(let a=0;a<t.length;a+=1)ax(t.charCodeAt(a),r,n);return new Uint8Array(e)}function fw(t){const e=[];return dw(t,r=>e.push(r)),new Uint8Array(e)}function hu(t){const e=[],r={queue:0,queuedBits:0},n=a=>{e.push(a)};return t.forEach(a=>$g(a,r,n)),$g(null,r,n),e.join("")}function pw(t){return Math.round(Date.now()/1e3)+t}function mw(){return Symbol("auth-callback")}const ga=()=>typeof window<"u"&&typeof document<"u",au={tested:!1,writable:!1},sx=()=>{if(!ga())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(au.tested)return au.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),au.tested=!0,au.writable=!0}catch{au.tested=!0,au.writable=!1}return au.writable};function gw(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,o)=>{e[o]=a})}catch{}return r.searchParams.forEach((n,a)=>{e[a]=n}),e}const ox=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),bw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Xu=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},su=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ma=async(t,e)=>{await t.removeItem(e)};class Af{constructor(){this.promise=new Af.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Af.promiseConstructor=Promise;function Np(t){const e=t.split(".");if(e.length!==3)throw new y0("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!rw.test(e[n]))throw new y0("JWT not in base64url format");return{header:JSON.parse(Mg(e[0])),payload:JSON.parse(Mg(e[1])),signature:rd(e[2]),raw:{header:e[0],payload:e[1]}}}async function xw(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function vw(t,e){return new Promise((n,a)=>{(async()=>{for(let o=0;o<1/0;o++)try{const c=await t(o);if(!e(o,null,c)){n(c);return}}catch(c){if(!e(o,c)){a(c);return}}})()})}function yw(t){return("0"+t.toString(16)).substr(-2)}function ww(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let o=0;o<56;o++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(e),Array.from(e,yw).join("")}async function _w(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(o=>String.fromCharCode(o)).join("")}async function jw(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await _w(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qu(t,e,r=!1){const n=ww();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Xu(t,`${e}-code-verifier`,a);const o=await jw(n);return[o,n===o?"plain":"s256"]}const Sw=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Nw(t){const e=t.headers.get(x0);if(!e||!e.match(Sw))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function kw(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Cw(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Aw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Uu(t){if(!Aw.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function kp(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ew(t,e){return new Proxy(t,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const o=n.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,a)}})}function qg(t){return JSON.parse(JSON.stringify(t))}const ou=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Lw=[502,503,504];async function Ug(t){var e;if(!bw(t))throw new v0(ou(t),0);if(Lw.includes(t.status))throw new v0(ou(t),t.status);let r;try{r=await t.json()}catch(o){throw new uu(ou(o),o)}let n;const a=Nw(t);if(a&&a.getTime()>=ix["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Fg(ou(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Bs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,c)=>o&&typeof c=="string",!0))throw new Fg(ou(r),t.status,r.weak_password.reasons);throw new iw(ou(r),t.status||500,n)}const Pw=(t,e,r,n)=>{const a={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function qt(t,e,r,n){var a;const o=Object.assign({},n==null?void 0:n.headers);o[x0]||(o[x0]=ix["2024-01-01"].name),n!=null&&n.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const c=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(c.redirect_to=n.redirectTo);const u=Object.keys(c).length?"?"+new URLSearchParams(c).toString():"",h=await Tw(t,e,r+u,{headers:o,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(h):{data:Object.assign({},h),error:null}}async function Tw(t,e,r,n,a,o){const c=Pw(e,n,a,o);let u;try{u=await t(r,Object.assign({},c))}catch(h){throw console.error(h),new v0(ou(h),0)}if(u.ok||await Ug(u),n!=null&&n.noResolveJson)return u;try{return await u.json()}catch(h){await Ug(h)}}function Qo(t){var e;let r=null;Ow(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=pw(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function zg(t){const e=Qo(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Rc(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Rw(t){return{data:t,error:null}}function Iw(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o}=t,c=kf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),u={action_link:e,email_otp:r,hashed_token:n,redirect_to:a,verification_type:o},h=Object.assign({},c);return{data:{properties:u,user:h},error:null}}function Hg(t){return t}function Ow(t){return t.access_token&&t.refresh_token&&t.expires_in}const Cp=["global","local","others"];class Dw{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=ox(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=Cp[0]){if(Cp.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Cp.join(", ")}`);try{return await qt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Nt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await qt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Rc})}catch(n){if(Nt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=kf(e,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await qt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:Iw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Nt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await qt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Rc})}catch(r){if(Nt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,a,o,c,u,h;try{const f={nextPage:null,lastPage:0,total:0},x=await qt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Hg});if(x.error)throw x.error;const m=await x.json(),j=(c=x.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(h=(u=x.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return y.length>0&&(y.forEach(C=>{const k=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(C.split(";")[1].split("=")[1]);f[`${L}Page`]=k}),f.total=parseInt(j)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Nt(f))return{data:{users:[]},error:f};throw f}}async getUserById(e){Uu(e);try{return await qt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Rc})}catch(r){if(Nt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Uu(e);try{return await qt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Rc})}catch(n){if(Nt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Uu(e);try{return await qt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Rc})}catch(n){if(Nt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Uu(e.userId);try{const{data:r,error:n}=await qt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Uu(e.userId),Uu(e.id);try{return{data:await qt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,a,o,c,u,h;try{const f={nextPage:null,lastPage:0,total:0},x=await qt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(a=e==null?void 0:e.perPage)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:""},xform:Hg});if(x.error)throw x.error;const m=await x.json(),j=(c=x.headers.get("x-total-count"))!==null&&c!==void 0?c:0,y=(h=(u=x.headers.get("link"))===null||u===void 0?void 0:u.split(","))!==null&&h!==void 0?h:[];return y.length>0&&(y.forEach(C=>{const k=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),L=JSON.parse(C.split(";")[1].split("=")[1]);f[`${L}Page`]=k}),f.total=parseInt(j)),{data:Object.assign(Object.assign({},m),f),error:null}}catch(f){if(Nt(f))return{data:{clients:[]},error:f};throw f}}async _createOAuthClient(e){try{return await qt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await qt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await qt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Nt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await qt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Nt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await qt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Nt(r))return{data:null,error:r};throw r}}}function Wg(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const zu={debug:!!(globalThis&&sx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class lx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Fw extends lx{}async function Bw(t,e,r){zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),zu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,a.name);try{return await r()}finally{zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,a.name)}}else{if(e===0)throw zu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Fw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(zu.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function $w(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function cx(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Mw(t){return parseInt(t,16)}function qw(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Uw(t){var e;const{chainId:r,domain:n,expirationTime:a,issuedAt:o=new Date,nonce:c,notBefore:u,requestId:h,resources:f,scheme:x,uri:m,version:j}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(c&&c.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${c}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const y=cx(t.address),C=x?`${x}://${n}`:n,k=t.statement?`${t.statement}
`:"",L=`${C} wants you to sign in with your Ethereum account:
${y}

${k}`;let E=`URI: ${m}
Version: ${j}
Chain ID: ${r}${c?`
Nonce: ${c}`:""}
Issued At: ${o.toISOString()}`;if(a&&(E+=`
Expiration Time: ${a.toISOString()}`),u&&(E+=`
Not Before: ${u.toISOString()}`),h&&(E+=`
Request ID: ${h}`),f){let B=`
Resources:`;for(const T of f){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);B+=`
- ${T}`}E+=B}return`${L}
${E}`}class vi extends Error{constructor({message:e,code:r,cause:n,name:a}){var o;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(o=a??(n instanceof Error?n.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=r}}class hf extends vi{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function zw({error:t,options:e}){var r,n,a;const{publicKey:o}=e;if(!o)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new vi({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=o.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new vi({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=o.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new vi({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((a=o.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new vi({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new vi({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new vi({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return o.pubKeyCredParams.filter(u=>u.type==="public-key").length===0?new vi({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new vi({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const c=window.location.hostname;if(ux(c)){if(o.rp.id!==c)return new vi({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new vi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new vi({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new vi({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new vi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Hw({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new vi({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new vi({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(ux(n)){if(r.rpId!==n)return new vi({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new vi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new vi({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new vi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Ww{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Vw=new Ww;function Gw(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,a=kf(t,["challenge","user","excludeCredentials"]),o=rd(e).buffer,c=Object.assign(Object.assign({},r),{id:rd(r.id).buffer}),u=Object.assign(Object.assign({},a),{challenge:o,user:c});if(n&&n.length>0){u.excludeCredentials=new Array(n.length);for(let h=0;h<n.length;h++){const f=n[h];u.excludeCredentials[h]=Object.assign(Object.assign({},f),{id:rd(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function Kw(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=kf(t,["challenge","allowCredentials"]),a=rd(e).buffer,o=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){o.allowCredentials=new Array(r.length);for(let c=0;c<r.length;c++){const u=r[c];o.allowCredentials[c]=Object.assign(Object.assign({},u),{id:rd(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function Jw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:hu(new Uint8Array(t.response.attestationObject)),clientDataJSON:hu(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Yw(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),a=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:hu(new Uint8Array(a.authenticatorData)),clientDataJSON:hu(new Uint8Array(a.clientDataJSON)),signature:hu(new Uint8Array(a.signature)),userHandle:a.userHandle?hu(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function ux(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Vg(){var t,e;return!!(ga()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Xw(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hf("Browser returned unexpected credential type",e)}:{data:null,error:new hf("Empty credential response",e)}}catch(e){return{data:null,error:zw({error:e,options:t})}}}async function Zw(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new hf("Browser returned unexpected credential type",e)}:{data:null,error:new hf("Empty credential response",e)}}catch(e){return{data:null,error:Hw({error:e,options:t})}}}const Qw={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},e_={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ff(...t){const e=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of t)if(a)for(const o in a){const c=a[o];if(c!==void 0)if(Array.isArray(c))n[o]=c;else if(r(c))n[o]=c;else if(e(c)){const u=n[o];e(u)?n[o]=ff(u,c):n[o]=ff(c)}else n[o]=c}return n}function t_(t,e){return ff(Qw,t,e||{})}function r_(t,e){return ff(e_,t,e||{})}class n_{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:a},o){try{const{data:c,error:u}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!c)return{data:null,error:u};const h=a??Vw.createNewAbortSignal();if(c.webauthn.type==="create"){const{user:f}=c.webauthn.credential_options.publicKey;f.name||(f.name=`${f.id}:${n}`),f.displayName||(f.displayName=f.name)}switch(c.webauthn.type){case"create":{const f=t_(c.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:x,error:m}=await Xw({publicKey:f,signal:h});return x?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:x}},error:null}:{data:null,error:m}}case"request":{const f=r_(c.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:x,error:m}=await Zw(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:f,signal:h}));return x?{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:x}},error:null}:{data:null,error:m}}}}catch(c){return Nt(c)?{data:null,error:c}:{data:null,error:new uu("Unexpected error in challenge",c)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!r)return{data:null,error:new Jd("rpId is required for WebAuthn authentication")};try{if(!Vg())return{data:null,error:new uu("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:o});if(!c)return{data:null,error:u};const{webauthn:h}=c;return this._verify({factorId:e,challengeId:c.challengeId,webauthn:{type:h.type,rpId:r,rpOrigins:n,credential_response:h.credential_response}})}catch(c){return Nt(c)?{data:null,error:c}:{data:null,error:new uu("Unexpected error in authenticate",c)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},o){if(!r)return{data:null,error:new Jd("rpId is required for WebAuthn registration")};try{if(!Vg())return{data:null,error:new uu("Browser does not support WebAuthn",null)};const{data:c,error:u}=await this._enroll({friendlyName:e});if(!c)return await this.client.mfa.listFactors().then(x=>{var m;return(m=x.data)===null||m===void 0?void 0:m.all.find(j=>j.factor_type==="webauthn"&&j.friendly_name===e&&j.status!=="unverified")}).then(x=>x?this.client.mfa.unenroll({factorId:x==null?void 0:x.id}):void 0),{data:null,error:u};const{data:h,error:f}=await this._challenge({factorId:c.id,friendlyName:c.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:o});return h?this._verify({factorId:c.id,challengeId:h.challengeId,webauthn:{rpId:r,rpOrigins:n,type:h.webauthn.type,credential_response:h.webauthn.credential_response}}):{data:null,error:f}}catch(c){return Nt(c)?{data:null,error:c}:{data:null,error:new uu("Unexpected error in register",c)}}}}$w();const i_={url:Q5,storageKey:ew,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:tw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Gg(t,e,r){return await r()}const Hu={};class Yd{get jwks(){var e,r;return(r=(e=Hu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Hu[this.storageKey]=Object.assign(Object.assign({},Hu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Hu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Hu[this.storageKey]=Object.assign(Object.assign({},Hu[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},i_),e);if(this.storageKey=o.storageKey,this.instanceID=(r=Yd.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Yd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&ga()){const c=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(c),this.logDebugMessages&&console.trace(c)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new Dw({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=ox(o.fetch),this.lock=o.lock||Gg,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&ga()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Bw:this.lock=Gg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new n_(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:sx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wg(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Wg(this.memoryStorage)),ga()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${nx}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(ga()&&(r=gw(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),ga()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),ow(o)){const h=(e=o.details)===null||e===void 0?void 0:e.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:c,redirectType:u}=a;return this._debug("#_initialize()","detected session in URL",c,"redirect type",u),await this._saveSession(c),setTimeout(async()=>{u==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",c):await this._notifyAllSubscribers("SIGNED_IN",c)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Nt(r)?this._returnResult({error:r}):this._returnResult({error:new uu("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,a;try{const o=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=e==null?void 0:e.options)===null||a===void 0?void 0:a.captchaToken}},xform:Qo}),{data:c,error:u}=o;if(u||!c)return this._returnResult({data:{user:null,session:null},error:u});const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(o){if(Nt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var r,n,a;try{let o;if("email"in e){const{email:x,password:m,options:j}=e;let y=null,C=null;this.flowType==="pkce"&&([y,C]=await qu(this.storage,this.storageKey)),o=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j==null?void 0:j.emailRedirectTo,body:{email:x,password:m,data:(r=j==null?void 0:j.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:y,code_challenge_method:C},xform:Qo})}else if("phone"in e){const{phone:x,password:m,options:j}=e;o=await qt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:m,data:(n=j==null?void 0:j.data)!==null&&n!==void 0?n:{},channel:(a=j==null?void 0:j.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken}},xform:Qo})}else throw new zh("You must provide either an email or phone number and a password");const{data:c,error:u}=o;if(u||!c)return await ma(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:u});const h=c.session,f=c.user;return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(o){if(await ma(this.storage,`${this.storageKey}-code-verifier`),Nt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let r;if("email"in e){const{email:o,password:c,options:u}=e;r=await qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:zg})}else if("phone"in e){const{phone:o,password:c,options:u}=e;r=await qt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:c,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},xform:zg})}else throw new zh("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const o=new Mu;return this._returnResult({data:{user:null,session:null},error:o})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,a,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=e.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,a,o,c,u,h,f,x,m,j;let y,C;if("message"in e)y=e.message,C=e.signature;else{const{chain:k,wallet:L,statement:E,options:B}=e;let T;if(ga())if(typeof L=="object")T=L;else{const J=window;if("ethereum"in J&&typeof J.ethereum=="object"&&"request"in J.ethereum&&typeof J.ethereum.request=="function")T=J.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof L!="object"||!(B!=null&&B.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=L}const D=new URL((r=B==null?void 0:B.url)!==null&&r!==void 0?r:window.location.href),z=await T.request({method:"eth_requestAccounts"}).then(J=>J).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!z||z.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const ie=cx(z[0]);let se=(n=B==null?void 0:B.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!se){const J=await T.request({method:"eth_chainId"});se=Mw(J)}const Q={domain:D.host,address:ie,statement:E,uri:D.href,version:"1",chainId:se,nonce:(a=B==null?void 0:B.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(c=(o=B==null?void 0:B.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&c!==void 0?c:new Date,expirationTime:(u=B==null?void 0:B.signInWithEthereum)===null||u===void 0?void 0:u.expirationTime,notBefore:(h=B==null?void 0:B.signInWithEthereum)===null||h===void 0?void 0:h.notBefore,requestId:(f=B==null?void 0:B.signInWithEthereum)===null||f===void 0?void 0:f.requestId,resources:(x=B==null?void 0:B.signInWithEthereum)===null||x===void 0?void 0:x.resources};y=Uw(Q),C=await T.request({method:"personal_sign",params:[qw(y),ie]})}try{const{data:k,error:L}=await qt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:C},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(j=e.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Qo});if(L)throw L;if(!k||!k.session||!k.user){const E=new Mu;return this._returnResult({data:{user:null,session:null},error:E})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:L})}catch(k){if(Nt(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async signInWithSolana(e){var r,n,a,o,c,u,h,f,x,m,j,y;let C,k;if("message"in e)C=e.message,k=e.signature;else{const{chain:L,wallet:E,statement:B,options:T}=e;let D;if(ga())if(typeof E=="object")D=E;else{const ie=window;if("solana"in ie&&typeof ie.solana=="object"&&("signIn"in ie.solana&&typeof ie.solana.signIn=="function"||"signMessage"in ie.solana&&typeof ie.solana.signMessage=="function"))D=ie.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=E}const z=new URL((r=T==null?void 0:T.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in D&&D.signIn){const ie=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:z.host,uri:z.href}),B?{statement:B}:null));let se;if(Array.isArray(ie)&&ie[0]&&typeof ie[0]=="object")se=ie[0];else if(ie&&typeof ie=="object"&&"signedMessage"in ie&&"signature"in ie)se=ie;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in se&&"signature"in se&&(typeof se.signedMessage=="string"||se.signedMessage instanceof Uint8Array)&&se.signature instanceof Uint8Array)C=typeof se.signedMessage=="string"?se.signedMessage:new TextDecoder().decode(se.signedMessage),k=se.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${z.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${z.href}`,`Issued At: ${(a=(n=T==null?void 0:T.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((o=T==null?void 0:T.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((c=T==null?void 0:T.signInWithSolana)===null||c===void 0)&&c.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((u=T==null?void 0:T.signInWithSolana)===null||u===void 0)&&u.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((h=T==null?void 0:T.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((f=T==null?void 0:T.signInWithSolana)===null||f===void 0)&&f.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((m=(x=T==null?void 0:T.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||m===void 0)&&m.length?["Resources",...T.signInWithSolana.resources.map(se=>`- ${se}`)]:[]].join(`
`);const ie=await D.signMessage(new TextEncoder().encode(C),"utf8");if(!ie||!(ie instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");k=ie}}try{const{data:L,error:E}=await qt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:hu(k)},!((j=e.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Qo});if(E)throw E;if(!L||!L.session||!L.user){const B=new Mu;return this._returnResult({data:{user:null,session:null},error:B})}return L.session&&(await this._saveSession(L.session),await this._notifyAllSubscribers("SIGNED_IN",L.session)),this._returnResult({data:Object.assign({},L),error:E})}catch(L){if(Nt(L))return this._returnResult({data:{user:null,session:null},error:L});throw L}}async _exchangeCodeForSession(e){const r=await su(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new lw;const{data:o,error:c}=await qt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Qo});if(await ma(this.storage,`${this.storageKey}-code-verifier`),c)throw c;if(!o||!o.session||!o.user){const u=new Mu;return this._returnResult({data:{user:null,session:null,redirectType:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:a??null}),error:c})}catch(o){if(await ma(this.storage,`${this.storageKey}-code-verifier`),Nt(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{const{options:r,provider:n,token:a,access_token:o,nonce:c}=e,u=await qt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:o,nonce:c,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Qo}),{data:h,error:f}=u;if(f)return this._returnResult({data:{user:null,session:null},error:f});if(!h||!h.session||!h.user){const x=new Mu;return this._returnResult({data:{user:null,session:null},error:x})}return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),this._returnResult({data:h,error:f})}catch(r){if(Nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,a,o,c;try{if("email"in e){const{email:u,options:h}=e;let f=null,x=null;this.flowType==="pkce"&&([f,x]=await qu(this.storage,this.storageKey));const{error:m}=await qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},create_user:(n=h==null?void 0:h.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:f,code_challenge_method:x},redirectTo:h==null?void 0:h.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:u,options:h}=e,{data:f,error:x}=await qt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},create_user:(o=h==null?void 0:h.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(c=h==null?void 0:h.channel)!==null&&c!==void 0?c:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:f==null?void 0:f.message_id},error:x})}throw new zh("You must provide either an email or phone number.")}catch(u){if(await ma(this.storage,`${this.storageKey}-code-verifier`),Nt(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async verifyOtp(e){var r,n;try{let a,o;"options"in e&&(a=(r=e.options)===null||r===void 0?void 0:r.redirectTo,o=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:c,error:u}=await qt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:a,xform:Qo});if(u)throw u;if(!c)throw new Error("An error occurred on token verification.");const h=c.session,f=c.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),this._returnResult({data:{user:f,session:h},error:null})}catch(a){if(Nt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(e){var r,n,a,o,c;try{let u=null,h=null;this.flowType==="pkce"&&([u,h]=await qu(this.storage,this.storageKey));const f=await qt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=e==null?void 0:e.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:h}),headers:this.headers,xform:Rw});return!((o=f.data)===null||o===void 0)&&o.url&&ga()&&!(!((c=e.options)===null||c===void 0)&&c.skipBrowserRedirect)&&window.location.assign(f.data.url),this._returnResult(f)}catch(u){if(await ma(this.storage,`${this.storageKey}-code-verifier`),Nt(u))return this._returnResult({data:null,error:u});throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Bs;const{error:a}=await qt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(e){if(Nt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:a,options:o}=e,{error:c}=await qt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:c})}else if("phone"in e){const{phone:n,type:a,options:o}=e,{data:c,error:u}=await qt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new zh("You must provide either an email or phone number and a type")}catch(r){if(Nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await su(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<jp:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const c=await su(this.userStorage,this.storageKey+"-user");c!=null&&c.user?e.user=c.user:e.user=kp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const c={value:this.suppressGetSessionWarning};e.user=Ew(e.user,c),c.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(e){try{return e?await qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Rc}):await this._useSession(async r=>{var n,a,o;const{data:c,error:u}=r;if(u)throw u;return!(!((n=c.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Bs}:await qt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(a=c.session)===null||a===void 0?void 0:a.access_token)!==null&&o!==void 0?o:void 0,xform:Rc})})}catch(r){if(Nt(r))return sw(r)&&(await this._removeSession(),await ma(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:a,error:o}=n;if(o)throw o;if(!a.session)throw new Bs;const c=a.session;let u=null,h=null;this.flowType==="pkce"&&e.email!=null&&([u,h]=await qu(this.storage,this.storageKey));const{data:f,error:x}=await qt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:u,code_challenge_method:h}),jwt:c.access_token,xform:Rc});if(x)throw x;return c.user=f.user,await this._saveSession(c),await this._notifyAllSubscribers("USER_UPDATED",c),this._returnResult({data:{user:c.user},error:null})})}catch(n){if(await ma(this.storage,`${this.storageKey}-code-verifier`),Nt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Bs;const r=Date.now()/1e3;let n=r,a=!0,o=null;const{payload:c}=Np(e.access_token);if(c.exp&&(n=c.exp,a=n<=r),a){const{data:u,error:h}=await this._callRefreshToken(e.refresh_token);if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!u)return{data:{user:null,session:null},error:null};o=u}else{const{data:u,error:h}=await this._getUser(e.access_token);if(h)throw h;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(r){if(Nt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:c,error:u}=r;if(u)throw u;e=(n=c.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Bs;const{data:a,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Nt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!ga())throw new Hh("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Hh(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Dg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Hh("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Dg("No code detected.");const{data:B,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:o,refresh_token:c,expires_in:u,expires_at:h,token_type:f}=e;if(!o||!u||!c||!f)throw new Hh("No session defined in URL");const x=Math.round(Date.now()/1e3),m=parseInt(u);let j=x+m;h&&(j=parseInt(h));const y=j-x;y*1e3<=Yu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${m}s`);const C=j-m;x-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,j,x):x-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,j,x);const{data:k,error:L}=await this._getUser(o);if(L)throw L;const E={provider_token:n,provider_refresh_token:a,access_token:o,expires_in:m,expires_at:j,refresh_token:c,token_type:f,user:k.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:e.type},error:null})}catch(n){if(Nt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await su(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return this._returnResult({error:o});const c=(n=a.session)===null||n===void 0?void 0:n.access_token;if(c){const{error:u}=await this.admin.signOut(c,e);if(u&&!(aw(u)&&(u.status===404||u.status===401||u.status===403)))return this._returnResult({error:u})}return e!=="others"&&(await this._removeSession(),await ma(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=mw(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,a;try{const{data:{session:o},error:c}=r;if(c)throw c;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((a=this.stateChangeEmitters.get(e))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await qu(this.storage,this.storageKey,!0));try{return await qt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(await ma(this.storage,`${this.storageKey}-code-verifier`),Nt(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:a}=await this._useSession(async o=>{var c,u,h,f,x;const{data:m,error:j}=o;if(j)throw j;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(c=e.options)===null||c===void 0?void 0:c.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(h=e.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await qt(this.fetch,"GET",y,{headers:this.headers,jwt:(x=(f=m.session)===null||f===void 0?void 0:f.access_token)!==null&&x!==void 0?x:void 0})});if(a)throw a;return ga()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Nt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:o}}=r;if(a)throw a;const{options:c,provider:u,token:h,access_token:f,nonce:x}=e,m=await qt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=o==null?void 0:o.access_token)!==null&&n!==void 0?n:void 0,body:{provider:u,id_token:h,access_token:f,nonce:x,link_identity:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:Qo}),{data:j,error:y}=m;return y?this._returnResult({data:{user:null,session:null},error:y}):!j||!j.session||!j.user?this._returnResult({data:{user:null,session:null},error:new Mu}):(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("USER_UPDATED",j.session)),this._returnResult({data:j,error:y}))}catch(a){if(await ma(this.storage,`${this.storageKey}-code-verifier`),Nt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,a;const{data:o,error:c}=r;if(c)throw c;return await qt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(a=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await vw(async a=>(a>0&&await xw(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await qt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Qo})),(a,o)=>{const c=200*Math.pow(2,a);return o&&Sp(o)&&Date.now()+c-n<Yu})}catch(n){if(this._debug(r,"error",n),Nt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ga()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await su(this.storage,this.storageKey);if(a&&this.userStorage){let c=await su(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!c&&(c={user:a.user},await Xu(this.userStorage,this.storageKey+"-user",c)),a.user=(e=c==null?void 0:c.user)!==null&&e!==void 0?e:kp()}else if(a&&!a.user&&!a.user){const c=await su(this.storage,this.storageKey+"-user");c&&(c!=null&&c.user)?(a.user=c.user,await ma(this.storage,this.storageKey+"-user"),await Xu(this.storage,this.storageKey,a)):a.user=kp()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const o=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<jp;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${jp}s`),o){if(this.autoRefreshToken&&a.refresh_token){const{error:c}=await this._callRefreshToken(a.refresh_token);c&&(console.error(c),Sp(c)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",c),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:c,error:u}=await this._getUser(a.access_token);!u&&(c!=null&&c.user)?(a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(c){console.error("Error getting user data:",c),this._debug(n,"error getting user data, skipping SIGNED_IN notification",c)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Bs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Af;const{data:o,error:c}=await this._refreshAccessToken(e);if(c)throw c;if(!o.session)throw new Bs;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const u={data:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(a,"error",o),Nt(o)){const c={data:null,error:o};return Sp(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(c),c}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(e,r,n=!0){const a=`#_notifyAllSubscribers(${e})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const o=[],c=Array.from(this.stateChangeEmitters.values()).map(async u=>{try{await u.callback(e,r)}catch(h){o.push(h)}});if(await Promise.all(c),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(a,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await ma(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Xu(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const o=qg(a);await Xu(this.storage,this.storageKey,o)}else{const a=qg(r);await Xu(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ma(this.storage,this.storageKey),await ma(this.storage,this.storageKey+"-code-verifier"),await ma(this.storage,this.storageKey+"-user"),this.userStorage&&await ma(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ga()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Yu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-e)/Yu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${Yu}ms, refresh threshold is ${b0} ticks`),a<=b0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof lx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ga()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,c]=await qu(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(c)}`});a.push(u.toString())}if(n!=null&&n.queryParams){const o=new URLSearchParams(n.queryParams);a.push(o.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${a.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;return o?this._returnResult({data:null,error:o}):await qt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,a;const{data:o,error:c}=r;if(c)return this._returnResult({data:null,error:c});const u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:h,error:f}=await qt(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(n=o==null?void 0:o.session)===null||n===void 0?void 0:n.access_token});return f?this._returnResult({data:null,error:f}):(e.factorType==="totp"&&h.type==="totp"&&(!((a=h==null?void 0:h.totp)===null||a===void 0)&&a.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),this._returnResult({data:h,error:null}))})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Jw(e.webauthn.credential_response):Yw(e.webauthn.credential_response)})}:{code:e.code}),{data:u,error:h}=await qt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:c,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),this._returnResult({data:u,error:h}))})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:o}=r;if(o)return this._returnResult({data:null,error:o});const c=await qt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(c.error)return c;const{data:u}=c;if(u.type!=="webauthn")return{data:u,error:null};switch(u.webauthn.type){case"create":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Gw(u.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},u),{webauthn:Object.assign(Object.assign({},u.webauthn),{credential_options:Object.assign(Object.assign({},u.webauthn.credential_options),{publicKey:Kw(u.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const o of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])a.all.push(o),o.status==="verified"&&a[o.factor_type].push(o);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Np(n.access_token);let c=null;o.aal&&(c=o.aal);let u=c;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(x=>x.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const f=o.amr||[];return{data:{currentLevel:c,nextLevel:u,currentAuthenticationMethods:f},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await qt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Bs})})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Bs});const c=await qt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&ga()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Nt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:a},error:o}=n;if(o)return this._returnResult({data:null,error:o});if(!a)return this._returnResult({data:null,error:new Bs});const c=await qt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:u=>({data:u,error:null})});return c.data&&c.data.redirect_url&&ga()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(c.data.redirect_url),c})}catch(n){if(Nt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await qt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Bs})})}catch(e){if(Nt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await qt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Bs})})}catch(r){if(Nt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(u=>u.kid===e);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(u=>u.kid===e),n&&this.jwks_cached_at+nw>a)return n;const{data:o,error:c}=await qt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(c)throw c;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=a,n=o.keys.find(u=>u.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:y,error:C}=await this.getSession();if(C||!y.session)return this._returnResult({data:null,error:C});n=y.session.access_token}const{header:a,payload:o,signature:c,raw:{header:u,payload:h}}=Np(n);r!=null&&r.allowExpired||kw(o.exp);const f=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!f){const{error:y}=await this.getUser(n);if(y)throw y;return{data:{claims:o,header:a,signature:c},error:null}}const x=Cw(a.alg),m=await crypto.subtle.importKey("jwk",f,x,!0,["verify"]);if(!await crypto.subtle.verify(x,m,c,fw(`${u}.${h}`)))throw new y0("Invalid JWT signature");return{data:{claims:o,header:a,signature:c},error:null}}catch(n){if(Nt(n))return this._returnResult({data:null,error:n});throw n}}}Yd.nextInstanceID={};const a_=Yd,s_="2.90.0";let Od="";typeof Deno<"u"?Od="deno":typeof document<"u"?Od="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Od="react-native":Od="node";const o_={"X-Client-Info":`supabase-js-${Od}/${s_}`},l_={headers:o_},c_={schema:"public"},u_={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},d_={};function Xd(t){"@babel/helpers - typeof";return Xd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xd(t)}function h_(t,e){if(Xd(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e||"default");if(Xd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f_(t){var e=h_(t,"string");return Xd(e)=="symbol"?e:e+""}function p_(t,e,r){return(e=f_(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Hn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Kg(Object(r),!0).forEach(function(n){p_(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Kg(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}const m_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),g_=()=>Headers,b_=(t,e,r)=>{const n=m_(r),a=g_();return async(o,c)=>{var u;const h=(u=await e())!==null&&u!==void 0?u:t;let f=new a(c==null?void 0:c.headers);return f.has("apikey")||f.set("apikey",t),f.has("Authorization")||f.set("Authorization",`Bearer ${h}`),n(o,Hn(Hn({},c),{},{headers:f}))}};function x_(t){return t.endsWith("/")?t:t+"/"}function v_(t,e){var r,n;const{db:a,auth:o,realtime:c,global:u}=t,{db:h,auth:f,realtime:x,global:m}=e,j={db:Hn(Hn({},h),a),auth:Hn(Hn({},f),o),realtime:Hn(Hn({},x),c),storage:{},global:Hn(Hn(Hn({},m),u),{},{headers:Hn(Hn({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=u==null?void 0:u.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?j.accessToken=t.accessToken:delete j.accessToken,j}function y_(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(x_(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var w_=class extends a_{constructor(t){super(t)}},__=class{constructor(t,e,r){var n,a;this.supabaseUrl=t,this.supabaseKey=e;const o=y_(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const c=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:c_,realtime:d_,auth:Hn(Hn({},u_),{},{storageKey:c}),global:l_},h=v_(r??{},u);if(this.storageKey=(n=h.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=h.global.headers)!==null&&a!==void 0?a:{},h.accessToken)this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(x,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}});else{var f;this.auth=this._initSupabaseAuthClient((f=h.auth)!==null&&f!==void 0?f:{},this.headers,h.global.fetch)}this.fetch=b_(e,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Hn({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.accessToken&&this.accessToken().then(x=>this.realtime.setAuth(x)).catch(x=>console.warn("Failed to set initial Realtime auth token:",x)),this.rest=new t5(new URL("rest/v1",o).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),this.storage=new Z5(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),h.accessToken||this._listenForAuthEvents()}get functions(){return new Yy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,r)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,r;if(t.accessToken)return await t.accessToken();const{data:n}=await t.auth.getSession();return(e=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:o,flowType:c,lock:u,debug:h,throwOnError:f},x,m){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new w_({url:this.authUrl.href,headers:Hn(Hn({},j),x),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:r,storage:n,userStorage:a,flowType:c,lock:u,debug:h,throwOnError:f,fetch:m,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new x5(this.realtimeUrl.href,Hn(Hn({},t),{},{params:Hn(Hn({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,r){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const j_=(t,e,r)=>new __(t,e,r);function S_(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const r=e.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}S_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const N_="https://cxombxhctuwpbhxsdlit.supabase.co",k_="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN4b21ieGhjdHV3cGJoeHNkbGl0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4NDQ4MzYsImV4cCI6MjA4NDQyMDgzNn0.IlT6kg7gziF2GtcaSJUt8Wq6rvHh4bQvHtfq6r6wvJE",ue=j_(N_,k_),C_=({toggleMode:t,toggleAutoMode:e,isLightMode:r,isAutoMode:n,toggleNav:a,isNavActive:o,currentView:c,setCurrentView:u,carrerasOptions:h})=>{F.useState(!1);const[f,x]=F.useState(null),[m,j]=F.useState([]),y=C=>k=>{k.preventDefault(),u(C),a()};return F.useEffect(()=>{(async()=>{const{data:k}=await ue.from("ui_header_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:L}=await ue.from("ui_header_links").select("*").order("order_index",{ascending:!0});x(k||null),j(L||[])})()},[]),s.jsx("header",{className:"header",children:s.jsxs("div",{className:"header-container",children:[s.jsxs("div",{className:"logo-title",children:[s.jsx("img",{src:(f==null?void 0:f.logo_url)||"/images/cbta134.png",alt:"Logo CBTA 134",className:"logo",onClick:()=>u("home"),style:{cursor:"pointer"}}),s.jsx("h1",{className:"site-title",onClick:()=>u("home"),style:{cursor:"pointer"},children:(f==null?void 0:f.title_text)||"Centro de Bachillerato Tecnolgico Agropecuario 134"})]}),s.jsx("nav",{className:`main-nav ${o?"active":""}`,children:m.length>0&&s.jsx("ul",{children:m.map(C=>s.jsx("li",{children:s.jsx("a",{href:C.href,onClick:y(C.path),className:"nav-link",children:C.label})},C.id))})})]})})},A_=()=>{const[t,e]=F.useState(0),[r,n]=F.useState(["/images/camaleon.jpg","/images/campus.png"]);return F.useEffect(()=>{(async()=>{const{data:o}=await ue.from("hero_slides").select("*").order("order_index",{ascending:!0});o&&o.length>0&&n(o.map(c=>c.image_url))})()},[]),F.useEffect(()=>{const a=setInterval(()=>{e(o=>(o+1)%r.length)},5e3);return()=>clearInterval(a)},[r.length]),s.jsxs("section",{className:"hero-section",children:[s.jsx("div",{className:"slides-container",children:r.map((a,o)=>s.jsx("div",{className:`slide ${o===t?"active":""}`,style:{backgroundImage:`url(${a})`}},o))}),s.jsx("div",{className:"slides-controls",children:r.map((a,o)=>s.jsx("button",{className:`slide-indicator ${o===t?"active":""}`,onClick:()=>e(o)},o))})]})},E_=()=>{const t=zc(),[e,r]=F.useState(null),[n,a]=F.useState([]);return F.useEffect(()=>{(async()=>{const{data:c}=await ue.from("ui_footer_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:u}=await ue.from("ui_footer_links").select("*").order("order_index",{ascending:!0});r(c||null),a(u||[])})()},[]),s.jsxs("footer",{className:"footer",children:[s.jsxs("div",{className:"footer-content",children:[s.jsxs("div",{className:"footer-section",children:[s.jsx("h3",{children:(e==null?void 0:e.school_name)||"CBTA 134"}),s.jsx("p",{children:(e==null?void 0:e.location_text)||"San Francisco Tetlanohcan"}),s.jsx("p",{children:(e==null?void 0:e.tagline_text)||"Educacin de calidad para el futuro"})]}),s.jsxs("div",{className:"footer-section",children:[s.jsx("h3",{children:"Autores"}),s.jsx("p",{children:"Crditos de la pgina"}),s.jsx("a",{href:"#/creditos",className:"footer-link",onClick:o=>{o.preventDefault(),t("/creditos"),window.location.hash="#/creditos"},children:"Ver autores"})]}),s.jsxs("div",{className:"footer-section",children:[s.jsx("h3",{children:"Sguenos"}),s.jsx("div",{className:"social-buttons",children:n.length>0?n.map(o=>s.jsxs("a",{href:o.href,target:"_blank",className:`social-button ${o.style_class||""}`,children:[o.icon_url&&s.jsx("img",{src:o.icon_url,alt:o.label}),o.label]},o.id)):s.jsxs(s.Fragment,{children:[s.jsxs("a",{href:"https://www.facebook.com",target:"_blank",className:"social-button facebook",children:[s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg",alt:"Facebook"}),"Facebook"]}),s.jsxs("a",{href:"https://maps.google.com",target:"_blank",className:"social-button maps",children:[s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Google_Maps_icon_%282020%29.svg",alt:"Maps"}),"Maps"]})]})})]})]}),s.jsx("div",{className:"footer-bottom",children:s.jsxs("div",{className:"footer-copyright",children:[s.jsx("p",{children:(e==null?void 0:e.copyright_text)||" 2025, Centro de Bachillerato Tecnolgico Agropecuario No. 134."}),s.jsx("p",{children:s.jsx("strong",{children:(e==null?void 0:e.rights_text)||"Todos los derechos reservados."})}),s.jsxs("div",{className:"copyright-details",children:[s.jsx("p",{children:(e==null?void 0:e.legal_text_1)||"El contenido de este sitio, incluyendo textos, imgenes, documentos, logotipos y dems materiales, es propiedad del Centro de Bachillerato Tecnolgico Agropecuario No. 134 y se encuentra protegido por la legislacin nacional e internacional sobre derechos de autor."}),s.jsx("p",{children:(e==null?void 0:e.legal_text_2)||"Queda prohibida la reproduccin, distribucin, comunicacin pblica o modificacin total o parcial de los materiales sin autorizacin previa y por escrito de los responsables del sitio."}),s.jsx("p",{children:(e==null?void 0:e.legal_text_3)||"Este sitio tiene fines acadmicos y de divulgacin estudiantil. Los contenidos compartidos pertenecen a sus autores originales y se citan nicamente con fines educativos."})]})]})})]})},im=`
  Eres Camalen IA, el asistente virtual del CBTA 134 San Francisco Tetlanohcan. Tu objetivo es proporcionar informacin precisa y til sobre la institucin. Aqu tienes informacin clave:

  - **Nombre completo**: Centro de Bachillerato Tecnolgico Agropecuario No. 134 (CBTA 134).
  - **Ubicacin**: San Francisco Tetlanohcan, Tlaxcala, Mxico.
  - **Misin**: Contribuir activamente a la formacin integral de nuestros estudiantes del Bachillerato Tecnolgico con un enfoque de desarrollo sostenible y emprendedor que los integre plenamente a la sociedad.
  - **Visin**: Ser una institucin de calidad, formadora de lderes del maana.
  - **Lema**: Formar e innovar para transformar.

  **Carreras Tcnicas Ofrecidas**:
  - **Tcnico Agropecuario**: Formacin en agricultura, ganadera y desarrollo rural sustentable.
  - **Soporte y Mantenimiento de Equipos de Cmputo (SPP)**: Especializacin en reparacin y mantenimiento de sistemas informticos.
  - **Ofimtica**: Desarrollo de habilidades en herramientas de oficina y sistemas administrativos.
  - **Programacin**: Formacin en desarrollo de software y aplicaciones.
  - **Contabilidad**: Especializacin en gestin financiera y contable.

  **Servicios y Actividades**:
  - Clubs deportivos y culturales
  - Galera de eventos y actividades
  - Sistema SAETAM para gestin acadmica
  - Proceso de admisin estructurado

  **Valores Institucionales**: Respeto, responsabilidad, honestidad, trabajo en equipo e innovacin.

  Siempre responde en espaol de manera amable y profesional. Si no tienes informacin especfica, sugiere consultar directamente con la institucin o navegar por las secciones del sitio web.
`,w0=(t,e)=>e.some(r=>t instanceof r);let Jg,Yg;function L_(){return Jg||(Jg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function P_(){return Yg||(Yg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _0=new WeakMap,Ap=new WeakMap,Ef=new WeakMap;function T_(t){const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("success",o),t.removeEventListener("error",c)},o=()=>{r(bu(t.result)),a()},c=()=>{n(t.error),a()};t.addEventListener("success",o),t.addEventListener("error",c)});return Ef.set(e,t),e}function R_(t){if(_0.has(t))return;const e=new Promise((r,n)=>{const a=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",c),t.removeEventListener("abort",c)},o=()=>{r(),a()},c=()=>{n(t.error||new DOMException("AbortError","AbortError")),a()};t.addEventListener("complete",o),t.addEventListener("error",c),t.addEventListener("abort",c)});_0.set(t,e)}let j0={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return _0.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return bu(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dx(t){j0=t(j0)}function I_(t){return P_().includes(t)?function(...e){return t.apply(S0(this),e),bu(this.request)}:function(...e){return bu(t.apply(S0(this),e))}}function O_(t){return typeof t=="function"?I_(t):(t instanceof IDBTransaction&&R_(t),w0(t,L_())?new Proxy(t,j0):t)}function bu(t){if(t instanceof IDBRequest)return T_(t);if(Ap.has(t))return Ap.get(t);const e=O_(t);return e!==t&&(Ap.set(t,e),Ef.set(e,t)),e}const S0=t=>Ef.get(t);function D_(t,e,{blocked:r,upgrade:n,blocking:a,terminated:o}={}){const c=indexedDB.open(t,e),u=bu(c);return n&&c.addEventListener("upgradeneeded",h=>{n(bu(c.result),h.oldVersion,h.newVersion,bu(c.transaction),h)}),r&&c.addEventListener("blocked",h=>r(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),a&&h.addEventListener("versionchange",f=>a(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const F_=["get","getKey","getAll","getAllKeys","count"],B_=["put","add","delete","clear"],Ep=new Map;function Xg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Ep.get(e))return Ep.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,a=B_.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||F_.includes(r)))return;const o=async function(c,...u){const h=this.transaction(c,a?"readwrite":"readonly");let f=h.store;return n&&(f=f.index(u.shift())),(await Promise.all([f[r](...u),a&&h.done]))[0]};return Ep.set(e,o),o}dx(t=>({...t,get:(e,r,n)=>Xg(e,r)||t.get(e,r,n),has:(e,r)=>!!Xg(e,r)||t.has(e,r)}));const $_=["continue","continuePrimaryKey","advance"],Zg={},N0=new WeakMap,hx=new WeakMap,M_={get(t,e){if(!$_.includes(e))return t[e];let r=Zg[e];return r||(r=Zg[e]=function(...n){N0.set(this,hx.get(this)[e](...n))}),r}};async function*q_(...t){let e=this;if(e instanceof IDBCursor||(e=await e.openCursor(...t)),!e)return;e=e;const r=new Proxy(e,M_);for(hx.set(r,e),Ef.set(r,S0(e));e;)yield r,e=await(N0.get(r)||e.continue()),N0.delete(r)}function Qg(t,e){return e===Symbol.asyncIterator&&w0(t,[IDBIndex,IDBObjectStore,IDBCursor])||e==="iterate"&&w0(t,[IDBIndex,IDBObjectStore])}dx(t=>({...t,get(e,r,n){return Qg(e,r)?q_:t.get(e,r,n)},has(e,r){return Qg(e,r)||t.has(e,r)}}));const U_="cbta-chatbot",pf="kv",fx="chat_state_v1",px=()=>D_(U_,1,{upgrade(t){t.objectStoreNames.contains(pf)||t.createObjectStore(pf)}}),mx=async()=>await(await px()).get(pf,fx)||{conversations:[],activeId:null},mf=async t=>{await(await px()).put(pf,t,fx)},k0=(t="Nueva conversacin")=>({id:`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:t,createdAt:new Date().toISOString(),messages:[]}),Al=t=>t.conversations.find(e=>e.id===t.activeId)||null,z_=(t,e)=>({...t,activeId:e}),fu=(t,e)=>{const n=t.conversations.find(a=>a.id===e.id)?t.conversations.map(a=>a.id===e.id?e:a):[e,...t.conversations];return{...t,conversations:n}},H_=()=>{var B;const t=zc(),[e,r]=F.useState(""),[n,a]=F.useState({conversations:[],activeId:null}),[o,c]=F.useState(!1),[u,h]=F.useState(null),[f,x]=F.useState(()=>{const T=localStorage.getItem("isChatOpen");return T?JSON.parse(T):!1}),m=F.useRef({value:null,timestamp:0});F.useEffect(()=>{(async()=>{const D=await mx();if(!D.conversations.length){const z={id:`msg-${Date.now()}`,text:"Hola! Soy **Camalen IA**, tu asistente virtual del CBTA 134. Estoy aqu para ayudarte con informacin sobre nuestra institucin, carreras, clubs y ms. En qu puedo ayudarte hoy?",sender:"bot",createdAt:new Date().toISOString()},ie=k0("Camalen IA");ie.messages.push(z);const se={conversations:[ie],activeId:ie.id};a(se),await mf(se);return}a(D)})()},[]),F.useEffect(()=>{n.conversations.length&&mf(n)},[n]),F.useEffect(()=>{localStorage.setItem("isChatOpen",JSON.stringify(f))},[f]),F.useEffect(()=>{(async()=>{const{data:D,error:z}=await ue.from("chatbot_config").select("*").order("updated_at",{ascending:!1}).limit(1).maybeSingle();z||h(D||null)})()},[]);const j=T=>(T=T.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),T=T.replace(/\*(.*?)\*/g,"<em>$1</em>"),T=T.replace(/\n/g,"<br />"),T),y=T=>T.replace(/<[^>]*>/g,""),C=(T,D)=>D?D.replace(/\/$/,""):T==="groq"?"https://api.groq.com/openai/v1":T==="gemini"?"https://generativelanguage.googleapis.com/v1beta":"https://api.groq.com/openai/v1",k=T=>T==="groq"?(u==null?void 0:u.groq_api_key)||(u==null?void 0:u.api_key)||"":T==="gemini"?(u==null?void 0:u.gemini_api_key)||(u==null?void 0:u.api_key)||"":(u==null?void 0:u.api_key)||"",L=async()=>{if(!(u!=null&&u.enable_db_context))return"";const T=Date.now(),D=5*60*1e3;if(m.current.value&&T-m.current.timestamp<D)return m.current.value;const{data:z,error:ie}=await ue.rpc("get_chatbot_context");if(ie)return console.warn("No se pudo cargar contexto de BD:",ie.message),"";const se=JSON.stringify(z||{},null,2);return m.current={value:se,timestamp:T},se},E=async T=>{if(T.preventDefault(),!e.trim())return;if(u&&u.enabled===!1){const z={text:"El chatbot est deshabilitado temporalmente.",sender:"bot"};a(ie=>{const se=Al(ie);if(!se)return ie;const Q={...se,messages:[...se.messages,{...z,id:`msg-${Date.now()}`,createdAt:new Date().toISOString()}]};return fu(ie,Q)});return}const D={id:`msg-${Date.now()}`,text:e,sender:"user",createdAt:new Date().toISOString()};try{await ue.from("chatbot_questions").insert([{question_text:e,source_page:window.location.pathname,conversation_id:n.activeId||null,user_agent:navigator.userAgent}])}catch{}a(z=>{const ie=Al(z);if(!ie)return z;const se={...ie,messages:[...ie.messages,D]};return fu(z,se)}),r(""),c(!0);try{const z=await L(),ie=((u==null?void 0:u.system_prompt)||im).trim(),se=z?`${ie}

Contexto de la base de datos (JSON):
${z}`:ie,Q=Al(n),J=((Q==null?void 0:Q.messages)||[]).slice(-10).map(H=>({role:H.sender==="user"?"user":"assistant",content:y(H.text)})),de=async H=>{var ne,le,me,Se;const he=k(H);if(!he)throw new Error(`No hay API key configurada para ${H}.`);const xe=C(H,(u==null?void 0:u.base_url)||""),X=(u==null?void 0:u.model)||(H==="gemini"?"gemini-3.0-flash":"llama-3.1-8b-instant"),P=H==="gemini"?`${xe}/models/${X}:generateContent?key=${he}`:`${xe}/chat/completions`,Y=await fetch(P,{method:"POST",headers:{"Content-Type":"application/json",...H==="gemini"?{}:{Authorization:`Bearer ${he}`}},body:JSON.stringify(H==="gemini"?{contents:[{parts:[{text:`${se}

Historial de la conversacin:
${J.map(Ee=>`${Ee.role==="user"?"Usuario":"Chatbot"}: ${Ee.content}`).join(`
`)}


Usuario: ${e}`}]}]}:{model:X,messages:[{role:"system",content:se},...J,{role:"user",content:e}],temperature:.3})});if(!Y.ok){const Ee=await Y.text();throw new Error(`Error de la API (${H}): ${Y.status} - ${Ee}`)}const W=await Y.json();if(H==="gemini"&&W.candidates&&((Se=(me=(le=(ne=W.candidates[0])==null?void 0:ne.content)==null?void 0:le.parts)==null?void 0:me[0])!=null&&Se.text))return W.candidates[0].content.parts[0].text;if(W.choices&&W.choices[0]&&W.choices[0].message)return W.choices[0].message.content;throw W.error?new Error(W.error.message):new Error("Respuesta no vlida del proveedor.")},O=((u==null?void 0:u.provider)||"groq").toLowerCase(),K=((u==null?void 0:u.primary_provider)||O||"groq").toLowerCase(),ae=(u==null?void 0:u.fallback_enabled)===!0,ce=K==="groq"?"gemini":"groq";let we=null;try{we=await de(ae?K:O)}catch(H){if(ae)we=await de(ce);else throw H}const Ae=j(we),ve={id:`msg-${Date.now()}`,text:Ae,sender:"bot",createdAt:new Date().toISOString()};a(H=>{const he=Al(H);if(!he)return H;const xe={...he,messages:[...he.messages,ve]};return fu(H,xe)})}catch(z){const ie={text:`Error al conectar con Camalen IA: ${z.message}. Verifica tu conexin a internet e intenta de nuevo.`,sender:"bot"};a(se=>{const Q=Al(se);if(!Q)return se;const J={...Q,messages:[...Q.messages,{...ie,id:`msg-${Date.now()}`,createdAt:new Date().toISOString()}]};return fu(se,J)})}c(!1)};return s.jsxs("div",{className:`chatbot-container ${f?"open":""}`,children:[s.jsxs("div",{className:"chatbot-bubble-wrapper",children:[s.jsx("div",{className:"chatbot-bubble",onClick:()=>x(!f),children:s.jsx("img",{src:"/images/camaleonicono.jpg",alt:"Camalen IA",className:"camaleon-icon"})}),s.jsx("p",{className:"chatbot-label",children:"Camalen IA"})]}),f&&s.jsxs("div",{className:"chatbot-window",children:[s.jsxs("div",{className:"chatbot-header",children:[s.jsx("h3",{children:"Camalen IA"}),s.jsx("button",{className:"open-full-btn",onClick:()=>{t("/chatbot"),window.location.hash="#/chatbot"},title:"Abrir en pantalla completa",type:"button",children:""}),s.jsx("button",{className:"close-btn",onClick:()=>x(!1),children:""})]}),s.jsxs("div",{className:"chatbot-messages",children:[(B=Al(n))==null?void 0:B.messages.map(T=>s.jsx("div",{className:`message ${T.sender}`,children:s.jsx("div",{dangerouslySetInnerHTML:{__html:j(T.text)}})},T.id)),o&&s.jsx("div",{className:"message bot",children:"Escribiendo..."})]}),s.jsxs("form",{onSubmit:E,className:"chatbot-input",children:[s.jsx("input",{type:"text",value:e,onChange:T=>r(T.target.value),placeholder:"Escribe tu mensaje...",disabled:o}),s.jsx("button",{type:"submit",disabled:o,children:o?"Enviando...":"Enviar"})]})]})]})},Hs=({onClick:t,onBack:e,text:r="Volver al inicio"})=>{const n={position:"fixed",top:"80px",left:"20px",padding:"12px 20px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"25px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",boxShadow:"0 4px 15px rgba(40, 167, 69, 0.3)",transition:"all 0.3s ease",zIndex:999,display:"flex",alignItems:"center",gap:"8px",maxWidth:"200px"},a=u=>{const h=u.currentTarget;h.style.backgroundColor="#218838",h.style.transform="translateY(-2px)",h.style.boxShadow="0 6px 20px rgba(33, 136, 56, 0.4)"},o=u=>{const h=u.currentTarget;h.style.backgroundColor="#28a745",h.style.transform="translateY(0)",h.style.boxShadow="0 4px 15px rgba(40, 167, 69, 0.3)"},c=u=>{if(typeof e=="function")return e(u);if(typeof t=="function")return t(u)};return s.jsxs("button",{style:n,onClick:c,onMouseEnter:a,onMouseLeave:o,"aria-label":r,children:[s.jsx("span",{children:""}),r]})},W_="_container_p3oqj_2",V_="_title_p3oqj_20",G_="_text_p3oqj_29",K_="_mision_p3oqj_42",J_="_vision_p3oqj_43",Y_="_slogan_p3oqj_44",X_="_backButton_p3oqj_64",Ec={container:W_,title:V_,text:G_,mision:K_,vision:J_,slogan:Y_,backButton:X_},Z_=({onBack:t})=>s.jsxs("div",{className:Ec.container,children:[s.jsx("h2",{className:Ec.title,children:"Valores Institucionales"}),s.jsx("p",{className:Ec.mision,children:s.jsx("strong",{children:"Misin:"})}),s.jsx("p",{className:Ec.text,children:"Contribuir activamente a la formacin integral de nuestros estudiantes del Bachillerato Tecnolgico con un enfoque de desarrollo sostenible y emprendedor que los integre plenamente a la sociedad."}),s.jsx("p",{className:Ec.vision,children:s.jsx("strong",{children:"Visin:"})}),s.jsx("p",{className:Ec.text,children:"Ser una institucin de calidad, formadora de lderes del maana."}),s.jsx("p",{className:Ec.slogan,children:s.jsx("strong",{children:"Lema:"})}),s.jsx("p",{className:Ec.text,children:"Formar e innovar para transformar."}),s.jsx(Hs,{onClick:t,text:"Regresar al Men Principal"})]}),Q_=({onBack:t})=>{const[e,r]=F.useState(null),[n,a]=F.useState([]);F.useEffect(()=>{(async()=>{const{data:D}=await ue.from("about_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:z}=await ue.from("about_values").select("*").order("order_index",{ascending:!0});r(D||null),a(z||[])})()},[]);const o={minHeight:"100vh",paddingTop:"80px",padding:"80px 20px 40px",backgroundColor:"#ffffff"},c={background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",padding:"30px",maxWidth:"1000px",width:"100%",margin:"0 auto",boxShadow:"0 15px 35px rgba(0, 0, 0, 0.1)",overflow:"hidden"},u={fontSize:"2.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"40px",color:"#28a745"},h={marginBottom:"40px",padding:"20px",borderRadius:"15px",backgroundColor:"#f8f9fa",border:"1px solid #28a745"},f={fontSize:"1.8rem",fontWeight:"bold",color:"#28a745",marginBottom:"20px",textAlign:"center"},x={backgroundColor:"#ffffff",borderRadius:"10px",padding:"20px",marginBottom:"20px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.05)"},m={fontSize:"1.3rem",fontWeight:"bold",color:"#28a745",marginBottom:"10px",display:"flex",alignItems:"center",gap:"10px"},j={fontSize:"1rem",color:"#555",lineHeight:"1.8",textAlign:"justify",marginBottom:"0"},y={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginTop:"20px"},C={backgroundColor:"#ffffff",borderRadius:"10px",padding:"20px",textAlign:"center",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.05)",transition:"transform 0.3s ease"},k={textAlign:"center",marginBottom:"30px"},L={textAlign:"center",marginBottom:"30px"},E={width:"100%",maxWidth:"900px",borderRadius:"15px",border:"2px solid #28a745",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.12)"},B={width:"120px",height:"120px",borderRadius:"50%",border:"4px solid #28a745",marginBottom:"15px"};return s.jsxs("div",{style:o,children:[s.jsx(Hs,{onBack:t}),s.jsxs("div",{style:c,children:[(e==null?void 0:e.croquis_image_url)&&s.jsx("div",{style:L,children:s.jsx("img",{src:e.croquis_image_url,alt:"Croquis CBTa 134",style:E})}),s.jsxs("div",{style:k,children:[s.jsx("img",{src:(e==null?void 0:e.logo_url)||"/images/cbta134.png",alt:"Logo CBTa 134",style:B}),s.jsx("h1",{style:u,children:(e==null?void 0:e.title)||"Acerca de CBTa 134"})]}),s.jsxs("div",{style:h,children:[s.jsx("h2",{style:f,children:" Historia e Identidad Institucional"}),s.jsxs("div",{style:x,children:[s.jsx("h3",{style:m,children:" Nuestra Historia"}),s.jsx("p",{style:j,children:(e==null?void 0:e.history_text)||"El Centro de Bachillerato Tecnolgico Agropecuario No. 134 es una institucin educativa que ha forjado su prestigio a travs de dcadas de excelencia acadmica. Fundado con el propsito de brindar educacin tcnica de calidad en el rea agropecuaria, hemos evolucionado para convertirnos en un referente educativo que forma profesionales competentes y ciudadanos comprometidos con el desarrollo de nuestra comunidad."})]}),s.jsxs("div",{style:x,children:[s.jsx("h3",{style:m,children:" Misin"}),s.jsx("p",{style:j,children:(e==null?void 0:e.mission_text)||"Contribuir activamente a la formacin integral de nuestros estudiantes del Bachillerato Tecnolgico, con un enfoque de desarrollo sostenible y emprendedor que los integre plenamente a la sociedad, proporcionando herramientas acadmicas y tcnicas que les permitan enfrentar los retos del mundo moderno con competencia y valores slidos."})]}),s.jsxs("div",{style:x,children:[s.jsx("h3",{style:m,children:" Visin"}),s.jsx("p",{style:j,children:(e==null?void 0:e.vision_text)||"Ser una institucin de calidad, formadora de lderes del maana, reconocida por su excelencia educativa, innovacin tecnolgica y compromiso con el desarrollo sustentable, que contribuya al progreso social y econmico de la regin."})]}),s.jsxs("div",{style:x,children:[s.jsx("h3",{style:m,children:" Lema Institucional"}),s.jsx("p",{style:{...j,fontSize:"1.2rem",fontWeight:"bold",color:"#28a745",textAlign:"center"},children:(e==null?void 0:e.lema_text)||'"Formar e innovar para transformar"'})]})]}),s.jsxs("div",{style:h,children:[s.jsx("h2",{style:f,children:" Nuestros Valores"}),s.jsx("div",{style:y,children:n.map(T=>s.jsxs("div",{style:C,children:[s.jsxs("h3",{style:{...m,justifyContent:"center"},children:[T.icon," ",T.title]}),s.jsx("p",{style:{...j,textAlign:"center",fontSize:"0.95rem"},children:T.description})]},T.id))})]}),s.jsxs("div",{style:h,children:[s.jsx("h2",{style:f,children:" Nuestro Compromiso"}),s.jsxs("div",{style:x,children:[s.jsx("p",{style:j,children:(e==null?void 0:e.commitment_text_1)||"El CBTa 134 se compromete a formar ciudadanos integrales que contribuyan al desarrollo sustentable de su comunidad. Nuestro enfoque educativo combina la excelencia acadmica con la formacin en valores, preparando a nuestros estudiantes para ser agentes de cambio positivo en la sociedad."}),s.jsx("p",{style:j,children:(e==null?void 0:e.commitment_text_2)||"A travs de nuestros programas tcnicos especializados, fomentamos el emprendimiento, la innovacin tecnolgica y el cuidado del medio ambiente, formando profesionales competentes que respondan a las necesidades del mercado laboral actual."})]})]})]})]})},e3="_admissionProcess_1e940_9",t3="_header_1e940_20",r3="_welcomeText_1e940_32",n3="_bounce_1e940_1",i3="_container_1e940_47",a3="_countdownContainer_1e940_56",s3="_countdown_1e940_56",o3="_countdownItem_1e940_73",l3="_card_1e940_91",c3="_emojiTitle_1e940_106",u3="_fechasGrid_1e940_118",d3="_fechaCard_1e940_125",h3="_requisitosList_1e940_141",f3="_especialidadesGrid_1e940_171",p3="_especialidadCard_1e940_177",m3="_emojiIcon_1e940_191",g3="_contactoInfo_1e940_200",b3="_backButton_1e940_220",x3="_hero_1e940_248",hn={admissionProcess:e3,header:t3,welcomeText:r3,bounce:n3,container:i3,countdownContainer:a3,countdown:s3,countdownItem:o3,card:l3,emojiTitle:c3,fechasGrid:u3,fechaCard:d3,requisitosList:h3,especialidadesGrid:f3,especialidadCard:p3,emojiIcon:m3,contactoInfo:g3,backButton:b3,hero:x3},v3=({onBack:t})=>{const[e,r]=F.useState(!1),[n,a]=F.useState(!0),[o,c]=F.useState(null),[u,h]=F.useState([]),[f,x]=F.useState([]),[m,j]=F.useState([]),[y,C]=F.useState(null),[k,L]=F.useState({days:0,hours:0,minutes:0,seconds:0});F.useEffect(()=>{const ie=()=>{const Q=document.body.classList.contains("dark-mode");r(Q)};ie();const se=new MutationObserver(ie);return se.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>se.disconnect()},[]),F.useEffect(()=>{const ie=()=>{const Q=(o==null?void 0:o.target_date)||"2026-04-01T00:00:00",O=new Date(Q)-new Date;O>0?L({days:Math.floor(O/864e5),hours:Math.floor(O/36e5%24),minutes:Math.floor(O/1e3/60%60),seconds:Math.floor(O/1e3%60)}):L({days:0,hours:0,minutes:0,seconds:0})};ie();const se=setInterval(ie,1e3);return()=>clearInterval(se)},[o]),F.useEffect(()=>{(async()=>{a(!0);const{data:se}=await ue.from("admission_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:Q}=await ue.from("admission_dates").select("*").order("order_index",{ascending:!0}),{data:J}=await ue.from("admission_requirements").select("*").order("order_index",{ascending:!0}),{data:de}=await ue.from("admission_specialties").select("*").order("order_index",{ascending:!0}),{data:O}=await ue.from("admission_contact").select("*").order("created_at",{ascending:!1}).limit(1).single();c(se||null),h(Q||[]),x(J||[]),j(de||[]),C(O||null),a(!1)})()},[]);const E={backgroundColor:e?"#07111a":"#f0f2f5",color:e?"#d6dbe3":"#333"},B={background:e?"rgba(255,255,255,0.03)":"white",color:e?"#d0d7de":"#333",boxShadow:e?"0 10px 30px rgba(2,6,23,0.6)":"0 4px 15px rgba(0, 0, 0, 0.1)"},T={background:e?"rgba(255,255,255,0.03)":"#f8f9fa",color:e?"#d0d7de":"#333"},D={background:e?"rgba(255,255,255,0.03)":"white",color:e?"#d0d7de":"#333",boxShadow:e?"0 10px 30px rgba(2,6,23,0.6)":"0 4px 15px rgba(0, 0, 0, 0.1)"},z={background:e?"rgba(255,255,255,0.02)":"#f8f9fa",color:e?"#d0d7de":"#333"};return Dt.createElement("div",{className:`${hn.admissionProcess} ${e?"dark-mode-content":""}`,style:E},Dt.createElement("header",{className:hn.header},Dt.createElement("h1",null,(o==null?void 0:o.header_title)||"Bienvenido al CBTA 134! "),Dt.createElement("p",{className:hn.welcomeText},(o==null?void 0:o.header_subtitle)||"Tu futuro comienza aqu en San Francisco Tetlanohcan")),Dt.createElement("div",{className:hn.container},Dt.createElement("div",{className:hn.countdownContainer},Dt.createElement("h2",null," Prximos Procesos de Admisin 2026!"),Dt.createElement("div",{className:hn.countdown},Dt.createElement("div",{className:hn.countdownItem},Dt.createElement("span",null,k.days),Dt.createElement("p",null,"Das")),Dt.createElement("div",{className:hn.countdownItem},Dt.createElement("span",null,k.hours.toString().padStart(2,"0")),Dt.createElement("p",null,"Horas")),Dt.createElement("div",{className:hn.countdownItem},Dt.createElement("span",null,k.minutes.toString().padStart(2,"0")),Dt.createElement("p",null,"Minutos")),Dt.createElement("div",{className:hn.countdownItem},Dt.createElement("span",null,k.seconds.toString().padStart(2,"0")),Dt.createElement("p",null,"Segundos"))),Dt.createElement("div",{className:hn.countdownMessage},(o==null?void 0:o.countdown_message)||"Procesos de admisin inician el 1 de abril de 2026!")),Dt.createElement("div",{className:hn.card,style:B},Dt.createElement("h2",{className:hn.emojiTitle}," Fechas Importantes!"),Dt.createElement("div",{className:hn.fechasGrid},(u.length>0?u:[]).map(ie=>Dt.createElement("div",{key:ie.id,className:hn.fechaCard,style:T},Dt.createElement("h3",null,ie.title),Dt.createElement("p",null,ie.date_range),Dt.createElement("p",null,ie.subtitle))))),Dt.createElement("div",{className:hn.card,style:B},Dt.createElement("h2",{className:hn.emojiTitle}," Qu necesitas traer?"),Dt.createElement("ul",{className:hn.requisitosList},(f.length>0?f:[]).map(ie=>Dt.createElement("li",{key:ie.id,style:z},ie.requirement)))),Dt.createElement("div",{className:hn.card,style:B},Dt.createElement("h2",{className:hn.emojiTitle}," Elige tu camino!"),Dt.createElement("div",{className:hn.especialidadesGrid},(m.length>0?m:[]).map(ie=>Dt.createElement("div",{key:ie.id,className:hn.especialidadCard,style:D},Dt.createElement("div",{className:hn.emojiIcon},ie.emoji),Dt.createElement("h3",null,ie.name),Dt.createElement("p",null,ie.description))))),Dt.createElement("div",{className:hn.card,style:B},Dt.createElement("h2",{className:hn.emojiTitle}," Contctanos!"),Dt.createElement("div",{className:hn.contactoInfo},Dt.createElement("p",null,` Direccin: ${(y==null?void 0:y.address)||"CARRETERA TETLANOHCAN A MALINTZIN KILMETRO NUM. 3, San Francisco, Mxico, 90800"}`),Dt.createElement("p",null,`${(y==null?void 0:y.phone_label)||" Telfono"}: `,Dt.createElement("a",{href:y!=null&&y.phone_value?`tel:${y.phone_value.replace(/\s/g,"")}`:"tel:+522464623456",style:{color:e?"#93c5fd":"#3498db",textDecoration:"none"}},(y==null?void 0:y.phone_value)||"01 (246) 46 2 34 56")),Dt.createElement("p",null,`${(y==null?void 0:y.email_label)||" Correo"}: `,Dt.createElement("a",{href:y!=null&&y.email_value?`mailto:${y.email_value}`:"mailto:cbta134@yahoo.com.mx",target:"_blank",rel:"noopener noreferrer",style:{color:e?"#93c5fd":"#3498db",textDecoration:"none"}},(y==null?void 0:y.email_value)||"cbta134@yahoo.com.mx")),Dt.createElement("p",null,`${(y==null?void 0:y.website_label)||" Sitio Web"}: `,Dt.createElement("a",{href:(y==null?void 0:y.website_value)||"http://www.cbta134.edu.mx/",target:"_blank",rel:"noopener noreferrer",style:{color:e?"#93c5fd":"#3498db",textDecoration:"none"}},(y==null?void 0:y.website_value)||"www.cbta134.edu.mx")),Dt.createElement("p",null,(y==null?void 0:y.schedule)||" Horario: Lunes a Viernes 7:00 AM - 4:00 PM, Sbados 8:00 AM - 12:00 PM")))),Dt.createElement(Hs,{onBack:t,text:"Regresar al Men Principal"}))},y3=()=>{try{return typeof document<"u"&&document.body.classList.contains("dark-mode")}catch{return!1}},w3=({onBack:t})=>{const e=y3(),r={...gs.container,backgroundColor:e?"#07111a":gs.container.backgroundColor,color:e?"#d6dbe3":void 0},n={...gs.content,background:e?"rgba(255,255,255,0.03)":gs.content.background,boxShadow:e?"0 10px 30px rgba(2,6,23,0.7)":gs.content.boxShadow,color:e?"#c8cdd3":void 0};({...gs.header,backgroundColor:e||gs.header.backgroundColor});const a={...gs.contactInfo,backgroundColor:e?"rgba(76,175,80,0.08)":gs.contactInfo.backgroundColor};return s.jsxs("div",{style:r,children:[s.jsxs("header",{style:gs.header,children:[s.jsx("h1",{children:"Centro de Bachillerato Tecnolgico Agropecuario No. 134"}),s.jsx("h2",{children:'"Efram Hernndez Xolocotzi"'})]}),s.jsxs("div",{style:n,children:[s.jsx("h2",{children:"Prepa Abierta"}),s.jsx("p",{children:"Estudia tu bachillerato y una carrera tcnica en el rea agropecuaria, los das sbado."}),s.jsx("h3",{children:"Requisitos:"}),s.jsxs("ul",{style:gs.list,children:[s.jsx("li",{children:"Ser mayor de 18 aos"}),s.jsx("li",{children:"Certificado de secundaria (original y 1 copia)"}),s.jsx("li",{children:"Acta de nacimiento reciente (original y 1 copia)"}),s.jsx("li",{children:"6 fotografas tamao infantil, blanco y negro (en papel mate, no instantneas)"}),s.jsx("li",{children:"Credencial de elector (original para cotejar y 1 copia)"}),s.jsx("li",{children:"CURP (reciente)"}),s.jsx("li",{children:"Comprobante de domicilio (original para cotejar y 1 copia)"}),s.jsx("li",{children:"Nmero de seguridad social (IMSS)"})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Nota:"})," La apertura de esta modalidad depender del nmero de interesados en inscribirse."]}),s.jsxs("div",{style:a,children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Direccin:"})," Calle Josefa Ortiz de Domnguez s/n, Barrio de Jess Xolalpan, San Francisco Tetlanohcan, Tlax."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Telfono:"})," 246 467 42 37"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Ms informacin:"})," ",s.jsx("a",{href:"http://www.cbta134.edu.mx",style:gs.link,children:"www.cbta134.edu.mx"})]}),s.jsxs("p",{children:["Sguenos en redes sociales:"," ",s.jsx("a",{href:"https://www.facebook.com/micbta134",style:gs.link,children:"Facebook"})]})]})]}),s.jsx("footer",{style:gs.footer,children:s.jsx("p",{children:" 2025 CBTa 134 - Secretara de Educacin Pblica"})}),s.jsx(Hs,{onBack:t,text:"Regresar al Men Principal"})]})},gs={container:{fontFamily:"Arial, sans-serif",margin:0,padding:0,paddingTop:"80px",backgroundColor:"#f9f9f9",minHeight:"100vh"},header:{backgroundColor:"#4caf50",color:"white",textAlign:"center",padding:"10px 0"},content:{maxWidth:"800px",margin:"20px auto",background:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.2)"},list:{listStyleType:"disc",marginLeft:"20px"},contactInfo:{backgroundColor:"#4caf50",color:"white",padding:"10px",borderRadius:"5px",textAlign:"center"},link:{color:"white",textDecoration:"underline"},footer:{textAlign:"center",marginTop:"20px",fontSize:"0.9em",color:"#666"}},_3=()=>{try{return typeof document<"u"&&document.body.classList.contains("dark-mode")}catch{return!1}},j3=()=>{const t=zc(),e=()=>t("/"),r=[{name:"Cuadernillos",description:"Planeacin didctica y recursos educativos",icon:"",url:"http://www.planeaciondidactica.sems.gob.mx/login",color:"#007bff"},{name:"SISEEMS",description:"Sistema de Evaluacin y Seguimiento",icon:"",url:"http://168.255.121.25/develop/index.php?",color:"#28a745"},{name:"Taln de Pago",description:"Portal de autoservicios SEMS",icon:"",url:"https://portalautoservicios-sems.sep.gob.mx/login.jsp",color:"#ffc107"},{name:"DGETAYCM Mxico",description:"Direccin General de Educacin Tecnolgica Agropecuaria y Ciencias del Mar",icon:"",url:"https://dgetaycm.sep.gob.mx/",color:"#dc3545"},{name:"SEP Tlaxcala",description:"Secretara de Educacin Pblica Tlaxcala",icon:"",url:"https://www.septlaxcala.gob.mx",color:"#6f42c1"},{name:"Oficina Virtual ISSSTE",description:"Instituto de Seguridad y Servicios Sociales",icon:"",url:"https://oficinavirtual.issste.gob.mx/",color:"#20c997"}],[n,a]=F.useState(null),[o,c]=F.useState([]);F.useEffect(()=>{(async()=>{const{data:ie}=await ue.from("teachers_config").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:se}=await ue.from("teachers_links").select("*").order("order_index",{ascending:!0});a(ie||null),c((se||[]).filter(Q=>Q.is_active!==!1))})()},[]);const u=o.length>0?o:r,h=_3(),f={padding:0,minHeight:"100vh",backgroundColor:h?"#0f1720":"#f8f9fa",fontFamily:"'Inter', sans-serif"},x={height:"400px",backgroundImage:`url("${(n==null?void 0:n.hero_image_url)||"/images/maestros-hero.png"}")`,backgroundSize:"cover",backgroundPosition:"center",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"40px"},m={position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(30, 60, 114, 0.7)",zIndex:1},j={fontSize:"32px",fontWeight:"bold",color:h?"#e6eef8":"#1e3c72",textAlign:"center",marginBottom:"20px"},y={fontSize:"18px",color:h?"#bfc7cf":"#666",textAlign:"center",marginBottom:"40px"},C={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"25px",maxWidth:"1200px",margin:"0 auto"},k={backgroundColor:h?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",overflow:"hidden",boxShadow:h?"0 12px 40px rgba(2,6,23,0.7)":"0 8px 25px rgba(0,0,0,0.1)",transition:"transform 0.3s ease, box-shadow 0.3s ease",cursor:"pointer",textDecoration:"none",color:"inherit"},L={padding:"25px"},E={fontSize:"20px",fontWeight:"bold",marginBottom:"10px",display:"flex",alignItems:"center",gap:"10px"},B={fontSize:"16px",color:h?"#c8cdd3":"#666",lineHeight:"1.6",marginBottom:"20px"},T={color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease",width:"100%",textDecoration:"none",display:"block",textAlign:"center"},D=z=>{window.open(z,"_blank","noopener,noreferrer")};return s.jsxs("div",{style:f,children:[s.jsxs("div",{style:x,children:[s.jsx("div",{style:m}),s.jsxs("div",{style:{position:"relative",zIndex:2,textAlign:"center",padding:"0 20px"},children:[s.jsx("h1",{style:{...j,color:"white",marginBottom:"10px"},children:(n==null?void 0:n.title)||" Portal Docente"}),s.jsx("p",{style:{...y,color:"rgba(255,255,255,0.9)",marginBottom:"20px"},children:(n==null?void 0:n.subtitle)||"Gestiona los recursos educativos y el control de alumnos de la institucin."}),s.jsx("button",{onClick:()=>t("/maestros/admin"),style:{padding:"12px 24px",backgroundColor:"#e67e22",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",fontSize:"16px",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},children:(n==null?void 0:n.cta_label)||" Panel Administrativo (Ingresar)"})]})]}),s.jsxs("div",{style:{padding:"0 20px"},children:[s.jsx("div",{style:C,children:u.map((z,ie)=>s.jsx("div",{style:k,onMouseEnter:se=>{se.currentTarget.style.transform="translateY(-5px)",se.currentTarget.style.boxShadow="0 12px 35px rgba(0,0,0,0.15)"},onMouseLeave:se=>{se.currentTarget.style.transform="translateY(0)",se.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.1)"},onClick:()=>D(z.url),children:s.jsxs("div",{style:L,children:[s.jsxs("h3",{style:{...E,color:z.color},children:[s.jsx("span",{style:{fontSize:"24px"},children:z.icon}),z.name]}),s.jsx("p",{style:B,children:z.description}),s.jsx("button",{style:{...T,backgroundColor:"var(--primary-color)"},onMouseEnter:se=>{se.target.style.transform="scale(1.05)",se.target.style.boxShadow="0 4px 15px rgba(0,0,0,0.2)"},onMouseLeave:se=>{se.target.style.transform="scale(1)",se.target.style.boxShadow="none"},children:"Acceder al Portal "})]})},ie))}),s.jsxs("div",{style:{background:h?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",padding:"25px",marginTop:"40px",boxShadow:h?"0 12px 35px rgba(2,6,23,0.7)":"0 8px 25px rgba(0,0,0,0.1)",maxWidth:"800px",margin:"40px auto 0 auto"},children:[s.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#1e3c72",marginBottom:"15px",textAlign:"center"},children:" Informacin Importante"}),s.jsxs("div",{style:{background:h?"rgba(30,60,114,0.12)":"#e3f2fd",padding:"20px",borderRadius:"10px",borderLeft:"4px solid #1e3c72"},children:[s.jsxs("p",{style:{fontSize:"16px",color:"#555",lineHeight:"1.6",marginBottom:"10px"},children:[s.jsx("strong",{children:" Nota:"})," Todos los enlaces externos se abrirn en una nueva ventana para tu comodidad."]}),s.jsxs("p",{style:{fontSize:"16px",color:"#555",lineHeight:"1.6",marginBottom:"10px"},children:[s.jsx("strong",{children:" Acceso:"})," Algunos portales requieren credenciales especficas proporcionadas por la institucin."]}),s.jsxs("p",{style:{fontSize:"16px",color:"#555",lineHeight:"1.6",marginBottom:"0"},children:[s.jsx("strong",{children:" Soporte:"})," Para problemas tcnicos, contacta al departamento de TI del CBTa 134."]})]})]}),s.jsx(Hs,{onBack:e,text:"Regresar al Men Principal"})]})]})},S3=({onBack:t})=>{const e={minHeight:"100vh",paddingTop:"80px",padding:"80px 20px 40px",backgroundColor:"#f8f9fa"},r={backgroundColor:"white",borderRadius:"20px",padding:"20px",maxWidth:"100%",width:"100%",margin:"0 auto",boxShadow:"0 15px 35px rgba(0, 0, 0, 0.1)",overflow:"hidden"},n={fontSize:"2.5rem",fontWeight:"bold",color:"#28a745",textAlign:"center",marginBottom:"30px"};return s.jsx("div",{className:"noticias-container",style:e,children:s.jsxs("div",{className:"noticias-card",style:r,children:[s.jsx(Hs,{onClick:t}),s.jsx("h1",{style:n,children:" Noticias CBTA 134"}),s.jsxs("div",{style:{backgroundColor:"#e9f7ef",padding:"15px",borderRadius:"10px",marginBottom:"20px",borderLeft:"4px solid #28a745",color:"#155724"},children:[s.jsx("strong",{children:" Mantente al da:"})," Aqu puedes ver todas las publicaciones y noticias importantes de nuestra escuela directamente desde nuestra pgina oficial de Facebook."]}),s.jsxs("div",{className:"facebook-container",style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px",backgroundColor:"white",borderRadius:"10px",padding:"10px",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)",position:"relative",overflow:"hidden"},children:[s.jsx("iframe",{src:"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fmicbta134&tabs=timeline&width=500&height=700&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true&appId",style:{border:"none",borderRadius:"8px",width:"100%",maxWidth:"600px",height:"70vh",minHeight:"500px",maxHeight:"800px",margin:"0 auto",display:"block"},scrolling:"no",frameBorder:"0",allowFullScreen:!0,title:"Noticias CBTA 134 Facebook",onError:a=>{console.log("Error cargando Facebook iframe"),a.target.style.display="none",a.target.nextElementSibling.style.display="block"}}),s.jsxs("div",{style:{display:"none",padding:"40px",textAlign:"center",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"2px dashed #28a745",width:"100%",maxWidth:"600px",margin:"0 auto"},children:[s.jsx("h3",{style:{color:"#28a745",marginBottom:"15px"},children:" Sguenos en Facebook"}),s.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Visita nuestra pgina oficial para ver las ltimas noticias y actualizaciones."}),s.jsx("a",{href:"https://www.facebook.com/micbta134",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"12px 24px",backgroundColor:"#28a745",color:"white",textDecoration:"none",borderRadius:"8px",fontWeight:"bold",transition:"all 0.3s ease"},onMouseEnter:a=>{a.target.style.transform="translateY(-2px)",a.target.style.boxShadow="0 4px 12px rgba(40, 167, 69, 0.4)"},onMouseLeave:a=>{a.target.style.transform="translateY(0)",a.target.style.boxShadow="none"},children:" Visitar Pgina de Facebook"})]})]}),s.jsx("div",{style:{textAlign:"center",marginBottom:"20px",color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:"Las publicaciones se actualizan automticamente desde nuestra pgina oficial de Facebook."}),s.jsxs("div",{style:{backgroundColor:"#28a745",borderRadius:"15px",padding:"20px",textAlign:"center",color:"white"},children:[s.jsx("h3",{style:{margin:"0 0 10px 0"},children:" Sguenos en Redes Sociales"}),s.jsx("p",{style:{margin:0,fontSize:"0.95rem"},children:"No te pierdas ninguna novedad, evento o actividad del CBTA 134. nete a nuestra comunidad!"})]})]})})},N3=()=>{var ve;const t=zc(),[e,r]=F.useState(null),[n,a]=F.useState(null),[o,c]=F.useState({nombre:"",apellidos:"",curp:"",grado:"",grupo:"",numero_control:"",carrera_id:""}),[u,h]=F.useState(!0),[f,x]=F.useState(!1),[m,j]=F.useState(!1),[y,C]=F.useState(""),[k,L]=F.useState([]),[E,B]=F.useState([]),[T,D]=F.useState([]),[z,ie]=F.useState(null);F.useEffect(()=>{de(),J(),se();const{data:{subscription:H}}=ue.auth.onAuthStateChange(async(he,xe)=>{xe?await Q(xe.user.email)?(r(xe.user),O(xe.user.id),j(!1)):(j(!0),r(xe.user)):(r(null),a(null),j(!1))});return()=>H.unsubscribe()},[]);const se=async()=>{const{data:H}=await ue.from("access_config").select("*").eq("config_key","alumno_domain").single();H&&C(H.config_value)},Q=async H=>{if(!H)return!1;const{data:he}=await ue.from("access_config").select("config_value").eq("config_key","alumno_domain").single();if(!he||!he.config_value)return!0;const xe=he.config_value.toLowerCase();return H.toLowerCase().endsWith(xe)},J=async()=>{const{data:H}=await ue.from("carreras_tecnicas").select("*").order("nombre",{ascending:!0});L(H||[])},de=async()=>{const{data:{session:H}}=await ue.auth.getSession();H&&(await Q(H.user.email)?(r(H.user),await O(H.user.id,H.user.email),j(!1)):(j(!0),r(H.user))),h(!1)},O=async(H,he)=>{let{data:xe,error:X}=await ue.from("profiles").select("*").eq("id",H).maybeSingle();if(!xe||!xe.rol){const{data:P,error:Y}=await ue.from("profiles").upsert({id:H,rol:"alumno",email:he||null}).select().maybeSingle();Y&&console.error("Error creando perfil:",Y),xe=P}xe&&!xe.email&&he&&(await ue.from("profiles").update({email:he}).eq("id",H),xe={...xe,email:he}),a(xe),xe&&xe.rol==="alumno"&&(ie(xe.grado||1),K(H,xe.grado||1))},K=async(H,he)=>{const{data:xe}=await ue.from("calificaciones").select("*").eq("alumno_id",H).eq("semestre",he);B(xe||[]);const{data:X}=await ue.from("publicaciones_globales").select("*").order("created_at",{ascending:!1});D(X||[])},ae=async H=>{if(H.preventDefault(),o.numero_control.length!==14){alert("El nmero de control debe tener exactamente 14 dgitos.");return}const{error:he}=await ue.from("profiles").update({nombre:o.nombre,apellidos:o.apellidos,curp:o.curp,numero_control:o.numero_control,grado:parseInt(o.grado),grupo:o.grupo.toUpperCase(),carrera_id:o.carrera_id?parseInt(o.carrera_id):null,updated_at:new Date().toISOString()}).eq("id",e.id);he?(console.error(he),alert("Error al guardar datos. Verifica tu conexin.")):(de(),x(!1))},ce=()=>{x(!0),c({nombre:n.nombre||"",apellidos:n.apellidos||"",curp:n.curp||"",numero_control:n.numero_control||"",grado:n.grado||"",grupo:n.grupo||"",carrera_id:n.carrera_id||""})},we=async()=>{const{error:H}=await ue.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/alumnos"}});H&&(console.error("Error en login:",H.message),alert("No se pudo iniciar sesin: "+H.message))},Ae=async()=>{await ue.auth.signOut()};return s.jsxs("div",{className:"alumnos-container",children:[s.jsxs("div",{className:"alumnos-header",children:[s.jsxs("button",{className:"back-button-alumnos",onClick:()=>t("/"),children:[s.jsx("span",{className:"back-icon",children:""})," Volver al Inicio"]}),s.jsx("h1",{className:"alumnos-title",children:"Portal Estudiantil"})]}),s.jsx("div",{className:"alumnos-content",children:s.jsxs("div",{className:"login-card-premium",children:[s.jsx("div",{className:"login-visual-new",style:{backgroundImage:'url("/images/alumnos-hero.png")',backgroundSize:"cover",backgroundPosition:"center",flex:"1",minHeight:"300px",position:"relative"},children:s.jsx("div",{className:"overlay-green",style:{position:"absolute",inset:0,background:"linear-gradient(to bottom, rgba(46, 204, 113, 0.2), rgba(39, 174, 96, 0.4))"}})}),s.jsxs("div",{className:"login-details",children:[m?s.jsxs("div",{style:{textAlign:"center",padding:"40px 20px"},children:[s.jsx("div",{style:{fontSize:"60px",marginBottom:"20px"},children:""}),s.jsx("h2",{style:{color:"#e74c3c",marginBottom:"15px"},children:"Acceso Denegado"}),s.jsx("p",{style:{color:"#666",marginBottom:"10px"},children:"Solo se permiten cuentas con el dominio:"}),s.jsx("p",{style:{fontWeight:"bold",color:"#2ecc71",fontSize:"18px",background:"#f0fff4",padding:"10px 20px",borderRadius:"8px",display:"inline-block",marginBottom:"15px"},children:y||"@cbta134.edu.mx"}),s.jsxs("p",{style:{color:"#888",fontSize:"14px",marginBottom:"20px"},children:["Tu correo: ",s.jsx("strong",{children:e==null?void 0:e.email})]}),s.jsx("button",{onClick:Ae,style:{background:"#e74c3c",color:"white",border:"none",padding:"12px 30px",borderRadius:"25px",cursor:"pointer",fontSize:"16px"},children:"Cerrar Sesin"})]}):e?!(n!=null&&n.curp)||f?s.jsxs("div",{className:"registration-form",children:[s.jsx("h2",{children:f?"Actualizar Datos":"Completa tu Perfil"}),s.jsx("p",{children:"Asegrate de que tus datos sean correctos."}),s.jsxs("form",{onSubmit:ae,children:[s.jsx("input",{type:"text",placeholder:"Nombre(s)",value:o.nombre,onChange:H=>c({...o,nombre:H.target.value}),required:!0}),s.jsx("input",{type:"text",placeholder:"Apellidos Completos",value:o.apellidos,onChange:H=>c({...o,apellidos:H.target.value}),required:!0}),s.jsx("input",{type:"text",placeholder:"No. Control (14 dgitos)",value:o.numero_control,maxLength:14,onChange:H=>{const he=H.target.value.replace(/[^0-9]/g,"");c({...o,numero_control:he})},required:!0,title:"Debes ingresar exactamente 14 nmeros"}),s.jsx("input",{type:"text",placeholder:"CURP (18 caracteres)",maxLength:"18",value:o.curp,onChange:H=>c({...o,curp:H.target.value.toUpperCase()}),required:!0}),s.jsxs("div",{className:"form-row",children:[s.jsxs("select",{value:o.grado,onChange:H=>c({...o,grado:H.target.value}),required:!0,children:[s.jsx("option",{value:"",children:"Grado"}),s.jsx("option",{value:"1",children:"1 Semestre"}),s.jsx("option",{value:"2",children:"2 Semestre"}),s.jsx("option",{value:"3",children:"3 Semestre"}),s.jsx("option",{value:"4",children:"4 Semestre"}),s.jsx("option",{value:"5",children:"5 Semestre"}),s.jsx("option",{value:"6",children:"6 Semestre"})]}),s.jsxs("select",{value:o.grupo,onChange:H=>c({...o,grupo:H.target.value}),required:!0,children:[s.jsx("option",{value:"",children:"Grupo"}),s.jsx("option",{value:"A",children:"A"}),s.jsx("option",{value:"B",children:"B"}),s.jsx("option",{value:"C",children:"C"}),s.jsx("option",{value:"D",children:"D"}),s.jsx("option",{value:"E",children:"E"}),s.jsx("option",{value:"F",children:"F"}),s.jsx("option",{value:"G",children:"G"})]})]}),s.jsx("div",{className:"form-row",style:{marginTop:"10px"},children:s.jsxs("select",{value:o.carrera_id||"",onChange:H=>c({...o,carrera_id:H.target.value}),required:!0,style:{width:"100%"},children:[s.jsx("option",{value:"",children:"Selecciona tu Carrera Tcnica"}),k.map(H=>s.jsx("option",{value:H.id,children:H.nombre},H.id))]})}),s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsx("button",{type:"submit",className:"google-login-btn",children:"Guardar Datos"}),f&&s.jsx("button",{type:"button",className:"google-login-btn cancel-btn",onClick:()=>x(!1),style:{background:"#f1f1f1",border:"1px solid #ccc"},children:"Cancelar"})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("h2",{children:["Hola, ",n.nombre,"!"]}),s.jsxs("div",{className:"profile-info-mini",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Correo:"})," ",(e==null?void 0:e.email)||(n==null?void 0:n.email)||"No disponible"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Matrcula/CURP:"})," ",n.curp]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Grado y Grupo:"})," ",n.grado,"",n.grupo]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Carrera:"})," ",((ve=k.find(H=>H.id===n.carrera_id))==null?void 0:ve.nombre)||"Sin Asignar"]}),s.jsx("button",{onClick:ce,style:{background:"none",border:"none",color:"#27ae60",textDecoration:"underline",cursor:"pointer",fontSize:"0.9rem",marginTop:"5px",padding:0},children:"Editar mis datos"})]}),s.jsx("p",{children:"Ya puedes consultar tu informacin acadmica. El administrador subir tus calificaciones pronto."}),s.jsxs("div",{className:"student-dashboard",children:[s.jsxs("section",{className:"dashboard-section",children:[s.jsx("h3",{children:" Tablero de Avisos"}),T.length===0?s.jsx("p",{style:{fontStyle:"italic",color:"#999"},children:"No hay avisos recientes."}):s.jsx("div",{className:"announcements-list",children:T.map(H=>s.jsxs("div",{className:"announcement-card",children:[s.jsx("h4",{children:H.titulo}),s.jsx("p",{children:H.contenido}),H.media_url&&s.jsx("div",{className:"announcement-media",style:{marginTop:"1rem"},children:H.media_type==="video"?s.jsx("video",{src:H.media_url,controls:!0,style:{width:"100%",borderRadius:"8px"}}):s.jsx("img",{src:H.media_url,alt:"Aviso",style:{width:"100%",borderRadius:"8px"}})}),s.jsx("small",{children:new Date(H.created_at).toLocaleDateString()})]},H.id))})]}),s.jsxs("section",{className:"dashboard-section",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[s.jsx("h3",{children:" Boleta de Calificaciones"}),s.jsx("select",{value:z,onChange:H=>{const he=parseInt(H.target.value);ie(he),K(e.id,he)},className:"semester-selector",style:{padding:"5px",borderRadius:"5px",border:"1px solid #ddd"},children:[1,2,3,4,5,6].map(H=>s.jsxs("option",{value:H,children:[H," Semestre"]},H))})]}),E.length===0?s.jsx("p",{style:{textAlign:"center",padding:"2rem",background:"#f8f9fa",borderRadius:"8px"},children:"No hay calificaciones registradas para este semestre."}):s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[s.jsxs("div",{children:[s.jsx("h4",{style:{color:"#2c3e50",borderBottom:"2px solid #3498db",paddingBottom:"0.5rem",marginBottom:"1rem",display:"inline-block"},children:" Formacin Bsica"}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{className:"student-grades-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Materia"}),s.jsx("th",{style:{textAlign:"center"},children:"P1"}),s.jsx("th",{style:{textAlign:"center"},children:"P2"}),s.jsx("th",{style:{textAlign:"center"},children:"P3"}),s.jsx("th",{style:{textAlign:"center"},children:"Promedio"})]})}),s.jsxs("tbody",{children:[E.filter(H=>H.tipo_materia!=="especialidad").map(H=>s.jsxs("tr",{children:[s.jsx("td",{children:H.materia}),s.jsx("td",{style:{textAlign:"center"},children:H.parcial1||"-"}),s.jsx("td",{style:{textAlign:"center"},children:H.parcial2||"-"}),s.jsx("td",{style:{textAlign:"center"},children:H.parcial3||"-"}),s.jsx("td",{style:{textAlign:"center"},children:H.promedio_final?s.jsx("span",{className:`grade-badge ${H.promedio_final>=9?"excellent":H.promedio_final>=7?"good":"bad"}`,children:H.promedio_final}):"-"})]},H.id)),E.filter(H=>H.tipo_materia!=="especialidad").length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:"5",style:{textAlign:"center",color:"#999"},children:"No hay materias bsicas registradas."})})]})]})})]}),s.jsxs("div",{children:[s.jsx("h4",{style:{color:"#8e44ad",borderBottom:"2px solid #9b59b6",paddingBottom:"0.5rem",marginBottom:"1rem",display:"inline-block"},children:" Formacin Profesional"}),E.filter(H=>H.tipo_materia==="especialidad").length>0?s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{className:"student-grades-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Materia"}),s.jsx("th",{style:{textAlign:"center"},children:"P1"}),s.jsx("th",{style:{textAlign:"center"},children:"P2"}),s.jsx("th",{style:{textAlign:"center"},children:"P3"}),s.jsx("th",{style:{textAlign:"center"},children:"Promedio"})]})}),s.jsx("tbody",{children:E.filter(H=>H.tipo_materia==="especialidad").map(H=>s.jsxs("tr",{children:[s.jsxs("td",{children:[H.materia,s.jsx("span",{style:{display:"block",fontSize:"0.75rem",color:"#8e44ad"},children:"Especialidad"})]}),s.jsx("td",{style:{textAlign:"center"},children:H.parcial1||"-"}),s.jsx("td",{style:{textAlign:"center"},children:H.parcial2||"-"}),s.jsx("td",{style:{textAlign:"center"},children:H.parcial3||"-"}),s.jsx("td",{style:{textAlign:"center"},children:H.promedio_final?s.jsx("span",{className:`grade-badge ${H.promedio_final>=9?"excellent":H.promedio_final>=7?"good":"bad"}`,children:H.promedio_final}):"-"})]},H.id))})]})}):s.jsx("div",{style:{padding:"1rem",background:"#fdf2fa",border:"1px dashed #e5b0ea",borderRadius:"8px",color:"#8e44ad"},children:"No tienes materias de especialidad registradas en este semestre."})]})]})]})]}),s.jsx("div",{className:"auth-methods",style:{marginTop:"2rem"},children:s.jsx("button",{className:"google-login-btn logout-btn",onClick:Ae,children:s.jsx("span",{children:"Cerrar Sesin"})})})]}):s.jsxs(s.Fragment,{children:[s.jsx("h2",{children:"Bienvenido, Alumno!"}),s.jsx("p",{children:"Accede a tus calificaciones, horarios y recursos acadmicos de manera segura."}),s.jsx("div",{className:"auth-methods",children:s.jsxs("button",{className:"google-login-btn",onClick:we,children:[s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg",alt:"Google"}),s.jsx("span",{children:"Iniciar sesin con Google"})]})})]}),s.jsx("div",{className:"login-footer",children:s.jsxs("p",{children:["Tienes problemas para entrar? ",s.jsx("a",{href:"#contacto",children:"Contacta a soporte"})]})})]})]})})]})},k3=({isOpen:t,onClose:e,onClubAdded:r,clubToEdit:n=null})=>{const[a,o]=F.useState({nombre:"",categoria:"Deportivo",descripcion:"",beneficios:"",tipoVisual:"emoji",icono:"",color:"#4a90e2",foto:null,link:""}),[c,u]=F.useState(!1),[h,f]=F.useState(null);if(F.useEffect(()=>{o(n?{nombre:n.nombre||"",categoria:n.categoria||"Deportivo",descripcion:n.descripcion||"",beneficios:n.beneficios||"",tipoVisual:n.foto_url?"foto":"emoji",icono:n.icono||"",color:n.color||"#4a90e2",foto:null,link:n.link||"",existingFotoUrl:n.foto_url}:{nombre:"",categoria:"Deportivo",descripcion:"",beneficios:"",tipoVisual:"emoji",icono:"",color:"#4a90e2",foto:null,link:""})},[n,t]),!t)return null;const x=D=>{const{name:z,value:ie}=D.target;o(se=>({...se,[z]:ie}))},m=D=>{D.target.files&&D.target.files[0]&&o(z=>({...z,foto:D.target.files[0]}))},j=async D=>{D.preventDefault(),u(!0),f(null);try{let z=a.existingFotoUrl;if(a.tipoVisual==="foto"&&a.foto){const J=a.foto.name.split(".").pop(),O=`${`${Math.random()}.${J}`}`,{error:K}=await ue.storage.from("clubs_media").upload(O,a.foto);if(K)throw K;const{data:ae}=ue.storage.from("clubs_media").getPublicUrl(O);z=ae.publicUrl}else a.tipoVisual==="emoji"&&(z=null);const ie={nombre:a.nombre,categoria:a.categoria,descripcion:a.descripcion,beneficios:a.beneficios,foto_url:z,icono:a.tipoVisual==="emoji"?a.icono:null,color:a.tipoVisual==="emoji"?a.color:null,link:a.link||null};let se;n?se=ue.from("clubs").update(ie).eq("id",n.id):se=ue.from("clubs").insert([ie]);const{error:Q}=await se;if(Q)throw Q;r(),e()}catch(z){console.error("Error saving club:",z),f(z.message||"Error al guardar el club")}finally{u(!1)}},y={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},C={backgroundColor:"#fff",padding:"30px",borderRadius:"15px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 10px 40px rgba(0,0,0,0.3)",color:"#333"},k={marginBottom:"15px"},L={display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"14px",color:"#555"},E={width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ddd",fontSize:"14px"},B={padding:"10px 20px",borderRadius:"5px",border:"none",cursor:"pointer",fontWeight:"bold",marginTop:"10px"},T=["#4a90e2","#e74c3c","#2ecc71","#f1c40f","#9b59b6","#e67e22","#1abc9c","#34495e"];return s.jsx("div",{style:y,children:s.jsxs("div",{style:C,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[s.jsx("h2",{style:{margin:0,color:"#2c3e50"},children:n?"Editar Club":"Agregar Nuevo Club"}),s.jsx("button",{onClick:e,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#999"},children:""})]}),h&&s.jsx("div",{style:{backgroundColor:"#ffebee",color:"#c62828",padding:"10px",borderRadius:"5px",marginBottom:"15px",fontSize:"14px"},children:h}),s.jsxs("form",{onSubmit:j,children:[s.jsxs("div",{style:k,children:[s.jsx("label",{style:L,children:"Nombre del Club"}),s.jsx("input",{required:!0,type:"text",name:"nombre",value:a.nombre,onChange:x,style:E,placeholder:"Ej. Ftbol Varonil"})]}),s.jsxs("div",{style:k,children:[s.jsx("label",{style:L,children:"Categora"}),s.jsxs("select",{name:"categoria",value:a.categoria,onChange:x,style:E,children:[s.jsx("option",{value:"Deportivo",children:"Deportivo"}),s.jsx("option",{value:"Cultural",children:"Cultural"}),s.jsx("option",{value:"Academico",children:"Acadmico"})]})]}),s.jsxs("div",{style:k,children:[s.jsx("label",{style:L,children:"Descripcin"}),s.jsx("textarea",{required:!0,name:"descripcion",value:a.descripcion,onChange:x,style:{...E,minHeight:"80px",fontFamily:"inherit"},placeholder:"Breve descripcin de las actividades..."})]}),s.jsxs("div",{style:k,children:[s.jsx("label",{style:L,children:"Beneficios (separados por )"}),s.jsx("input",{type:"text",name:"beneficios",value:a.beneficios,onChange:x,style:E,placeholder:"Ej. Salud  Disciplina  Diversin"})]}),s.jsxs("div",{style:k,children:[s.jsx("label",{style:L,children:"Link de Redireccin (Opcional)"}),s.jsx("input",{type:"url",name:"link",value:a.link,onChange:x,style:E,placeholder:"https://pagina-externa.com"})]}),s.jsxs("div",{style:k,children:[s.jsx("label",{style:L,children:"Apariencia"}),s.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[s.jsx("button",{type:"button",onClick:()=>o(D=>({...D,tipoVisual:"emoji"})),style:{...B,backgroundColor:a.tipoVisual==="emoji"?"#3498db":"#f0f2f5",color:a.tipoVisual==="emoji"?"white":"#7f8c8d",marginTop:0,flex:1},children:"Emoji + Color"}),s.jsx("button",{type:"button",onClick:()=>o(D=>({...D,tipoVisual:"foto"})),style:{...B,backgroundColor:a.tipoVisual==="foto"?"#3498db":"#f0f2f5",color:a.tipoVisual==="foto"?"white":"#7f8c8d",marginTop:0,flex:1},children:"Foto Personalizada"})]}),a.tipoVisual==="emoji"?s.jsxs("div",{style:{background:"#f8f9fa",padding:"15px",borderRadius:"8px"},children:[s.jsxs("div",{style:{marginBottom:"10px"},children:[s.jsx("label",{style:{...L,fontSize:"13px"},children:"Emoji:"}),s.jsx("input",{type:"text",name:"icono",value:a.icono,onChange:x,style:{...E,fontSize:"24px",textAlign:"center",width:"60px"},placeholder:""})]}),s.jsxs("div",{children:[s.jsx("label",{style:{...L,fontSize:"13px"},children:"Color de Fondo:"}),s.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"10px"},children:[T.map(D=>s.jsx("button",{type:"button",onClick:()=>o(z=>({...z,color:D})),style:{width:"30px",height:"30px",borderRadius:"50%",backgroundColor:D,border:a.color===D?"2px solid #333":"2px solid transparent",cursor:"pointer",padding:0}},D)),s.jsx("input",{type:"color",name:"color",value:a.color,onChange:x,style:{width:"32px",height:"32px",padding:0,border:"none",background:"none",cursor:"pointer"}})]})]}),s.jsxs("div",{style:{marginTop:"10px",textAlign:"center"},children:[s.jsx("label",{style:{...L,fontSize:"12px",marginBottom:"5px"},children:"Vista Previa:"}),s.jsx("div",{style:{width:"100%",height:"80px",backgroundColor:a.color,borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",color:"white",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:a.icono})]})]}):s.jsxs("div",{style:{textAlign:"center",padding:"20px",border:"2px dashed #ddd",borderRadius:"8px"},children:[a.existingFotoUrl&&s.jsxs("div",{style:{marginBottom:"10px"},children:[s.jsx("img",{src:a.existingFotoUrl,alt:"Preview",style:{height:"60px",borderRadius:"5px"}}),s.jsx("p",{style:{fontSize:"11px",margin:"2px 0 10px 0"},children:"Imagen actual (subir otra para cambiar)"})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:m,style:{...E,border:"none"}}),s.jsx("p",{style:{fontSize:"12px",color:"#999",margin:"5px 0 0 0"},children:"Formatos: JPG, PNG, WEBP"})]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[s.jsx("button",{type:"button",onClick:e,style:{...B,backgroundColor:"#eceff1",color:"#546e7a"},disabled:c,children:"Cancelar"}),s.jsx("button",{type:"submit",style:{...B,backgroundColor:"#28a745",color:"white"},disabled:c,children:c?"Guardando...":n?"Actualizar Club":"Crear Club"})]})]})]})})},C3=({isOpen:t,onClose:e,onCareerAdded:r,careerToEdit:n=null})=>{const[a,o]=F.useState({nombre:"",descripcion:"",programa_competencia:"",justificacion:"",perfil_egreso:"",area_especializacion:"",habilidades_socioemocionales:"",oportunidades_profesionales:"",imagenFile:null,pdfFile:null,pdf_start_page:1}),[c,u]=F.useState(!1),[h,f]=F.useState(null);if(F.useEffect(()=>{o(n?{nombre:n.nombre||"",descripcion:n.descripcion||"",programa_competencia:n.programa_competencia||"",justificacion:n.justificacion||"",perfil_egreso:n.perfil_egreso||"",area_especializacion:n.area_especializacion||"",habilidades_socioemocionales:n.habilidades_socioemocionales||"",oportunidades_profesionales:n.oportunidades_profesionales||"",imagenFile:null,pdfFile:null,pdf_start_page:n.pdf_start_page||1,existingImagenUrl:n.imagen_url,existingPdfUrl:n.plan_estudios_url}:{nombre:"",descripcion:"",programa_competencia:"",justificacion:"",perfil_egreso:"",area_especializacion:"",habilidades_socioemocionales:"",oportunidades_profesionales:"",imagenFile:null,pdfFile:null,pdf_start_page:1})},[n,t]),!t)return null;const x=D=>{const{name:z,value:ie}=D.target;o(se=>({...se,[z]:ie}))},m=(D,z)=>{D.target.files&&D.target.files[0]&&o(ie=>({...ie,[z]:D.target.files[0]}))},j=async(D,z)=>{const ie=D.name.split(".").pop(),se=`${z}/${Math.random()}.${ie}`,{error:Q}=await ue.storage.from("carreras_media").upload(se,D);if(Q)throw Q;const{data:J}=ue.storage.from("carreras_media").getPublicUrl(se);return J.publicUrl},y=async D=>{D.preventDefault(),u(!0),f(null);try{let z=a.existingImagenUrl,ie=a.existingPdfUrl;if(a.imagenFile&&(z=await j(a.imagenFile,"images")),a.pdfFile&&(ie=await j(a.pdfFile,"pdfs")),!z)throw new Error("La imagen es obligatoria");const se={nombre:a.nombre,descripcion:a.descripcion,imagen_url:z,programa_competencia:a.programa_competencia,justificacion:a.justificacion,perfil_egreso:a.perfil_egreso,area_especializacion:a.area_especializacion,habilidades_socioemocionales:a.habilidades_socioemocionales,oportunidades_profesionales:a.oportunidades_profesionales,plan_estudios_url:ie||null,pdf_start_page:parseInt(a.pdf_start_page)||1};let Q;n?Q=ue.from("carreras_tecnicas").update(se).eq("id",n.id):Q=ue.from("carreras_tecnicas").insert([se]);const{error:J}=await Q;if(J)throw J;r(),e()}catch(z){console.error("Error saving career:",z),f(z.message||"Error al guardar la carrera tcnica")}finally{u(!1)}},C={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},k={backgroundColor:"#fff",padding:"30px",borderRadius:"15px",width:"90%",maxWidth:"700px",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 10px 40px rgba(0,0,0,0.3)",color:"#333"},L={marginBottom:"15px"},E={display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"14px",color:"#555"},B={width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ddd",fontSize:"14px"},T={padding:"10px 20px",borderRadius:"5px",border:"none",cursor:"pointer",fontWeight:"bold",marginTop:"10px"};return s.jsx("div",{style:C,children:s.jsxs("div",{style:k,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[s.jsx("h2",{style:{margin:0,color:"#2c3e50"},children:n?"Editar Carrera Tcnica":"Agregar Nueva Carrera Tcnica"}),s.jsx("button",{onClick:e,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#999"},children:""})]}),h&&s.jsx("div",{style:{backgroundColor:"#ffebee",color:"#c62828",padding:"10px",borderRadius:"5px",marginBottom:"15px",fontSize:"14px"},children:h}),s.jsxs("form",{onSubmit:y,children:[s.jsxs("div",{style:L,children:[s.jsx("label",{style:E,children:"Nombre de la Carrera*"}),s.jsx("input",{required:!0,type:"text",name:"nombre",value:a.nombre,onChange:x,style:B,placeholder:"Ej. Tcnico en Programacin"})]}),s.jsxs("div",{style:L,children:[s.jsx("label",{style:E,children:"Descripcin"}),s.jsx("textarea",{name:"descripcion",value:a.descripcion,onChange:x,style:{...B,minHeight:"80px",fontFamily:"inherit"},placeholder:"Descripcin general de la carrera..."})]}),s.jsxs("div",{style:L,children:[s.jsx("label",{style:E,children:"Imagen de la Carrera*"}),a.existingImagenUrl&&s.jsxs("div",{style:{marginBottom:"10px"},children:[s.jsx("img",{src:a.existingImagenUrl,alt:"Preview",style:{height:"60px",borderRadius:"5px"}}),s.jsx("p",{style:{fontSize:"11px",margin:"2px 0 10px 0"},children:"Imagen actual (subir otra para cambiar)"})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:D=>m(D,"imagenFile"),style:{...B,border:"none"},required:!a.existingImagenUrl}),s.jsx("p",{style:{fontSize:"12px",color:"#999",margin:"5px 0 0 0"},children:"Formatos: JPG, PNG, WEBP"})]}),s.jsxs("div",{style:L,children:[s.jsx("label",{style:E,children:"Programa de Competencias"}),s.jsx("textarea",{name:"programa_competencia",value:a.programa_competencia,onChange:x,style:{...B,minHeight:"100px",fontFamily:"inherit"},placeholder:"Descripcin del programa de competencias..."})]}),s.jsxs("div",{style:L,children:[s.jsx("label",{style:E,children:"Justificacin"}),s.jsx("textarea",{name:"justificacion",value:a.justificacion,onChange:x,style:{...B,minHeight:"100px",fontFamily:"inherit"},placeholder:"Justificacin de la carrera..."})]}),s.jsxs("div",{style:L,children:[s.jsx("label",{style:E,children:"Perfil de Egreso"}),s.jsx("textarea",{name:"perfil_egreso",value:a.perfil_egreso,onChange:x,style:{...B,minHeight:"100px",fontFamily:"inherit"},placeholder:"Perfil del egresado..."})]}),s.jsxs("div",{style:L,children:[s.jsx("label",{style:E,children:"rea de Especializacin"}),s.jsx("input",{type:"text",name:"area_especializacion",value:a.area_especializacion,onChange:x,style:B,placeholder:"Ej. Tecnologas de la Informacin"})]}),s.jsxs("div",{style:L,children:[s.jsx("label",{style:E,children:"Habilidades Socioemocionales"}),s.jsx("textarea",{name:"habilidades_socioemocionales",value:a.habilidades_socioemocionales,onChange:x,style:{...B,minHeight:"80px",fontFamily:"inherit"},placeholder:"Habilidades socioemocionales desarrolladas..."})]}),s.jsxs("div",{style:L,children:[s.jsx("label",{style:E,children:"Oportunidades Profesionales"}),s.jsx("textarea",{name:"oportunidades_profesionales",value:a.oportunidades_profesionales,onChange:x,style:{...B,minHeight:"80px",fontFamily:"inherit"},placeholder:"Campo laboral y oportunidades..."})]}),s.jsxs("div",{style:L,children:[s.jsx("label",{style:E,children:"Plan de Estudios (PDF)"}),a.existingPdfUrl&&s.jsxs("div",{style:{marginBottom:"10px"},children:[s.jsx("a",{href:a.existingPdfUrl,target:"_blank",rel:"noopener noreferrer",style:{color:"#3498db",fontSize:"12px"},children:" Ver PDF actual"}),s.jsx("p",{style:{fontSize:"11px",margin:"2px 0 10px 0"},children:"Subir otro para reemplazar"})]}),s.jsx("input",{type:"file",accept:"application/pdf",onChange:D=>m(D,"pdfFile"),style:{...B,border:"none"}}),s.jsx("p",{style:{fontSize:"12px",color:"#999",margin:"5px 0 0 0"},children:"Formato: PDF"})]}),s.jsxs("div",{style:L,children:[s.jsx("label",{style:E,children:"Pgina Inicial del PDF (opcional)"}),s.jsx("input",{type:"number",name:"pdf_start_page",min:"1",value:a.pdf_start_page,onChange:x,style:{...B,maxWidth:"150px"},placeholder:"1"}),s.jsx("p",{style:{fontSize:"12px",color:"#999",margin:"5px 0 0 0"},children:"Especifica qu pgina se mostrar primero en la vista pblica (ej: 2, 8, 12)"})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[s.jsx("button",{type:"button",onClick:e,style:{...T,backgroundColor:"#eceff1",color:"#546e7a"},disabled:c,children:"Cancelar"}),s.jsx("button",{type:"submit",style:{...T,backgroundColor:"#28a745",color:"white"},disabled:c,children:c?"Guardando...":n?"Actualizar Carrera":"Crear Carrera"})]})]})]})})},A3=()=>{var Go;const t=zc(),[e,r]=F.useState(null),[n,a]=F.useState(null),[o,c]=F.useState([]),[u,h]=F.useState(!0),[f,x]=F.useState({titulo:"",contenido:""}),[m,j]=F.useState(!1),[y,C]=F.useState(!1),[k,L]=F.useState("dashboard"),[E,B]=F.useState([]),[T,D]=F.useState(!1),[z,ie]=F.useState(null),[se,Q]=F.useState([]),[J,de]=F.useState(!1),[O,K]=F.useState(null),[ae,ce]=F.useState(null),[we,Ae]=F.useState({target_date:"",countdown_message:"",header_title:"",header_subtitle:""}),[ve,H]=F.useState([]),[he,xe]=F.useState({title:"",date_range:"",subtitle:""}),[X,P]=F.useState(null),[Y,W]=F.useState([]),[ne,le]=F.useState({requirement:""}),[me,Se]=F.useState(null),[Ee,Fe]=F.useState([]),[We,et]=F.useState({emoji:"",name:"",description:""}),[tt,vt]=F.useState(null),[Z,rt]=F.useState(null),[bt,pt]=F.useState({address:"",phone_label:"",phone_value:"",email_label:"",email_value:"",website_label:"",website_value:"",schedule:""}),[He,jt]=F.useState(null),[Me,at]=F.useState({hero_image_url:"",title:"",subtitle:"",target_date:"",countdown_label:"",countdown_date_text:"",inscriptions_title:"",inscriptions_period_title:"",inscriptions_period_description:"",requirements_title:"",advantages_title:"",contact_title:"",contact_description:""}),[wt,vr]=F.useState([]),[Ht,Pt]=F.useState({title:"",description:""}),[nr,Zt]=F.useState(null),[ht,Ft]=F.useState([]),[st,Hr]=F.useState({icon:"",text:""}),[sr,Yt]=F.useState(null),[Qt,qr]=F.useState([]),[ct,br]=F.useState({title:"",description:""}),[kt,Bt]=F.useState(null),[Sr,Wt]=F.useState([]),[St,fr]=F.useState({line_text:""}),[Ga,Mn]=F.useState(null),[Ji,va]=F.useState(null),[nt,Yr]=F.useState({address_line1:"",address_line2:"",address_line3:"",phone:"",email:"",website:"",rating_text:"",status_text:"",hours_line1:"",hours_line2:""}),[ya,ai]=F.useState([]),[pn,yr]=F.useState({icon:"",title:"",detail:""}),[Xr,mn]=F.useState(null),[Ka,Ws]=F.useState([]),[cn,si]=F.useState({icon:"",name:"",url:"",description:""}),[Tn,Yi]=F.useState(null),[oi,vo]=F.useState(null),[li,Ja]=F.useState({address_text:"",map_embed_url:""}),[Vs,yo]=F.useState([]),[Xi,wo]=F.useState({question:"",answer:""}),[Br,Dl]=F.useState(null),[vs,Zi]=F.useState(null),[yi,_o]=F.useState({title:"",description:"",highlight_text:""}),[Ii,Gs]=F.useState(null),[lr,Oi]=F.useState({title:"",logo_url:"",croquis_image_url:"",history_text:"",mission_text:"",vision_text:"",lema_text:"",commitment_text_1:"",commitment_text_2:""}),[Zr,jo]=F.useState(null),[sc,Qr]=F.useState(!1),[Ks,Qi]=F.useState([]),[Rn,wa]=F.useState({icon:"",title:"",description:""}),[Di,Sn]=F.useState(null),[_a,Fl]=F.useState([]),[Tr,wi]=F.useState({section:"instalaciones",title:"",description:"",image_url:"",is_locked:!1}),[ja,So]=F.useState(null),[cr,Js]=F.useState(null),[ys,No]=F.useState(!1),[ko,oc]=F.useState(null),[Oa,Ys]=F.useState({logo_url:"",title_text:""}),[_i,Ya]=F.useState([]),[en,Wn]=F.useState({label:"",href:"",path:""}),[ws,Et]=F.useState(null),[ea,Hc]=F.useState(null),[gn,bn]=F.useState({school_name:"",location_text:"",tagline_text:"",copyright_text:"",rights_text:"",legal_text_1:"",legal_text_2:"",legal_text_3:""}),[Xa,lc]=F.useState([]),[Vn,ta]=F.useState({label:"",href:"",icon_url:"",style_class:""}),[Co,Sa]=F.useState(null),[Xs,Fi]=F.useState([]),[ci,Za]=F.useState({image_url:"",is_locked:!1}),[Ao,Eo]=F.useState(null),[ji,Zs]=F.useState(null),[Qs,Bi]=F.useState(!1),[Qa,eo]=F.useState([]),[Wr,Si]=F.useState({image_url:"",title:"",description:"",path:"",is_locked:!1}),[$i,Da]=F.useState(null),[In,ra]=F.useState(null),[Lo,w]=F.useState(!1),[R,re]=F.useState(null),[fe,_e]=F.useState({title:"",subtitle:"",hero_image_url:"",cta_label:""}),[Be,qe]=F.useState([]),[Ye,it]=F.useState({name:"",description:"",icon:"",url:"",color:"",order_index:"",is_active:!0}),[Tt,zt]=F.useState(null),[or,tn]=F.useState(null),[Ar,Nr]=F.useState({title:"",subtitle:"",license_title:"",license_text:""}),[Nn,xn]=F.useState([]),[wr,ui]=F.useState({full_name:"",career:"",description:"",photo_url:""}),[na,es]=F.useState(null),[ts,Po]=F.useState(null),[_s,js]=F.useState(!1),[Ni,to]=F.useState(null),[ft,di]=F.useState({provider:"groq",base_url:"",api_key:"",groq_api_key:"",gemini_api_key:"",model:"",system_prompt:"",enable_db_context:!0,enabled:!0,fallback_enabled:!1,primary_provider:"groq"}),[ro,sl]=F.useState(!1),[ol,ki]=F.useState([]),[qn,Na]=F.useState({provider:"groq",name:""}),[To,ia]=F.useState(""),[Ss,no]=F.useState(""),[Ro,rs]=F.useState(!1),[Mi,aa]=F.useState(!1),[qi,io]=F.useState([]),[ka,Ns]=F.useState(!1),[ks,Fa]=F.useState(!1),[Er,ao]=F.useState(null),[ns,Ca]=F.useState(!1),[Rr,sa]=F.useState({subject:"",messageHtml:"",messageText:"",sendToAll:!1,grados:[],grupos:[]}),[so,Io]=F.useState(!1),[Ba,Gn]=F.useState(null),[Ui,hi]=F.useState(!1),[is,oo]=F.useState(!1),[rn,nn]=F.useState(null),[xr,ur]=F.useState(null),[un,an]=F.useState(!1),[kn,ll]=F.useState({user:"",password:""}),[Oo,oa]=F.useState(""),[Bl,Do]=F.useState(!1),[Fo,Wc]=F.useState([]),[$l,Cs]=F.useState(!1),[Bo,$o]=F.useState(!1),[lo,cc]=F.useState(""),[uc,dc]=F.useState(!1),[$a,cl]=F.useState({alumno_domain:"",maestro_user:"",maestro_password:""}),[hc,Ma]=F.useState(!1),[ul,Kn]=F.useState(!1),[Ci,dl]=F.useState(null),[as,fc]=F.useState([]),[Mo,hl]=F.useState(1),[Vt,As]=F.useState({materia:"",parcial1:"",parcial2:"",parcial3:"",tipo:"basica"}),[qo,ss]=F.useState("semesters"),[qa,fl]=F.useState(null),[Uo,Ml]=F.useState(null),co=g=>o.filter(je=>je.grado===g&&je.grupo).map(je=>je.grupo).filter((je,Te,Ke)=>Ke.indexOf(je)===Te).sort(),Vc=()=>o.filter(g=>g.grado===qa&&g.grupo===Uo),[ql,gd]=F.useState([]),[bd,Ul]=F.useState(!1),[ar,uo]=F.useState(null),[Es,Gc]=F.useState("");F.useState("Todos");const[pl,ku]=F.useState(new Date().getFullYear().toString()),[$e,At]=F.useState({habilitado:!0,titulo_header:"",subtitulo_header:"",badge_texto:"",cta_texto:"",cta_subtexto:"",fecha_cierre:"",mensaje_cierre:"",card_titulo:"",card_descripcion:"",card_checklist_json:[],card_boton_texto:"",pasos_titulo:"",pasos_subtitulo:"",pasos_json:[],carreras_titulo:"",carreras_subtitulo:"",requisitos_titulo:"",requisitos_subtitulo:"",requisitos_json:[],cta_final_titulo:"",cta_final_subtitulo:"",cta_final_boton:"",cta_final_boton_sub:"",cerrada_badge:"",cerrada_titulo:"",cerrada_mensaje:"",form_badge:"",form_titulo:"",form_subtitulo:"",indicaciones_ficha:"",home_badge:"",home_titulo:"",home_descripcion:"",home_boton:"",home_icono:"",form_titulo_paso1:"",form_titulo_paso2:"",form_desc_paso2:"",form_titulo_paso3:"",form_desc_paso3:"",form_titulo_paso4:"",form_desc_paso4:"",form_titulo_paso5:"",form_desc_paso5:"",stepper_json:[],exito_icono:"",exito_titulo:"",exito_mensaje:"",exito_btn_pdf:"",exito_btn_inicio:""}),[Cu,pc]=F.useState(!1),[On,Aa]=F.useState(!1);F.useEffect(()=>{const{data:{subscription:g}}=ue.auth.onAuthStateChange(($,je)=>{var Ke,Lt,Ot;console.log("Auth event:",$,"Provider token:",je!=null&&je.provider_token?"presente":"ausente"),($==="SIGNED_IN"||$==="INITIAL_SESSION"||$==="TOKEN_REFRESHED")&&(je!=null&&je.provider_token)&&(localStorage.setItem("gmail_provider_token",je.provider_token),localStorage.setItem("gmail_user_email",((Ke=je.user)==null?void 0:Ke.email)||""),console.log(" Token de Gmail guardado para:",(Lt=je.user)==null?void 0:Lt.email),nn(je.provider_token),ur(((Ot=je.user)==null?void 0:Ot.email)||null),hi(!0)),$==="SIGNED_OUT"&&(localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),nn(null),ur(null),hi(!1))});return()=>g.unsubscribe()},[]),F.useEffect(()=>{zi(),pi(),V(),pe(),be(),Ze(),er(),tr(),Or(),Fn(),Cr(),za(),ds(),$r(),mc(),ho();const g=localStorage.getItem("gmail_provider_token"),$=localStorage.getItem("gmail_user_email");g&&(nn(g),ur($),hi(!0))},[]),F.useEffect(()=>{k==="gmail"&&yc(),k==="access"&&(zo(),Jn())},[k]);const zi=async()=>{try{const{data:{session:g}}=await ue.auth.getSession();if(!g){h(!1);return}r(g.user);try{const{data:Te,error:Ke}=await ue.from("edupanel_allowed_accounts").select("*").eq("email",g.user.email.toLowerCase()).maybeSingle();if(Ke)console.warn("Tabla edupanel_allowed_accounts no existe o error:",Ke.message),$o(!1),Cs(!0);else if(Te)Cs(Te.is_master===!0),$o(!1);else{$o(!0),h(!1);return}}catch(Te){Te.name!=="AbortError"&&console.warn("Error verificando cuentas permitidas:",Te),$o(!1),Cs(!0)}const $=sessionStorage.getItem("maestro_security_verified");$==="true"&&an(!0);let{data:je}=await ue.from("profiles").select("*").eq("id",g.user.id).single();if(!je||je.rol!=="maestro"){const{data:Te}=await ue.from("profiles").upsert({id:g.user.id,rol:"maestro",nombre:g.user.user_metadata.full_name,avatar_url:g.user.user_metadata.avatar_url}).select().single();je=Te}a(je),$==="true"&&gr()}catch(g){g.name!=="AbortError"&&console.error("Error en checkUser:",g)}finally{h(!1)}},os=async g=>{var $,je;g.preventDefault(),oa(""),Do(!0);try{const{data:Te,error:Ke}=await ue.from("access_config").select("config_key, config_value").in("config_key",["maestro_user","maestro_password"]);if(Ke){console.warn("Tabla access_config no existe, usando credenciales por defecto"),kn.user==="cbta"&&kn.password==="cbta134#pagina"?(an(!0),sessionStorage.setItem("maestro_security_verified","true"),gr()):oa("Usuario o contrasea incorrectos.");return}if(!Te||Te.length<2){kn.user==="cbta"&&kn.password==="cbta134#pagina"?(an(!0),sessionStorage.setItem("maestro_security_verified","true"),gr()):oa("Usuario o contrasea incorrectos.");return}const Lt=($=Te.find(Xt=>Xt.config_key==="maestro_user"))==null?void 0:$.config_value,Ot=(je=Te.find(Xt=>Xt.config_key==="maestro_password"))==null?void 0:je.config_value;kn.user===Lt&&kn.password===Ot?(an(!0),sessionStorage.setItem("maestro_security_verified","true"),gr()):oa("Usuario o contrasea incorrectos.")}catch{oa("Error al verificar. Intenta de nuevo.")}finally{Do(!1)}},zo=async()=>{try{const{data:g}=await ue.from("access_config").select("*");if(g){const $={};g.forEach(je=>{$[je.config_key]=je.config_value}),cl({alumno_domain:$.alumno_domain||"",maestro_user:$.maestro_user||"",maestro_password:$.maestro_password||""})}}catch(g){g.name!=="AbortError"&&console.error("Error fetching access config:",g)}},fi=async()=>{Ma(!0),Kn(!1);try{const g=[{config_key:"alumno_domain",config_value:$a.alumno_domain,description:"Dominio de correo permitido para alumnos"},{config_key:"maestro_user",config_value:$a.maestro_user,description:"Usuario de seguridad para maestros"},{config_key:"maestro_password",config_value:$a.maestro_password,description:"Contrasea de seguridad para maestros"}];for(const $ of g)await ue.from("access_config").update({config_value:$.config_value,updated_at:new Date().toISOString()}).eq("config_key",$.config_key);Kn(!0),setTimeout(()=>Kn(!1),3e3)}catch(g){console.error("Error saving access config:",g)}finally{Ma(!1)}},Jn=async()=>{const{data:g}=await ue.from("edupanel_allowed_accounts").select("*").order("created_at",{ascending:!0});Wc(g||[])},mc=async()=>{try{Ul(!0);const{data:g,error:$}=await ue.from("preregistros").select("*").order("created_at",{ascending:!1});$||gd(g||[])}catch(g){g.name!=="AbortError"&&console.error("Error fetching preregistros:",g)}finally{Ul(!1)}},xd=async(g,$)=>{const{error:je}=await ue.from("preregistros").update({estado_registro:$}).eq("id",g);je||(mc(),ar&&ar.id===g&&uo({...ar,estado_registro:$}))},Ls=async g=>{if(!window.confirm("Ests seguro de eliminar este pre-registro? Esta accin no se puede deshacer."))return;const{error:$}=await ue.from("preregistros").delete().eq("id",g);$?alert("Error al eliminar: "+$.message):(mc(),uo(null))},ml=()=>{const g=ql.filter(Ot=>{const Xt=(Ot.nombre+" "+Ot.apellido_paterno+" "+Ot.apellido_materno+" "+Ot.folio+" "+Ot.curp).toLowerCase().includes(Es.toLowerCase()),Dr=Ot.created_at?new Date(Ot.created_at).getFullYear().toString()===pl:!0;return Xt&&Dr});if(g.length===0){alert("No hay datos para exportar con los filtros seleccionados.");return}let je=["Folio","Fecha Registro","Nombre","Apellido Paterno","Apellido Materno","CURP","Sexo","Fecha Nacimiento","Correo","Telfono","Carrera","2da Opcin","3ra Opcin","Escuela Procedencia","Promedio","Tutor","Parentesco","Telfono Tutor"].join(";")+`
`;g.forEach(Ot=>{const Dr=[Ot.folio,new Date(Ot.created_at).toLocaleDateString(),Ot.nombre,Ot.apellido_paterno,Ot.apellido_materno,Ot.curp,Ot.sexo,Ot.fecha_nacimiento,Ot.correo,Ot.telefono,Ot.carrera_nombre,Ot.segunda_opcion_carrera||"N/A",Ot.tercera_opcion_carrera||"N/A",Ot.escuela_nombre,Ot.promedio_general,Ot.tutor_nombre,Ot.tutor_parentesco,Ot.tutor_telefono].map(ei=>{const da=String(ei||"");return da.includes(";")?`"${da}"`:da});je+=Dr.join(";")+`
`});const Te=new Blob([je],{type:"text/csv;charset=utf-8;"}),Ke=URL.createObjectURL(Te),Lt=document.createElement("a");Lt.setAttribute("href",Ke),Lt.setAttribute("download",`PreRegistros_${pl}_${new Date().toISOString().split("T")[0]}.csv`),Lt.style.visibility="hidden",document.body.appendChild(Lt),Lt.click(),document.body.removeChild(Lt)},ho=async()=>{try{const{data:g,error:$}=await ue.from("preregistro_config").select("*").eq("id",1).single();!$&&g&&At({...g,fecha_cierre:g.fecha_cierre?g.fecha_cierre.split("T")[0]:"",card_checklist_json:g.card_checklist_json||[],requisitos_json:g.requisitos_json||[],pasos_json:g.pasos_json||[]})}catch(g){g.name!=="AbortError"&&console.error("Error fetching preregistro config:",g)}},zl=async g=>{g&&g.preventDefault(),pc(!0);const $={...$e,updated_at:new Date().toISOString()};$.fecha_cierre?$.fecha_cierre=new Date($.fecha_cierre).toISOString():$.fecha_cierre=null,delete $.id;const{error:je}=await ue.from("preregistro_config").update($).eq("id",1);je?alert("Error al guardar: "+je.message):(alert("Configuracin de pre-registro actualizada"),ho()),pc(!1)},Kc=async()=>{if(lo.trim()){dc(!0);try{const{error:g}=await ue.from("edupanel_allowed_accounts").insert({email:lo.toLowerCase().trim(),is_master:!1,added_by:(e==null?void 0:e.email)||"desconocido"});g?g.code==="23505"?alert("Este correo ya est en la lista."):(console.error("Error adding account:",g),alert("Error al agregar cuenta.")):(cc(""),Jn())}finally{dc(!1)}}},Ps=async(g,$,je)=>{const Te=Fo.filter(Lt=>Lt.is_master).length;if(je){if(Te<=1){alert("No puedes eliminar la nica cuenta maestra. Primero asigna otra cuenta como maestra.");return}if(!window.confirm(` ATENCIN: "${$}" es una cuenta maestra.

Ests seguro de que deseas eliminarla?`))return}else if(!window.confirm(`Eliminar acceso para ${$}?`))return;const{error:Ke}=await ue.from("edupanel_allowed_accounts").delete().eq("id",g);Ke?(console.error("Error eliminando cuenta:",Ke),alert(Ke.message||"Error al eliminar la cuenta.")):Jn()},Ua=async(g,$,je)=>{const Te=Fo.filter(Lt=>Lt.is_master).length;if(je){if(Te<=1){alert("No puedes quitar el rol de maestra a la nica cuenta maestra.");return}if(!window.confirm(`Quitar rol de cuenta maestra a "${$}"?`))return}else{if(Te>=10){alert("Ya hay 10 cuentas maestras (mximo permitido).");return}if(!window.confirm(`Hacer "${$}" cuenta maestra?

Las cuentas maestras pueden gestionar el acceso de otras cuentas.`))return}const{error:Ke}=await ue.from("edupanel_allowed_accounts").update({is_master:!je}).eq("id",g);Ke?(console.error("Error actualizando estado:",Ke),alert(Ke.message||"Error al actualizar el estado de la cuenta.")):Jn()},kr=async()=>{await ue.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/maestros/admin",scopes:"https://www.googleapis.com/auth/gmail.send",queryParams:{access_type:"offline",prompt:"consent"}}})},gr=async()=>{try{h(!0);const{data:g,error:$}=await ue.from("profiles").select("*").eq("rol","alumno").order("grado",{ascending:!0}).order("grupo",{ascending:!0});$||c(g)}catch(g){g.name!=="AbortError"&&console.error("Error fetching students:",g)}finally{h(!1)}},Ts=async g=>{if(window.confirm("Ests seguro de eliminar este alumno?")){const{error:$}=await ue.from("profiles").delete().eq("id",g);$||gr()}},[Yn,Ai]=F.useState([]),[sn,la]=F.useState(null),pi=async()=>{const{data:g}=await ue.from("publicaciones_globales").select("*").order("created_at",{ascending:!1});Ai(g||[])},gc=async g=>{if(window.confirm("Eliminar este aviso?")){const{error:$}=await ue.from("publicaciones_globales").delete().eq("id",g);$||pi()}},Au=g=>{la({...g})},Eu=async g=>{g.preventDefault();const{error:$}=await ue.from("profiles").update({nombre:sn.nombre,apellidos:sn.apellidos,email:sn.email,curp:sn.curp,numero_control:sn.numero_control}).eq("id",sn.id);$||(la(null),gr())},[fo,gl]=F.useState(null),Rs=g=>{gl(g),x({titulo:g.titulo,contenido:g.contenido})},[ls,Hl]=F.useState(null),[p,v]=F.useState(!1),S=async g=>{g.preventDefault(),v(!0);let $=null,je=null;if(ls){const Lt=ls.name.split(".").pop(),Xt=`${`${Math.random()}.${Lt}`}`,{error:Dr}=await ue.storage.from("posts_media").upload(Xt,ls);if(Dr){alert("Error subiendo archivo: "+Dr.message),v(!1);return}const{data:{publicUrl:ei}}=ue.storage.from("posts_media").getPublicUrl(Xt);$=ei,je=ls.type.startsWith("video/")?"video":"image"}const Te={titulo:f.titulo,contenido:f.contenido,media_url:$,media_type:je};let Ke;if(fo){const{error:Lt}=await ue.from("publicaciones_globales").update(ls?Te:{titulo:f.titulo,contenido:f.contenido}).eq("id",fo.id);Ke=Lt}else{const{error:Lt}=await ue.from("publicaciones_globales").insert([{...Te,autor_id:e.id}]);Ke=Lt}Ke?alert("Error al guardar publicacin: "+Ke.message):(alert(fo?"Aviso actualizado":"Aviso publicado"),x({titulo:"",contenido:""}),Hl(null),gl(null),pi()),v(!1)},A=async g=>{dl(g),hl(g.grado||1),await I(g.id,g.grado||1)},I=async(g,$)=>{const{data:je,error:Te}=await ue.from("calificaciones").select("*").eq("alumno_id",g).eq("semestre",$);Te||fc(je||[])},q=async(g,$,je)=>{const Te=je===""?null:parseFloat(je),{error:Ke}=await ue.from("calificaciones").update({[$]:Te}).eq("id",g);Ke||fc(as.map(Lt=>Lt.id===g?{...Lt,[$]:Te}:Lt))},U=async()=>{if(!Vt.materia)return;if(Vt.tipo==="especialidad"&&Mo<2){alert("Las materias de especialidad solo pueden asignarse a partir del 2do semestre.");return}const{data:g,error:$}=await ue.from("calificaciones").insert([{alumno_id:Ci.id,semestre:Mo,materia:Vt.materia,tipo_materia:Vt.tipo,parcial1:Vt.parcial1||null,parcial2:Vt.parcial2||null,parcial3:Vt.parcial3||null}]).select();!$&&g?(fc([...as,g[0]]),As({materia:"",parcial1:"",parcial2:"",parcial3:"",tipo:"basica"})):alert("Error al agregar materia: "+(($==null?void 0:$.message)||"Error desconocido"))},V=async()=>{const{data:g}=await ue.from("carreras_tecnicas").select("*").order("created_at",{ascending:!1});B(g||[])},G=g=>{ie(g),D(!0)},ee=async g=>{if(window.confirm("Eliminar esta carrera tcnica? Esto podra afectar a los alumnos inscritos.")){const{error:$}=await ue.from("carreras_tecnicas").delete().eq("id",g);$||V()}},pe=async()=>{const{data:g}=await ue.from("clubs").select("*").order("created_at",{ascending:!1});Q(g||[])},Ce=g=>{K(g),de(!0)},te=async g=>{if(window.confirm("Eliminar este club?")){const{error:$}=await ue.from("clubs").delete().eq("id",g);$||pe()}},be=async()=>{const{data:g}=await ue.from("admission_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:$}=await ue.from("admission_dates").select("*").order("order_index",{ascending:!0}),{data:je}=await ue.from("admission_requirements").select("*").order("order_index",{ascending:!0}),{data:Te}=await ue.from("admission_specialties").select("*").order("order_index",{ascending:!0}),{data:Ke}=await ue.from("admission_contact").select("*").order("created_at",{ascending:!1}).limit(1).single();ce(g||null),H($||[]),W(je||[]),Fe(Te||[]),rt(Ke||null),g&&Ae({target_date:g.target_date?g.target_date.split("T")[0]:"",countdown_message:g.countdown_message||"",header_title:g.header_title||"",header_subtitle:g.header_subtitle||""}),Ke&&pt({address:Ke.address||"",phone_label:Ke.phone_label||"",phone_value:Ke.phone_value||"",email_label:Ke.email_label||"",email_value:Ke.email_value||"",website_label:Ke.website_label||"",website_value:Ke.website_value||"",schedule:Ke.schedule||""})},Ne=async g=>{g.preventDefault();const $={target_date:we.target_date?new Date(we.target_date).toISOString():null,countdown_message:we.countdown_message,header_title:we.header_title,header_subtitle:we.header_subtitle};if(ae!=null&&ae.id){const{error:je}=await ue.from("admission_config").update($).eq("id",ae.id);je||be()}else{const{error:je}=await ue.from("admission_config").insert([$]);je||be()}},De=async g=>{if(g.preventDefault(),!(!he.title||!he.date_range))if(X){const{error:$}=await ue.from("admission_dates").update(he).eq("id",X.id);$||(P(null),xe({title:"",date_range:"",subtitle:""}),be())}else{const{error:$}=await ue.from("admission_dates").insert([{...he,order_index:ve.length+1}]);$||(xe({title:"",date_range:"",subtitle:""}),be())}},ke=async g=>{if(window.confirm("Eliminar esta fecha?")){const{error:$}=await ue.from("admission_dates").delete().eq("id",g);$||be()}},Oe=async g=>{if(g.preventDefault(),!!ne.requirement)if(me){const{error:$}=await ue.from("admission_requirements").update(ne).eq("id",me.id);$||(Se(null),le({requirement:""}),be())}else{const{error:$}=await ue.from("admission_requirements").insert([{...ne,order_index:Y.length+1}]);$||(le({requirement:""}),be())}},Re=async g=>{if(window.confirm("Eliminar este requisito?")){const{error:$}=await ue.from("admission_requirements").delete().eq("id",g);$||be()}},Ue=async g=>{if(g.preventDefault(),!!We.name)if(tt){const{error:$}=await ue.from("admission_specialties").update(We).eq("id",tt.id);$||(vt(null),et({emoji:"",name:"",description:""}),be())}else{const{error:$}=await ue.from("admission_specialties").insert([{...We,order_index:Ee.length+1}]);$||(et({emoji:"",name:"",description:""}),be())}},ze=async g=>{if(window.confirm("Eliminar esta especialidad?")){const{error:$}=await ue.from("admission_specialties").delete().eq("id",g);$||be()}},xt=async g=>{if(g.preventDefault(),Z!=null&&Z.id){const{error:$}=await ue.from("admission_contact").update(bt).eq("id",Z.id);$||be()}else{const{error:$}=await ue.from("admission_contact").insert([bt]);$||be()}},Ze=async()=>{const{data:g}=await ue.from("baetam_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:$}=await ue.from("baetam_info_cards").select("*").order("order_index",{ascending:!0}),{data:je}=await ue.from("baetam_requirements").select("*").order("order_index",{ascending:!0}),{data:Te}=await ue.from("baetam_advantages").select("*").order("order_index",{ascending:!0}),{data:Ke}=await ue.from("baetam_contact_lines").select("*").order("order_index",{ascending:!0});jt(g||null),vr($||[]),Ft(je||[]),qr(Te||[]),Wt(Ke||[]),g&&at({hero_image_url:g.hero_image_url||"",title:g.title||"",subtitle:g.subtitle||"",target_date:g.target_date?g.target_date.split("T")[0]:"",countdown_label:g.countdown_label||"",countdown_date_text:g.countdown_date_text||"",inscriptions_title:g.inscriptions_title||"",inscriptions_period_title:g.inscriptions_period_title||"",inscriptions_period_description:g.inscriptions_period_description||"",requirements_title:g.requirements_title||"",advantages_title:g.advantages_title||"",contact_title:g.contact_title||"",contact_description:g.contact_description||""})},Gt=async g=>{g.preventDefault();const $={hero_image_url:Me.hero_image_url,title:Me.title,subtitle:Me.subtitle,target_date:Me.target_date?new Date(Me.target_date).toISOString():null,countdown_label:Me.countdown_label,countdown_date_text:Me.countdown_date_text,inscriptions_title:Me.inscriptions_title,inscriptions_period_title:Me.inscriptions_period_title,inscriptions_period_description:Me.inscriptions_period_description,requirements_title:Me.requirements_title,advantages_title:Me.advantages_title,contact_title:Me.contact_title,contact_description:Me.contact_description};if(He!=null&&He.id){const{error:je}=await ue.from("baetam_config").update($).eq("id",He.id);je||Ze()}else{const{error:je}=await ue.from("baetam_config").insert([$]);je||Ze()}},ut=async g=>{if(g.preventDefault(),!(!Ht.title||!Ht.description))if(nr){const{error:$}=await ue.from("baetam_info_cards").update(Ht).eq("id",nr.id);$||(Zt(null),Pt({title:"",description:""}),Ze())}else{const{error:$}=await ue.from("baetam_info_cards").insert([{...Ht,order_index:wt.length+1}]);$||(Pt({title:"",description:""}),Ze())}},ir=async g=>{if(window.confirm("Eliminar esta tarjeta?")){const{error:$}=await ue.from("baetam_info_cards").delete().eq("id",g);$||Ze()}},Cn=async g=>{if(g.preventDefault(),!!st.text)if(sr){const{error:$}=await ue.from("baetam_requirements").update(st).eq("id",sr.id);$||(Yt(null),Hr({icon:"",text:""}),Ze())}else{const{error:$}=await ue.from("baetam_requirements").insert([{...st,order_index:ht.length+1}]);$||(Hr({icon:"",text:""}),Ze())}},$t=async g=>{if(window.confirm("Eliminar este requisito?")){const{error:$}=await ue.from("baetam_requirements").delete().eq("id",g);$||Ze()}},lt=async g=>{if(g.preventDefault(),!(!ct.title||!ct.description))if(kt){const{error:$}=await ue.from("baetam_advantages").update(ct).eq("id",kt.id);$||(Bt(null),br({title:"",description:""}),Ze())}else{const{error:$}=await ue.from("baetam_advantages").insert([{...ct,order_index:Qt.length+1}]);$||(br({title:"",description:""}),Ze())}},Qe=async g=>{if(window.confirm("Eliminar esta ventaja?")){const{error:$}=await ue.from("baetam_advantages").delete().eq("id",g);$||Ze()}},Vr=async g=>{if(g.preventDefault(),!!St.line_text)if(Ga){const{error:$}=await ue.from("baetam_contact_lines").update(St).eq("id",Ga.id);$||(Mn(null),fr({line_text:""}),Ze())}else{const{error:$}=await ue.from("baetam_contact_lines").insert([{...St,order_index:Sr.length+1}]);$||(fr({line_text:""}),Ze())}},Mt=async g=>{if(window.confirm("Eliminar esta lnea?")){const{error:$}=await ue.from("baetam_contact_lines").delete().eq("id",g);$||Ze()}},er=async()=>{const{data:g}=await ue.from("teachers_config").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:$}=await ue.from("teachers_links").select("*").order("order_index",{ascending:!0});re(g||null),_e({title:(g==null?void 0:g.title)||"",subtitle:(g==null?void 0:g.subtitle)||"",hero_image_url:(g==null?void 0:g.hero_image_url)||"",cta_label:(g==null?void 0:g.cta_label)||""}),qe($||[])},Ur=async g=>{g.preventDefault();const $={...fe};if(R!=null&&R.id){const{error:je}=await ue.from("teachers_config").update($).eq("id",R.id);je||er()}else{const{error:je}=await ue.from("teachers_config").insert([$]);je||er()}},dn=async g=>{if(g.preventDefault(),!Ye.name||!Ye.url)return;const $=Ye.order_index?parseInt(Ye.order_index,10):Be.length+1,je={name:Ye.name,description:Ye.description,icon:Ye.icon,url:Ye.url,color:Ye.color,order_index:$,is_active:Ye.is_active};if(Tt){const{error:Te}=await ue.from("teachers_links").update(je).eq("id",Tt.id);Te||(zt(null),it({name:"",description:"",icon:"",url:"",color:"",order_index:"",is_active:!0}),er())}else{const{error:Te}=await ue.from("teachers_links").insert([je]);Te||(it({name:"",description:"",icon:"",url:"",color:"",order_index:"",is_active:!0}),er())}},mi=async g=>{if(window.confirm("Eliminar este recurso?")){const{error:$}=await ue.from("teachers_links").delete().eq("id",g);$||er()}},tr=async()=>{const{data:g}=await ue.from("contact_main").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:$}=await ue.from("contact_directory").select("*").order("order_index",{ascending:!0}),{data:je}=await ue.from("contact_social").select("*").order("order_index",{ascending:!0}),{data:Te}=await ue.from("contact_location").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:Ke}=await ue.from("contact_faq").select("*").order("order_index",{ascending:!0}),{data:Lt}=await ue.from("contact_cta").select("*").order("created_at",{ascending:!1}).limit(1).single();va(g||null),ai($||[]),Ws(je||[]),vo(Te||null),yo(Ke||[]),Zi(Lt||null),g&&Yr({address_line1:g.address_line1||"",address_line2:g.address_line2||"",address_line3:g.address_line3||"",phone:g.phone||"",email:g.email||"",website:g.website||"",rating_text:g.rating_text||"",status_text:g.status_text||"",hours_line1:g.hours_line1||"",hours_line2:g.hours_line2||""}),Te&&Ja({address_text:Te.address_text||"",map_embed_url:Te.map_embed_url||""}),Lt&&_o({title:Lt.title||"",description:Lt.description||"",highlight_text:Lt.highlight_text||""})},Dn=async g=>{if(g.preventDefault(),Ji!=null&&Ji.id){const{error:$}=await ue.from("contact_main").update(nt).eq("id",Ji.id);$||tr()}else{const{error:$}=await ue.from("contact_main").insert([nt]);$||tr()}},An=async g=>{if(g.preventDefault(),!(!pn.title||!pn.detail))if(Xr){const{error:$}=await ue.from("contact_directory").update(pn).eq("id",Xr.id);$||(mn(null),yr({icon:"",title:"",detail:""}),tr())}else{const{error:$}=await ue.from("contact_directory").insert([{...pn,order_index:ya.length+1}]);$||(yr({icon:"",title:"",detail:""}),tr())}},vn=async g=>{if(window.confirm("Eliminar este elemento del directorio?")){const{error:$}=await ue.from("contact_directory").delete().eq("id",g);$||tr()}},dr=async g=>{if(g.preventDefault(),!(!cn.name||!cn.url))if(Tn){const{error:$}=await ue.from("contact_social").update(cn).eq("id",Tn.id);$||(Yi(null),si({icon:"",name:"",url:"",description:""}),tr())}else{const{error:$}=await ue.from("contact_social").insert([{...cn,order_index:Ka.length+1}]);$||(si({icon:"",name:"",url:"",description:""}),tr())}},_r=async g=>{if(window.confirm("Eliminar esta red social?")){const{error:$}=await ue.from("contact_social").delete().eq("id",g);$||tr()}},Jr=async g=>{if(g.preventDefault(),oi!=null&&oi.id){const{error:$}=await ue.from("contact_location").update(li).eq("id",oi.id);$||tr()}else{const{error:$}=await ue.from("contact_location").insert([li]);$||tr()}},pr=async g=>{if(g.preventDefault(),!(!Xi.question||!Xi.answer))if(Br){const{error:$}=await ue.from("contact_faq").update(Xi).eq("id",Br.id);$||(Dl(null),wo({question:"",answer:""}),tr())}else{const{error:$}=await ue.from("contact_faq").insert([{...Xi,order_index:Vs.length+1}]);$||(wo({question:"",answer:""}),tr())}},Ir=async g=>{if(window.confirm("Eliminar esta pregunta?")){const{error:$}=await ue.from("contact_faq").delete().eq("id",g);$||tr()}},Xn=async g=>{if(g.preventDefault(),vs!=null&&vs.id){const{error:$}=await ue.from("contact_cta").update(yi).eq("id",vs.id);$||tr()}else{const{error:$}=await ue.from("contact_cta").insert([yi]);$||tr()}},Or=async()=>{const{data:g}=await ue.from("about_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:$}=await ue.from("about_values").select("*").order("order_index",{ascending:!0});Gs(g||null),Qi($||[]),g&&Oi({title:g.title||"",logo_url:g.logo_url||"",croquis_image_url:g.croquis_image_url||"",history_text:g.history_text||"",mission_text:g.mission_text||"",vision_text:g.vision_text||"",lema_text:g.lema_text||"",commitment_text_1:g.commitment_text_1||"",commitment_text_2:g.commitment_text_2||""})},Ei=async g=>{if(g.preventDefault(),Ii!=null&&Ii.id){const{error:$}=await ue.from("about_config").update(lr).eq("id",Ii.id);$||Or()}else{const{error:$}=await ue.from("about_config").insert([lr]);$||Or()}},hr=async()=>{if(!Zr)return;if(!(Ii!=null&&Ii.id)){alert("Primero guarda la informacin de Acerca para poder asociar el croquis.");return}Qr(!0);const g=Zr.name.split(".").pop(),$=`croquis-${Date.now()}.${g}`,{error:je}=await ue.storage.from("about_media").upload($,Zr,{upsert:!0});if(je){alert("Error subiendo croquis: "+je.message),Qr(!1);return}const{data:{publicUrl:Te}}=ue.storage.from("about_media").getPublicUrl($),{error:Ke}=await ue.from("about_config").update({croquis_image_url:Te}).eq("id",Ii.id);if(Ke){alert("Error guardando croquis: "+Ke.message),Qr(!1);return}Oi({...lr,croquis_image_url:Te}),Gs({...Ii,croquis_image_url:Te}),jo(null),Qr(!1)},zr=async g=>{if(g.preventDefault(),!(!Rn.title||!Rn.description))if(Di){const{error:$}=await ue.from("about_values").update(Rn).eq("id",Di.id);$||(Sn(null),wa({icon:"",title:"",description:""}),Or())}else{const{error:$}=await ue.from("about_values").insert([{...Rn,order_index:Ks.length+1}]);$||(wa({icon:"",title:"",description:""}),Or())}},Li=async g=>{if(window.confirm("Eliminar este valor?")){const{error:$}=await ue.from("about_values").delete().eq("id",g);$||Or()}},Fn=async()=>{const{data:g}=await ue.from("gallery_items").select("*").order("order_index",{ascending:!0});Fl(g||[])},yn=async()=>{if(!cr)return;No(!0);const g=cr.name.split(".").pop(),$=`gallery-${Date.now()}.${g}`,{error:je}=await ue.storage.from("gallery_media").upload($,cr,{upsert:!0});if(je){alert("Error subiendo imagen: "+je.message),No(!1);return}const{data:{publicUrl:Te}}=ue.storage.from("gallery_media").getPublicUrl($);wi({...Tr,image_url:Te}),Js(null),No(!1)},En=async g=>{if(g.preventDefault(),!(!Tr.title||!Tr.image_url))if(ja){const{error:$}=await ue.from("gallery_items").update({section:Tr.section,title:Tr.title,description:Tr.description,image_url:Tr.image_url}).eq("id",ja.id);$||(So(null),wi({section:"instalaciones",title:"",description:"",image_url:"",is_locked:!1}),Fn())}else{const{error:$}=await ue.from("gallery_items").insert([{section:Tr.section,title:Tr.title,description:Tr.description,image_url:Tr.image_url,is_locked:Tr.is_locked,order_index:_a.length+1}]);$||(wi({section:"instalaciones",title:"",description:"",image_url:"",is_locked:!1}),Fn())}},Zn=async g=>{if(g.is_locked){alert("Esta imagen est bloqueada y no se puede eliminar.");return}if(window.confirm("Eliminar esta imagen?")){const{error:$}=await ue.from("gallery_items").delete().eq("id",g.id);$||Fn()}},Cr=async()=>{const{data:g}=await ue.from("ui_header_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:$}=await ue.from("ui_header_links").select("*").order("order_index",{ascending:!0}),{data:je}=await ue.from("ui_footer_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:Te}=await ue.from("ui_footer_links").select("*").order("order_index",{ascending:!0}),{data:Ke}=await ue.from("hero_slides").select("*").order("order_index",{ascending:!0}),{data:Lt}=await ue.from("home_options").select("*").order("order_index",{ascending:!0});oc(g||null),Ya($||[]),Hc(je||null),lc(Te||[]),Fi(Ke||[]),eo(Lt||[]),g&&Ys({logo_url:g.logo_url||"",title_text:g.title_text||""}),je&&bn({school_name:je.school_name||"",location_text:je.location_text||"",tagline_text:je.tagline_text||"",copyright_text:je.copyright_text||"",rights_text:je.rights_text||"",legal_text_1:je.legal_text_1||"",legal_text_2:je.legal_text_2||"",legal_text_3:je.legal_text_3||""})},Lr=async g=>{if(g.preventDefault(),ko!=null&&ko.id){const{error:$}=await ue.from("ui_header_config").update(Oa).eq("id",ko.id);$||Cr()}else{const{error:$}=await ue.from("ui_header_config").insert([Oa]);$||Cr()}},Hi=async g=>{if(g.preventDefault(),!(!en.label||!en.path))if(ws){const{error:$}=await ue.from("ui_header_links").update(en).eq("id",ws.id);$||(Et(null),Wn({label:"",href:"",path:""}),Cr())}else{const{error:$}=await ue.from("ui_header_links").insert([{...en,order_index:_i.length+1}]);$||(Wn({label:"",href:"",path:""}),Cr())}},Pi=async g=>{if(window.confirm("Eliminar este link?")){const{error:$}=await ue.from("ui_header_links").delete().eq("id",g);$||Cr()}},gi=async g=>{if(g.preventDefault(),ea!=null&&ea.id){const{error:$}=await ue.from("ui_footer_config").update(gn).eq("id",ea.id);$||Cr()}else{const{error:$}=await ue.from("ui_footer_config").insert([gn]);$||Cr()}},ca=async g=>{if(g.preventDefault(),!(!Vn.label||!Vn.href))if(Co){const{error:$}=await ue.from("ui_footer_links").update(Vn).eq("id",Co.id);$||(Sa(null),ta({label:"",href:"",icon_url:"",style_class:""}),Cr())}else{const{error:$}=await ue.from("ui_footer_links").insert([{...Vn,order_index:Xa.length+1}]);$||(ta({label:"",href:"",icon_url:"",style_class:""}),Cr())}},wn=async g=>{if(window.confirm("Eliminar este link?")){const{error:$}=await ue.from("ui_footer_links").delete().eq("id",g);$||Cr()}},cs=async()=>{if(!ji)return;Bi(!0);const g=ji.name.split(".").pop(),$=`hero-${Date.now()}.${g}`,{error:je}=await ue.storage.from("ui_media").upload($,ji,{upsert:!0});if(je){alert("Error subiendo imagen: "+je.message),Bi(!1);return}const{data:{publicUrl:Te}}=ue.storage.from("ui_media").getPublicUrl($);Za({...ci,image_url:Te}),Zs(null),Bi(!1)},Wl=async g=>{if(g.preventDefault(),!!ci.image_url)if(Ao){const{error:$}=await ue.from("hero_slides").update({image_url:ci.image_url}).eq("id",Ao.id);$||(Eo(null),Za({image_url:"",is_locked:!1}),Cr())}else{const{error:$}=await ue.from("hero_slides").insert([{image_url:ci.image_url,is_locked:ci.is_locked,order_index:Xs.length+1}]);$||(Za({image_url:"",is_locked:!1}),Cr())}},Is=async g=>{if(g.is_locked){alert("Este slide est bloqueado.");return}if(window.confirm("Eliminar esta imagen?")){const{error:$}=await ue.from("hero_slides").delete().eq("id",g.id);$||Cr()}},bl=async()=>{if(!In)return;w(!0);const g=In.name.split(".").pop(),$=`option-${Date.now()}.${g}`,{error:je}=await ue.storage.from("ui_media").upload($,In,{upsert:!0});if(je){alert("Error subiendo imagen: "+je.message),w(!1);return}const{data:{publicUrl:Te}}=ue.storage.from("ui_media").getPublicUrl($);Si({...Wr,image_url:Te}),ra(null),w(!1)},Jc=async g=>{if(g.preventDefault(),!(!Wr.title||!Wr.path||!Wr.image_url))if($i){const{error:$}=await ue.from("home_options").update({title:Wr.title,description:Wr.description,path:Wr.path,image_url:Wr.image_url}).eq("id",$i.id);$||(Da(null),Si({image_url:"",title:"",description:"",path:"",is_locked:!1}),Cr())}else{const{error:$}=await ue.from("home_options").insert([{...Wr,order_index:Qa.length+1}]);$||(Si({image_url:"",title:"",description:"",path:"",is_locked:!1}),Cr())}},on=async g=>{if(g.is_locked){alert("Esta opcin est bloqueada.");return}if(window.confirm("Eliminar esta opcin?")){const{error:$}=await ue.from("home_options").delete().eq("id",g.id);$||Cr()}},za=async()=>{const{data:g}=await ue.from("credits_config").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:$}=await ue.from("credits_authors").select("*").order("order_index",{ascending:!0});tn(g||null),xn($||[]),g&&Nr({title:g.title||"",subtitle:g.subtitle||"",license_title:g.license_title||"",license_text:g.license_text||""})},us=async g=>{if(g.preventDefault(),or!=null&&or.id){const{error:$}=await ue.from("credits_config").update(Ar).eq("id",or.id);$||za()}else{const{error:$}=await ue.from("credits_config").insert([Ar]);$||za()}},Yc=async()=>{if(!ts)return;js(!0);const g=ts.name.split(".").pop(),$=`credits-${Date.now()}.${g}`,{error:je}=await ue.storage.from("credits_media").upload($,ts,{upsert:!0});if(je){alert("Error subiendo imagen: "+je.message),js(!1);return}const{data:{publicUrl:Te}}=ue.storage.from("credits_media").getPublicUrl($);ui({...wr,photo_url:Te}),Po(null),js(!1)},bc=async g=>{if(g.preventDefault(),!(!wr.full_name||!wr.career))if(na){const{error:$}=await ue.from("credits_authors").update(wr).eq("id",na.id);$||(es(null),ui({full_name:"",career:"",description:"",photo_url:""}),za())}else{const{error:$}=await ue.from("credits_authors").insert([{...wr,order_index:Nn.length+1}]);$||(ui({full_name:"",career:"",description:"",photo_url:""}),za())}},Xc=async g=>{if(window.confirm("Eliminar este autor?")){const{error:$}=await ue.from("credits_authors").delete().eq("id",g);$||za()}},ds=async()=>{const{data:g,error:$}=await ue.from("chatbot_config").select("*").order("updated_at",{ascending:!1}).limit(1).maybeSingle();$||(to(g||null),g&&di({provider:g.provider||"groq",base_url:g.base_url||"",api_key:g.api_key||"",groq_api_key:g.groq_api_key||"",gemini_api_key:g.gemini_api_key||"",model:g.model||"",system_prompt:g.system_prompt||"",enable_db_context:g.enable_db_context??!0,enabled:g.enabled??!0,fallback_enabled:g.fallback_enabled??!1,primary_provider:g.primary_provider||g.provider||"groq"}))},$r=async()=>{const{data:g,error:$}=await ue.from("ai_models").select("*").order("order_index",{ascending:!0});$||ki(g||[])},Ln=async g=>{if(g.preventDefault(),!qn.name.trim())return;const{error:$}=await ue.from("ai_models").insert([{provider:qn.provider,name:qn.name.trim(),order_index:ol.length+1,is_active:!0}]);$||(Na({provider:qn.provider,name:""}),$r())},_n=async()=>{Fa(!0);const{data:g,error:$}=await ue.from("chatbot_questions").select("*").order("created_at",{ascending:!1}).limit(200);$||io(g||[]),Fa(!1)},Ho=async g=>{const{error:$}=await ue.from("chatbot_questions").delete().eq("id",g);$||_n()},Wo=async()=>{if(!window.confirm("Eliminar todas las preguntas?"))return;const{error:g}=await ue.from("chatbot_questions").delete().neq("id",0);g||_n()},Os=async()=>{Ca(!0);const{data:g,error:$}=await ue.rpc("refresh_storage_usage");if(!$&&g)ao(g);else{const{data:je,error:Te}=await ue.rpc("get_storage_usage_overview");Te||ao(je||null)}Ca(!1)},Lu=g=>{sa($=>{const Te=$.grados.includes(g)?$.grados.filter(Ke=>Ke!==g):[...$.grados,g];return{...$,grados:Te}})},bi=g=>{sa($=>{const Te=$.grupos.includes(g)?$.grupos.filter(Ke=>Ke!==g):[...$.grupos,g];return{...$,grupos:Te}})},xl=g=>{const je=new TextEncoder().encode(g);let Te="";return je.forEach(Ke=>{Te+=String.fromCharCode(Ke)}),btoa(Te).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")},xc=(g="")=>{if(!g)return"";try{const je=new TextEncoder().encode(g);let Te="";return je.forEach(Ke=>{Te+=String.fromCharCode(Ke)}),`=?UTF-8?B?${btoa(Te)}?=`}catch{return g}},Vl=({from:g,recipients:$,subject:je,html:Te,text:Ke})=>{const Lt=Te?'text/html; charset="UTF-8"':'text/plain; charset="UTF-8"',Ot=Te||Ke||"",Xt=g?`"CBTa 134" <${g}>`:"me",Dr=$&&$.length>0?$[0]:"",ei=$&&$.length>1?$.slice(1):[],po=[`From: ${Xt}`,`To: ${Dr}`,ei.length>0?`Bcc: ${ei.join(", ")}`:null,`Subject: ${xc(je||"")}`,"MIME-Version: 1.0",`Content-Type: ${Lt}`].filter(Boolean).join(`\r
`)+`\r
\r
`+Ot;return xl(po)},Qn=(g,$)=>{let je=o;if(!Rr.sendToAll&&(Rr.grados.length&&(je=je.filter(Xt=>Rr.grados.includes(Number(Xt.grado)))),Rr.grupos.length)){const Xt=Rr.grupos.map(Dr=>String(Dr).toUpperCase());je=je.filter(Dr=>Xt.includes(String(Dr.grupo||"").toUpperCase()))}g&&(je=je.filter(Xt=>Xt.id!==g));const Te=je.map(Xt=>Xt.email||Xt.correo||Xt.email_address).map(Xt=>Xt?String(Xt).trim():"").filter(Xt=>!!Xt),Ke=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;let Lt=Te.filter(Xt=>Ke.test(Xt));if($){const Xt=$.toLowerCase();Lt=Lt.filter(Dr=>Dr.toLowerCase()!==Xt)}const Ot=Te.length-Lt.length;return{emails:[...new Set(Lt)],filteredCount:je.length,missingEmailsCount:je.length-Te.length,invalidEmailsCount:Ot}},ua=(g,$)=>{const je=[];for(let Te=0;Te<g.length;Te+=$)je.push(g.slice(Te,Te+$));return je},vl=async()=>{var g,$,je;if(Gn(null),!rn){Gn({type:"error",message:"Gmail no est conectado. Cierra sesin e inicia sesin nuevamente con Google para autorizar Gmail."});return}if(!Rr.subject||!Rr.messageHtml&&!Rr.messageText){Gn({type:"error",message:"Escribe un asunto y contenido."});return}Io(!0);try{const{data:{session:Te}}=await ue.auth.getSession(),Ke=(xr||((g=Te==null?void 0:Te.user)==null?void 0:g.email)||(e==null?void 0:e.email)||localStorage.getItem("gmail_user_email")||"").trim(),{emails:Lt,filteredCount:Ot,missingEmailsCount:Xt,invalidEmailsCount:Dr}=Qn((($=Te==null?void 0:Te.user)==null?void 0:$.id)||(e==null?void 0:e.id),Ke),ei=Lt;if(!ei.length){const po=Ot?`Se encontraron ${Ot} alumnos, ${Xt} sin correo y ${Dr} con correo invlido.`:"No hay alumnos que coincidan con el filtro seleccionado.",wl=Ke?" El correo del maestro fue excluido.":"";throw new Error(`No hay correos disponibles. ${po}${wl}`)}const da=ua(ei,40);for(const po of da){const wl=Vl({from:Ke||void 0,subject:Rr.subject,html:Rr.messageHtml||void 0,text:Rr.messageText||void 0,recipients:po}),Ko=await fetch("https://gmail.googleapis.com/gmail/v1/users/me/messages/send",{method:"POST",headers:{Authorization:`Bearer ${rn}`,"Content-Type":"application/json"},body:JSON.stringify({raw:wl})});if(!Ko.ok){const _l=await Ko.text().catch(()=>"");if(console.error("Gmail API error:",Ko.status,_l),Ko.status===401||Ko.status===403)throw hi(!1),nn(null),localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),new Error("El token de Gmail no es vlido o no tiene permisos. Cierra sesin e inicia sesin nuevamente con Google.");let wc="Error al enviar correos.";try{const jl=JSON.parse(_l||"{}");wc=((je=jl==null?void 0:jl.error)==null?void 0:je.message)||wc}catch{_l&&(wc=_l)}throw new Error(wc)}}Gn({type:"success",message:` Enviados ${ei.length} correos en ${da.length} lote(s).`}),sa({...Rr,subject:"",messageHtml:"",messageText:""})}catch(Te){Gn({type:"error",message:Te.message||"Error al enviar correos."})}finally{Io(!1)}},yl=(g=0)=>{if(!g)return"0 B";const $=["B","KB","MB","GB","TB"],je=Math.floor(Math.log(g)/Math.log(1024));return`${(g/Math.pow(1024,je)).toFixed(2)} ${$[je]}`},vc=(g,$)=>$?$.replace(/\/$/,""):g==="gemini"?"https://generativelanguage.googleapis.com/v1beta":"https://api.groq.com/openai/v1",Vo=async g=>{if(g.preventDefault(),!!To.trim()){rs(!0),no("");try{const $=(ft.provider||"groq").toLowerCase(),je=(ft.primary_provider||$).toLowerCase(),Te=ft.fallback_enabled===!0,Ke=je==="groq"?"gemini":"groq",Lt=Dr=>Dr==="groq"?ft.groq_api_key||ft.api_key||"":Dr==="gemini"?ft.gemini_api_key||ft.api_key||"":ft.api_key||"",Ot=async Dr=>{var ph,vd,yd,wd,Qc,mh,gh,bh;const ei=Lt(Dr);if(!ei)throw new Error(`Falta configurar la API key para ${Dr}.`);const da=vc(Dr,ft.base_url||""),po=ft.model||(Dr==="gemini"?"gemini-3.0-flash":"llama-3.1-8b-instant");let wl="";if(ft.enable_db_context){const{data:ha,error:Gl}=await ue.rpc("get_chatbot_context");Gl||(wl=JSON.stringify(ha||{},null,2))}const Ko=(ft.system_prompt||im).trim(),_l=wl?`${Ko}

Contexto de la base de datos (JSON):
${wl}`:Ko;if(Dr==="gemini"){const ha=`${da}/models/${po}:generateContent?key=${ei}`,Gl=await fetch(ha,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`${_l}

Usuario: ${To}`}]}]})});if(!Gl.ok){const xh=await Gl.text();throw new Error(xh)}return((Qc=(wd=(yd=(vd=(ph=(await Gl.json()).candidates)==null?void 0:ph[0])==null?void 0:vd.content)==null?void 0:yd.parts)==null?void 0:wd[0])==null?void 0:Qc.text)||"Sin respuesta."}const wc=`${da}/chat/completions`,jl=await fetch(wc,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ei}`},body:JSON.stringify({model:po,messages:[{role:"system",content:_l},{role:"user",content:To}],temperature:.3})});if(!jl.ok){const ha=await jl.text();throw new Error(ha)}return((bh=(gh=(mh=(await jl.json()).choices)==null?void 0:mh[0])==null?void 0:gh.message)==null?void 0:bh.content)||"Sin respuesta."};let Xt="";try{Xt=await Ot(Te?je:$)}catch(Dr){if(Te)Xt=await Ot(Ke);else throw Dr}no(Xt)}catch($){no(`Error: ${$.message}`)}rs(!1)}},Pu=async g=>{g.preventDefault(),sl(!0);const $={provider:ft.provider,base_url:ft.base_url||null,api_key:ft.api_key,groq_api_key:ft.groq_api_key,gemini_api_key:ft.gemini_api_key,model:ft.model,system_prompt:ft.system_prompt,enable_db_context:ft.enable_db_context,enabled:ft.enabled,fallback_enabled:ft.fallback_enabled,primary_provider:ft.primary_provider,updated_at:new Date().toISOString(),created_by:(Ni==null?void 0:Ni.created_by)||(e==null?void 0:e.id)||null};if(Ni!=null&&Ni.id){const{error:je}=await ue.from("chatbot_config").update($).eq("id",Ni.id);je||await ds()}else{const{error:je}=await ue.from("chatbot_config").insert([$]);je||await ds()}sl(!1)},Zc=()=>{j(!m)},Tu=async()=>{localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),await ue.auth.signOut(),t("/maestros")},yc=async()=>{var g;oo(!0);try{let $=localStorage.getItem("gmail_provider_token"),je=localStorage.getItem("gmail_user_email");if(!$){const{data:{session:Ke}}=await ue.auth.getSession();Ke!=null&&Ke.provider_token&&($=Ke.provider_token,je=((g=Ke.user)==null?void 0:g.email)||"",localStorage.setItem("gmail_provider_token",$),localStorage.setItem("gmail_user_email",je))}if(!$){hi(!1),nn(null),ur(null),Gn({type:"error",message:"No hay acceso a Gmail. Cierra sesin e inicia sesin nuevamente con Google para autorizar Gmail."});return}const Te=await fetch(`https://www.googleapis.com/oauth2/v3/tokeninfo?access_token=${encodeURIComponent($)}`);if(Te.ok){const Ke=await Te.json();if(!((Ke==null?void 0:Ke.scope)||"").includes("https://www.googleapis.com/auth/gmail.send")){localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),hi(!1),nn(null),ur(null),Gn({type:"error",message:"Tu sesin de Google no tiene permisos de Gmail. Cierra sesin y vuelve a iniciar con Google para autorizar Gmail."});return}const Xt=(Ke==null?void 0:Ke.email)||je;hi(!0),nn($),ur(Xt),Gn({type:"success",message:`Gmail conectado como ${Xt||"tu cuenta"}`})}else{const Ke="invalid_token";localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),hi(!1),nn(null),ur(null),Gn({type:"error",message:"El token de Gmail ha expirado. Cierra sesin e inicia sesin nuevamente."})}}catch($){hi(!1),nn(null),Gn({type:"error",message:"Error al verificar Gmail: "+($.message||"desconocido")})}finally{oo(!1)}},Ru=async()=>{window.confirm("Para conectar/reconectar Gmail, necesitas cerrar sesin e iniciar sesin nuevamente con Google. Deseas continuar?")&&(localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),nn(null),ur(null),hi(!1),await ue.auth.signOut(),kr())};return u?s.jsx("div",{className:`min-h-screen flex items-center justify-center ${m?"bg-slate-900":"bg-slate-100"}`,children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})}):e?e&&Bo?s.jsx("div",{className:`min-h-screen flex items-center justify-center ${m?"bg-slate-900":"bg-slate-100"}`,children:s.jsxs("div",{className:`p-8 rounded-3xl shadow-xl max-w-md w-full mx-4 ${m?"bg-slate-800":"bg-white"}`,children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"bg-red-500 p-3 rounded-2xl inline-block mb-4",children:s.jsx("span",{className:"material-symbols-outlined text-white text-3xl",children:"block"})}),s.jsx("h2",{className:`text-2xl font-bold ${m?"text-white":"text-slate-900"}`,children:"Acceso Denegado"}),s.jsx("p",{className:`mt-2 ${m?"text-slate-400":"text-slate-500"}`,children:"Tu cuenta no tiene permiso para acceder al EduPanel."}),s.jsx("div",{className:`mt-4 p-3 rounded-xl ${m?"bg-slate-700":"bg-slate-100"}`,children:s.jsxs("p",{className:`text-sm ${m?"text-slate-300":"text-slate-600"}`,children:["Cuenta: ",s.jsx("strong",{children:e.email})]})}),s.jsx("p",{className:`mt-4 text-sm ${m?"text-slate-500":"text-slate-400"}`,children:"Contacta al administrador para solicitar acceso."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:async()=>{await ue.auth.signOut(),$o(!1)},className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-medium hover:bg-red-600 transition-colors",children:"Cerrar Sesin"}),s.jsx("button",{onClick:()=>t("/maestros"),className:"flex-1 py-3 text-slate-500 hover:text-slate-700 transition-colors font-medium border rounded-xl",children:" Regresar"})]})]})}):e&&!un?s.jsxs("div",{className:`min-h-screen flex items-center justify-center p-4 transition-colors duration-500 ${m?"bg-slate-950":"bg-slate-50"}`,children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:`absolute -top-[10%] -left-[10%] w-[40%] h-[40%] rounded-full blur-[120px] opacity-20 ${m?"bg-blue-900":"bg-blue-200"}`}),s.jsx("div",{className:`absolute -bottom-[10%] -right-[10%] w-[40%] h-[40%] rounded-full blur-[120px] opacity-20 ${m?"bg-indigo-900":"bg-indigo-200"}`})]}),s.jsxs("div",{className:`relative p-10 rounded-[2.5rem] shadow-2xl max-w-md w-full border backdrop-blur-sm transition-all duration-300 ${m?"bg-slate-900/80 border-slate-800 shadow-black":"bg-white/80 border-white shadow-slate-200"}`,children:[s.jsxs("div",{className:"text-center mb-10",children:[s.jsx("div",{className:"bg-gradient-to-br from-orange-400 to-orange-600 p-4 rounded-3xl inline-block mb-6 shadow-lg shadow-orange-500/20",children:s.jsx("span",{className:"material-symbols-outlined text-white text-4xl",children:"lock_open"})}),s.jsx("h2",{className:`text-3xl font-black tracking-tight ${m?"text-white":"text-slate-900"}`,children:"Seguridad"}),s.jsx("p",{className:`mt-3 text-lg font-medium ${m?"text-slate-400":"text-slate-500"}`,children:"Confirma tu acceso docente"}),s.jsxs("div",{className:`mt-4 inline-flex items-center gap-2 px-4 py-2 rounded-full text-xs font-bold ${m?"bg-slate-800 text-slate-400":"bg-slate-100 text-slate-500"}`,children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.email]})]}),s.jsxs("form",{onSubmit:os,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:`block text-xs font-black uppercase tracking-widest px-1 ${m?"text-slate-500":"text-slate-400"}`,children:"Usuario"}),s.jsx("input",{type:"text",value:kn.user,onChange:g=>ll({...kn,user:g.target.value}),className:`w-full px-5 py-4 rounded-2xl border-none ring-1 transition-all duration-300 ${m?"bg-slate-800/50 ring-slate-700 text-white focus:ring-2 focus:ring-blue-500":"bg-slate-50 ring-slate-200 text-slate-900 focus:ring-2 focus:ring-blue-800"}`,placeholder:"Nombre de usuario",required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:`block text-xs font-black uppercase tracking-widest px-1 ${m?"text-slate-500":"text-slate-400"}`,children:"Contrasea"}),s.jsx("input",{type:"password",value:kn.password,onChange:g=>ll({...kn,password:g.target.value}),className:`w-full px-5 py-4 rounded-2xl border-none ring-1 transition-all duration-300 ${m?"bg-slate-800/50 ring-slate-700 text-white focus:ring-2 focus:ring-blue-500":"bg-slate-50 ring-slate-200 text-slate-900 focus:ring-2 focus:ring-blue-800"}`,placeholder:"",required:!0})]}),Oo&&s.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-500 px-5 py-4 rounded-2xl text-sm font-bold animate-shake",children:[" ",Oo]}),s.jsx("button",{type:"submit",disabled:Bl,className:`w-full py-4 rounded-2xl font-black text-white shadow-xl transition-all duration-300 transform active:scale-95 disabled:opacity-50 ${m?"bg-blue-600 shadow-blue-900/20 hover:bg-blue-500":"bg-blue-800 shadow-blue-200 hover:bg-blue-900"}`,children:Bl?"VERIFICANDO...":"VERIFICAR ACCESO"})]}),s.jsxs("div",{className:"mt-8 flex gap-4 pt-6 border-t border-slate-100 dark:border-slate-800",children:[s.jsx("button",{onClick:async()=>{sessionStorage.removeItem("maestro_security_verified"),await ue.auth.signOut()},className:`flex-1 py-3 transition-all duration-300 font-bold text-sm rounded-xl ${m?"text-slate-500 hover:text-white hover:bg-slate-800":"text-slate-400 hover:text-red-600 hover:bg-red-50"}`,children:"Cerrar Sesin"}),s.jsx("button",{onClick:()=>t("/maestros"),className:`flex-1 py-3 transition-all duration-300 font-bold text-sm rounded-xl ${m?"text-slate-500 hover:text-white hover:bg-slate-800":"text-slate-400 hover:text-blue-900 hover:bg-blue-50"}`,children:"Regresar"})]})]})]}):s.jsxs("div",{className:`min-h-screen transition-colors duration-200 ${m?"bg-slate-900 text-slate-100":"bg-slate-100 text-slate-900"}`,children:[s.jsxs("header",{className:`lg:hidden sticky top-0 z-30 flex items-center justify-between px-4 py-3 ${m?"bg-slate-900/80 backdrop-blur-md border-slate-800":"bg-white/80 backdrop-blur-md border-slate-200"} border-b`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-700 to-blue-900 p-2 rounded-xl shadow-lg shadow-blue-900/20",children:s.jsx("span",{className:"material-symbols-outlined text-white text-xl",children:"school"})}),s.jsx("h1",{className:`text-xl font-black tracking-tight ${m?"text-white":"text-blue-900"}`,children:"EduPanel"})]}),s.jsx("button",{className:`p-2 rounded-xl ${m?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-100"}`,onClick:()=>C(!y),children:s.jsx("span",{className:"material-symbols-outlined",children:"menu"})})]}),y&&s.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-30",onClick:()=>C(!1)}),s.jsxs("aside",{className:`fixed inset-y-0 left-0 w-72 ${m?"bg-slate-900/95 border-slate-800":"bg-white/95 border-slate-200"} border-r backdrop-blur-xl transform ${y?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-500 cubic-bezier(0.4, 0, 0.2, 1) z-40 flex flex-col overflow-hidden shadow-2xl lg:shadow-none`,children:[s.jsx("div",{className:"p-8 hidden lg:block flex-shrink-0",children:s.jsxs("div",{className:"flex items-center gap-3 mb-10",children:[s.jsx("div",{className:"bg-gradient-to-br from-blue-700 to-blue-900 p-2.5 rounded-2xl shadow-xl shadow-blue-900/20",children:s.jsx("span",{className:"material-symbols-outlined text-white text-2xl",children:"school"})}),s.jsx("h1",{className:`text-2xl font-black tracking-tighter ${m?"text-white":"text-blue-900"}`,children:"EduPanel"})]})}),s.jsxs("nav",{className:"flex-1 px-4 space-y-2 mt-4 lg:mt-0 overflow-y-auto overscroll-contain pb-8",style:{WebkitOverflowScrolling:"touch"},children:[s.jsxs("button",{onClick:()=>{L("dashboard"),C(!1)},className:`w-full flex items-center gap-4 px-5 py-3.5 rounded-2xl font-bold transition-all duration-300 ${k==="dashboard"?m?"bg-blue-600 text-white shadow-lg shadow-blue-900/40":"bg-blue-800 text-white shadow-lg shadow-blue-200":m?"text-slate-400 hover:bg-slate-800/50 hover:text-slate-200":"text-slate-600 hover:bg-slate-100/80 hover:text-blue-900"}`,children:[s.jsx("span",{className:"material-symbols-outlined text-xl",children:"dashboard"}),s.jsx("span",{className:"tracking-tight",children:"Panel Principal"})]}),s.jsxs("button",{onClick:()=>{L("alumnos"),C(!1)},className:`w-full flex items-center gap-4 px-5 py-3.5 rounded-2xl font-bold transition-all duration-300 ${k==="alumnos"?m?"bg-blue-600 text-white shadow-lg shadow-blue-900/40":"bg-blue-800 text-white shadow-lg shadow-blue-200":m?"text-slate-400 hover:bg-slate-800/50 hover:text-slate-200":"text-slate-600 hover:bg-slate-100/80 hover:text-blue-900"}`,children:[s.jsx("span",{className:"material-symbols-outlined text-xl",children:"group"}),s.jsx("span",{className:"tracking-tight",children:"Alumnos"})]}),s.jsxs("button",{onClick:()=>{L("avisos"),C(!1)},className:`w-full flex items-center gap-4 px-5 py-3.5 rounded-2xl font-bold transition-all duration-300 ${k==="avisos"?m?"bg-blue-600 text-white shadow-lg shadow-blue-900/40":"bg-blue-800 text-white shadow-lg shadow-blue-200":m?"text-slate-400 hover:bg-slate-800/50 hover:text-slate-200":"text-slate-600 hover:bg-slate-100/80 hover:text-blue-900"}`,children:[s.jsx("span",{className:"material-symbols-outlined text-xl",children:"campaign"}),s.jsx("span",{className:"tracking-tight",children:"Avisos"})]}),s.jsxs("button",{onClick:()=>{L("clubes"),C(!1)},className:`w-full flex items-center gap-4 px-5 py-3.5 rounded-2xl font-bold transition-all duration-300 ${k==="clubes"?m?"bg-blue-600 text-white shadow-lg shadow-blue-900/40":"bg-blue-800 text-white shadow-lg shadow-blue-200":m?"text-slate-400 hover:bg-slate-800/50 hover:text-slate-200":"text-slate-600 hover:bg-slate-100/80 hover:text-blue-900"}`,children:[s.jsx("span",{className:"material-symbols-outlined text-xl",children:"sports_esports"}),s.jsx("span",{className:"tracking-tight",children:"Clubes"})]}),s.jsxs("button",{onClick:()=>{L("carreras"),C(!1)},className:`w-full flex items-center gap-4 px-5 py-3.5 rounded-2xl font-bold transition-all duration-300 ${k==="carreras"?m?"bg-blue-600 text-white shadow-lg shadow-blue-900/40":"bg-blue-800 text-white shadow-lg shadow-blue-200":m?"text-slate-400 hover:bg-slate-800/50 hover:text-slate-200":"text-slate-600 hover:bg-slate-100/80 hover:text-blue-900"}`,children:[s.jsx("span",{className:"material-symbols-outlined text-xl",children:"engineering"}),s.jsx("span",{className:"tracking-tight",children:"Carreras"})]}),s.jsxs("button",{onClick:()=>{L("maestros"),C(!1)},className:`w-full flex items-center gap-4 px-5 py-3.5 rounded-2xl font-bold transition-all duration-300 ${k==="maestros"?m?"bg-blue-600 text-white shadow-lg shadow-blue-900/40":"bg-blue-800 text-white shadow-lg shadow-blue-200":m?"text-slate-400 hover:bg-slate-800/50 hover:text-slate-200":"text-slate-600 hover:bg-slate-100/80 hover:text-blue-900"}`,children:[s.jsx("span",{className:"material-symbols-outlined text-xl",children:"co_present"}),s.jsx("span",{className:"tracking-tight",children:"Maestros"})]}),s.jsxs("button",{onClick:()=>{L("admission"),C(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="admission"?m?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":m?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"assignment"})," Admisin"]}),s.jsxs("button",{onClick:()=>{L("baetam"),C(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="baetam"?m?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":m?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"school"})," BAETAM"]}),s.jsxs("button",{onClick:()=>{L("contacto"),C(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="contacto"?m?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":m?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"contact_mail"})," Contacto"]}),s.jsxs("button",{onClick:()=>{L("about"),C(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="about"?m?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":m?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"info"})," Acerca"]}),s.jsxs("button",{onClick:()=>{L("gallery"),C(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="gallery"?m?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":m?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"photo_library"})," Galera"]}),s.jsxs("button",{onClick:()=>{L("ui"),C(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="ui"?m?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":m?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"dashboard_customize"})," Interfaz"]}),s.jsxs("button",{onClick:()=>{L("creditos"),C(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="creditos"?m?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":m?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"badge"})," Crditos"]}),s.jsxs("button",{onClick:()=>{L("preregistros"),C(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-2xl transition-all ${k==="preregistros"?"bg-blue-800 text-white shadow-lg shadow-blue-900/20":"text-slate-400 hover:bg-slate-800"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"assignment_ind"}),s.jsx("span",{className:"font-semibold",children:"Pre-Registros"})]}),s.jsxs("button",{onClick:()=>{L("chatbot"),C(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="chatbot"?m?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":m?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"smart_toy"})," IA Chatbot"]}),s.jsxs("button",{onClick:()=>{L("gmail"),C(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="gmail"?m?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":m?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"mail"})," Notificaciones Gmail"]}),s.jsxs("button",{onClick:()=>{L("storage"),C(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="storage"?m?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":m?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"storage"})," Almacenamiento"]}),s.jsxs("button",{onClick:()=>{L("access"),C(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${k==="access"?m?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":m?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"security"})," Acceso a la Pgina"]})]}),s.jsxs("div",{className:`p-4 border-t flex-shrink-0 ${m?"border-slate-800":"border-slate-100"}`,children:[s.jsxs("button",{onClick:Zc,className:`w-full flex items-center justify-between p-3 rounded-xl ${m?"bg-slate-800 text-slate-300":"bg-slate-100 text-slate-600"}`,children:[s.jsx("span",{className:"text-sm font-medium",children:"Modo Oscuro"}),s.jsx("span",{className:"material-symbols-outlined",children:"dark_mode"})]}),s.jsxs("button",{onClick:Tu,className:`w-full mt-2 flex items-center justify-center gap-2 p-3 rounded-xl ${m?"bg-red-900/30 text-red-300 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"logout"}),s.jsx("span",{className:"text-sm font-medium",children:"Cerrar sesin"})]}),s.jsxs("button",{onClick:()=>t("/maestros"),className:`w-full mt-2 flex items-center justify-center gap-2 p-3 rounded-xl ${m?"bg-slate-800 text-slate-300 hover:bg-slate-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"} transition-colors`,children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_back"}),s.jsx("span",{className:"text-sm font-medium",children:"Regresar"})]})]})]}),y&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-30 lg:hidden",onClick:()=>C(!1)}),s.jsxs("main",{className:"lg:ml-72 p-6 md:p-10 lg:p-12 min-h-screen transition-all duration-300",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-12",children:[s.jsxs("div",{children:[s.jsx("h2",{className:`text-3xl md:text-4xl font-black tracking-tighter ${m?"text-white":"text-blue-900"}`,children:"Panel Docente"}),s.jsxs("p",{className:`mt-1 text-lg ${m?"text-slate-400":"text-slate-500"}`,children:["Bienvenido de nuevo, ",s.jsx("span",{className:`font-black ${m?"text-blue-400":"text-blue-700"}`,children:(n==null?void 0:n.nombre)||"Maestro"})]})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative flex-1 md:flex-none",children:[s.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",children:"search"}),s.jsx("input",{type:"text",placeholder:"Buscar en el panel...",className:`w-full md:w-80 pl-12 pr-6 py-3.5 border-none rounded-3xl shadow-xl transition-all duration-300 ${m?"bg-slate-800/50 text-white ring-1 ring-slate-700 focus:ring-2 focus:ring-blue-500":"bg-white text-slate-900 ring-1 ring-slate-100 focus:ring-2 focus:ring-blue-800 shadow-slate-200/50"}`})]}),s.jsxs("button",{className:`p-3.5 rounded-2xl shadow-xl transition-all duration-300 relative group ${m?"bg-slate-800 text-slate-300 hover:bg-slate-700":"bg-white text-blue-900 hover:bg-blue-50 shadow-slate-200/50"}`,children:[s.jsx("span",{className:"material-symbols-outlined text-2xl group-hover:scale-110 transition-transform",children:"notifications"}),s.jsx("span",{className:"absolute top-2.5 right-2.5 w-2.5 h-2.5 bg-red-500 rounded-full border-2 border-white dark:border-slate-800"})]})]})]}),k==="admission"&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[s.jsx("section",{children:s.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"assignment"})," Configuracin de Admisin"]}),s.jsxs("form",{onSubmit:Ne,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"date",value:we.target_date,onChange:g=>Ae({...we,target_date:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Mensaje del contador",value:we.countdown_message,onChange:g=>Ae({...we,countdown_message:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ttulo de cabecera",value:we.header_title,onChange:g=>Ae({...we,header_title:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Subttulo de cabecera",value:we.header_subtitle,onChange:g=>Ae({...we,header_subtitle:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Configuracin"})})]})]})}),s.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:`rounded-[2rem] p-6 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Fechas Importantes"}),s.jsxs("form",{onSubmit:De,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Ttulo",value:he.title,onChange:g=>xe({...he,title:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Rango de fecha",value:he.date_range,onChange:g=>xe({...he,date_range:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Subttulo",value:he.subtitle,onChange:g=>xe({...he,subtitle:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:X?"Actualizar":"Agregar"})]}),s.jsx("div",{className:"mt-4 space-y-2",children:ve.map(g=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${m?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:g.title}),s.jsxs("div",{className:"text-xs text-slate-500",children:[g.date_range,"  ",g.subtitle]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{P(g),xe({title:g.title,date_range:g.date_range,subtitle:g.subtitle})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>ke(g.id),className:"text-red-500",children:"Eliminar"})]})]},g.id))})]}),s.jsxs("div",{className:`rounded-[2rem] p-6 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Requisitos"}),s.jsxs("form",{onSubmit:Oe,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Requisito",value:ne.requirement,onChange:g=>le({requirement:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:me?"Actualizar":"Agregar"})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Y.map(g=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${m?"bg-slate-900":"bg-slate-50"}`,children:[s.jsx("div",{className:"font-semibold",children:g.requirement}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{Se(g),le({requirement:g.requirement})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>Re(g.id),className:"text-red-500",children:"Eliminar"})]})]},g.id))})]})]}),s.jsxs("section",{className:`rounded-[2rem] p-6 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Especialidades"}),s.jsxs("form",{onSubmit:Ue,className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx("input",{type:"text",placeholder:"Emoji",value:We.emoji,onChange:g=>et({...We,emoji:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Nombre",value:We.name,onChange:g=>et({...We,name:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:We.description,onChange:g=>et({...We,description:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-3",children:s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:tt?"Actualizar":"Agregar"})})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Ee.map(g=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${m?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold",children:[g.emoji," ",g.name]}),s.jsx("div",{className:"text-xs text-slate-500",children:g.description})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{vt(g),et({emoji:g.emoji,name:g.name,description:g.description})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>ze(g.id),className:"text-red-500",children:"Eliminar"})]})]},g.id))})]}),s.jsxs("section",{className:`rounded-[2rem] p-6 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Contacto"}),s.jsxs("form",{onSubmit:xt,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Direccin",value:bt.address,onChange:g=>pt({...bt,address:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Etiqueta Telfono",value:bt.phone_label,onChange:g=>pt({...bt,phone_label:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Telfono",value:bt.phone_value,onChange:g=>pt({...bt,phone_value:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Etiqueta Correo",value:bt.email_label,onChange:g=>pt({...bt,email_label:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Correo",value:bt.email_value,onChange:g=>pt({...bt,email_value:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Etiqueta Sitio Web",value:bt.website_label,onChange:g=>pt({...bt,website_label:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Sitio Web",value:bt.website_value,onChange:g=>pt({...bt,website_value:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Horario",value:bt.schedule,onChange:g=>pt({...bt,schedule:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Contacto"})})]})]})]}),k==="baetam"&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[s.jsx("section",{children:s.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"school"})," Configuracin BAETAM"]}),s.jsxs("form",{onSubmit:Gt,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"URL imagen principal",value:Me.hero_image_url,onChange:g=>at({...Me,hero_image_url:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ttulo",value:Me.title,onChange:g=>at({...Me,title:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Subttulo",value:Me.subtitle,onChange:g=>at({...Me,subtitle:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"date",value:Me.target_date,onChange:g=>at({...Me,target_date:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Texto contador",value:Me.countdown_label,onChange:g=>at({...Me,countdown_label:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Texto fecha contador",value:Me.countdown_date_text,onChange:g=>at({...Me,countdown_date_text:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ttulo inscripciones",value:Me.inscriptions_title,onChange:g=>at({...Me,inscriptions_title:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ttulo periodo inscripciones",value:Me.inscriptions_period_title,onChange:g=>at({...Me,inscriptions_period_title:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin periodo inscripciones",value:Me.inscriptions_period_description,onChange:g=>at({...Me,inscriptions_period_description:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ttulo requisitos",value:Me.requirements_title,onChange:g=>at({...Me,requirements_title:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ttulo ventajas",value:Me.advantages_title,onChange:g=>at({...Me,advantages_title:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ttulo contacto",value:Me.contact_title,onChange:g=>at({...Me,contact_title:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin contacto",value:Me.contact_description,onChange:g=>at({...Me,contact_description:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar BAETAM"})})]})]})}),s.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:`rounded-[2rem] p-6 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Tarjetas Informativas"}),s.jsxs("form",{onSubmit:ut,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Ttulo",value:Ht.title,onChange:g=>Pt({...Ht,title:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:Ht.description,onChange:g=>Pt({...Ht,description:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:nr?"Actualizar":"Agregar"})]}),s.jsx("div",{className:"mt-4 space-y-2",children:wt.map(g=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${m?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:g.title}),s.jsx("div",{className:"text-xs text-slate-500",children:g.description})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{Zt(g),Pt({title:g.title,description:g.description})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>ir(g.id),className:"text-red-500",children:"Eliminar"})]})]},g.id))})]}),s.jsxs("div",{className:`rounded-[2rem] p-6 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Requisitos"}),s.jsxs("form",{onSubmit:Cn,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Icono (emoji)",value:st.icon,onChange:g=>Hr({...st,icon:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Texto",value:st.text,onChange:g=>Hr({...st,text:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:sr?"Actualizar":"Agregar"})]}),s.jsx("div",{className:"mt-4 space-y-2",children:ht.map(g=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${m?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{className:"font-semibold",children:[g.icon," ",g.text]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{Yt(g),Hr({icon:g.icon,text:g.text})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>$t(g.id),className:"text-red-500",children:"Eliminar"})]})]},g.id))})]})]}),s.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:`rounded-[2rem] p-6 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Ventajas"}),s.jsxs("form",{onSubmit:lt,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Ttulo",value:ct.title,onChange:g=>br({...ct,title:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:ct.description,onChange:g=>br({...ct,description:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:kt?"Actualizar":"Agregar"})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Qt.map(g=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${m?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:g.title}),s.jsx("div",{className:"text-xs text-slate-500",children:g.description})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{Bt(g),br({title:g.title,description:g.description})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>Qe(g.id),className:"text-red-500",children:"Eliminar"})]})]},g.id))})]}),s.jsxs("div",{className:`rounded-[2rem] p-6 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Contacto"}),s.jsxs("form",{onSubmit:Vr,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Lnea de contacto",value:St.line_text,onChange:g=>fr({line_text:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:Ga?"Actualizar":"Agregar"})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Sr.map(g=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${m?"bg-slate-900":"bg-slate-50"}`,children:[s.jsx("div",{className:"font-semibold",children:g.line_text}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{Mn(g),fr({line_text:g.line_text})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>Mt(g.id),className:"text-red-500",children:"Eliminar"})]})]},g.id))})]})]})]}),k==="contacto"&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[s.jsx("section",{children:s.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"contact_mail"})," Informacin Principal"]}),s.jsxs("form",{onSubmit:Dn,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Direccin lnea 1",value:nt.address_line1,onChange:g=>Yr({...nt,address_line1:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Direccin lnea 2",value:nt.address_line2,onChange:g=>Yr({...nt,address_line2:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Direccin lnea 3",value:nt.address_line3,onChange:g=>Yr({...nt,address_line3:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Telfono",value:nt.phone,onChange:g=>Yr({...nt,phone:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Correo",value:nt.email,onChange:g=>Yr({...nt,email:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Sitio web",value:nt.website,onChange:g=>Yr({...nt,website:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Texto calificacin",value:nt.rating_text,onChange:g=>Yr({...nt,rating_text:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Estado",value:nt.status_text,onChange:g=>Yr({...nt,status_text:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Horario lnea 1",value:nt.hours_line1,onChange:g=>Yr({...nt,hours_line1:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Horario lnea 2",value:nt.hours_line2,onChange:g=>Yr({...nt,hours_line2:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Informacin"})})]})]})}),s.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:`rounded-[2rem] p-6 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Directorio"}),s.jsxs("form",{onSubmit:An,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Icono",value:pn.icon,onChange:g=>yr({...pn,icon:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ttulo",value:pn.title,onChange:g=>yr({...pn,title:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Detalle",value:pn.detail,onChange:g=>yr({...pn,detail:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:Xr?"Actualizar":"Agregar"})]}),s.jsx("div",{className:"mt-4 space-y-2",children:ya.map(g=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${m?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold",children:[g.icon," ",g.title]}),s.jsx("div",{className:"text-xs text-slate-500",children:g.detail})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{mn(g),yr({icon:g.icon||"",title:g.title,detail:g.detail})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>vn(g.id),className:"text-red-500",children:"Eliminar"})]})]},g.id))})]}),s.jsxs("div",{className:`rounded-[2rem] p-6 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Redes Sociales"}),s.jsxs("form",{onSubmit:dr,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Icono",value:cn.icon,onChange:g=>si({...cn,icon:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Nombre",value:cn.name,onChange:g=>si({...cn,name:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"URL",value:cn.url,onChange:g=>si({...cn,url:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:cn.description,onChange:g=>si({...cn,description:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:Tn?"Actualizar":"Agregar"})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Ka.map(g=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${m?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold",children:[g.icon," ",g.name]}),s.jsx("div",{className:"text-xs text-slate-500",children:g.url})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{Yi(g),si({icon:g.icon||"",name:g.name,url:g.url,description:g.description})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>_r(g.id),className:"text-red-500",children:"Eliminar"})]})]},g.id))})]})]}),s.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:`rounded-[2rem] p-6 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Ubicacin"}),s.jsxs("form",{onSubmit:Jr,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Texto de direccin",value:li.address_text,onChange:g=>Ja({...li,address_text:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"URL iframe mapa",value:li.map_embed_url,onChange:g=>Ja({...li,map_embed_url:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:"Guardar Ubicacin"})]})]}),s.jsxs("div",{className:`rounded-[2rem] p-6 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"CTA Final"}),s.jsxs("form",{onSubmit:Xn,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Ttulo",value:yi.title,onChange:g=>_o({...yi,title:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:yi.description,onChange:g=>_o({...yi,description:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Texto destacado",value:yi.highlight_text,onChange:g=>_o({...yi,highlight_text:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:"Guardar CTA"})]})]})]}),s.jsxs("section",{className:`rounded-[2rem] p-6 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Preguntas Frecuentes"}),s.jsxs("form",{onSubmit:pr,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Pregunta",value:Xi.question,onChange:g=>wo({...Xi,question:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Respuesta",value:Xi.answer,onChange:g=>wo({...Xi,answer:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:Br?"Actualizar":"Agregar"})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Vs.map(g=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${m?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:g.question}),s.jsx("div",{className:"text-xs text-slate-500",children:g.answer})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{Dl(g),wo({question:g.question,answer:g.answer})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>Ir(g.id),className:"text-red-500",children:"Eliminar"})]})]},g.id))})]})]}),k==="about"&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[s.jsx("section",{children:s.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"info"})," Acerca de CBTa"]}),s.jsxs("form",{onSubmit:Ei,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Ttulo",value:lr.title,onChange:g=>Oi({...lr,title:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"URL Logo",value:lr.logo_url,onChange:g=>Oi({...lr,logo_url:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"URL Croquis",value:lr.croquis_image_url,onChange:g=>Oi({...lr,croquis_image_url:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-3 items-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:g=>{var $;return jo((($=g.target.files)==null?void 0:$[0])||null)},className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"button",onClick:hr,disabled:sc||!Zr,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:sc?"Subiendo...":"Subir croquis"}),lr.croquis_image_url&&s.jsx("a",{href:lr.croquis_image_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500",children:"Ver imagen"})]}),s.jsx("textarea",{placeholder:"Historia",value:lr.history_text,onChange:g=>Oi({...lr,history_text:g.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("textarea",{placeholder:"Misin",value:lr.mission_text,onChange:g=>Oi({...lr,mission_text:g.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("textarea",{placeholder:"Visin",value:lr.vision_text,onChange:g=>Oi({...lr,vision_text:g.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Lema",value:lr.lema_text,onChange:g=>Oi({...lr,lema_text:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("textarea",{placeholder:"Compromiso texto 1",value:lr.commitment_text_1,onChange:g=>Oi({...lr,commitment_text_1:g.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("textarea",{placeholder:"Compromiso texto 2",value:lr.commitment_text_2,onChange:g=>Oi({...lr,commitment_text_2:g.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Acerca"})})]})]})}),s.jsxs("section",{className:`rounded-[2rem] p-6 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Valores"}),s.jsxs("form",{onSubmit:zr,className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx("input",{type:"text",placeholder:"Icono",value:Rn.icon,onChange:g=>wa({...Rn,icon:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ttulo",value:Rn.title,onChange:g=>wa({...Rn,title:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:Rn.description,onChange:g=>wa({...Rn,description:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-3",children:s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:Di?"Actualizar":"Agregar"})})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Ks.map(g=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${m?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold",children:[g.icon," ",g.title]}),s.jsx("div",{className:"text-xs text-slate-500",children:g.description})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{Sn(g),wa({icon:g.icon||"",title:g.title,description:g.description})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>Li(g.id),className:"text-red-500",children:"Eliminar"})]})]},g.id))})]})]}),k==="gallery"&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[s.jsx("section",{children:s.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"photo_library"})," Galera"]}),s.jsxs("form",{onSubmit:En,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("select",{value:Tr.section,onChange:g=>wi({...Tr,section:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,children:[s.jsx("option",{value:"instalaciones",children:"Instalaciones"}),s.jsx("option",{value:"actividades",children:"Actividades"}),s.jsx("option",{value:"clubs",children:"Clubs"}),s.jsx("option",{value:"cbta",children:"CBTa 134"}),s.jsx("option",{value:"galeria",children:"Galera General"})]}),s.jsx("input",{type:"text",placeholder:"Ttulo",value:Tr.title,onChange:g=>wi({...Tr,title:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:Tr.description,onChange:g=>wi({...Tr,description:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"URL de imagen",value:Tr.image_url,onChange:g=>wi({...Tr,image_url:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-3 items-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:g=>{var $;return Js((($=g.target.files)==null?void 0:$[0])||null)},className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"button",onClick:yn,disabled:ys||!cr,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:ys?"Subiendo...":"Subir imagen"}),Tr.image_url&&s.jsx("a",{href:Tr.image_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500",children:"Ver imagen"})]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:Tr.is_locked,onChange:g=>wi({...Tr,is_locked:g.target.checked})}),"Bloquear (no se puede eliminar)"]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:ja?"Actualizar":"Agregar"})})]})]})}),s.jsxs("section",{className:`rounded-[2rem] p-6 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Imgenes"}),s.jsx("div",{className:"space-y-3",children:_a.map(g=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${m?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:g.image_url,alt:g.title,className:"w-14 h-14 rounded-lg object-cover"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:g.title}),s.jsxs("div",{className:"text-xs text-slate-500",children:[g.section,"  ",g.description]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{So(g),wi({section:g.section,title:g.title,description:g.description||"",image_url:g.image_url,is_locked:g.is_locked})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>Zn(g),className:`text-red-500 ${g.is_locked?"opacity-50 cursor-not-allowed":""}`,disabled:g.is_locked,children:"Eliminar"})]})]},g.id))})]})]}),k==="ui"&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-xl font-bold mb-6",children:"Header"}),s.jsxs("form",{onSubmit:Lr,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"URL Logo",value:Oa.logo_url,onChange:g=>Ys({...Oa,logo_url:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ttulo",value:Oa.title_text,onChange:g=>Ys({...Oa,title_text:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Header"})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"font-bold mb-3",children:"Links Header"}),s.jsxs("form",{onSubmit:Hi,className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx("input",{type:"text",placeholder:"Label",value:en.label,onChange:g=>Wn({...en,label:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Path (ej: noticias)",value:en.path,onChange:g=>Wn({...en,path:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Href (ej: /noticias)",value:en.href,onChange:g=>Wn({...en,href:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-3",children:s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:ws?"Actualizar":"Agregar"})})]}),s.jsx("div",{className:"mt-4 space-y-2",children:_i.map(g=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${m?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{className:"font-semibold",children:[g.label,"  ",g.path]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{Et(g),Wn({label:g.label,path:g.path,href:g.href||""})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>Pi(g.id),className:"text-red-500",children:"Eliminar"})]})]},g.id))})]})]}),s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-xl font-bold mb-6",children:"Carrusel (Hero)"}),s.jsxs("form",{onSubmit:Wl,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"URL de imagen",value:ci.image_url,onChange:g=>Za({...ci,image_url:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-center md:col-span-2",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:g=>{var $;return Zs((($=g.target.files)==null?void 0:$[0])||null)},className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"button",onClick:cs,disabled:Qs||!ji,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:Qs?"Subiendo...":"Subir imagen"}),ci.image_url&&s.jsx("a",{href:ci.image_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500",children:"Ver imagen"})]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:ci.is_locked,onChange:g=>Za({...ci,is_locked:g.target.checked})}),"Bloquear"]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:Ao?"Actualizar":"Agregar"})})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Xs.map(g=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${m?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:g.image_url,alt:"slide",className:"w-14 h-14 rounded-lg object-cover"}),s.jsx("span",{className:"text-xs",children:g.image_url})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{Eo(g),Za({image_url:g.image_url,is_locked:g.is_locked})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>Is(g),className:`text-red-500 ${g.is_locked?"opacity-50 cursor-not-allowed":""}`,disabled:g.is_locked,children:"Eliminar"})]})]},g.id))})]}),s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-xl font-bold mb-6",children:"Opciones de Inicio"}),s.jsxs("form",{onSubmit:Jc,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Ttulo",value:Wr.title,onChange:g=>Si({...Wr,title:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:Wr.description,onChange:g=>Si({...Wr,description:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Path (ej: noticias)",value:Wr.path,onChange:g=>Si({...Wr,path:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"URL de imagen",value:Wr.image_url,onChange:g=>Si({...Wr,image_url:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-3 items-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:g=>{var $;return ra((($=g.target.files)==null?void 0:$[0])||null)},className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"button",onClick:bl,disabled:Lo||!In,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:Lo?"Subiendo...":"Subir imagen"}),Wr.image_url&&s.jsx("a",{href:Wr.image_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500",children:"Ver imagen"})]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:Wr.is_locked,onChange:g=>Si({...Wr,is_locked:g.target.checked})}),"Bloquear"]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:$i?"Actualizar":"Agregar"})})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Qa.map(g=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${m?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:g.image_url,alt:g.title,className:"w-14 h-14 rounded-lg object-cover"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:g.title}),s.jsx("div",{className:"text-xs text-slate-500",children:g.path})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{Da(g),Si({image_url:g.image_url,title:g.title,description:g.description||"",path:g.path,is_locked:g.is_locked})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>on(g),className:`text-red-500 ${g.is_locked?"opacity-50 cursor-not-allowed":""}`,disabled:g.is_locked,children:"Eliminar"})]})]},g.id))})]}),s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-xl font-bold mb-6",children:"Footer"}),s.jsxs("form",{onSubmit:gi,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Nombre",value:gn.school_name,onChange:g=>bn({...gn,school_name:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ubicacin",value:gn.location_text,onChange:g=>bn({...gn,location_text:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Tagline",value:gn.tagline_text,onChange:g=>bn({...gn,tagline_text:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Copyright",value:gn.copyright_text,onChange:g=>bn({...gn,copyright_text:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Derechos",value:gn.rights_text,onChange:g=>bn({...gn,rights_text:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("textarea",{placeholder:"Legal 1",value:gn.legal_text_1,onChange:g=>bn({...gn,legal_text_1:g.target.value}),className:`p-3 rounded-xl border min-h-[100px] ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("textarea",{placeholder:"Legal 2",value:gn.legal_text_2,onChange:g=>bn({...gn,legal_text_2:g.target.value}),className:`p-3 rounded-xl border min-h-[100px] ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("textarea",{placeholder:"Legal 3",value:gn.legal_text_3,onChange:g=>bn({...gn,legal_text_3:g.target.value}),className:`p-3 rounded-xl border min-h-[100px] ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Footer"})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"font-bold mb-3",children:"Links Footer"}),s.jsxs("form",{onSubmit:ca,className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsx("input",{type:"text",placeholder:"Label",value:Vn.label,onChange:g=>ta({...Vn,label:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"URL",value:Vn.href,onChange:g=>ta({...Vn,href:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Icon URL",value:Vn.icon_url,onChange:g=>ta({...Vn,icon_url:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Clase (facebook/maps)",value:Vn.style_class,onChange:g=>ta({...Vn,style_class:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-4",children:s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:Co?"Actualizar":"Agregar"})})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Xa.map(g=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${m?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{className:"font-semibold",children:[g.label,"  ",g.href]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{Sa(g),ta({label:g.label,href:g.href,icon_url:g.icon_url||"",style_class:g.style_class||""})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>wn(g.id),className:"text-red-500",children:"Eliminar"})]})]},g.id))})]})]})]}),k==="creditos"&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-xl font-bold mb-6",children:"Configuracin Crditos"}),s.jsxs("form",{onSubmit:us,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Ttulo",value:Ar.title,onChange:g=>Nr({...Ar,title:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Subttulo",value:Ar.subtitle,onChange:g=>Nr({...Ar,subtitle:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ttulo licencia (opcional)",value:Ar.license_title,onChange:g=>Nr({...Ar,license_title:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("textarea",{placeholder:"Texto licencia (opcional)",value:Ar.license_text,onChange:g=>Nr({...Ar,license_text:g.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Crditos"})})]})]}),s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-xl font-bold mb-6",children:"Autores"}),s.jsxs("form",{onSubmit:bc,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Nombre completo",value:wr.full_name,onChange:g=>ui({...wr,full_name:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Carrera",value:wr.career,onChange:g=>ui({...wr,career:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:wr.description,onChange:g=>ui({...wr,description:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"URL foto",value:wr.photo_url,onChange:g=>ui({...wr,photo_url:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-3 items-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:g=>{var $;return Po((($=g.target.files)==null?void 0:$[0])||null)},className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"button",onClick:Yc,disabled:_s||!ts,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:_s?"Subiendo...":"Subir foto"}),wr.photo_url&&s.jsx("a",{href:wr.photo_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500",children:"Ver foto"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:na?"Actualizar":"Agregar"})})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Nn.map(g=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${m?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:g.photo_url,alt:g.full_name,className:"w-14 h-14 rounded-lg object-cover"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:g.full_name}),s.jsx("div",{className:"text-xs text-slate-500",children:g.career})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{es(g),ui({full_name:g.full_name,career:g.career,description:g.description||"",photo_url:g.photo_url||""})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>Xc(g.id),className:"text-red-500",children:"Eliminar"})]})]},g.id))})]})]}),(k==="dashboard"||k==="alumnos"||k==="avisos"||k==="clubes"||k==="carreras"||k==="maestros"||k==="chatbot"||k==="gmail"||k==="storage"||k==="access"||k==="preregistros")&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[k==="dashboard"&&s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Panel principal"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{key:"avisos",label:"Avisos",icon:"campaign"},{key:"clubes",label:"Clubes",icon:"sports_esports"},{key:"carreras",label:"Carreras",icon:"engineering"},{key:"maestros",label:"Maestros",icon:"co_present"},{key:"alumnos",label:"Alumnos",icon:"group"},{key:"chatbot",label:"IA Chatbot",icon:"smart_toy"},{key:"gmail",label:"Notificaciones Gmail",icon:"mail"},{key:"storage",label:"Almacenamiento",icon:"storage"}].map(g=>s.jsxs("button",{onClick:()=>L(g.key),className:`p-6 rounded-3xl text-left border ${m?"bg-slate-900 border-slate-700 hover:border-blue-400":"bg-white border-slate-100 hover:border-blue-800"} transition-all`,children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800 text-2xl",children:g.icon}),s.jsx("div",{className:"mt-2 font-bold",children:g.label})]},g.key))})]}),k==="alumnos"&&s.jsxs(s.Fragment,{children:[s.jsxs("section",{children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"layers"})," Gestin por Semestre"]})}),s.jsx("div",{className:"flex overflow-x-auto lg:grid lg:grid-cols-6 gap-4 pb-4 lg:pb-0",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[1,2,3,4,5,6].map(g=>s.jsxs("div",{onClick:()=>{fl(g),ss("groups")},className:`flex-shrink-0 w-32 lg:w-full group p-6 rounded-3xl shadow-sm border cursor-pointer transition-all text-center ${m?"bg-slate-800 border-slate-700 hover:border-blue-400":"bg-white border-slate-100 hover:border-blue-800"} ${qa===g?m?"border-blue-400":"border-blue-800":""}`,children:[s.jsxs("div",{className:`text-3xl font-black mb-1 ${m?"text-blue-400":"text-blue-800"}`,children:[g,""]}),s.jsx("div",{className:`text-[10px] uppercase font-bold tracking-wider ${m?"text-slate-400 group-hover:text-blue-400":"text-slate-400 group-hover:text-blue-800"}`,children:"Semestre"})]},g))})]}),qo==="students"&&Uo&&s.jsxs("section",{children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold",children:["Alumnos - ",qa," Semestre, Grupo ",Uo]}),s.jsx("button",{onClick:()=>{ss("groups"),Ml(null)},className:`text-sm ${m?"text-blue-400":"text-blue-800"} hover:underline`,children:" Volver a grupos"})]})}),s.jsx("div",{className:`rounded-3xl overflow-hidden ${m?"bg-slate-800":"bg-white"} shadow-sm`,children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:m?"bg-slate-900":"bg-slate-50",children:[s.jsx("th",{className:`p-4 text-left font-semibold ${m?"text-slate-300":"text-slate-600"}`,children:"Nombre Completo"}),s.jsx("th",{className:`p-4 text-left font-semibold ${m?"text-slate-300":"text-slate-600"}`,children:"No. Control"}),s.jsx("th",{className:`p-4 text-left font-semibold ${m?"text-slate-300":"text-slate-600"}`,children:"CURP"}),s.jsx("th",{className:`p-4 text-left font-semibold ${m?"text-slate-300":"text-slate-600"}`,children:"Acciones"})]})}),s.jsx("tbody",{children:Vc().length>0?Vc().map(g=>s.jsxs("tr",{className:`border-t ${m?"border-slate-700 hover:bg-slate-700/50":"border-slate-100 hover:bg-slate-50"}`,children:[s.jsxs("td",{className:"p-4",children:[s.jsx("strong",{children:g.apellidos}),", ",g.nombre||""]}),s.jsx("td",{className:`p-4 ${g.numero_control?"":"text-slate-400"}`,children:g.numero_control||"--"}),s.jsx("td",{className:"p-4",children:g.curp}),s.jsx("td",{className:"p-4",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>A(g),className:"p-2 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",title:"Calificaciones",children:""}),s.jsx("button",{onClick:()=>Au(g),className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",title:"Editar Datos",children:""}),s.jsx("button",{onClick:()=>Ts(g.id),className:"p-2 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",title:"Eliminar",children:""})]})})]},g.id)):s.jsx("tr",{children:s.jsx("td",{colSpan:"4",className:"p-8 text-center text-slate-500",children:"No hay alumnos en este grupo."})})})]})})]}),qo==="groups"&&qa&&s.jsxs("section",{children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold",children:["Grupos - ",qa," Semestre"]}),s.jsx("button",{onClick:()=>{ss("semesters"),fl(null)},className:`text-sm ${m?"text-blue-400":"text-blue-800"} hover:underline`,children:" Volver a semestres"})]})}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:co(qa).length>0?co(qa).map(g=>s.jsxs("div",{onClick:()=>{Ml(g),ss("students")},className:`p-6 rounded-3xl border-l-4 border-l-green-500 cursor-pointer transition-all text-center ${m?"bg-slate-800 border border-slate-700 hover:border-green-400":"bg-white border border-slate-100 hover:border-green-500 shadow-sm"}`,children:[s.jsx("div",{className:"text-4xl font-black text-green-500 mb-1",children:g}),s.jsx("div",{className:"text-xs uppercase font-bold tracking-wider text-slate-400",children:"Grupo"})]},g)):s.jsx("p",{className:"col-span-full text-center text-slate-500 py-8",children:"No hay grupos registrados en este semestre an."})})]})]}),k==="avisos"&&s.jsxs(s.Fragment,{children:[s.jsx("section",{children:s.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 shadow-xl border ${m?"bg-slate-800 border-slate-700 shadow-none":"bg-white border-white shadow-slate-200/50"}`,children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"add_circle"})," Nuevo Aviso Global"]}),s.jsxs("form",{onSubmit:S,className:"space-y-4",children:[s.jsx("input",{type:"text",value:f.titulo,onChange:g=>x({...f,titulo:g.target.value}),placeholder:"Qu quieres anunciar hoy?",className:`w-full text-lg border-none rounded-2xl p-4 focus:ring-2 focus:ring-blue-800/20 transition-all ${m?"bg-slate-900 text-white placeholder-slate-500":"bg-slate-50"}`,required:!0}),s.jsx("textarea",{value:f.contenido,onChange:g=>x({...f,contenido:g.target.value}),placeholder:"Describe el aviso detalladamente...",rows:"3",className:`w-full border-none rounded-2xl p-4 focus:ring-2 focus:ring-blue-800/20 transition-all ${m?"bg-slate-900 text-white placeholder-slate-500":"bg-slate-50"}`,required:!0}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-2",children:[s.jsx("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:s.jsxs("label",{className:`flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl cursor-pointer transition-colors w-full sm:w-auto ${m?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[s.jsx("span",{className:"material-symbols-outlined text-xl",children:"image"}),s.jsx("span",{className:"text-sm font-semibold",children:"Imagen/Video"}),s.jsx("input",{type:"file",accept:"image/*,video/*",onChange:g=>Hl(g.target.files[0]),className:"hidden"})]})}),s.jsx("button",{type:"submit",disabled:p,className:"w-full sm:w-auto px-8 py-3 bg-blue-800 text-white font-bold rounded-2xl shadow-lg shadow-blue-200 hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50",children:p?"Subiendo...":fo?"Actualizar":"Publicar Ahora"})]}),ls&&s.jsxs("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:[" ",ls.name]})]})]})}),s.jsxs("section",{children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h3",{className:"text-lg font-bold",children:"Avisos Activos"})}),s.jsx("div",{className:"space-y-4",children:Yn.length===0?s.jsxs("div",{className:`p-8 rounded-3xl text-center ${m?"bg-slate-800 border-slate-700":"bg-white border-slate-100"} border`,children:[s.jsx("span",{className:"material-symbols-outlined text-4xl text-slate-400 mb-2",children:"notifications_off"}),s.jsx("p",{className:"text-slate-500",children:"No hay avisos publicados."})]}):Yn.map(g=>s.jsxs("div",{className:`p-5 rounded-3xl border shadow-sm flex flex-col md:flex-row gap-5 ${m?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[g.media_url&&s.jsx("div",{className:`w-full md:w-48 h-32 flex-shrink-0 rounded-2xl overflow-hidden ${m?"bg-slate-900":"bg-slate-100"}`,children:g.media_type==="video"?s.jsx("video",{src:g.media_url,className:"w-full h-full object-cover"}):s.jsx("img",{src:g.media_url,alt:"Announcement",className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h4",{className:"font-bold text-lg leading-tight",children:g.titulo}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>Rs(g),className:`p-1.5 transition-colors ${m?"text-slate-400 hover:text-blue-400":"text-slate-400 hover:text-blue-800"}`,children:s.jsx("span",{className:"material-symbols-outlined text-xl",children:"edit"})}),s.jsx("button",{onClick:()=>gc(g.id),className:"p-1.5 text-slate-400 hover:text-red-500 transition-colors",children:s.jsx("span",{className:"material-symbols-outlined text-xl",children:"delete"})})]})]}),s.jsx("p",{className:`text-sm line-clamp-2 ${m?"text-slate-400":"text-slate-500"}`,children:g.contenido})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs font-bold uppercase tracking-widest text-slate-400",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"schedule"}),new Date(g.created_at).toLocaleDateString()]}),s.jsx("span",{className:`px-2.5 py-1 rounded-lg ${m?"bg-blue-900/30 text-blue-400":"bg-blue-50 text-blue-800"}`,children:"Acadmico"})]})]})]},g.id))})]})]}),k==="maestros"&&s.jsxs(s.Fragment,{children:[s.jsx("section",{children:s.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"co_present"})," Configuracin Portal Docente"]}),s.jsxs("form",{onSubmit:Ur,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Ttulo",value:fe.title,onChange:g=>_e({...fe,title:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Subttulo",value:fe.subtitle,onChange:g=>_e({...fe,subtitle:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"URL de imagen principal",value:fe.hero_image_url,onChange:g=>_e({...fe,hero_image_url:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Texto del botn",value:fe.cta_label,onChange:g=>_e({...fe,cta_label:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Configuracin"})})]})]})}),s.jsx("section",{children:s.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${m?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"link"})," Recursos Docentes"]}),s.jsxs("form",{onSubmit:dn,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Nombre",value:Ye.name,onChange:g=>it({...Ye,name:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"url",placeholder:"URL",value:Ye.url,onChange:g=>it({...Ye,url:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:Ye.description,onChange:g=>it({...Ye,description:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Icono (emoji)",value:Ye.icon,onChange:g=>it({...Ye,icon:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Color (hex o nombre)",value:Ye.color,onChange:g=>it({...Ye,color:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"number",placeholder:"Orden (opcional)",value:Ye.order_index,onChange:g=>it({...Ye,order_index:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:Ye.is_active,onChange:g=>it({...Ye,is_active:g.target.checked})}),"Visible en el portal"]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:Tt?"Actualizar":"Agregar"})})]}),s.jsx("div",{className:"mt-6 space-y-3",children:Be.map(g=>s.jsxs("div",{className:`p-4 rounded-2xl flex flex-col md:flex-row md:items-center md:justify-between gap-4 ${m?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[s.jsx("span",{children:g.icon||""}),s.jsx("span",{children:g.name}),!g.is_active&&s.jsx("span",{className:"text-xs text-slate-500",children:"(oculto)"})]}),s.jsx("div",{className:"text-sm text-slate-500",children:g.description}),s.jsx("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500",children:g.url})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>{zt(g),it({name:g.name||"",description:g.description||"",icon:g.icon||"",url:g.url||"",color:g.color||"",order_index:g.order_index||"",is_active:g.is_active!==!1})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>mi(g.id),className:"text-red-500",children:"Eliminar"})]})]},g.id))})]})})]}),k==="clubes"&&s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Clubes Escolares"}),s.jsx("button",{onClick:()=>{K(null),de(!0)},className:`p-1.5 rounded-lg ${m?"bg-slate-700":"bg-slate-200"}`,children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"add"})})]}),s.jsx("div",{className:"grid grid-cols-1 gap-3",children:se.length===0?s.jsx("p",{className:"text-center text-slate-500 py-4",children:"No hay clubes registrados."}):se.map(g=>s.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-2xl border shadow-sm ${m?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[s.jsx("div",{className:`w-12 h-12 flex-shrink-0 text-2xl flex items-center justify-center rounded-xl ${m?"bg-purple-900/30":"bg-purple-100"}`,children:g.icono||""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-sm",children:g.nombre}),s.jsx("p",{className:"text-xs text-slate-500",children:g.categoria})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>Ce(g),className:"p-1 text-slate-400 hover:text-blue-500",children:s.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),s.jsx("button",{onClick:()=>te(g.id),className:"p-1 text-slate-400 hover:text-red-500",children:s.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})]},g.id))})]}),k==="carreras"&&s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Carreras Tcnicas"}),s.jsx("button",{onClick:()=>{ie(null),D(!0)},className:`p-1.5 rounded-lg ${m?"bg-slate-700":"bg-slate-200"}`,children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"add"})})]}),s.jsx("div",{className:"space-y-3",children:E.length===0?s.jsx("p",{className:"text-center text-slate-500 py-4",children:"No hay carreras registradas."}):E.map(g=>{var $;return s.jsxs("div",{className:`p-5 rounded-3xl border shadow-sm group cursor-pointer transition-colors ${m?"bg-slate-800 border-slate-700 hover:border-blue-400":"bg-white border-slate-100 hover:border-blue-800"}`,children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-900 flex items-center justify-center overflow-hidden",children:g.imagen_url?s.jsx("img",{src:g.imagen_url,alt:g.nombre,className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-white text-2xl",children:""})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold",children:g.nombre}),s.jsx("p",{className:`text-xs uppercase font-bold tracking-tighter ${m?"text-slate-500":"text-slate-400"}`,children:(($=g.descripcion)==null?void 0:$.substring(0,30))||"Sin descripcin"})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:je=>{je.stopPropagation(),G(g)},className:"p-1 text-slate-400 hover:text-blue-500",children:s.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),s.jsx("button",{onClick:je=>{je.stopPropagation(),ee(g.id)},className:"p-1 text-slate-400 hover:text-red-500",children:s.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})]}),g.plan_estudios_url&&s.jsxs("div",{className:`flex items-center justify-between pt-4 border-t ${m?"border-slate-700":"border-slate-50"}`,children:[s.jsx("a",{href:g.plan_estudios_url,target:"_blank",rel:"noopener noreferrer",className:`text-xs font-bold ${m?"text-blue-400":"text-blue-800"}`,children:"Ver Plan de Estudios"}),s.jsx("span",{className:"material-symbols-outlined text-blue-800 text-lg",children:"arrow_forward"})]})]},g.id)})})]}),k==="chatbot"&&s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${m?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"smart_toy"})," IA Chatbot"]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${m?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:ft.enabled?"Activo":"Desactivado"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:`p-4 rounded-2xl border ${m?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[s.jsx("p",{className:"text-sm font-semibold",children:"Estado"}),s.jsx("p",{className:`text-sm mt-1 ${m?"text-slate-400":"text-slate-500"}`,children:Ni?"Configurado":"Sin configurar"})]}),s.jsxs("div",{className:`p-4 rounded-2xl border ${m?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[s.jsx("p",{className:"text-sm font-semibold",children:"Proveedor"}),s.jsx("p",{className:`text-sm mt-1 ${m?"text-slate-400":"text-slate-500"}`,children:(ft.provider||"grok").toUpperCase()})]}),s.jsxs("div",{className:`p-4 rounded-2xl border ${m?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[s.jsx("p",{className:"text-sm font-semibold",children:"Modelo"}),s.jsx("p",{className:`text-sm mt-1 ${m?"text-slate-400":"text-slate-500"}`,children:ft.model||"No definido"})]})]}),s.jsxs("form",{onSubmit:Pu,className:"mt-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold",children:"Proveedor"}),s.jsxs("select",{value:ft.provider,onChange:g=>di({...ft,provider:g.target.value}),className:`w-full mt-2 p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,children:[s.jsx("option",{value:"groq",children:"Groq"}),s.jsx("option",{value:"gemini",children:"Gemini"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold",children:"API Key"}),s.jsx("input",{type:"password",value:ft.api_key,onChange:g=>di({...ft,api_key:g.target.value}),placeholder:"Ingresa tu API Key",className:`w-full mt-2 p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold",children:"Modelo"}),s.jsxs("select",{value:ft.model,onChange:g=>di({...ft,model:g.target.value}),className:`w-full mt-2 p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,children:[s.jsx("option",{value:"",children:"Selecciona un modelo"}),ol.filter(g=>g.provider===ft.provider&&g.is_active!==!1).map(g=>s.jsx("option",{value:g.name,children:g.name},g.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold",children:"Prompt de sistema"}),s.jsx("textarea",{value:ft.system_prompt,onChange:g=>di({...ft,system_prompt:g.target.value}),rows:"6",placeholder:"Instrucciones del sistema para el chatbot",className:`w-full mt-2 p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("label",{className:`flex items-center gap-2 text-sm ${m?"text-slate-300":"text-slate-600"}`,children:[s.jsx("input",{type:"checkbox",checked:ft.enable_db_context,onChange:g=>di({...ft,enable_db_context:g.target.checked})}),"Permitir contexto de la base de datos"]}),s.jsxs("label",{className:`flex items-center gap-2 text-sm ${m?"text-slate-300":"text-slate-600"}`,children:[s.jsx("input",{type:"checkbox",checked:ft.enabled,onChange:g=>di({...ft,enabled:g.target.checked})}),"Activar chatbot en el sitio"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx("button",{type:"submit",disabled:ro,className:"px-5 py-3 rounded-2xl bg-blue-800 text-white font-bold shadow hover:scale-[1.01] transition-all disabled:opacity-60",children:ro?"Guardando...":"Guardar configuracin"}),s.jsx("button",{type:"button",onClick:()=>window.open("/","_blank"),className:`px-5 py-3 rounded-2xl font-semibold ${m?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:"Ver en sitio"})]}),s.jsx("p",{className:`text-xs ${m?"text-slate-500":"text-slate-400"}`,children:"La informacin de la base de datos se agrega como contexto al prompt. Evita incluir datos sensibles."})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h4",{className:"text-md font-bold mb-3",children:"Probar chatbot"}),s.jsxs("form",{onSubmit:Vo,className:"space-y-3",children:[s.jsx("textarea",{value:To,onChange:g=>ia(g.target.value),rows:"3",placeholder:"Escribe un mensaje de prueba...",className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",disabled:Ro,className:"px-5 py-3 rounded-2xl bg-blue-800 text-white font-bold shadow disabled:opacity-60",children:Ro?"Probando...":"Probar ahora"})]}),Ss&&s.jsx("div",{className:`mt-4 p-4 rounded-2xl border ${m?"bg-slate-900 border-slate-700 text-slate-200":"bg-white border-slate-100 text-slate-600"}`,children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:Ss})})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("button",{type:"button",onClick:()=>{const g=!ka;Ns(g),g&&_n()},className:`px-5 py-3 rounded-2xl text-sm font-semibold ${m?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:ka?"Ocultar preguntas realizadas":"Preguntas realizadas por usuarios"}),ka&&s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-md font-bold",children:"Preguntas recientes"}),s.jsx("button",{type:"button",onClick:Wo,className:"text-sm text-red-500",children:"Eliminar todas"})]}),ks?s.jsx("p",{className:"text-sm text-slate-500",children:"Cargando..."}):qi.length===0?s.jsx("p",{className:"text-sm text-slate-500",children:"No hay preguntas registradas."}):s.jsx("div",{className:"space-y-2",children:qi.map(g=>s.jsxs("div",{className:`p-4 rounded-2xl border flex items-start justify-between gap-3 ${m?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${m?"text-slate-200":"text-slate-700"}`,children:g.question_text}),s.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[new Date(g.created_at).toLocaleString(),"  Ruta: ",g.source_page||"N/D"]})]}),s.jsx("button",{type:"button",onClick:()=>Ho(g.id),className:"text-sm text-red-500",children:"Eliminar"})]},g.id))})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("button",{type:"button",onClick:()=>aa(!Mi),className:`px-5 py-3 rounded-2xl text-sm font-semibold ${m?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:Mi?"Ocultar ms configuraciones":"Ms configuraciones"}),Mi&&s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold",children:"Base URL (opcional)"}),s.jsx("input",{type:"text",value:ft.base_url,onChange:g=>di({...ft,base_url:g.target.value}),placeholder:"https://api.groq.com/openai/v1",className:`w-full mt-2 p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]})}),s.jsxs("div",{className:`p-4 rounded-2xl border ${m?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[s.jsx("p",{className:"text-sm font-semibold mb-3",children:"Configuracin hbrida"}),s.jsxs("label",{className:`flex items-center gap-2 text-sm ${m?"text-slate-300":"text-slate-600"}`,children:[s.jsx("input",{type:"checkbox",checked:ft.fallback_enabled,onChange:g=>di({...ft,fallback_enabled:g.target.checked})}),"Usar segunda API si la principal falla"]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"text-sm font-semibold",children:"Proveedor principal"}),s.jsxs("select",{value:ft.primary_provider,onChange:g=>di({...ft,primary_provider:g.target.value}),className:`w-full mt-2 p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-white border-slate-200"}`,children:[s.jsx("option",{value:"groq",children:"Groq"}),s.jsx("option",{value:"gemini",children:"Gemini"})]}),s.jsx("p",{className:`text-xs mt-2 ${m?"text-slate-500":"text-slate-400"}`,children:"La secundaria ser la otra API."})]})]}),s.jsxs("div",{className:`p-4 rounded-2xl border ${m?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[s.jsx("p",{className:"text-sm font-semibold mb-3",children:"Agregar modelo"}),s.jsxs("form",{onSubmit:Ln,className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("select",{value:qn.provider,onChange:g=>Na({...qn,provider:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-white border-slate-200"}`,children:[s.jsx("option",{value:"groq",children:"Groq"}),s.jsx("option",{value:"gemini",children:"Gemini"})]}),s.jsx("input",{type:"text",value:qn.name,onChange:g=>Na({...qn,name:g.target.value}),placeholder:"llama-3.1-70b, gemini-3.0-flash",className:`p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-white border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-4 py-3 rounded-xl bg-blue-800 text-white font-bold",children:"Agregar modelo"})]})]})]})]})]}),k==="gmail"&&s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${m?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"mail"})," Notificaciones Gmail"]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${Ui?m?"bg-emerald-900 text-emerald-300":"bg-emerald-100 text-emerald-700":m?"bg-red-900 text-red-300":"bg-red-100 text-red-700"}`,children:is?"Verificando...":Ui?` ${xr||"Conectado"}`:"No conectado"})]}),s.jsxs("div",{className:`p-4 rounded-2xl border ${m?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-100"}`,children:[s.jsx("p",{className:"text-sm font-semibold mb-2",children:" Enva correos usando tu cuenta de Google"}),s.jsx("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:Ui?"Gmail est conectado. Puedes enviar correos a los alumnos por grado/grupo.":"Para usar Gmail, cierra sesin e inicia sesin nuevamente con Google. El sistema pedir permiso para enviar correos en tu nombre."})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold",children:"Asunto"}),s.jsx("input",{type:"text",value:Rr.subject,onChange:g=>sa({...Rr,subject:g.target.value}),placeholder:"Aviso importante",className:`w-full mt-2 p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold",children:"Enviar a todos"}),s.jsxs("div",{className:`mt-2 p-3 rounded-xl border flex items-center gap-3 ${m?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[s.jsx("input",{type:"checkbox",checked:Rr.sendToAll,onChange:g=>sa({...Rr,sendToAll:g.target.checked})}),s.jsx("span",{className:"text-sm",children:"Ignorar filtros por grado/grupo"})]})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold",children:"Contenido (HTML)"}),s.jsx("textarea",{value:Rr.messageHtml,onChange:g=>sa({...Rr,messageHtml:g.target.value}),rows:"6",placeholder:"<b>Hola</b> estudiantes...",className:`w-full mt-2 p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold",children:"Contenido (texto plano)"}),s.jsx("textarea",{value:Rr.messageText,onChange:g=>sa({...Rr,messageText:g.target.value}),rows:"6",placeholder:"Hola estudiantes...",className:`w-full mt-2 p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:`p-4 rounded-2xl border ${m?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[s.jsx("p",{className:"text-sm font-semibold mb-3",children:"Grados"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[1,2,3,4,5,6].map(g=>s.jsxs("button",{type:"button",onClick:()=>Lu(g),className:`px-3 py-2 rounded-xl text-sm font-semibold border ${Rr.grados.includes(g)?m?"bg-blue-600 text-white border-blue-600":"bg-blue-800 text-white border-blue-800":m?"bg-slate-800 text-slate-300 border-slate-700":"bg-slate-50 text-slate-600 border-slate-200"}`,children:[g,""]},g))})]}),s.jsxs("div",{className:`p-4 rounded-2xl border ${m?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[s.jsx("p",{className:"text-sm font-semibold mb-3",children:"Grupos"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const g=["A","B","C","D","F"],$=Array.from(new Set(o.map(Te=>Te.grupo).filter(Boolean))).sort();return($.length?$:g).map(Te=>s.jsx("button",{type:"button",onClick:()=>bi(Te),className:`px-3 py-2 rounded-xl text-sm font-semibold border ${Rr.grupos.includes(Te)?"bg-green-600 text-white border-green-600":m?"bg-slate-800 text-slate-300 border-slate-700":"bg-slate-50 text-slate-600 border-slate-200"}`,children:Te},Te))})()})]})]}),Ba&&s.jsx("div",{className:`mt-4 p-4 rounded-2xl border ${Ba.type==="success"?m?"bg-emerald-900/30 border-emerald-700 text-emerald-200":"bg-emerald-50 border-emerald-200 text-emerald-800":m?"bg-red-900/30 border-red-700 text-red-200":"bg-red-50 border-red-200 text-red-700"}`,children:Ba.message}),s.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-3",children:[!Ui&&s.jsx("button",{type:"button",onClick:Ru,className:"px-5 py-3 rounded-2xl bg-blue-800 text-white font-bold shadow hover:scale-[1.01] transition-all",children:" Conectar Gmail"}),s.jsx("button",{type:"button",onClick:yc,disabled:is,className:`px-5 py-3 rounded-2xl font-semibold ${m?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:is?"Verificando...":" Verificar conexin"}),s.jsx("button",{type:"button",onClick:vl,disabled:so||!Ui,className:`px-5 py-3 rounded-2xl font-bold ${so||!Ui?"opacity-50 cursor-not-allowed":"hover:scale-[1.01]"} ${Ui?"bg-green-600 text-white":m?"bg-slate-700 text-slate-400":"bg-slate-200 text-slate-500"}`,children:so?" Enviando...":" Enviar correo"})]})]}),k==="storage"&&s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${m?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"storage"})," Almacenamiento"]}),s.jsx("button",{type:"button",onClick:Os,className:`text-sm ${m?"text-blue-400":"text-blue-700"}`,children:"Actualizar"})]}),ns?s.jsx("p",{className:"text-sm text-slate-500",children:"Cargando..."}):Er?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`w-full h-5 rounded-full overflow-hidden ${m?"bg-slate-800":"bg-slate-200"}`,children:(()=>{const g=Er.total_bytes||0,$=Er.db_bytes||0;Er.storage_bytes;const je=g?Math.round($/g*100):0,Te=g?100-je:0;return s.jsxs("div",{className:"w-full h-full flex",children:[s.jsx("div",{style:{width:`${je}%`},className:"h-full bg-blue-600"}),s.jsx("div",{style:{width:`${Te}%`},className:"h-full bg-green-500"})]})})()}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm mt-4",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-600"}),"BD: ",yl(Er.db_bytes)]}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),"Storage: ",yl(Er.storage_bytes)]}),s.jsxs("span",{className:"flex items-center gap-2",children:["Total: ",yl(Er.total_bytes)]})]}),((Go=Er.buckets)==null?void 0:Go.length)>0&&s.jsxs("div",{className:"space-y-2 mt-4",children:[s.jsx("h5",{className:"text-sm font-semibold",children:"Buckets"}),Er.buckets.map(g=>s.jsx("div",{className:`p-3 rounded-xl border ${m?"border-slate-700 bg-slate-900":"border-slate-100 bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:g.bucket_id}),s.jsx("span",{children:yl(g.size_bytes)})]})},g.bucket_id))]})]}):s.jsx("p",{className:"text-sm text-slate-500",children:"Sin datos de almacenamiento."})]}),k==="preregistros"&&s.jsx("section",{className:"space-y-6",children:s.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${m?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2 text-blue-600",children:[s.jsx("span",{className:"material-symbols-outlined",children:"assignment_ind"})," Pre-Registros de Nuevo Ingreso"]}),s.jsx("p",{className:`text-sm ${m?"text-slate-400":"text-slate-500"}`,children:"Gestiona las solicitudes de aspirantes para el ciclo escolar 2025-2026."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:mc,className:"p-2 rounded-xl bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors",children:s.jsx("span",{className:"material-symbols-outlined",children:"refresh"})}),s.jsxs("button",{onClick:()=>Aa(!On),className:`flex items-center gap-2 px-4 py-2 rounded-xl border transition-all ${On?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:On?"visibility":"settings"}),s.jsx("span",{className:"font-bold",children:On?"Ver Registros":"Configurar Mdulo"})]})]})]}),On?s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:`p-5 rounded-3xl border ${$e.habilitado?"border-green-100 bg-green-50/50":"border-red-100 bg-red-50/50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${$e.habilitado?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:s.jsx("span",{className:"material-symbols-outlined",children:$e.habilitado?"check_circle":"cancel"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold",children:"Estatus del Mdulo"}),s.jsx("p",{className:"text-xs opacity-70",children:'Si se desactiva, la landing muestra "Convocatoria Cerrada"'})]})]}),s.jsx("button",{onClick:()=>At({...$e,habilitado:!$e.habilitado}),className:`px-5 py-2 rounded-xl font-bold text-sm transition-all ${$e.habilitado?"bg-red-600 text-white":"bg-green-600 text-white"}`,children:$e.habilitado?"Desactivar":"Activar"})]})}),s.jsxs("form",{onSubmit:zl,className:"space-y-6",children:[s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${m?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-blue-600 text-white rounded-lg",children:" Hero / Encabezado"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Badge (insignia superior)"}),s.jsx("input",{type:"text",value:$e.badge_texto||"",onChange:g=>At({...$e,badge_texto:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:" Convocatoria Abierta  Ciclo 20252026"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo principal"}),s.jsx("input",{type:"text",value:$e.titulo_header||"",onChange:g=>At({...$e,titulo_header:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Subttulo"}),s.jsx("input",{type:"text",value:$e.subtitulo_header||"",onChange:g=>At({...$e,subtitulo_header:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Texto del botn CTA"}),s.jsx("input",{type:"text",value:$e.cta_texto||"",onChange:g=>At({...$e,cta_texto:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Pre-Regstrate Ahora!"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Subtexto del botn CTA"}),s.jsx("input",{type:"text",value:$e.cta_subtexto||"",onChange:g=>At({...$e,cta_subtexto:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Es rpido, gratuito y 100% en lnea"})]})]})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${m?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-orange-500 text-white rounded-lg",children:" Vigencia"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Fecha de cierre"}),s.jsx("input",{type:"date",value:$e.fecha_cierre||"",onChange:g=>At({...$e,fecha_cierre:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Texto del contador"}),s.jsx("input",{type:"text",value:$e.mensaje_cierre||"",onChange:g=>At({...$e,mensaje_cierre:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Cierre de convocatoria en:"})]})]})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${m?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-green-600 text-white rounded-lg",children:" Tarjeta Principal"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo de la tarjeta"}),s.jsx("input",{type:"text",value:$e.card_titulo||"",onChange:g=>At({...$e,card_titulo:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Pre-Regstrate"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Texto del botn"}),s.jsx("input",{type:"text",value:$e.card_boton_texto||"",onChange:g=>At({...$e,card_boton_texto:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Iniciar Pre-Registro "})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Descripcin"}),s.jsx("textarea",{value:$e.card_descripcion||"",onChange:g=>At({...$e,card_descripcion:g.target.value}),rows:3,className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Checklist (un tem por lnea)"}),s.jsx("textarea",{value:Array.isArray($e.card_checklist_json)?$e.card_checklist_json.join(`
`):"",onChange:g=>At({...$e,card_checklist_json:g.target.value.split(`
`).filter($=>$.trim())}),rows:5,className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:`Datos personales y de contacto
Eleccin de carrera tcnica
etc.`})]})]})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${m?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-purple-600 text-white rounded-lg",children:" Seccin Pasos"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo de seccin"}),s.jsx("input",{type:"text",value:$e.pasos_titulo||"",onChange:g=>At({...$e,pasos_titulo:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Cmo funciona?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Subttulo de seccin"}),s.jsx("input",{type:"text",value:$e.pasos_subtitulo||"",onChange:g=>At({...$e,pasos_subtitulo:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]})]}),s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 block",children:"Pasos (agrega/edita)"}),($e.pasos_json||[]).map((g,$)=>s.jsxs("div",{className:`p-3 rounded-xl border flex flex-col md:flex-row gap-2 ${m?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[s.jsx("input",{type:"text",value:g.num,onChange:je=>{const Te=[...$e.pasos_json];Te[$]={...Te[$],num:je.target.value},At({...$e,pasos_json:Te})},className:`w-16 p-2 text-center rounded-lg border ${m?"bg-slate-900 border-slate-600 text-white":"bg-slate-50 border-slate-200"}`,placeholder:"#"}),s.jsx("input",{type:"text",value:g.titulo,onChange:je=>{const Te=[...$e.pasos_json];Te[$]={...Te[$],titulo:je.target.value},At({...$e,pasos_json:Te})},className:`flex-1 p-2 rounded-lg border ${m?"bg-slate-900 border-slate-600 text-white":"bg-slate-50 border-slate-200"}`,placeholder:"Ttulo del paso"}),s.jsx("input",{type:"text",value:g.desc,onChange:je=>{const Te=[...$e.pasos_json];Te[$]={...Te[$],desc:je.target.value},At({...$e,pasos_json:Te})},className:`flex-1 p-2 rounded-lg border ${m?"bg-slate-900 border-slate-600 text-white":"bg-slate-50 border-slate-200"}`,placeholder:"Descripcin"}),s.jsx("button",{type:"button",onClick:()=>{const je=$e.pasos_json.filter((Te,Ke)=>Ke!==$);At({...$e,pasos_json:je})},className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete"})})]},$)),s.jsx("button",{type:"button",onClick:()=>{var g;return At({...$e,pasos_json:[...$e.pasos_json||[],{num:String((((g=$e.pasos_json)==null?void 0:g.length)||0)+1).padStart(2,"0"),titulo:"",desc:""}]})},className:"px-4 py-2 rounded-xl bg-purple-100 text-purple-700 font-bold text-sm hover:bg-purple-200 transition-colors",children:"+ Agregar Paso"})]})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${m?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-cyan-600 text-white rounded-lg",children:" Seccin Carreras"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo de seccin"}),s.jsx("input",{type:"text",value:$e.carreras_titulo||"",onChange:g=>At({...$e,carreras_titulo:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Carreras Tcnicas Disponibles"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Subttulo de seccin"}),s.jsx("input",{type:"text",value:$e.carreras_subtitulo||"",onChange:g=>At({...$e,carreras_subtitulo:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]})]}),s.jsx("p",{className:`mt-3 text-xs ${m?"text-slate-400":"text-slate-500"}`,children:' Las carreras se gestionan desde la seccin "Carreras" del panel principal.'})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${m?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-amber-500 text-white rounded-lg",children:" Seccin Requisitos"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo de seccin"}),s.jsx("input",{type:"text",value:$e.requisitos_titulo||"",onChange:g=>At({...$e,requisitos_titulo:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Subttulo de seccin"}),s.jsx("input",{type:"text",value:$e.requisitos_subtitulo||"",onChange:g=>At({...$e,requisitos_subtitulo:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]})]}),s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 block",children:"Requisitos (agrega/edita)"}),($e.requisitos_json||[]).map((g,$)=>s.jsxs("div",{className:`p-3 rounded-xl border flex gap-2 items-center ${m?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[s.jsx("input",{type:"text",value:g.icon,onChange:je=>{const Te=[...$e.requisitos_json];Te[$]={...Te[$],icon:je.target.value},At({...$e,requisitos_json:Te})},className:`w-14 p-2 text-center rounded-lg border ${m?"bg-slate-900 border-slate-600 text-white":"bg-slate-50 border-slate-200"}`,placeholder:""}),s.jsx("input",{type:"text",value:g.txt,onChange:je=>{const Te=[...$e.requisitos_json];Te[$]={...Te[$],txt:je.target.value},At({...$e,requisitos_json:Te})},className:`flex-1 p-2 rounded-lg border ${m?"bg-slate-900 border-slate-600 text-white":"bg-slate-50 border-slate-200"}`,placeholder:"Texto del requisito"}),s.jsx("button",{type:"button",onClick:()=>{const je=$e.requisitos_json.filter((Te,Ke)=>Ke!==$);At({...$e,requisitos_json:je})},className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete"})})]},$)),s.jsx("button",{type:"button",onClick:()=>At({...$e,requisitos_json:[...$e.requisitos_json||[],{icon:"",txt:""}]}),className:"px-4 py-2 rounded-xl bg-amber-100 text-amber-700 font-bold text-sm hover:bg-amber-200 transition-colors",children:"+ Agregar Requisito"})]})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${m?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-emerald-600 text-white rounded-lg",children:" CTA Final"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo"}),s.jsx("input",{type:"text",value:$e.cta_final_titulo||"",onChange:g=>At({...$e,cta_final_titulo:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Listo para unirte al CBTa 134?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Subttulo"}),s.jsx("input",{type:"text",value:$e.cta_final_subtitulo||"",onChange:g=>At({...$e,cta_final_subtitulo:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Texto del botn"}),s.jsx("input",{type:"text",value:$e.cta_final_boton||"",onChange:g=>At({...$e,cta_final_boton:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Comenzar Pre-Registro"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Subtexto del botn"}),s.jsx("input",{type:"text",value:$e.cta_final_boton_sub||"",onChange:g=>At({...$e,cta_final_boton_sub:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Formulario en lnea  Ficha PDF inmediata"})]})]})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${m?"border-slate-700 bg-slate-900/50":"border-red-50 bg-red-50/30"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-red-600 text-white rounded-lg",children:" Pgina Cerrada"}),s.jsx("p",{className:`text-xs mb-3 ${m?"text-slate-400":"text-slate-500"}`,children:"Textos que se muestran cuando el mdulo est desactivado"}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Badge"}),s.jsx("input",{type:"text",value:$e.cerrada_badge||"",onChange:g=>At({...$e,cerrada_badge:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:" Convocatoria Cerrada"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo"}),s.jsx("input",{type:"text",value:$e.cerrada_titulo||"",onChange:g=>At({...$e,cerrada_titulo:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"El proceso de pre-registro ha finalizado"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Mensaje"}),s.jsx("textarea",{value:$e.cerrada_mensaje||"",onChange:g=>At({...$e,cerrada_mensaje:g.target.value}),rows:2,className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]})]})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${m?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-indigo-600 text-white rounded-lg",children:" Formulario"}),s.jsx("p",{className:`text-xs mb-3 ${m?"text-slate-400":"text-slate-500"}`,children:"Textos que se muestran en el formulario de pre-registro"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Badge del formulario"}),s.jsx("input",{type:"text",value:$e.form_badge||"",onChange:g=>At({...$e,form_badge:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Nuevo Ingreso 20252026"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo del formulario"}),s.jsx("input",{type:"text",value:$e.form_titulo||"",onChange:g=>At({...$e,form_titulo:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Pre-Registro de Aspirantes"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Subttulo del formulario"}),s.jsx("input",{type:"text",value:$e.form_subtitulo||"",onChange:g=>At({...$e,form_subtitulo:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Indicaciones en la Ficha PDF"}),s.jsx("input",{type:"text",value:$e.indicaciones_ficha||"",onChange:g=>At({...$e,indicaciones_ficha:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Acude con tu ficha impresa en las fechas indicadas."})]})]})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${m?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-pink-600 text-white rounded-lg",children:" Tarjeta en Pgina Principal"}),s.jsx("p",{className:`text-xs mb-3 ${m?"text-slate-400":"text-slate-500"}`,children:"La tarjeta que aparece en la pgina de inicio cuando el mdulo est activo"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Badge"}),s.jsx("input",{type:"text",value:$e.home_badge||"",onChange:g=>At({...$e,home_badge:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"NUEVO INGRESO 2025"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"cono / Emoji"}),s.jsx("input",{type:"text",value:$e.home_icono||"",onChange:g=>At({...$e,home_icono:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo"}),s.jsx("input",{type:"text",value:$e.home_titulo||"",onChange:g=>At({...$e,home_titulo:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Pre-Regstrate Hoy!"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Texto del Botn"}),s.jsx("input",{type:"text",value:$e.home_boton||"",onChange:g=>At({...$e,home_boton:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Ir al Pre-Registro "})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Descripcin"}),s.jsx("textarea",{value:$e.home_descripcion||"",onChange:g=>At({...$e,home_descripcion:g.target.value}),rows:2,className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]})]})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${m?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-violet-600 text-white rounded-lg",children:" Ttulos de Pasos del Formulario"}),s.jsx("p",{className:`text-xs mb-3 ${m?"text-slate-400":"text-slate-500"}`,children:"Los ttulos y emojis de cada seccin del formulario. Puedes incluir emojis al inicio."}),s.jsx("div",{className:"space-y-3",children:[{key:"form_titulo_paso1",label:"Paso 1  Ttulo",ph:" Datos del Aspirante"},{key:"form_titulo_paso2",label:"Paso 2  Ttulo",ph:" Carrera Tcnica"},{key:"form_desc_paso2",label:"Paso 2  Descripcin",ph:"Selecciona la carrera..."},{key:"form_titulo_paso3",label:"Paso 3  Ttulo",ph:" Escuela de Procedencia"},{key:"form_desc_paso3",label:"Paso 3  Descripcin",ph:"Proporciona los datos..."},{key:"form_titulo_paso4",label:"Paso 4  Ttulo",ph:" Datos del Tutor"},{key:"form_desc_paso4",label:"Paso 4  Descripcin",ph:"Proporciona los datos..."},{key:"form_titulo_paso5",label:"Paso 5  Ttulo",ph:" Confirmacin de Datos"},{key:"form_desc_paso5",label:"Paso 5  Descripcin",ph:"Revisa que todos tus datos..."}].map(g=>s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("span",{className:`text-xs font-bold w-36 shrink-0 ${m?"text-slate-300":"text-slate-600"}`,children:g.label}),s.jsx("input",{type:"text",value:$e[g.key]||"",onChange:$=>At({...$e,[g.key]:$.target.value}),className:`w-full p-2 rounded-lg border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:g.ph})]},g.key))})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${m?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-teal-600 text-white rounded-lg",children:" Stepper (Barra de Progreso)"}),s.jsx("p",{className:`text-xs mb-3 ${m?"text-slate-400":"text-slate-500"}`,children:"Los pasos que se muestran en la barra de progreso del formulario"}),s.jsx("div",{className:"space-y-2",children:($e.stepper_json||[]).map((g,$)=>s.jsxs("div",{className:`p-2 rounded-xl border flex gap-2 items-center ${m?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[s.jsx("input",{type:"text",value:g.icon,onChange:je=>{const Te=[...$e.stepper_json||[]];Te[$]={...Te[$],icon:je.target.value},At({...$e,stepper_json:Te})},className:`w-12 p-2 text-center rounded-lg border ${m?"bg-slate-900 border-slate-600 text-white":"bg-slate-50 border-slate-200"}`,placeholder:""}),s.jsx("input",{type:"text",value:g.label,onChange:je=>{const Te=[...$e.stepper_json||[]];Te[$]={...Te[$],label:je.target.value},At({...$e,stepper_json:Te})},className:`flex-1 p-2 rounded-lg border ${m?"bg-slate-900 border-slate-600 text-white":"bg-slate-50 border-slate-200"}`,placeholder:"Nombre del paso"})]},$))})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${m?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-lime-600 text-white rounded-lg",children:" Pgina de xito"}),s.jsx("p",{className:`text-xs mb-3 ${m?"text-slate-400":"text-slate-500"}`,children:"Textos que se muestran cuando el aspirante completa su pre-registro"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"cono / Emoji"}),s.jsx("input",{type:"text",value:$e.exito_icono||"",onChange:g=>At({...$e,exito_icono:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo"}),s.jsx("input",{type:"text",value:$e.exito_titulo||"",onChange:g=>At({...$e,exito_titulo:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Pre-Registro Exitoso!"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Mensaje"}),s.jsx("input",{type:"text",value:$e.exito_mensaje||"",onChange:g=>At({...$e,exito_mensaje:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Tu pre-registro ha sido recibido..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Texto del botn PDF"}),s.jsx("input",{type:"text",value:$e.exito_btn_pdf||"",onChange:g=>At({...$e,exito_btn_pdf:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:" Descargar Ficha PDF"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Texto del botn Inicio"}),s.jsx("input",{type:"text",value:$e.exito_btn_inicio||"",onChange:g=>At({...$e,exito_btn_inicio:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Ir al Inicio"})]})]})]}),s.jsx("div",{className:"flex justify-end pt-4 border-t border-slate-100 dark:border-slate-700",children:s.jsx("button",{type:"submit",disabled:Cu,className:"px-8 py-3 rounded-2xl bg-blue-600 text-white font-bold shadow-lg shadow-blue-200 hover:scale-[1.02] transition-all disabled:opacity-50",children:Cu?"Guardando...":" Guardar Todos los Cambios"})})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:`flex flex-col md:flex-row gap-5 mb-8 p-6 rounded-3xl ${m?"bg-slate-800/40 border border-slate-700/50":"bg-white border border-slate-100 shadow-xl shadow-slate-200/40"} backdrop-blur-sm items-end`,children:[s.jsxs("div",{className:"flex-1 w-full",children:[s.jsx("label",{className:`text-xs font-black uppercase tracking-widest mb-2 block ${m?"text-slate-400":"text-slate-500"}`,children:"Buscar Aspirante"}),s.jsxs("div",{className:"relative group",children:[s.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400 group-focus-within:text-blue-500 transition-colors",children:"search"}),s.jsx("input",{type:"text",placeholder:"Nombre, folio o CURP...",value:Es,onChange:g=>Gc(g.target.value),className:`w-full pl-12 pr-6 py-3.5 rounded-2xl border-none ring-1 transition-all duration-300 ${m?"bg-slate-900/50 ring-slate-700 text-white focus:ring-2 focus:ring-blue-500":"bg-slate-50 ring-slate-200 focus:ring-2 focus:ring-blue-800 shadow-inner"}`})]})]}),s.jsxs("div",{className:"w-full md:w-36",children:[s.jsx("label",{className:`text-xs font-black uppercase tracking-widest mb-2 block ${m?"text-slate-400":"text-slate-500"}`,children:"Ciclo"}),s.jsxs("select",{value:pl,onChange:g=>ku(g.target.value),className:`w-full px-4 py-3.5 rounded-2xl border-none ring-1 transition-all duration-300 ${m?"bg-slate-900/50 ring-slate-700 text-white focus:ring-2 focus:ring-blue-500":"bg-slate-50 ring-slate-200 focus:ring-2 focus:ring-blue-800"}`,children:[[...new Set(ql.map(g=>g.created_at?new Date(g.created_at).getFullYear():new Date().getFullYear()))].sort((g,$)=>$-g).map(g=>s.jsx("option",{value:g,children:g},g)),!ql.some(g=>g.created_at&&new Date(g.created_at).getFullYear().toString()===new Date().getFullYear().toString())&&s.jsx("option",{value:new Date().getFullYear(),children:new Date().getFullYear()})]})]}),s.jsxs("button",{onClick:ml,className:"px-6 py-3.5 bg-gradient-to-r from-emerald-600 to-green-600 text-white rounded-2xl font-black flex items-center gap-3 hover:scale-[1.05] active:scale-95 shadow-lg shadow-emerald-900/20 transition-all shrink-0",children:[s.jsx("span",{className:"material-symbols-outlined",children:"download"}),"EXPORTAR EXCEL"]})]}),s.jsx("div",{className:"overflow-x-auto rounded-2xl border border-slate-100 dark:border-slate-700",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:m?"bg-slate-900/50":"bg-slate-50",children:[s.jsx("th",{className:"p-4 font-bold text-sm",children:"Folio / Fecha"}),s.jsx("th",{className:"p-4 font-bold text-sm",children:"Aspirante"}),s.jsx("th",{className:"p-4 font-bold text-sm",children:"Carrera(s)"}),s.jsx("th",{className:"p-4 font-bold text-sm",children:"Promedio"}),s.jsx("th",{className:"p-4 font-bold text-sm",children:"Acciones"})]})}),s.jsxs("tbody",{children:[ql.filter(g=>{const $=(g.nombre+" "+g.apellido_paterno+" "+g.apellido_materno+" "+g.folio+" "+g.curp).toLowerCase().includes(Es.toLowerCase()),je=g.created_at?new Date(g.created_at).getFullYear().toString()===pl:!0;return $&&je}).map(g=>s.jsxs("tr",{className:`border-t ${m?"border-slate-700 hover:bg-slate-700/30":"border-slate-100 hover:bg-slate-50"} transition-colors`,children:[s.jsxs("td",{className:"p-4",children:[s.jsx("div",{className:"font-bold text-blue-600",children:g.folio}),s.jsx("div",{className:"text-xs text-slate-400",children:new Date(g.created_at).toLocaleDateString()})]}),s.jsxs("td",{className:"p-4",children:[s.jsxs("div",{className:"font-semibold",children:[g.nombre," ",g.apellido_paterno," ",g.apellido_materno]}),s.jsx("div",{className:"text-xs text-slate-400",children:g.curp})]}),s.jsxs("td",{className:"p-4 text-sm",children:[s.jsx("div",{className:"font-semibold",children:g.carrera_nombre}),g.segunda_opcion_carrera&&s.jsxs("div",{className:"text-xs opacity-60",children:["2: ",g.segunda_opcion_carrera]}),g.tercera_opcion_carrera&&s.jsxs("div",{className:"text-xs opacity-50",children:["3: ",g.tercera_opcion_carrera]})]}),s.jsx("td",{className:"p-4 font-bold text-center",children:g.promedio_general}),s.jsx("td",{className:"p-4 text-center",children:s.jsxs("div",{className:"flex items-center gap-2 justify-center",children:[s.jsxs("button",{onClick:()=>uo(g),className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 flex items-center gap-2",title:"Ver Ficha",children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"visibility"}),s.jsx("span",{className:"text-xs",children:"Ver"})]}),s.jsxs("button",{onClick:()=>Ls(g.id),className:"p-2 rounded-lg bg-red-50 text-red-600 hover:bg-red-100 flex items-center gap-2",title:"Eliminar",children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete"}),s.jsx("span",{className:"text-xs",children:"Eliminar"})]})]})})]},g.id)),ql.length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"p-10 text-center text-slate-400",children:"No hay pre-registros encontrados."})})]})]})})]})]})}),k==="access"&&s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${m?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"security"})," Acceso a la Pgina"]}),s.jsx("button",{type:"button",onClick:zo,className:`text-sm ${m?"text-blue-400":"text-blue-700"}`,children:"Actualizar"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:`p-5 rounded-2xl border ${m?"border-slate-700 bg-slate-900":"border-slate-200 bg-slate-50"}`,children:[s.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-4",children:[s.jsx("span",{className:"material-symbols-outlined text-green-500",children:"school"}),"Acceso de Alumnos"]}),s.jsx("p",{className:`text-sm mb-3 ${m?"text-slate-400":"text-slate-600"}`,children:"Solo los correos con este dominio podrn acceder al portal de alumnos."}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${m?"text-slate-300":"text-slate-700"}`,children:"Dominio de correo permitido"}),s.jsx("input",{type:"text",value:$a.alumno_domain,onChange:g=>cl({...$a,alumno_domain:g.target.value}),className:`w-full px-4 py-3 rounded-xl border ${m?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-300"}`,placeholder:"@cbta134.edu.mx"}),s.jsx("p",{className:`text-xs mt-2 ${m?"text-slate-500":"text-slate-400"}`,children:"Ejemplo: @cbta134.edu.mx (incluir el @)"})]})]}),s.jsxs("div",{className:`p-5 rounded-2xl border ${m?"border-slate-700 bg-slate-900":"border-slate-200 bg-slate-50"}`,children:[s.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-4",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-500",children:"admin_panel_settings"}),"Acceso de Maestros"]}),s.jsx("p",{className:`text-sm mb-3 ${m?"text-slate-400":"text-slate-600"}`,children:"Cdigo de seguridad requerido despus de iniciar sesin con Google."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${m?"text-slate-300":"text-slate-700"}`,children:"Usuario de seguridad"}),s.jsx("input",{type:"text",value:$a.maestro_user,onChange:g=>cl({...$a,maestro_user:g.target.value}),className:`w-full px-4 py-3 rounded-xl border ${m?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-300"}`,placeholder:"cbta"})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${m?"text-slate-300":"text-slate-700"}`,children:"Contrasea de seguridad"}),s.jsx("input",{type:"text",value:$a.maestro_password,onChange:g=>cl({...$a,maestro_password:g.target.value}),className:`w-full px-4 py-3 rounded-xl border ${m?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-300"}`,placeholder:"cbta134#pagina"})]})]}),s.jsx("p",{className:`text-xs mt-2 ${m?"text-slate-500":"text-slate-400"}`,children:"Los maestros debern ingresar estas credenciales despus de iniciar sesin con Google."})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:fi,disabled:hc,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50",children:hc?"Guardando...":"Guardar Configuracin"}),ul&&s.jsxs("span",{className:"text-green-500 font-medium flex items-center gap-1",children:[s.jsx("span",{className:"material-symbols-outlined",children:"check_circle"}),"Guardado correctamente"]})]}),$l&&s.jsxs("div",{className:`p-5 rounded-2xl border ${m?"border-slate-700 bg-slate-900":"border-slate-200 bg-slate-50"}`,children:[s.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-4",children:[s.jsx("span",{className:"material-symbols-outlined text-purple-500",children:"group_add"}),"Cuentas Permitidas del EduPanel"]}),s.jsx("p",{className:`text-sm mb-4 ${m?"text-slate-400":"text-slate-600"}`,children:"Solo las cuentas en esta lista pueden acceder al panel administrativo."}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("input",{type:"email",value:lo,onChange:g=>cc(g.target.value),className:`flex-1 px-4 py-3 rounded-xl border ${m?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-300"}`,placeholder:"correo@ejemplo.com"}),s.jsx("button",{onClick:Kc,disabled:uc||!lo.trim(),className:"px-4 py-3 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700 transition-colors disabled:opacity-50",children:uc?"...":"Agregar"})]}),s.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[Fo.map(g=>s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl ${m?"bg-slate-800":"bg-white"} border ${m?"border-slate-700":"border-slate-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400",children:g.is_master?"verified_user":"person"}),s.jsxs("div",{children:[s.jsx("p",{className:`font-medium ${m?"text-white":"text-slate-900"}`,children:g.email}),g.is_master&&s.jsx("span",{className:"text-xs text-purple-500 font-medium",children:"Cuenta Maestra"})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>Ua(g.id,g.email,g.is_master),className:`p-2 rounded-lg transition-colors ${g.is_master?"text-amber-500 hover:bg-amber-50":"text-purple-500 hover:bg-purple-50"}`,title:g.is_master?"Quitar rol de maestra":"Hacer cuenta maestra",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:g.is_master?"remove_moderator":"add_moderator"})}),s.jsx("button",{onClick:()=>Ps(g.id,g.email,g.is_master),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar cuenta",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete"})})]})]},g.id)),Fo.length===0&&s.jsx("p",{className:`text-sm text-center py-4 ${m?"text-slate-500":"text-slate-400"}`,children:"No hay cuentas configuradas."})]})]})]})]})]})]}),s.jsx("button",{onClick:()=>de(!0),className:"lg:hidden fixed bottom-6 right-6 w-14 h-14 bg-blue-800 text-white rounded-full shadow-2xl z-50 flex items-center justify-center active:scale-90 transition-transform",children:s.jsx("span",{className:"material-symbols-outlined",children:"add"})}),sn&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:`w-full max-w-md rounded-3xl shadow-2xl ${m?"bg-slate-800":"bg-white"}`,children:[s.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${m?"border-slate-700":"border-slate-100"}`,children:[s.jsx("h2",{className:"text-xl font-bold",children:"Editar Alumno"}),s.jsx("button",{onClick:()=>la(null),className:`p-2 rounded-xl ${m?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:s.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),s.jsxs("form",{onSubmit:Eu,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-semibold mb-2 ${m?"text-slate-300":"text-slate-700"}`,children:"Nombre(s):"}),s.jsx("input",{value:sn.nombre,onChange:g=>la({...sn,nombre:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-semibold mb-2 ${m?"text-slate-300":"text-slate-700"}`,children:"Apellidos:"}),s.jsx("input",{value:sn.apellidos,onChange:g=>la({...sn,apellidos:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-semibold mb-2 ${m?"text-slate-300":"text-slate-700"}`,children:"Correo:"}),s.jsx("input",{type:"email",value:sn.email||"",onChange:g=>la({...sn,email:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-semibold mb-2 ${m?"text-slate-300":"text-slate-700"}`,children:"No. Control (14 dgitos):"}),s.jsx("input",{value:sn.numero_control||"",maxLength:14,onChange:g=>{const $=g.target.value.replace(/[^0-9]/g,"");la({...sn,numero_control:$})},className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-semibold mb-2 ${m?"text-slate-300":"text-slate-700"}`,children:"CURP:"}),s.jsx("input",{value:sn.curp,onChange:g=>la({...sn,curp:g.target.value}),className:`w-full p-3 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsx("button",{type:"submit",className:"w-full py-3 bg-blue-800 text-white font-bold rounded-xl hover:opacity-90 transition-opacity",children:" Guardar Cambios"})]})]})}),Ci&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:`w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-3xl shadow-2xl ${m?"bg-slate-800":"bg-white"}`,children:[s.jsxs("div",{className:`flex items-center justify-between p-6 border-b sticky top-0 ${m?"border-slate-700 bg-slate-800":"border-slate-100 bg-white"}`,children:[s.jsxs("h2",{className:"text-xl font-bold",children:["Calificaciones: ",Ci.nombre]}),s.jsx("button",{onClick:()=>dl(null),className:`p-2 rounded-xl ${m?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:s.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("label",{className:"font-semibold",children:"Semestre:"}),s.jsx("select",{value:Mo,onChange:g=>{const $=parseInt(g.target.value);hl($),I(Ci.id,$)},className:`px-4 py-2 rounded-xl border ${m?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,children:[1,2,3,4,5,6].map(g=>s.jsxs("option",{value:g,children:[g," Semestre"]},g))})]}),s.jsx("div",{className:`rounded-2xl overflow-hidden mb-6 ${m?"bg-slate-900":"bg-slate-50"}`,children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:m?"bg-slate-800":"bg-slate-100",children:[s.jsx("th",{className:"p-4 text-left font-semibold",children:"Materia"}),s.jsx("th",{className:"p-4 text-left font-semibold",children:"Tipo"}),s.jsx("th",{className:"p-4 text-center font-semibold",children:"P1"}),s.jsx("th",{className:"p-4 text-center font-semibold",children:"P2"}),s.jsx("th",{className:"p-4 text-center font-semibold",children:"P3"})]})}),s.jsx("tbody",{children:as.map(g=>s.jsxs("tr",{className:`border-t ${m?"border-slate-700":"border-slate-200"}`,children:[s.jsx("td",{className:"p-4",children:g.materia}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-bold text-white ${g.tipo_materia==="especialidad"?"bg-purple-500":"bg-blue-500"}`,children:g.tipo_materia==="especialidad"?"Especialidad":"Bsica"})}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("input",{type:"number",defaultValue:g.parcial1,onBlur:$=>q(g.id,"parcial1",$.target.value),className:`w-16 p-2 text-center rounded-lg border ${m?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200"}`})}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("input",{type:"number",defaultValue:g.parcial2,onBlur:$=>q(g.id,"parcial2",$.target.value),className:`w-16 p-2 text-center rounded-lg border ${m?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200"}`})}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("input",{type:"number",defaultValue:g.parcial3,onBlur:$=>q(g.id,"parcial3",$.target.value),className:`w-16 p-2 text-center rounded-lg border ${m?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200"}`})})]},g.id))})]})}),s.jsxs("div",{className:`p-6 rounded-2xl ${m?"bg-slate-900":"bg-green-50"}`,children:[s.jsx("h4",{className:`font-bold mb-4 ${m?"text-green-400":"text-green-700"}`,children:"Agregar Nueva Materia"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("input",{placeholder:"Nombre de la Materia",value:Vt.materia,onChange:g=>As({...Vt,materia:g.target.value}),className:`flex-1 p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`}),s.jsxs("select",{value:Vt.tipo,onChange:g=>As({...Vt,tipo:g.target.value}),className:`p-3 rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,children:[s.jsx("option",{value:"basica",children:"Tronco Comn"}),s.jsx("option",{value:"especialidad",children:"Especialidad"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[s.jsx("input",{type:"number",placeholder:"P1",value:Vt.parcial1,onChange:g=>As({...Vt,parcial1:g.target.value}),className:`w-20 p-3 text-center rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`}),s.jsx("input",{type:"number",placeholder:"P2",value:Vt.parcial2,onChange:g=>As({...Vt,parcial2:g.target.value}),className:`w-20 p-3 text-center rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`}),s.jsx("input",{type:"number",placeholder:"P3",value:Vt.parcial3,onChange:g=>As({...Vt,parcial3:g.target.value}),className:`w-20 p-3 text-center rounded-xl border ${m?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`}),s.jsx("button",{onClick:U,className:"px-6 py-3 bg-green-500 text-white font-bold rounded-xl hover:bg-green-600 transition-colors",children:"+ Agregar Materia"})]})]})]}),s.jsx("div",{className:`flex justify-end pt-6 border-t mt-6 ${m?"border-slate-700":"border-slate-200"}`,children:s.jsx("button",{onClick:()=>dl(null),className:"px-8 py-3 bg-blue-800 text-white font-bold rounded-xl hover:opacity-90 transition-opacity",children:" Guardar y Cerrar"})})]})]})}),ar&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:`w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-3xl shadow-2xl ${m?"bg-slate-800":"bg-white"}`,children:[s.jsxs("div",{className:`flex items-center justify-between p-6 border-b sticky top-0 z-10 ${m?"border-slate-700 bg-slate-800 text-white":"border-slate-100 bg-white"}`,children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold flex items-center gap-2",children:s.jsxs("span",{className:"text-blue-600",children:["Folio: ",ar.folio]})}),s.jsx("p",{className:"text-sm opacity-70",children:"Detalles del aspirante seleccionado"})]}),s.jsx("button",{onClick:()=>uo(null),className:`p-2 rounded-xl ${m?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:s.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),s.jsxs("div",{className:"p-8 space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-bold border-l-4 border-blue-600 pl-3 uppercase text-xs tracking-wider opacity-60",children:"Datos Personales"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Nombre:"})," ",ar.nombre," ",ar.apellido_paterno," ",ar.apellido_materno]}),s.jsxs("p",{children:[s.jsx("strong",{children:"CURP:"})," ",ar.curp]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Fecha Nacimiento:"})," ",ar.fecha_nacimiento]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Sexo:"})," ",ar.sexo]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-bold border-l-4 border-blue-600 pl-3 uppercase text-xs tracking-wider opacity-60",children:"Contacto"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",ar.correo]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Telfono:"})," ",ar.telefono]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Domicilio:"})," ",ar.domicilio,", Col. ",ar.colonia,", ",ar.municipio,", C.P. ",ar.codigo_postal]})]})]})]}),s.jsx("hr",{className:m?"border-slate-700":"border-slate-100"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-bold border-l-4 border-green-600 pl-3 uppercase text-xs tracking-wider opacity-60",children:"Educacin de Origen"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Escuela:"})," ",ar.escuela_nombre]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Municipio:"})," ",ar.escuela_municipio]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Promedio:"})," ",s.jsx("span",{className:"text-lg font-black text-green-600",children:ar.promedio_general})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-bold border-l-4 border-green-600 pl-3 uppercase text-xs tracking-wider opacity-60",children:"Opciones Acadmicas"}),s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-2xl border border-green-100 dark:border-green-800",children:[s.jsx("p",{className:"text-sm opacity-70 mb-1",children:" 1 Opcin de Carrera:"}),s.jsx("p",{className:"text-xl font-bold text-green-700 dark:text-green-400",children:ar.carrera_nombre})]}),ar.segunda_opcion_carrera&&s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-2xl border border-blue-100 dark:border-blue-800",children:[s.jsx("p",{className:"text-sm opacity-70 mb-1",children:" 2 Opcin de Carrera:"}),s.jsx("p",{className:"text-lg font-bold text-blue-700 dark:text-blue-400",children:ar.segunda_opcion_carrera})]}),ar.tercera_opcion_carrera&&s.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-2xl border border-purple-100 dark:border-purple-800",children:[s.jsx("p",{className:"text-sm opacity-70 mb-1",children:" 3 Opcin de Carrera:"}),s.jsx("p",{className:"text-lg font-bold text-purple-700 dark:text-purple-400",children:ar.tercera_opcion_carrera})]})]})]}),s.jsx("hr",{className:m?"border-slate-700":"border-slate-100"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-bold border-l-4 border-purple-600 pl-3 uppercase text-xs tracking-wider opacity-60",children:"Datos del Padre/Madre o Tutor"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs opacity-60 mb-1",children:"Nombre Completo"}),s.jsx("p",{className:"font-bold",children:ar.tutor_nombre})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs opacity-60 mb-1",children:"CURP"}),s.jsx("p",{className:"font-bold",children:ar.tutor_curp})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs opacity-60 mb-1",children:"Parentesco / Telfono"}),s.jsxs("p",{className:"font-bold",children:[ar.tutor_parentesco," | ",ar.tutor_telefono]})]})]})]}),s.jsxs("div",{className:`p-6 rounded-[2rem] flex flex-col md:flex-row items-center justify-between gap-6 ${m?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"text-xs font-bold opacity-60 w-full mb-2",children:"Cambiar estado de la solicitud:"}),["Pendiente","Revisin","Aceptado","Rechazado"].map(g=>s.jsx("button",{onClick:()=>xd(ar.id,g),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${ar.estado_registro===g?"bg-blue-600 text-white shadow-lg":m?"bg-slate-800 text-slate-400":"bg-white text-slate-600 border border-slate-200"}`,children:g},g))]}),s.jsxs("button",{onClick:()=>Ls(ar.id),className:"px-6 py-3 rounded-xl bg-red-50 text-red-600 font-bold hover:bg-red-600 hover:text-white transition-all flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined",children:"delete"})," Eliminar Registro"]})]})]})]})}),s.jsx(k3,{isOpen:J,onClose:()=>{de(!1),K(null)},onClubAdded:pe,clubToEdit:O}),s.jsx(C3,{isOpen:T,onClose:()=>{D(!1),ie(null)},onCareerAdded:V,careerToEdit:z})]}):s.jsx("div",{className:`min-h-screen flex items-center justify-center ${m?"bg-slate-900":"bg-slate-100"}`,children:s.jsxs("div",{className:`p-8 rounded-3xl shadow-xl max-w-md w-full mx-4 ${m?"bg-slate-800":"bg-white"}`,children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"bg-blue-800 p-3 rounded-2xl inline-block mb-4",children:s.jsx("span",{className:"material-symbols-outlined text-white text-3xl",children:"school"})}),s.jsx("h2",{className:`text-2xl font-bold ${m?"text-white":"text-slate-900"}`,children:"Acceso Administrativo"}),s.jsx("p",{className:`mt-2 ${m?"text-slate-400":"text-slate-500"}`,children:"Inicia sesin para gestionar alumnos y publicaciones."})]}),s.jsxs("button",{onClick:kr,className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-white border border-slate-200 rounded-2xl hover:bg-slate-50 transition-all shadow-sm",children:[s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg",alt:"Google",className:"w-6 h-6"}),s.jsx("span",{className:"font-semibold text-slate-700",children:"Entrar como Maestro"})]}),s.jsx("button",{onClick:()=>t("/maestros"),className:"w-full mt-4 py-3 text-slate-500 hover:text-slate-700 transition-colors font-medium",children:" Regresar"})]})})},E3="modulepreload",L3=function(t){return"/"+t},eb={},Lp=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=Promise.allSettled(r.map(h=>{if(h=L3(h),h in eb)return;eb[h]=!0;const f=h.endsWith(".css"),x=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${x}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":E3,f||(m.as="script"),m.crossOrigin="",m.href=h,u&&m.setAttribute("nonce",u),document.head.appendChild(m),f)return new Promise((j,y)=>{m.addEventListener("load",j),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${h}`)))})}))}function o(c){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=c,window.dispatchEvent(u),!u.defaultPrevented)throw c}return a.then(c=>{for(const u of c||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};function Kr(t){"@babel/helpers - typeof";return Kr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kr(t)}var nl=Uint8Array,Us=Uint16Array,am=Int32Array,sm=new nl([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),om=new nl([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tb=new nl([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),gx=function(t,e){for(var r=new Us(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new am(r[30]),n=1;n<30;++n)for(var o=r[n];o<r[n+1];++o)a[o]=o-r[n]<<5|n;return{b:r,r:a}},bx=gx(sm,2),P3=bx.b,C0=bx.r;P3[28]=258,C0[258]=28;var T3=gx(om,0),rb=T3.r,A0=new Us(32768);for(var jn=0;jn<32768;++jn){var Lc=(jn&43690)>>1|(jn&21845)<<1;Lc=(Lc&52428)>>2|(Lc&13107)<<2,Lc=(Lc&61680)>>4|(Lc&3855)<<4,A0[jn]=((Lc&65280)>>8|(Lc&255)<<8)>>1}var Md=function(t,e,r){for(var n=t.length,a=0,o=new Us(e);a<n;++a)t[a]&&++o[t[a]-1];var c=new Us(e);for(a=1;a<e;++a)c[a]=c[a-1]+o[a-1]<<1;var u;if(r){u=new Us(1<<e);var h=15-e;for(a=0;a<n;++a)if(t[a])for(var f=a<<4|t[a],x=e-t[a],m=c[t[a]-1]++<<x,j=m|(1<<x)-1;m<=j;++m)u[A0[m]>>h]=f}else for(u=new Us(n),a=0;a<n;++a)t[a]&&(u[a]=A0[c[t[a]-1]++]>>15-t[a]);return u},vu=new nl(288);for(var jn=0;jn<144;++jn)vu[jn]=8;for(var jn=144;jn<256;++jn)vu[jn]=9;for(var jn=256;jn<280;++jn)vu[jn]=7;for(var jn=280;jn<288;++jn)vu[jn]=8;var gf=new nl(32);for(var jn=0;jn<32;++jn)gf[jn]=5;var R3=Md(vu,9,0),I3=Md(gf,5,0),xx=function(t){return(t+7)/8|0},O3=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new nl(t.subarray(e,r))},Yl=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Td=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Pp=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,o=r.slice();if(!a)return{t:yx,l:0};if(a==1){var c=new nl(r[0].s+1);return c[r[0].s]=1,{t:c,l:1}}r.sort(function(z,ie){return z.f-ie.f}),r.push({s:-1,f:25001});var u=r[0],h=r[1],f=0,x=1,m=2;for(r[0]={s:-1,f:u.f+h.f,l:u,r:h};x!=a-1;)u=r[r[f].f<r[m].f?f++:m++],h=r[f!=x&&r[f].f<r[m].f?f++:m++],r[x++]={s:-1,f:u.f+h.f,l:u,r:h};for(var j=o[0].s,n=1;n<a;++n)o[n].s>j&&(j=o[n].s);var y=new Us(j+1),C=E0(r[x-1],y,0);if(C>e){var n=0,k=0,L=C-e,E=1<<L;for(o.sort(function(ie,se){return y[se.s]-y[ie.s]||ie.f-se.f});n<a;++n){var B=o[n].s;if(y[B]>e)k+=E-(1<<C-y[B]),y[B]=e;else break}for(k>>=L;k>0;){var T=o[n].s;y[T]<e?k-=1<<e-y[T]++-1:++n}for(;n>=0&&k;--n){var D=o[n].s;y[D]==e&&(--y[D],++k)}C=e}return{t:new nl(y),l:C}},E0=function(t,e,r){return t.s==-1?Math.max(E0(t.l,e,r+1),E0(t.r,e,r+1)):e[t.s]=r},nb=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Us(++e),n=0,a=t[0],o=1,c=function(h){r[n++]=h},u=1;u<=e;++u)if(t[u]==a&&u!=e)++o;else{if(!a&&o>2){for(;o>138;o-=138)c(32754);o>2&&(c(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(c(a),--o;o>6;o-=6)c(8304);o>2&&(c(o-3<<5|8208),o=0)}for(;o--;)c(a);o=1,a=t[u]}return{c:r.subarray(0,n),n:e}},Rd=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},vx=function(t,e,r){var n=r.length,a=xx(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var o=0;o<n;++o)t[a+o+4]=r[o];return(a+4+n)*8},ib=function(t,e,r,n,a,o,c,u,h,f,x){Yl(e,x++,r),++a[256];for(var m=Pp(a,15),j=m.t,y=m.l,C=Pp(o,15),k=C.t,L=C.l,E=nb(j),B=E.c,T=E.n,D=nb(k),z=D.c,ie=D.n,se=new Us(19),Q=0;Q<B.length;++Q)++se[B[Q]&31];for(var Q=0;Q<z.length;++Q)++se[z[Q]&31];for(var J=Pp(se,7),de=J.t,O=J.l,K=19;K>4&&!de[tb[K-1]];--K);var ae=f+5<<3,ce=Rd(a,vu)+Rd(o,gf)+c,we=Rd(a,j)+Rd(o,k)+c+14+3*K+Rd(se,de)+2*se[16]+3*se[17]+7*se[18];if(h>=0&&ae<=ce&&ae<=we)return vx(e,x,t.subarray(h,h+f));var Ae,ve,H,he;if(Yl(e,x,1+(we<ce)),x+=2,we<ce){Ae=Md(j,y,0),ve=j,H=Md(k,L,0),he=k;var xe=Md(de,O,0);Yl(e,x,T-257),Yl(e,x+5,ie-1),Yl(e,x+10,K-4),x+=14;for(var Q=0;Q<K;++Q)Yl(e,x+3*Q,de[tb[Q]]);x+=3*K;for(var X=[B,z],P=0;P<2;++P)for(var Y=X[P],Q=0;Q<Y.length;++Q){var W=Y[Q]&31;Yl(e,x,xe[W]),x+=de[W],W>15&&(Yl(e,x,Y[Q]>>5&127),x+=Y[Q]>>12)}}else Ae=R3,ve=vu,H=I3,he=gf;for(var Q=0;Q<u;++Q){var ne=n[Q];if(ne>255){var W=ne>>18&31;Td(e,x,Ae[W+257]),x+=ve[W+257],W>7&&(Yl(e,x,ne>>23&31),x+=sm[W]);var le=ne&31;Td(e,x,H[le]),x+=he[le],le>3&&(Td(e,x,ne>>5&8191),x+=om[le])}else Td(e,x,Ae[ne]),x+=ve[ne]}return Td(e,x,Ae[256]),x+ve[256]},D3=new am([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),yx=new nl(0),F3=function(t,e,r,n,a,o){var c=o.z||t.length,u=new nl(n+c+5*(1+Math.ceil(c/7e3))+a),h=u.subarray(n,u.length-a),f=o.l,x=(o.r||0)&7;if(e){x&&(h[0]=o.r>>3);for(var m=D3[e-1],j=m>>13,y=m&8191,C=(1<<r)-1,k=o.p||new Us(32768),L=o.h||new Us(C+1),E=Math.ceil(r/3),B=2*E,T=function(vt){return(t[vt]^t[vt+1]<<E^t[vt+2]<<B)&C},D=new am(25e3),z=new Us(288),ie=new Us(32),se=0,Q=0,J=o.i||0,de=0,O=o.w||0,K=0;J+2<c;++J){var ae=T(J),ce=J&32767,we=L[ae];if(k[ce]=we,L[ae]=ce,O<=J){var Ae=c-J;if((se>7e3||de>24576)&&(Ae>423||!f)){x=ib(t,h,0,D,z,ie,Q,de,K,J-K,x),de=se=Q=0,K=J;for(var ve=0;ve<286;++ve)z[ve]=0;for(var ve=0;ve<30;++ve)ie[ve]=0}var H=2,he=0,xe=y,X=ce-we&32767;if(Ae>2&&ae==T(J-X))for(var P=Math.min(j,Ae)-1,Y=Math.min(32767,J),W=Math.min(258,Ae);X<=Y&&--xe&&ce!=we;){if(t[J+H]==t[J+H-X]){for(var ne=0;ne<W&&t[J+ne]==t[J+ne-X];++ne);if(ne>H){if(H=ne,he=X,ne>P)break;for(var le=Math.min(X,ne-2),me=0,ve=0;ve<le;++ve){var Se=J-X+ve&32767,Ee=k[Se],Fe=Se-Ee&32767;Fe>me&&(me=Fe,we=Se)}}}ce=we,we=k[ce],X+=ce-we&32767}if(he){D[de++]=268435456|C0[H]<<18|rb[he];var We=C0[H]&31,et=rb[he]&31;Q+=sm[We]+om[et],++z[257+We],++ie[et],O=J+H,++se}else D[de++]=t[J],++z[t[J]]}}for(J=Math.max(J,O);J<c;++J)D[de++]=t[J],++z[t[J]];x=ib(t,h,f,D,z,ie,Q,de,K,J-K,x),f||(o.r=x&7|h[x/8|0]<<3,x-=7,o.h=L,o.p=k,o.i=J,o.w=O)}else{for(var J=o.w||0;J<c+f;J+=65535){var tt=J+65535;tt>=c&&(h[x/8|0]=f,tt=c),x=vx(h,x+1,t.subarray(J,tt))}o.i=c}return O3(u,0,n+xx(x)+a)},wx=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,o=r.length|0,c=0;c!=o;){for(var u=Math.min(c+2655,o);c<u;++c)a+=n+=r[c];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},B3=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),c=new nl(o.length+t.length);c.set(o),c.set(t,o.length),t=c,a.w=o.length}return F3(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},_x=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},$3=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=wx();a.p(e.dictionary),_x(t,2,a.d())}};function L0(t,e){e||(e={});var r=wx();r.p(t);var n=B3(t,e,e.dictionary?6:2,4);return $3(n,e),_x(n,n.length-4,r.d()),n}var M3=typeof TextDecoder<"u"&&new TextDecoder,q3=0;try{M3.decode(yx,{stream:!0}),q3=1}catch{}function U3(t){if(Array.isArray(t))return t}function z3(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,o,c,u=[],h=!0,f=!1;try{if(o=(r=r.call(t)).next,e!==0)for(;!(h=(n=o.call(r)).done)&&(u.push(n.value),u.length!==e);h=!0);}catch(x){f=!0,a=x}finally{try{if(!h&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(f)throw a}}return u}}function ab(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function H3(t,e){if(t){if(typeof t=="string")return ab(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ab(t,e):void 0}}function W3(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sb(t,e){return U3(t)||z3(t,e)||H3(t,e)||W3()}function ob(t,e="utf8"){return new TextDecoder(e).decode(t)}const V3=new TextEncoder;function G3(t){return V3.encode(t)}const K3=1024*8,J3=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),Tp={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class lm{constructor(e=K3,r={}){Gr(this,"buffer");Gr(this,"byteLength");Gr(this,"byteOffset");Gr(this,"length");Gr(this,"offset");Gr(this,"lastWrittenByte");Gr(this,"littleEndian");Gr(this,"_data");Gr(this,"_mark");Gr(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,o=e.byteLength-a;let c=a;(ArrayBuffer.isView(e)||e instanceof lm)&&(e.byteLength!==e.buffer.byteLength&&(c=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=o:this.lastWrittenByte=0,this.buffer=e,this.length=o,this.byteLength=o,this.byteOffset=c,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,c,o),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=Tp[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,o=this.buffer.slice(a,a+n);if(this.littleEndian===J3&&r!=="uint8"&&r!=="int8"){const u=new Uint8Array(this.buffer.slice(a,a+n));u.reverse();const h=new Tp[r](u.buffer);return this.offset+=n,h.reverse(),h}const c=new Tp[r](o);return this.offset+=n,c}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return ob(this.readBytes(e))}decodeText(e=1,r="utf8"){return ob(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(G3(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const Y3=4,lb=0,cb=1,X3=2;function fd(t){let e=t.length;for(;--e>=0;)t[e]=0}const Z3=0,jx=1,Q3=2,ej=3,tj=258,cm=29,uh=256,Zd=uh+1+cm,nd=30,um=19,Sx=2*Zd+1,pu=15,Rp=16,rj=7,dm=256,Nx=16,kx=17,Cx=18,P0=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),rf=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),nj=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Ax=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ij=512,Ql=new Array((Zd+2)*2);fd(Ql);const qd=new Array(nd*2);fd(qd);const Qd=new Array(ij);fd(Qd);const eh=new Array(tj-ej+1);fd(eh);const hm=new Array(cm);fd(hm);const bf=new Array(nd);fd(bf);function Ip(t,e,r,n,a){this.static_tree=t,this.extra_bits=e,this.extra_base=r,this.elems=n,this.max_length=a,this.has_stree=t&&t.length}let Ex,Lx,Px;function Op(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}const Tx=t=>t<256?Qd[t]:Qd[256+(t>>>7)],th=(t,e)=>{t.pending_buf[t.pending++]=e&255,t.pending_buf[t.pending++]=e>>>8&255},bs=(t,e,r)=>{t.bi_valid>Rp-r?(t.bi_buf|=e<<t.bi_valid&65535,th(t,t.bi_buf),t.bi_buf=e>>Rp-t.bi_valid,t.bi_valid+=r-Rp):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=r)},El=(t,e,r)=>{bs(t,r[e*2],r[e*2+1])},Rx=(t,e)=>{let r=0;do r|=t&1,t>>>=1,r<<=1;while(--e>0);return r>>>1},aj=t=>{t.bi_valid===16?(th(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=t.bi_buf&255,t.bi_buf>>=8,t.bi_valid-=8)},sj=(t,e)=>{const r=e.dyn_tree,n=e.max_code,a=e.stat_desc.static_tree,o=e.stat_desc.has_stree,c=e.stat_desc.extra_bits,u=e.stat_desc.extra_base,h=e.stat_desc.max_length;let f,x,m,j,y,C,k=0;for(j=0;j<=pu;j++)t.bl_count[j]=0;for(r[t.heap[t.heap_max]*2+1]=0,f=t.heap_max+1;f<Sx;f++)x=t.heap[f],j=r[r[x*2+1]*2+1]+1,j>h&&(j=h,k++),r[x*2+1]=j,!(x>n)&&(t.bl_count[j]++,y=0,x>=u&&(y=c[x-u]),C=r[x*2],t.opt_len+=C*(j+y),o&&(t.static_len+=C*(a[x*2+1]+y)));if(k!==0){do{for(j=h-1;t.bl_count[j]===0;)j--;t.bl_count[j]--,t.bl_count[j+1]+=2,t.bl_count[h]--,k-=2}while(k>0);for(j=h;j!==0;j--)for(x=t.bl_count[j];x!==0;)m=t.heap[--f],!(m>n)&&(r[m*2+1]!==j&&(t.opt_len+=(j-r[m*2+1])*r[m*2],r[m*2+1]=j),x--)}},Ix=(t,e,r)=>{const n=new Array(pu+1);let a=0,o,c;for(o=1;o<=pu;o++)a=a+r[o-1]<<1,n[o]=a;for(c=0;c<=e;c++){let u=t[c*2+1];u!==0&&(t[c*2]=Rx(n[u]++,u))}},oj=()=>{let t,e,r,n,a;const o=new Array(pu+1);for(r=0,n=0;n<cm-1;n++)for(hm[n]=r,t=0;t<1<<P0[n];t++)eh[r++]=n;for(eh[r-1]=n,a=0,n=0;n<16;n++)for(bf[n]=a,t=0;t<1<<rf[n];t++)Qd[a++]=n;for(a>>=7;n<nd;n++)for(bf[n]=a<<7,t=0;t<1<<rf[n]-7;t++)Qd[256+a++]=n;for(e=0;e<=pu;e++)o[e]=0;for(t=0;t<=143;)Ql[t*2+1]=8,t++,o[8]++;for(;t<=255;)Ql[t*2+1]=9,t++,o[9]++;for(;t<=279;)Ql[t*2+1]=7,t++,o[7]++;for(;t<=287;)Ql[t*2+1]=8,t++,o[8]++;for(Ix(Ql,Zd+1,o),t=0;t<nd;t++)qd[t*2+1]=5,qd[t*2]=Rx(t,5);Ex=new Ip(Ql,P0,uh+1,Zd,pu),Lx=new Ip(qd,rf,0,nd,pu),Px=new Ip(new Array(0),nj,0,um,rj)},Ox=t=>{let e;for(e=0;e<Zd;e++)t.dyn_ltree[e*2]=0;for(e=0;e<nd;e++)t.dyn_dtree[e*2]=0;for(e=0;e<um;e++)t.bl_tree[e*2]=0;t.dyn_ltree[dm*2]=1,t.opt_len=t.static_len=0,t.sym_next=t.matches=0},Dx=t=>{t.bi_valid>8?th(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},ub=(t,e,r,n)=>{const a=e*2,o=r*2;return t[a]<t[o]||t[a]===t[o]&&n[e]<=n[r]},Dp=(t,e,r)=>{const n=t.heap[r];let a=r<<1;for(;a<=t.heap_len&&(a<t.heap_len&&ub(e,t.heap[a+1],t.heap[a],t.depth)&&a++,!ub(e,n,t.heap[a],t.depth));)t.heap[r]=t.heap[a],r=a,a<<=1;t.heap[r]=n},db=(t,e,r)=>{let n,a,o=0,c,u;if(t.sym_next!==0)do n=t.pending_buf[t.sym_buf+o++]&255,n+=(t.pending_buf[t.sym_buf+o++]&255)<<8,a=t.pending_buf[t.sym_buf+o++],n===0?El(t,a,e):(c=eh[a],El(t,c+uh+1,e),u=P0[c],u!==0&&(a-=hm[c],bs(t,a,u)),n--,c=Tx(n),El(t,c,r),u=rf[c],u!==0&&(n-=bf[c],bs(t,n,u)));while(o<t.sym_next);El(t,dm,e)},T0=(t,e)=>{const r=e.dyn_tree,n=e.stat_desc.static_tree,a=e.stat_desc.has_stree,o=e.stat_desc.elems;let c,u,h=-1,f;for(t.heap_len=0,t.heap_max=Sx,c=0;c<o;c++)r[c*2]!==0?(t.heap[++t.heap_len]=h=c,t.depth[c]=0):r[c*2+1]=0;for(;t.heap_len<2;)f=t.heap[++t.heap_len]=h<2?++h:0,r[f*2]=1,t.depth[f]=0,t.opt_len--,a&&(t.static_len-=n[f*2+1]);for(e.max_code=h,c=t.heap_len>>1;c>=1;c--)Dp(t,r,c);f=o;do c=t.heap[1],t.heap[1]=t.heap[t.heap_len--],Dp(t,r,1),u=t.heap[1],t.heap[--t.heap_max]=c,t.heap[--t.heap_max]=u,r[f*2]=r[c*2]+r[u*2],t.depth[f]=(t.depth[c]>=t.depth[u]?t.depth[c]:t.depth[u])+1,r[c*2+1]=r[u*2+1]=f,t.heap[1]=f++,Dp(t,r,1);while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],sj(t,e),Ix(r,h,t.bl_count)},hb=(t,e,r)=>{let n,a=-1,o,c=e[0*2+1],u=0,h=7,f=4;for(c===0&&(h=138,f=3),e[(r+1)*2+1]=65535,n=0;n<=r;n++)o=c,c=e[(n+1)*2+1],!(++u<h&&o===c)&&(u<f?t.bl_tree[o*2]+=u:o!==0?(o!==a&&t.bl_tree[o*2]++,t.bl_tree[Nx*2]++):u<=10?t.bl_tree[kx*2]++:t.bl_tree[Cx*2]++,u=0,a=o,c===0?(h=138,f=3):o===c?(h=6,f=3):(h=7,f=4))},fb=(t,e,r)=>{let n,a=-1,o,c=e[0*2+1],u=0,h=7,f=4;for(c===0&&(h=138,f=3),n=0;n<=r;n++)if(o=c,c=e[(n+1)*2+1],!(++u<h&&o===c)){if(u<f)do El(t,o,t.bl_tree);while(--u!==0);else o!==0?(o!==a&&(El(t,o,t.bl_tree),u--),El(t,Nx,t.bl_tree),bs(t,u-3,2)):u<=10?(El(t,kx,t.bl_tree),bs(t,u-3,3)):(El(t,Cx,t.bl_tree),bs(t,u-11,7));u=0,a=o,c===0?(h=138,f=3):o===c?(h=6,f=3):(h=7,f=4)}},lj=t=>{let e;for(hb(t,t.dyn_ltree,t.l_desc.max_code),hb(t,t.dyn_dtree,t.d_desc.max_code),T0(t,t.bl_desc),e=um-1;e>=3&&t.bl_tree[Ax[e]*2+1]===0;e--);return t.opt_len+=3*(e+1)+5+5+4,e},cj=(t,e,r,n)=>{let a;for(bs(t,e-257,5),bs(t,r-1,5),bs(t,n-4,4),a=0;a<n;a++)bs(t,t.bl_tree[Ax[a]*2+1],3);fb(t,t.dyn_ltree,e-1),fb(t,t.dyn_dtree,r-1)},uj=t=>{let e=4093624447,r;for(r=0;r<=31;r++,e>>>=1)if(e&1&&t.dyn_ltree[r*2]!==0)return lb;if(t.dyn_ltree[9*2]!==0||t.dyn_ltree[10*2]!==0||t.dyn_ltree[13*2]!==0)return cb;for(r=32;r<uh;r++)if(t.dyn_ltree[r*2]!==0)return cb;return lb};let pb=!1;const dj=t=>{pb||(oj(),pb=!0),t.l_desc=new Op(t.dyn_ltree,Ex),t.d_desc=new Op(t.dyn_dtree,Lx),t.bl_desc=new Op(t.bl_tree,Px),t.bi_buf=0,t.bi_valid=0,Ox(t)},Fx=(t,e,r,n)=>{bs(t,(Z3<<1)+(n?1:0),3),Dx(t),th(t,r),th(t,~r),r&&t.pending_buf.set(t.window.subarray(e,e+r),t.pending),t.pending+=r},hj=t=>{bs(t,jx<<1,3),El(t,dm,Ql),aj(t)},fj=(t,e,r,n)=>{let a,o,c=0;t.level>0?(t.strm.data_type===X3&&(t.strm.data_type=uj(t)),T0(t,t.l_desc),T0(t,t.d_desc),c=lj(t),a=t.opt_len+3+7>>>3,o=t.static_len+3+7>>>3,o<=a&&(a=o)):a=o=r+5,r+4<=a&&e!==-1?Fx(t,e,r,n):t.strategy===Y3||o===a?(bs(t,(jx<<1)+(n?1:0),3),db(t,Ql,qd)):(bs(t,(Q3<<1)+(n?1:0),3),cj(t,t.l_desc.max_code+1,t.d_desc.max_code+1,c+1),db(t,t.dyn_ltree,t.dyn_dtree)),Ox(t),n&&Dx(t)},pj=(t,e,r)=>(t.pending_buf[t.sym_buf+t.sym_next++]=e,t.pending_buf[t.sym_buf+t.sym_next++]=e>>8,t.pending_buf[t.sym_buf+t.sym_next++]=r,e===0?t.dyn_ltree[r*2]++:(t.matches++,e--,t.dyn_ltree[(eh[r]+uh+1)*2]++,t.dyn_dtree[Tx(e)*2]++),t.sym_next===t.sym_end);var mj=dj,gj=Fx,bj=fj,xj=pj,vj=hj,yj={_tr_init:mj,_tr_stored_block:gj,_tr_flush_block:bj,_tr_tally:xj,_tr_align:vj};const wj=(t,e,r,n)=>{let a=t&65535|0,o=t>>>16&65535|0,c=0;for(;r!==0;){c=r>2e3?2e3:r,r-=c;do a=a+e[n++]|0,o=o+a|0;while(--c);a%=65521,o%=65521}return a|o<<16|0};var rh=wj;const _j=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},jj=new Uint32Array(_j()),Sj=(t,e,r,n)=>{const a=jj,o=n+r;t^=-1;for(let c=n;c<o;c++)t=t>>>8^a[(t^e[c])&255];return t^-1};var Gi=Sj,cd={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},dh={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Nj,_tr_stored_block:R0,_tr_flush_block:kj,_tr_tally:Fc,_tr_align:Cj}=yj,{Z_NO_FLUSH:Bc,Z_PARTIAL_FLUSH:Aj,Z_FULL_FLUSH:Ej,Z_FINISH:bo,Z_BLOCK:mb,Z_OK:ba,Z_STREAM_END:gb,Z_STREAM_ERROR:Pl,Z_DATA_ERROR:Lj,Z_BUF_ERROR:Fp,Z_DEFAULT_COMPRESSION:Pj,Z_FILTERED:Tj,Z_HUFFMAN_ONLY:Wh,Z_RLE:Rj,Z_FIXED:Ij,Z_DEFAULT_STRATEGY:Oj,Z_UNKNOWN:Dj,Z_DEFLATED:Lf}=dh,Fj=9,Bj=15,$j=8,Mj=29,qj=256,I0=qj+1+Mj,Uj=30,zj=19,Hj=2*I0+1,Wj=15,jr=3,Oc=258,Tl=Oc+jr+1,Vj=32,ud=42,fm=57,O0=69,D0=73,F0=91,B0=103,mu=113,Dd=666,Va=1,pd=2,yu=3,md=4,Gj=3,gu=(t,e)=>(t.msg=cd[e],e),bb=t=>t*2-(t>4?9:0),Ic=t=>{let e=t.length;for(;--e>=0;)t[e]=0},Kj=t=>{let e,r,n,a=t.w_size;e=t.hash_size,n=e;do r=t.head[--n],t.head[n]=r>=a?r-a:0;while(--e);e=a,n=e;do r=t.prev[--n],t.prev[n]=r>=a?r-a:0;while(--e)};let Jj=(t,e,r)=>(e<<t.hash_shift^r)&t.hash_mask,$c=Jj;const $s=t=>{const e=t.state;let r=e.pending;r>t.avail_out&&(r=t.avail_out),r!==0&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+r),t.next_out),t.next_out+=r,e.pending_out+=r,t.total_out+=r,t.avail_out-=r,e.pending-=r,e.pending===0&&(e.pending_out=0))},zs=(t,e)=>{kj(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,$s(t.strm)},Mr=(t,e)=>{t.pending_buf[t.pending++]=e},Id=(t,e)=>{t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=e&255},$0=(t,e,r,n)=>{let a=t.avail_in;return a>n&&(a=n),a===0?0:(t.avail_in-=a,e.set(t.input.subarray(t.next_in,t.next_in+a),r),t.state.wrap===1?t.adler=rh(t.adler,e,a,r):t.state.wrap===2&&(t.adler=Gi(t.adler,e,a,r)),t.next_in+=a,t.total_in+=a,a)},Bx=(t,e)=>{let r=t.max_chain_length,n=t.strstart,a,o,c=t.prev_length,u=t.nice_match;const h=t.strstart>t.w_size-Tl?t.strstart-(t.w_size-Tl):0,f=t.window,x=t.w_mask,m=t.prev,j=t.strstart+Oc;let y=f[n+c-1],C=f[n+c];t.prev_length>=t.good_match&&(r>>=2),u>t.lookahead&&(u=t.lookahead);do if(a=e,!(f[a+c]!==C||f[a+c-1]!==y||f[a]!==f[n]||f[++a]!==f[n+1])){n+=2,a++;do;while(f[++n]===f[++a]&&f[++n]===f[++a]&&f[++n]===f[++a]&&f[++n]===f[++a]&&f[++n]===f[++a]&&f[++n]===f[++a]&&f[++n]===f[++a]&&f[++n]===f[++a]&&n<j);if(o=Oc-(j-n),n=j-Oc,o>c){if(t.match_start=e,c=o,o>=u)break;y=f[n+c-1],C=f[n+c]}}while((e=m[e&x])>h&&--r!==0);return c<=t.lookahead?c:t.lookahead},dd=t=>{const e=t.w_size;let r,n,a;do{if(n=t.window_size-t.lookahead-t.strstart,t.strstart>=e+(e-Tl)&&(t.window.set(t.window.subarray(e,e+e-n),0),t.match_start-=e,t.strstart-=e,t.block_start-=e,t.insert>t.strstart&&(t.insert=t.strstart),Kj(t),n+=e),t.strm.avail_in===0)break;if(r=$0(t.strm,t.window,t.strstart+t.lookahead,n),t.lookahead+=r,t.lookahead+t.insert>=jr)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=$c(t,t.ins_h,t.window[a+1]);t.insert&&(t.ins_h=$c(t,t.ins_h,t.window[a+jr-1]),t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<jr)););}while(t.lookahead<Tl&&t.strm.avail_in!==0)},$x=(t,e)=>{let r=t.pending_buf_size-5>t.w_size?t.w_size:t.pending_buf_size-5,n,a,o,c=0,u=t.strm.avail_in;do{if(n=65535,o=t.bi_valid+42>>3,t.strm.avail_out<o||(o=t.strm.avail_out-o,a=t.strstart-t.block_start,n>a+t.strm.avail_in&&(n=a+t.strm.avail_in),n>o&&(n=o),n<r&&(n===0&&e!==bo||e===Bc||n!==a+t.strm.avail_in)))break;c=e===bo&&n===a+t.strm.avail_in?1:0,R0(t,0,0,c),t.pending_buf[t.pending-4]=n,t.pending_buf[t.pending-3]=n>>8,t.pending_buf[t.pending-2]=~n,t.pending_buf[t.pending-1]=~n>>8,$s(t.strm),a&&(a>n&&(a=n),t.strm.output.set(t.window.subarray(t.block_start,t.block_start+a),t.strm.next_out),t.strm.next_out+=a,t.strm.avail_out-=a,t.strm.total_out+=a,t.block_start+=a,n-=a),n&&($0(t.strm,t.strm.output,t.strm.next_out,n),t.strm.next_out+=n,t.strm.avail_out-=n,t.strm.total_out+=n)}while(c===0);return u-=t.strm.avail_in,u&&(u>=t.w_size?(t.matches=2,t.window.set(t.strm.input.subarray(t.strm.next_in-t.w_size,t.strm.next_in),0),t.strstart=t.w_size,t.insert=t.strstart):(t.window_size-t.strstart<=u&&(t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,t.insert>t.strstart&&(t.insert=t.strstart)),t.window.set(t.strm.input.subarray(t.strm.next_in-u,t.strm.next_in),t.strstart),t.strstart+=u,t.insert+=u>t.w_size-t.insert?t.w_size-t.insert:u),t.block_start=t.strstart),t.high_water<t.strstart&&(t.high_water=t.strstart),c?md:e!==Bc&&e!==bo&&t.strm.avail_in===0&&t.strstart===t.block_start?pd:(o=t.window_size-t.strstart,t.strm.avail_in>o&&t.block_start>=t.w_size&&(t.block_start-=t.w_size,t.strstart-=t.w_size,t.window.set(t.window.subarray(t.w_size,t.w_size+t.strstart),0),t.matches<2&&t.matches++,o+=t.w_size,t.insert>t.strstart&&(t.insert=t.strstart)),o>t.strm.avail_in&&(o=t.strm.avail_in),o&&($0(t.strm,t.window,t.strstart,o),t.strstart+=o,t.insert+=o>t.w_size-t.insert?t.w_size-t.insert:o),t.high_water<t.strstart&&(t.high_water=t.strstart),o=t.bi_valid+42>>3,o=t.pending_buf_size-o>65535?65535:t.pending_buf_size-o,r=o>t.w_size?t.w_size:o,a=t.strstart-t.block_start,(a>=r||(a||e===bo)&&e!==Bc&&t.strm.avail_in===0&&a<=o)&&(n=a>o?o:a,c=e===bo&&t.strm.avail_in===0&&n===a?1:0,R0(t,t.block_start,n,c),t.block_start+=n,$s(t.strm)),c?yu:Va)},Bp=(t,e)=>{let r,n;for(;;){if(t.lookahead<Tl){if(dd(t),t.lookahead<Tl&&e===Bc)return Va;if(t.lookahead===0)break}if(r=0,t.lookahead>=jr&&(t.ins_h=$c(t,t.ins_h,t.window[t.strstart+jr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),r!==0&&t.strstart-r<=t.w_size-Tl&&(t.match_length=Bx(t,r)),t.match_length>=jr)if(n=Fc(t,t.strstart-t.match_start,t.match_length-jr),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=jr){t.match_length--;do t.strstart++,t.ins_h=$c(t,t.ins_h,t.window[t.strstart+jr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart;while(--t.match_length!==0);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=$c(t,t.ins_h,t.window[t.strstart+1]);else n=Fc(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(n&&(zs(t,!1),t.strm.avail_out===0))return Va}return t.insert=t.strstart<jr-1?t.strstart:jr-1,e===bo?(zs(t,!0),t.strm.avail_out===0?yu:md):t.sym_next&&(zs(t,!1),t.strm.avail_out===0)?Va:pd},Wu=(t,e)=>{let r,n,a;for(;;){if(t.lookahead<Tl){if(dd(t),t.lookahead<Tl&&e===Bc)return Va;if(t.lookahead===0)break}if(r=0,t.lookahead>=jr&&(t.ins_h=$c(t,t.ins_h,t.window[t.strstart+jr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=jr-1,r!==0&&t.prev_length<t.max_lazy_match&&t.strstart-r<=t.w_size-Tl&&(t.match_length=Bx(t,r),t.match_length<=5&&(t.strategy===Tj||t.match_length===jr&&t.strstart-t.match_start>4096)&&(t.match_length=jr-1)),t.prev_length>=jr&&t.match_length<=t.prev_length){a=t.strstart+t.lookahead-jr,n=Fc(t,t.strstart-1-t.prev_match,t.prev_length-jr),t.lookahead-=t.prev_length-1,t.prev_length-=2;do++t.strstart<=a&&(t.ins_h=$c(t,t.ins_h,t.window[t.strstart+jr-1]),r=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart);while(--t.prev_length!==0);if(t.match_available=0,t.match_length=jr-1,t.strstart++,n&&(zs(t,!1),t.strm.avail_out===0))return Va}else if(t.match_available){if(n=Fc(t,0,t.window[t.strstart-1]),n&&zs(t,!1),t.strstart++,t.lookahead--,t.strm.avail_out===0)return Va}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(n=Fc(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<jr-1?t.strstart:jr-1,e===bo?(zs(t,!0),t.strm.avail_out===0?yu:md):t.sym_next&&(zs(t,!1),t.strm.avail_out===0)?Va:pd},Yj=(t,e)=>{let r,n,a,o;const c=t.window;for(;;){if(t.lookahead<=Oc){if(dd(t),t.lookahead<=Oc&&e===Bc)return Va;if(t.lookahead===0)break}if(t.match_length=0,t.lookahead>=jr&&t.strstart>0&&(a=t.strstart-1,n=c[a],n===c[++a]&&n===c[++a]&&n===c[++a])){o=t.strstart+Oc;do;while(n===c[++a]&&n===c[++a]&&n===c[++a]&&n===c[++a]&&n===c[++a]&&n===c[++a]&&n===c[++a]&&n===c[++a]&&a<o);t.match_length=Oc-(o-a),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=jr?(r=Fc(t,1,t.match_length-jr),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(r=Fc(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),r&&(zs(t,!1),t.strm.avail_out===0))return Va}return t.insert=0,e===bo?(zs(t,!0),t.strm.avail_out===0?yu:md):t.sym_next&&(zs(t,!1),t.strm.avail_out===0)?Va:pd},Xj=(t,e)=>{let r;for(;;){if(t.lookahead===0&&(dd(t),t.lookahead===0)){if(e===Bc)return Va;break}if(t.match_length=0,r=Fc(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,r&&(zs(t,!1),t.strm.avail_out===0))return Va}return t.insert=0,e===bo?(zs(t,!0),t.strm.avail_out===0?yu:md):t.sym_next&&(zs(t,!1),t.strm.avail_out===0)?Va:pd};function Nl(t,e,r,n,a){this.good_length=t,this.max_lazy=e,this.nice_length=r,this.max_chain=n,this.func=a}const Fd=[new Nl(0,0,0,0,$x),new Nl(4,4,8,4,Bp),new Nl(4,5,16,8,Bp),new Nl(4,6,32,32,Bp),new Nl(4,4,16,16,Wu),new Nl(8,16,32,32,Wu),new Nl(8,16,128,128,Wu),new Nl(8,32,128,256,Wu),new Nl(32,128,258,1024,Wu),new Nl(32,258,258,4096,Wu)],Zj=t=>{t.window_size=2*t.w_size,Ic(t.head),t.max_lazy_match=Fd[t.level].max_lazy,t.good_match=Fd[t.level].good_length,t.nice_match=Fd[t.level].nice_length,t.max_chain_length=Fd[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=jr-1,t.match_available=0,t.ins_h=0};function Qj(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Lf,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(Hj*2),this.dyn_dtree=new Uint16Array((2*Uj+1)*2),this.bl_tree=new Uint16Array((2*zj+1)*2),Ic(this.dyn_ltree),Ic(this.dyn_dtree),Ic(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(Wj+1),this.heap=new Uint16Array(2*I0+1),Ic(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*I0+1),Ic(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const hh=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.status!==ud&&e.status!==fm&&e.status!==O0&&e.status!==D0&&e.status!==F0&&e.status!==B0&&e.status!==mu&&e.status!==Dd?1:0},Mx=t=>{if(hh(t))return gu(t,Pl);t.total_in=t.total_out=0,t.data_type=Dj;const e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap===2?fm:e.wrap?ud:mu,t.adler=e.wrap===2?0:1,e.last_flush=-2,Nj(e),ba},qx=t=>{const e=Mx(t);return e===ba&&Zj(t.state),e},eS=(t,e)=>hh(t)||t.state.wrap!==2?Pl:(t.state.gzhead=e,ba),Ux=(t,e,r,n,a,o)=>{if(!t)return Pl;let c=1;if(e===Pj&&(e=6),n<0?(c=0,n=-n):n>15&&(c=2,n-=16),a<1||a>Fj||r!==Lf||n<8||n>15||e<0||e>9||o<0||o>Ij||n===8&&c!==1)return gu(t,Pl);n===8&&(n=9);const u=new Qj;return t.state=u,u.strm=t,u.status=ud,u.wrap=c,u.gzhead=null,u.w_bits=n,u.w_size=1<<u.w_bits,u.w_mask=u.w_size-1,u.hash_bits=a+7,u.hash_size=1<<u.hash_bits,u.hash_mask=u.hash_size-1,u.hash_shift=~~((u.hash_bits+jr-1)/jr),u.window=new Uint8Array(u.w_size*2),u.head=new Uint16Array(u.hash_size),u.prev=new Uint16Array(u.w_size),u.lit_bufsize=1<<a+6,u.pending_buf_size=u.lit_bufsize*4,u.pending_buf=new Uint8Array(u.pending_buf_size),u.sym_buf=u.lit_bufsize,u.sym_end=(u.lit_bufsize-1)*3,u.level=e,u.strategy=o,u.method=r,qx(t)},tS=(t,e)=>Ux(t,e,Lf,Bj,$j,Oj),rS=(t,e)=>{if(hh(t)||e>mb||e<0)return t?gu(t,Pl):Pl;const r=t.state;if(!t.output||t.avail_in!==0&&!t.input||r.status===Dd&&e!==bo)return gu(t,t.avail_out===0?Fp:Pl);const n=r.last_flush;if(r.last_flush=e,r.pending!==0){if($s(t),t.avail_out===0)return r.last_flush=-1,ba}else if(t.avail_in===0&&bb(e)<=bb(n)&&e!==bo)return gu(t,Fp);if(r.status===Dd&&t.avail_in!==0)return gu(t,Fp);if(r.status===ud&&r.wrap===0&&(r.status=mu),r.status===ud){let a=Lf+(r.w_bits-8<<4)<<8,o=-1;if(r.strategy>=Wh||r.level<2?o=0:r.level<6?o=1:r.level===6?o=2:o=3,a|=o<<6,r.strstart!==0&&(a|=Vj),a+=31-a%31,Id(r,a),r.strstart!==0&&(Id(r,t.adler>>>16),Id(r,t.adler&65535)),t.adler=1,r.status=mu,$s(t),r.pending!==0)return r.last_flush=-1,ba}if(r.status===fm){if(t.adler=0,Mr(r,31),Mr(r,139),Mr(r,8),r.gzhead)Mr(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),Mr(r,r.gzhead.time&255),Mr(r,r.gzhead.time>>8&255),Mr(r,r.gzhead.time>>16&255),Mr(r,r.gzhead.time>>24&255),Mr(r,r.level===9?2:r.strategy>=Wh||r.level<2?4:0),Mr(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(Mr(r,r.gzhead.extra.length&255),Mr(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=Gi(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=O0;else if(Mr(r,0),Mr(r,0),Mr(r,0),Mr(r,0),Mr(r,0),Mr(r,r.level===9?2:r.strategy>=Wh||r.level<2?4:0),Mr(r,Gj),r.status=mu,$s(t),r.pending!==0)return r.last_flush=-1,ba}if(r.status===O0){if(r.gzhead.extra){let a=r.pending,o=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+o>r.pending_buf_size;){let u=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+u),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>a&&(t.adler=Gi(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex+=u,$s(t),r.pending!==0)return r.last_flush=-1,ba;a=0,o-=u}let c=new Uint8Array(r.gzhead.extra);r.pending_buf.set(c.subarray(r.gzindex,r.gzindex+o),r.pending),r.pending+=o,r.gzhead.hcrc&&r.pending>a&&(t.adler=Gi(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=D0}if(r.status===D0){if(r.gzhead.name){let a=r.pending,o;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(t.adler=Gi(t.adler,r.pending_buf,r.pending-a,a)),$s(t),r.pending!==0)return r.last_flush=-1,ba;a=0}r.gzindex<r.gzhead.name.length?o=r.gzhead.name.charCodeAt(r.gzindex++)&255:o=0,Mr(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>a&&(t.adler=Gi(t.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=F0}if(r.status===F0){if(r.gzhead.comment){let a=r.pending,o;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(t.adler=Gi(t.adler,r.pending_buf,r.pending-a,a)),$s(t),r.pending!==0)return r.last_flush=-1,ba;a=0}r.gzindex<r.gzhead.comment.length?o=r.gzhead.comment.charCodeAt(r.gzindex++)&255:o=0,Mr(r,o)}while(o!==0);r.gzhead.hcrc&&r.pending>a&&(t.adler=Gi(t.adler,r.pending_buf,r.pending-a,a))}r.status=B0}if(r.status===B0){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&($s(t),r.pending!==0))return r.last_flush=-1,ba;Mr(r,t.adler&255),Mr(r,t.adler>>8&255),t.adler=0}if(r.status=mu,$s(t),r.pending!==0)return r.last_flush=-1,ba}if(t.avail_in!==0||r.lookahead!==0||e!==Bc&&r.status!==Dd){let a=r.level===0?$x(r,e):r.strategy===Wh?Xj(r,e):r.strategy===Rj?Yj(r,e):Fd[r.level].func(r,e);if((a===yu||a===md)&&(r.status=Dd),a===Va||a===yu)return t.avail_out===0&&(r.last_flush=-1),ba;if(a===pd&&(e===Aj?Cj(r):e!==mb&&(R0(r,0,0,!1),e===Ej&&(Ic(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),$s(t),t.avail_out===0))return r.last_flush=-1,ba}return e!==bo?ba:r.wrap<=0?gb:(r.wrap===2?(Mr(r,t.adler&255),Mr(r,t.adler>>8&255),Mr(r,t.adler>>16&255),Mr(r,t.adler>>24&255),Mr(r,t.total_in&255),Mr(r,t.total_in>>8&255),Mr(r,t.total_in>>16&255),Mr(r,t.total_in>>24&255)):(Id(r,t.adler>>>16),Id(r,t.adler&65535)),$s(t),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?ba:gb)},nS=t=>{if(hh(t))return Pl;const e=t.state.status;return t.state=null,e===mu?gu(t,Lj):ba},iS=(t,e)=>{let r=e.length;if(hh(t))return Pl;const n=t.state,a=n.wrap;if(a===2||a===1&&n.status!==ud||n.lookahead)return Pl;if(a===1&&(t.adler=rh(t.adler,e,r,0)),n.wrap=0,r>=n.w_size){a===0&&(Ic(n.head),n.strstart=0,n.block_start=0,n.insert=0);let h=new Uint8Array(n.w_size);h.set(e.subarray(r-n.w_size,r),0),e=h,r=n.w_size}const o=t.avail_in,c=t.next_in,u=t.input;for(t.avail_in=r,t.next_in=0,t.input=e,dd(n);n.lookahead>=jr;){let h=n.strstart,f=n.lookahead-(jr-1);do n.ins_h=$c(n,n.ins_h,n.window[h+jr-1]),n.prev[h&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=h,h++;while(--f);n.strstart=h,n.lookahead=jr-1,dd(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=jr-1,n.match_available=0,t.next_in=c,t.input=u,t.avail_in=o,n.wrap=a,ba};var aS=tS,sS=Ux,oS=qx,lS=Mx,cS=eS,uS=rS,dS=nS,hS=iS,fS="pako deflate (from Nodeca project)",Ud={deflateInit:aS,deflateInit2:sS,deflateReset:oS,deflateResetKeep:lS,deflateSetHeader:cS,deflate:uS,deflateEnd:dS,deflateSetDictionary:hS,deflateInfo:fS};const pS=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var mS=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)pS(r,n)&&(t[n]=r[n])}}return t},gS=t=>{let e=0;for(let n=0,a=t.length;n<a;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,a=0,o=t.length;n<o;n++){let c=t[n];r.set(c,a),a+=c.length}return r},Pf={assign:mS,flattenChunks:gS};let zx=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{zx=!1}const nh=new Uint8Array(256);for(let t=0;t<256;t++)nh[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;nh[254]=nh[254]=1;var bS=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,a,o,c=t.length,u=0;for(a=0;a<c;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<c&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),u+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(u),o=0,a=0;o<u;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<c&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?e[o++]=r:r<2048?(e[o++]=192|r>>>6,e[o++]=128|r&63):r<65536?(e[o++]=224|r>>>12,e[o++]=128|r>>>6&63,e[o++]=128|r&63):(e[o++]=240|r>>>18,e[o++]=128|r>>>12&63,e[o++]=128|r>>>6&63,e[o++]=128|r&63);return e};const xS=(t,e)=>{if(e<65534&&t.subarray&&zx)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var vS=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,a;const o=new Array(r*2);for(a=0,n=0;n<r;){let c=t[n++];if(c<128){o[a++]=c;continue}let u=nh[c];if(u>4){o[a++]=65533,n+=u-1;continue}for(c&=u===2?31:u===3?15:7;u>1&&n<r;)c=c<<6|t[n++]&63,u--;if(u>1){o[a++]=65533;continue}c<65536?o[a++]=c:(c-=65536,o[a++]=55296|c>>10&1023,o[a++]=56320|c&1023)}return xS(o,a)},yS=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+nh[t[r]]>e?r:e},ih={string2buf:bS,buf2string:vS,utf8border:yS};function wS(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var Hx=wS;const Wx=Object.prototype.toString,{Z_NO_FLUSH:_S,Z_SYNC_FLUSH:jS,Z_FULL_FLUSH:SS,Z_FINISH:NS,Z_OK:xf,Z_STREAM_END:kS,Z_DEFAULT_COMPRESSION:CS,Z_DEFAULT_STRATEGY:AS,Z_DEFLATED:ES}=dh;function pm(t){this.options=Pf.assign({level:CS,method:ES,chunkSize:16384,windowBits:15,memLevel:8,strategy:AS},t||{});let e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Hx,this.strm.avail_out=0;let r=Ud.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(r!==xf)throw new Error(cd[r]);if(e.header&&Ud.deflateSetHeader(this.strm,e.header),e.dictionary){let n;if(typeof e.dictionary=="string"?n=ih.string2buf(e.dictionary):Wx.call(e.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(e.dictionary):n=e.dictionary,r=Ud.deflateSetDictionary(this.strm,n),r!==xf)throw new Error(cd[r]);this._dict_set=!0}}pm.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize;let a,o;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?NS:_S,typeof t=="string"?r.input=ih.string2buf(t):Wx.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(o===jS||o===SS)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(a=Ud.deflate(r,o),a===kS)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=Ud.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===xf;if(r.avail_out===0){this.onData(r.output);continue}if(o>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};pm.prototype.onData=function(t){this.chunks.push(t)};pm.prototype.onEnd=function(t){t===xf&&(this.result=Pf.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};const Vh=16209,LS=16191;var PS=function(e,r){let n,a,o,c,u,h,f,x,m,j,y,C,k,L,E,B,T,D,z,ie,se,Q,J,de;const O=e.state;n=e.next_in,J=e.input,a=n+(e.avail_in-5),o=e.next_out,de=e.output,c=o-(r-e.avail_out),u=o+(e.avail_out-257),h=O.dmax,f=O.wsize,x=O.whave,m=O.wnext,j=O.window,y=O.hold,C=O.bits,k=O.lencode,L=O.distcode,E=(1<<O.lenbits)-1,B=(1<<O.distbits)-1;e:do{C<15&&(y+=J[n++]<<C,C+=8,y+=J[n++]<<C,C+=8),T=k[y&E];t:for(;;){if(D=T>>>24,y>>>=D,C-=D,D=T>>>16&255,D===0)de[o++]=T&65535;else if(D&16){z=T&65535,D&=15,D&&(C<D&&(y+=J[n++]<<C,C+=8),z+=y&(1<<D)-1,y>>>=D,C-=D),C<15&&(y+=J[n++]<<C,C+=8,y+=J[n++]<<C,C+=8),T=L[y&B];r:for(;;){if(D=T>>>24,y>>>=D,C-=D,D=T>>>16&255,D&16){if(ie=T&65535,D&=15,C<D&&(y+=J[n++]<<C,C+=8,C<D&&(y+=J[n++]<<C,C+=8)),ie+=y&(1<<D)-1,ie>h){e.msg="invalid distance too far back",O.mode=Vh;break e}if(y>>>=D,C-=D,D=o-c,ie>D){if(D=ie-D,D>x&&O.sane){e.msg="invalid distance too far back",O.mode=Vh;break e}if(se=0,Q=j,m===0){if(se+=f-D,D<z){z-=D;do de[o++]=j[se++];while(--D);se=o-ie,Q=de}}else if(m<D){if(se+=f+m-D,D-=m,D<z){z-=D;do de[o++]=j[se++];while(--D);if(se=0,m<z){D=m,z-=D;do de[o++]=j[se++];while(--D);se=o-ie,Q=de}}}else if(se+=m-D,D<z){z-=D;do de[o++]=j[se++];while(--D);se=o-ie,Q=de}for(;z>2;)de[o++]=Q[se++],de[o++]=Q[se++],de[o++]=Q[se++],z-=3;z&&(de[o++]=Q[se++],z>1&&(de[o++]=Q[se++]))}else{se=o-ie;do de[o++]=de[se++],de[o++]=de[se++],de[o++]=de[se++],z-=3;while(z>2);z&&(de[o++]=de[se++],z>1&&(de[o++]=de[se++]))}}else if(D&64){e.msg="invalid distance code",O.mode=Vh;break e}else{T=L[(T&65535)+(y&(1<<D)-1)];continue r}break}}else if(D&64)if(D&32){O.mode=LS;break e}else{e.msg="invalid literal/length code",O.mode=Vh;break e}else{T=k[(T&65535)+(y&(1<<D)-1)];continue t}break}}while(n<a&&o<u);z=C>>3,n-=z,C-=z<<3,y&=(1<<C)-1,e.next_in=n,e.next_out=o,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=o<u?257+(u-o):257-(o-u),O.hold=y,O.bits=C};const Vu=15,xb=852,vb=592,yb=0,$p=1,wb=2,TS=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),RS=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),IS=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),OS=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),DS=(t,e,r,n,a,o,c,u)=>{const h=u.bits;let f=0,x=0,m=0,j=0,y=0,C=0,k=0,L=0,E=0,B=0,T,D,z,ie,se,Q=null,J;const de=new Uint16Array(Vu+1),O=new Uint16Array(Vu+1);let K=null,ae,ce,we;for(f=0;f<=Vu;f++)de[f]=0;for(x=0;x<n;x++)de[e[r+x]]++;for(y=h,j=Vu;j>=1&&de[j]===0;j--);if(y>j&&(y=j),j===0)return a[o++]=1<<24|64<<16|0,a[o++]=1<<24|64<<16|0,u.bits=1,0;for(m=1;m<j&&de[m]===0;m++);for(y<m&&(y=m),L=1,f=1;f<=Vu;f++)if(L<<=1,L-=de[f],L<0)return-1;if(L>0&&(t===yb||j!==1))return-1;for(O[1]=0,f=1;f<Vu;f++)O[f+1]=O[f]+de[f];for(x=0;x<n;x++)e[r+x]!==0&&(c[O[e[r+x]]++]=x);if(t===yb?(Q=K=c,J=20):t===$p?(Q=TS,K=RS,J=257):(Q=IS,K=OS,J=0),B=0,x=0,f=m,se=o,C=y,k=0,z=-1,E=1<<y,ie=E-1,t===$p&&E>xb||t===wb&&E>vb)return 1;for(;;){ae=f-k,c[x]+1<J?(ce=0,we=c[x]):c[x]>=J?(ce=K[c[x]-J],we=Q[c[x]-J]):(ce=96,we=0),T=1<<f-k,D=1<<C,m=D;do D-=T,a[se+(B>>k)+D]=ae<<24|ce<<16|we|0;while(D!==0);for(T=1<<f-1;B&T;)T>>=1;if(T!==0?(B&=T-1,B+=T):B=0,x++,--de[f]===0){if(f===j)break;f=e[r+c[x]]}if(f>y&&(B&ie)!==z){for(k===0&&(k=y),se+=m,C=f-k,L=1<<C;C+k<j&&(L-=de[C+k],!(L<=0));)C++,L<<=1;if(E+=1<<C,t===$p&&E>xb||t===wb&&E>vb)return 1;z=B&ie,a[z]=y<<24|C<<16|se-o|0}}return B!==0&&(a[se+B]=f-k<<24|64<<16|0),u.bits=y,0};var zd=DS;const FS=0,Vx=1,Gx=2,{Z_FINISH:_b,Z_BLOCK:BS,Z_TREES:Gh,Z_OK:wu,Z_STREAM_END:$S,Z_NEED_DICT:MS,Z_STREAM_ERROR:xo,Z_DATA_ERROR:Kx,Z_MEM_ERROR:Jx,Z_BUF_ERROR:qS,Z_DEFLATED:jb}=dh,Tf=16180,Sb=16181,Nb=16182,kb=16183,Cb=16184,Ab=16185,Eb=16186,Lb=16187,Pb=16188,Tb=16189,vf=16190,Xl=16191,Mp=16192,Rb=16193,qp=16194,Ib=16195,Ob=16196,Db=16197,Fb=16198,Kh=16199,Jh=16200,Bb=16201,$b=16202,Mb=16203,qb=16204,Ub=16205,Up=16206,zb=16207,Hb=16208,Pn=16209,Yx=16210,Xx=16211,US=852,zS=592,HS=15,WS=HS,Wb=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function VS(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Su=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<Tf||e.mode>Xx?1:0},Zx=t=>{if(Su(t))return xo;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=Tf,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(US),e.distcode=e.distdyn=new Int32Array(zS),e.sane=1,e.back=-1,wu},Qx=t=>{if(Su(t))return xo;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Zx(t)},ev=(t,e)=>{let r;if(Su(t))return xo;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?xo:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Qx(t))},tv=(t,e)=>{if(!t)return xo;const r=new VS;t.state=r,r.strm=t,r.window=null,r.mode=Tf;const n=ev(t,e);return n!==wu&&(t.state=null),n},GS=t=>tv(t,WS);let Vb=!0,zp,Hp;const KS=t=>{if(Vb){zp=new Int32Array(512),Hp=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(zd(Vx,t.lens,0,288,zp,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;zd(Gx,t.lens,0,32,Hp,0,t.work,{bits:5}),Vb=!1}t.lencode=zp,t.lenbits=9,t.distcode=Hp,t.distbits=5},rv=(t,e,r,n)=>{let a;const o=t.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(e.subarray(r-o.wsize,r),0),o.wnext=0,o.whave=o.wsize):(a=o.wsize-o.wnext,a>n&&(a=n),o.window.set(e.subarray(r-n,r-n+a),o.wnext),n-=a,n?(o.window.set(e.subarray(r-n,r),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0},JS=(t,e)=>{let r,n,a,o,c,u,h,f,x,m,j,y,C,k,L=0,E,B,T,D,z,ie,se,Q;const J=new Uint8Array(4);let de,O;const K=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Su(t)||!t.output||!t.input&&t.avail_in!==0)return xo;r=t.state,r.mode===Xl&&(r.mode=Mp),c=t.next_out,a=t.output,h=t.avail_out,o=t.next_in,n=t.input,u=t.avail_in,f=r.hold,x=r.bits,m=u,j=h,Q=wu;e:for(;;)switch(r.mode){case Tf:if(r.wrap===0){r.mode=Mp;break}for(;x<16;){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}if(r.wrap&2&&f===35615){r.wbits===0&&(r.wbits=15),r.check=0,J[0]=f&255,J[1]=f>>>8&255,r.check=Gi(r.check,J,2,0),f=0,x=0,r.mode=Sb;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((f&255)<<8)+(f>>8))%31){t.msg="incorrect header check",r.mode=Pn;break}if((f&15)!==jb){t.msg="unknown compression method",r.mode=Pn;break}if(f>>>=4,x-=4,se=(f&15)+8,r.wbits===0&&(r.wbits=se),se>15||se>r.wbits){t.msg="invalid window size",r.mode=Pn;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=f&512?Tb:Xl,f=0,x=0;break;case Sb:for(;x<16;){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}if(r.flags=f,(r.flags&255)!==jb){t.msg="unknown compression method",r.mode=Pn;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Pn;break}r.head&&(r.head.text=f>>8&1),r.flags&512&&r.wrap&4&&(J[0]=f&255,J[1]=f>>>8&255,r.check=Gi(r.check,J,2,0)),f=0,x=0,r.mode=Nb;case Nb:for(;x<32;){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}r.head&&(r.head.time=f),r.flags&512&&r.wrap&4&&(J[0]=f&255,J[1]=f>>>8&255,J[2]=f>>>16&255,J[3]=f>>>24&255,r.check=Gi(r.check,J,4,0)),f=0,x=0,r.mode=kb;case kb:for(;x<16;){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}r.head&&(r.head.xflags=f&255,r.head.os=f>>8),r.flags&512&&r.wrap&4&&(J[0]=f&255,J[1]=f>>>8&255,r.check=Gi(r.check,J,2,0)),f=0,x=0,r.mode=Cb;case Cb:if(r.flags&1024){for(;x<16;){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}r.length=f,r.head&&(r.head.extra_len=f),r.flags&512&&r.wrap&4&&(J[0]=f&255,J[1]=f>>>8&255,r.check=Gi(r.check,J,2,0)),f=0,x=0}else r.head&&(r.head.extra=null);r.mode=Ab;case Ab:if(r.flags&1024&&(y=r.length,y>u&&(y=u),y&&(r.head&&(se=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(o,o+y),se)),r.flags&512&&r.wrap&4&&(r.check=Gi(r.check,n,y,o)),u-=y,o+=y,r.length-=y),r.length))break e;r.length=0,r.mode=Eb;case Eb:if(r.flags&2048){if(u===0)break e;y=0;do se=n[o+y++],r.head&&se&&r.length<65536&&(r.head.name+=String.fromCharCode(se));while(se&&y<u);if(r.flags&512&&r.wrap&4&&(r.check=Gi(r.check,n,y,o)),u-=y,o+=y,se)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Lb;case Lb:if(r.flags&4096){if(u===0)break e;y=0;do se=n[o+y++],r.head&&se&&r.length<65536&&(r.head.comment+=String.fromCharCode(se));while(se&&y<u);if(r.flags&512&&r.wrap&4&&(r.check=Gi(r.check,n,y,o)),u-=y,o+=y,se)break e}else r.head&&(r.head.comment=null);r.mode=Pb;case Pb:if(r.flags&512){for(;x<16;){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}if(r.wrap&4&&f!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Pn;break}f=0,x=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=Xl;break;case Tb:for(;x<32;){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}t.adler=r.check=Wb(f),f=0,x=0,r.mode=vf;case vf:if(r.havedict===0)return t.next_out=c,t.avail_out=h,t.next_in=o,t.avail_in=u,r.hold=f,r.bits=x,MS;t.adler=r.check=1,r.mode=Xl;case Xl:if(e===BS||e===Gh)break e;case Mp:if(r.last){f>>>=x&7,x-=x&7,r.mode=Up;break}for(;x<3;){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}switch(r.last=f&1,f>>>=1,x-=1,f&3){case 0:r.mode=Rb;break;case 1:if(KS(r),r.mode=Kh,e===Gh){f>>>=2,x-=2;break e}break;case 2:r.mode=Ob;break;case 3:t.msg="invalid block type",r.mode=Pn}f>>>=2,x-=2;break;case Rb:for(f>>>=x&7,x-=x&7;x<32;){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}if((f&65535)!==(f>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Pn;break}if(r.length=f&65535,f=0,x=0,r.mode=qp,e===Gh)break e;case qp:r.mode=Ib;case Ib:if(y=r.length,y){if(y>u&&(y=u),y>h&&(y=h),y===0)break e;a.set(n.subarray(o,o+y),c),u-=y,o+=y,h-=y,c+=y,r.length-=y;break}r.mode=Xl;break;case Ob:for(;x<14;){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}if(r.nlen=(f&31)+257,f>>>=5,x-=5,r.ndist=(f&31)+1,f>>>=5,x-=5,r.ncode=(f&15)+4,f>>>=4,x-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Pn;break}r.have=0,r.mode=Db;case Db:for(;r.have<r.ncode;){for(;x<3;){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}r.lens[K[r.have++]]=f&7,f>>>=3,x-=3}for(;r.have<19;)r.lens[K[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,de={bits:r.lenbits},Q=zd(FS,r.lens,0,19,r.lencode,0,r.work,de),r.lenbits=de.bits,Q){t.msg="invalid code lengths set",r.mode=Pn;break}r.have=0,r.mode=Fb;case Fb:for(;r.have<r.nlen+r.ndist;){for(;L=r.lencode[f&(1<<r.lenbits)-1],E=L>>>24,B=L>>>16&255,T=L&65535,!(E<=x);){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}if(T<16)f>>>=E,x-=E,r.lens[r.have++]=T;else{if(T===16){for(O=E+2;x<O;){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}if(f>>>=E,x-=E,r.have===0){t.msg="invalid bit length repeat",r.mode=Pn;break}se=r.lens[r.have-1],y=3+(f&3),f>>>=2,x-=2}else if(T===17){for(O=E+3;x<O;){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}f>>>=E,x-=E,se=0,y=3+(f&7),f>>>=3,x-=3}else{for(O=E+7;x<O;){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}f>>>=E,x-=E,se=0,y=11+(f&127),f>>>=7,x-=7}if(r.have+y>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Pn;break}for(;y--;)r.lens[r.have++]=se}}if(r.mode===Pn)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Pn;break}if(r.lenbits=9,de={bits:r.lenbits},Q=zd(Vx,r.lens,0,r.nlen,r.lencode,0,r.work,de),r.lenbits=de.bits,Q){t.msg="invalid literal/lengths set",r.mode=Pn;break}if(r.distbits=6,r.distcode=r.distdyn,de={bits:r.distbits},Q=zd(Gx,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,de),r.distbits=de.bits,Q){t.msg="invalid distances set",r.mode=Pn;break}if(r.mode=Kh,e===Gh)break e;case Kh:r.mode=Jh;case Jh:if(u>=6&&h>=258){t.next_out=c,t.avail_out=h,t.next_in=o,t.avail_in=u,r.hold=f,r.bits=x,PS(t,j),c=t.next_out,a=t.output,h=t.avail_out,o=t.next_in,n=t.input,u=t.avail_in,f=r.hold,x=r.bits,r.mode===Xl&&(r.back=-1);break}for(r.back=0;L=r.lencode[f&(1<<r.lenbits)-1],E=L>>>24,B=L>>>16&255,T=L&65535,!(E<=x);){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}if(B&&!(B&240)){for(D=E,z=B,ie=T;L=r.lencode[ie+((f&(1<<D+z)-1)>>D)],E=L>>>24,B=L>>>16&255,T=L&65535,!(D+E<=x);){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}f>>>=D,x-=D,r.back+=D}if(f>>>=E,x-=E,r.back+=E,r.length=T,B===0){r.mode=Ub;break}if(B&32){r.back=-1,r.mode=Xl;break}if(B&64){t.msg="invalid literal/length code",r.mode=Pn;break}r.extra=B&15,r.mode=Bb;case Bb:if(r.extra){for(O=r.extra;x<O;){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}r.length+=f&(1<<r.extra)-1,f>>>=r.extra,x-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=$b;case $b:for(;L=r.distcode[f&(1<<r.distbits)-1],E=L>>>24,B=L>>>16&255,T=L&65535,!(E<=x);){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}if(!(B&240)){for(D=E,z=B,ie=T;L=r.distcode[ie+((f&(1<<D+z)-1)>>D)],E=L>>>24,B=L>>>16&255,T=L&65535,!(D+E<=x);){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}f>>>=D,x-=D,r.back+=D}if(f>>>=E,x-=E,r.back+=E,B&64){t.msg="invalid distance code",r.mode=Pn;break}r.offset=T,r.extra=B&15,r.mode=Mb;case Mb:if(r.extra){for(O=r.extra;x<O;){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}r.offset+=f&(1<<r.extra)-1,f>>>=r.extra,x-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Pn;break}r.mode=qb;case qb:if(h===0)break e;if(y=j-h,r.offset>y){if(y=r.offset-y,y>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Pn;break}y>r.wnext?(y-=r.wnext,C=r.wsize-y):C=r.wnext-y,y>r.length&&(y=r.length),k=r.window}else k=a,C=c-r.offset,y=r.length;y>h&&(y=h),h-=y,r.length-=y;do a[c++]=k[C++];while(--y);r.length===0&&(r.mode=Jh);break;case Ub:if(h===0)break e;a[c++]=r.length,h--,r.mode=Jh;break;case Up:if(r.wrap){for(;x<32;){if(u===0)break e;u--,f|=n[o++]<<x,x+=8}if(j-=h,t.total_out+=j,r.total+=j,r.wrap&4&&j&&(t.adler=r.check=r.flags?Gi(r.check,a,j,c-j):rh(r.check,a,j,c-j)),j=h,r.wrap&4&&(r.flags?f:Wb(f))!==r.check){t.msg="incorrect data check",r.mode=Pn;break}f=0,x=0}r.mode=zb;case zb:if(r.wrap&&r.flags){for(;x<32;){if(u===0)break e;u--,f+=n[o++]<<x,x+=8}if(r.wrap&4&&f!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Pn;break}f=0,x=0}r.mode=Hb;case Hb:Q=$S;break e;case Pn:Q=Kx;break e;case Yx:return Jx;case Xx:default:return xo}return t.next_out=c,t.avail_out=h,t.next_in=o,t.avail_in=u,r.hold=f,r.bits=x,(r.wsize||j!==t.avail_out&&r.mode<Pn&&(r.mode<Up||e!==_b))&&rv(t,t.output,t.next_out,j-t.avail_out),m-=t.avail_in,j-=t.avail_out,t.total_in+=m,t.total_out+=j,r.total+=j,r.wrap&4&&j&&(t.adler=r.check=r.flags?Gi(r.check,a,j,t.next_out-j):rh(r.check,a,j,t.next_out-j)),t.data_type=r.bits+(r.last?64:0)+(r.mode===Xl?128:0)+(r.mode===Kh||r.mode===qp?256:0),(m===0&&j===0||e===_b)&&Q===wu&&(Q=qS),Q},YS=t=>{if(Su(t))return xo;let e=t.state;return e.window&&(e.window=null),t.state=null,wu},XS=(t,e)=>{if(Su(t))return xo;const r=t.state;return r.wrap&2?(r.head=e,e.done=!1,wu):xo},ZS=(t,e)=>{const r=e.length;let n,a,o;return Su(t)||(n=t.state,n.wrap!==0&&n.mode!==vf)?xo:n.mode===vf&&(a=1,a=rh(a,e,r,0),a!==n.check)?Kx:(o=rv(t,e,r,r),o?(n.mode=Yx,Jx):(n.havedict=1,wu))};var QS=Qx,e4=ev,t4=Zx,r4=GS,n4=tv,i4=JS,a4=YS,s4=XS,o4=ZS,l4="pako inflate (from Nodeca project)",ec={inflateReset:QS,inflateReset2:e4,inflateResetKeep:t4,inflateInit:r4,inflateInit2:n4,inflate:i4,inflateEnd:a4,inflateGetHeader:s4,inflateSetDictionary:o4,inflateInfo:l4};function c4(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var u4=c4;const nv=Object.prototype.toString,{Z_NO_FLUSH:d4,Z_FINISH:h4,Z_OK:ah,Z_STREAM_END:Wp,Z_NEED_DICT:Vp,Z_STREAM_ERROR:f4,Z_DATA_ERROR:Gb,Z_MEM_ERROR:p4}=dh;function fh(t){this.options=Pf.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15||(e.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Hx,this.strm.avail_out=0;let r=ec.inflateInit2(this.strm,e.windowBits);if(r!==ah)throw new Error(cd[r]);if(this.header=new u4,ec.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=ih.string2buf(e.dictionary):nv.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=ec.inflateSetDictionary(this.strm,e.dictionary),r!==ah)))throw new Error(cd[r])}fh.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let o,c,u;if(this.ended)return!1;for(e===~~e?c=e:c=e===!0?h4:d4,nv.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),o=ec.inflate(r,c),o===Vp&&a&&(o=ec.inflateSetDictionary(r,a),o===ah?o=ec.inflate(r,c):o===Gb&&(o=Vp));r.avail_in>0&&o===Wp&&r.state.wrap>0&&t[r.next_in]!==0;)ec.inflateReset(r),o=ec.inflate(r,c);switch(o){case f4:case Gb:case Vp:case p4:return this.onEnd(o),this.ended=!0,!1}if(u=r.avail_out,r.next_out&&(r.avail_out===0||o===Wp))if(this.options.to==="string"){let h=ih.utf8border(r.output,r.next_out),f=r.next_out-h,x=ih.buf2string(r.output,h);r.next_out=f,r.avail_out=n-f,f&&r.output.set(r.output.subarray(h,h+f),0),this.onData(x)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(o===ah&&u===0)){if(o===Wp)return o=ec.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};fh.prototype.onData=function(t){this.chunks.push(t)};fh.prototype.onEnd=function(t){t===ah&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Pf.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function mm(t,e){const r=new fh(e);if(r.push(t),r.err)throw r.msg||cd[r.err];return r.result}function m4(t,e){return e=e||{},e.raw=!0,mm(t,e)}var g4=fh,b4=mm,x4=m4,v4=mm,y4=dh,w4={Inflate:g4,inflate:b4,inflateRaw:x4,ungzip:v4,constants:y4};const{Inflate:_4,inflate:j4,inflateRaw:Zk,ungzip:Qk}=w4;var Kb=_4,S4=j4;const iv=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;iv[t]=e}const Jb=4294967295;function N4(t,e,r){let n=t;for(let a=0;a<r;a++)n=iv[(n^e[a])&255]^n>>>8;return n}function k4(t,e){return(N4(Jb,t,e)^Jb)>>>0}function Yb(t,e,r){const n=t.readUint32(),a=k4(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function av(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function sv(t,e,r,n){let a=0;for(;a<n;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-n]&255}function ov(t,e,r,n){let a=0;if(r.length===0)for(;a<n;a++)e[a]=t[a];else for(;a<n;a++)e[a]=t[a]+r[a]&255}function lv(t,e,r,n,a){let o=0;if(r.length===0){for(;o<a;o++)e[o]=t[o];for(;o<n;o++)e[o]=t[o]+(e[o-a]>>1)&255}else{for(;o<a;o++)e[o]=t[o]+(r[o]>>1)&255;for(;o<n;o++)e[o]=t[o]+(e[o-a]+r[o]>>1)&255}}function cv(t,e,r,n,a){let o=0;if(r.length===0){for(;o<a;o++)e[o]=t[o];for(;o<n;o++)e[o]=t[o]+e[o-a]&255}else{for(;o<a;o++)e[o]=t[o]+r[o]&255;for(;o<n;o++)e[o]=t[o]+C4(e[o-a],r[o],r[o-a])&255}}function C4(t,e,r){const n=t+e-r,a=Math.abs(n-t),o=Math.abs(n-e),c=Math.abs(n-r);return a<=o&&a<=c?t:o<=c?e:r}function A4(t,e,r,n,a,o){switch(t){case 0:av(e,r,a);break;case 1:sv(e,r,a,o);break;case 2:ov(e,r,n,a);break;case 3:lv(e,r,n,a,o);break;case 4:cv(e,r,n,a,o);break;default:throw new Error(`Unsupported filter: ${t}`)}}const E4=new Uint16Array([255]),L4=new Uint8Array(E4.buffer),P4=L4[0]===255;function T4(t){const{data:e,width:r,height:n,channels:a,depth:o}=t,c=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],u=Math.ceil(o/8)*a,h=new Uint8Array(n*r*u);let f=0;for(let x=0;x<7;x++){const m=c[x],j=Math.ceil((r-m.x)/m.xStep),y=Math.ceil((n-m.y)/m.yStep);if(j<=0||y<=0)continue;const C=j*u,k=new Uint8Array(C);for(let L=0;L<y;L++){const E=e[f++],B=e.subarray(f,f+C);f+=C;const T=new Uint8Array(C);A4(E,B,T,k,C,u),k.set(T);for(let D=0;D<j;D++){const z=m.x+D*m.xStep,ie=m.y+L*m.yStep;if(!(z>=r||ie>=n))for(let se=0;se<u;se++)h[(ie*r+z)*u+se]=T[D*u+se]}}}if(o===16){const x=new Uint16Array(h.buffer);if(P4)for(let m=0;m<x.length;m++)x[m]=R4(x[m]);return x}else return h}function R4(t){return(t&255)<<8|t>>8&255}const I4=new Uint16Array([255]),O4=new Uint8Array(I4.buffer),D4=O4[0]===255,F4=new Uint8Array(0);function Xb(t){const{data:e,width:r,height:n,channels:a,depth:o}=t,c=Math.ceil(o/8)*a,u=Math.ceil(o/8*a*r),h=new Uint8Array(n*u);let f=F4,x=0,m,j;for(let y=0;y<n;y++){switch(m=e.subarray(x+1,x+1+u),j=h.subarray(y*u,(y+1)*u),e[x]){case 0:av(m,j,u);break;case 1:sv(m,j,u,c);break;case 2:ov(m,j,f,u);break;case 3:lv(m,j,f,u,c);break;case 4:cv(m,j,f,u,c);break;default:throw new Error(`Unsupported filter: ${e[x]}`)}f=j,x+=u+1}if(o===16){const y=new Uint16Array(h.buffer);if(D4)for(let C=0;C<y.length;C++)y[C]=B4(y[C]);return y}else return h}function B4(t){return(t&255)<<8|t>>8&255}const nf=Uint8Array.of(137,80,78,71,13,10,26,10);function Zb(t){if(!$4(t.readBytes(nf.length)))throw new Error("wrong PNG signature")}function $4(t){if(t.length<nf.length)return!1;for(let e=0;e<nf.length;e++)if(t[e]!==nf[e])return!1;return!0}const M4="tEXt",q4=0,uv=new TextDecoder("latin1");function U4(t){if(H4(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const z4=/^[\u0000-\u00FF]*$/;function H4(t){if(!z4.test(t))throw new Error("invalid latin1 text")}function W4(t,e,r){const n=dv(e);t[n]=V4(e,r-n.length-1)}function dv(t){for(t.mark();t.readByte()!==q4;);const e=t.offset;t.reset();const r=uv.decode(t.readBytes(e-t.offset-1));return t.skip(1),U4(r),r}function V4(t,e){return uv.decode(t.readBytes(e))}const Fs={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Gp={UNKNOWN:-1,DEFLATE:0},Qb={UNKNOWN:-1,ADAPTIVE:0},Kp={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},Yh={NONE:0,BACKGROUND:1,PREVIOUS:2},Jp={SOURCE:0,OVER:1};class G4 extends lm{constructor(r,n={}){super(r);Gr(this,"_checkCrc");Gr(this,"_inflator");Gr(this,"_png");Gr(this,"_apng");Gr(this,"_end");Gr(this,"_hasPalette");Gr(this,"_palette");Gr(this,"_hasTransparency");Gr(this,"_transparency");Gr(this,"_compressionMethod");Gr(this,"_filterMethod");Gr(this,"_interlaceMethod");Gr(this,"_colorType");Gr(this,"_isAnimated");Gr(this,"_numberOfFrames");Gr(this,"_numberOfPlays");Gr(this,"_frames");Gr(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new Kb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Gp.UNKNOWN,this._filterMethod=Qb.UNKNOWN,this._interlaceMethod=Kp.UNKNOWN,this._colorType=Fs.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Zb(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(Zb(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case M4:W4(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Yb(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Yb(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=K4(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Fs.GREYSCALE:a=1;break;case Fs.TRUECOLOUR:a=3;break;case Fs.INDEXED_COLOUR:a=1;break;case Fs.GREYSCALE_ALPHA:a=2;break;case Fs.TRUECOLOUR_ALPHA:a=4;break;case Fs.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Gp.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let o=0;o<n;o++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Fs.GREYSCALE:case Fs.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Fs.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Fs.UNKNOWN:case Fs.GREYSCALE_ALPHA:case Fs.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=dv(this),a=this.readUint8();if(a!==Gp.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const o=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:S4(o)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=Xb({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const o=this._apng.frames.at(r-1);this.disposeFrame(a,o,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case Yh.NONE:break;case Yh.BACKGROUND:for(let o=0;o<this._png.height;o++)for(let c=0;c<this._png.width;c++){const u=(o*r.width+c)*this._png.channels;for(let h=0;h<this._png.channels;h++)a.data[u+h]=0}break;case Yh.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,o=(c,u)=>{const h=((c+n.yOffset)*this._png.width+n.xOffset+u)*this._png.channels,f=(c*n.width+u)*this._png.channels;return{index:h,frameIndex:f}};switch(n.blendOp){case Jp.SOURCE:for(let c=0;c<n.height;c++)for(let u=0;u<n.width;u++){const{index:h,frameIndex:f}=o(c,u);for(let x=0;x<this._png.channels;x++)r.data[h+x]=n.data[f+x]}break;case Jp.OVER:for(let c=0;c<n.height;c++)for(let u=0;u<n.width;u++){const{index:h,frameIndex:f}=o(c,u);for(let x=0;x<this._png.channels;x++){const m=n.data[f+this._png.channels-1]/a,j=x%(this._png.channels-1)===0?1:n.data[f+x],y=Math.floor(m*j+(1-m)*r.data[h+x]);r.data[h+x]+=y}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Qb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Kp.NO_INTERLACE)this._png.data=Xb({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Kp.ADAM7)this._png.data=T4({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:Yh.NONE,blendOp:Jp.SOURCE,data:r}),this._inflator=new Kb,this._writingDataChunks=!1}}function K4(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var e1;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(e1||(e1={}));function J4(t,e){return new G4(t,e).decode()}var Jt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Yp(){Jt.console&&typeof Jt.console.log=="function"&&Jt.console.log.apply(Jt.console,arguments)}var ln={log:Yp,warn:function(t){Jt.console&&(typeof Jt.console.warn=="function"?Jt.console.warn.apply(Jt.console,arguments):Yp.call(null,arguments))},error:function(t){Jt.console&&(typeof Jt.console.error=="function"?Jt.console.error.apply(Jt.console,arguments):Yp(t))}};function Xp(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){lu(n.response,e,r)},n.onerror=function(){ln.error("could not download file")},n.send()}function t1(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Xh(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var lu=Jt.saveAs||((typeof window>"u"?"undefined":Kr(window))!=="object"||window!==Jt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Jt.URL||Jt.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?t1(a.href)?Xp(t,e,r):Xh(a,a.target="_blank"):Xh(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){Xh(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(t1(t))Xp(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Xh(n)})}else navigator.msSaveOrOpenBlob(function(a,o){return o===void 0?o={autoBom:!1}:Kr(o)!=="object"&&(ln.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Xp(t,e,r);var a=t.type==="application/octet-stream",o=/constructor/i.test(Jt.HTMLElement)||Jt.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||a&&o)&&(typeof FileReader>"u"?"undefined":Kr(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var x=u.result;x=c?x:x.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=x:location=x,n=null},u.readAsDataURL(t)}else{var h=Jt.URL||Jt.webkitURL,f=h.createObjectURL(t);n?n.location=f:location.href=f,n=null,setTimeout(function(){h.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function hv(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,o=r[n].process,c=a.exec(t);c&&(e=o(c),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),f.length==1&&(f="0"+f),"#"+u+h+f}}var af=Jt.atob.bind(Jt),r1=Jt.btoa.bind(Jt);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Zp(t,e){var r=t[0],n=t[1],a=t[2],o=t[3];r=Pa(r,n,a,o,e[0],7,-680876936),o=Pa(o,r,n,a,e[1],12,-389564586),a=Pa(a,o,r,n,e[2],17,606105819),n=Pa(n,a,o,r,e[3],22,-1044525330),r=Pa(r,n,a,o,e[4],7,-176418897),o=Pa(o,r,n,a,e[5],12,1200080426),a=Pa(a,o,r,n,e[6],17,-1473231341),n=Pa(n,a,o,r,e[7],22,-45705983),r=Pa(r,n,a,o,e[8],7,1770035416),o=Pa(o,r,n,a,e[9],12,-1958414417),a=Pa(a,o,r,n,e[10],17,-42063),n=Pa(n,a,o,r,e[11],22,-1990404162),r=Pa(r,n,a,o,e[12],7,1804603682),o=Pa(o,r,n,a,e[13],12,-40341101),a=Pa(a,o,r,n,e[14],17,-1502002290),r=Ta(r,n=Pa(n,a,o,r,e[15],22,1236535329),a,o,e[1],5,-165796510),o=Ta(o,r,n,a,e[6],9,-1069501632),a=Ta(a,o,r,n,e[11],14,643717713),n=Ta(n,a,o,r,e[0],20,-373897302),r=Ta(r,n,a,o,e[5],5,-701558691),o=Ta(o,r,n,a,e[10],9,38016083),a=Ta(a,o,r,n,e[15],14,-660478335),n=Ta(n,a,o,r,e[4],20,-405537848),r=Ta(r,n,a,o,e[9],5,568446438),o=Ta(o,r,n,a,e[14],9,-1019803690),a=Ta(a,o,r,n,e[3],14,-187363961),n=Ta(n,a,o,r,e[8],20,1163531501),r=Ta(r,n,a,o,e[13],5,-1444681467),o=Ta(o,r,n,a,e[2],9,-51403784),a=Ta(a,o,r,n,e[7],14,1735328473),r=Ra(r,n=Ta(n,a,o,r,e[12],20,-1926607734),a,o,e[5],4,-378558),o=Ra(o,r,n,a,e[8],11,-2022574463),a=Ra(a,o,r,n,e[11],16,1839030562),n=Ra(n,a,o,r,e[14],23,-35309556),r=Ra(r,n,a,o,e[1],4,-1530992060),o=Ra(o,r,n,a,e[4],11,1272893353),a=Ra(a,o,r,n,e[7],16,-155497632),n=Ra(n,a,o,r,e[10],23,-1094730640),r=Ra(r,n,a,o,e[13],4,681279174),o=Ra(o,r,n,a,e[0],11,-358537222),a=Ra(a,o,r,n,e[3],16,-722521979),n=Ra(n,a,o,r,e[6],23,76029189),r=Ra(r,n,a,o,e[9],4,-640364487),o=Ra(o,r,n,a,e[12],11,-421815835),a=Ra(a,o,r,n,e[15],16,530742520),r=Ia(r,n=Ra(n,a,o,r,e[2],23,-995338651),a,o,e[0],6,-198630844),o=Ia(o,r,n,a,e[7],10,1126891415),a=Ia(a,o,r,n,e[14],15,-1416354905),n=Ia(n,a,o,r,e[5],21,-57434055),r=Ia(r,n,a,o,e[12],6,1700485571),o=Ia(o,r,n,a,e[3],10,-1894986606),a=Ia(a,o,r,n,e[10],15,-1051523),n=Ia(n,a,o,r,e[1],21,-2054922799),r=Ia(r,n,a,o,e[8],6,1873313359),o=Ia(o,r,n,a,e[15],10,-30611744),a=Ia(a,o,r,n,e[6],15,-1560198380),n=Ia(n,a,o,r,e[13],21,1309151649),r=Ia(r,n,a,o,e[4],6,-145523070),o=Ia(o,r,n,a,e[11],10,-1120210379),a=Ia(a,o,r,n,e[2],15,718787259),n=Ia(n,a,o,r,e[9],21,-343485551),t[0]=Dc(r,t[0]),t[1]=Dc(n,t[1]),t[2]=Dc(a,t[2]),t[3]=Dc(o,t[3])}function Rf(t,e,r,n,a,o){return e=Dc(Dc(e,t),Dc(n,o)),Dc(e<<a|e>>>32-a,r)}function Pa(t,e,r,n,a,o,c){return Rf(e&r|~e&n,t,e,a,o,c)}function Ta(t,e,r,n,a,o,c){return Rf(e&n|r&~n,t,e,a,o,c)}function Ra(t,e,r,n,a,o,c){return Rf(e^r^n,t,e,a,o,c)}function Ia(t,e,r,n,a,o,c){return Rf(r^(e|~n),t,e,a,o,c)}function fv(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Zp(n,Y4(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(Zp(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,Zp(n,a),n}function Y4(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var n1="0123456789abcdef".split("");function X4(t){for(var e="",r=0;r<4;r++)e+=n1[t>>8*r+4&15]+n1[t>>8*r&15];return e}function Z4(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function M0(t){return fv(t).map(Z4).join("")}var Q4=function(t){for(var e=0;e<t.length;e++)t[e]=X4(t[e]);return t.join("")}(fv("hello"))!="5d41402abc4b2a76b9719d911017c592";function Dc(t,e){if(Q4){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function q0(t,e){var r,n,a,o;if(t!==r){for(var c=(a=t,o=1+(256/t.length|0),new Array(o+1).join(a)),u=[],h=0;h<256;h++)u[h]=h;var f=0;for(h=0;h<256;h++){var x=u[h];f=(f+x+c.charCodeAt(h))%256,u[h]=u[f],u[f]=x}r=t,n=u}else u=n;var m=e.length,j=0,y=0,C="";for(h=0;h<m;h++)y=(y+(x=u[j=(j+1)%256]))%256,u[j]=u[y],u[y]=x,c=u[(u[j]+u[y])%256],C+=String.fromCharCode(e.charCodeAt(h)^c);return C}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var i1={print:4,modify:8,copy:16,"annot-forms":32};function Zu(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(u){if(i1.perm!==void 0)throw new Error("Invalid permission: "+u);a+=i1[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),c=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,c),this.P=-(1+(255^a)),this.encryptionKey=M0(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=q0(this.encryptionKey,this.padding)}function Qu(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[n]}return e}function a1(t){if(Kr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var o=Math.random().toString(35);return e[r][o]=[n,!!a],o},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var o in e[r]){var c=e[r][o];try{c[0].apply(t,n)}catch(u){Jt.console&&ln.error("jsPDF PubSub Error",u.message,u)}c[1]&&a.push(o)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function yf(t){if(!(this instanceof yf))return new yf(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function pv(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function du(t,e,r,n,a){if(!(this instanceof du))return new du(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,pv.call(this,n,a)}function td(t,e,r,n,a){if(!(this instanceof td))return new td(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,pv.call(this,n,a)}function Ct(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],o=arguments[3],c=[],u=1,h=16,f="S",x=null;Kr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,o=t.compress||t.compressPdf||o,(x=t.encryption||null)!==null&&(x.userPassword=x.userPassword||"",x.ownerPassword=x.ownerPassword||"",x.userPermissions=x.userPermissions||[]),u=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(h=t.floatPrecision),f=t.defaultPathOperation||"S"),c=t.filters||(o===!0?["FlateEncode"]:c),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,j={},y={internal:{},__private__:{}};y.__private__.PubSub=a1;var C="1.3",k=y.__private__.getPdfVersion=function(){return C};y.__private__.setPdfVersion=function(w){C=w};var L={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};y.__private__.getPageFormats=function(){return L};var E=y.__private__.getPageFormat=function(w){return L[w]};a=a||"a4";var B="compat",T="advanced",D=B;function z(){this.saveGraphicsState(),Z(new nt(Ft,0,0,-Ft,0,ra()*Ft).toString()+" cm"),this.setFontSize(this.getFontSize()/Ft),f="n",D=T}function ie(){this.restoreGraphicsState(),f="S",D=B}var se=y.__private__.combineFontStyleAndFontWeight=function(w,R){if(w=="bold"&&R=="normal"||w=="bold"&&R==400||w=="normal"&&R=="italic"||w=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(w=R==400||R==="normal"?w==="italic"?"italic":"normal":R!=700&&R!=="bold"||w!=="normal"?(R==700?"bold":R)+""+w:"bold"),w};y.advancedAPI=function(w){var R=D===B;return R&&z.call(this),typeof w!="function"||(w(this),R&&ie.call(this)),this},y.compatAPI=function(w){var R=D===T;return R&&ie.call(this),typeof w!="function"||(w(this),R&&z.call(this)),this},y.isAdvancedAPI=function(){return D===T};var Q,J=function(w){if(D!==T)throw new Error(w+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},de=y.roundToPrecision=y.__private__.roundToPrecision=function(w,R){var re=e||R;if(isNaN(w)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return w.toFixed(re).replace(/0+$/,"")};Q=y.hpf=y.__private__.hpf=typeof h=="number"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return de(w,h)}:h==="smart"?function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return de(w,w>-1&&w<1?16:5)}:function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.hpf");return de(w,16)};var O=y.f2=y.__private__.f2=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f2");return de(w,2)},K=y.__private__.f3=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.f3");return de(w,3)},ae=y.scale=y.__private__.scale=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.scale");return D===B?w*Ft:D===T?w:void 0},ce=function(w){return ae(function(R){return D===B?ra()-R:D===T?R:void 0}(w))};y.__private__.setPrecision=y.setPrecision=function(w){typeof parseInt(w,10)=="number"&&(e=parseInt(w,10))};var we,Ae="00000000000000000000000000000000",ve=y.__private__.getFileId=function(){return Ae},H=y.__private__.setFileId=function(w){return Ae=w!==void 0&&/^[a-fA-F0-9]{32}$/.test(w)?w.toUpperCase():Ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),x!==null&&(Sn=new Zu(x.userPermissions,x.userPassword,x.ownerPassword,Ae)),Ae};y.setFileId=function(w){return H(w),this},y.getFileId=function(){return ve()};var he=y.__private__.convertDateToPDFDate=function(w){var R=w.getTimezoneOffset(),re=R<0?"+":"-",fe=Math.floor(Math.abs(R/60)),_e=Math.abs(R%60),Be=[re,W(fe),"'",W(_e),"'"].join("");return["D:",w.getFullYear(),W(w.getMonth()+1),W(w.getDate()),W(w.getHours()),W(w.getMinutes()),W(w.getSeconds()),Be].join("")},xe=y.__private__.convertPDFDateToDate=function(w){var R=parseInt(w.substr(2,4),10),re=parseInt(w.substr(6,2),10)-1,fe=parseInt(w.substr(8,2),10),_e=parseInt(w.substr(10,2),10),Be=parseInt(w.substr(12,2),10),qe=parseInt(w.substr(14,2),10);return new Date(R,re,fe,_e,Be,qe,0)},X=y.__private__.setCreationDate=function(w){var R;if(w===void 0&&(w=new Date),w instanceof Date)R=he(w);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(w))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=w}return we=R},P=y.__private__.getCreationDate=function(w){var R=we;return w==="jsDate"&&(R=xe(we)),R};y.setCreationDate=function(w){return X(w),this},y.getCreationDate=function(w){return P(w)};var Y,W=y.__private__.padd2=function(w){return("0"+parseInt(w)).slice(-2)},ne=y.__private__.padd2Hex=function(w){return("00"+(w=w.toString())).substr(w.length)},le=0,me=[],Se=[],Ee=0,Fe=[],We=[],et=!1,tt=Se;y.__private__.setCustomOutputDestination=function(w){et=!0,tt=w};var vt=function(w){et||(tt=w)};y.__private__.resetCustomOutputDestination=function(){et=!1,tt=Se};var Z=y.__private__.out=function(w){return w=w.toString(),Ee+=w.length+1,tt.push(w),tt},rt=y.__private__.write=function(w){return Z(arguments.length===1?w.toString():Array.prototype.join.call(arguments," "))},bt=y.__private__.getArrayBuffer=function(w){for(var R=w.length,re=new ArrayBuffer(R),fe=new Uint8Array(re);R--;)fe[R]=w.charCodeAt(R);return re},pt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];y.__private__.getStandardFonts=function(){return pt};var He=t.fontSize||16;y.__private__.setFontSize=y.setFontSize=function(w){return He=D===T?w/Ft:w,this};var jt,Me=y.__private__.getFontSize=y.getFontSize=function(){return D===B?He:He*Ft},at=t.R2L||!1;y.__private__.setR2L=y.setR2L=function(w){return at=w,this},y.__private__.getR2L=y.getR2L=function(){return at};var wt,vr=y.__private__.setZoomMode=function(w){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(w))jt=w;else if(isNaN(w)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(w)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+w+'" is not recognized.');jt=w}else jt=parseInt(w,10)};y.__private__.getZoomMode=function(){return jt};var Ht,Pt=y.__private__.setPageMode=function(w){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(w)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+w+'" is not recognized.');wt=w};y.__private__.getPageMode=function(){return wt};var nr=y.__private__.setLayoutMode=function(w){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(w)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+w+'" is not recognized.');Ht=w};y.__private__.getLayoutMode=function(){return Ht},y.__private__.setDisplayMode=y.setDisplayMode=function(w,R,re){return vr(w),nr(R),Pt(re),this};var Zt={title:"",subject:"",author:"",keywords:"",creator:""};y.__private__.getDocumentProperty=function(w){if(Object.keys(Zt).indexOf(w)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Zt[w]},y.__private__.getDocumentProperties=function(){return Zt},y.__private__.setDocumentProperties=y.setProperties=y.setDocumentProperties=function(w){for(var R in Zt)Zt.hasOwnProperty(R)&&w[R]&&(Zt[R]=w[R]);return this},y.__private__.setDocumentProperty=function(w,R){if(Object.keys(Zt).indexOf(w)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Zt[w]=R};var ht,Ft,st,Hr,sr,Yt={},Qt={},qr=[],ct={},br={},kt={},Bt={},Sr=null,Wt=0,St=[],fr=new a1(y),Ga=t.hotfixes||[],Mn={},Ji={},va=[],nt=function w(R,re,fe,_e,Be,qe){if(!(this instanceof w))return new w(R,re,fe,_e,Be,qe);isNaN(R)&&(R=1),isNaN(re)&&(re=0),isNaN(fe)&&(fe=0),isNaN(_e)&&(_e=1),isNaN(Be)&&(Be=0),isNaN(qe)&&(qe=0),this._matrix=[R,re,fe,_e,Be,qe]};Object.defineProperty(nt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(nt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(nt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(nt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(nt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(nt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(nt.prototype,"a",{get:function(){return this._matrix[0]},set:function(w){this._matrix[0]=w}}),Object.defineProperty(nt.prototype,"b",{get:function(){return this._matrix[1]},set:function(w){this._matrix[1]=w}}),Object.defineProperty(nt.prototype,"c",{get:function(){return this._matrix[2]},set:function(w){this._matrix[2]=w}}),Object.defineProperty(nt.prototype,"d",{get:function(){return this._matrix[3]},set:function(w){this._matrix[3]=w}}),Object.defineProperty(nt.prototype,"e",{get:function(){return this._matrix[4]},set:function(w){this._matrix[4]=w}}),Object.defineProperty(nt.prototype,"f",{get:function(){return this._matrix[5]},set:function(w){this._matrix[5]=w}}),Object.defineProperty(nt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(nt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(nt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(nt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),nt.prototype.join=function(w){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Q).join(w)},nt.prototype.multiply=function(w){var R=w.sx*this.sx+w.shy*this.shx,re=w.sx*this.shy+w.shy*this.sy,fe=w.shx*this.sx+w.sy*this.shx,_e=w.shx*this.shy+w.sy*this.sy,Be=w.tx*this.sx+w.ty*this.shx+this.tx,qe=w.tx*this.shy+w.ty*this.sy+this.ty;return new nt(R,re,fe,_e,Be,qe)},nt.prototype.decompose=function(){var w=this.sx,R=this.shy,re=this.shx,fe=this.sy,_e=this.tx,Be=this.ty,qe=Math.sqrt(w*w+R*R),Ye=(w/=qe)*re+(R/=qe)*fe;re-=w*Ye,fe-=R*Ye;var it=Math.sqrt(re*re+fe*fe);return Ye/=it,w*(fe/=it)<R*(re/=it)&&(w=-w,R=-R,Ye=-Ye,qe=-qe),{scale:new nt(qe,0,0,it,0,0),translate:new nt(1,0,0,1,_e,Be),rotate:new nt(w,R,-R,w,0,0),skew:new nt(1,0,Ye,1,0,0)}},nt.prototype.toString=function(w){return this.join(" ")},nt.prototype.inversed=function(){var w=this.sx,R=this.shy,re=this.shx,fe=this.sy,_e=this.tx,Be=this.ty,qe=1/(w*fe-R*re),Ye=fe*qe,it=-R*qe,Tt=-re*qe,zt=w*qe;return new nt(Ye,it,Tt,zt,-Ye*_e-Tt*Be,-it*_e-zt*Be)},nt.prototype.applyToPoint=function(w){var R=w.x*this.sx+w.y*this.shx+this.tx,re=w.x*this.shy+w.y*this.sy+this.ty;return new ji(R,re)},nt.prototype.applyToRectangle=function(w){var R=this.applyToPoint(w),re=this.applyToPoint(new ji(w.x+w.w,w.y+w.h));return new Zs(R.x,R.y,re.x-R.x,re.y-R.y)},nt.prototype.clone=function(){var w=this.sx,R=this.shy,re=this.shx,fe=this.sy,_e=this.tx,Be=this.ty;return new nt(w,R,re,fe,_e,Be)},y.Matrix=nt;var Yr=y.matrixMult=function(w,R){return R.multiply(w)},ya=new nt(1,0,0,1,0,0);y.unitMatrix=y.identityMatrix=ya;var ai=function(w,R){if(!br[w]){var re=(R instanceof du?"Sh":"P")+(Object.keys(ct).length+1).toString(10);R.id=re,br[w]=re,ct[re]=R,fr.publish("addPattern",R)}};y.ShadingPattern=du,y.TilingPattern=td,y.addShadingPattern=function(w,R){return J("addShadingPattern()"),ai(w,R),this},y.beginTilingPattern=function(w){J("beginTilingPattern()"),Bi(w.boundingBox[0],w.boundingBox[1],w.boundingBox[2]-w.boundingBox[0],w.boundingBox[3]-w.boundingBox[1],w.matrix)},y.endTilingPattern=function(w,R){J("endTilingPattern()"),R.stream=We[Y].join(`
`),ai(w,R),fr.publish("endTilingPattern",R),va.pop().restore()};var pn,yr=y.__private__.newObject=function(){var w=Xr();return mn(w,!0),w},Xr=y.__private__.newObjectDeferred=function(){return le++,me[le]=function(){return Ee},le},mn=function(w,R){return R=typeof R=="boolean"&&R,me[w]=Ee,R&&Z(w+" 0 obj"),w},Ka=y.__private__.newAdditionalObject=function(){var w={objId:Xr(),content:""};return Fe.push(w),w},Ws=Xr(),cn=Xr(),si=y.__private__.decodeColorString=function(w){var R=w.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length!==5||R[4]!=="k"&&R[4]!=="K"||(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var re=parseFloat(R[0]);R=[re,re,re,"r"]}for(var fe="#",_e=0;_e<3;_e++)fe+=("0"+Math.floor(255*parseFloat(R[_e])).toString(16)).slice(-2);return fe},Tn=y.__private__.encodeColorString=function(w){var R;typeof w=="string"&&(w={ch1:w});var re=w.ch1,fe=w.ch2,_e=w.ch3,Be=w.ch4,qe=w.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var Ye=new hv(re);if(Ye.ok)re=Ye.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var it=parseInt(re.substr(1),16);re=it>>16&255,fe=it>>8&255,_e=255&it}if(fe===void 0||Be===void 0&&re===fe&&fe===_e)R=typeof re=="string"?re+" "+qe[0]:w.precision===2?O(re/255)+" "+qe[0]:K(re/255)+" "+qe[0];else if(Be===void 0||Kr(Be)==="object"){if(Be&&!isNaN(Be.a)&&Be.a===0)return["1.","1.","1.",qe[1]].join(" ");R=typeof re=="string"?[re,fe,_e,qe[1]].join(" "):w.precision===2?[O(re/255),O(fe/255),O(_e/255),qe[1]].join(" "):[K(re/255),K(fe/255),K(_e/255),qe[1]].join(" ")}else R=typeof re=="string"?[re,fe,_e,Be,qe[2]].join(" "):w.precision===2?[O(re),O(fe),O(_e),O(Be),qe[2]].join(" "):[K(re),K(fe),K(_e),K(Be),qe[2]].join(" ");return R},Yi=y.__private__.getFilters=function(){return c},oi=y.__private__.putStream=function(w){var R=(w=w||{}).data||"",re=w.filters||Yi(),fe=w.alreadyAppliedFilters||[],_e=w.addLength1||!1,Be=R.length,qe=w.objectId,Ye=function(Nn){return Nn};if(x!==null&&qe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");x!==null&&(Ye=Sn.encryptor(qe,0));var it={};re===!0&&(re=["FlateEncode"]);var Tt=w.additionalKeyValues||[],zt=(it=Ct.API.processDataByFilters!==void 0?Ct.API.processDataByFilters(R,re):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(fe)?fe.join(" "):fe.toString());if(it.data.length!==0&&(Tt.push({key:"Length",value:it.data.length}),_e===!0&&Tt.push({key:"Length1",value:Be})),zt.length!=0)if(zt.split("/").length-1==1)Tt.push({key:"Filter",value:zt});else{Tt.push({key:"Filter",value:"["+zt+"]"});for(var or=0;or<Tt.length;or+=1)if(Tt[or].key==="DecodeParms"){for(var tn=[],Ar=0;Ar<it.reverseChain.split("/").length-1;Ar+=1)tn.push("null");tn.push(Tt[or].value),Tt[or].value="["+tn.join(" ")+"]"}}Z("<<");for(var Nr=0;Nr<Tt.length;Nr++)Z("/"+Tt[Nr].key+" "+Tt[Nr].value);Z(">>"),it.data.length!==0&&(Z("stream"),Z(Ye(it.data)),Z("endstream"))},vo=y.__private__.putPage=function(w){var R=w.number,re=w.data,fe=w.objId,_e=w.contentsObjId;mn(fe,!0),Z("<</Type /Page"),Z("/Parent "+w.rootDictionaryObjId+" 0 R"),Z("/Resources "+w.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(Q(w.mediaBox.bottomLeftX))+" "+parseFloat(Q(w.mediaBox.bottomLeftY))+" "+Q(w.mediaBox.topRightX)+" "+Q(w.mediaBox.topRightY)+"]"),w.cropBox!==null&&Z("/CropBox ["+Q(w.cropBox.bottomLeftX)+" "+Q(w.cropBox.bottomLeftY)+" "+Q(w.cropBox.topRightX)+" "+Q(w.cropBox.topRightY)+"]"),w.bleedBox!==null&&Z("/BleedBox ["+Q(w.bleedBox.bottomLeftX)+" "+Q(w.bleedBox.bottomLeftY)+" "+Q(w.bleedBox.topRightX)+" "+Q(w.bleedBox.topRightY)+"]"),w.trimBox!==null&&Z("/TrimBox ["+Q(w.trimBox.bottomLeftX)+" "+Q(w.trimBox.bottomLeftY)+" "+Q(w.trimBox.topRightX)+" "+Q(w.trimBox.topRightY)+"]"),w.artBox!==null&&Z("/ArtBox ["+Q(w.artBox.bottomLeftX)+" "+Q(w.artBox.bottomLeftY)+" "+Q(w.artBox.topRightX)+" "+Q(w.artBox.topRightY)+"]"),typeof w.userUnit=="number"&&w.userUnit!==1&&Z("/UserUnit "+w.userUnit),fr.publish("putPage",{objId:fe,pageContext:St[R],pageNumber:R,page:re}),Z("/Contents "+_e+" 0 R"),Z(">>"),Z("endobj");var Be=re.join(`
`);return D===T&&(Be+=`
Q`),mn(_e,!0),oi({data:Be,filters:Yi(),objectId:_e}),Z("endobj"),fe},li=y.__private__.putPages=function(){var w,R,re=[];for(w=1;w<=Wt;w++)St[w].objId=Xr(),St[w].contentsObjId=Xr();for(w=1;w<=Wt;w++)re.push(vo({number:w,data:We[w],objId:St[w].objId,contentsObjId:St[w].contentsObjId,mediaBox:St[w].mediaBox,cropBox:St[w].cropBox,bleedBox:St[w].bleedBox,trimBox:St[w].trimBox,artBox:St[w].artBox,userUnit:St[w].userUnit,rootDictionaryObjId:Ws,resourceDictionaryObjId:cn}));mn(Ws,!0),Z("<</Type /Pages");var fe="/Kids [";for(R=0;R<Wt;R++)fe+=re[R]+" 0 R ";Z(fe+"]"),Z("/Count "+Wt),Z(">>"),Z("endobj"),fr.publish("postPutPages")},Ja=function(w){fr.publish("putFont",{font:w,out:Z,newObject:yr,putStream:oi}),w.isAlreadyPutted!==!0&&(w.objectNumber=yr(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+Qu(w.postScriptName)),Z("/Subtype /Type1"),typeof w.encoding=="string"&&Z("/Encoding /"+w.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},Vs=function(w){w.objectNumber=yr();var R=[];R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Form"}),R.push({key:"BBox",value:"["+[Q(w.x),Q(w.y),Q(w.x+w.width),Q(w.y+w.height)].join(" ")+"]"}),R.push({key:"Matrix",value:"["+w.matrix.toString()+"]"});var re=w.pages[1].join(`
`);oi({data:re,additionalKeyValues:R,objectId:w.objectNumber}),Z("endobj")},yo=function(w,R){R||(R=21);var re=yr(),fe=function(qe,Ye){var it,Tt=[],zt=1/(Ye-1);for(it=0;it<1;it+=zt)Tt.push(it);if(Tt.push(1),qe[0].offset!=0){var or={offset:0,color:qe[0].color};qe.unshift(or)}if(qe[qe.length-1].offset!=1){var tn={offset:1,color:qe[qe.length-1].color};qe.push(tn)}for(var Ar="",Nr=0,Nn=0;Nn<Tt.length;Nn++){for(it=Tt[Nn];it>qe[Nr+1].offset;)Nr++;var xn=qe[Nr].offset,wr=(it-xn)/(qe[Nr+1].offset-xn),ui=qe[Nr].color,na=qe[Nr+1].color;Ar+=ne(Math.round((1-wr)*ui[0]+wr*na[0]).toString(16))+ne(Math.round((1-wr)*ui[1]+wr*na[1]).toString(16))+ne(Math.round((1-wr)*ui[2]+wr*na[2]).toString(16))}return Ar.trim()}(w.colors,R),_e=[];_e.push({key:"FunctionType",value:"0"}),_e.push({key:"Domain",value:"[0.0 1.0]"}),_e.push({key:"Size",value:"["+R+"]"}),_e.push({key:"BitsPerSample",value:"8"}),_e.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),_e.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),oi({data:fe,additionalKeyValues:_e,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),Z("endobj"),w.objectNumber=yr(),Z("<< /ShadingType "+w.type),Z("/ColorSpace /DeviceRGB");var Be="/Coords ["+Q(parseFloat(w.coords[0]))+" "+Q(parseFloat(w.coords[1]))+" ";w.type===2?Be+=Q(parseFloat(w.coords[2]))+" "+Q(parseFloat(w.coords[3])):Be+=Q(parseFloat(w.coords[2]))+" "+Q(parseFloat(w.coords[3]))+" "+Q(parseFloat(w.coords[4]))+" "+Q(parseFloat(w.coords[5])),Z(Be+="]"),w.matrix&&Z("/Matrix ["+w.matrix.toString()+"]"),Z("/Function "+re+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},Xi=function(w,R){var re=Xr(),fe=yr();R.push({resourcesOid:re,objectOid:fe}),w.objectNumber=fe;var _e=[];_e.push({key:"Type",value:"/Pattern"}),_e.push({key:"PatternType",value:"1"}),_e.push({key:"PaintType",value:"1"}),_e.push({key:"TilingType",value:"1"}),_e.push({key:"BBox",value:"["+w.boundingBox.map(Q).join(" ")+"]"}),_e.push({key:"XStep",value:Q(w.xStep)}),_e.push({key:"YStep",value:Q(w.yStep)}),_e.push({key:"Resources",value:re+" 0 R"}),w.matrix&&_e.push({key:"Matrix",value:"["+w.matrix.toString()+"]"}),oi({data:w.stream,additionalKeyValues:_e,objectId:w.objectNumber}),Z("endobj")},wo=function(w){for(var R in w.objectNumber=yr(),Z("<<"),w)switch(R){case"opacity":Z("/ca "+O(w[R]));break;case"stroke-opacity":Z("/CA "+O(w[R]))}Z(">>"),Z("endobj")},Br=function(w){mn(w.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var R in Z("/Font <<"),Yt)Yt.hasOwnProperty(R)&&(m===!1||m===!0&&j.hasOwnProperty(R))&&Z("/"+R+" "+Yt[R].objectNumber+" 0 R");Z(">>")}(),function(){if(Object.keys(ct).length>0){for(var R in Z("/Shading <<"),ct)ct.hasOwnProperty(R)&&ct[R]instanceof du&&ct[R].objectNumber>=0&&Z("/"+R+" "+ct[R].objectNumber+" 0 R");fr.publish("putShadingPatternDict"),Z(">>")}}(),function(R){if(Object.keys(ct).length>0){for(var re in Z("/Pattern <<"),ct)ct.hasOwnProperty(re)&&ct[re]instanceof y.TilingPattern&&ct[re].objectNumber>=0&&ct[re].objectNumber<R&&Z("/"+re+" "+ct[re].objectNumber+" 0 R");fr.publish("putTilingPatternDict"),Z(">>")}}(w.objectOid),function(){if(Object.keys(kt).length>0){var R;for(R in Z("/ExtGState <<"),kt)kt.hasOwnProperty(R)&&kt[R].objectNumber>=0&&Z("/"+R+" "+kt[R].objectNumber+" 0 R");fr.publish("putGStateDict"),Z(">>")}}(),function(){for(var R in Z("/XObject <<"),Mn)Mn.hasOwnProperty(R)&&Mn[R].objectNumber>=0&&Z("/"+R+" "+Mn[R].objectNumber+" 0 R");fr.publish("putXobjectDict"),Z(">>")}(),Z(">>"),Z("endobj")},Dl=function(w){Qt[w.fontName]=Qt[w.fontName]||{},Qt[w.fontName][w.fontStyle]=w.id},vs=function(w,R,re,fe,_e){var Be={id:"F"+(Object.keys(Yt).length+1).toString(10),postScriptName:w,fontName:R,fontStyle:re,encoding:fe,isStandardFont:_e||!1,metadata:{}};return fr.publish("addFont",{font:Be,instance:this}),Yt[Be.id]=Be,Dl(Be),Be.id},Zi=y.__private__.pdfEscape=y.pdfEscape=function(w,R){return function(re,fe){var _e,Be,qe,Ye,it,Tt,zt,or,tn;if(qe=(fe=fe||{}).sourceEncoding||"Unicode",it=fe.outputEncoding,(fe.autoencode||it)&&Yt[ht].metadata&&Yt[ht].metadata[qe]&&Yt[ht].metadata[qe].encoding&&(Ye=Yt[ht].metadata[qe].encoding,!it&&Yt[ht].encoding&&(it=Yt[ht].encoding),!it&&Ye.codePages&&(it=Ye.codePages[0]),typeof it=="string"&&(it=Ye[it]),it)){for(zt=!1,Tt=[],_e=0,Be=re.length;_e<Be;_e++)(or=it[re.charCodeAt(_e)])?Tt.push(String.fromCharCode(or)):Tt.push(re[_e]),Tt[_e].charCodeAt(0)>>8&&(zt=!0);re=Tt.join("")}for(_e=re.length;zt===void 0&&_e!==0;)re.charCodeAt(_e-1)>>8&&(zt=!0),_e--;if(!zt)return re;for(Tt=fe.noBOM?[]:[254,255],_e=0,Be=re.length;_e<Be;_e++){if((tn=(or=re.charCodeAt(_e))>>8)>>8)throw new Error("Character at position "+_e+" of string '"+re+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Tt.push(tn),Tt.push(or-(tn<<8))}return String.fromCharCode.apply(void 0,Tt)}(w,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yi=y.__private__.beginPage=function(w){We[++Wt]=[],St[Wt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(w[0]),topRightY:Number(w[1])}},Gs(Wt),vt(We[Y])},_o=function(w,R){var re,fe,_e;switch(r=R||r,typeof w=="string"&&(re=E(w.toLowerCase()),Array.isArray(re)&&(fe=re[0],_e=re[1])),Array.isArray(w)&&(fe=w[0]*Ft,_e=w[1]*Ft),isNaN(fe)&&(fe=a[0],_e=a[1]),(fe>14400||_e>14400)&&(ln.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),fe=Math.min(14400,fe),_e=Math.min(14400,_e)),a=[fe,_e],r.substr(0,1)){case"l":_e>fe&&(a=[_e,fe]);break;case"p":fe>_e&&(a=[_e,fe])}yi(a),Et(Wn),Z(ta),Za!==0&&Z(Za+" J"),Ao!==0&&Z(Ao+" j"),fr.publish("addPage",{pageNumber:Wt})},Ii=function(w){w>0&&w<=Wt&&(We.splice(w,1),St.splice(w,1),Wt--,Y>Wt&&(Y=Wt),this.setPage(Y))},Gs=function(w){w>0&&w<=Wt&&(Y=w)},lr=y.__private__.getNumberOfPages=y.getNumberOfPages=function(){return We.length-1},Oi=function(w,R,re){var fe,_e=void 0;return re=re||{},w=w!==void 0?w:Yt[ht].fontName,R=R!==void 0?R:Yt[ht].fontStyle,fe=w.toLowerCase(),Qt[fe]!==void 0&&Qt[fe][R]!==void 0?_e=Qt[fe][R]:Qt[w]!==void 0&&Qt[w][R]!==void 0?_e=Qt[w][R]:re.disableWarning===!1&&ln.warn("Unable to look up font label for font '"+w+"', '"+R+"'. Refer to getFontList() for available fonts."),_e||re.noFallback||(_e=Qt.times[R])==null&&(_e=Qt.times.normal),_e},Zr=y.__private__.putInfo=function(){var w=yr(),R=function(fe){return fe};for(var re in x!==null&&(R=Sn.encryptor(w,0)),Z("<<"),Z("/Producer ("+Zi(R("jsPDF "+Ct.version))+")"),Zt)Zt.hasOwnProperty(re)&&Zt[re]&&Z("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+Zi(R(Zt[re]))+")");Z("/CreationDate ("+Zi(R(we))+")"),Z(">>"),Z("endobj")},jo=y.__private__.putCatalog=function(w){var R=(w=w||{}).rootDictionaryObjId||Ws;switch(yr(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+R+" 0 R"),jt||(jt="fullwidth"),jt){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+jt;re.substr(re.length-1)==="%"&&(jt=parseInt(jt)/100),typeof jt=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+O(jt)+"]")}switch(Ht||(Ht="continuous"),Ht){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}wt&&Z("/PageMode /"+wt),fr.publish("putCatalog"),Z(">>"),Z("endobj")},sc=y.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(le+1)),Z("/Root "+le+" 0 R"),Z("/Info "+(le-1)+" 0 R"),x!==null&&Z("/Encrypt "+Sn.oid+" 0 R"),Z("/ID [ <"+Ae+"> <"+Ae+"> ]"),Z(">>")},Qr=y.__private__.putHeader=function(){Z("%PDF-"+C),Z("%")},Ks=y.__private__.putXRef=function(){var w="0000000000";Z("xref"),Z("0 "+(le+1)),Z("0000000000 65535 f ");for(var R=1;R<=le;R++)typeof me[R]=="function"?Z((w+me[R]()).slice(-10)+" 00000 n "):me[R]!==void 0?Z((w+me[R]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},Qi=y.__private__.buildDocument=function(){var w;le=0,Ee=0,Se=[],me=[],Fe=[],Ws=Xr(),cn=Xr(),vt(Se),fr.publish("buildDocument"),Qr(),li(),function(){fr.publish("putAdditionalObjects");for(var re=0;re<Fe.length;re++){var fe=Fe[re];mn(fe.objId,!0),Z(fe.content),Z("endobj")}fr.publish("postPutAdditionalObjects")}(),w=[],function(){for(var re in Yt)Yt.hasOwnProperty(re)&&(m===!1||m===!0&&j.hasOwnProperty(re))&&Ja(Yt[re])}(),function(){var re;for(re in kt)kt.hasOwnProperty(re)&&wo(kt[re])}(),function(){for(var re in Mn)Mn.hasOwnProperty(re)&&Vs(Mn[re])}(),function(re){var fe;for(fe in ct)ct.hasOwnProperty(fe)&&(ct[fe]instanceof du?yo(ct[fe]):ct[fe]instanceof td&&Xi(ct[fe],re))}(w),fr.publish("putResources"),w.forEach(Br),Br({resourcesOid:cn,objectOid:Number.MAX_SAFE_INTEGER}),fr.publish("postPutResources"),x!==null&&(Sn.oid=yr(),Z("<<"),Z("/Filter /Standard"),Z("/V "+Sn.v),Z("/R "+Sn.r),Z("/U <"+Sn.toHexString(Sn.U)+">"),Z("/O <"+Sn.toHexString(Sn.O)+">"),Z("/P "+Sn.P),Z(">>"),Z("endobj")),Zr(),jo();var R=Ee;return Ks(),sc(),Z("startxref"),Z(""+R),Z("%%EOF"),vt(We[Y]),Se.join(`
`)},Rn=y.__private__.getBlob=function(w){return new Blob([bt(w)],{type:"application/pdf"})},wa=y.output=y.__private__.output=(pn=function(w,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",w){case void 0:return Qi();case"save":y.save(R.filename);break;case"arraybuffer":return bt(Qi());case"blob":return Rn(Qi());case"bloburi":case"bloburl":if(Jt.URL!==void 0&&typeof Jt.URL.createObjectURL=="function")return Jt.URL&&Jt.URL.createObjectURL(Rn(Qi()))||void 0;ln.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",fe=Qi();try{re=r1(fe)}catch{re=r1(unescape(encodeURIComponent(fe)))}return"data:application/pdf;filename="+R.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Jt)==="[object Window]"){var _e="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Be=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(_e=R.pdfObjectUrl,Be="");var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+_e+'"'+Be+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");<\/script></body></html>",Ye=Jt.open();return Ye!==null&&Ye.document.write(qe),Ye}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Jt)==="[object Window]"){var it='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',Tt=Jt.open();if(Tt!==null){Tt.document.write(it);var zt=this;Tt.document.documentElement.querySelector("#pdfViewer").onload=function(){Tt.document.title=R.filename,Tt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(zt.output("bloburl"))}}return Tt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Jt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var or='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',tn=Jt.open();if(tn!==null&&(tn.document.write(or),tn.document.title=R.filename),tn||typeof safari>"u")return tn;break;case"datauri":case"dataurl":return Jt.document.location.href=this.output("datauristring",R);default:return null}},pn.foo=function(){try{return pn.apply(this,arguments)}catch(re){var w=re.stack||"";~w.indexOf(" at ")&&(w=w.split(" at ")[1]);var R="Error in function "+w.split(`
`)[0].split("<")[0]+": "+re.message;if(!Jt.console)throw new Error(R);Jt.console.error(R,re),Jt.alert&&alert(R)}},pn.foo.bar=pn,pn.foo),Di=function(w){return Array.isArray(Ga)===!0&&Ga.indexOf(w)>-1};switch(n){case"pt":Ft=1;break;case"mm":Ft=72/25.4;break;case"cm":Ft=72/2.54;break;case"in":Ft=72;break;case"px":Ft=Di("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ft=12;break;case"ex":Ft=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Ft=n}var Sn=null;X(),H();var _a=y.__private__.getPageInfo=y.getPageInfo=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:St[w].objId,pageNumber:w,pageContext:St[w]}},Fl=y.__private__.getPageInfoByObjId=function(w){if(isNaN(w)||w%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in St)if(St[R].objId===w)break;return _a(R)},Tr=y.__private__.getCurrentPageInfo=y.getCurrentPageInfo=function(){return{objId:St[Y].objId,pageNumber:Y,pageContext:St[Y]}};y.addPage=function(){return _o.apply(this,arguments),this},y.setPage=function(){return Gs.apply(this,arguments),vt.call(this,We[Y]),this},y.insertPage=function(w){return this.addPage(),this.movePage(Y,w),this},y.movePage=function(w,R){var re,fe;if(w>R){re=We[w],fe=St[w];for(var _e=w;_e>R;_e--)We[_e]=We[_e-1],St[_e]=St[_e-1];We[R]=re,St[R]=fe,this.setPage(R)}else if(w<R){re=We[w],fe=St[w];for(var Be=w;Be<R;Be++)We[Be]=We[Be+1],St[Be]=St[Be+1];We[R]=re,St[R]=fe,this.setPage(R)}return this},y.deletePage=function(){return Ii.apply(this,arguments),this},y.__private__.text=y.text=function(w,R,re,fe,_e){var Be,qe,Ye,it,Tt,zt,or,tn,Ar,Nr=(fe=fe||{}).scope||this;if(typeof w=="number"&&typeof R=="number"&&(typeof re=="string"||Array.isArray(re))){var Nn=re;re=R,R=w,w=Nn}if(arguments[3]instanceof nt==0?(Ye=arguments[4],it=arguments[5],Kr(or=arguments[3])==="object"&&or!==null||(typeof Ye=="string"&&(it=Ye,Ye=null),typeof or=="string"&&(it=or,or=null),typeof or=="number"&&(Ye=or,or=null),fe={flags:or,angle:Ye,align:it})):(J("The transform parameter of text() with a Matrix value"),Ar=_e),isNaN(R)||isNaN(re)||w==null)throw new Error("Invalid arguments passed to jsPDF.text");if(w.length===0)return Nr;var xn,wr="",ui=typeof fe.lineHeightFactor=="number"?fe.lineHeightFactor:en,na=Nr.internal.scaleFactor;function es(xr){return xr=xr.split("	").join(Array(fe.TabLen||9).join(" ")),Zi(xr,or)}function ts(xr){for(var ur,un=xr.concat(),an=[],kn=un.length;kn--;)typeof(ur=un.shift())=="string"?an.push(ur):Array.isArray(xr)&&(ur.length===1||ur[1]===void 0&&ur[2]===void 0)?an.push(ur[0]):an.push([ur[0],ur[1],ur[2]]);return an}function Po(xr,ur){var un;if(typeof xr=="string")un=ur(xr)[0];else if(Array.isArray(xr)){for(var an,kn,ll=xr.concat(),Oo=[],oa=ll.length;oa--;)typeof(an=ll.shift())=="string"?Oo.push(ur(an)[0]):Array.isArray(an)&&typeof an[0]=="string"&&(kn=ur(an[0],an[1],an[2]),Oo.push([kn[0],kn[1],kn[2]]));un=Oo}return un}var _s=!1,js=!0;if(typeof w=="string")_s=!0;else if(Array.isArray(w)){var Ni=w.concat();qe=[];for(var to,ft=Ni.length;ft--;)(typeof(to=Ni.shift())!="string"||Array.isArray(to)&&typeof to[0]!="string")&&(js=!1);_s=js}if(_s===!1)throw new Error('Type of text must be string or Array. "'+w+'" is not recognized.');typeof w=="string"&&(w=w.match(/[\r?\n]/)?w.split(/\r\n|\r|\n/g):[w]);var di=He/Nr.internal.scaleFactor,ro=di*(ui-1);switch(fe.baseline){case"bottom":re-=ro;break;case"top":re+=di-ro;break;case"hanging":re+=di-2*ro;break;case"middle":re+=di/2-ro}if((zt=fe.maxWidth||0)>0&&(typeof w=="string"?w=Nr.splitTextToSize(w,zt):Object.prototype.toString.call(w)==="[object Array]"&&(w=w.reduce(function(xr,ur){return xr.concat(Nr.splitTextToSize(ur,zt))},[]))),Be={text:w,x:R,y:re,options:fe,mutex:{pdfEscape:Zi,activeFontKey:ht,fonts:Yt,activeFontSize:He}},fr.publish("preProcessText",Be),w=Be.text,Ye=(fe=Be.options).angle,Ar instanceof nt==0&&Ye&&typeof Ye=="number"){Ye*=Math.PI/180,fe.rotationDirection===0&&(Ye=-Ye),D===T&&(Ye=-Ye);var sl=Math.cos(Ye),ol=Math.sin(Ye);Ar=new nt(sl,ol,-ol,sl,0,0)}else Ye&&Ye instanceof nt&&(Ar=Ye);D!==T||Ar||(Ar=ya),(Tt=fe.charSpace||Fi)!==void 0&&(wr+=Q(ae(Tt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(tn=fe.horizontalScale)!==void 0&&(wr+=Q(100*tn)+` Tz
`),fe.lang;var ki=-1,qn=fe.renderingMode!==void 0?fe.renderingMode:fe.stroke,Na=Nr.internal.getCurrentPageInfo().pageContext;switch(qn){case 0:case!1:case"fill":ki=0;break;case 1:case!0:case"stroke":ki=1;break;case 2:case"fillThenStroke":ki=2;break;case 3:case"invisible":ki=3;break;case 4:case"fillAndAddForClipping":ki=4;break;case 5:case"strokeAndAddPathForClipping":ki=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ki=6;break;case 7:case"addToPathForClipping":ki=7}var To=Na.usedRenderingMode!==void 0?Na.usedRenderingMode:-1;ki!==-1?wr+=ki+` Tr
`:To!==-1&&(wr+=`0 Tr
`),ki!==-1&&(Na.usedRenderingMode=ki),it=fe.align||"left";var ia,Ss=He*ui,no=Nr.internal.pageSize.getWidth(),Ro=Yt[ht];Tt=fe.charSpace||Fi,zt=fe.maxWidth||0,or=Object.assign({autoencode:!0,noBOM:!0},fe.flags);var rs=[],Mi=function(xr){return Nr.getStringUnitWidth(xr,{font:Ro,charSpace:Tt,fontSize:He,doKerning:!1})*He/na};if(Object.prototype.toString.call(w)==="[object Array]"){var aa;qe=ts(w),it!=="left"&&(ia=qe.map(Mi));var qi,io=0;if(it==="right"){R-=ia[0],w=[],ft=qe.length;for(var ka=0;ka<ft;ka++)ka===0?(qi=bn(R),aa=Xa(re)):(qi=ae(io-ia[ka]),aa=-Ss),w.push([qe[ka],qi,aa]),io=ia[ka]}else if(it==="center"){R-=ia[0]/2,w=[],ft=qe.length;for(var Ns=0;Ns<ft;Ns++)Ns===0?(qi=bn(R),aa=Xa(re)):(qi=ae((io-ia[Ns])/2),aa=-Ss),w.push([qe[Ns],qi,aa]),io=ia[Ns]}else if(it==="left"){w=[],ft=qe.length;for(var ks=0;ks<ft;ks++)w.push(qe[ks])}else if(it==="justify"&&Ro.encoding==="Identity-H"){w=[],ft=qe.length,zt=zt!==0?zt:no;for(var Fa=0,Er=0;Er<ft;Er++)if(aa=Er===0?Xa(re):-Ss,qi=Er===0?bn(R):Fa,Er<ft-1){var ao=ae((zt-ia[Er])/(qe[Er].split(" ").length-1)),ns=qe[Er].split(" ");w.push([ns[0]+" ",qi,aa]),Fa=0;for(var Ca=1;Ca<ns.length;Ca++){var Rr=(Mi(ns[Ca-1]+" "+ns[Ca])-Mi(ns[Ca]))*na+ao;Ca==ns.length-1?w.push([ns[Ca],Rr,0]):w.push([ns[Ca]+" ",Rr,0]),Fa-=Rr}}else w.push([qe[Er],qi,aa]);w.push(["",Fa,0])}else{if(it!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(w=[],ft=qe.length,zt=zt!==0?zt:no,Er=0;Er<ft;Er++){aa=Er===0?Xa(re):-Ss,qi=Er===0?bn(R):0;var sa=qe[Er].split(" ").length-1,so=sa>0?(zt-ia[Er])/sa:0;Er<ft-1?rs.push(Q(ae(so))):rs.push(0),w.push([qe[Er],qi,aa])}}}(typeof fe.R2L=="boolean"?fe.R2L:at)===!0&&(w=Po(w,function(xr,ur,un){return[xr.split("").reverse().join(""),ur,un]})),Be={text:w,x:R,y:re,options:fe,mutex:{pdfEscape:Zi,activeFontKey:ht,fonts:Yt,activeFontSize:He}},fr.publish("postProcessText",Be),w=Be.text,xn=Be.mutex.isHex||!1;var Io=Yt[ht].encoding;Io!=="WinAnsiEncoding"&&Io!=="StandardEncoding"||(w=Po(w,function(xr,ur,un){return[es(xr),ur,un]})),qe=ts(w),w=[];for(var Ba,Gn,Ui,hi=Array.isArray(qe[0])?1:0,is="",oo=function(xr,ur,un){var an="";return un instanceof nt?(un=typeof fe.angle=="number"?Yr(un,new nt(1,0,0,1,xr,ur)):Yr(new nt(1,0,0,1,xr,ur),un),D===T&&(un=Yr(new nt(1,0,0,-1,0,0),un)),an=un.join(" ")+` Tm
`):an=Q(xr)+" "+Q(ur)+` Td
`,an},rn=0;rn<qe.length;rn++){switch(is="",hi){case 1:Ui=(xn?"<":"(")+qe[rn][0]+(xn?">":")"),Ba=parseFloat(qe[rn][1]),Gn=parseFloat(qe[rn][2]);break;case 0:Ui=(xn?"<":"(")+qe[rn]+(xn?">":")"),Ba=bn(R),Gn=Xa(re)}rs!==void 0&&rs[rn]!==void 0&&(is=rs[rn]+` Tw
`),rn===0?w.push(is+oo(Ba,Gn,Ar)+Ui):hi===0?w.push(is+Ui):hi===1&&w.push(is+oo(Ba,Gn,Ar)+Ui)}w=hi===0?w.join(` Tj
T* `):w.join(` Tj
`),w+=` Tj
`;var nn=`BT
/`;return nn+=ht+" "+He+` Tf
`,nn+=Q(He*ui)+` TL
`,nn+=Sa+`
`,nn+=wr,nn+=w,Z(nn+="ET"),j[ht]=!0,Nr};var wi=y.__private__.clip=y.clip=function(w){return Z(w==="evenodd"?"W*":"W"),this};y.clipEvenOdd=function(){return wi("evenodd")},y.__private__.discardPath=y.discardPath=function(){return Z("n"),this};var ja=y.__private__.isValidStyle=function(w){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(w)!==-1&&(R=!0),R};y.__private__.setDefaultPathOperation=y.setDefaultPathOperation=function(w){return ja(w)&&(f=w),this};var So=y.__private__.getStyle=y.getStyle=function(w){var R=f;switch(w){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=w}return R},cr=y.close=function(){return Z("h"),this};y.stroke=function(){return Z("S"),this},y.fill=function(w){return Js("f",w),this},y.fillEvenOdd=function(w){return Js("f*",w),this},y.fillStroke=function(w){return Js("B",w),this},y.fillStrokeEvenOdd=function(w){return Js("B*",w),this};var Js=function(w,R){Kr(R)==="object"?ko(R,w):Z(w)},ys=function(w){w===null||D===T&&w===void 0||(w=So(w),Z(w))};function No(w,R,re,fe,_e){var Be=new td(R||this.boundingBox,re||this.xStep,fe||this.yStep,this.gState,_e||this.matrix);Be.stream=this.stream;var qe=w+"$$"+this.cloneIndex+++"$$";return ai(qe,Be),Be}var ko=function(w,R){var re=br[w.key],fe=ct[re];if(fe instanceof du)Z("q"),Z(oc(R)),fe.gState&&y.setGState(fe.gState),Z(w.matrix.toString()+" cm"),Z("/"+re+" sh"),Z("Q");else if(fe instanceof td){var _e=new nt(1,0,0,-1,0,ra());w.matrix&&(_e=_e.multiply(w.matrix||ya),re=No.call(fe,w.key,w.boundingBox,w.xStep,w.yStep,_e).id),Z("q"),Z("/Pattern cs"),Z("/"+re+" scn"),fe.gState&&y.setGState(fe.gState),Z(R),Z("Q")}},oc=function(w){switch(w){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Oa=y.moveTo=function(w,R){return Z(Q(ae(w))+" "+Q(ce(R))+" m"),this},Ys=y.lineTo=function(w,R){return Z(Q(ae(w))+" "+Q(ce(R))+" l"),this},_i=y.curveTo=function(w,R,re,fe,_e,Be){return Z([Q(ae(w)),Q(ce(R)),Q(ae(re)),Q(ce(fe)),Q(ae(_e)),Q(ce(Be)),"c"].join(" ")),this};y.__private__.line=y.line=function(w,R,re,fe,_e){if(isNaN(w)||isNaN(R)||isNaN(re)||isNaN(fe)||!ja(_e))throw new Error("Invalid arguments passed to jsPDF.line");return D===B?this.lines([[re-w,fe-R]],w,R,[1,1],_e||"S"):this.lines([[re-w,fe-R]],w,R,[1,1]).stroke()},y.__private__.lines=y.lines=function(w,R,re,fe,_e,Be){var qe,Ye,it,Tt,zt,or,tn,Ar,Nr,Nn,xn,wr;if(typeof w=="number"&&(wr=re,re=R,R=w,w=wr),fe=fe||[1,1],Be=Be||!1,isNaN(R)||isNaN(re)||!Array.isArray(w)||!Array.isArray(fe)||!ja(_e)||typeof Be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Oa(R,re),qe=fe[0],Ye=fe[1],Tt=w.length,Nn=R,xn=re,it=0;it<Tt;it++)(zt=w[it]).length===2?(Nn=zt[0]*qe+Nn,xn=zt[1]*Ye+xn,Ys(Nn,xn)):(or=zt[0]*qe+Nn,tn=zt[1]*Ye+xn,Ar=zt[2]*qe+Nn,Nr=zt[3]*Ye+xn,Nn=zt[4]*qe+Nn,xn=zt[5]*Ye+xn,_i(or,tn,Ar,Nr,Nn,xn));return Be&&cr(),ys(_e),this},y.path=function(w){for(var R=0;R<w.length;R++){var re=w[R],fe=re.c;switch(re.op){case"m":Oa(fe[0],fe[1]);break;case"l":Ys(fe[0],fe[1]);break;case"c":_i.apply(this,fe);break;case"h":cr()}}return this},y.__private__.rect=y.rect=function(w,R,re,fe,_e){if(isNaN(w)||isNaN(R)||isNaN(re)||isNaN(fe)||!ja(_e))throw new Error("Invalid arguments passed to jsPDF.rect");return D===B&&(fe=-fe),Z([Q(ae(w)),Q(ce(R)),Q(ae(re)),Q(ae(fe)),"re"].join(" ")),ys(_e),this},y.__private__.triangle=y.triangle=function(w,R,re,fe,_e,Be,qe){if(isNaN(w)||isNaN(R)||isNaN(re)||isNaN(fe)||isNaN(_e)||isNaN(Be)||!ja(qe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-w,fe-R],[_e-re,Be-fe],[w-_e,R-Be]],w,R,[1,1],qe,!0),this},y.__private__.roundedRect=y.roundedRect=function(w,R,re,fe,_e,Be,qe){if(isNaN(w)||isNaN(R)||isNaN(re)||isNaN(fe)||isNaN(_e)||isNaN(Be)||!ja(qe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Ye=4/3*(Math.SQRT2-1);return _e=Math.min(_e,.5*re),Be=Math.min(Be,.5*fe),this.lines([[re-2*_e,0],[_e*Ye,0,_e,Be-Be*Ye,_e,Be],[0,fe-2*Be],[0,Be*Ye,-_e*Ye,Be,-_e,Be],[2*_e-re,0],[-_e*Ye,0,-_e,-Be*Ye,-_e,-Be],[0,2*Be-fe],[0,-Be*Ye,_e*Ye,-Be,_e,-Be]],w+_e,R,[1,1],qe,!0),this},y.__private__.ellipse=y.ellipse=function(w,R,re,fe,_e){if(isNaN(w)||isNaN(R)||isNaN(re)||isNaN(fe)||!ja(_e))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Be=4/3*(Math.SQRT2-1)*re,qe=4/3*(Math.SQRT2-1)*fe;return Oa(w+re,R),_i(w+re,R-qe,w+Be,R-fe,w,R-fe),_i(w-Be,R-fe,w-re,R-qe,w-re,R),_i(w-re,R+qe,w-Be,R+fe,w,R+fe),_i(w+Be,R+fe,w+re,R+qe,w+re,R),ys(_e),this},y.__private__.circle=y.circle=function(w,R,re,fe){if(isNaN(w)||isNaN(R)||isNaN(re)||!ja(fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(w,R,re,re,fe)},y.setFont=function(w,R,re){return re&&(R=se(R,re)),ht=Oi(w,R,{disableWarning:!1}),this};var Ya=y.__private__.getFont=y.getFont=function(){return Yt[Oi.apply(y,arguments)]};y.__private__.getFontList=y.getFontList=function(){var w,R,re={};for(w in Qt)if(Qt.hasOwnProperty(w))for(R in re[w]=[],Qt[w])Qt[w].hasOwnProperty(R)&&re[w].push(R);return re},y.addFont=function(w,R,re,fe,_e){var Be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Be.indexOf(arguments[3])!==-1?_e=arguments[3]:arguments[3]&&Be.indexOf(arguments[3])==-1&&(re=se(re,fe)),vs.call(this,w,R,re,_e=_e||"Identity-H")};var en,Wn=t.lineWidth||.200025,ws=y.__private__.getLineWidth=y.getLineWidth=function(){return Wn},Et=y.__private__.setLineWidth=y.setLineWidth=function(w){return Wn=w,Z(Q(ae(w))+" w"),this};y.__private__.setLineDash=Ct.API.setLineDash=Ct.API.setLineDashPattern=function(w,R){if(w=w||[],R=R||0,isNaN(R)||!Array.isArray(w))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return w=w.map(function(re){return Q(ae(re))}).join(" "),R=Q(ae(R)),Z("["+w+"] "+R+" d"),this};var ea=y.__private__.getLineHeight=y.getLineHeight=function(){return He*en};y.__private__.getLineHeight=y.getLineHeight=function(){return He*en};var Hc=y.__private__.setLineHeightFactor=y.setLineHeightFactor=function(w){return typeof(w=w||1.15)=="number"&&(en=w),this},gn=y.__private__.getLineHeightFactor=y.getLineHeightFactor=function(){return en};Hc(t.lineHeight);var bn=y.__private__.getHorizontalCoordinate=function(w){return ae(w)},Xa=y.__private__.getVerticalCoordinate=function(w){return D===T?w:St[Y].mediaBox.topRightY-St[Y].mediaBox.bottomLeftY-ae(w)},lc=y.__private__.getHorizontalCoordinateString=y.getHorizontalCoordinateString=function(w){return Q(bn(w))},Vn=y.__private__.getVerticalCoordinateString=y.getVerticalCoordinateString=function(w){return Q(Xa(w))},ta=t.strokeColor||"0 G";y.__private__.getStrokeColor=y.getDrawColor=function(){return si(ta)},y.__private__.setStrokeColor=y.setDrawColor=function(w,R,re,fe){return ta=Tn({ch1:w,ch2:R,ch3:re,ch4:fe,pdfColorType:"draw",precision:2}),Z(ta),this};var Co=t.fillColor||"0 g";y.__private__.getFillColor=y.getFillColor=function(){return si(Co)},y.__private__.setFillColor=y.setFillColor=function(w,R,re,fe){return Co=Tn({ch1:w,ch2:R,ch3:re,ch4:fe,pdfColorType:"fill",precision:2}),Z(Co),this};var Sa=t.textColor||"0 g",Xs=y.__private__.getTextColor=y.getTextColor=function(){return si(Sa)};y.__private__.setTextColor=y.setTextColor=function(w,R,re,fe){return Sa=Tn({ch1:w,ch2:R,ch3:re,ch4:fe,pdfColorType:"text",precision:3}),this};var Fi=t.charSpace,ci=y.__private__.getCharSpace=y.getCharSpace=function(){return parseFloat(Fi||0)};y.__private__.setCharSpace=y.setCharSpace=function(w){if(isNaN(w))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Fi=w,this};var Za=0;y.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},y.__private__.setLineCap=y.setLineCap=function(w){var R=y.CapJoinStyles[w];if(R===void 0)throw new Error("Line cap style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Za=R,Z(R+" J"),this};var Ao=0;y.__private__.setLineJoin=y.setLineJoin=function(w){var R=y.CapJoinStyles[w];if(R===void 0)throw new Error("Line join style of '"+w+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ao=R,Z(R+" j"),this},y.__private__.setLineMiterLimit=y.__private__.setMiterLimit=y.setLineMiterLimit=y.setMiterLimit=function(w){if(w=w||0,isNaN(w))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(Q(ae(w))+" M"),this},y.GState=yf,y.setGState=function(w){(w=typeof w=="string"?kt[Bt[w]]:Eo(null,w)).equals(Sr)||(Z("/"+w.id+" gs"),Sr=w)};var Eo=function(w,R){if(!w||!Bt[w]){var re=!1;for(var fe in kt)if(kt.hasOwnProperty(fe)&&kt[fe].equals(R)){re=!0;break}if(re)R=kt[fe];else{var _e="GS"+(Object.keys(kt).length+1).toString(10);kt[_e]=R,R.id=_e}return w&&(Bt[w]=R.id),fr.publish("addGState",R),R}};y.addGState=function(w,R){return Eo(w,R),this},y.saveGraphicsState=function(){return Z("q"),qr.push({key:ht,size:He,color:Sa}),this},y.restoreGraphicsState=function(){Z("Q");var w=qr.pop();return ht=w.key,He=w.size,Sa=w.color,Sr=null,this},y.setCurrentTransformationMatrix=function(w){return Z(w.toString()+" cm"),this},y.comment=function(w){return Z("#"+w),this};var ji=function(w,R){var re=w||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(Be){isNaN(Be)||(re=parseFloat(Be))}});var fe=R||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return fe},set:function(Be){isNaN(Be)||(fe=parseFloat(Be))}});var _e="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return _e},set:function(Be){_e=Be.toString()}}),this},Zs=function(w,R,re,fe){ji.call(this,w,R),this.type="rect";var _e=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return _e},set:function(qe){isNaN(qe)||(_e=parseFloat(qe))}});var Be=fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Be},set:function(qe){isNaN(qe)||(Be=parseFloat(qe))}}),this},Qs=function(){this.page=Wt,this.currentPage=Y,this.pages=We.slice(0),this.pagesContext=St.slice(0),this.x=st,this.y=Hr,this.matrix=sr,this.width=eo(Y),this.height=Si(Y),this.outputDestination=tt,this.id="",this.objectNumber=-1};Qs.prototype.restore=function(){Wt=this.page,Y=this.currentPage,St=this.pagesContext,We=this.pages,st=this.x,Hr=this.y,sr=this.matrix,Wr(Y,this.width),$i(Y,this.height),tt=this.outputDestination};var Bi=function(w,R,re,fe,_e){va.push(new Qs),Wt=Y=0,We=[],st=w,Hr=R,sr=_e,yi([re,fe])};for(var Qa in y.beginFormObject=function(w,R,re,fe,_e){return Bi(w,R,re,fe,_e),this},y.endFormObject=function(w){return function(R){if(Ji[R])va.pop().restore();else{var re=new Qs,fe="Xo"+(Object.keys(Mn).length+1).toString(10);re.id=fe,Ji[R]=fe,Mn[fe]=re,fr.publish("addFormObject",re),va.pop().restore()}}(w),this},y.doFormObject=function(w,R){var re=Mn[Ji[w]];return Z("q"),Z(R.toString()+" cm"),Z("/"+re.id+" Do"),Z("Q"),this},y.getFormObject=function(w){var R=Mn[Ji[w]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},y.save=function(w,R){return w=w||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(lu(Rn(Qi()),w),typeof lu.unload=="function"&&Jt.setTimeout&&setTimeout(lu.unload,911),this):new Promise(function(re,fe){try{var _e=lu(Rn(Qi()),w);typeof lu.unload=="function"&&Jt.setTimeout&&setTimeout(lu.unload,911),re(_e)}catch(Be){fe(Be.message)}})},Ct.API)Ct.API.hasOwnProperty(Qa)&&(Qa==="events"&&Ct.API.events.length?function(w,R){var re,fe,_e;for(_e=R.length-1;_e!==-1;_e--)re=R[_e][0],fe=R[_e][1],w.subscribe.apply(w,[re].concat(typeof fe=="function"?[fe]:fe))}(fr,Ct.API.events):y[Qa]=Ct.API[Qa]);function eo(w){return St[w].mediaBox.topRightX-St[w].mediaBox.bottomLeftX}function Wr(w,R){St[w].mediaBox.topRightX=R+St[w].mediaBox.bottomLeftX}function Si(w){return St[w].mediaBox.topRightY-St[w].mediaBox.bottomLeftY}function $i(w,R){St[w].mediaBox.topRightY=R+St[w].mediaBox.bottomLeftY}var Da=y.getPageWidth=function(w){return eo(w=w||Y)/Ft},In=y.setPageWidth=function(w,R){Wr(w,R*Ft)},ra=y.getPageHeight=function(w){return Si(w=w||Y)/Ft},Lo=y.setPageHeight=function(w,R){$i(w,R*Ft)};return y.internal={pdfEscape:Zi,getStyle:So,getFont:Ya,getFontSize:Me,getCharSpace:ci,getTextColor:Xs,getLineHeight:ea,getLineHeightFactor:gn,getLineWidth:ws,write:rt,getHorizontalCoordinate:bn,getVerticalCoordinate:Xa,getCoordinateString:lc,getVerticalCoordinateString:Vn,collections:{},newObject:yr,newAdditionalObject:Ka,newObjectDeferred:Xr,newObjectDeferredBegin:mn,getFilters:Yi,putStream:oi,events:fr,scaleFactor:Ft,pageSize:{getWidth:function(){return Da(Y)},setWidth:function(w){In(Y,w)},getHeight:function(){return ra(Y)},setHeight:function(w){Lo(Y,w)}},encryptionOptions:x,encryption:Sn,getEncryptor:function(w){return x!==null?Sn.encryptor(w,0):function(R){return R}},output:wa,getNumberOfPages:lr,get pages(){return We},out:Z,f2:O,f3:K,getPageInfo:_a,getPageInfoByObjId:Fl,getCurrentPageInfo:Tr,getPDFVersion:k,Point:ji,Rectangle:Zs,Matrix:nt,hasHotfix:Di},Object.defineProperty(y.internal.pageSize,"width",{get:function(){return Da(Y)},set:function(w){In(Y,w)},enumerable:!0,configurable:!0}),Object.defineProperty(y.internal.pageSize,"height",{get:function(){return ra(Y)},set:function(w){Lo(Y,w)},enumerable:!0,configurable:!0}),(function(w){for(var R=0,re=pt.length;R<re;R++){var fe=vs.call(this,w[R][0],w[R][1],w[R][2],pt[R][3],!0);m===!1&&(j[fe]=!0);var _e=w[R][0].split("-");Dl({id:fe,fontName:_e[0],fontStyle:_e[1]||""})}fr.publish("addFonts",{fonts:Yt,dictionary:Qt})}).call(y,pt),ht="F1",_o(a,r),fr.publish("initialized"),y}Zu.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},Zu.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Zu.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Zu.prototype.processOwnerPassword=function(t,e){return q0(M0(e).substr(0,5),t)},Zu.prototype.encryptor=function(t,e){var r=M0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return q0(r,n)}},yf.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Kr(t)!==Kr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Ct.API={events:[]},Ct.version="4.2.0";var zn=Ct.API,gm=1,Nu=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Gu=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},_u=function(t){return t.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(e){var r=e.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},rr=function(t){return t.toFixed(2)},Pc=function(t){return t.toFixed(5)};zn.__acroform__={};var xs=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},s1=function(t){return t*gm},Cl=function(t){var e=new gv,r=gt.internal.getHeight(t)||0,n=gt.internal.getWidth(t)||0;return e.BBox=[0,0,Number(rr(n)),Number(rr(r))],e},eN=zn.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},tN=zn.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},rN=zn.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},ri=zn.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return rN(t,e-1)},ni=zn.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return eN(t,e-1)},ii=zn.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return tN(t,e-1)},nN=zn.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],o=t[1],c=t[2],u=t[3],h={};return h.lowerLeft_X=r(a)||0,h.lowerLeft_Y=n(o+u)||0,h.upperRight_X=r(a+c)||0,h.upperRight_Y=n(o)||0,[Number(rr(h.lowerLeft_X)),Number(rr(h.lowerLeft_Y)),Number(rr(h.upperRight_X)),Number(rr(h.upperRight_Y))]},iN=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=U0(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+rr(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=Cl(t);return o.scope=t.scope,o.stream=e.join(`
`),o}},U0=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(O){return O.split(`
`)}):a.map(function(O){return[O]});var o=r,c=gt.internal.getHeight(t)||0;c=c<0?-c:c;var u=gt.internal.getWidth(t)||0;u=u<0?-u:u;var h=function(O,K,ae){if(O+1<a.length){var ce=K+" "+a[O+1][0];return Zh(ce,t,ae).width<=u-4}return!1};o++;e:for(;o>0;){e="",o--;var f,x,m=Zh("3",t,o).height,j=t.multiline?c-o:(c-m)/2,y=j+=2,C=0,k=0,L=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Zh(e,t,o=12).width+", FieldWidth:"+u+`
`;break}for(var E="",B=0,T=0;T<a.length;T++)if(a.hasOwnProperty(T)){var D=!1;if(a[T].length!==1&&L!==a[T].length-1){if((m+2)*(B+2)+2>c)continue e;E+=a[T][L],D=!0,k=T,T--}else{E=(E+=a[T][L]+" ").substr(E.length-1)==" "?E.substr(0,E.length-1):E;var z=parseInt(T),ie=h(z,E,o),se=T>=a.length-1;if(ie&&!se){E+=" ",L=0;continue}if(ie||se){if(se)k=z;else if(t.multiline&&(m+2)*(B+2)+2>c)continue e}else{if(!t.multiline||(m+2)*(B+2)+2>c)continue e;k=z}}for(var Q="",J=C;J<=k;J++){var de=a[J];if(t.multiline){if(J===k){Q+=de[L]+" ",L=(L+1)%de.length;continue}if(J===C){Q+=de[de.length-1]+" ";continue}}Q+=de[0]+" "}switch(Q=Q.substr(Q.length-1)==" "?Q.substr(0,Q.length-1):Q,x=Zh(Q,t,o).width,t.textAlign){case"right":f=u-x-2;break;case"center":f=(u-x)/2;break;default:f=2}e+=rr(f)+" "+rr(y)+` Td
`,e+="("+Nu(Q)+`) Tj
`,e+=-rr(f)+` 0 Td
`,y=-(o+2),x=0,C=D?k:k+1,B++,E=""}break}return n.text=e,n.fontSize=o,n},Zh=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},aN={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},sN=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},oN=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(il.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(aN)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");gm=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new bv,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var o=n[a];o.objId=void 0,o.hasAnnotation&&sN(o,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var o=!n;for(var c in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(c)){var u=n[c],h=[],f=u.Rect;if(u.Rect&&(u.Rect=nN(u.Rect,a)),a.internal.newObjectDeferredBegin(u.objId,!0),u.DA=gt.createDefaultAppearanceStream(u),Kr(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(h=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var x=iN(u);h.push({key:"AP",value:"<</N "+x+">>"}),a.internal.acroformPlugin.xForms.push(x)}if(u.appearanceStreamContent){var m="";for(var j in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(j)){var y=u.appearanceStreamContent[j];if(m+="/"+j+" ",m+="<<",Object.keys(y).length>=1||Array.isArray(y)){for(var c in y)if(y.hasOwnProperty(c)){var C=y[c];typeof C=="function"&&(C=C.call(a,u)),m+="/"+c+" "+C+" ",a.internal.acroformPlugin.xForms.indexOf(C)>=0||a.internal.acroformPlugin.xForms.push(C)}}else typeof(C=y)=="function"&&(C=C.call(a,u)),m+="/"+c+" "+C,a.internal.acroformPlugin.xForms.indexOf(C)>=0||a.internal.acroformPlugin.xForms.push(C);m+=">>"}h.push({key:"AP",value:`<<
`+m+">>"})}a.internal.putStream({additionalKeyValues:h,objectId:u.objId}),a.internal.out("endobj")}o&&function(k,L){for(var E in k)if(k.hasOwnProperty(E)){var B=E,T=k[E];L.internal.newObjectDeferredBegin(T.objId,!0),Kr(T)==="object"&&typeof T.putStream=="function"&&T.putStream(),delete k[B]}}(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},mv=zn.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(c){return c};if(Array.isArray(t)){for(var a="[",o=0;o<t.length;o++)switch(o!==0&&(a+=" "),Kr(t[o])){case"boolean":case"number":case"object":a+=t[o].toString();break;case"string":t[o].substr(0,1)==="/"?a+="/"+_u(t[o].substr(1)):(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+Nu(n(t[o].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Qp=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Nu(n(t))+")"},Ll=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ll.prototype.toString=function(){return this.objId+" 0 R"},Ll.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ll.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:mv(a,this.objId,this.scope)}):a instanceof Ll?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var gv=function(){Ll.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};xs(gv,Ll);var bv=function(){Ll.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Nu(r(t))+")"}},set:function(r){t=r}})};xs(bv,Ll);var il=function t(){Ll.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute F supplied.');e=E}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ri(e,3)},set:function(E){E?this.F=ni(e,3):this.F=ii(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(E){if(isNaN(E))throw new Error('Invalid value "'+E+'" for attribute Ff supplied.');r=E}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(E){n=E!==void 0?E:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(E){n[0]=E}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(E){n[1]=E}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(E){n[2]=E}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(E){n[3]=E}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(E){switch(E){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=E;break;default:throw new Error('Invalid value "'+E+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof wf)return;o="FieldObject"+t.FieldNum++}var E=function(B){return B};return this.scope&&(E=this.scope.internal.getEncryptor(this.objId)),"("+Nu(E(o))+")"},set:function(E){o=E.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(E){o=E}});var c="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return c},set:function(E){c=E}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(E){u=E}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(E){h=E}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/gm:f},set:function(E){f=E}});var x="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return x},set:function(E){x=E}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof wf||this instanceof xu))return Qp(m,this.objId,this.scope)},set:function(E){E=E.toString(),m=E}});var j=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(j)return this instanceof Ki==0?Qp(j,this.objId,this.scope):j},set:function(E){E=E.toString(),j=this instanceof Ki==0?E.substr(0,1)==="("?Gu(E.substr(1,E.length-2)):Gu(E):E}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ki==1?Gu(j.substr(1,j.length-1)):j},set:function(E){E=E.toString(),j=this instanceof Ki==1?"/"+_u(E):E}});var y=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(y)return y},set:function(E){this.V=E}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Ki==0?Qp(y,this.objId,this.scope):y},set:function(E){E=E.toString(),y=this instanceof Ki==0?E.substr(0,1)==="("?Gu(E.substr(1,E.length-2)):Gu(E):E}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ki==1?Gu(y.substr(1,y.length-1)):y},set:function(E){E=E.toString(),y=this instanceof Ki==1?"/"+_u(E):E}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var C,k=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return k},set:function(E){E=!!E,k=E}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(C)return C},set:function(E){C=E}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,1)},set:function(E){E?this.Ff=ni(this.Ff,1):this.Ff=ii(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,2)},set:function(E){E?this.Ff=ni(this.Ff,2):this.Ff=ii(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,3)},set:function(E){E?this.Ff=ni(this.Ff,3):this.Ff=ii(this.Ff,3)}});var L=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(L!==null)return L},set:function(E){if([0,1,2].indexOf(E)===-1)throw new Error('Invalid value "'+E+'" for attribute Q supplied.');L=E}}),Object.defineProperty(this,"textAlign",{get:function(){var E;switch(L){case 0:default:E="left";break;case 1:E="center";break;case 2:E="right"}return E},configurable:!0,enumerable:!0,set:function(E){switch(E){case"right":case 2:L=2;break;case"center":case 1:L=1;break;default:L=0}}})};xs(il,Ll);var id=function(){il.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return mv(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(o,c,u){u||(u=1);for(var h,f=[];h=c.exec(o);)f.push(h[u]);return f}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,18)},set:function(r){r?this.Ff=ni(this.Ff,18):this.Ff=ii(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=ni(this.Ff,19):this.Ff=ii(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,20)},set:function(r){r?(this.Ff=ni(this.Ff,20),e.sort()):this.Ff=ii(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,22)},set:function(r){r?this.Ff=ni(this.Ff,22):this.Ff=ii(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,23)},set:function(r){r?this.Ff=ni(this.Ff,23):this.Ff=ii(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,27)},set:function(r){r?this.Ff=ni(this.Ff,27):this.Ff=ii(this.Ff,27)}}),this.hasAppearanceStream=!1};xs(id,il);var ad=function(){id.call(this),this.fontName="helvetica",this.combo=!1};xs(ad,id);var sd=function(){ad.call(this),this.combo=!0};xs(sd,ad);var sf=function(){sd.call(this),this.edit=!0};xs(sf,sd);var Ki=function(){il.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,15)},set:function(r){r?this.Ff=ni(this.Ff,15):this.Ff=ii(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,16)},set:function(r){r?this.Ff=ni(this.Ff,16):this.Ff=ii(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,17)},set:function(r){r?this.Ff=ni(this.Ff,17):this.Ff=ii(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,26)},set:function(r){r?this.Ff=ni(this.Ff,26):this.Ff=ii(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(o){return o};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+Nu(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Kr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){var n=r==null?"":r.toString();n.substr(0,1)==="/"&&(n=n.substr(1)),t="/"+_u(n)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+_u(r)}})};xs(Ki,il);var of=function(){Ki.call(this),this.pushButton=!0};xs(of,Ki);var od=function(){Ki.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};xs(od,Ki);var wf=function(){var t,e;il.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(u){return u};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var o,c=[];for(o in c.push("<<"),n)c.push("/"+o+" ("+Nu(a(n[o]))+")");return c.push(">>"),c.join(`
`)},set:function(a){Kr(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){var o=a==null?"":a.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),r="/"+_u(o)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){var o=a==null?"":a.toString();o.substr(0,1)==="/"&&(o=o.substr(1)),r="/"+_u(o)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};xs(wf,il),od.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},od.prototype.createOption=function(t){var e=new wf;return e.Parent=this,e.optionName=t,this.Kids.push(e),lN.call(this.scope,e),e};var lf=function(){Ki.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=gt.CheckBox.createAppearanceStream()};xs(lf,Ki);var xu=function(){il.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,13)},set:function(e){e?this.Ff=ni(this.Ff,13):this.Ff=ii(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,21)},set:function(e){e?this.Ff=ni(this.Ff,21):this.Ff=ii(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,23)},set:function(e){e?this.Ff=ni(this.Ff,23):this.Ff=ii(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,24)},set:function(e){e?this.Ff=ni(this.Ff,24):this.Ff=ii(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,25)},set:function(e){e?this.Ff=ni(this.Ff,25):this.Ff=ii(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,26)},set:function(e){e?this.Ff=ni(this.Ff,26):this.Ff=ii(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};xs(xu,il);var cf=function(){xu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ri(this.Ff,14)},set:function(t){t?this.Ff=ni(this.Ff,14):this.Ff=ii(this.Ff,14)}}),this.password=!0};xs(cf,xu);var gt={CheckBox:{createAppearanceStream:function(){return{N:{On:gt.CheckBox.YesNormal},D:{On:gt.CheckBox.YesPushDown,Off:gt.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Cl(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),o=U0(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+rr(gt.internal.getWidth(t))+" "+rr(gt.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+rr(o.fontSize)+" Tf "+a),r.push("BT"),r.push(o.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Cl(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],o=gt.internal.getHeight(t),c=gt.internal.getWidth(t),u=U0(t,t.caption);return a.push("1 g"),a.push("0 0 "+rr(c)+" "+rr(o)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+rr(c-1)+" "+rr(o-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+rr(u.fontSize)+" Tf "+n),a.push(u.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Cl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+rr(gt.internal.getWidth(t))+" "+rr(gt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:gt.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=gt.RadioButton.Circle.YesNormal,e.D[t]=gt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Cl(t);e.scope=t.scope;var r=[],n=gt.internal.getWidth(t)<=gt.internal.getHeight(t)?gt.internal.getWidth(t)/4:gt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=gt.internal.Bezier_C,o=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Pc(gt.internal.getWidth(t)/2)+" "+Pc(gt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Cl(t);e.scope=t.scope;var r=[],n=gt.internal.getWidth(t)<=gt.internal.getHeight(t)?gt.internal.getWidth(t)/4:gt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*gt.internal.Bezier_C).toFixed(5)),c=Number((n*gt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Pc(gt.internal.getWidth(t)/2)+" "+Pc(gt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Pc(gt.internal.getWidth(t)/2)+" "+Pc(gt.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+c+" "+c+" "+n+" 0 "+n+" c"),r.push("-"+c+" "+n+" -"+n+" "+c+" -"+n+" 0 c"),r.push("-"+n+" -"+c+" -"+c+" -"+n+" 0 -"+n+" c"),r.push(c+" -"+n+" "+n+" -"+c+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Cl(t);e.scope=t.scope;var r=[],n=gt.internal.getWidth(t)<=gt.internal.getHeight(t)?gt.internal.getWidth(t)/4:gt.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),o=Number((a*gt.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Pc(gt.internal.getWidth(t)/2)+" "+Pc(gt.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+o+" "+o+" "+a+" 0 "+a+" c"),r.push("-"+o+" "+a+" -"+a+" "+o+" -"+a+" 0 c"),r.push("-"+a+" -"+o+" -"+o+" -"+a+" 0 -"+a+" c"),r.push(o+" -"+a+" "+a+" -"+o+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:gt.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=gt.RadioButton.Cross.YesNormal,e.D[t]=gt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Cl(t);e.scope=t.scope;var r=[],n=gt.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+rr(gt.internal.getWidth(t)-2)+" "+rr(gt.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(rr(n.x1.x)+" "+rr(n.x1.y)+" m"),r.push(rr(n.x2.x)+" "+rr(n.x2.y)+" l"),r.push(rr(n.x4.x)+" "+rr(n.x4.y)+" m"),r.push(rr(n.x3.x)+" "+rr(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Cl(t);e.scope=t.scope;var r=gt.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+rr(gt.internal.getWidth(t))+" "+rr(gt.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+rr(gt.internal.getWidth(t)-2)+" "+rr(gt.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(rr(r.x1.x)+" "+rr(r.x1.y)+" m"),n.push(rr(r.x2.x)+" "+rr(r.x2.y)+" l"),n.push(rr(r.x4.x)+" "+rr(r.x4.y)+" m"),n.push(rr(r.x3.x)+" "+rr(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Cl(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+rr(gt.internal.getWidth(t))+" "+rr(gt.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};gt.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=gt.internal.getWidth(t),r=gt.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},gt.internal.getWidth=function(t){var e=0;return Kr(t)==="object"&&(e=s1(t.Rect[2])),e},gt.internal.getHeight=function(t){var e=0;return Kr(t)==="object"&&(e=s1(t.Rect[3])),e};var lN=zn.addField=function(t){if(oN(this,t),!(t instanceof il))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};zn.AcroFormChoiceField=id,zn.AcroFormListBox=ad,zn.AcroFormComboBox=sd,zn.AcroFormEditBox=sf,zn.AcroFormButton=Ki,zn.AcroFormPushButton=of,zn.AcroFormRadioButton=od,zn.AcroFormCheckBox=lf,zn.AcroFormTextField=xu,zn.AcroFormPasswordField=cf,zn.AcroFormAppearance=gt,zn.AcroForm={ChoiceField:id,ListBox:ad,ComboBox:sd,EditBox:sf,Button:Ki,PushButton:of,RadioButton:od,CheckBox:lf,TextField:xu,PasswordField:cf,Appearance:gt},Ct.AcroForm={ChoiceField:id,ListBox:ad,ComboBox:sd,EditBox:sf,Button:Ki,PushButton:of,RadioButton:od,CheckBox:lf,TextField:xu,PasswordField:cf,Appearance:gt};function xv(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(O,K){var ae,ce,we,Ae,ve,H=r;if((K=K||r)==="RGBA"||O.data!==void 0&&O.data instanceof Uint8ClampedArray&&"height"in O&&"width"in O)return"RGBA";if(ie(O))for(ve in n)for(we=n[ve],ae=0;ae<we.length;ae+=1){for(Ae=!0,ce=0;ce<we[ae].length;ce+=1)if(we[ae][ce]!==void 0&&we[ae][ce]!==O[ce]){Ae=!1;break}if(Ae===!0){H=ve;break}}else for(ve in n)for(we=n[ve],ae=0;ae<we.length;ae+=1){for(Ae=!0,ce=0;ce<we[ae].length;ce+=1)if(we[ae][ce]!==void 0&&we[ae][ce]!==O.charCodeAt(ce)){Ae=!1;break}if(Ae===!0){H=ve;break}}return H===r&&K!==r&&(H=K),H},o=function O(K){for(var ae=this.internal.write,ce=this.internal.putStream,we=(0,this.internal.getFilters)();we.indexOf("FlateEncode")!==-1;)we.splice(we.indexOf("FlateEncode"),1);K.objectId=this.internal.newObject();var Ae=[];if(Ae.push({key:"Type",value:"/XObject"}),Ae.push({key:"Subtype",value:"/Image"}),Ae.push({key:"Width",value:K.width}),Ae.push({key:"Height",value:K.height}),K.colorSpace===E.INDEXED?Ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(K.palette.length/3-1)+" "+("sMask"in K&&K.sMask!==void 0?K.objectId+2:K.objectId+1)+" 0 R]"}):(Ae.push({key:"ColorSpace",value:"/"+K.colorSpace}),K.colorSpace===E.DEVICE_CMYK&&Ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ae.push({key:"BitsPerComponent",value:K.bitsPerComponent}),"decodeParameters"in K&&K.decodeParameters!==void 0&&Ae.push({key:"DecodeParms",value:"<<"+K.decodeParameters+">>"}),"transparency"in K&&Array.isArray(K.transparency)&&K.transparency.length>0){for(var ve="",H=0,he=K.transparency.length;H<he;H++)ve+=K.transparency[H]+" "+K.transparency[H]+" ";Ae.push({key:"Mask",value:"["+ve+"]"})}K.sMask!==void 0&&Ae.push({key:"SMask",value:K.objectId+1+" 0 R"});var xe=K.filter!==void 0?["/"+K.filter]:void 0;if(ce({data:K.data,additionalKeyValues:Ae,alreadyAppliedFilters:xe,objectId:K.objectId}),ae("endobj"),"sMask"in K&&K.sMask!==void 0){var X,P=(X=K.sMaskBitsPerComponent)!==null&&X!==void 0?X:K.bitsPerComponent,Y={width:K.width,height:K.height,colorSpace:"DeviceGray",bitsPerComponent:P,data:K.sMask};"filter"in K&&(Y.decodeParameters="/Predictor ".concat(K.predictor," /Colors 1 /BitsPerComponent ").concat(P," /Columns ").concat(K.width),Y.filter=K.filter),O.call(this,Y)}if(K.colorSpace===E.INDEXED){var W=this.internal.newObject();ce({data:Q(new Uint8Array(K.palette)),objectId:W}),ae("endobj")}},c=function(){var O=this.internal.collections[e+"images"];for(var K in O)o.call(this,O[K])},u=function(){var O,K=this.internal.collections[e+"images"],ae=this.internal.write;for(var ce in K)ae("/I"+(O=K[ce]).index,O.objectId,"0","R")},h=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",c),this.internal.events.subscribe("putXobjectDict",u))},f=function(){var O=this.internal.collections[e+"images"];return h.call(this),O},x=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(O){return typeof t["process"+O.toUpperCase()]=="function"},j=function(O){return Kr(O)==="object"&&O.nodeType===1},y=function(O,K){if(O.nodeName==="IMG"&&O.hasAttribute("src")){var ae=""+O.getAttribute("src");if(ae.indexOf("data:image/")===0)return af(unescape(ae).split("base64,").pop());var ce=t.loadFile(ae,!0);if(ce!==void 0)return ce}if(O.nodeName==="CANVAS"){if(O.width===0||O.height===0)throw new Error("Given canvas must have data. Canvas width: "+O.width+", height: "+O.height);var we;switch(K){case"PNG":we="image/png";break;case"WEBP":we="image/webp";break;default:we="image/jpeg"}return af(O.toDataURL(we,1).split("base64,").pop())}},C=function(O){var K=this.internal.collections[e+"images"];if(K){for(var ae in K)if(O===K[ae].alias)return K[ae]}},k=function(O,K,ae){return O||K||(O=-96,K=-96),O<0&&(O=-1*ae.width*72/O/this.internal.scaleFactor),K<0&&(K=-1*ae.height*72/K/this.internal.scaleFactor),O===0&&(O=K*ae.width/ae.height),K===0&&(K=O*ae.height/ae.width),[O,K]},L=function(O,K,ae,ce,we,Ae){var ve=k.call(this,ae,ce,we),H=this.internal.getCoordinateString,he=this.internal.getVerticalCoordinateString,xe=f.call(this);if(ae=ve[0],ce=ve[1],xe[we.index]=we,Ae){Ae*=Math.PI/180;var X=Math.cos(Ae),P=Math.sin(Ae),Y=function(ne){return ne.toFixed(4)},W=[Y(X),Y(P),Y(-1*P),Y(X),0,0,"cm"]}this.internal.write("q"),Ae?(this.internal.write([1,"0","0",1,H(O),he(K+ce),"cm"].join(" ")),this.internal.write(W.join(" ")),this.internal.write([H(ae),"0","0",H(ce),"0","0","cm"].join(" "))):this.internal.write([H(ae),"0","0",H(ce),H(O),he(K+ce),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+we.index+" Do"),this.internal.write("Q")},E=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var B=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=t.__addimage__.sHashCode=function(O){var K,ae,ce=0;if(typeof O=="string")for(ae=O.length,K=0;K<ae;K++)ce=(ce<<5)-ce+O.charCodeAt(K),ce|=0;else if(ie(O))for(ae=O.byteLength/2,K=0;K<ae;K++)ce=(ce<<5)-ce+O[K],ce|=0;return ce},D=t.__addimage__.validateStringAsBase64=function(O){(O=O||"").toString().trim();var K=!0;return O.length===0&&(K=!1),O.length%4!=0&&(K=!1),/^[A-Za-z0-9+/]+$/.test(O.substr(0,O.length-2))===!1&&(K=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(O.substr(-2))===!1&&(K=!1),K},z=t.__addimage__.extractImageFromDataUrl=function(O){if(O==null||!(O=O.trim()).startsWith("data:"))return null;var K=O.indexOf(",");return K<0?null:O.substring(0,K).trim().endsWith("base64")?O.substring(K+1):null};t.__addimage__.isArrayBuffer=function(O){return O instanceof ArrayBuffer};var ie=t.__addimage__.isArrayBufferView=function(O){return O instanceof Int8Array||O instanceof Uint8Array||O instanceof Uint8ClampedArray||O instanceof Int16Array||O instanceof Uint16Array||O instanceof Int32Array||O instanceof Uint32Array||O instanceof Float32Array||O instanceof Float64Array},se=t.__addimage__.binaryStringToUint8Array=function(O){for(var K=O.length,ae=new Uint8Array(K),ce=0;ce<K;ce++)ae[ce]=O.charCodeAt(ce);return ae},Q=t.__addimage__.arrayBufferToBinaryString=function(O){for(var K="",ae=ie(O)?O:new Uint8Array(O),ce=0;ce<ae.length;ce+=8192)K+=String.fromCharCode.apply(null,ae.subarray(ce,ce+8192));return K};t.addImage=function(){var O,K,ae,ce,we,Ae,ve,H,he;if(typeof arguments[1]=="number"?(K=r,ae=arguments[1],ce=arguments[2],we=arguments[3],Ae=arguments[4],ve=arguments[5],H=arguments[6],he=arguments[7]):(K=arguments[1],ae=arguments[2],ce=arguments[3],we=arguments[4],Ae=arguments[5],ve=arguments[6],H=arguments[7],he=arguments[8]),Kr(O=arguments[0])==="object"&&!j(O)&&"imageData"in O){var xe=O;O=xe.imageData,K=xe.format||K||r,ae=xe.x||ae||0,ce=xe.y||ce||0,we=xe.w||xe.width||we,Ae=xe.h||xe.height||Ae,ve=xe.alias||ve,H=xe.compression||H,he=xe.rotation||xe.angle||he}var X=this.internal.getFilters();if(H===void 0&&X.indexOf("FlateEncode")!==-1&&(H="SLOW"),isNaN(ae)||isNaN(ce))throw new Error("Invalid coordinates passed to jsPDF.addImage");h.call(this);var P=J.call(this,O,K,ve,H);return L.call(this,ae,ce,we,Ae,P,he),this};var J=function(O,K,ae,ce){var we,Ae,ve;if(typeof O=="string"&&a(O)===r){O=unescape(O);var H=de(O,!1);(H!==""||(H=t.loadFile(O,!0))!==void 0)&&(O=H)}if(j(O)&&(O=y(O,K)),K=a(O,K),!m(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(((ve=ae)==null||ve.length===0)&&(ae=function(he){return typeof he=="string"||ie(he)?T(he):ie(he.data)?T(he.data):null}(O)),(we=C.call(this,ae))||(O instanceof Uint8Array||K==="RGBA"||(Ae=O,O=se(O)),we=this["process"+K.toUpperCase()](O,x.call(this),ae,function(he){return he&&typeof he=="string"&&(he=he.toUpperCase()),he in t.image_compression?he:B.NONE}(ce),Ae)),!we)throw new Error("An unknown error occurred whilst processing the image.");return we},de=t.__addimage__.convertBase64ToBinaryString=function(O,K){K=typeof K!="boolean"||K;var ae,ce="";if(typeof O=="string"){var we;ae=(we=z(O))!==null&&we!==void 0?we:O;try{ce=af(ae)}catch(Ae){if(K)throw D(ae)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ce};t.getImageProperties=function(O){var K,ae,ce="";if(j(O)&&(O=y(O)),typeof O=="string"&&a(O)===r&&((ce=de(O,!1))===""&&(ce=t.loadFile(O)||""),O=ce),ae=a(O),!m(ae))throw new Error("addImage does not support files of type '"+ae+"', please ensure that a plugin for '"+ae+"' support is added.");if(O instanceof Uint8Array||(O=se(O)),!(K=this["process"+ae.toUpperCase()](O)))throw new Error("An unknown error occurred whilst processing the image");return K.fileType=ae,K}})(Ct.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Ct.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,o,c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(r.objId),f=r.pageContext.annotations,x=!1,m=0;m<f.length&&!x;m++)switch((n=f[m]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(x=!0);break;case"reference":case"text":case"freetext":x=!0}if(x!=0){this.internal.write("/Annots [");for(var j=0;j<f.length;j++){n=f[j];var y=this.internal.pdfEscape,C=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var k=this.internal.newAdditionalObject(),L=this.internal.newAdditionalObject(),E=this.internal.getEncryptor(k.objId),B=n.title||"Note";o="<</Type /Annot /Subtype /Text "+(a="/Rect ["+c(n.bounds.x)+" "+u(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y)+"] ")+"/Contents ("+y(E(n.contents))+")",o+=" /Popup "+L.objId+" 0 R",o+=" /P "+h.objId+" 0 R",o+=" /T ("+y(E(B))+") >>",k.content=o;var T=k.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+c(n.bounds.x+30)+" "+u(n.bounds.y+n.bounds.h)+" "+c(n.bounds.x+n.bounds.w+30)+" "+u(n.bounds.y)+"] ")+" /Parent "+T,n.open&&(o+=" /Open true"),o+=" >>",L.content=o,this.internal.write(k.objId,"0 R",L.objId,"0 R");break;case"freetext":a="/Rect ["+c(n.bounds.x)+" "+u(n.bounds.y)+" "+c(n.bounds.x+n.bounds.w)+" "+u(n.bounds.y+n.bounds.h)+"] ";var D=n.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+y(C(n.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+D+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(n.options.name){var z=this.annotations._nameMap[n.options.name];n.options.pageNumber=z.page,n.options.top=z.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",o="",n.options.url)o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+y(C(n.options.url))+") >>";else if(n.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,o+=" /FitV "+n.options.left+"]";break;default:var ie=u(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),o+=" /XYZ "+n.options.left+" "+ie+" "+n.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,o,c){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(r),y:f(n),w:h(r+a),h:f(n+o)},options:c,type:"link"})},t.textWithLink=function(r,n,a,o){var c,u,h=this.getTextWidth(r),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){u=o.maxWidth;var x=this.splitTextToSize(r,u).length;c=Math.ceil(f*x)}else u=h,c=f;return this.text(r,n,a,o),a+=.2*f,o.align==="center"&&(n-=h/2),o.align==="right"&&(n-=h),this.link(n,a-f,u,c,o),h},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ct.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var o=t.__arabicParser__.isInArabicSubstitutionA=function(k){return e[k.charCodeAt(0)]!==void 0},c=t.__arabicParser__.isArabicLetter=function(k){return typeof k=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(k)},u=t.__arabicParser__.isArabicEndLetter=function(k){return c(k)&&o(k)&&e[k.charCodeAt(0)].length<=2},h=t.__arabicParser__.isArabicAlfLetter=function(k){return c(k)&&a.indexOf(k.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(k){return c(k)&&o(k)&&e[k.charCodeAt(0)].length>=1};var f=t.__arabicParser__.arabicLetterHasFinalForm=function(k){return c(k)&&o(k)&&e[k.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(k){return c(k)&&o(k)&&e[k.charCodeAt(0)].length>=3};var x=t.__arabicParser__.arabicLetterHasMedialForm=function(k){return c(k)&&o(k)&&e[k.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(k){var L=0,E=r,B="",T=0;for(L=0;L<k.length;L+=1)E[k.charCodeAt(L)]!==void 0?(T++,typeof(E=E[k.charCodeAt(L)])=="number"&&(B+=String.fromCharCode(E),E=r,T=0),L===k.length-1&&(E=r,B+=k.charAt(L-(T-1)),L-=T-1,T=0)):(E=r,B+=k.charAt(L-T),L-=T,T=0);return B};t.__arabicParser__.isArabicDiacritic=function(k){return k!==void 0&&n[k.charCodeAt(0)]!==void 0};var j=t.__arabicParser__.getCorrectForm=function(k,L,E){return c(k)?o(k)===!1?-1:!f(k)||!c(L)&&!c(E)||!c(E)&&u(L)||u(k)&&!c(L)||u(k)&&h(L)||u(k)&&u(L)?0:x(k)&&c(L)&&!u(L)&&c(E)&&f(E)?3:u(k)||!c(E)?1:2:-1},y=function(k){var L=0,E=0,B=0,T="",D="",z="",ie=(k=k||"").split("\\s+"),se=[];for(L=0;L<ie.length;L+=1){for(se.push(""),E=0;E<ie[L].length;E+=1)T=ie[L][E],D=ie[L][E-1],z=ie[L][E+1],c(T)?(B=j(T,D,z),se[L]+=B!==-1?String.fromCharCode(e[T.charCodeAt(0)][B]):T):se[L]+=T;se[L]=m(se[L])}return se.join(" ")},C=t.__arabicParser__.processArabic=t.processArabic=function(){var k,L=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,E=[];if(Array.isArray(L)){var B=0;for(E=[],B=0;B<L.length;B+=1)Array.isArray(L[B])?E.push([y(L[B][0]),L[B][1],L[B][2]]):E.push([y(L[B])]);k=E}else k=y(L);return typeof arguments[0]=="string"?k:(arguments[0].text=k,arguments[0])};t.events.push(["preProcessText",C])}(Ct.API),Ct.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(u){r=u}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(u){n=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var c={};Object.defineProperty(this,"style",{get:function(){return c},set:function(u){c=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ct.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(k){h=k}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(k){f=k}});var x=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return x},set:function(k){x=k}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(k){m=k}});var j=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return j},set:function(k){j=k}});var y=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return y},set:function(k){y=k}});var C=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return C},set:function(k){C=k}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(h){return n.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},t.getTextDimensions=function(h,f){n.call(this);var x=(f=f||{}).fontSize||this.getFontSize(),m=f.font||this.getFont(),j=f.scaleFactor||this.internal.scaleFactor,y=0,C=0,k=0,L=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var E=f.maxWidth;E>0?typeof h=="string"?h=this.splitTextToSize(h,E):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(T,D){return T.concat(L.splitTextToSize(D,E))},[])):h=Array.isArray(h)?h:[h];for(var B=0;B<h.length;B++)y<(k=this.getStringUnitWidth(h[B],{font:m})*x)&&(y=k);return y!==0&&(C=h.length),{w:y/=j,h:Math.max((C*x*this.getLineHeightFactor()-x*(this.getLineHeightFactor()-1))/j,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var c=t.cell=function(){var h;h=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var f=this.internal.__cell__.lastCell,x=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,j=this.internal.__cell__.tableHeaderRow,y=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===h.lineNumber?(h.x=(f.x||0)+(f.width||0),h.y=f.y||0):f.y+f.height+h.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=m.top,y&&j&&(this.printHeaderRow(h.lineNumber,!0),h.y+=j[0].height)):h.y=f.y+f.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,r===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-x,h.y+x,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+x,{align:"center",baseline:"top",maxWidth:h.width-x-x}):this.text(h.text,h.x+x,h.y+x,{align:"left",baseline:"top",maxWidth:h.width-x-x})),this.internal.__cell__.lastCell=h,this};t.table=function(h,f,x,m,j){if(n.call(this),!x)throw new Error("No data for PDF table.");var y,C,k,L,E=[],B=[],T=[],D={},z={},ie=[],se=[],Q=(j=j||{}).autoSize||!1,J=j.printHeaders!==!1,de=j.css&&j.css["font-size"]!==void 0?16*j.css["font-size"]:j.fontSize||12,O=j.margins||Object.assign({width:this.getPageWidth()},e),K=typeof j.padding=="number"?j.padding:3,ae=j.headerBackgroundColor||"#c8c8c8",ce=j.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=J,this.internal.__cell__.margins=O,this.internal.__cell__.table_font_size=de,this.internal.__cell__.padding=K,this.internal.__cell__.headerBackgroundColor=ae,this.internal.__cell__.headerTextColor=ce,this.setFontSize(de),m==null)B=E=Object.keys(x[0]),T=E.map(function(){return"left"});else if(Array.isArray(m)&&Kr(m[0])==="object")for(E=m.map(function(xe){return xe.name}),B=m.map(function(xe){return xe.prompt||xe.name||""}),T=m.map(function(xe){return xe.align||"left"}),y=0;y<m.length;y+=1)z[m[y].name]=.7499990551181103*m[y].width;else Array.isArray(m)&&typeof m[0]=="string"&&(B=E=m,T=E.map(function(){return"left"}));if(Q||Array.isArray(m)&&typeof m[0]=="string")for(y=0;y<E.length;y+=1){for(D[L=E[y]]=x.map(function(xe){return xe[L]}),this.setFont(void 0,"bold"),ie.push(this.getTextDimensions(B[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),C=D[L],this.setFont(void 0,"normal"),k=0;k<C.length;k+=1)ie.push(this.getTextDimensions(C[k],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);z[L]=Math.max.apply(null,ie)+K+K,ie=[]}if(J){var we={};for(y=0;y<E.length;y+=1)we[E[y]]={},we[E[y]].text=B[y],we[E[y]].align=T[y];var Ae=u.call(this,we,z);se=E.map(function(xe){return new o(h,f,z[xe],Ae,we[xe].text,void 0,we[xe].align)}),this.setTableHeaderRow(se),this.printHeaderRow(1,!1)}var ve=m.reduce(function(xe,X){return xe[X.name]=X.align,xe},{});for(y=0;y<x.length;y+=1){"rowStart"in j&&j.rowStart instanceof Function&&j.rowStart({row:y,data:x[y]},this);var H=u.call(this,x[y],z);for(k=0;k<E.length;k+=1){var he=x[y][E[k]];"cellStart"in j&&j.cellStart instanceof Function&&j.cellStart({row:y,col:k,data:he},this),c.call(this,new o(h,f,z[E[k]],H,he,y+2,ve[E[k]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=f,this};var u=function(h,f){var x=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,j=this.internal.scaleFactor;return Object.keys(h).map(function(y){var C=h[y];return this.splitTextToSize(C.hasOwnProperty("text")?C.text:C,f[y]-x-x)},this).map(function(y){return this.getLineHeightFactor()*y.length*m/j+x+x},this).reduce(function(y,C){return Math.max(y,C)},0)};t.setTableHeaderRow=function(h){n.call(this),this.internal.__cell__.tableHeaderRow=h},t.printHeaderRow=function(h,f){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var x;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var j=[],y=0;y<this.internal.__cell__.tableHeaderRow.length;y+=1){x=this.internal.__cell__.tableHeaderRow[y].clone(),f&&(x.y=this.internal.__cell__.margins.top||0,j.push(x)),x.lineNumber=h;var C=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),c.call(this,x),this.setTextColor(C)}j.length>0&&this.setTableHeaderRow(j),this.setFont(void 0,"normal"),r=!1}}(Ct.API);var vv={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},yv=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],z0=xv(yv),wv=[100,200,300,400,500,600,700,800,900],cN=xv(wv);function e0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(o){return vv[o=o||"normal"]?o:"normal"}(t.style),n=function(o){return o?typeof o=="number"?o>=100&&o<=900&&o%100==0?o:400:/^\d00$/.test(o)?parseInt(o):o==="bold"?700:400:400}(t.weight),a=function(o){return typeof z0[o=o||"normal"]=="number"?o:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function o1(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var uN={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},l1={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function c1(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function u1(t){return t.trimLeft()}function dN(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function hN(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ku,Qh,d1,h1,f1,t0=["times"];function p1(t,e,r,n,a){var o=4,c=g1;switch(a){case Ct.API.image_compression.FAST:o=1,c=m1;break;case Ct.API.image_compression.MEDIUM:o=6,c=b1;break;case Ct.API.image_compression.SLOW:o=9,c=x1}t=function(h,f,x,m){for(var j,y=h.length/f,C=new Uint8Array(h.length+y),k=[fN,m1,g1,b1,x1],L=0;L<y;L+=1){var E=L*f,B=h.subarray(E,E+f);if(m)C.set(m(B,x,j),E+L);else{for(var T=k.length,D=[],z=0;z<T;z+=1)D[z]=k[z](B,x,j);var ie=mN(D.concat());C.set(D[ie],E+L)}j=B}return C}(t,e,Math.ceil(r*n/8),c);var u=L0(t,{level:o});return Ct.API.__addimage__.arrayBufferToBinaryString(u)}function fN(t){var e=Array.apply([],t);return e.unshift(0),e}function m1(t,e){var r=t.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var o=t[a-e]||0;n[a+1]=t[a]-o+256&255}return n}function g1(t,e,r){var n=t.length,a=[];a[0]=2;for(var o=0;o<n;o+=1){var c=r&&r[o]||0;a[o+1]=t[o]-c+256&255}return a}function b1(t,e,r){var n=t.length,a=[];a[0]=3;for(var o=0;o<n;o+=1){var c=t[o-e]||0,u=r&&r[o]||0;a[o+1]=t[o]+256-(c+u>>>1)&255}return a}function x1(t,e,r){var n=t.length,a=[];a[0]=4;for(var o=0;o<n;o+=1){var c=pN(t[o-e]||0,r&&r[o]||0,r&&r[o-e]||0);a[o+1]=t[o]-c+256&255}return a}function pN(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),a=Math.abs(t-r),o=Math.abs(t+e-r-r);return n<=a&&n<=o?t:a<=o?e:r}function mN(t){var e=t.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function r0(t,e,r){var n=e*r,a=Math.floor(n/8),o=16-(n-8*a+r),c=(1<<r)-1;return _v(t,a)>>o&c}function v1(t,e,r,n){var a=r*n,o=Math.floor(a/8),c=16-(a-8*o+n),u=(1<<n)-1,h=(e&u)<<c;(function(f,x,m){if(x+1<f.byteLength)f.setUint16(x,m,!1);else{var j=m>>8&255;f.setUint8(x,j)}})(t,o,_v(t,o)&~(u<<c)&65535|h)}function _v(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function gN(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],o=a>>7,c=1<<1+(7&a);t[e++],t[e++];var u=null,h=null;o&&(u=e,h=c,e+=3*c);var f=!0,x=[],m=0,j=null,y=0,C=null;for(this.width=r,this.height=n;f&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,C=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var k=t[e++];m=t[e++]|t[e++]<<8,j=t[e++],1&k||(j=null),y=k>>2&7,e++;break;case 254:for(;;){if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var L=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,B=t[e++]|t[e++]<<8,T=t[e++]|t[e++]<<8,D=t[e++],z=D>>6&1,ie=1<<1+(7&D),se=u,Q=h,J=!1;D>>7&&(J=!0,se=e,Q=ie,e+=3*ie);var de=e;for(e++;;){var O;if(!((O=t[e++])>=0))throw Error("Invalid block size");if(O===0)break;e+=O}x.push({x:L,y:E,width:B,height:T,has_local_palette:J,palette_offset:se,palette_size:Q,data_offset:de,data_length:e-de,transparent_index:j,interlaced:!!z,delay:m,disposal:y});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return x.length},this.loopCount=function(){return C},this.frameInfo=function(K){if(K<0||K>=x.length)throw new Error("Frame index out of range.");return x[K]},this.decodeAndBlitFrameBGRA=function(K,ae){var ce=this.frameInfo(K),we=ce.width*ce.height;if(we>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var Ae=new Uint8Array(we);y1(t,ce.data_offset,Ae,we);var ve=ce.palette_offset,H=ce.transparent_index;H===null&&(H=256);var he=ce.width,xe=r-he,X=he,P=4*(ce.y*r+ce.x),Y=4*((ce.y+ce.height)*r+ce.x),W=P,ne=4*xe;ce.interlaced===!0&&(ne+=4*r*7);for(var le=8,me=0,Se=Ae.length;me<Se;++me){var Ee=Ae[me];if(X===0&&(X=he,(W+=ne)>=Y&&(ne=4*xe+4*r*(le-1),W=P+(he+xe)*(le<<1),le>>=1)),Ee===H)W+=4;else{var Fe=t[ve+3*Ee],We=t[ve+3*Ee+1],et=t[ve+3*Ee+2];ae[W++]=et,ae[W++]=We,ae[W++]=Fe,ae[W++]=255}--X}},this.decodeAndBlitFrameRGBA=function(K,ae){var ce=this.frameInfo(K),we=ce.width*ce.height;if(we>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var Ae=new Uint8Array(we);y1(t,ce.data_offset,Ae,we);var ve=ce.palette_offset,H=ce.transparent_index;H===null&&(H=256);var he=ce.width,xe=r-he,X=he,P=4*(ce.y*r+ce.x),Y=4*((ce.y+ce.height)*r+ce.x),W=P,ne=4*xe;ce.interlaced===!0&&(ne+=4*r*7);for(var le=8,me=0,Se=Ae.length;me<Se;++me){var Ee=Ae[me];if(X===0&&(X=he,(W+=ne)>=Y&&(ne=4*xe+4*r*(le-1),W=P+(he+xe)*(le<<1),le>>=1)),Ee===H)W+=4;else{var Fe=t[ve+3*Ee],We=t[ve+3*Ee+1],et=t[ve+3*Ee+2];ae[W++]=Fe,ae[W++]=We,ae[W++]=et,ae[W++]=255}--X}}}function y1(t,e,r,n){for(var a=t[e++],o=1<<a,c=o+1,u=c+1,h=a+1,f=(1<<h)-1,x=0,m=0,j=0,y=t[e++],C=new Int32Array(4096),k=null;;){for(;x<16&&y!==0;)m|=t[e++]<<x,x+=8,y===1?y=t[e++]:--y;if(x<h)break;var L=m&f;if(m>>=h,x-=h,L!==o){if(L===c)break;for(var E=L<u?L:k,B=0,T=E;T>o;)T=C[T]>>8,++B;var D=T;if(j+B+(E!==L?1:0)>n)return void ln.log("Warning, gif stream longer than expected.");r[j++]=D;var z=j+=B;for(E!==L&&(r[j++]=D),T=E;B--;)T=C[T],r[--z]=255&T,T>>=8;k!==null&&u<4096&&(C[u++]=k<<8|D,u>=f+1&&h<12&&(++h,f=f<<1|1)),k=L}else u=c+1,f=(1<<(h=a+1))-1,k=null}return j!==n&&ln.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function n0(t){var e,r,n,a,o,c=Math.floor,u=new Array(64),h=new Array(64),f=new Array(64),x=new Array(64),m=new Array(65535),j=new Array(65535),y=new Array(64),C=new Array(64),k=[],L=0,E=7,B=new Array(64),T=new Array(64),D=new Array(64),z=new Array(256),ie=new Array(2048),se=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],Q=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],J=[0,1,2,3,4,5,6,7,8,9,10,11],de=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],O=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],K=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ae=[0,1,2,3,4,5,6,7,8,9,10,11],ce=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],we=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ae(P,Y){for(var W=0,ne=0,le=new Array,me=1;me<=16;me++){for(var Se=1;Se<=P[me];Se++)le[Y[ne]]=[],le[Y[ne]][0]=W,le[Y[ne]][1]=me,ne++,W++;W*=2}return le}function ve(P){for(var Y=P[0],W=P[1]-1;W>=0;)Y&1<<W&&(L|=1<<E),W--,--E<0&&(L==255?(H(255),H(0)):H(L),E=7,L=0)}function H(P){k.push(P)}function he(P){H(P>>8&255),H(255&P)}function xe(P,Y,W,ne,le){for(var me,Se=le[0],Ee=le[240],Fe=function(He,jt){var Me,at,wt,vr,Ht,Pt,nr,Zt,ht,Ft,st=0;for(ht=0;ht<8;++ht){Me=He[st],at=He[st+1],wt=He[st+2],vr=He[st+3],Ht=He[st+4],Pt=He[st+5],nr=He[st+6];var Hr=Me+(Zt=He[st+7]),sr=Me-Zt,Yt=at+nr,Qt=at-nr,qr=wt+Pt,ct=wt-Pt,br=vr+Ht,kt=vr-Ht,Bt=Hr+br,Sr=Hr-br,Wt=Yt+qr,St=Yt-qr;He[st]=Bt+Wt,He[st+4]=Bt-Wt;var fr=.707106781*(St+Sr);He[st+2]=Sr+fr,He[st+6]=Sr-fr;var Ga=.382683433*((Bt=kt+ct)-(St=Qt+sr)),Mn=.5411961*Bt+Ga,Ji=1.306562965*St+Ga,va=.707106781*(Wt=ct+Qt),nt=sr+va,Yr=sr-va;He[st+5]=Yr+Mn,He[st+3]=Yr-Mn,He[st+1]=nt+Ji,He[st+7]=nt-Ji,st+=8}for(st=0,ht=0;ht<8;++ht){Me=He[st],at=He[st+8],wt=He[st+16],vr=He[st+24],Ht=He[st+32],Pt=He[st+40],nr=He[st+48];var ya=Me+(Zt=He[st+56]),ai=Me-Zt,pn=at+nr,yr=at-nr,Xr=wt+Pt,mn=wt-Pt,Ka=vr+Ht,Ws=vr-Ht,cn=ya+Ka,si=ya-Ka,Tn=pn+Xr,Yi=pn-Xr;He[st]=cn+Tn,He[st+32]=cn-Tn;var oi=.707106781*(Yi+si);He[st+16]=si+oi,He[st+48]=si-oi;var vo=.382683433*((cn=Ws+mn)-(Yi=yr+ai)),li=.5411961*cn+vo,Ja=1.306562965*Yi+vo,Vs=.707106781*(Tn=mn+yr),yo=ai+Vs,Xi=ai-Vs;He[st+40]=Xi+li,He[st+24]=Xi-li,He[st+8]=yo+Ja,He[st+56]=yo-Ja,st++}for(ht=0;ht<64;++ht)Ft=He[ht]*jt[ht],y[ht]=Ft>0?Ft+.5|0:Ft-.5|0;return y}(P,Y),We=0;We<64;++We)C[se[We]]=Fe[We];var et=C[0]-W;W=C[0],et==0?ve(ne[0]):(ve(ne[j[me=32767+et]]),ve(m[me]));for(var tt=63;tt>0&&C[tt]==0;)tt--;if(tt==0)return ve(Se),W;for(var vt,Z=1;Z<=tt;){for(var rt=Z;C[Z]==0&&Z<=tt;)++Z;var bt=Z-rt;if(bt>=16){vt=bt>>4;for(var pt=1;pt<=vt;++pt)ve(Ee);bt&=15}me=32767+C[Z],ve(le[(bt<<4)+j[me]]),ve(m[me]),Z++}return tt!=63&&ve(Se),W}function X(P){P=Math.min(Math.max(P,1),100),o!=P&&(function(Y){for(var W=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var le=c((W[ne]*Y+50)/100);le=Math.min(Math.max(le,1),255),u[se[ne]]=le}for(var me=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Se=0;Se<64;Se++){var Ee=c((me[Se]*Y+50)/100);Ee=Math.min(Math.max(Ee,1),255),h[se[Se]]=Ee}for(var Fe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],We=0,et=0;et<8;et++)for(var tt=0;tt<8;tt++)f[We]=1/(u[se[We]]*Fe[et]*Fe[tt]*8),x[We]=1/(h[se[We]]*Fe[et]*Fe[tt]*8),We++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),o=P)}this.encode=function(P,Y){Y&&X(Y),k=new Array,L=0,E=7,he(65496),he(65504),he(16),H(74),H(70),H(73),H(70),H(0),H(1),H(1),H(0),he(1),he(1),H(0),H(0),function(){he(65499),he(132),H(0);for(var at=0;at<64;at++)H(u[at]);H(1);for(var wt=0;wt<64;wt++)H(h[wt])}(),function(at,wt){he(65472),he(17),H(8),he(wt),he(at),H(3),H(1),H(17),H(0),H(2),H(17),H(1),H(3),H(17),H(1)}(P.width,P.height),function(){he(65476),he(418),H(0);for(var at=0;at<16;at++)H(Q[at+1]);for(var wt=0;wt<=11;wt++)H(J[wt]);H(16);for(var vr=0;vr<16;vr++)H(de[vr+1]);for(var Ht=0;Ht<=161;Ht++)H(O[Ht]);H(1);for(var Pt=0;Pt<16;Pt++)H(K[Pt+1]);for(var nr=0;nr<=11;nr++)H(ae[nr]);H(17);for(var Zt=0;Zt<16;Zt++)H(ce[Zt+1]);for(var ht=0;ht<=161;ht++)H(we[ht])}(),he(65498),he(12),H(3),H(1),H(0),H(2),H(17),H(3),H(17),H(0),H(63),H(0);var W=0,ne=0,le=0;L=0,E=7,this.encode.displayName="_encode_";for(var me,Se,Ee,Fe,We,et,tt,vt,Z,rt=P.data,bt=P.width,pt=P.height,He=4*bt,jt=0;jt<pt;){for(me=0;me<He;){for(We=He*jt+me,tt=-1,vt=0,Z=0;Z<64;Z++)et=We+(vt=Z>>3)*He+(tt=4*(7&Z)),jt+vt>=pt&&(et-=He*(jt+1+vt-pt)),me+tt>=He&&(et-=me+tt-He+4),Se=rt[et++],Ee=rt[et++],Fe=rt[et++],B[Z]=(ie[Se]+ie[Ee+256|0]+ie[Fe+512|0]>>16)-128,T[Z]=(ie[Se+768|0]+ie[Ee+1024|0]+ie[Fe+1280|0]>>16)-128,D[Z]=(ie[Se+1280|0]+ie[Ee+1536|0]+ie[Fe+1792|0]>>16)-128;W=xe(B,f,W,e,n),ne=xe(T,x,ne,r,a),le=xe(D,x,le,r,a),me+=32}jt+=8}if(E>=0){var Me=[];Me[1]=E+1,Me[0]=(1<<E+1)-1,ve(Me)}return he(65497),new Uint8Array(k)},t=t||50,function(){for(var P=String.fromCharCode,Y=0;Y<256;Y++)z[Y]=P(Y)}(),e=Ae(Q,J),r=Ae(K,ae),n=Ae(de,O),a=Ae(ce,we),function(){for(var P=1,Y=2,W=1;W<=15;W++){for(var ne=P;ne<Y;ne++)j[32767+ne]=W,m[32767+ne]=[],m[32767+ne][1]=W,m[32767+ne][0]=ne;for(var le=-(Y-1);le<=-P;le++)j[32767+le]=W,m[32767+le]=[],m[32767+le][1]=W,m[32767+le][0]=Y-1+le;P<<=1,Y<<=1}}(),function(){for(var P=0;P<256;P++)ie[P]=19595*P,ie[P+256|0]=38470*P,ie[P+512|0]=7471*P+32768,ie[P+768|0]=-11059*P,ie[P+1024|0]=-21709*P,ie[P+1280|0]=32768*P+8421375,ie[P+1536|0]=-27439*P,ie[P+1792|0]=-5329*P}(),X(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Zo(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function w1(t){function e(J){if(!J)throw Error("assert :P")}function r(J,de,O){for(var K=0;4>K;K++)if(J[de+K]!=O.charCodeAt(K))return!0;return!1}function n(J,de,O,K,ae){for(var ce=0;ce<ae;ce++)J[de+ce]=O[K+ce]}function a(J,de,O,K){for(var ae=0;ae<K;ae++)J[de+ae]=O}function o(J){return new Int32Array(J)}function c(J,de){for(var O=[],K=0;K<J;K++)O.push(new de);return O}function u(J,de){var O=[];return function K(ae,ce,we){for(var Ae=we[ce],ve=0;ve<Ae&&(ae.push(we.length>ce+1?[]:new de),!(we.length<ce+1));ve++)K(ae[ve],ce+1,we)}(O,0,J),O}var h=function(){var J=this;function de(p,v){for(var S=1<<v-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function O(p,v,S,A,I){e(!(A%S));do p[v+(A-=S)]=I;while(0<A)}function K(p,v,S,A,I){if(e(2328>=I),512>=I)var q=o(512);else if((q=o(I))==null)return 0;return function(U,V,G,ee,pe,Ce){var te,be,Ne=V,De=1<<G,ke=o(16),Oe=o(16);for(e(pe!=0),e(ee!=null),e(U!=null),e(0<G),be=0;be<pe;++be){if(15<ee[be])return 0;++ke[ee[be]]}if(ke[0]==pe)return 0;for(Oe[1]=0,te=1;15>te;++te){if(ke[te]>1<<te)return 0;Oe[te+1]=Oe[te]+ke[te]}for(be=0;be<pe;++be)te=ee[be],0<ee[be]&&(Ce[Oe[te]++]=be);if(Oe[15]==1)return(ee=new ae).g=0,ee.value=Ce[0],O(U,Ne,1,De,ee),De;var Re,Ue=-1,ze=De-1,xt=0,Ze=1,Gt=1,ut=1<<G;for(be=0,te=1,pe=2;te<=G;++te,pe<<=1){if(Ze+=Gt<<=1,0>(Gt-=ke[te]))return 0;for(;0<ke[te];--ke[te])(ee=new ae).g=te,ee.value=Ce[be++],O(U,Ne+xt,pe,ut,ee),xt=de(xt,te)}for(te=G+1,pe=2;15>=te;++te,pe<<=1){if(Ze+=Gt<<=1,0>(Gt-=ke[te]))return 0;for(;0<ke[te];--ke[te]){if(ee=new ae,(xt&ze)!=Ue){for(Ne+=ut,Re=1<<(Ue=te)-G;15>Ue&&!(0>=(Re-=ke[Ue]));)++Ue,Re<<=1;De+=ut=1<<(Re=Ue-G),U[V+(Ue=xt&ze)].g=Re+G,U[V+Ue].value=Ne-V-Ue}ee.g=te-G,ee.value=Ce[be++],O(U,Ne+(xt>>G),pe,ut,ee),xt=de(xt,te)}}return Ze!=2*Oe[15]-1?0:De}(p,v,S,A,I,q)}function ae(){this.value=this.g=0}function ce(){this.value=this.g=0}function we(){this.G=c(5,ae),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=c(Mi,ce)}function Ae(p,v,S,A){e(p!=null),e(v!=null),e(2147483648>A),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=v,p.pa=S,p.Jd=v,p.Yc=S+A,p.Zc=4<=A?S+A-4+1:S,Se(p)}function ve(p,v){for(var S=0;0<v--;)S|=Fe(p,128)<<v;return S}function H(p,v){var S=ve(p,v);return Ee(p)?-S:S}function he(p,v,S,A){var I,q=0;for(e(p!=null),e(v!=null),e(4294967288>A),p.Sb=A,p.Ra=0,p.u=0,p.h=0,4<A&&(A=4),I=0;I<A;++I)q+=v[S+I]<<8*I;p.Ra=q,p.bb=A,p.oa=v,p.pa=S}function xe(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<io-8>>>0,++p.bb,p.u-=8;ne(p)&&(p.h=1,p.u=0)}function X(p,v){if(e(0<=v),!p.h&&v<=qi){var S=W(p)&aa[v];return p.u+=v,xe(p),S}return p.h=1,p.u=0}function P(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function Y(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(p){return p.Ra>>>(p.u&io-1)>>>0}function ne(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>io}function le(p,v){p.u=v,p.h=ne(p)}function me(p){p.u>=ka&&(e(p.u>=ka),xe(p))}function Se(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function Ee(p){return ve(p,1)}function Fe(p,v){var S=p.Ca;0>p.b&&Se(p);var A=p.b,I=S*v>>>8,q=(p.I>>>A>I)+0;for(q?(S-=I,p.I-=I+1<<A>>>0):S=I+1,A=S,I=0;256<=A;)I+=8,A>>=8;return A=7^I+Ns[A],p.b-=A,p.Ca=(S<<A)-1,q}function We(p,v,S){p[v+0]=S>>24&255,p[v+1]=S>>16&255,p[v+2]=S>>8&255,p[v+3]=255&S}function et(p,v){return p[v+0]|p[v+1]<<8}function tt(p,v){return et(p,v)|p[v+2]<<16}function vt(p,v){return et(p,v)|et(p,v+2)<<16}function Z(p,v){var S=1<<v;return e(p!=null),e(0<v),p.X=o(S),p.X==null?0:(p.Mb=32-v,p.Xa=v,1)}function rt(p,v){e(p!=null),e(v!=null),e(p.Xa==v.Xa),n(v.X,0,p.X,0,1<<v.Xa)}function bt(){this.X=[],this.Xa=this.Mb=0}function pt(p,v,S,A){e(S!=null),e(A!=null);var I=S[0],q=A[0];return I==0&&(I=(p*q+v/2)/v),q==0&&(q=(v*I+p/2)/p),0>=I||0>=q?0:(S[0]=I,A[0]=q,1)}function He(p,v){return p+(1<<v)-1>>>v}function jt(p,v){return((4278255360&p)+(4278255360&v)>>>0&4278255360)+((16711935&p)+(16711935&v)>>>0&16711935)>>>0}function Me(p,v){J[v]=function(S,A,I,q,U,V,G){var ee;for(ee=0;ee<U;++ee){var pe=J[p](V[G+ee-1],I,q+ee);V[G+ee]=jt(S[A+ee],pe)}}}function at(){this.ud=this.hd=this.jd=0}function wt(p,v){return((4278124286&(p^v))>>>1)+(p&v)>>>0}function vr(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Ht(p,v){return vr(p+(p-v+.5>>1))}function Pt(p,v,S){return Math.abs(v-S)-Math.abs(p-S)}function nr(p,v,S,A,I,q,U){for(A=q[U-1],S=0;S<I;++S)q[U+S]=A=jt(p[v+S],A)}function Zt(p,v,S,A,I){var q;for(q=0;q<S;++q){var U=p[v+q],V=U>>8&255,G=16711935&(G=(G=16711935&U)+((V<<16)+V));A[I+q]=(4278255360&U)+G>>>0}}function ht(p,v){v.jd=255&p,v.hd=p>>8&255,v.ud=p>>16&255}function Ft(p,v,S,A,I,q){var U;for(U=0;U<A;++U){var V=v[S+U],G=V>>>8,ee=V,pe=255&(pe=(pe=V>>>16)+((p.jd<<24>>24)*(G<<24>>24)>>>5));ee=255&(ee=(ee+=(p.hd<<24>>24)*(G<<24>>24)>>>5)+((p.ud<<24>>24)*(pe<<24>>24)>>>5)),I[q+U]=(4278255360&V)+(pe<<16)+ee}}function st(p,v,S,A,I){J[v]=function(q,U,V,G,ee,pe,Ce,te,be){for(G=Ce;G<te;++G)for(Ce=0;Ce<be;++Ce)ee[pe++]=I(V[A(q[U++])])},J[p]=function(q,U,V,G,ee,pe,Ce){var te=8>>q.b,be=q.Ea,Ne=q.K[0],De=q.w;if(8>te)for(q=(1<<q.b)-1,De=(1<<te)-1;U<V;++U){var ke,Oe=0;for(ke=0;ke<be;++ke)ke&q||(Oe=A(G[ee++])),pe[Ce++]=I(Ne[Oe&De]),Oe>>=te}else J["VP8LMapColor"+S](G,ee,Ne,De,pe,Ce,U,V,be)}}function Hr(p,v,S,A,I){for(S=v+S;v<S;){var q=p[v++];A[I++]=q>>16&255,A[I++]=q>>8&255,A[I++]=255&q}}function sr(p,v,S,A,I){for(S=v+S;v<S;){var q=p[v++];A[I++]=q>>16&255,A[I++]=q>>8&255,A[I++]=255&q,A[I++]=q>>24&255}}function Yt(p,v,S,A,I){for(S=v+S;v<S;){var q=(U=p[v++])>>16&240|U>>12&15,U=240&U|U>>28&15;A[I++]=q,A[I++]=U}}function Qt(p,v,S,A,I){for(S=v+S;v<S;){var q=(U=p[v++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;A[I++]=q,A[I++]=U}}function qr(p,v,S,A,I){for(S=v+S;v<S;){var q=p[v++];A[I++]=255&q,A[I++]=q>>8&255,A[I++]=q>>16&255}}function ct(p,v,S,A,I,q){if(q==0)for(S=v+S;v<S;)We(A,((q=p[v++])[0]>>24|q[1]>>8&65280|q[2]<<8&16711680|q[3]<<24)>>>0),I+=32;else n(A,I,p,v,S)}function br(p,v){J[v][0]=J[p+"0"],J[v][1]=J[p+"1"],J[v][2]=J[p+"2"],J[v][3]=J[p+"3"],J[v][4]=J[p+"4"],J[v][5]=J[p+"5"],J[v][6]=J[p+"6"],J[v][7]=J[p+"7"],J[v][8]=J[p+"8"],J[v][9]=J[p+"9"],J[v][10]=J[p+"10"],J[v][11]=J[p+"11"],J[v][12]=J[p+"12"],J[v][13]=J[p+"13"],J[v][14]=J[p+"0"],J[v][15]=J[p+"0"]}function kt(p){return p==qo||p==ss||p==qa||p==fl}function Bt(){this.eb=[],this.size=this.A=this.fb=0}function Sr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Wt(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Bt,this.f.kb=new Sr,this.sd=null}function St(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function fr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ga(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function Mn(p,v){var S=p.T,A=v.ba.f.RGBA,I=A.eb,q=A.fb+p.ka*A.A,U=Jn[v.ba.S],V=p.y,G=p.O,ee=p.f,pe=p.N,Ce=p.ea,te=p.W,be=v.cc,Ne=v.dc,De=v.Mc,ke=v.Nc,Oe=p.ka,Re=p.ka+p.T,Ue=p.U,ze=Ue+1>>1;for(Oe==0?U(V,G,null,null,ee,pe,Ce,te,ee,pe,Ce,te,I,q,null,null,Ue):(U(v.ec,v.fc,V,G,be,Ne,De,ke,ee,pe,Ce,te,I,q-A.A,I,q,Ue),++S);Oe+2<Re;Oe+=2)be=ee,Ne=pe,De=Ce,ke=te,pe+=p.Rc,te+=p.Rc,q+=2*A.A,U(V,(G+=2*p.fa)-p.fa,V,G,be,Ne,De,ke,ee,pe,Ce,te,I,q-A.A,I,q,Ue);return G+=p.fa,p.j+Re<p.o?(n(v.ec,v.fc,V,G,Ue),n(v.cc,v.dc,ee,pe,ze),n(v.Mc,v.Nc,Ce,te,ze),S--):1&Re||U(V,G,null,null,ee,pe,Ce,te,ee,pe,Ce,te,I,q+A.A,null,null,Ue),S}function Ji(p,v,S){var A=p.F,I=[p.J];if(A!=null){var q=p.U,U=v.ba.S,V=U==hl||U==qa;v=v.ba.f.RGBA;var G=[0],ee=p.ka;G[0]=p.T,p.Kb&&(ee==0?--G[0]:(--ee,I[0]-=p.width),p.j+p.ka+p.T==p.o&&(G[0]=p.o-p.j-ee));var pe=v.eb;ee=v.fb+ee*v.A,p=lo(A,I[0],p.width,q,G,pe,ee+(V?0:3),v.A),e(S==G),p&&kt(U)&&Bo(pe,ee,V,q,G,v.A)}return 0}function va(p){var v=p.ma,S=v.ba.S,A=11>S,I=S==as||S==Mo||S==hl||S==Vt||S==12||kt(S);if(v.memory=null,v.Ib=null,v.Jb=null,v.Nd=null,!no(v.Oa,p,I?11:12))return 0;if(I&&kt(S)&&ts(),p.da)alert("todo:use_scaling");else{if(A){if(v.Ib=Ga,p.Kb){if(S=p.U+1>>1,v.memory=o(p.U+2*S),v.memory==null)return 0;v.ec=v.memory,v.fc=0,v.cc=v.ec,v.dc=v.fc+p.U,v.Mc=v.cc,v.Nc=v.dc+S,v.Ib=Mn,ts()}}else alert("todo:EmitYUV");I&&(v.Jb=Ji,A&&na())}if(A&&!Ai){for(p=0;256>p;++p)sn[p]=89858*(p-128)+Ua>>Ps,gc[p]=-22014*(p-128)+Ua,pi[p]=-45773*(p-128),la[p]=113618*(p-128)+Ua>>Ps;for(p=kr;p<gr;++p)v=76283*(p-16)+Ua>>Ps,Au[p-kr]=Zr(v,255),Eu[p-kr]=Zr(v+8>>4,15);Ai=1}return 1}function nt(p){var v=p.ma,S=p.U,A=p.T;return e(!(1&p.ka)),0>=S||0>=A?0:(S=v.Ib(p,v),v.Jb!=null&&v.Jb(p,v,S),v.Dc+=S,1)}function Yr(p){p.ma.memory=null}function ya(p,v,S,A){return X(p,8)!=47?0:(v[0]=X(p,14)+1,S[0]=X(p,14)+1,A[0]=X(p,1),X(p,3)!=0?0:!p.h)}function ai(p,v){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+X(v,S)+1}function pn(p,v){return 120<v?v-120:1<=(S=((S=gd[v-1])>>4)*p+(8-(15&S)))?S:1;var S}function yr(p,v,S){var A=W(S),I=p[v+=255&A].g-8;return 0<I&&(le(S,S.u+8),A=W(S),v+=p[v].value,v+=A&(1<<I)-1),le(S,S.u+p[v].g),p[v].value}function Xr(p,v,S){return S.g+=p.g,S.value+=p.value<<v>>>0,e(8>=S.g),p.g}function mn(p,v,S){var A=p.xc;return e((v=A==0?0:p.vc[p.md*(S>>A)+(v>>A)])<p.Wb),p.Ya[v]}function Ka(p,v,S,A){var I=p.ab,q=p.c*v,U=p.C;v=U+v;var V=S,G=A;for(A=p.Ta,S=p.Ua;0<I--;){var ee=p.gc[I],pe=U,Ce=v,te=V,be=G,Ne=(G=A,V=S,ee.Ea);switch(e(pe<Ce),e(Ce<=ee.nc),ee.hc){case 2:Er(te,be,(Ce-pe)*Ne,G,V);break;case 0:var De=pe,ke=Ce,Oe=G,Re=V,Ue=(ut=ee).Ea;De==0&&(ks(te,be,null,null,1,Oe,Re),nr(te,be+1,0,0,Ue-1,Oe,Re+1),be+=Ue,Re+=Ue,++De);for(var ze=1<<ut.b,xt=ze-1,Ze=He(Ue,ut.b),Gt=ut.K,ut=ut.w+(De>>ut.b)*Ze;De<ke;){var ir=Gt,Cn=ut,$t=1;for(Fa(te,be,Oe,Re-Ue,1,Oe,Re);$t<Ue;){var lt=($t&~xt)+ze;lt>Ue&&(lt=Ue),(0,sa[ir[Cn++]>>8&15])(te,be+ +$t,Oe,Re+$t-Ue,lt-$t,Oe,Re+$t),$t=lt}be+=Ue,Re+=Ue,++De&xt||(ut+=Ze)}Ce!=ee.nc&&n(G,V-Ne,G,V+(Ce-pe-1)*Ne,Ne);break;case 1:for(Ne=te,ke=be,Ue=(te=ee.Ea)-(Re=te&~(Oe=(be=1<<ee.b)-1)),De=He(te,ee.b),ze=ee.K,ee=ee.w+(pe>>ee.b)*De;pe<Ce;){for(xt=ze,Ze=ee,Gt=new at,ut=ke+Re,ir=ke+te;ke<ut;)ht(xt[Ze++],Gt),so(Gt,Ne,ke,be,G,V),ke+=be,V+=be;ke<ir&&(ht(xt[Ze++],Gt),so(Gt,Ne,ke,Ue,G,V),ke+=Ue,V+=Ue),++pe&Oe||(ee+=De)}break;case 3:if(te==G&&be==V&&0<ee.b){for(ke=G,te=Ne=V+(Ce-pe)*Ne-(Re=(Ce-pe)*He(ee.Ea,ee.b)),be=G,Oe=V,De=[],Re=(Ue=Re)-1;0<=Re;--Re)De[Re]=be[Oe+Re];for(Re=Ue-1;0<=Re;--Re)ke[te+Re]=De[Re];ao(ee,pe,Ce,G,Ne,G,V)}else ao(ee,pe,Ce,te,be,G,V)}V=A,G=S}G!=S&&n(A,S,V,G,q)}function Ws(p,v){var S=p.V,A=p.Ba+p.c*p.C,I=v-p.C;if(e(v<=p.l.o),e(16>=I),0<I){var q=p.l,U=p.Ta,V=p.Ua,G=q.width;if(Ka(p,I,S,A),I=V=[V],e((S=p.C)<(A=v)),e(q.v<q.va),A>q.o&&(A=q.o),S<q.j){var ee=q.j-S;S=q.j,I[0]+=ee*G}if(S>=A?S=0:(I[0]+=4*q.v,q.ka=S-q.j,q.U=q.va-q.v,q.T=A-S,S=1),S){if(V=V[0],11>(S=p.ca).S){var pe=S.f.RGBA,Ce=(A=S.S,I=q.U,q=q.T,ee=pe.eb,pe.A),te=q;for(pe=pe.fb+p.Ma*pe.A;0<te--;){var be=U,Ne=V,De=I,ke=ee,Oe=pe;switch(A){case dl:Io(be,Ne,De,ke,Oe);break;case as:Ba(be,Ne,De,ke,Oe);break;case qo:Ba(be,Ne,De,ke,Oe),Bo(ke,Oe,0,De,1,0);break;case fc:hi(be,Ne,De,ke,Oe);break;case Mo:ct(be,Ne,De,ke,Oe,1);break;case ss:ct(be,Ne,De,ke,Oe,1),Bo(ke,Oe,0,De,1,0);break;case hl:ct(be,Ne,De,ke,Oe,0);break;case qa:ct(be,Ne,De,ke,Oe,0),Bo(ke,Oe,1,De,1,0);break;case Vt:Gn(be,Ne,De,ke,Oe);break;case fl:Gn(be,Ne,De,ke,Oe),$o(ke,Oe,De,1,0);break;case As:Ui(be,Ne,De,ke,Oe);break;default:e(0)}V+=G,pe+=Ce}p.Ma+=q}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=v,e(p.C<=p.i)}function cn(p){var v;if(0<p.ua)return 0;for(v=0;v<p.Wb;++v){var S=p.Ya[v].G,A=p.Ya[v].H;if(0<S[1][A[1]+0].g||0<S[2][A[2]+0].g||0<S[3][A[3]+0].g)return 0}return 1}function si(p,v,S,A,I,q){if(p.Z!=0){var U=p.qd,V=p.rd;for(e(fi[p.Z]!=null);v<S;++v)fi[p.Z](U,V,A,I,A,I,q),U=A,V=I,I+=q;p.qd=U,p.rd=V}}function Tn(p,v){var S=p.l.ma,A=S.Z==0||S.Z==1?p.l.j:p.C;if(A=p.C<A?A:p.C,e(v<=p.l.o),v>A){var I=p.l.width,q=S.ca,U=S.tb+I*A,V=p.V,G=p.Ba+p.c*A,ee=p.gc;e(p.ab==1),e(ee[0].hc==3),Ca(ee[0],A,v,V,G,q,U),si(S,A,v,q,U,I)}p.C=p.Ma=v}function Yi(p,v,S,A,I,q,U){var V=p.$/A,G=p.$%A,ee=p.m,pe=p.s,Ce=S+p.$,te=Ce;I=S+A*I;var be=S+A*q,Ne=280+pe.ua,De=p.Pb?V:16777216,ke=0<pe.ua?pe.Wa:null,Oe=pe.wc,Re=Ce<be?mn(pe,G,V):null;e(p.C<q),e(be<=I);var Ue=!1;e:for(;;){for(;Ue||Ce<be;){var ze=0;if(V>=De){var xt=Ce-S;e((De=p).Pb),De.wd=De.m,De.xd=xt,0<De.s.ua&&rt(De.s.Wa,De.s.vb),De=V+Ul}if(G&Oe||(Re=mn(pe,G,V)),e(Re!=null),Re.Qb&&(v[Ce]=Re.qb,Ue=!0),!Ue)if(me(ee),Re.jc){ze=ee,xt=v;var Ze=Ce,Gt=Re.pd[W(ze)&Mi-1];e(Re.jc),256>Gt.g?(le(ze,ze.u+Gt.g),xt[Ze]=Gt.value,ze=0):(le(ze,ze.u+Gt.g-256),e(256<=Gt.value),ze=Gt.value),ze==0&&(Ue=!0)}else ze=yr(Re.G[0],Re.H[0],ee);if(ee.h)break;if(Ue||256>ze){if(!Ue)if(Re.nd)v[Ce]=(Re.qb|ze<<8)>>>0;else{if(me(ee),Ue=yr(Re.G[1],Re.H[1],ee),me(ee),xt=yr(Re.G[2],Re.H[2],ee),Ze=yr(Re.G[3],Re.H[3],ee),ee.h)break;v[Ce]=(Ze<<24|Ue<<16|ze<<8|xt)>>>0}if(Ue=!1,++Ce,++G>=A&&(G=0,++V,U!=null&&V<=q&&!(V%16)&&U(p,V),ke!=null))for(;te<Ce;)ze=v[te++],ke.X[(506832829*ze&4294967295)>>>ke.Mb]=ze}else if(280>ze){if(ze=ai(ze-256,ee),xt=yr(Re.G[4],Re.H[4],ee),me(ee),xt=pn(A,xt=ai(xt,ee)),ee.h)break;if(Ce-S<xt||I-Ce<ze)break e;for(Ze=0;Ze<ze;++Ze)v[Ce+Ze]=v[Ce+Ze-xt];for(Ce+=ze,G+=ze;G>=A;)G-=A,++V,U!=null&&V<=q&&!(V%16)&&U(p,V);if(e(Ce<=I),G&Oe&&(Re=mn(pe,G,V)),ke!=null)for(;te<Ce;)ze=v[te++],ke.X[(506832829*ze&4294967295)>>>ke.Mb]=ze}else{if(!(ze<Ne))break e;for(Ue=ze-280,e(ke!=null);te<Ce;)ze=v[te++],ke.X[(506832829*ze&4294967295)>>>ke.Mb]=ze;ze=Ce,e(!(Ue>>>(xt=ke).Xa)),v[ze]=xt.X[Ue],Ue=!0}Ue||e(ee.h==ne(ee))}if(p.Pb&&ee.h&&Ce<I)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&rt(p.s.vb,p.s.Wa);else{if(ee.h)break e;U!=null&&U(p,V>q?q:V),p.a=0,p.$=Ce-S}return 1}return p.a=3,0}function oi(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var v=p.Wa;v!=null&&(v.X=null),p.vb=null,e(p!=null)}function vo(){var p=new Tt;return p==null?null:(p.a=0,p.xb=zo,br("Predictor","VP8LPredictors"),br("Predictor","VP8LPredictors_C"),br("PredictorAdd","VP8LPredictorsAdd"),br("PredictorAdd","VP8LPredictorsAdd_C"),Er=Zt,so=Ft,Io=Hr,Ba=sr,Gn=Yt,Ui=Qt,hi=qr,J.VP8LMapColor32b=ns,J.VP8LMapColor8b=Rr,p)}function li(p,v,S,A,I){var q=1,U=[p],V=[v],G=A.m,ee=A.s,pe=null,Ce=0;e:for(;;){if(S)for(;q&&X(G,1);){var te=U,be=V,Ne=A,De=1,ke=Ne.m,Oe=Ne.gc[Ne.ab],Re=X(ke,2);if(Ne.Oc&1<<Re)q=0;else{switch(Ne.Oc|=1<<Re,Oe.hc=Re,Oe.Ea=te[0],Oe.nc=be[0],Oe.K=[null],++Ne.ab,e(4>=Ne.ab),Re){case 0:case 1:Oe.b=X(ke,3)+2,De=li(He(Oe.Ea,Oe.b),He(Oe.nc,Oe.b),0,Ne,Oe.K),Oe.K=Oe.K[0];break;case 3:var Ue,ze=X(ke,8)+1,xt=16<ze?0:4<ze?1:2<ze?2:3;if(te[0]=He(Oe.Ea,xt),Oe.b=xt,Ue=De=li(ze,1,0,Ne,Oe.K)){var Ze,Gt=ze,ut=Oe,ir=1<<(8>>ut.b),Cn=o(ir);if(Cn==null)Ue=0;else{var $t=ut.K[0],lt=ut.w;for(Cn[0]=ut.K[0][0],Ze=1;Ze<1*Gt;++Ze)Cn[Ze]=jt($t[lt+Ze],Cn[Ze-1]);for(;Ze<4*ir;++Ze)Cn[Ze]=0;ut.K[0]=null,ut.K[0]=Cn,Ue=1}}De=Ue;break;case 2:break;default:e(0)}q=De}}if(U=U[0],V=V[0],q&&X(G,1)&&!(q=1<=(Ce=X(G,4))&&11>=Ce)){A.a=3;break e}var Qe;if(Qe=q)t:{var Vr,Mt,er,Ur=A,dn=U,mi=V,tr=Ce,Dn=S,An=Ur.m,vn=Ur.s,dr=[null],_r=1,Jr=0,pr=bd[tr];r:for(;;){if(Dn&&X(An,1)){var Ir=X(An,3)+2,Xn=He(dn,Ir),Or=He(mi,Ir),Ei=Xn*Or;if(!li(Xn,Or,0,Ur,dr))break r;for(dr=dr[0],vn.xc=Ir,Vr=0;Vr<Ei;++Vr){var hr=dr[Vr]>>8&65535;dr[Vr]=hr,hr>=_r&&(_r=hr+1)}}if(An.h)break r;for(Mt=0;5>Mt;++Mt){var zr=co[Mt];!Mt&&0<tr&&(zr+=1<<tr),Jr<zr&&(Jr=zr)}var Li=c(_r*pr,ae),Fn=_r,yn=c(Fn,we);if(yn==null)var En=null;else e(65536>=Fn),En=yn;var Zn=o(Jr);if(En==null||Zn==null||Li==null){Ur.a=1;break r}var Cr=Li;for(Vr=er=0;Vr<_r;++Vr){var Lr=En[Vr],Hi=Lr.G,Pi=Lr.H,gi=0,ca=1,wn=0;for(Mt=0;5>Mt;++Mt){zr=co[Mt],Hi[Mt]=Cr,Pi[Mt]=er,!Mt&&0<tr&&(zr+=1<<tr);i:{var cs,Wl=zr,Is=Ur,bl=Zn,Jc=Cr,on=er,za=0,us=Is.m,Yc=X(us,1);if(a(bl,0,0,Wl),Yc){var bc=X(us,1)+1,Xc=X(us,1),ds=X(us,Xc==0?1:8);bl[ds]=1,bc==2&&(bl[ds=X(us,8)]=1);var $r=1}else{var Ln=o(19),_n=X(us,4)+4;if(19<_n){Is.a=3;var Ho=0;break i}for(cs=0;cs<_n;++cs)Ln[ql[cs]]=X(us,3);var Wo=void 0,Os=void 0,Lu=Is,bi=Ln,xl=Wl,xc=bl,Vl=0,Qn=Lu.m,ua=8,vl=c(128,ae);n:for(;K(vl,0,7,bi,19);){if(X(Qn,1)){var yl=2+2*X(Qn,3);if((Wo=2+X(Qn,yl))>xl)break n}else Wo=xl;for(Os=0;Os<xl&&Wo--;){me(Qn);var vc=vl[0+(127&W(Qn))];le(Qn,Qn.u+vc.g);var Vo=vc.value;if(16>Vo)xc[Os++]=Vo,Vo!=0&&(ua=Vo);else{var Pu=Vo==16,Zc=Vo-16,Tu=Ml[Zc],yc=X(Qn,Uo[Zc])+Tu;if(Os+yc>xl)break n;for(var Ru=Pu?ua:0;0<yc--;)xc[Os++]=Ru}}Vl=1;break n}Vl||(Lu.a=3),$r=Vl}($r=$r&&!us.h)&&(za=K(Jc,on,8,bl,Wl)),$r&&za!=0?Ho=za:(Is.a=3,Ho=0)}if(Ho==0)break r;if(ca&&Vc[Mt]==1&&(ca=Cr[er].g==0),gi+=Cr[er].g,er+=Ho,3>=Mt){var Go,g=Zn[0];for(Go=1;Go<zr;++Go)Zn[Go]>g&&(g=Zn[Go]);wn+=g}}if(Lr.nd=ca,Lr.Qb=0,ca&&(Lr.qb=(Hi[3][Pi[3]+0].value<<24|Hi[1][Pi[1]+0].value<<16|Hi[2][Pi[2]+0].value)>>>0,gi==0&&256>Hi[0][Pi[0]+0].value&&(Lr.Qb=1,Lr.qb+=Hi[0][Pi[0]+0].value<<8)),Lr.jc=!Lr.Qb&&6>wn,Lr.jc){var $,je=Lr;for($=0;$<Mi;++$){var Te=$,Ke=je.pd[Te],Lt=je.G[0][je.H[0]+Te];256<=Lt.value?(Ke.g=Lt.g+256,Ke.value=Lt.value):(Ke.g=0,Ke.value=0,Te>>=Xr(Lt,8,Ke),Te>>=Xr(je.G[1][je.H[1]+Te],16,Ke),Te>>=Xr(je.G[2][je.H[2]+Te],0,Ke),Xr(je.G[3][je.H[3]+Te],24,Ke))}}}vn.vc=dr,vn.Wb=_r,vn.Ya=En,vn.yc=Li,Qe=1;break t}Qe=0}if(!(q=Qe)){A.a=3;break e}if(0<Ce){if(ee.ua=1<<Ce,!Z(ee.Wa,Ce)){A.a=1,q=0;break e}}else ee.ua=0;var Ot=A,Xt=U,Dr=V,ei=Ot.s,da=ei.xc;if(Ot.c=Xt,Ot.i=Dr,ei.md=He(Xt,da),ei.wc=da==0?-1:(1<<da)-1,S){A.xb=os;break e}if((pe=o(U*V))==null){A.a=1,q=0;break e}q=(q=Yi(A,pe,0,U,V,V,null))&&!G.h;break e}return q?(I!=null?I[0]=pe:(e(pe==null),e(S)),A.$=0,S||oi(ee)):oi(ee),q}function Ja(p,v){var S=p.c*p.i,A=S+v+16*v;return e(p.c<=v),p.V=o(A),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+v,1)}function Vs(p,v){var S=p.C,A=v-S,I=p.V,q=p.Ba+p.c*S;for(e(v<=p.l.o);0<A;){var U=16<A?16:A,V=p.l.ma,G=p.l.width,ee=G*U,pe=V.ca,Ce=V.tb+G*S,te=p.Ta,be=p.Ua;Ka(p,U,I,q),cc(te,be,pe,Ce,ee),si(V,S,S+U,pe,Ce,G),A-=U,I+=U*p.c,S+=U}e(S==v),p.C=p.Ma=v}function yo(){this.ub=this.yd=this.td=this.Rb=0}function Xi(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function wo(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function Br(){this.Yb=function(){var p=[];return function v(S,A,I){for(var q=I[A],U=0;U<q&&(S.push(I.length>A+1?[]:0),!(I.length<A+1));U++)v(S[U],A+1,I)}(p,0,[3,11]),p}()}function Dl(){this.jb=o(3),this.Wc=u([4,8],Br),this.Xc=u([4,17],Br)}function vs(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Zi(){this.ld=this.La=this.dd=this.tc=0}function yi(){this.Na=this.la=0}function _o(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ii(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Gs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Zi),this.Y=0,this.ya=Array(new Ii),this.aa=0,this.l=new jo}function lr(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Oi(){this.cb=this.a=0,this.sc="",this.m=new P,this.Od=new yo,this.Kc=new Xi,this.ed=new vs,this.Qa=new wo,this.Ic=this.$c=this.Aa=0,this.D=new Gs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=c(8,P),this.ia=0,this.pb=c(4,_o),this.Pa=new Dl,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new lr),this.Hd=0,this.rb=Array(new yi),this.sb=0,this.wa=Array(new Zi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ii),this.L=this.aa=0,this.gd=u([4,2],Zi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Zr(p,v){return 0>p?0:p>v?v:p}function jo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function sc(){var p=new Oi;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,Es||(Es=Rn)),p}function Qr(p,v,S){return p.a==0&&(p.a=v,p.sc=S,p.cb=0),0}function Ks(p,v,S){return 3<=S&&p[v+0]==157&&p[v+1]==1&&p[v+2]==42}function Qi(p,v){if(p==null)return 0;if(p.a=0,p.sc="OK",v==null)return Qr(p,2,"null VP8Io passed to VP8GetHeaders()");var S=v.data,A=v.w,I=v.ha;if(4>I)return Qr(p,7,"Truncated header.");var q=S[A+0]|S[A+1]<<8|S[A+2]<<16,U=p.Od;if(U.Rb=!(1&q),U.td=q>>1&7,U.yd=q>>4&1,U.ub=q>>5,3<U.td)return Qr(p,3,"Incorrect keyframe parameters.");if(!U.yd)return Qr(p,4,"Frame not displayable.");A+=3,I-=3;var V=p.Kc;if(U.Rb){if(7>I)return Qr(p,7,"cannot parse picture header");if(!Ks(S,A,I))return Qr(p,3,"Bad code word");V.c=16383&(S[A+4]<<8|S[A+3]),V.Td=S[A+4]>>6,V.i=16383&(S[A+6]<<8|S[A+5]),V.Ud=S[A+6]>>6,A+=7,I-=7,p.za=V.c+15>>4,p.Ub=V.i+15>>4,v.width=V.c,v.height=V.i,v.Da=0,v.j=0,v.v=0,v.va=v.width,v.o=v.height,v.da=0,v.ib=v.width,v.hb=v.height,v.U=v.width,v.T=v.height,a((q=p.Pa).jb,0,255,q.jb.length),e((q=p.Qa)!=null),q.Cb=0,q.Bb=0,q.Fb=1,a(q.Zb,0,0,q.Zb.length),a(q.Lb,0,0,q.Lb)}if(U.ub>I)return Qr(p,7,"bad partition length");Ae(q=p.m,S,A,U.ub),A+=U.ub,I-=U.ub,U.Rb&&(V.Ld=Ee(q),V.Kd=Ee(q)),V=p.Qa;var G,ee=p.Pa;if(e(q!=null),e(V!=null),V.Cb=Ee(q),V.Cb){if(V.Bb=Ee(q),Ee(q)){for(V.Fb=Ee(q),G=0;4>G;++G)V.Zb[G]=Ee(q)?H(q,7):0;for(G=0;4>G;++G)V.Lb[G]=Ee(q)?H(q,6):0}if(V.Bb)for(G=0;3>G;++G)ee.jb[G]=Ee(q)?ve(q,8):255}else V.Bb=0;if(q.Ka)return Qr(p,3,"cannot parse segment header");if((V=p.ed).zd=Ee(q),V.Tb=ve(q,6),V.wb=ve(q,3),V.Pc=Ee(q),V.Pc&&Ee(q)){for(ee=0;4>ee;++ee)Ee(q)&&(V.vd[ee]=H(q,6));for(ee=0;4>ee;++ee)Ee(q)&&(V.od[ee]=H(q,6))}if(p.L=V.Tb==0?0:V.zd?1:2,q.Ka)return Qr(p,3,"cannot parse filter header");var pe=I;if(I=G=A,A=G+pe,V=pe,p.Xb=(1<<ve(p.m,2))-1,pe<3*(ee=p.Xb))S=7;else{for(G+=3*ee,V-=3*ee,pe=0;pe<ee;++pe){var Ce=S[I+0]|S[I+1]<<8|S[I+2]<<16;Ce>V&&(Ce=V),Ae(p.Jc[+pe],S,G,Ce),G+=Ce,V-=Ce,I+=3}Ae(p.Jc[+ee],S,G,V),S=G<A?0:5}if(S!=0)return Qr(p,S,"cannot parse partitions");for(S=ve(G=p.m,7),I=Ee(G)?H(G,4):0,A=Ee(G)?H(G,4):0,V=Ee(G)?H(G,4):0,ee=Ee(G)?H(G,4):0,G=Ee(G)?H(G,4):0,pe=p.Qa,Ce=0;4>Ce;++Ce){if(pe.Cb){var te=pe.Zb[Ce];pe.Fb||(te+=S)}else{if(0<Ce){p.pb[Ce]=p.pb[0];continue}te=S}var be=p.pb[Ce];be.Sc[0]=ar[Zr(te+I,127)],be.Sc[1]=uo[Zr(te+0,127)],be.Eb[0]=2*ar[Zr(te+A,127)],be.Eb[1]=101581*uo[Zr(te+V,127)]>>16,8>be.Eb[1]&&(be.Eb[1]=8),be.Qc[0]=ar[Zr(te+ee,117)],be.Qc[1]=uo[Zr(te+G,127)],be.lc=te+G}if(!U.Rb)return Qr(p,4,"Not a key frame.");for(Ee(q),U=p.Pa,S=0;4>S;++S){for(I=0;8>I;++I)for(A=0;3>A;++A)for(V=0;11>V;++V)ee=Fe(q,Cu[S][I][A][V])?ve(q,8):$e[S][I][A][V],U.Wc[S][I].Yb[A][V]=ee;for(I=0;17>I;++I)U.Xc[S][I]=U.Wc[S][pc[I]]}return p.kc=Ee(q),p.kc&&(p.Bd=ve(q,8)),p.cb=1}function Rn(p,v,S,A,I,q,U){var V=v[I].Yb[S];for(S=0;16>I;++I){if(!Fe(p,V[S+0]))return I;for(;!Fe(p,V[S+1]);)if(V=v[++I].Yb[0],S=0,I==16)return 16;var G=v[I+1].Yb;if(Fe(p,V[S+2])){var ee=p,pe=0;if(Fe(ee,(te=V)[(Ce=S)+3]))if(Fe(ee,te[Ce+6])){for(V=0,Ce=2*(pe=Fe(ee,te[Ce+8]))+(te=Fe(ee,te[Ce+9+pe])),pe=0,te=Gc[Ce];te[V];++V)pe+=pe+Fe(ee,te[V]);pe+=3+(8<<Ce)}else Fe(ee,te[Ce+7])?(pe=7+2*Fe(ee,165),pe+=Fe(ee,145)):pe=5+Fe(ee,159);else pe=Fe(ee,te[Ce+4])?3+Fe(ee,te[Ce+5]):2;V=G[2]}else pe=1,V=G[1];G=U+pl[I],0>(ee=p).b&&Se(ee);var Ce,te=ee.b,be=(Ce=ee.Ca>>1)-(ee.I>>te)>>31;--ee.b,ee.Ca+=be,ee.Ca|=1,ee.I-=(Ce+1&be)<<te,q[G]=((pe^be)-be)*A[(0<I)+0]}return 16}function wa(p){var v=p.rb[p.sb-1];v.la=0,v.Na=0,a(p.zc,0,0,p.zc.length),p.ja=0}function Di(p,v,S,A,I){I=p[v+S+32*A]+(I>>3),p[v+S+32*A]=-256&I?0>I?0:255:I}function Sn(p,v,S,A,I,q){Di(p,v,0,S,A+I),Di(p,v,1,S,A+q),Di(p,v,2,S,A-q),Di(p,v,3,S,A-I)}function _a(p){return(20091*p>>16)+p}function Fl(p,v,S,A){var I,q=0,U=o(16);for(I=0;4>I;++I){var V=p[v+0]+p[v+8],G=p[v+0]-p[v+8],ee=(35468*p[v+4]>>16)-_a(p[v+12]),pe=_a(p[v+4])+(35468*p[v+12]>>16);U[q+0]=V+pe,U[q+1]=G+ee,U[q+2]=G-ee,U[q+3]=V-pe,q+=4,v++}for(I=q=0;4>I;++I)V=(p=U[q+0]+4)+U[q+8],G=p-U[q+8],ee=(35468*U[q+4]>>16)-_a(U[q+12]),Di(S,A,0,0,V+(pe=_a(U[q+4])+(35468*U[q+12]>>16))),Di(S,A,1,0,G+ee),Di(S,A,2,0,G-ee),Di(S,A,3,0,V-pe),q++,A+=32}function Tr(p,v,S,A){var I=p[v+0]+4,q=35468*p[v+4]>>16,U=_a(p[v+4]),V=35468*p[v+1]>>16;Sn(S,A,0,I+U,p=_a(p[v+1]),V),Sn(S,A,1,I+q,p,V),Sn(S,A,2,I-q,p,V),Sn(S,A,3,I-U,p,V)}function wi(p,v,S,A,I){Fl(p,v,S,A),I&&Fl(p,v+16,S,A+4)}function ja(p,v,S,A){oo(p,v+0,S,A,1),oo(p,v+32,S,A+128,1)}function So(p,v,S,A){var I;for(p=p[v+0]+4,I=0;4>I;++I)for(v=0;4>v;++v)Di(S,A,v,I,p)}function cr(p,v,S,A){p[v+0]&&xr(p,v+0,S,A),p[v+16]&&xr(p,v+16,S,A+4),p[v+32]&&xr(p,v+32,S,A+128),p[v+48]&&xr(p,v+48,S,A+128+4)}function Js(p,v,S,A){var I,q=o(16);for(I=0;4>I;++I){var U=p[v+0+I]+p[v+12+I],V=p[v+4+I]+p[v+8+I],G=p[v+4+I]-p[v+8+I],ee=p[v+0+I]-p[v+12+I];q[0+I]=U+V,q[8+I]=U-V,q[4+I]=ee+G,q[12+I]=ee-G}for(I=0;4>I;++I)U=(p=q[0+4*I]+3)+q[3+4*I],V=q[1+4*I]+q[2+4*I],G=q[1+4*I]-q[2+4*I],ee=p-q[3+4*I],S[A+0]=U+V>>3,S[A+16]=ee+G>>3,S[A+32]=U-V>>3,S[A+48]=ee-G>>3,A+=64}function ys(p,v,S){var A,I=v-32,q=Kn,U=255-p[I-1];for(A=0;A<S;++A){var V,G=q,ee=U+p[v-1];for(V=0;V<S;++V)p[v+V]=G[ee+p[I+V]];v+=32}}function No(p,v){ys(p,v,4)}function ko(p,v){ys(p,v,8)}function oc(p,v){ys(p,v,16)}function Oa(p,v){var S;for(S=0;16>S;++S)n(p,v+32*S,p,v-32,16)}function Ys(p,v){var S;for(S=16;0<S;--S)a(p,v,p[v-1],16),v+=32}function _i(p,v,S){var A;for(A=0;16>A;++A)a(v,S+32*A,p,16)}function Ya(p,v){var S,A=16;for(S=0;16>S;++S)A+=p[v-1+32*S]+p[v+S-32];_i(A>>5,p,v)}function en(p,v){var S,A=8;for(S=0;16>S;++S)A+=p[v-1+32*S];_i(A>>4,p,v)}function Wn(p,v){var S,A=8;for(S=0;16>S;++S)A+=p[v+S-32];_i(A>>4,p,v)}function ws(p,v){_i(128,p,v)}function Et(p,v,S){return p+2*v+S+2>>2}function ea(p,v){var S,A=v-32;for(A=new Uint8Array([Et(p[A-1],p[A+0],p[A+1]),Et(p[A+0],p[A+1],p[A+2]),Et(p[A+1],p[A+2],p[A+3]),Et(p[A+2],p[A+3],p[A+4])]),S=0;4>S;++S)n(p,v+32*S,A,0,A.length)}function Hc(p,v){var S=p[v-1],A=p[v-1+32],I=p[v-1+64],q=p[v-1+96];We(p,v+0,16843009*Et(p[v-1-32],S,A)),We(p,v+32,16843009*Et(S,A,I)),We(p,v+64,16843009*Et(A,I,q)),We(p,v+96,16843009*Et(I,q,q))}function gn(p,v){var S,A=4;for(S=0;4>S;++S)A+=p[v+S-32]+p[v-1+32*S];for(A>>=3,S=0;4>S;++S)a(p,v+32*S,A,4)}function bn(p,v){var S=p[v-1+0],A=p[v-1+32],I=p[v-1+64],q=p[v-1-32],U=p[v+0-32],V=p[v+1-32],G=p[v+2-32],ee=p[v+3-32];p[v+0+96]=Et(A,I,p[v-1+96]),p[v+1+96]=p[v+0+64]=Et(S,A,I),p[v+2+96]=p[v+1+64]=p[v+0+32]=Et(q,S,A),p[v+3+96]=p[v+2+64]=p[v+1+32]=p[v+0+0]=Et(U,q,S),p[v+3+64]=p[v+2+32]=p[v+1+0]=Et(V,U,q),p[v+3+32]=p[v+2+0]=Et(G,V,U),p[v+3+0]=Et(ee,G,V)}function Xa(p,v){var S=p[v+1-32],A=p[v+2-32],I=p[v+3-32],q=p[v+4-32],U=p[v+5-32],V=p[v+6-32],G=p[v+7-32];p[v+0+0]=Et(p[v+0-32],S,A),p[v+1+0]=p[v+0+32]=Et(S,A,I),p[v+2+0]=p[v+1+32]=p[v+0+64]=Et(A,I,q),p[v+3+0]=p[v+2+32]=p[v+1+64]=p[v+0+96]=Et(I,q,U),p[v+3+32]=p[v+2+64]=p[v+1+96]=Et(q,U,V),p[v+3+64]=p[v+2+96]=Et(U,V,G),p[v+3+96]=Et(V,G,G)}function lc(p,v){var S=p[v-1+0],A=p[v-1+32],I=p[v-1+64],q=p[v-1-32],U=p[v+0-32],V=p[v+1-32],G=p[v+2-32],ee=p[v+3-32];p[v+0+0]=p[v+1+64]=q+U+1>>1,p[v+1+0]=p[v+2+64]=U+V+1>>1,p[v+2+0]=p[v+3+64]=V+G+1>>1,p[v+3+0]=G+ee+1>>1,p[v+0+96]=Et(I,A,S),p[v+0+64]=Et(A,S,q),p[v+0+32]=p[v+1+96]=Et(S,q,U),p[v+1+32]=p[v+2+96]=Et(q,U,V),p[v+2+32]=p[v+3+96]=Et(U,V,G),p[v+3+32]=Et(V,G,ee)}function Vn(p,v){var S=p[v+0-32],A=p[v+1-32],I=p[v+2-32],q=p[v+3-32],U=p[v+4-32],V=p[v+5-32],G=p[v+6-32],ee=p[v+7-32];p[v+0+0]=S+A+1>>1,p[v+1+0]=p[v+0+64]=A+I+1>>1,p[v+2+0]=p[v+1+64]=I+q+1>>1,p[v+3+0]=p[v+2+64]=q+U+1>>1,p[v+0+32]=Et(S,A,I),p[v+1+32]=p[v+0+96]=Et(A,I,q),p[v+2+32]=p[v+1+96]=Et(I,q,U),p[v+3+32]=p[v+2+96]=Et(q,U,V),p[v+3+64]=Et(U,V,G),p[v+3+96]=Et(V,G,ee)}function ta(p,v){var S=p[v-1+0],A=p[v-1+32],I=p[v-1+64],q=p[v-1+96];p[v+0+0]=S+A+1>>1,p[v+2+0]=p[v+0+32]=A+I+1>>1,p[v+2+32]=p[v+0+64]=I+q+1>>1,p[v+1+0]=Et(S,A,I),p[v+3+0]=p[v+1+32]=Et(A,I,q),p[v+3+32]=p[v+1+64]=Et(I,q,q),p[v+3+64]=p[v+2+64]=p[v+0+96]=p[v+1+96]=p[v+2+96]=p[v+3+96]=q}function Co(p,v){var S=p[v-1+0],A=p[v-1+32],I=p[v-1+64],q=p[v-1+96],U=p[v-1-32],V=p[v+0-32],G=p[v+1-32],ee=p[v+2-32];p[v+0+0]=p[v+2+32]=S+U+1>>1,p[v+0+32]=p[v+2+64]=A+S+1>>1,p[v+0+64]=p[v+2+96]=I+A+1>>1,p[v+0+96]=q+I+1>>1,p[v+3+0]=Et(V,G,ee),p[v+2+0]=Et(U,V,G),p[v+1+0]=p[v+3+32]=Et(S,U,V),p[v+1+32]=p[v+3+64]=Et(A,S,U),p[v+1+64]=p[v+3+96]=Et(I,A,S),p[v+1+96]=Et(q,I,A)}function Sa(p,v){var S;for(S=0;8>S;++S)n(p,v+32*S,p,v-32,8)}function Xs(p,v){var S;for(S=0;8>S;++S)a(p,v,p[v-1],8),v+=32}function Fi(p,v,S){var A;for(A=0;8>A;++A)a(v,S+32*A,p,8)}function ci(p,v){var S,A=8;for(S=0;8>S;++S)A+=p[v+S-32]+p[v-1+32*S];Fi(A>>4,p,v)}function Za(p,v){var S,A=4;for(S=0;8>S;++S)A+=p[v+S-32];Fi(A>>3,p,v)}function Ao(p,v){var S,A=4;for(S=0;8>S;++S)A+=p[v-1+32*S];Fi(A>>3,p,v)}function Eo(p,v){Fi(128,p,v)}function ji(p,v,S){var A=p[v-S],I=p[v+0],q=3*(I-A)+Ma[1020+p[v-2*S]-p[v+S]],U=ul[112+(q+4>>3)];p[v-S]=Kn[255+A+ul[112+(q+3>>3)]],p[v+0]=Kn[255+I-U]}function Zs(p,v,S,A){var I=p[v+0],q=p[v+S];return Ci[255+p[v-2*S]-p[v-S]]>A||Ci[255+q-I]>A}function Qs(p,v,S,A){return 4*Ci[255+p[v-S]-p[v+0]]+Ci[255+p[v-2*S]-p[v+S]]<=A}function Bi(p,v,S,A,I){var q=p[v-3*S],U=p[v-2*S],V=p[v-S],G=p[v+0],ee=p[v+S],pe=p[v+2*S],Ce=p[v+3*S];return 4*Ci[255+V-G]+Ci[255+U-ee]>A?0:Ci[255+p[v-4*S]-q]<=I&&Ci[255+q-U]<=I&&Ci[255+U-V]<=I&&Ci[255+Ce-pe]<=I&&Ci[255+pe-ee]<=I&&Ci[255+ee-G]<=I}function Qa(p,v,S,A){var I=2*A+1;for(A=0;16>A;++A)Qs(p,v+A,S,I)&&ji(p,v+A,S)}function eo(p,v,S,A){var I=2*A+1;for(A=0;16>A;++A)Qs(p,v+A*S,1,I)&&ji(p,v+A*S,1)}function Wr(p,v,S,A){var I;for(I=3;0<I;--I)Qa(p,v+=4*S,S,A)}function Si(p,v,S,A){var I;for(I=3;0<I;--I)eo(p,v+=4,S,A)}function $i(p,v,S,A,I,q,U,V){for(q=2*q+1;0<I--;){if(Bi(p,v,S,q,U))if(Zs(p,v,S,V))ji(p,v,S);else{var G=p,ee=v,pe=S,Ce=G[ee-2*pe],te=G[ee-pe],be=G[ee+0],Ne=G[ee+pe],De=G[ee+2*pe],ke=27*(Re=Ma[1020+3*(be-te)+Ma[1020+Ce-Ne]])+63>>7,Oe=18*Re+63>>7,Re=9*Re+63>>7;G[ee-3*pe]=Kn[255+G[ee-3*pe]+Re],G[ee-2*pe]=Kn[255+Ce+Oe],G[ee-pe]=Kn[255+te+ke],G[ee+0]=Kn[255+be-ke],G[ee+pe]=Kn[255+Ne-Oe],G[ee+2*pe]=Kn[255+De-Re]}v+=A}}function Da(p,v,S,A,I,q,U,V){for(q=2*q+1;0<I--;){if(Bi(p,v,S,q,U))if(Zs(p,v,S,V))ji(p,v,S);else{var G=p,ee=v,pe=S,Ce=G[ee-pe],te=G[ee+0],be=G[ee+pe],Ne=ul[112+(4+(De=3*(te-Ce))>>3)],De=ul[112+(De+3>>3)],ke=Ne+1>>1;G[ee-2*pe]=Kn[255+G[ee-2*pe]+ke],G[ee-pe]=Kn[255+Ce+De],G[ee+0]=Kn[255+te-Ne],G[ee+pe]=Kn[255+be-ke]}v+=A}}function In(p,v,S,A,I,q){$i(p,v,S,1,16,A,I,q)}function ra(p,v,S,A,I,q){$i(p,v,1,S,16,A,I,q)}function Lo(p,v,S,A,I,q){var U;for(U=3;0<U;--U)Da(p,v+=4*S,S,1,16,A,I,q)}function w(p,v,S,A,I,q){var U;for(U=3;0<U;--U)Da(p,v+=4,1,S,16,A,I,q)}function R(p,v,S,A,I,q,U,V){$i(p,v,I,1,8,q,U,V),$i(S,A,I,1,8,q,U,V)}function re(p,v,S,A,I,q,U,V){$i(p,v,1,I,8,q,U,V),$i(S,A,1,I,8,q,U,V)}function fe(p,v,S,A,I,q,U,V){Da(p,v+4*I,I,1,8,q,U,V),Da(S,A+4*I,I,1,8,q,U,V)}function _e(p,v,S,A,I,q,U,V){Da(p,v+4,1,I,8,q,U,V),Da(S,A+4,1,I,8,q,U,V)}function Be(){this.ba=new Wt,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new fr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function qe(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ye(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function it(){this.ua=0,this.Wa=new bt,this.vb=new bt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new we,this.yc=new ae}function Tt(){this.xb=this.a=0,this.l=new jo,this.ca=new Wt,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new Y,this.Pb=0,this.wd=new Y,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new it,this.ab=0,this.gc=c(4,Ye),this.Oc=0}function zt(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new jo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function or(p,v,S,A,I,q,U){for(p=p==null?0:p[v+0],v=0;v<U;++v)I[q+v]=p+S[A+v]&255,p=I[q+v]}function tn(p,v,S,A,I,q,U){var V;if(p==null)or(null,null,S,A,I,q,U);else for(V=0;V<U;++V)I[q+V]=p[v+V]+S[A+V]&255}function Ar(p,v,S,A,I,q,U){if(p==null)or(null,null,S,A,I,q,U);else{var V,G=p[v+0],ee=G,pe=G;for(V=0;V<U;++V)ee=pe+(G=p[v+V])-ee,pe=S[A+V]+(-256&ee?0>ee?0:255:ee)&255,ee=G,I[q+V]=pe}}function Nr(p,v,S,A){var I=v.width,q=v.o;if(e(p!=null&&v!=null),0>S||0>=A||S+A>q)return null;if(!p.Cc){if(p.ga==null){var U;if(p.ga=new zt,(U=p.ga==null)||(U=v.width*v.o,e(p.Gb.length==0),p.Gb=o(U),p.Uc=0,p.Gb==null?U=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,U=1),U=!U),!U){U=p.ga;var V=p.Fa,G=p.P,ee=p.qc,pe=p.mb,Ce=p.nb,te=G+1,be=ee-1,Ne=U.l;if(e(V!=null&&pe!=null&&v!=null),fi[0]=null,fi[1]=or,fi[2]=tn,fi[3]=Ar,U.ca=pe,U.tb=Ce,U.c=v.width,U.i=v.height,e(0<U.c&&0<U.i),1>=ee)v=0;else if(U.$a=3&V[G+0],U.Z=V[G+0]>>2&3,U.Lc=V[G+0]>>4&3,G=V[G+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||G)v=0;else if(Ne.put=nt,Ne.ac=va,Ne.bc=Yr,Ne.ma=U,Ne.width=v.width,Ne.height=v.height,Ne.Da=v.Da,Ne.v=v.v,Ne.va=v.va,Ne.j=v.j,Ne.o=v.o,U.$a)e:{e(U.$a==1),v=vo();t:for(;;){if(v==null){v=0;break e}if(e(U!=null),U.mc=v,v.c=U.c,v.i=U.i,v.l=U.l,v.l.ma=U,v.l.width=U.c,v.l.height=U.i,v.a=0,he(v.m,V,te,be),!li(U.c,U.i,1,v,null)||(v.ab==1&&v.gc[0].hc==3&&cn(v.s)?(U.ic=1,V=v.c*v.i,v.Ta=null,v.Ua=0,v.V=o(V),v.Ba=0,v.V==null?(v.a=1,v=0):v=1):(U.ic=0,v=Ja(v,U.c)),!v))break t;v=1;break e}U.mc=null,v=0}else v=be>=U.c*U.i;U=!v}if(U)return null;p.ga.Lc!=1?p.Ga=0:A=q-S}e(p.ga!=null),e(S+A<=q);e:{if(v=(V=p.ga).c,q=V.l.o,V.$a==0){if(te=p.rc,be=p.Vc,Ne=p.Fa,G=p.P+1+S*v,ee=p.mb,pe=p.nb+S*v,e(G<=p.P+p.qc),V.Z!=0)for(e(fi[V.Z]!=null),U=0;U<A;++U)fi[V.Z](te,be,Ne,G,ee,pe,v),te=ee,be=pe,pe+=v,G+=v;else for(U=0;U<A;++U)n(ee,pe,Ne,G,v),te=ee,be=pe,pe+=v,G+=v;p.rc=te,p.Vc=be}else{if(e(V.mc!=null),v=S+A,e((U=V.mc)!=null),e(v<=U.i),U.C>=v)v=1;else if(V.ic||na(),V.ic){V=U.V,te=U.Ba,be=U.c;var De=U.i,ke=(Ne=1,G=U.$/be,ee=U.$%be,pe=U.m,Ce=U.s,U.$),Oe=be*De,Re=be*v,Ue=Ce.wc,ze=ke<Re?mn(Ce,ee,G):null;e(ke<=Oe),e(v<=De),e(cn(Ce));t:for(;;){for(;!pe.h&&ke<Re;){if(ee&Ue||(ze=mn(Ce,ee,G)),e(ze!=null),me(pe),256>(De=yr(ze.G[0],ze.H[0],pe)))V[te+ke]=De,++ke,++ee>=be&&(ee=0,++G<=v&&!(G%16)&&Tn(U,G));else{if(!(280>De)){Ne=0;break t}De=ai(De-256,pe);var xt,Ze=yr(ze.G[4],ze.H[4],pe);if(me(pe),!(ke>=(Ze=pn(be,Ze=ai(Ze,pe)))&&Oe-ke>=De)){Ne=0;break t}for(xt=0;xt<De;++xt)V[te+ke+xt]=V[te+ke+xt-Ze];for(ke+=De,ee+=De;ee>=be;)ee-=be,++G<=v&&!(G%16)&&Tn(U,G);ke<Re&&ee&Ue&&(ze=mn(Ce,ee,G))}e(pe.h==ne(pe))}Tn(U,G>v?v:G);break t}!Ne||pe.h&&ke<Oe?(Ne=0,U.a=pe.h?5:3):U.$=ke,v=Ne}else v=Yi(U,U.V,U.Ba,U.c,U.i,v,Vs);if(!v){A=0;break e}}S+A>=q&&(p.Cc=1),A=1}if(!A)return null;if(p.Cc&&((A=p.ga)!=null&&(A.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*I}function Nn(p,v,S,A,I,q){for(;0<I--;){var U,V=p,G=v+(S?1:0),ee=p,pe=v+(S?0:3);for(U=0;U<A;++U){var Ce=ee[pe+4*U];Ce!=255&&(Ce*=32897,V[G+4*U+0]=V[G+4*U+0]*Ce>>23,V[G+4*U+1]=V[G+4*U+1]*Ce>>23,V[G+4*U+2]=V[G+4*U+2]*Ce>>23)}v+=q}}function xn(p,v,S,A,I){for(;0<A--;){var q;for(q=0;q<S;++q){var U=p[v+2*q+0],V=15&(ee=p[v+2*q+1]),G=4369*V,ee=(240&ee|ee>>4)*G>>16;p[v+2*q+0]=(240&U|U>>4)*G>>16&240|(15&U|U<<4)*G>>16>>4&15,p[v+2*q+1]=240&ee|V}v+=I}}function wr(p,v,S,A,I,q,U,V){var G,ee,pe=255;for(ee=0;ee<I;++ee){for(G=0;G<A;++G){var Ce=p[v+G];q[U+4*G]=Ce,pe&=Ce}v+=S,U+=V}return pe!=255}function ui(p,v,S,A,I){var q;for(q=0;q<I;++q)S[A+q]=p[v+q]>>8}function na(){Bo=Nn,$o=xn,lo=wr,cc=ui}function es(p,v,S){J[p]=function(A,I,q,U,V,G,ee,pe,Ce,te,be,Ne,De,ke,Oe,Re,Ue){var ze,xt=Ue-1>>1,Ze=V[G+0]|ee[pe+0]<<16,Gt=Ce[te+0]|be[Ne+0]<<16;e(A!=null);var ut=3*Ze+Gt+131074>>2;for(v(A[I+0],255&ut,ut>>16,De,ke),q!=null&&(ut=3*Gt+Ze+131074>>2,v(q[U+0],255&ut,ut>>16,Oe,Re)),ze=1;ze<=xt;++ze){var ir=V[G+ze]|ee[pe+ze]<<16,Cn=Ce[te+ze]|be[Ne+ze]<<16,$t=Ze+ir+Gt+Cn+524296,lt=$t+2*(ir+Gt)>>3;ut=lt+Ze>>1,Ze=($t=$t+2*(Ze+Cn)>>3)+ir>>1,v(A[I+2*ze-1],255&ut,ut>>16,De,ke+(2*ze-1)*S),v(A[I+2*ze-0],255&Ze,Ze>>16,De,ke+(2*ze-0)*S),q!=null&&(ut=$t+Gt>>1,Ze=lt+Cn>>1,v(q[U+2*ze-1],255&ut,ut>>16,Oe,Re+(2*ze-1)*S),v(q[U+2*ze+0],255&Ze,Ze>>16,Oe,Re+(2*ze+0)*S)),Ze=ir,Gt=Cn}1&Ue||(ut=3*Ze+Gt+131074>>2,v(A[I+Ue-1],255&ut,ut>>16,De,ke+(Ue-1)*S),q!=null&&(ut=3*Gt+Ze+131074>>2,v(q[U+Ue-1],255&ut,ut>>16,Oe,Re+(Ue-1)*S)))}}function ts(){Jn[dl]=mc,Jn[as]=Ls,Jn[fc]=xd,Jn[Mo]=ml,Jn[hl]=ho,Jn[Vt]=zl,Jn[As]=Kc,Jn[qo]=Ls,Jn[ss]=ml,Jn[qa]=ho,Jn[fl]=zl}function Po(p){return p&~Yn?0>p?0:255:p>>Ts}function _s(p,v){return Po((19077*p>>8)+(26149*v>>8)-14234)}function js(p,v,S){return Po((19077*p>>8)-(6419*v>>8)-(13320*S>>8)+8708)}function Ni(p,v){return Po((19077*p>>8)+(33050*v>>8)-17685)}function to(p,v,S,A,I){A[I+0]=_s(p,S),A[I+1]=js(p,v,S),A[I+2]=Ni(p,v)}function ft(p,v,S,A,I){A[I+0]=Ni(p,v),A[I+1]=js(p,v,S),A[I+2]=_s(p,S)}function di(p,v,S,A,I){var q=js(p,v,S);v=q<<3&224|Ni(p,v)>>3,A[I+0]=248&_s(p,S)|q>>5,A[I+1]=v}function ro(p,v,S,A,I){var q=240&Ni(p,v)|15;A[I+0]=240&_s(p,S)|js(p,v,S)>>4,A[I+1]=q}function sl(p,v,S,A,I){A[I+0]=255,to(p,v,S,A,I+1)}function ol(p,v,S,A,I){ft(p,v,S,A,I),A[I+3]=255}function ki(p,v,S,A,I){to(p,v,S,A,I),A[I+3]=255}function qn(p,v,S){J[p]=function(A,I,q,U,V,G,ee,pe,Ce){for(var te=pe+(-2&Ce)*S;pe!=te;)v(A[I+0],q[U+0],V[G+0],ee,pe),v(A[I+1],q[U+0],V[G+0],ee,pe+S),I+=2,++U,++G,pe+=2*S;1&Ce&&v(A[I+0],q[U+0],V[G+0],ee,pe)}}function Na(p,v,S){return S==0?p==0?v==0?6:5:v==0?4:0:S}function To(p,v,S,A,I){switch(p>>>30){case 3:oo(v,S,A,I,0);break;case 2:rn(v,S,A,I);break;case 1:xr(v,S,A,I)}}function ia(p,v){var S,A,I=v.M,q=v.Nb,U=p.oc,V=p.pc+40,G=p.oc,ee=p.pc+584,pe=p.oc,Ce=p.pc+600;for(S=0;16>S;++S)U[V+32*S-1]=129;for(S=0;8>S;++S)G[ee+32*S-1]=129,pe[Ce+32*S-1]=129;for(0<I?U[V-1-32]=G[ee-1-32]=pe[Ce-1-32]=129:(a(U,V-32-1,127,21),a(G,ee-32-1,127,9),a(pe,Ce-32-1,127,9)),A=0;A<p.za;++A){var te=v.ya[v.aa+A];if(0<A){for(S=-1;16>S;++S)n(U,V+32*S-4,U,V+32*S+12,4);for(S=-1;8>S;++S)n(G,ee+32*S-4,G,ee+32*S+4,4),n(pe,Ce+32*S-4,pe,Ce+32*S+4,4)}var be=p.Gd,Ne=p.Hd+A,De=te.ad,ke=te.Hc;if(0<I&&(n(U,V-32,be[Ne].y,0,16),n(G,ee-32,be[Ne].f,0,8),n(pe,Ce-32,be[Ne].ea,0,8)),te.Za){var Oe=U,Re=V-32+16;for(0<I&&(A>=p.za-1?a(Oe,Re,be[Ne].y[15],4):n(Oe,Re,be[Ne+1].y,0,4)),S=0;4>S;S++)Oe[Re+128+S]=Oe[Re+256+S]=Oe[Re+384+S]=Oe[Re+0+S];for(S=0;16>S;++S,ke<<=2)Oe=U,Re=V+fo[S],Aa[te.Ob[S]](Oe,Re),To(ke,De,16*+S,Oe,Re)}else if(Oe=Na(A,I,te.Ob[0]),On[Oe](U,V),ke!=0)for(S=0;16>S;++S,ke<<=2)To(ke,De,16*+S,U,V+fo[S]);for(S=te.Gc,Oe=Na(A,I,te.Dd),zi[Oe](G,ee),zi[Oe](pe,Ce),ke=De,Oe=G,Re=ee,255&(te=0|S)&&(170&te?nn(ke,256,Oe,Re):ur(ke,256,Oe,Re)),te=pe,ke=Ce,255&(S>>=8)&&(170&S?nn(De,320,te,ke):ur(De,320,te,ke)),I<p.Ub-1&&(n(be[Ne].y,0,U,V+480,16),n(be[Ne].f,0,G,ee+224,8),n(be[Ne].ea,0,pe,Ce+224,8)),S=8*q*p.B,be=p.sa,Ne=p.ta+16*A+16*q*p.R,De=p.qa,te=p.ra+8*A+S,ke=p.Ha,Oe=p.Ia+8*A+S,S=0;16>S;++S)n(be,Ne+S*p.R,U,V+32*S,16);for(S=0;8>S;++S)n(De,te+S*p.B,G,ee+32*S,8),n(ke,Oe+S*p.B,pe,Ce+32*S,8)}}function Ss(p,v,S,A,I,q,U,V,G){var ee=[0],pe=[0],Ce=0,te=G!=null?G.kd:0,be=G??new qe;if(p==null||12>S)return 7;be.data=p,be.w=v,be.ha=S,v=[v],S=[S],be.gb=[be.gb];e:{var Ne=v,De=S,ke=be.gb;if(e(p!=null),e(De!=null),e(ke!=null),ke[0]=0,12<=De[0]&&!r(p,Ne[0],"RIFF")){if(r(p,Ne[0]+8,"WEBP")){ke=3;break e}var Oe=vt(p,Ne[0]+4);if(12>Oe||4294967286<Oe){ke=3;break e}if(te&&Oe>De[0]-8){ke=7;break e}ke[0]=Oe,Ne[0]+=12,De[0]-=12}ke=0}if(ke!=0)return ke;for(Oe=0<be.gb[0],S=S[0];;){e:{var Re=p;De=v,ke=S;var Ue=ee,ze=pe,xt=Ne=[0];if((ut=Ce=[Ce])[0]=0,8>ke[0])ke=7;else{if(!r(Re,De[0],"VP8X")){if(vt(Re,De[0]+4)!=10){ke=3;break e}if(18>ke[0]){ke=7;break e}var Ze=vt(Re,De[0]+8),Gt=1+tt(Re,De[0]+12);if(2147483648<=Gt*(Re=1+tt(Re,De[0]+15))){ke=3;break e}xt!=null&&(xt[0]=Ze),Ue!=null&&(Ue[0]=Gt),ze!=null&&(ze[0]=Re),De[0]+=18,ke[0]-=18,ut[0]=1}ke=0}}if(Ce=Ce[0],Ne=Ne[0],ke!=0)return ke;if(De=!!(2&Ne),!Oe&&Ce)return 3;if(q!=null&&(q[0]=!!(16&Ne)),U!=null&&(U[0]=De),V!=null&&(V[0]=0),U=ee[0],Ne=pe[0],Ce&&De&&G==null){ke=0;break}if(4>S){ke=7;break}if(Oe&&Ce||!Oe&&!Ce&&!r(p,v[0],"ALPH")){S=[S],be.na=[be.na],be.P=[be.P],be.Sa=[be.Sa];e:{Ze=p,ke=v,Oe=S;var ut=be.gb;Ue=be.na,ze=be.P,xt=be.Sa,Gt=22,e(Ze!=null),e(Oe!=null),Re=ke[0];var ir=Oe[0];for(e(Ue!=null),e(xt!=null),Ue[0]=null,ze[0]=null,xt[0]=0;;){if(ke[0]=Re,Oe[0]=ir,8>ir){ke=7;break e}var Cn=vt(Ze,Re+4);if(4294967286<Cn){ke=3;break e}var $t=8+Cn+1&-2;if(Gt+=$t,0<ut&&Gt>ut){ke=3;break e}if(!r(Ze,Re,"VP8 ")||!r(Ze,Re,"VP8L")){ke=0;break e}if(ir[0]<$t){ke=7;break e}r(Ze,Re,"ALPH")||(Ue[0]=Ze,ze[0]=Re+8,xt[0]=Cn),Re+=$t,ir-=$t}}if(S=S[0],be.na=be.na[0],be.P=be.P[0],be.Sa=be.Sa[0],ke!=0)break}S=[S],be.Ja=[be.Ja],be.xa=[be.xa];e:if(ut=p,ke=v,Oe=S,Ue=be.gb[0],ze=be.Ja,xt=be.xa,Ze=ke[0],Re=!r(ut,Ze,"VP8 "),Gt=!r(ut,Ze,"VP8L"),e(ut!=null),e(Oe!=null),e(ze!=null),e(xt!=null),8>Oe[0])ke=7;else{if(Re||Gt){if(ut=vt(ut,Ze+4),12<=Ue&&ut>Ue-12){ke=3;break e}if(te&&ut>Oe[0]-8){ke=7;break e}ze[0]=ut,ke[0]+=8,Oe[0]-=8,xt[0]=Gt}else xt[0]=5<=Oe[0]&&ut[Ze+0]==47&&!(ut[Ze+4]>>5),ze[0]=Oe[0];ke=0}if(S=S[0],be.Ja=be.Ja[0],be.xa=be.xa[0],v=v[0],ke!=0)break;if(4294967286<be.Ja)return 3;if(V==null||De||(V[0]=be.xa?2:1),U=[U],Ne=[Ne],be.xa){if(5>S){ke=7;break}V=U,te=Ne,De=q,p==null||5>S?p=0:5<=S&&p[v+0]==47&&!(p[v+4]>>5)?(Oe=[0],ut=[0],Ue=[0],he(ze=new Y,p,v,S),ya(ze,Oe,ut,Ue)?(V!=null&&(V[0]=Oe[0]),te!=null&&(te[0]=ut[0]),De!=null&&(De[0]=Ue[0]),p=1):p=0):p=0}else{if(10>S){ke=7;break}V=Ne,p==null||10>S||!Ks(p,v+3,S-3)?p=0:(te=p[v+0]|p[v+1]<<8|p[v+2]<<16,De=16383&(p[v+7]<<8|p[v+6]),p=16383&(p[v+9]<<8|p[v+8]),1&te||3<(te>>1&7)||!(te>>4&1)||te>>5>=be.Ja||!De||!p?p=0:(U&&(U[0]=De),V&&(V[0]=p),p=1))}if(!p||(U=U[0],Ne=Ne[0],Ce&&(ee[0]!=U||pe[0]!=Ne)))return 3;G!=null&&(G[0]=be,G.offset=v-G.w,e(4294967286>v-G.w),e(G.offset==G.ha-S));break}return ke==0||ke==7&&Ce&&G==null?(q!=null&&(q[0]|=be.na!=null&&0<be.na.length),A!=null&&(A[0]=U),I!=null&&(I[0]=Ne),0):ke}function no(p,v,S){var A=v.width,I=v.height,q=0,U=0,V=A,G=I;if(v.Da=p!=null&&0<p.Da,v.Da&&(V=p.cd,G=p.bd,q=p.v,U=p.j,11>S||(q&=-2,U&=-2),0>q||0>U||0>=V||0>=G||q+V>A||U+G>I))return 0;if(v.v=q,v.j=U,v.va=q+V,v.o=U+G,v.U=V,v.T=G,v.da=p!=null&&0<p.da,v.da){if(!pt(V,G,S=[p.ib],q=[p.hb]))return 0;v.ib=S[0],v.hb=q[0]}return v.ob=p!=null&&p.ob,v.Kb=p==null||!p.Sd,v.da&&(v.ob=v.ib<3*A/4&&v.hb<3*I/4,v.Kb=0),1}function Ro(p){if(p==null)return 2;if(11>p.S){var v=p.f.RGBA;v.fb+=(p.height-1)*v.A,v.A=-v.A}else v=p.f.kb,p=p.height,v.O+=(p-1)*v.fa,v.fa=-v.fa,v.N+=(p-1>>1)*v.Ab,v.Ab=-v.Ab,v.W+=(p-1>>1)*v.Db,v.Db=-v.Db,v.F!=null&&(v.J+=(p-1)*v.lb,v.lb=-v.lb);return 0}function rs(p,v,S,A){if(A==null||0>=p||0>=v)return 2;if(S!=null){if(S.Da){var I=S.cd,q=S.bd,U=-2&S.v,V=-2&S.j;if(0>U||0>V||0>=I||0>=q||U+I>p||V+q>v)return 2;p=I,v=q}if(S.da){if(!pt(p,v,I=[S.ib],q=[S.hb]))return 2;p=I[0],v=q[0]}}A.width=p,A.height=v;e:{var G=A.width,ee=A.height;if(p=A.S,0>=G||0>=ee||!(p>=dl&&13>p))p=2;else{if(0>=A.Rd&&A.sd==null){U=q=I=v=0;var pe=(V=G*Hl[p])*ee;if(11>p||(q=(ee+1)/2*(v=(G+1)/2),p==12&&(U=(I=G)*ee)),(ee=o(pe+2*q+U))==null){p=1;break e}A.sd=ee,11>p?((G=A.f.RGBA).eb=ee,G.fb=0,G.A=V,G.size=pe):((G=A.f.kb).y=ee,G.O=0,G.fa=V,G.Fd=pe,G.f=ee,G.N=0+pe,G.Ab=v,G.Cd=q,G.ea=ee,G.W=0+pe+q,G.Db=v,G.Ed=q,p==12&&(G.F=ee,G.J=0+pe+2*q),G.Tc=U,G.lb=I)}if(v=1,I=A.S,q=A.width,U=A.height,I>=dl&&13>I)if(11>I)p=A.f.RGBA,v&=(V=Math.abs(p.A))*(U-1)+q<=p.size,v&=V>=q*Hl[I],v&=p.eb!=null;else{p=A.f.kb,V=(q+1)/2,pe=(U+1)/2,G=Math.abs(p.fa),ee=Math.abs(p.Ab);var Ce=Math.abs(p.Db),te=Math.abs(p.lb),be=te*(U-1)+q;v&=G*(U-1)+q<=p.Fd,v&=ee*(pe-1)+V<=p.Cd,v=(v&=Ce*(pe-1)+V<=p.Ed)&G>=q&ee>=V&Ce>=V,v&=p.y!=null,v&=p.f!=null,v&=p.ea!=null,I==12&&(v&=te>=q,v&=be<=p.Tc,v&=p.F!=null)}else v=0;p=v?0:2}}return p!=0||S!=null&&S.fd&&(p=Ro(A)),p}var Mi=64,aa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],qi=24,io=32,ka=8,Ns=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Me("Predictor0","PredictorAdd0"),J.Predictor0=function(){return 4278190080},J.Predictor1=function(p){return p},J.Predictor2=function(p,v,S){return v[S+0]},J.Predictor3=function(p,v,S){return v[S+1]},J.Predictor4=function(p,v,S){return v[S-1]},J.Predictor5=function(p,v,S){return wt(wt(p,v[S+1]),v[S+0])},J.Predictor6=function(p,v,S){return wt(p,v[S-1])},J.Predictor7=function(p,v,S){return wt(p,v[S+0])},J.Predictor8=function(p,v,S){return wt(v[S-1],v[S+0])},J.Predictor9=function(p,v,S){return wt(v[S+0],v[S+1])},J.Predictor10=function(p,v,S){return wt(wt(p,v[S-1]),wt(v[S+0],v[S+1]))},J.Predictor11=function(p,v,S){var A=v[S+0];return 0>=Pt(A>>24&255,p>>24&255,(v=v[S-1])>>24&255)+Pt(A>>16&255,p>>16&255,v>>16&255)+Pt(A>>8&255,p>>8&255,v>>8&255)+Pt(255&A,255&p,255&v)?A:p},J.Predictor12=function(p,v,S){var A=v[S+0];return(vr((p>>24&255)+(A>>24&255)-((v=v[S-1])>>24&255))<<24|vr((p>>16&255)+(A>>16&255)-(v>>16&255))<<16|vr((p>>8&255)+(A>>8&255)-(v>>8&255))<<8|vr((255&p)+(255&A)-(255&v)))>>>0},J.Predictor13=function(p,v,S){var A=v[S-1];return(Ht((p=wt(p,v[S+0]))>>24&255,A>>24&255)<<24|Ht(p>>16&255,A>>16&255)<<16|Ht(p>>8&255,A>>8&255)<<8|Ht(255&p,255&A))>>>0};var ks=J.PredictorAdd0;J.PredictorAdd1=nr,Me("Predictor2","PredictorAdd2"),Me("Predictor3","PredictorAdd3"),Me("Predictor4","PredictorAdd4"),Me("Predictor5","PredictorAdd5"),Me("Predictor6","PredictorAdd6"),Me("Predictor7","PredictorAdd7"),Me("Predictor8","PredictorAdd8"),Me("Predictor9","PredictorAdd9"),Me("Predictor10","PredictorAdd10"),Me("Predictor11","PredictorAdd11"),Me("Predictor12","PredictorAdd12"),Me("Predictor13","PredictorAdd13");var Fa=J.PredictorAdd2;st("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),st("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var Er,ao=J.ColorIndexInverseTransform,ns=J.MapARGB,Ca=J.VP8LColorIndexInverseTransformAlpha,Rr=J.MapAlpha,sa=J.VP8LPredictorsAdd=[];sa.length=16,(J.VP8LPredictors=[]).length=16,(J.VP8LPredictorsAdd_C=[]).length=16,(J.VP8LPredictors_C=[]).length=16;var so,Io,Ba,Gn,Ui,hi,is,oo,rn,nn,xr,ur,un,an,kn,ll,Oo,oa,Bl,Do,Fo,Wc,$l,Cs,Bo,$o,lo,cc,uc=o(511),dc=o(2041),$a=o(225),cl=o(767),hc=0,Ma=dc,ul=$a,Kn=cl,Ci=uc,dl=0,as=1,fc=2,Mo=3,hl=4,Vt=5,As=6,qo=7,ss=8,qa=9,fl=10,Uo=[2,3,7],Ml=[3,3,11],co=[280,256,256,256,40],Vc=[0,1,1,1,0],ql=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],gd=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],bd=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Ul=8,ar=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],uo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Es=null,Gc=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],pl=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],ku=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$e=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],At=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Cu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],pc=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],On=[],Aa=[],zi=[],os=1,zo=2,fi=[],Jn=[];es("UpsampleRgbLinePair",to,3),es("UpsampleBgrLinePair",ft,3),es("UpsampleRgbaLinePair",ki,4),es("UpsampleBgraLinePair",ol,4),es("UpsampleArgbLinePair",sl,4),es("UpsampleRgba4444LinePair",ro,2),es("UpsampleRgb565LinePair",di,2);var mc=J.UpsampleRgbLinePair,xd=J.UpsampleBgrLinePair,Ls=J.UpsampleRgbaLinePair,ml=J.UpsampleBgraLinePair,ho=J.UpsampleArgbLinePair,zl=J.UpsampleRgba4444LinePair,Kc=J.UpsampleRgb565LinePair,Ps=16,Ua=1<<Ps-1,kr=-227,gr=482,Ts=6,Yn=(256<<Ts)-1,Ai=0,sn=o(256),la=o(256),pi=o(256),gc=o(256),Au=o(gr-kr),Eu=o(gr-kr);qn("YuvToRgbRow",to,3),qn("YuvToBgrRow",ft,3),qn("YuvToRgbaRow",ki,4),qn("YuvToBgraRow",ol,4),qn("YuvToArgbRow",sl,4),qn("YuvToRgba4444Row",ro,2),qn("YuvToRgb565Row",di,2);var fo=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],gl=[0,2,8],Rs=[8,7,6,4,4,2,2,2,1,1,1,1],ls=1;this.WebPDecodeRGBA=function(p,v,S,A,I){var q=as,U=new Be,V=new Wt;U.ba=V,V.S=q,V.width=[V.width],V.height=[V.height];var G=V.width,ee=V.height,pe=new St;if(pe==null||p==null)var Ce=2;else e(pe!=null),Ce=Ss(p,v,S,pe.width,pe.height,pe.Pd,pe.Qd,pe.format,null);if(Ce!=0?G=0:(G!=null&&(G[0]=pe.width[0]),ee!=null&&(ee[0]=pe.height[0]),G=1),G){V.width=V.width[0],V.height=V.height[0],A!=null&&(A[0]=V.width),I!=null&&(I[0]=V.height);e:{if(A=new jo,(I=new qe).data=p,I.w=v,I.ha=S,I.kd=1,v=[0],e(I!=null),((p=Ss(I.data,I.w,I.ha,null,null,null,v,null,I))==0||p==7)&&v[0]&&(p=4),(v=p)==0){if(e(U!=null),A.data=I.data,A.w=I.w+I.offset,A.ha=I.ha-I.offset,A.put=nt,A.ac=va,A.bc=Yr,A.ma=U,I.xa){if((p=vo())==null){U=1;break e}if(function(te,be){var Ne=[0],De=[0],ke=[0];t:for(;;){if(te==null)return 0;if(be==null)return te.a=2,0;if(te.l=be,te.a=0,he(te.m,be.data,be.w,be.ha),!ya(te.m,Ne,De,ke)){te.a=3;break t}if(te.xb=zo,be.width=Ne[0],be.height=De[0],!li(Ne[0],De[0],1,te,null))break t;return 1}return e(te.a!=0),0}(p,A)){if(A=(v=rs(A.width,A.height,U.Oa,U.ba))==0){t:{A=p;r:for(;;){if(A==null){A=0;break t}if(e(A.s.yc!=null),e(A.s.Ya!=null),e(0<A.s.Wb),e((S=A.l)!=null),e((I=S.ma)!=null),A.xb!=0){if(A.ca=I.ba,A.tb=I.tb,e(A.ca!=null),!no(I.Oa,S,Mo)){A.a=2;break r}if(!Ja(A,S.width)||S.da)break r;if((S.da||kt(A.ca.S))&&na(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&na()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!Z(A.s.vb,A.s.Wa.Xa)){A.a=1;break r}A.xb=0}if(!Yi(A,A.V,A.Ba,A.c,A.i,S.o,Ws))break r;I.Dc=A.Ma,A=1;break t}e(A.a!=0),A=0}A=!A}A&&(v=p.a)}else v=p.a}else{if((p=new sc)==null){U=1;break e}if(p.Fa=I.na,p.P=I.P,p.qc=I.Sa,Qi(p,A)){if((v=rs(A.width,A.height,U.Oa,U.ba))==0){if(p.Aa=0,S=U.Oa,e((I=p)!=null),S!=null){if(0<(G=0>(G=S.Md)?0:100<G?255:255*G/100)){for(ee=pe=0;4>ee;++ee)12>(Ce=I.pb[ee]).lc&&(Ce.ia=G*Rs[0>Ce.lc?0:Ce.lc]>>3),pe|=Ce.ia;pe&&(alert("todo:VP8InitRandom"),I.ia=1)}I.Ga=S.Id,100<I.Ga?I.Ga=100:0>I.Ga&&(I.Ga=0)}(function(te,be){if(te==null)return 0;if(be==null)return Qr(te,2,"NULL VP8Io parameter in VP8Decode().");if(!te.cb&&!Qi(te,be))return 0;if(e(te.cb),be.ac==null||be.ac(be)){be.ob&&(te.L=0);var Ne=gl[te.L];if(te.L==2?(te.yb=0,te.zb=0):(te.yb=be.v-Ne>>4,te.zb=be.j-Ne>>4,0>te.yb&&(te.yb=0),0>te.zb&&(te.zb=0)),te.Va=be.o+15+Ne>>4,te.Hb=be.va+15+Ne>>4,te.Hb>te.za&&(te.Hb=te.za),te.Va>te.Ub&&(te.Va=te.Ub),0<te.L){var De=te.ed;for(Ne=0;4>Ne;++Ne){var ke;if(te.Qa.Cb){var Oe=te.Qa.Lb[Ne];te.Qa.Fb||(Oe+=De.Tb)}else Oe=De.Tb;for(ke=0;1>=ke;++ke){var Re=te.gd[Ne][ke],Ue=Oe;if(De.Pc&&(Ue+=De.vd[0],ke&&(Ue+=De.od[0])),0<(Ue=0>Ue?0:63<Ue?63:Ue)){var ze=Ue;0<De.wb&&(ze=4<De.wb?ze>>2:ze>>1)>9-De.wb&&(ze=9-De.wb),1>ze&&(ze=1),Re.dd=ze,Re.tc=2*Ue+ze,Re.ld=40<=Ue?2:15<=Ue?1:0}else Re.tc=0;Re.La=ke}}}Ne=0}else Qr(te,6,"Frame setup failed"),Ne=te.a;if(Ne=Ne==0){if(Ne){te.$c=0,0<te.Aa||(te.Ic=ls);t:{Ne=te.Ic,De=4*(ze=te.za);var xt=32*ze,Ze=ze+1,Gt=0<te.L?ze*(0<te.Aa?2:1):0,ut=(te.Aa==2?2:1)*ze;if((Re=De+832+(ke=3*(16*Ne+gl[te.L])/2*xt)+(Oe=te.Fa!=null&&0<te.Fa.length?te.Kc.c*te.Kc.i:0))!=Re)Ne=0;else{if(Re>te.Vb){if(te.Vb=0,te.Ec=o(Re),te.Fc=0,te.Ec==null){Ne=Qr(te,1,"no memory during frame initialization.");break t}te.Vb=Re}Re=te.Ec,Ue=te.Fc,te.Ac=Re,te.Bc=Ue,Ue+=De,te.Gd=c(xt,lr),te.Hd=0,te.rb=c(Ze+1,yi),te.sb=1,te.wa=Gt?c(Gt,Zi):null,te.Y=0,te.D.Nb=0,te.D.wa=te.wa,te.D.Y=te.Y,0<te.Aa&&(te.D.Y+=ze),e(!0),te.oc=Re,te.pc=Ue,Ue+=832,te.ya=c(ut,Ii),te.aa=0,te.D.ya=te.ya,te.D.aa=te.aa,te.Aa==2&&(te.D.aa+=ze),te.R=16*ze,te.B=8*ze,ze=(xt=gl[te.L])*te.R,xt=xt/2*te.B,te.sa=Re,te.ta=Ue+ze,te.qa=te.sa,te.ra=te.ta+16*Ne*te.R+xt,te.Ha=te.qa,te.Ia=te.ra+8*Ne*te.B+xt,te.$c=0,Ue+=ke,te.mb=Oe?Re:null,te.nb=Oe?Ue:null,e(Ue+Oe<=te.Fc+te.Vb),wa(te),a(te.Ac,te.Bc,0,De),Ne=1}}if(Ne){if(be.ka=0,be.y=te.sa,be.O=te.ta,be.f=te.qa,be.N=te.ra,be.ea=te.Ha,be.Vd=te.Ia,be.fa=te.R,be.Rc=te.B,be.F=null,be.J=0,!hc){for(Ne=-255;255>=Ne;++Ne)uc[255+Ne]=0>Ne?-Ne:Ne;for(Ne=-1020;1020>=Ne;++Ne)dc[1020+Ne]=-128>Ne?-128:127<Ne?127:Ne;for(Ne=-112;112>=Ne;++Ne)$a[112+Ne]=-16>Ne?-16:15<Ne?15:Ne;for(Ne=-255;510>=Ne;++Ne)cl[255+Ne]=0>Ne?0:255<Ne?255:Ne;hc=1}is=Js,oo=wi,nn=ja,xr=So,ur=cr,rn=Tr,un=In,an=ra,kn=R,ll=re,Oo=Lo,oa=w,Bl=fe,Do=_e,Fo=Qa,Wc=eo,$l=Wr,Cs=Si,Aa[0]=gn,Aa[1]=No,Aa[2]=ea,Aa[3]=Hc,Aa[4]=bn,Aa[5]=lc,Aa[6]=Xa,Aa[7]=Vn,Aa[8]=Co,Aa[9]=ta,On[0]=Ya,On[1]=oc,On[2]=Oa,On[3]=Ys,On[4]=en,On[5]=Wn,On[6]=ws,zi[0]=ci,zi[1]=ko,zi[2]=Sa,zi[3]=Xs,zi[4]=Ao,zi[5]=Za,zi[6]=Eo,Ne=1}else Ne=0}Ne&&(Ne=function(ir,Cn){for(ir.M=0;ir.M<ir.Va;++ir.M){var $t,lt=ir.Jc[ir.M&ir.Xb],Qe=ir.m,Vr=ir;for($t=0;$t<Vr.za;++$t){var Mt=Qe,er=Vr,Ur=er.Ac,dn=er.Bc+4*$t,mi=er.zc,tr=er.ya[er.aa+$t];if(er.Qa.Bb?tr.$b=Fe(Mt,er.Pa.jb[0])?2+Fe(Mt,er.Pa.jb[2]):Fe(Mt,er.Pa.jb[1]):tr.$b=0,er.kc&&(tr.Ad=Fe(Mt,er.Bd)),tr.Za=!Fe(Mt,145)+0,tr.Za){var Dn=tr.Ob,An=0;for(er=0;4>er;++er){var vn,dr=mi[0+er];for(vn=0;4>vn;++vn){dr=At[Ur[dn+vn]][dr];for(var _r=ku[Fe(Mt,dr[0])];0<_r;)_r=ku[2*_r+Fe(Mt,dr[_r])];dr=-_r,Ur[dn+vn]=dr}n(Dn,An,Ur,dn,4),An+=4,mi[0+er]=dr}}else dr=Fe(Mt,156)?Fe(Mt,128)?1:3:Fe(Mt,163)?2:0,tr.Ob[0]=dr,a(Ur,dn,dr,4),a(mi,0,dr,4);tr.Dd=Fe(Mt,142)?Fe(Mt,114)?Fe(Mt,183)?1:3:2:0}if(Vr.m.Ka)return Qr(ir,7,"Premature end-of-partition0 encountered.");for(;ir.ja<ir.za;++ir.ja){if(Vr=lt,Mt=(Qe=ir).rb[Qe.sb-1],Ur=Qe.rb[Qe.sb+Qe.ja],$t=Qe.ya[Qe.aa+Qe.ja],dn=Qe.kc?$t.Ad:0)Mt.la=Ur.la=0,$t.Za||(Mt.Na=Ur.Na=0),$t.Hc=0,$t.Gc=0,$t.ia=0;else{var Jr,pr;if(Mt=Ur,Ur=Vr,dn=Qe.Pa.Xc,mi=Qe.ya[Qe.aa+Qe.ja],tr=Qe.pb[mi.$b],er=mi.ad,Dn=0,An=Qe.rb[Qe.sb-1],dr=vn=0,a(er,Dn,0,384),mi.Za)var Ir=0,Xn=dn[3];else{_r=o(16);var Or=Mt.Na+An.Na;if(Or=Es(Ur,dn[1],Or,tr.Eb,0,_r,0),Mt.Na=An.Na=(0<Or)+0,1<Or)is(_r,0,er,Dn);else{var Ei=_r[0]+3>>3;for(_r=0;256>_r;_r+=16)er[Dn+_r]=Ei}Ir=1,Xn=dn[0]}var hr=15&Mt.la,zr=15&An.la;for(_r=0;4>_r;++_r){var Li=1&zr;for(Ei=pr=0;4>Ei;++Ei)hr=hr>>1|(Li=(Or=Es(Ur,Xn,Or=Li+(1&hr),tr.Sc,Ir,er,Dn))>Ir)<<7,pr=pr<<2|(3<Or?3:1<Or?2:er[Dn+0]!=0),Dn+=16;hr>>=4,zr=zr>>1|Li<<7,vn=(vn<<8|pr)>>>0}for(Xn=hr,Ir=zr>>4,Jr=0;4>Jr;Jr+=2){for(pr=0,hr=Mt.la>>4+Jr,zr=An.la>>4+Jr,_r=0;2>_r;++_r){for(Li=1&zr,Ei=0;2>Ei;++Ei)Or=Li+(1&hr),hr=hr>>1|(Li=0<(Or=Es(Ur,dn[2],Or,tr.Qc,0,er,Dn)))<<3,pr=pr<<2|(3<Or?3:1<Or?2:er[Dn+0]!=0),Dn+=16;hr>>=2,zr=zr>>1|Li<<5}dr|=pr<<4*Jr,Xn|=hr<<4<<Jr,Ir|=(240&zr)<<Jr}Mt.la=Xn,An.la=Ir,mi.Hc=vn,mi.Gc=dr,mi.ia=43690&dr?0:tr.ia,dn=!(vn|dr)}if(0<Qe.L&&(Qe.wa[Qe.Y+Qe.ja]=Qe.gd[$t.$b][$t.Za],Qe.wa[Qe.Y+Qe.ja].La|=!dn),Vr.Ka)return Qr(ir,7,"Premature end-of-file encountered.")}if(wa(ir),Qe=Cn,Vr=1,$t=(lt=ir).D,Mt=0<lt.L&&lt.M>=lt.zb&&lt.M<=lt.Va,lt.Aa==0)t:{if($t.M=lt.M,$t.uc=Mt,ia(lt,$t),Vr=1,$t=(pr=lt.D).Nb,Mt=(dr=gl[lt.L])*lt.R,Ur=dr/2*lt.B,_r=16*$t*lt.R,Ei=8*$t*lt.B,dn=lt.sa,mi=lt.ta-Mt+_r,tr=lt.qa,er=lt.ra-Ur+Ei,Dn=lt.Ha,An=lt.Ia-Ur+Ei,zr=(hr=pr.M)==0,vn=hr>=lt.Va-1,lt.Aa==2&&ia(lt,pr),pr.uc)for(Li=(Or=lt).D.M,e(Or.D.uc),pr=Or.yb;pr<Or.Hb;++pr){Ir=pr,Xn=Li;var Fn=(yn=(wn=Or).D).Nb;Jr=wn.R;var yn=yn.wa[yn.Y+Ir],En=wn.sa,Zn=wn.ta+16*Fn*Jr+16*Ir,Cr=yn.dd,Lr=yn.tc;if(Lr!=0)if(e(3<=Lr),wn.L==1)0<Ir&&Wc(En,Zn,Jr,Lr+4),yn.La&&Cs(En,Zn,Jr,Lr),0<Xn&&Fo(En,Zn,Jr,Lr+4),yn.La&&$l(En,Zn,Jr,Lr);else{var Hi=wn.B,Pi=wn.qa,gi=wn.ra+8*Fn*Hi+8*Ir,ca=wn.Ha,wn=wn.Ia+8*Fn*Hi+8*Ir;Fn=yn.ld,0<Ir&&(an(En,Zn,Jr,Lr+4,Cr,Fn),ll(Pi,gi,ca,wn,Hi,Lr+4,Cr,Fn)),yn.La&&(oa(En,Zn,Jr,Lr,Cr,Fn),Do(Pi,gi,ca,wn,Hi,Lr,Cr,Fn)),0<Xn&&(un(En,Zn,Jr,Lr+4,Cr,Fn),kn(Pi,gi,ca,wn,Hi,Lr+4,Cr,Fn)),yn.La&&(Oo(En,Zn,Jr,Lr,Cr,Fn),Bl(Pi,gi,ca,wn,Hi,Lr,Cr,Fn))}}if(lt.ia&&alert("todo:DitherRow"),Qe.put!=null){if(pr=16*hr,hr=16*(hr+1),zr?(Qe.y=lt.sa,Qe.O=lt.ta+_r,Qe.f=lt.qa,Qe.N=lt.ra+Ei,Qe.ea=lt.Ha,Qe.W=lt.Ia+Ei):(pr-=dr,Qe.y=dn,Qe.O=mi,Qe.f=tr,Qe.N=er,Qe.ea=Dn,Qe.W=An),vn||(hr-=dr),hr>Qe.o&&(hr=Qe.o),Qe.F=null,Qe.J=null,lt.Fa!=null&&0<lt.Fa.length&&pr<hr&&(Qe.J=Nr(lt,Qe,pr,hr-pr),Qe.F=lt.mb,Qe.F==null&&Qe.F.length==0)){Vr=Qr(lt,3,"Could not decode alpha data.");break t}pr<Qe.j&&(dr=Qe.j-pr,pr=Qe.j,e(!(1&dr)),Qe.O+=lt.R*dr,Qe.N+=lt.B*(dr>>1),Qe.W+=lt.B*(dr>>1),Qe.F!=null&&(Qe.J+=Qe.width*dr)),pr<hr&&(Qe.O+=Qe.v,Qe.N+=Qe.v>>1,Qe.W+=Qe.v>>1,Qe.F!=null&&(Qe.J+=Qe.v),Qe.ka=pr-Qe.j,Qe.U=Qe.va-Qe.v,Qe.T=hr-pr,Vr=Qe.put(Qe))}$t+1!=lt.Ic||vn||(n(lt.sa,lt.ta-Mt,dn,mi+16*lt.R,Mt),n(lt.qa,lt.ra-Ur,tr,er+8*lt.B,Ur),n(lt.Ha,lt.Ia-Ur,Dn,An+8*lt.B,Ur))}if(!Vr)return Qr(ir,6,"Output aborted.")}return 1}(te,be)),be.bc!=null&&be.bc(be),Ne&=1}return Ne?(te.cb=0,Ne):0})(p,A)||(v=p.a)}}else v=p.a}v==0&&U.Oa!=null&&U.Oa.fd&&(v=Ro(U.ba))}U=v}q=U!=0?null:11>q?V.f.RGBA.eb:V.f.kb.y}else q=null;return q};var Hl=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(J,de){for(var O="",K=0;K<4;K++)O+=String.fromCharCode(J[de++]);return O}function x(J,de){return J[de+0]|J[de+1]<<8}function m(J,de){return(J[de+0]|J[de+1]<<8|J[de+2]<<16)>>>0}function j(J,de){return(J[de+0]|J[de+1]<<8|J[de+2]<<16|J[de+3]<<24)>>>0}new h;var y=[0],C=[0],k=[],L=new h,E=t,B=function(J,de){var O={},K=0,ae=!1,ce=0,we=0;if(O.frames=[],!function(P,Y){for(var W=0;W<4;W++)if(P[Y+W]!="RIFF".charCodeAt(W))return!0;return!1}(J,de)){for(j(J,de+=4),de+=8;de<J.length;){var Ae=f(J,de),ve=j(J,de+=4);de+=4;var H=ve+(1&ve);switch(Ae){case"VP8 ":case"VP8L":O.frames[K]===void 0&&(O.frames[K]={}),(X=O.frames[K]).src_off=ae?we:de-8,X.src_size=ce+ve+8,K++,ae&&(ae=!1,ce=0,we=0);break;case"VP8X":(X=O.header={}).feature_flags=J[de];var he=de+4;X.canvas_width=1+m(J,he),he+=3,X.canvas_height=1+m(J,he),he+=3;break;case"ALPH":ae=!0,ce=H+8,we=de-8;break;case"ANIM":(X=O.header).bgcolor=j(J,de),he=de+4,X.loop_count=x(J,he),he+=2;break;case"ANMF":var xe,X;(X=O.frames[K]={}).offset_x=2*m(J,de),de+=3,X.offset_y=2*m(J,de),de+=3,X.width=1+m(J,de),de+=3,X.height=1+m(J,de),de+=3,X.duration=m(J,de),de+=3,xe=J[de++],X.dispose=1&xe,X.blend=xe>>1&1}Ae!="ANMF"&&(de+=H)}return O}}(E,0);B.response=E,B.rgbaoutput=!0,B.dataurl=!1;var T=B.header?B.header:null,D=B.frames?B.frames:null;if(T){T.loop_counter=T.loop_count,y=[T.canvas_height],C=[T.canvas_width];for(var z=0;z<D.length&&D[z].blend!=0;z++);}var ie=D[0],se=L.WebPDecodeRGBA(E,ie.src_off,ie.src_size,C,y);ie.rgba=se,ie.imgwidth=C[0],ie.imgheight=y[0];for(var Q=0;Q<C[0]*y[0]*4;Q++)k[Q]=se[Q];return this.width=C,this.height=y,this.data=k,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function bN(){var t,e=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(e));t=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+t.length+" >>"),this.internal.write("stream"),this.internal.write(t),this.internal.write("endstream"),this.internal.write("endobj")}function xN(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(t){var e,r,n,a,o,c,u,h,f,x=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new h,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new c,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new c,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,c=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,f=new x}]);var m=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=P;Object.defineProperty(this,"pdf",{get:function(){return Y}});var W=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return W},set:function(Z){W=!!Z}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(Z){ne=!!Z}});var le=0;Object.defineProperty(this,"posX",{get:function(){return le},set:function(Z){isNaN(Z)||(le=Z)}});var me=0;Object.defineProperty(this,"posY",{get:function(){return me},set:function(Z){isNaN(Z)||(me=Z)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(Z){var rt;typeof Z=="number"?rt=[Z,Z,Z,Z]:((rt=new Array(4))[0]=Z[0],rt[1]=Z.length>=2?Z[1]:rt[0],rt[2]=Z.length>=3?Z[2]:rt[0],rt[3]=Z.length>=4?Z[3]:rt[1]),f.margin=rt}});var Se=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Se},set:function(Z){Se=Z}});var Ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return Ee},set:function(Z){Ee=Z}});var Fe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Fe},set:function(Z){Fe=Z}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(Z){Z instanceof x&&(f=Z)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(Z){f.path=Z}});var We=[];Object.defineProperty(this,"ctxStack",{get:function(){return We},set:function(Z){We=Z}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Z){var rt;rt=j(Z),this.ctx.fillStyle=rt.style,this.ctx.isFillTransparent=rt.a===0,this.ctx.fillOpacity=rt.a,this.pdf.setFillColor(rt.r,rt.g,rt.b,{a:rt.a}),this.pdf.setTextColor(rt.r,rt.g,rt.b,{a:rt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Z){var rt=j(Z);this.ctx.strokeStyle=rt.style,this.ctx.isStrokeTransparent=rt.a===0,this.ctx.strokeOpacity=rt.a,rt.a===0?this.pdf.setDrawColor(255,255,255):(rt.a,this.pdf.setDrawColor(rt.r,rt.g,rt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Z){["butt","round","square"].indexOf(Z)!==-1&&(this.ctx.lineCap=Z,this.pdf.setLineCap(Z))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Z){isNaN(Z)||(this.ctx.lineWidth=Z,this.pdf.setLineWidth(Z))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Z){["bevel","round","miter"].indexOf(Z)!==-1&&(this.ctx.lineJoin=Z,this.pdf.setLineJoin(Z))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Z){isNaN(Z)||(this.ctx.miterLimit=Z,this.pdf.setMiterLimit(Z))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Z){this.ctx.textBaseline=Z}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Z){["right","end","center","left","start"].indexOf(Z)!==-1&&(this.ctx.textAlign=Z)}});var et=null,tt=null,vt=null;Object.defineProperty(this,"fontFaces",{get:function(){return vt},set:function(Z){et=null,tt=null,vt=Z}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Z){var rt;if(this.ctx.font=Z,(rt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(Z))!==null){var bt=rt[1];rt[2];var pt=rt[3],He=rt[4];rt[5];var jt=rt[6],Me=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(He)[2];He=Math.floor(Me==="px"?parseFloat(He)*this.pdf.internal.scaleFactor:Me==="em"?parseFloat(He)*this.pdf.getFontSize():parseFloat(He)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(He);var at=function(st){var Hr,sr,Yt=[],Qt=st.trim();if(Qt==="")return t0;if(Qt in l1)return[l1[Qt]];for(;Qt!=="";){switch(sr=null,Hr=(Qt=u1(Qt)).charAt(0)){case'"':case"'":sr=dN(Qt.substring(1),Hr);break;default:sr=hN(Qt)}if(sr===null||(Yt.push(sr[0]),(Qt=u1(sr[1]))!==""&&Qt.charAt(0)!==","))return t0;Qt=Qt.replace(/^,/,"")}return Yt}(jt);if(this.fontFaces){var wt=function(st,Hr){var sr=st.getFontList(),Yt=JSON.stringify(sr);if(et===null||tt!==Yt){var Qt=function(qr){var ct=[];return Object.keys(qr).forEach(function(br){qr[br].forEach(function(kt){var Bt=null;switch(kt){case"bold":Bt={family:br,weight:"bold"};break;case"italic":Bt={family:br,style:"italic"};break;case"bolditalic":Bt={family:br,weight:"bold",style:"italic"};break;case"":case"normal":Bt={family:br}}Bt!==null&&(Bt.ref={name:br,style:kt},ct.push(Bt))})}),ct}(sr);et=function(qr){for(var ct={},br=0;br<qr.length;++br){var kt=e0(qr[br]),Bt=kt.family,Sr=kt.stretch,Wt=kt.style,St=kt.weight;ct[Bt]=ct[Bt]||{},ct[Bt][Sr]=ct[Bt][Sr]||{},ct[Bt][Sr][Wt]=ct[Bt][Sr][Wt]||{},ct[Bt][Sr][Wt][St]=kt}return ct}(Qt.concat(Hr)),tt=Yt}return et}(this.pdf,this.fontFaces),vr=at.map(function(st){return{family:st,stretch:"normal",weight:pt,style:bt}}),Ht=function(st,Hr,sr){for(var Yt=(sr=sr||{}).defaultFontFamily||"times",Qt=Object.assign({},uN,sr.genericFontFamilies||{}),qr=null,ct=null,br=0;br<Hr.length;++br)if(Qt[(qr=e0(Hr[br])).family]&&(qr.family=Qt[qr.family]),st.hasOwnProperty(qr.family)){ct=st[qr.family];break}if(!(ct=ct||st[Yt]))throw new Error("Could not find a font-family for the rule '"+c1(qr)+"' and default family '"+Yt+"'.");if(ct=function(kt,Bt){if(Bt[kt])return Bt[kt];var Sr=z0[kt],Wt=Sr<=z0.normal?-1:1,St=o1(Bt,yv,Sr,Wt);if(!St)throw new Error("Could not find a matching font-stretch value for "+kt);return St}(qr.stretch,ct),ct=function(kt,Bt){if(Bt[kt])return Bt[kt];for(var Sr=vv[kt],Wt=0;Wt<Sr.length;++Wt)if(Bt[Sr[Wt]])return Bt[Sr[Wt]];throw new Error("Could not find a matching font-style for "+kt)}(qr.style,ct),!(ct=function(kt,Bt){if(Bt[kt])return Bt[kt];if(kt===400&&Bt[500])return Bt[500];if(kt===500&&Bt[400])return Bt[400];var Sr=cN[kt],Wt=o1(Bt,wv,Sr,kt<400?-1:1);if(!Wt)throw new Error("Could not find a matching font-weight for value "+kt);return Wt}(qr.weight,ct)))throw new Error("Failed to resolve a font for the rule '"+c1(qr)+"'.");return ct}(wt,vr);this.pdf.setFont(Ht.ref.name,Ht.ref.style)}else{var Pt="";(pt==="bold"||parseInt(pt,10)>=700||bt==="bold")&&(Pt="bold"),bt==="italic"&&(Pt+="italic"),Pt.length===0&&(Pt="normal");for(var nr="",Zt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ht=0;ht<at.length;ht++){if(this.pdf.internal.getFont(at[ht],Pt,{noFallback:!0,disableWarning:!0})!==void 0){nr=at[ht];break}if(Pt==="bolditalic"&&this.pdf.internal.getFont(at[ht],"bold",{noFallback:!0,disableWarning:!0})!==void 0)nr=at[ht],Pt="bold";else if(this.pdf.internal.getFont(at[ht],"normal",{noFallback:!0,disableWarning:!0})!==void 0){nr=at[ht],Pt="normal";break}}if(nr===""){for(var Ft=0;Ft<at.length;Ft++)if(Zt[at[Ft]]){nr=Zt[at[Ft]];break}}nr=nr===""?"Times":nr,this.pdf.setFont(nr,Pt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Z){this.ctx.globalCompositeOperation=Z}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Z){this.ctx.globalAlpha=Z}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Z){this.ctx.lineDashOffset=Z,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Z){this.ctx.lineDash=Z,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Z){this.ctx.ignoreClearRect=!!Z}})};m.prototype.setLineDash=function(P){this.lineDash=P},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){D.call(this,"fill",!1)},m.prototype.stroke=function(){D.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(P,Y){if(isNaN(P)||isNaN(Y))throw ln.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var W=this.ctx.transform.applyToPoint(new c(P,Y));this.path.push({type:"mt",x:W.x,y:W.y}),this.ctx.lastPoint=new c(P,Y)},m.prototype.closePath=function(){var P=new c(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&Kr(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){P=new c(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new c(P.x,P.y)},m.prototype.lineTo=function(P,Y){if(isNaN(P)||isNaN(Y))throw ln.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var W=this.ctx.transform.applyToPoint(new c(P,Y));this.path.push({type:"lt",x:W.x,y:W.y}),this.ctx.lastPoint=new c(W.x,W.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),D.call(this,null,!0)},m.prototype.quadraticCurveTo=function(P,Y,W,ne){if(isNaN(W)||isNaN(ne)||isNaN(P)||isNaN(Y))throw ln.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var le=this.ctx.transform.applyToPoint(new c(W,ne)),me=this.ctx.transform.applyToPoint(new c(P,Y));this.path.push({type:"qct",x1:me.x,y1:me.y,x:le.x,y:le.y}),this.ctx.lastPoint=new c(le.x,le.y)},m.prototype.bezierCurveTo=function(P,Y,W,ne,le,me){if(isNaN(le)||isNaN(me)||isNaN(P)||isNaN(Y)||isNaN(W)||isNaN(ne))throw ln.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Se=this.ctx.transform.applyToPoint(new c(le,me)),Ee=this.ctx.transform.applyToPoint(new c(P,Y)),Fe=this.ctx.transform.applyToPoint(new c(W,ne));this.path.push({type:"bct",x1:Ee.x,y1:Ee.y,x2:Fe.x,y2:Fe.y,x:Se.x,y:Se.y}),this.ctx.lastPoint=new c(Se.x,Se.y)},m.prototype.arc=function(P,Y,W,ne,le,me){if(isNaN(P)||isNaN(Y)||isNaN(W)||isNaN(ne)||isNaN(le))throw ln.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(me=!!me,!this.ctx.transform.isIdentity){var Se=this.ctx.transform.applyToPoint(new c(P,Y));P=Se.x,Y=Se.y;var Ee=this.ctx.transform.applyToPoint(new c(0,W)),Fe=this.ctx.transform.applyToPoint(new c(0,0));W=Math.sqrt(Math.pow(Ee.x-Fe.x,2)+Math.pow(Ee.y-Fe.y,2))}Math.abs(le-ne)>=2*Math.PI&&(ne=0,le=2*Math.PI),this.path.push({type:"arc",x:P,y:Y,radius:W,startAngle:ne,endAngle:le,counterclockwise:me})},m.prototype.arcTo=function(P,Y,W,ne,le){throw new Error("arcTo not implemented.")},m.prototype.rect=function(P,Y,W,ne){if(isNaN(P)||isNaN(Y)||isNaN(W)||isNaN(ne))throw ln.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,Y),this.lineTo(P+W,Y),this.lineTo(P+W,Y+ne),this.lineTo(P,Y+ne),this.lineTo(P,Y),this.lineTo(P+W,Y),this.lineTo(P,Y)},m.prototype.fillRect=function(P,Y,W,ne){if(isNaN(P)||isNaN(Y)||isNaN(W)||isNaN(ne))throw ln.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!y.call(this)){var le={};this.lineCap!=="butt"&&(le.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(le.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,Y,W,ne),this.fill(),le.hasOwnProperty("lineCap")&&(this.lineCap=le.lineCap),le.hasOwnProperty("lineJoin")&&(this.lineJoin=le.lineJoin)}},m.prototype.strokeRect=function(P,Y,W,ne){if(isNaN(P)||isNaN(Y)||isNaN(W)||isNaN(ne))throw ln.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");C.call(this)||(this.beginPath(),this.rect(P,Y,W,ne),this.stroke())},m.prototype.clearRect=function(P,Y,W,ne){if(isNaN(P)||isNaN(Y)||isNaN(W)||isNaN(ne))throw ln.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,Y,W,ne))},m.prototype.save=function(P){P=typeof P!="boolean"||P;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new x(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},m.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,W=0;W<this.pdf.internal.getNumberOfPages();W++)this.pdf.setPage(W+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var j=function(P){var Y,W,ne,le;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))Y=0,W=0,ne=0,le=0;else{var me=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(me!==null)Y=parseInt(me[1]),W=parseInt(me[2]),ne=parseInt(me[3]),le=1;else if((me=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)Y=parseInt(me[1]),W=parseInt(me[2]),ne=parseInt(me[3]),le=parseFloat(me[4]);else{if(le=1,typeof P=="string"&&P.charAt(0)!=="#"){var Se=new hv(P);P=Se.ok?Se.toHex():"#000000"}P.length===4?(Y=P.substring(1,2),Y+=Y,W=P.substring(2,3),W+=W,ne=P.substring(3,4),ne+=ne):(Y=P.substring(1,3),W=P.substring(3,5),ne=P.substring(5,7)),Y=parseInt(Y,16),W=parseInt(W,16),ne=parseInt(ne,16)}}return{r:Y,g:W,b:ne,a:le,style:P}},y=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},C=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(P,Y,W,ne){if(isNaN(Y)||isNaN(W)||typeof P!="string")throw ln.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!y.call(this)){var le=H(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;K.call(this,{text:P,x:Y,y:W,scale:me,angle:le,align:this.textAlign,maxWidth:ne})}},m.prototype.strokeText=function(P,Y,W,ne){if(isNaN(Y)||isNaN(W)||typeof P!="string")throw ln.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!C.call(this)){ne=isNaN(ne)?void 0:ne;var le=H(this.ctx.transform.rotation),me=this.ctx.transform.scaleX;K.call(this,{text:P,x:Y,y:W,scale:me,renderingMode:"stroke",angle:le,align:this.textAlign,maxWidth:ne})}},m.prototype.measureText=function(P){if(typeof P!="string")throw ln.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,W=this.pdf.internal.scaleFactor,ne=Y.internal.getFontSize(),le=Y.getStringUnitWidth(P)*ne/Y.internal.scaleFactor;return new function(me){var Se=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Se}}),this}({width:le*=Math.round(96*W/72*1e4)/1e4})},m.prototype.scale=function(P,Y){if(isNaN(P)||isNaN(Y))throw ln.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var W=new h(P,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(W)},m.prototype.rotate=function(P){if(isNaN(P))throw ln.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new h(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},m.prototype.translate=function(P,Y){if(isNaN(P)||isNaN(Y))throw ln.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var W=new h(1,0,0,1,P,Y);this.ctx.transform=this.ctx.transform.multiply(W)},m.prototype.transform=function(P,Y,W,ne,le,me){if(isNaN(P)||isNaN(Y)||isNaN(W)||isNaN(ne)||isNaN(le)||isNaN(me))throw ln.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Se=new h(P,Y,W,ne,le,me);this.ctx.transform=this.ctx.transform.multiply(Se)},m.prototype.setTransform=function(P,Y,W,ne,le,me){P=isNaN(P)?1:P,Y=isNaN(Y)?0:Y,W=isNaN(W)?0:W,ne=isNaN(ne)?1:ne,le=isNaN(le)?0:le,me=isNaN(me)?0:me,this.ctx.transform=new h(P,Y,W,ne,le,me)};var k=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(P,Y,W,ne,le,me,Se,Ee,Fe){var We=this.pdf.getImageProperties(P),et=1,tt=1,vt=1,Z=1;ne!==void 0&&Ee!==void 0&&(vt=Ee/ne,Z=Fe/le,et=We.width/ne*Ee/ne,tt=We.height/le*Fe/le),me===void 0&&(me=Y,Se=W,Y=0,W=0),ne!==void 0&&Ee===void 0&&(Ee=ne,Fe=le),ne===void 0&&Ee===void 0&&(Ee=We.width,Fe=We.height);var rt=this.ctx.transform.decompose(),bt=H(rt.rotate.shx),pt=new h,He=(pt=(pt=(pt=pt.multiply(rt.translate)).multiply(rt.skew)).multiply(rt.scale)).applyToRectangle(new u(me-Y*vt,Se-W*Z,ne*et,le*tt));if(this.autoPaging){for(var jt,Me=L.call(this,He),at=[],wt=0;wt<Me.length;wt+=1)at.indexOf(Me[wt])===-1&&at.push(Me[wt]);T(at);for(var vr=at[0],Ht=at[at.length-1],Pt=vr;Pt<Ht+1;Pt++){this.pdf.setPage(Pt);var nr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Zt=Pt===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],st=Pt===1?0:ht+(Pt-2)*Ft;if(this.ctx.clip_path.length!==0){var Hr=this.path;jt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(jt,this.posX+this.margin[3],-st+Zt+this.ctx.prevPageLastElemOffset),z.call(this,"fill",!0),this.path=Hr}var sr=JSON.parse(JSON.stringify(He));sr=B([sr],this.posX+this.margin[3],-st+Zt+this.ctx.prevPageLastElemOffset)[0];var Yt=(Pt>vr||Pt<Ht)&&k.call(this);Yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nr,Ft,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",sr.x,sr.y,sr.w,sr.h,null,null,bt),Yt&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(P,"JPEG",He.x,He.y,He.w,He.h,null,null,bt)};var L=function(P,Y,W){var ne=[];Y=Y||this.pdf.internal.pageSize.width,W=W||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var le=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":ne.push(Math.floor((P.y+le)/W)+1);break;case"arc":ne.push(Math.floor((P.y+le-P.radius)/W)+1),ne.push(Math.floor((P.y+le+P.radius)/W)+1);break;case"qct":var me=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);ne.push(Math.floor((me.y+le)/W)+1),ne.push(Math.floor((me.y+me.h+le)/W)+1);break;case"bct":var Se=xe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);ne.push(Math.floor((Se.y+le)/W)+1),ne.push(Math.floor((Se.y+Se.h+le)/W)+1);break;case"rect":ne.push(Math.floor((P.y+le)/W)+1),ne.push(Math.floor((P.y+P.h+le)/W)+1)}for(var Ee=0;Ee<ne.length;Ee+=1)for(;this.pdf.internal.getNumberOfPages()<ne[Ee];)E.call(this);return ne},E=function(){var P=this.fillStyle,Y=this.strokeStyle,W=this.font,ne=this.lineCap,le=this.lineWidth,me=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=Y,this.font=W,this.lineCap=ne,this.lineWidth=le,this.lineJoin=me},B=function(P,Y,W){for(var ne=0;ne<P.length;ne++)switch(P[ne].type){case"bct":P[ne].x2+=Y,P[ne].y2+=W;case"qct":P[ne].x1+=Y,P[ne].y1+=W;default:P[ne].x+=Y,P[ne].y+=W}return P},T=function(P){return P.sort(function(Y,W){return Y-W})},D=function(P,Y){var W=this.fillStyle,ne=this.strokeStyle,le=this.lineCap,me=this.lineWidth,Se=Math.abs(me*this.ctx.transform.scaleX),Ee=this.lineJoin;if(this.autoPaging){for(var Fe,We,et=JSON.parse(JSON.stringify(this.path)),tt=JSON.parse(JSON.stringify(this.path)),vt=[],Z=0;Z<tt.length;Z++)if(tt[Z].x!==void 0)for(var rt=L.call(this,tt[Z]),bt=0;bt<rt.length;bt+=1)vt.indexOf(rt[bt])===-1&&vt.push(rt[bt]);for(var pt=0;pt<vt.length;pt++)for(;this.pdf.internal.getNumberOfPages()<vt[pt];)E.call(this);T(vt);for(var He=vt[0],jt=vt[vt.length-1],Me=He;Me<jt+1;Me++){this.pdf.setPage(Me),this.fillStyle=W,this.strokeStyle=ne,this.lineCap=le,this.lineWidth=Se,this.lineJoin=Ee;var at=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=Me===1?this.posY+this.margin[0]:this.margin[0],vr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ht=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pt=Me===1?0:vr+(Me-2)*Ht;if(this.ctx.clip_path.length!==0){var nr=this.path;Fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(Fe,this.posX+this.margin[3],-Pt+wt+this.ctx.prevPageLastElemOffset),z.call(this,P,!0),this.path=nr}if(We=JSON.parse(JSON.stringify(et)),this.path=B(We,this.posX+this.margin[3],-Pt+wt+this.ctx.prevPageLastElemOffset),Y===!1||Me===0){var Zt=(Me>He||Me<jt)&&k.call(this);Zt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Ht,null).clip().discardPath()),z.call(this,P,Y),Zt&&this.pdf.restoreGraphicsState()}this.lineWidth=me}this.path=et}else this.lineWidth=Se,z.call(this,P,Y),this.lineWidth=me},z=function(P,Y){if((P!=="stroke"||Y||!C.call(this))&&(P==="stroke"||Y||!y.call(this))){for(var W,ne,le=[],me=this.path,Se=0;Se<me.length;Se++){var Ee=me[Se];switch(Ee.type){case"begin":le.push({begin:!0});break;case"close":le.push({close:!0});break;case"mt":le.push({start:Ee,deltas:[],abs:[]});break;case"lt":var Fe=le.length;if(me[Se-1]&&!isNaN(me[Se-1].x)&&(W=[Ee.x-me[Se-1].x,Ee.y-me[Se-1].y],Fe>0)){for(;Fe>=0;Fe--)if(le[Fe-1].close!==!0&&le[Fe-1].begin!==!0){le[Fe-1].deltas.push(W),le[Fe-1].abs.push(Ee);break}}break;case"bct":W=[Ee.x1-me[Se-1].x,Ee.y1-me[Se-1].y,Ee.x2-me[Se-1].x,Ee.y2-me[Se-1].y,Ee.x-me[Se-1].x,Ee.y-me[Se-1].y],le[le.length-1].deltas.push(W);break;case"qct":var We=me[Se-1].x+2/3*(Ee.x1-me[Se-1].x),et=me[Se-1].y+2/3*(Ee.y1-me[Se-1].y),tt=Ee.x+2/3*(Ee.x1-Ee.x),vt=Ee.y+2/3*(Ee.y1-Ee.y),Z=Ee.x,rt=Ee.y;W=[We-me[Se-1].x,et-me[Se-1].y,tt-me[Se-1].x,vt-me[Se-1].y,Z-me[Se-1].x,rt-me[Se-1].y],le[le.length-1].deltas.push(W);break;case"arc":le.push({deltas:[],abs:[],arc:!0}),Array.isArray(le[le.length-1].abs)&&le[le.length-1].abs.push(Ee)}}ne=Y?null:P==="stroke"?"stroke":"fill";for(var bt=!1,pt=0;pt<le.length;pt++)if(le[pt].arc)for(var He=le[pt].abs,jt=0;jt<He.length;jt++){var Me=He[jt];Me.type==="arc"?Q.call(this,Me.x,Me.y,Me.radius,Me.startAngle,Me.endAngle,Me.counterclockwise,void 0,Y,!bt):ae.call(this,Me.x,Me.y),bt=!0}else if(le[pt].close===!0)this.pdf.internal.out("h"),bt=!1;else if(le[pt].begin!==!0){var at=le[pt].start.x,wt=le[pt].start.y;ce.call(this,le[pt].deltas,at,wt),bt=!0}ne&&J.call(this,ne),Y&&de.call(this)}},ie=function(P){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,W=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-W;case"top":return P+Y-W;case"hanging":return P+Y-2*W;case"middle":return P+Y/2-W;default:return P}},se=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(Y,W){this.colorStops.push([Y,W])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var Q=function(P,Y,W,ne,le,me,Se,Ee,Fe){for(var We=Ae.call(this,W,ne,le,me),et=0;et<We.length;et++){var tt=We[et];et===0&&(Fe?O.call(this,tt.x1+P,tt.y1+Y):ae.call(this,tt.x1+P,tt.y1+Y)),we.call(this,P,Y,tt.x2,tt.y2,tt.x3,tt.y3,tt.x4,tt.y4)}Ee?de.call(this):J.call(this,Se)},J=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},de=function(){this.pdf.clip(),this.pdf.discardPath()},O=function(P,Y){this.pdf.internal.out(r(P)+" "+n(Y)+" m")},K=function(P){var Y;switch(P.align){case"right":case"end":Y="right";break;case"center":Y="center";break;default:Y="left"}var W,ne,le,me=this.pdf.getTextDimensions(P.text),Se=ie.call(this,P.y),Ee=se.call(this,Se)-me.h,Fe=this.ctx.transform.applyToPoint(new c(P.x,Se));if(this.autoPaging){var We=this.ctx.transform.decompose(),et=new h;et=(et=(et=et.multiply(We.translate)).multiply(We.skew)).multiply(We.scale);for(var tt=this.ctx.transform.applyToRectangle(new u(P.x,Se,me.w,me.h)),vt=et.applyToRectangle(new u(P.x,Ee,me.w,me.h)),Z=L.call(this,vt),rt=[],bt=0;bt<Z.length;bt+=1)rt.indexOf(Z[bt])===-1&&rt.push(Z[bt]);T(rt);for(var pt=rt[0],He=rt[rt.length-1],jt=pt;jt<He+1;jt++){this.pdf.setPage(jt);var Me=jt===1?this.posY+this.margin[0]:this.margin[0],at=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[2],vr=wt-this.margin[0],Ht=this.pdf.internal.pageSize.width-this.margin[1],Pt=Ht-this.margin[3],nr=jt===1?0:at+(jt-2)*vr;if(this.ctx.clip_path.length!==0){var Zt=this.path;W=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=B(W,this.posX+this.margin[3],-1*nr+Me),z.call(this,"fill",!0),this.path=Zt}var ht=B([JSON.parse(JSON.stringify(vt))],this.posX+this.margin[3],-nr+Me+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*P.scale),le=this.lineWidth,this.lineWidth=le*P.scale);var Ft=this.autoPaging!=="text";if(Ft||ht.y+ht.h<=wt){if(Ft||ht.y>=Me&&ht.x<=Ht){var st=Ft?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Ht-ht.x)[0],Hr=B([JSON.parse(JSON.stringify(tt))],this.posX+this.margin[3],-nr+Me+this.ctx.prevPageLastElemOffset)[0],sr=Ft&&(jt>pt||jt<He)&&k.call(this);sr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Pt,vr,null).clip().discardPath()),this.pdf.text(st,Hr.x,Hr.y,{angle:P.angle,align:Y,renderingMode:P.renderingMode}),sr&&this.pdf.restoreGraphicsState()}}else ht.y<wt&&(this.ctx.prevPageLastElemOffset+=wt-ht.y);P.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=le)}}else P.scale>=.01&&(ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ne*P.scale),le=this.lineWidth,this.lineWidth=le*P.scale),this.pdf.text(P.text,Fe.x+this.posX,Fe.y+this.posY,{angle:P.angle,align:Y,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(ne),this.lineWidth=le)},ae=function(P,Y,W,ne){W=W||0,ne=ne||0,this.pdf.internal.out(r(P+W)+" "+n(Y+ne)+" l")},ce=function(P,Y,W){return this.pdf.lines(P,Y,W,null,null)},we=function(P,Y,W,ne,le,me,Se,Ee){this.pdf.internal.out([e(a(W+P)),e(o(ne+Y)),e(a(le+P)),e(o(me+Y)),e(a(Se+P)),e(o(Ee+Y)),"c"].join(" "))},Ae=function(P,Y,W,ne){for(var le=2*Math.PI,me=Math.PI/2;Y>W;)Y-=le;var Se=Math.abs(W-Y);Se<le&&ne&&(Se=le-Se);for(var Ee=[],Fe=ne?-1:1,We=Y;Se>1e-5;){var et=We+Fe*Math.min(Se,me);Ee.push(ve.call(this,P,We,et)),Se-=Math.abs(et-We),We=et}return Ee},ve=function(P,Y,W){var ne=(W-Y)/2,le=P*Math.cos(ne),me=P*Math.sin(ne),Se=le,Ee=-me,Fe=Se*Se+Ee*Ee,We=Fe+Se*le+Ee*me,et=4/3*(Math.sqrt(2*Fe*We)-We)/(Se*me-Ee*le),tt=Se-et*Ee,vt=Ee+et*Se,Z=tt,rt=-vt,bt=ne+Y,pt=Math.cos(bt),He=Math.sin(bt);return{x1:P*Math.cos(Y),y1:P*Math.sin(Y),x2:tt*pt-vt*He,y2:tt*He+vt*pt,x3:Z*pt-rt*He,y3:Z*He+rt*pt,x4:P*Math.cos(W),y4:P*Math.sin(W)}},H=function(P){return 180*P/Math.PI},he=function(P,Y,W,ne,le,me){var Se=P+.5*(W-P),Ee=Y+.5*(ne-Y),Fe=le+.5*(W-le),We=me+.5*(ne-me),et=Math.min(P,le,Se,Fe),tt=Math.max(P,le,Se,Fe),vt=Math.min(Y,me,Ee,We),Z=Math.max(Y,me,Ee,We);return new u(et,vt,tt-et,Z-vt)},xe=function(P,Y,W,ne,le,me,Se,Ee){var Fe,We,et,tt,vt,Z,rt,bt,pt,He,jt,Me,at,wt,vr=W-P,Ht=ne-Y,Pt=le-W,nr=me-ne,Zt=Se-le,ht=Ee-me;for(We=0;We<41;We++)pt=(rt=(et=P+(Fe=We/40)*vr)+Fe*((vt=W+Fe*Pt)-et))+Fe*(vt+Fe*(le+Fe*Zt-vt)-rt),He=(bt=(tt=Y+Fe*Ht)+Fe*((Z=ne+Fe*nr)-tt))+Fe*(Z+Fe*(me+Fe*ht-Z)-bt),We==0?(jt=pt,Me=He,at=pt,wt=He):(jt=Math.min(jt,pt),Me=Math.min(Me,He),at=Math.max(at,pt),wt=Math.max(wt,He));return new u(Math.round(jt),Math.round(Me),Math.round(at-jt),Math.round(wt-Me))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,Y,W=(P=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:Y}));this.prevLineDash!==W&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=W)}}})(Ct.API),function(t){var e=function(c){var u,h,f,x,m,j,y,C,k,L;for(h=[],f=0,x=(c+=u="\0\0\0\0".slice(c.length%4||4)).length;x>f;f+=4)(m=(c.charCodeAt(f)<<24)+(c.charCodeAt(f+1)<<16)+(c.charCodeAt(f+2)<<8)+c.charCodeAt(f+3))!==0?(j=(m=((m=((m=((m=(m-(L=m%85))/85)-(k=m%85))/85)-(C=m%85))/85)-(y=m%85))/85)%85,h.push(j+33,y+33,C+33,k+33,L+33)):h.push(122);return function(E,B){for(var T=B;T>0;T--)E.pop()}(h,u.length),String.fromCharCode.apply(String,h)+"~>"},r=function(c){var u,h,f,x,m,j=String,y="length",C=255,k="charCodeAt",L="slice",E="replace";for(c[L](-2),c=c[L](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),f=[],x=0,m=(c+=u="uuuuu"[L](c[y]%5||5))[y];m>x;x+=5)h=52200625*(c[k](x)-33)+614125*(c[k](x+1)-33)+7225*(c[k](x+2)-33)+85*(c[k](x+3)-33)+(c[k](x+4)-33),f.push(C&h>>24,C&h>>16,C&h>>8,C&h);return function(B,T){for(var D=T;D>0;D--)B.pop()}(f,u[y]),j.fromCharCode.apply(j,f)},n=function(c){return c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(c){var u=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((c=c.replace(/\s/g,"")).indexOf(">")!==-1&&(c=c.substr(0,c.indexOf(">"))),c.length%2&&(c+="0"),u.test(c)===!1)return"";for(var h="",f=0;f<c.length;f+=2)h+=String.fromCharCode("0x"+(c[f]+c[f+1]));return h},o=function(c){for(var u=new Uint8Array(c.length),h=c.length;h--;)u[h]=c.charCodeAt(h);return(u=L0(u)).reduce(function(f,x){return f+String.fromCharCode(x)},"")};t.processDataByFilters=function(c,u){var h=0,f=c||"",x=[];for(typeof(u=u||[])=="string"&&(u=[u]),h=0;h<u.length;h+=1)switch(u[h]){case"ASCII85Decode":case"/ASCII85Decode":f=r(f),x.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":f=e(f),x.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":f=a(f),x.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":f=n(f),x.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":f=o(f),x.push("/FlateDecode");break;default:throw new Error('The filter: "'+u[h]+'" is not implemented')}return{data:f,reverseChain:x.reverse().join(" ")}}}(Ct.API),function(t){t.loadFile=function(e,r,n){return function(a,o,c){o=o!==!1,c=typeof c=="function"?c:function(){};var u=void 0;try{u=function(h,f,x){var m=new XMLHttpRequest,j=0,y=function(C){var k=C.length,L=[],E=String.fromCharCode;for(j=0;j<k;j+=1)L.push(E(255&C.charCodeAt(j)));return L.join("")};if(m.open("GET",h,!f),m.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(m.onload=function(){m.status===200?x(y(this.responseText)):x(void 0)}),m.send(null),f&&m.status===200)return y(m.responseText)}(a,o,c)}catch{}return u}(e,r,n)},t.allowFsRead=void 0,t.loadImageFile=t.loadFile}(Ct.API),function(t){function e(){return(Jt.html2canvas?Promise.resolve(Jt.html2canvas):Lp(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load html2canvas: "+u))}).then(function(u){return u.default?u.default:u})}function r(){return(Jt.DOMPurify?Promise.resolve(Jt.DOMPurify):Lp(()=>import("./purify.es-C5KSVp3G.js"),[])).catch(function(u){return Promise.reject(new Error("Could not load dompurify: "+u))}).then(function(u){return u.default?u.default:u})}var n=function(u){var h=Kr(u);return h==="undefined"?"undefined":h==="string"||u instanceof String?"string":h==="number"||u instanceof Number?"number":h==="function"||u instanceof Function?"function":u&&u.constructor===Array?"array":u&&u.nodeType===1?"element":h==="object"?"object":"unknown"},a=function(u,h){var f=document.createElement(u);for(var x in h.className&&(f.className=h.className),h.innerHTML&&h.dompurify&&(f.innerHTML=h.dompurify.sanitize(h.innerHTML)),h.style)f.style[x]=h.style[x];return f},o=function u(h,f){for(var x=h.nodeType===3?document.createTextNode(h.nodeValue):h.cloneNode(!1),m=h.firstChild;m;m=m.nextSibling)f!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||x.appendChild(u(m,f));return h.nodeType===1&&(h.nodeName==="CANVAS"?(x.width=h.width,x.height=h.height,x.getContext("2d").drawImage(h,0,0)):h.nodeName!=="TEXTAREA"&&h.nodeName!=="SELECT"||(x.value=h.value),x.addEventListener("load",function(){x.scrollTop=h.scrollTop,x.scrollLeft=h.scrollLeft},!0)),x},c=function u(h){var f=Object.assign(u.convert(Promise.resolve()),JSON.parse(JSON.stringify(u.template))),x=u.convert(Promise.resolve(),f);return(x=x.setProgress(1,u,1,[u])).set(h)};(c.prototype=Object.create(Promise.prototype)).constructor=c,c.convert=function(u,h){return u.__proto__=h||c.prototype,u},c.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},c.prototype.from=function(u,h){return this.then(function(){switch(h=h||function(f){switch(n(f)){case"string":return"string";case"element":return f.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(u),h){case"string":return this.then(r).then(function(f){return this.set({src:a("div",{innerHTML:u,dompurify:f})})});case"element":return this.set({src:u});case"canvas":return this.set({canvas:u});case"img":return this.set({img:u});default:return this.error("Unknown source type.")}})},c.prototype.to=function(u){switch(u){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},c.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var u={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},h=o(this.prop.src,this.opt.html2canvas.javascriptEnabled);h.tagName==="BODY"&&(u.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:u}),this.prop.container.appendChild(h),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},c.prototype.toCanvas=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(h){var f=Object.assign({},this.opt.html2canvas);return delete f.onrendered,h(this.prop.container,f)}).then(function(h){(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toContext2d=function(){var u=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(u).then(e).then(function(h){var f=this.opt.jsPDF,x=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,j=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete j.onrendered,f.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,f.context2d.posX=this.opt.x,f.context2d.posY=this.opt.y,f.context2d.margin=this.opt.margin,f.context2d.fontFaces=x,x)for(var y=0;y<x.length;++y){var C=x[y],k=C.src.find(function(L){return L.format==="truetype"});k&&f.addFont(k.url,C.ref.name,C.ref.style)}return j.windowHeight=j.windowHeight||0,j.windowHeight=j.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):j.windowHeight,f.context2d.save(!0),h(this.prop.container,j)}).then(function(h){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(h),this.prop.canvas=h,document.body.removeChild(this.prop.overlay)})},c.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var u=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=u})},c.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},c.prototype.output=function(u,h,f){return(f=f||"pdf").toLowerCase()==="img"||f.toLowerCase()==="image"?this.outputImg(u,h):this.outputPdf(u,h)},c.prototype.outputPdf=function(u,h){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(u,h)})},c.prototype.outputImg=function(u){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(u){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+u+'" is not supported.'}})},c.prototype.save=function(u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(u?{filename:u}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},c.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},c.prototype.set=function(u){if(n(u)!=="object")return this;var h=Object.keys(u||{}).map(function(f){if(f in c.template.prop)return function(){this.prop[f]=u[f]};switch(f){case"margin":return this.setMargin.bind(this,u.margin);case"jsPDF":return function(){return this.opt.jsPDF=u.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,u.pageSize);default:return function(){this.opt[f]=u[f]}}},this);return this.then(function(){return this.thenList(h)})},c.prototype.get=function(u,h){return this.then(function(){var f=u in c.template.prop?this.prop[u]:this.opt[u];return h?h(f):f})},c.prototype.setMargin=function(u){return this.then(function(){switch(n(u)){case"number":u=[u,u,u,u];case"array":if(u.length===2&&(u=[u[0],u[1],u[0],u[1]]),u.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=u}).then(this.setPageSize)},c.prototype.setPageSize=function(u){function h(f,x){return Math.floor(f*x/72*96)}return this.then(function(){(u=u||Ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(u.inner={width:u.width-this.opt.margin[1]-this.opt.margin[3],height:u.height-this.opt.margin[0]-this.opt.margin[2]},u.inner.px={width:h(u.inner.width,u.k),height:h(u.inner.height,u.k)},u.inner.ratio=u.inner.height/u.inner.width),this.prop.pageSize=u})},c.prototype.setProgress=function(u,h,f,x){return u!=null&&(this.progress.val=u),h!=null&&(this.progress.state=h),f!=null&&(this.progress.n=f),x!=null&&(this.progress.stack=x),this.progress.ratio=this.progress.val/this.progress.state,this},c.prototype.updateProgress=function(u,h,f,x){return this.setProgress(u?this.progress.val+u:null,h||null,f?this.progress.n+f:null,x?this.progress.stack.concat(x):null)},c.prototype.then=function(u,h){var f=this;return this.thenCore(u,h,function(x,m){return f.updateProgress(null,null,1,[x]),Promise.prototype.then.call(this,function(j){return f.updateProgress(null,x),j}).then(x,m).then(function(j){return f.updateProgress(1),j})})},c.prototype.thenCore=function(u,h,f){f=f||Promise.prototype.then;var x=this;u&&(u=u.bind(x)),h&&(h=h.bind(x));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?x:c.convert(Object.assign({},x),Promise.prototype),j=f.call(m,u,h);return c.convert(j,x.__proto__)},c.prototype.thenExternal=function(u,h){return Promise.prototype.then.call(this,u,h)},c.prototype.thenList=function(u){var h=this;return u.forEach(function(f){h=h.thenCore(f)}),h},c.prototype.catch=function(u){u&&(u=u.bind(this));var h=Promise.prototype.catch.call(this,u);return c.convert(h,this)},c.prototype.catchExternal=function(u){return Promise.prototype.catch.call(this,u)},c.prototype.error=function(u){return this.then(function(){throw new Error(u)})},c.prototype.using=c.prototype.set,c.prototype.saveAs=c.prototype.save,c.prototype.export=c.prototype.output,c.prototype.run=c.prototype.then,Ct.getPageSize=function(u,h,f){if(Kr(u)==="object"){var x=u;u=x.orientation,h=x.unit||h,f=x.format||f}h=h||"mm",f=f||"a4",u=(""+(u||"P")).toLowerCase();var m,j=(""+f).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(h){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+h}var C,k=0,L=0;if(y.hasOwnProperty(j))k=y[j][1]/m,L=y[j][0]/m;else try{k=f[1],L=f[0]}catch{throw new Error("Invalid format: "+f)}if(u==="p"||u==="portrait")u="p",L>k&&(C=L,L=k,k=C);else{if(u!=="l"&&u!=="landscape")throw"Invalid orientation: "+u;u="l",k>L&&(C=L,L=k,k=C)}return{width:L,height:k,unit:h,k:m,orientation:u}},t.html=function(u,h){(h=h||{}).callback=h.callback||function(){},h.html2canvas=h.html2canvas||{},h.html2canvas.canvas=h.html2canvas.canvas||this.canvas,h.jsPDF=h.jsPDF||this,h.fontFaces=h.fontFaces?h.fontFaces.map(e0):null;var f=new c(h);return h.worker?f:f.from(u).doCallback()}}(Ct.API),Ct.API.addJS=function(t){var e,r,n=function(a){for(var o="",c=0;c<a.length;c++){var u=a[c];if(u==="("||u===")"){for(var h=0,f=c-1;f>=0&&a[f]==="\\";f--)h++;o+=h%2==0?"\\"+u:u}else o+=u}return o}(t);return this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(e+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){e!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+e+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),o=0;o<a.length;o++){var c=a[o],u=n.exec(c);if(u!=null){var h=u[1];r.internal.newObjectDeferredBegin(h,!1)}r.internal.write(c)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,x=[];for(o=0;o<f;o++){var m=r.internal.newObject();x.push(m);var j=r.internal.getPageInfo(o+1);r.internal.write("<< /D["+j.objId+" 0 R /XYZ null null null]>> endobj")}var y=r.internal.newObject();for(r.internal.write("<< /Names [ "),o=0;o<x.length;o++)r.internal.write("(page_"+(o+1)+")"+x[o]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+y+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,o){var c={title:a,options:o,children:[]};return n==null&&(n=this.root),n.children.push(c),c},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<n.children.length;o++){var c=n.children[o];this.objStart(c),this.line("/Title "+this.makeString(c.title)),this.line("/Parent "+this.makeRef(n)),o>0&&this.line("/Prev "+this.makeRef(n.children[o-1])),o<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[o+1])),c.children.length>0&&(this.line("/First "+this.makeRef(c.children[0])),this.line("/Last "+this.makeRef(c.children[c.children.length-1])));var u=this.count=this.count_r({count:0},c);if(u>0&&this.line("/Count "+u),c.options&&c.options.pageNumber){var h=r.internal.getPageInfo(c.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<n.children.length;f++)this.renderItems(n.children[f])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var o=0;o<a.children.length;o++)n.count++,this.count_r(n,a.children[o]);return n.count}}])}(Ct.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,o,c,u){var h,f=this.decode.DCT_DECODE,x=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=c||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,h=function(m){for(var j,y=256*m.charCodeAt(4)+m.charCodeAt(5),C=m.length,k={width:0,height:0,numcomponents:1},L=4;L<C;L+=2){if(L+=y,e.indexOf(m.charCodeAt(L+1))!==-1){j=256*m.charCodeAt(L+5)+m.charCodeAt(L+6),k={width:256*m.charCodeAt(L+7)+m.charCodeAt(L+8),height:j,numcomponents:m.charCodeAt(L+9)};break}y=256*m.charCodeAt(L+2)+m.charCodeAt(L+3)}return k}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),h.numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}x={data:r,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:f,index:n,alias:a}}return x}}(Ct.API),Ct.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,o=J4(t,{checkCrc:!0}),c=o.width,u=o.height,h=o.channels,f=o.palette,x=o.depth;a=f&&h===1?function(Q){for(var J=Q.width,de=Q.height,O=Q.data,K=Q.palette,ae=Q.depth,ce=!1,we=[],Ae=[],ve=void 0,H=!1,he=0,xe=0;xe<K.length;xe++){var X=sb(K[xe],4),P=X[0],Y=X[1],W=X[2],ne=X[3];we.push(P,Y,W),ne!=null&&(ne===0?(he++,Ae.length<1&&Ae.push(xe)):ne<255&&(H=!0))}if(H||he>1){ce=!0,Ae=void 0;var le=J*de;ve=new Uint8Array(le);for(var me=new DataView(O.buffer),Se=0;Se<le;Se++){var Ee=r0(me,Se,ae),Fe=sb(K[Ee],4)[3];ve[Se]=Fe}}else he===0&&(Ae=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ce?8:void 0,colorBytes:O,alphaBytes:ve,needSMask:ce,palette:we,mask:Ae}}(o):h===2||h===4?function(Q){for(var J=Q.data,de=Q.width,O=Q.height,K=Q.channels,ae=Q.depth,ce=K===2?"DeviceGray":"DeviceRGB",we=K-1,Ae=de*O,ve=we,H=Ae*ve,he=1*Ae,xe=Math.ceil(H*ae/8),X=Math.ceil(he*ae/8),P=new Uint8Array(xe),Y=new Uint8Array(X),W=new DataView(J.buffer),ne=new DataView(P.buffer),le=new DataView(Y.buffer),me=!1,Se=0;Se<Ae;Se++){for(var Ee=Se*K,Fe=0;Fe<ve;Fe++)v1(ne,r0(W,Ee+Fe,ae),Se*ve+Fe,ae);var We=r0(W,Ee+ve,ae);We<(1<<ae)-1&&(me=!0),v1(le,We,1*Se,ae)}return{colorSpace:ce,colorsPerPixel:we,sMaskBitsPerComponent:me?ae:void 0,colorBytes:P,alphaBytes:Y,needSMask:me}}(o):function(Q){var J=Q.data,de=Q.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:de,colorsPerPixel:de==="DeviceGray"?1:3,colorBytes:J instanceof Uint16Array?function(O){for(var K=O.length,ae=new Uint8Array(2*K),ce=new DataView(ae.buffer,ae.byteOffset,ae.byteLength),we=0;we<K;we++)ce.setUint16(2*we,O[we],!1);return ae}(J):J,needSMask:!1}}(o);var m,j,y,C=a,k=C.colorSpace,L=C.colorsPerPixel,E=C.sMaskBitsPerComponent,B=C.colorBytes,T=C.alphaBytes,D=C.needSMask,z=C.palette,ie=C.mask,se=null;return n!==Ct.API.image_compression.NONE&&typeof L0=="function"?(se=function(Q){var J;switch(Q){case Ct.API.image_compression.FAST:J=11;break;case Ct.API.image_compression.MEDIUM:J=13;break;case Ct.API.image_compression.SLOW:J=14;break;default:J=12}return J}(n),m=this.decode.FLATE_DECODE,j="/Predictor ".concat(se," /Colors ").concat(L," /BitsPerComponent ").concat(x," /Columns ").concat(c),t=p1(B,Math.ceil(c*L*x/8),L,x,n),D&&(y=p1(T,Math.ceil(c*E/8),1,E,n))):(m=void 0,j=void 0,t=B,D&&(y=T)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(y&&this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),{alias:r,data:t,index:e,filter:m,decodeParameters:j,transparency:ie,palette:z,sMask:y,predictor:se,width:c,height:u,bitsPerComponent:x,sMaskBitsPerComponent:E,colorSpace:k}}},function(t){t.processGIF89A=function(e,r,n,a){var o=new gN(e),c=o.width,u=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var f={data:h,width:c,height:u},x=new n0(100).encode(f,100);return t.processJPEG.call(this,x,r,n,a)},t.processGIF87A=t.processGIF89A}(Ct.API),Zo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Zo.prototype.parseBGR=function(){this.pos=this.offset;var t="bit"+this.bitPP,e=this.width*this.height*4;if(e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(e);try{this[t]()}catch(r){ln.log("bit decode error:"+r)}},Zo.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var o=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+8*a*4,u=0;u<8&&8*a+u<this.width;u++){var h=this.palette[o>>7-u&1];this.data[c+4*u]=h.blue,this.data[c+4*u+1]=h.green,this.data[c+4*u+2]=h.red,this.data[c+4*u+3]=255}r!==0&&(this.pos+=4-r)}},Zo.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var o=this.datav.getUint8(this.pos++,!0),c=n*this.width*4+2*a*4,u=o>>4,h=15&o,f=this.palette[u];if(this.data[c]=f.blue,this.data[c+1]=f.green,this.data[c+2]=f.red,this.data[c+3]=255,2*a+1>=this.width)break;f=this.palette[h],this.data[c+4]=f.blue,this.data[c+4+1]=f.green,this.data[c+4+2]=f.red,this.data[c+4+3]=255}e!==0&&(this.pos+=4-e)}},Zo.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+4*n;if(a<this.palette.length){var c=this.palette[a];this.data[o]=c.red,this.data[o+1]=c.green,this.data[o+2]=c.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}t!==0&&(this.pos+=4-t)}},Zo.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(o&e)/e*255|0,u=(o>>5&e)/e*255|0,h=(o>>10&e)/e*255|0,f=o>>15?255:0,x=n*this.width*4+4*a;this.data[x]=h,this.data[x+1]=u,this.data[x+2]=c,this.data[x+3]=f}this.pos+=t}},Zo.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,o=0;o<this.width;o++){var c=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(c&e)/e*255|0,h=(c>>5&r)/r*255|0,f=(c>>11)/e*255|0,x=a*this.width*4+4*o;this.data[x]=f,this.data[x+1]=h,this.data[x+2]=u,this.data[x+3]=255}this.pos+=t}},Zo.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=e*this.width*4+4*r;this.data[c]=o,this.data[c+1]=a,this.data[c+2]=n,this.data[c+3]=255}this.pos+=this.width%4}},Zo.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*r;this.data[u]=o,this.data[u+1]=a,this.data[u+2]=n,this.data[u+3]=c}},Zo.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var o=new Zo(e,!1),c=o.width,u=o.height,h={data:o.getData(),width:c,height:u},f=new n0(100).encode(h,100);return t.processJPEG.call(this,f,r,n,a)}}(Ct.API),w1.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var o=new w1(e),c=o.width,u=o.height,h={data:o.getData(),width:c,height:u},f=new n0(100).encode(h,100);return t.processJPEG.call(this,f,r,n,a)}}(Ct.API),Ct.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,o=new Uint8Array(a/4*3),c=new Uint8Array(a/4),u=0,h=0,f=0;f<a;f+=4){var x=n[f],m=n[f+1],j=n[f+2],y=n[f+3];o[u++]=x,o[u++]=m,o[u++]=j,c[h++]=y}var C=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(c),data:C,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ct.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Ku=Ct.API,Qh=Ku.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),c=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:a.metadata.Unicode.widths,h=u.fof?u.fof:1,f=e.kerning?e.kerning:a.metadata.Unicode.kerning,x=f.fof?f.fof:1,m=e.doKerning!==!1,j=0,y=t.length,C=0,k=u[0]||h,L=[];for(r=0;r<y;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?L.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+c*(1e3/o)||0)/1e3):(j=m&&Kr(f[n])==="object"&&!isNaN(parseInt(f[n][C],10))?f[n][C]/x:0,L.push((u[n]||k)/h+j)),C=n;return L},d1=Ku.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Ku.processArabic&&(t=Ku.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:Qh.apply(this,arguments).reduce(function(o,c){return o+c},0)},h1=function(t,e,r,n){for(var a=[],o=0,c=t.length,u=0;o!==c&&u+e[o]<r;)u+=e[o],o++;a.push(t.slice(0,o));var h=o;for(u=0;o!==c;)u+e[o]>n&&(a.push(t.slice(h,o)),u=0,h=o),u+=e[o],o++;return h!==o&&a.push(t.slice(h,o)),a},f1=function(t,e,r){r||(r={});var n,a,o,c,u,h,f,x=[],m=[x],j=r.textIndent||0,y=0,C=0,k=t.split(" "),L=Qh.apply(this,[" ",r])[0];if(h=r.lineIndent===-1?k[0].length+2:r.lineIndent||0){var E=Array(h).join(" "),B=[];k.map(function(D){(D=D.split(/\s*\n/)).length>1?B=B.concat(D.map(function(z,ie){return(ie&&z.length?`
`:"")+z})):B.push(D[0])}),k=B,h=d1.apply(this,[E,r])}for(o=0,c=k.length;o<c;o++){var T=0;if(n=k[o],h&&n[0]==`
`&&(n=n.substr(1),T=1),j+y+(C=(a=Qh.apply(this,[n,r])).reduce(function(D,z){return D+z},0))>e||T){if(C>e){for(u=h1.apply(this,[n,a,e-(j+y),e]),x.push(u.shift()),x=[u.pop()];u.length;)m.push([u.shift()]);C=a.slice(n.length-(x[0]?x[0].length:0)).reduce(function(D,z){return D+z},0)}else x=[n];m.push(x),j=C+h,y=L}else x.push(n),j+=y+C,y=L}return f=h?function(D,z){return(z?E:"")+D.join(" ")}:function(D){return D.join(" ")},m.map(f)},Ku.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),o=(function(x){if(x.widths&&x.kerning)return{widths:x.widths,kerning:x.kerning};var m=this.internal.getFont(x.fontName,x.fontStyle),j="Unicode";return m.metadata[j]?{widths:m.metadata[j].widths||{0:1},kerning:m.metadata[j].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var c=1*this.internal.scaleFactor*e/a;o.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,o.lineIndent=r.lineIndent;var u,h,f=[];for(u=0,h=n.length;u<h;u++)f=f.concat(f1.apply(this,[n[u],c,o]));return f},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},o=0;o<16;o++)n[r[o]]=e[o],a[e[o]]=r[o];var c=function(j){return"0x"+parseInt(j,10).toString(16)},u=t.__fontmetrics__.compress=function(j){var y,C,k,L,E=["{"];for(var B in j){if(y=j[B],isNaN(parseInt(B,10))?C="'"+B+"'":(B=parseInt(B,10),C=(C=c(B).slice(2)).slice(0,-1)+a[C.slice(-1)]),typeof y=="number")y<0?(k=c(y).slice(3),L="-"):(k=c(y).slice(2),L=""),k=L+k.slice(0,-1)+a[k.slice(-1)];else{if(Kr(y)!=="object")throw new Error("Don't know what to do with value type "+Kr(y)+".");k=u(y)}E.push(C+k)}return E.push("}"),E.join("")},h=t.__fontmetrics__.uncompress=function(j){if(typeof j!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,C,k,L,E={},B=1,T=E,D=[],z="",ie="",se=j.length-1,Q=1;Q<se;Q+=1)(L=j[Q])=="'"?y?(k=y.join(""),y=void 0):y=[]:y?y.push(L):L=="{"?(D.push([T,k]),T={},k=void 0):L=="}"?((C=D.pop())[0][C[1]]=T,k=void 0,T=C[0]):L=="-"?B=-1:k===void 0?n.hasOwnProperty(L)?(z+=n[L],k=parseInt(z,16)*B,B=1,z=""):z+=L:n.hasOwnProperty(L)?(ie+=n[L],T[k]=parseInt(ie,16)*B,B=1,k=void 0,ie=""):ie+=L;return E},f={codePages:["WinAnsiEncoding"],WinAnsiEncoding:h("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},x={Unicode:{Courier:f,"Courier-Bold":f,"Courier-BoldOblique":f,"Courier-Oblique":f,Helvetica:f,"Helvetica-Bold":f,"Helvetica-BoldOblique":f,"Helvetica-Oblique":f,"Times-Roman":f,"Times-Bold":f,"Times-BoldItalic":f,"Times-Italic":f}},m={Unicode:{"Courier-Oblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":h("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":h("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:h("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":h("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:h("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":h("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":h("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":h("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":h("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(j){var y=j.font,C=m.Unicode[y.postScriptName];C&&(y.metadata.Unicode={},y.metadata.Unicode.widths=C.widths,y.metadata.Unicode.kerning=C.kerning);var k=x.Unicode[y.postScriptName];k&&(y.metadata.Unicode.encoding=k,y.encoding=k.codePages[0])}])}(Ct.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),o=0;o<n;o++)a[o]=r.charCodeAt(o);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,o=r.instance;if(!a.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=o.existsFileInVFS(a.postScriptName)===!1?o.loadFile(a.postScriptName):o.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(c,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(af(u)),c.metadata=t.API.TTFFont.open(u),c.metadata.Unicode=c.metadata.Unicode||{encoding:{},kerning:{},widths:[]},c.metadata.glyIdsUsed=[0]})(a,n)}}])}(Ct),Ct.API.addSvgAsImage=function(t,e,r,n,a,o,c,u){if(isNaN(e)||isNaN(r))throw ln.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw ln.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var h=document.createElement("canvas");h.width=n,h.height=a;var f=h.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,h.width,h.height);var x={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(Jt.canvg?Promise.resolve(Jt.canvg):Lp(()=>import("./index.es-tdU4F21g.js"),[])).catch(function(j){return Promise.reject(new Error("Could not load canvg: "+j))}).then(function(j){return j.default?j.default:j}).then(function(j){return j.fromString(f,t,x)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(j){return j.render(x)}).then(function(){m.addImage(h.toDataURL("image/jpeg",1),e,r,n,a,c,u)})},Ct.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},Ct.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,o,c={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(c),h=[],f=0,x=0,m=0;function j(C,k){var L,E=!1;for(L=0;L<C.length;L+=1)C[L]===k&&(E=!0);return E}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(c)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var y=u.length;for(m=0;m<y;m+=1)r[u[m]].value=r[u[m]].defaultValue,r[u[m]].explicitSet=!1}if(Kr(t)==="object"){for(a in t)if(o=t[a],j(u,a)&&o!==void 0){if(r[a].type==="boolean"&&typeof o=="boolean")r[a].value=o;else if(r[a].type==="name"&&j(r[a].valueSet,o))r[a].value=o;else if(r[a].type==="integer"&&Number.isInteger(o))r[a].value=o;else if(r[a].type==="array"){for(f=0;f<o.length;f+=1)if(n=!0,o[f].length===1&&typeof o[f][0]=="number")h.push(String(o[f]-1));else if(o[f].length>1){for(x=0;x<o[f].length;x+=1)typeof o[f][x]!="number"&&(n=!1);n===!0&&h.push([o[f][0]-1,o[f][1]-1].join(" "))}r[a].value="["+h.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var C,k=[];for(C in r)r[C].explicitSet===!0&&(r[C].type==="name"?k.push("/"+C+" /"+r[C].value):k.push("/"+C+" "+r[C].value));k.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+k.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},Ct.API.addMetadata=function(t,e){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:t,namespaceUri:e??"http://jspdf.default.namespaceuri/",rawXml:typeof e=="boolean"&&e},this.internal.events.subscribe("putCatalog",xN),this.internal.events.subscribe("postPutResources",bN)),this},function(t){var e=t.API,r=e.pdfEscape16=function(o,c){for(var u,h=c.metadata.Unicode.widths,f=["","0","00","000","0000"],x=[""],m=0,j=o.length;m<j;++m){if(u=c.metadata.characterToGlyph(o.charCodeAt(m)),c.metadata.glyIdsUsed.push(u),c.metadata.toUnicode[u]=o.charCodeAt(m),h.indexOf(u)==-1&&(h.push(u),h.push([parseInt(c.metadata.widthOfGlyph(u),10)])),u=="0")return x.join("");u=u.toString(16),x.push(f[4-u.length],u)}return x.join("")},n=function(o){var c,u,h,f,x,m,j;for(x=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],m=0,j=(u=Object.keys(o).sort(function(y,C){return y-C})).length;m<j;m++)c=u[m],h.length>=100&&(x+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),o[c]!==void 0&&o[c]!==null&&typeof o[c].toString=="function"&&(f=("0000"+o[c].toString(16)).slice(-4),c=("0000"+(+c).toString(16)).slice(-4),h.push("<"+c+"><"+f+">"));return h.length&&(x+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),x+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(c){var u=c.font,h=c.out,f=c.newObject,x=c.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="Identity-H"){for(var m=u.metadata.Unicode.widths,j=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),y="",C=0;C<j.length;C++)y+=String.fromCharCode(j[C]);var k=f();x({data:y,addLength1:!0,objectId:k}),h("endobj");var L=f();x({data:n(u.metadata.toUnicode),addLength1:!0,objectId:L}),h("endobj");var E=f();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Qu(u.fontName)),h("/FontFile2 "+k+" 0 R"),h("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var B=f();h("<<"),h("/Type /Font"),h("/BaseFont /"+Qu(u.fontName)),h("/FontDescriptor "+E+" 0 R"),h("/W "+t.API.PDFObject.convert(m)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=f(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+L+" 0 R"),h("/BaseFont /"+Qu(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+B+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(c){var u=c.font,h=c.out,f=c.newObject,x=c.putStream;if(u.metadata instanceof t.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var m=u.metadata.rawData,j="",y=0;y<m.length;y++)j+=String.fromCharCode(m[y]);var C=f();x({data:j,addLength1:!0,objectId:C}),h("endobj");var k=f();x({data:n(u.metadata.toUnicode),addLength1:!0,objectId:k}),h("endobj");var L=f();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+C+" 0 R"),h("/Flags 96"),h("/FontBBox "+t.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+Qu(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=f();for(var E=0;E<u.metadata.hmtx.widths.length;E++)u.metadata.hmtx.widths[E]=parseInt(u.metadata.hmtx.widths[E]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+k+" 0 R/BaseFont/"+Qu(u.fontName)+"/FontDescriptor "+L+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}})(o)}]);var a=function(o){var c,u=o.text||"",h=o.x,f=o.y,x=o.options||{},m=o.mutex||{},j=m.pdfEscape,y=m.activeFontKey,C=m.fonts,k=y,L="",E=0,B="",T=C[k].encoding;if(C[k].encoding!=="Identity-H")return{text:u,x:h,y:f,options:x,mutex:m};for(B=u,k=y,Array.isArray(u)&&(B=u[0]),E=0;E<B.length;E+=1)C[k].metadata.hasOwnProperty("cmap")&&(c=C[k].metadata.cmap.unicode.codeMap[B[E].charCodeAt(0)]),c||B[E].charCodeAt(0)<256&&C[k].metadata.hasOwnProperty("Unicode")?L+=B[E]:L+="";var D="";return parseInt(k.slice(1))<14||T==="WinAnsiEncoding"?D=j(L,k).split("").map(function(z){return z.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(D=r(L,C[k])),m.isHex=!0,{text:D,x:h,y:f,options:x,mutex:m}};e.events.push(["postProcessText",function(o){var c=o.text||"",u=[],h={text:c,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(c)){var f=0;for(f=0;f<c.length;f+=1)Array.isArray(c[f])&&c[f].length===3?u.push([a(Object.assign({},h,{text:c[f][0]})).text,c[f][1],c[f][2]]):u.push(a(Object.assign({},h,{text:c[f]})).text);o.text=u}else o.text=a(Object.assign({},h,{text:c})).text}])}(Ct),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ct.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,o,c,u,h,f,x,m=e,j=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],y=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],C={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},k={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},L=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],E=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),B=!1,T=0;this.__bidiEngine__={};var D=function(O){var K=O.charCodeAt(),ae=K>>8,ce=k[ae];return ce!==void 0?m[256*ce+(255&K)]:ae===252||ae===253?"AL":E.test(ae)?"L":ae===8?"R":"N"},z=function(O){for(var K,ae=0;ae<O.length;ae++){if((K=D(O.charAt(ae)))==="L")return!1;if(K==="R")return!0}return!1},ie=function(O,K,ae,ce){var we,Ae,ve,H,he=K[ce];switch(he){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":B=!1;break;case"N":case"AN":break;case"EN":B&&(he="AN");break;case"AL":B=!0,he="R";break;case"WS":case"BN":he="N";break;case"CS":ce<1||ce+1>=K.length||(we=ae[ce-1])!=="EN"&&we!=="AN"||(Ae=K[ce+1])!=="EN"&&Ae!=="AN"?he="N":B&&(Ae="AN"),he=Ae===we?Ae:"N";break;case"ES":he=(we=ce>0?ae[ce-1]:"B")==="EN"&&ce+1<K.length&&K[ce+1]==="EN"?"EN":"N";break;case"ET":if(ce>0&&ae[ce-1]==="EN"){he="EN";break}if(B){he="N";break}for(ve=ce+1,H=K.length;ve<H&&K[ve]==="ET";)ve++;he=ve<H&&K[ve]==="EN"?"EN":"N";break;case"NSM":if(c&&!u){for(H=K.length,ve=ce+1;ve<H&&K[ve]==="NSM";)ve++;if(ve<H){var xe=O[ce],X=xe>=1425&&xe<=2303||xe===64286;if(we=K[ve],X&&(we==="R"||we==="AL")){he="R";break}}}he=ce<1||(we=K[ce-1])==="B"?"N":ae[ce-1];break;case"B":B=!1,a=!0,he=T;break;case"S":o=!0,he="N"}return he},se=function(O,K,ae){var ce=O.split("");return ae&&Q(ce,ae,{hiLevel:T}),ce.reverse(),K&&K.reverse(),ce.join("")},Q=function(O,K,ae){var ce,we,Ae,ve,H,he=-1,xe=O.length,X=0,P=[],Y=T?y:j,W=[];for(B=!1,a=!1,o=!1,we=0;we<xe;we++)W[we]=D(O[we]);for(Ae=0;Ae<xe;Ae++){if(H=X,P[Ae]=ie(O,W,P,Ae),ce=240&(X=Y[H][C[P[Ae]]]),X&=15,K[Ae]=ve=Y[X][5],ce>0)if(ce===16){for(we=he;we<Ae;we++)K[we]=1;he=-1}else he=-1;if(Y[X][6])he===-1&&(he=Ae);else if(he>-1){for(we=he;we<Ae;we++)K[we]=ve;he=-1}W[Ae]==="B"&&(K[Ae]=0),ae.hiLevel|=ve}o&&function(ne,le,me){for(var Se=0;Se<me;Se++)if(ne[Se]==="S"){le[Se]=T;for(var Ee=Se-1;Ee>=0&&ne[Ee]==="WS";Ee--)le[Ee]=T}}(W,K,xe)},J=function(O,K,ae,ce,we){if(!(we.hiLevel<O)){if(O===1&&T===1&&!a)return K.reverse(),void(ae&&ae.reverse());for(var Ae,ve,H,he,xe=K.length,X=0;X<xe;){if(ce[X]>=O){for(H=X+1;H<xe&&ce[H]>=O;)H++;for(he=X,ve=H-1;he<ve;he++,ve--)Ae=K[he],K[he]=K[ve],K[ve]=Ae,ae&&(Ae=ae[he],ae[he]=ae[ve],ae[ve]=Ae);X=H}X++}}},de=function(O,K,ae){var ce=O.split(""),we={hiLevel:T};return ae||(ae=[]),Q(ce,ae,we),function(Ae,ve,H){if(H.hiLevel!==0&&x)for(var he,xe=0;xe<Ae.length;xe++)ve[xe]===1&&(he=L.indexOf(Ae[xe]))>=0&&(Ae[xe]=L[he+1])}(ce,ae,we),J(2,ce,K,ae,we),J(1,ce,K,ae,we),ce.join("")};return this.__bidiEngine__.doBidiReorder=function(O,K,ae){if(function(we,Ae){if(Ae)for(var ve=0;ve<we.length;ve++)Ae[ve]=ve;u===void 0&&(u=z(we)),f===void 0&&(f=z(we))}(O,K),c||!h||f)if(c&&h&&u^f)T=u?1:0,O=se(O,K,ae);else if(!c&&h&&f)T=u?1:0,O=de(O,K,ae),O=se(O,K);else if(!c||u||h||f){if(c&&!h&&u^f)O=se(O,K),u?(T=0,O=de(O,K,ae)):(T=1,O=de(O,K,ae),O=se(O,K));else if(c&&u&&!h&&f)T=1,O=de(O,K,ae),O=se(O,K);else if(!c&&!h&&u^f){var ce=x;u?(T=1,O=de(O,K,ae),T=0,x=!1,O=de(O,K,ae),x=ce):(T=0,O=de(O,K,ae),O=se(O,K),T=1,x=!1,O=de(O,K,ae),x=ce,O=se(O,K))}}else T=0,O=de(O,K,ae);else T=u?1:0,O=de(O,K,ae);return O},this.__bidiEngine__.setOptions=function(O){O&&(c=O.isInputVisual,h=O.isOutputVisual,u=O.isInputRtl,f=O.isOutputRtl,x=O.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var o=n.options||{};n.mutex,o.lang;var c=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,r.setOptions(o),Object.prototype.toString.call(a)==="[object Array]"){var u=0;for(c=[],u=0;u<a.length;u+=1)Object.prototype.toString.call(a[u])==="[object Array]"?c.push([r.doBidiReorder(a[u][0]),a[u][1],a[u][2]]):c.push([r.doBidiReorder(a[u])]);n.text=c}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Ct),Ct.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new qc(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new RN(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new vN(this.contents),this.head=new wN(this),this.name=new kN(this),this.cmap=new jv(this),this.toUnicode={},this.hhea=new _N(this),this.maxp=new CN(this),this.hmtx=new AN(this),this.post=new SN(this),this.os2=new jN(this),this.loca=new TN(this),this.glyf=new EN(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var c,u,h,f;for(f=[],c=0,u=(h=this.bbox).length;c<u;c++)e=h[c],f.push(Math.round(e*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,o,c,u;for(c=0,o=0,u=(e=""+e).length;0<=u?o<u:o>u;o=0<=u?++o:--o)a=e.charCodeAt(o),c+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return c*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var al,qc=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,o,c,u,h;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),u=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^o)+65536*(255^c)+256*(255^u)+(255^h)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*o+65536*c+256*u+h},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,o;for(o=[],n=0,a=e.length;n<a;n++)r=e[n],o.push(this.writeByte(r));return o},t}(),vN=function(){var t;function e(r){var n,a,o;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,o=this.tableCount;0<=o?a<o:a>o;a=0<=o?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,o,c,u,h,f,x,m,j,y,C,k;for(k in y=Object.keys(r).length,h=Math.log(2),m=16*Math.floor(Math.log(y)/h),c=Math.floor(m/h),x=16*y-m,(a=new qc).writeInt(this.scalarType),a.writeShort(y),a.writeShort(m),a.writeShort(c),a.writeShort(x),o=16*y,f=a.pos+o,u=null,C=[],r)for(j=r[k],a.writeString(k),a.writeInt(t(j)),a.writeInt(f),a.writeInt(j.length),C=C.concat(j),k==="head"&&(u=f),f+=j.length;f%4;)C.push(0),f++;return a.write(C),n=2981146554-t(a.data),a.pos=u+8,a.writeUInt32(n),a.data},t=function(r){var n,a,o,c;for(r=Sv.call(r);r.length%4;)r.push(0);for(o=new qc(r),a=0,n=0,c=r.length;n<c;n=n+=4)a+=o.readUInt32();return 4294967295&a},e}(),yN={}.hasOwnProperty,Ol=function(t,e){for(var r in e)yN.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};al=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var wN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,al),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new qc).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t}(),_1=function(){function t(e,r){var n,a,o,c,u,h,f,x,m,j,y,C,k,L,E,B,T;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(y=e.readUInt16(),j=y/2,e.pos+=6,o=function(){var D,z;for(z=[],h=D=0;0<=j?D<j:D>j;h=0<=j?++D:--D)z.push(e.readUInt16());return z}(),e.pos+=2,k=function(){var D,z;for(z=[],h=D=0;0<=j?D<j:D>j;h=0<=j?++D:--D)z.push(e.readUInt16());return z}(),f=function(){var D,z;for(z=[],h=D=0;0<=j?D<j:D>j;h=0<=j?++D:--D)z.push(e.readUInt16());return z}(),x=function(){var D,z;for(z=[],h=D=0;0<=j?D<j:D>j;h=0<=j?++D:--D)z.push(e.readUInt16());return z}(),a=(this.length-e.pos+this.offset)/2,u=function(){var D,z;for(z=[],h=D=0;0<=a?D<a:D>a;h=0<=a?++D:--D)z.push(e.readUInt16());return z}(),h=E=0,T=o.length;E<T;h=++E)for(L=o[h],n=B=C=k[h];C<=L?B<=L:B>=L;n=C<=L?++B:--B)x[h]===0?c=n+f[h]:(c=u[x[h]/2+(n-C)-(j-h)]||0)!==0&&(c+=f[h]),this.codeMap[n]=65535&c}e.pos=m}return t.encode=function(e,r){var n,a,o,c,u,h,f,x,m,j,y,C,k,L,E,B,T,D,z,ie,se,Q,J,de,O,K,ae,ce,we,Ae,ve,H,he,xe,X,P,Y,W,ne,le,me,Se,Ee,Fe,We,et;switch(ce=new qc,c=Object.keys(e).sort(function(tt,vt){return tt-vt}),r){case"macroman":for(k=0,L=function(){var tt=[];for(C=0;C<256;++C)tt.push(0);return tt}(),B={0:0},o={},we=0,he=c.length;we<he;we++)B[Ee=e[a=c[we]]]==null&&(B[Ee]=++k),o[a]={old:e[a],new:B[e[a]]},L[a]=B[e[a]];return ce.writeUInt16(1),ce.writeUInt16(0),ce.writeUInt32(12),ce.writeUInt16(0),ce.writeUInt16(262),ce.writeUInt16(0),ce.write(L),{charMap:o,subtable:ce.data,maxGlyphID:k+1};case"unicode":for(K=[],m=[],T=0,B={},n={},E=f=null,Ae=0,xe=c.length;Ae<xe;Ae++)B[z=e[a=c[Ae]]]==null&&(B[z]=++T),n[a]={old:z,new:B[z]},u=B[z]-a,E!=null&&u===f||(E&&m.push(E),K.push(a),f=u),E=a;for(E&&m.push(E),m.push(65535),K.push(65535),de=2*(J=K.length),Q=2*Math.pow(Math.log(J)/Math.LN2,2),j=Math.log(Q/2)/Math.LN2,se=2*J-Q,h=[],ie=[],y=[],C=ve=0,X=K.length;ve<X;C=++ve){if(O=K[C],x=m[C],O===65535){h.push(0),ie.push(0);break}if(O-(ae=n[O].new)>=32768)for(h.push(0),ie.push(2*(y.length+J-C)),a=H=O;O<=x?H<=x:H>=x;a=O<=x?++H:--H)y.push(n[a].new);else h.push(ae-O),ie.push(0)}for(ce.writeUInt16(3),ce.writeUInt16(1),ce.writeUInt32(12),ce.writeUInt16(4),ce.writeUInt16(16+8*J+2*y.length),ce.writeUInt16(0),ce.writeUInt16(de),ce.writeUInt16(Q),ce.writeUInt16(j),ce.writeUInt16(se),me=0,P=m.length;me<P;me++)a=m[me],ce.writeUInt16(a);for(ce.writeUInt16(0),Se=0,Y=K.length;Se<Y;Se++)a=K[Se],ce.writeUInt16(a);for(Fe=0,W=h.length;Fe<W;Fe++)u=h[Fe],ce.writeUInt16(u);for(We=0,ne=ie.length;We<ne;We++)D=ie[We],ce.writeUInt16(D);for(et=0,le=y.length;et<le;et++)k=y[et],ce.writeUInt16(k);return{charMap:n,subtable:ce.data,maxGlyphID:T+1}}},t}(),jv=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,al),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new _1(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,a;return r==null&&(r="macroman"),n=_1.encode(e,r),(a=new qc).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t}(),_N=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,al),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t}(),jN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,al),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t}(),SN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,al),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var o;for(n=e.readUInt16(),this.glyphNameIndex=[],o=0;0<=n?o<n:o>n;o=0<=n?++o:--o)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var c,u,h;for(h=[],o=c=0,u=this.file.maxp.numGlyphs;0<=u?c<u:c>u;o=0<=u?++c:--c)h.push(e.readUInt32());return h}).call(this)}},t}(),NN=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},kN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,al),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,a,o,c,u,h,f,x,m,j;for(e.pos=this.offset,e.readShort(),r=e.readShort(),u=e.readShort(),n=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+u+e.readShort()});for(h={},o=x=0,m=n.length;x<m;o=++x)a=n[o],e.pos=a.offset,f=e.readString(a.length),c=new NN(f,a),h[j=a.nameID]==null&&(h[j]=[]),h[a.nameID].push(c);this.strings=h,this.copyright=h[0],this.fontFamily=h[1],this.fontSubfamily=h[2],this.uniqueSubfamily=h[3],this.fontName=h[4],this.version=h[5];try{this.postscriptName=h[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=h[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=h[7],this.manufacturer=h[8],this.designer=h[9],this.description=h[10],this.vendorUrl=h[11],this.designerUrl=h[12],this.license=h[13],this.licenseUrl=h[14],this.preferredFamily=h[15],this.preferredSubfamily=h[17],this.compatibleFull=h[18],this.sampleText=h[19]},t}(),CN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,al),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t}(),AN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,al),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,a,o,c,u,h;for(e.pos=this.offset,this.metrics=[],r=0,u=this.file.hhea.numberOfMetrics;0<=u?r<u:r>u;r=0<=u?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,x;for(x=[],r=f=0;0<=a?f<a:f>a;r=0<=a?++f:--f)x.push(e.readInt16());return x}(),this.widths=(function(){var f,x,m,j;for(j=[],f=0,x=(m=this.metrics).length;f<x;f++)o=m[f],j.push(o.advance);return j}).call(this),n=this.widths[this.widths.length-1],h=[],r=c=0;0<=a?c<a:c>a;r=0<=a?++c:--c)h.push(this.widths.push(n));return h},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t}(),Sv=[].slice,EN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,al),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,a,o,c,u,h,f,x,m;return e in this.cache?this.cache[e]:(o=this.file.loca,r=this.file.contents,n=o.indexOf(e),(a=o.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,c=(u=new qc(r.read(a))).readShort(),f=u.readShort(),m=u.readShort(),h=u.readShort(),x=u.readShort(),this.cache[e]=c===-1?new PN(u,f,m,h,x):new LN(u,c,f,m,h,x),this.cache[e]))},t.prototype.encode=function(e,r,n){var a,o,c,u,h;for(c=[],o=[],u=0,h=r.length;u<h;u++)a=e[r[u]],o.push(c.length),a&&(c=c.concat(a.encode(n)));return o.push(c.length),{table:c,offsets:o}},t}(),LN=function(){function t(e,r,n,a,o,c){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=o,this.yMax=c,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),PN=function(){function t(e,r,n,a,o){var c,u;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],c=this.raw;u=c.readShort(),this.glyphOffsets.push(c.pos),this.glyphIDs.push(c.readUInt16()),32&u;)c.pos+=1&u?4:2,128&u?c.pos+=8:64&u?c.pos+=4:8&u&&(c.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new qc(Sv.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),TN=function(){function t(){return t.__super__.constructor.apply(this,arguments)}return Ol(t,al),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,o;for(o=[],n=0,a=this.length;n<a;n+=2)o.push(2*e.readUInt16());return o}).call(this):(function(){var a,o;for(o=[],n=0,a=this.length;n<a;n+=4)o.push(e.readUInt32());return o}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),a=0,o=0,c=0;c<n.length;++c)if(n[c]=a,o<r.length&&r[o]==c){++o,n[c]=a;var u=this.offsets[c],h=this.offsets[c+1]-u;h>0&&(a+=h)}for(var f=new Array(4*n.length),x=0;x<n.length;++x)f[4*x+3]=255&n[x],f[4*x+2]=(65280&n[x])>>8,f[4*x+1]=(16711680&n[x])>>16,f[4*x]=(4278190080&n[x])>>24;return f},t}(),RN=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,o;for(r in a=this.font.cmap.tables[0].codeMap,e={},o=this.subset)n=o[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,o,c,u,h;for(a={},c=0,u=e.length;c<u;c++)a[o=e[c]]=this.font.glyf.glyphFor(o);for(o in r=[],a)(n=a[o])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(o in h=this.glyphsFor(r))n=h[o],a[o]=n;return a},t.prototype.encode=function(e,r){var n,a,o,c,u,h,f,x,m,j,y,C,k,L,E;for(a in n=jv.encode(this.generateCmap(),"unicode"),c=this.glyphsFor(e),y={0:0},E=n.charMap)y[(h=E[a]).old]=h.new;for(C in j=n.maxGlyphID,c)C in y||(y[C]=j++);return x=function(B){var T,D;for(T in D={},B)D[B[T]]=T;return D}(y),m=Object.keys(x).sort(function(B,T){return B-T}),k=function(){var B,T,D;for(D=[],B=0,T=m.length;B<T;B++)u=m[B],D.push(x[u]);return D}(),o=this.font.glyf.encode(c,k,y),f=this.font.loca.encode(o.offsets,k),L={cmap:this.font.cmap.raw(),glyf:o.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(L["OS/2"]=this.font.os2.raw()),this.font.directory.encode(L)},t}();Ct.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,o,c;if(Array.isArray(r))return"["+function(){var u,h,f;for(f=[],u=0,h=r.length;u<h;u++)n=r[u],f.push(e.convert(n));return f}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in o=["<<"],r)c=r[a],o.push("/"+a+" "+e.convert(c));return o.push(">>"),o.join(`
`)}return""+r},e}();function Nv(t,e,r,n,a){n=n||{};var o=1.15,c=a.internal.scaleFactor,u=a.internal.getFontSize()/c,h=a.getLineHeightFactor?a.getLineHeightFactor():o,f=u*h,x=/\r\n|\r|\n/g,m="",j=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(m=typeof t=="string"?t.split(x):t,j=m.length||1),r+=u*(2-o),n.valign==="middle"?r-=j/2*f:n.valign==="bottom"&&(r-=j*f),n.halign==="center"||n.halign==="right"){var y=u;if(n.halign==="center"&&(y*=.5),m&&j>=1){for(var C=0;C<m.length;C++)a.text(m[C],e-a.getStringUnitWidth(m[C])*y,r),r+=f;return a}e-=a.getStringUnitWidth(t)*y}return n.halign==="justify"?a.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var j1={},ld=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:j1=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,a,o;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var c=this.jsPDFDocument.internal.getFont(),u=c.fontStyle,h=c.fontName;if(e.font&&(h=e.font),e.fontStyle){u=e.fontStyle;var f=this.getFontList()[h];f&&f.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(f[0]),u=f[0])}if(this.jsPDFDocument.setFont(h,u),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var x=t.unifyColor(e.fillColor);x&&(n=this.jsPDFDocument).setFillColor.apply(n,x),x=t.unifyColor(e.textColor),x&&(a=this.jsPDFDocument).setTextColor.apply(a,x),x=t.unifyColor(e.lineColor),x&&(o=this.jsPDFDocument).setDrawColor.apply(o,x),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,a,o){return this.jsPDFDocument.rect(e,r,n,a,o)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return j1||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),H0=function(t,e){return H0=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},H0(t,e)};function kv(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");H0(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Cv=function(t){kv(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function IN(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function ON(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function _f(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],a=n.map(function(o){return r.getTextWidth(o)}).reduce(function(o,c){return Math.max(o,c)},0);return a}function Av(t,e,r,n){var a=e.settings.tableLineWidth,o=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:o});var c=Ev(a,!1);c&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,c)}function Ev(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function If(t,e){var r,n,a,o;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(o=t.bottom)!==null&&o!==void 0?o:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function Lv(t,e){var r=If(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function DN(t,e,r,n,a){var o={},c=1.3333333333333333,u=i0(e,function(T){return a.getComputedStyle(T).backgroundColor});u!=null&&(o.fillColor=u);var h=i0(e,function(T){return a.getComputedStyle(T).color});h!=null&&(o.textColor=h);var f=BN(n,r);f&&(o.cellPadding=f);var x="borderTopColor",m=c*r,j=n.borderTopWidth;if(n.borderBottomWidth===j&&n.borderRightWidth===j&&n.borderLeftWidth===j){var y=(parseFloat(j)||0)/m;y&&(o.lineWidth=y)}else o.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/m,right:(parseFloat(n.borderRightWidth)||0)/m,bottom:(parseFloat(n.borderBottomWidth)||0)/m,left:(parseFloat(n.borderLeftWidth)||0)/m},o.lineWidth.top||(o.lineWidth.right?x="borderRightColor":o.lineWidth.bottom?x="borderBottomColor":o.lineWidth.left&&(x="borderLeftColor"));var C=i0(e,function(T){return a.getComputedStyle(T)[x]});C!=null&&(o.lineColor=C);var k=["left","right","center","justify"];k.indexOf(n.textAlign)!==-1&&(o.halign=n.textAlign),k=["middle","bottom","top"],k.indexOf(n.verticalAlign)!==-1&&(o.valign=n.verticalAlign);var L=parseInt(n.fontSize||"");isNaN(L)||(o.fontSize=L/c);var E=FN(n);E&&(o.fontStyle=E);var B=(n.fontFamily||"").toLowerCase();return t.indexOf(B)!==-1&&(o.font=B),o}function FN(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function i0(t,e){var r=Pv(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],o=parseInt(n[4]);return o===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function Pv(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:Pv(t.parentElement,e):r}function BN(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,o=r.map(function(u){return parseInt(u||"0")/n}),c=If(o,0);return a>c.top&&(c.top=a),a>c.bottom&&(c.bottom=a),c}function Tv(t,e,r,n,a){var o,c;n===void 0&&(n=!1),a===void 0&&(a=!1);var u;typeof e=="string"?u=r.document.querySelector(e):u=e;var h=Object.keys(t.getFontList()),f=t.scaleFactor(),x=[],m=[],j=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:x,body:m,foot:j};for(var y=0;y<u.rows.length;y++){var C=u.rows[y],k=(c=(o=C==null?void 0:C.parentElement)===null||o===void 0?void 0:o.tagName)===null||c===void 0?void 0:c.toLowerCase(),L=$N(h,f,r,C,n,a);L&&(k==="thead"?x.push(L):k==="tfoot"?j.push(L):m.push(L))}return{head:x,body:m,foot:j}}function $N(t,e,r,n,a,o){for(var c=new Cv(n),u=0;u<n.cells.length;u++){var h=n.cells[u],f=r.getComputedStyle(h);if(a||f.display!=="none"){var x=void 0;o&&(x=DN(t,h,e,f,r)),c.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:x,_element:h,content:MN(h)})}}var m=r.getComputedStyle(n);if(c.length>0&&(a||m.display!=="none"))return c}function MN(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function qN(t,e,r){for(var n=0,a=[t,e,r];n<a.length;n++){var o=a[n];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function tc(t,e,r,n,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(t),c=1;c<arguments.length;c++){var u=arguments[c];if(u!=null)for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(o[h]=u[h])}return o}function Rv(t,e){var r=new ld(t),n=r.getDocumentOptions(),a=r.getGlobalOptions();qN(a,n,e);var o=tc({},a,n,e),c;typeof window<"u"&&(c=window);var u=UN(a,n,e),h=zN(a,n,e),f=HN(r,o),x=VN(r,o,c);return{id:e.tableId,content:x,hooks:h,styles:u,settings:f}}function UN(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(h){if(h==="columnStyles"){var f=t[h],x=e[h],m=r[h];n.columnStyles=tc({},f,x,m)}else{var j=[t,e,r],y=j.map(function(C){return C[h]||{}});n[h]=tc({},y[0],y[1],y[2])}},o=0,c=Object.keys(n);o<c.length;o++){var u=c[o];a(u)}return n}function zN(t,e,r){for(var n=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,c=n;o<c.length;o++){var u=c[o];u.didParseCell&&a.didParseCell.push(u.didParseCell),u.willDrawCell&&a.willDrawCell.push(u.willDrawCell),u.didDrawCell&&a.didDrawCell.push(u.didDrawCell),u.willDrawPage&&a.willDrawPage.push(u.willDrawPage),u.didDrawPage&&a.didDrawPage.push(u.didDrawPage)}return a}function HN(t,e){var r,n,a,o,c,u,h,f,x,m,j,y,C=If(e.margin,40/t.scaleFactor()),k=(r=WN(t,e.startY))!==null&&r!==void 0?r:C.top,L;e.showFoot===!0?L="everyPage":e.showFoot===!1?L="never":L=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var E;e.showHead===!0?E="everyPage":e.showHead===!1?E="never":E=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var B=(o=e.useCss)!==null&&o!==void 0?o:!1,T=e.theme||(B?"plain":"striped"),D=!!e.horizontalPageBreak,z=(c=e.horizontalPageBreakRepeat)!==null&&c!==void 0?c:null;return{includeHiddenHtml:(u=e.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:B,theme:T,startY:k,margin:C,pageBreak:(h=e.pageBreak)!==null&&h!==void 0?h:"auto",rowPageBreak:(f=e.rowPageBreak)!==null&&f!==void 0?f:"auto",tableWidth:(x=e.tableWidth)!==null&&x!==void 0?x:"auto",showHead:E,showFoot:L,tableLineWidth:(m=e.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(j=e.tableLineColor)!==null&&j!==void 0?j:200,horizontalPageBreak:D,horizontalPageBreakRepeat:z,horizontalPageBreakBehaviour:(y=e.horizontalPageBreakBehaviour)!==null&&y!==void 0?y:"afterAllRows"}}function WN(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),a=t.pageNumber(),o=!1;if(r&&r.startPageNumber){var c=r.startPageNumber+r.pageNumber-1;o=c===a}return typeof e=="number"?e:(e==null||e===!1)&&o&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function VN(t,e,r){var n=e.head||[],a=e.body||[],o=e.foot||[];if(e.html){var c=e.includeHiddenHtml;if(r){var u=Tv(t,e.html,r,c,e.useCss)||{};n=u.head||n,a=u.body||n,o=u.foot||n}else console.error("Cannot parse html in non browser environment")}var h=e.columns||GN(n,a,o);return{columns:h,head:n,body:a,foot:o}}function GN(t,e,r){var n=t[0]||e[0]||r[0]||[],a=[];return Object.keys(n).filter(function(o){return o!=="_element"}).forEach(function(o){var c=1,u;Array.isArray(n)?u=n[parseInt(o)]:u=n[o],typeof u=="object"&&!Array.isArray(u)&&(c=(u==null?void 0:u.colSpan)||1);for(var h=0;h<c;h++){var f=void 0;Array.isArray(n)?f=a.length:f=o+(h>0?"_".concat(h):"");var x={dataKey:f};a.push(x)}}),a}var W0=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),KN=function(t){kv(e,t);function e(r,n,a,o,c,u){var h=t.call(this,r,n,u)||this;return h.cell=a,h.row=o,h.column=c,h.section=o.section,h}return e}(W0),JN=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,a,o,c){for(var u=0,h=r;u<h.length;u++){var f=h[u],x=new KN(e,this,n,a,o,c),m=f(x)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],m)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var o=a[n];o(new W0(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var o=a[n];o(new W0(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,o){return a+o.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),Iv=function(){function t(e,r,n,a,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof Cv&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=o}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,a){var o;return Math.max(n,((o=r.cells[a.index])===null||o===void 0?void 0:o.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(a,o){var c=n.cells[o.index];if(!c)return 0;var u=r.getLineHeight(c.styles.fontSize),h=c.padding("vertical"),f=h+u;return f>a?f:a},0)},t}(),Ov=function(){function t(e,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var c=o!=null?""+o:"",u=/\r\n|\r|\n/g;this.text=c.split(u)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,o=n*a+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=If(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),YN=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,a=e.allRows();n<a.length;n++){var o=a[n],c=o.cells[this.index];c&&typeof c.styles.cellWidth=="number"&&(r=Math.max(r,c.styles.cellWidth))}return r},t}();function XN(t,e){ZN(t,e);var r=[],n=0;e.columns.forEach(function(o){var c=o.getMaxCustomCellWidth(e);c?o.width=c:(o.width=o.wrappedWidth,r.push(o)),n+=o.width});var a=e.getWidth(t.pageSize().width)-n;a&&(a=V0(r,a,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),a&&(a=V0(r,a,function(o){return o.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.log("Of the table content, ".concat(a," units width could not fit page"))),ek(e),tk(e,t),QN(e)}function ZN(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,a=Lv(t,e);e.allRows().forEach(function(o){for(var c=0,u=e.columns;c<u.length;c++){var h=u[c],f=o.cells[h.index];if(f){var x=e.hooks.didParseCell;e.callCellHooks(t,x,f,o,h,null);var m=f.padding("horizontal");f.contentWidth=_f(f.text,f.styles,t)+m;var j=_f(f.text.join(" ").split(/[^\S\u00A0]+/),f.styles,t);if(f.minReadableWidth=j+f.padding("horizontal"),typeof f.styles.cellWidth=="number")f.minWidth=f.styles.cellWidth,f.wrappedWidth=f.styles.cellWidth;else if(f.styles.cellWidth==="wrap"||n===!0)f.contentWidth>a?(f.minWidth=a,f.wrappedWidth=a):(f.minWidth=f.contentWidth,f.wrappedWidth=f.contentWidth);else{var y=10/r;f.minWidth=f.styles.minCellWidth||y,f.wrappedWidth=f.contentWidth,f.minWidth>f.wrappedWidth&&(f.wrappedWidth=f.minWidth)}}}}),e.allRows().forEach(function(o){for(var c=0,u=e.columns;c<u.length;c++){var h=u[c],f=o.cells[h.index];if(f&&f.colSpan===1)h.wrappedWidth=Math.max(h.wrappedWidth,f.wrappedWidth),h.minWidth=Math.max(h.minWidth,f.minWidth),h.minReadableWidth=Math.max(h.minReadableWidth,f.minReadableWidth);else{var x=e.styles.columnStyles[h.dataKey]||e.styles.columnStyles[h.index]||{},m=x.cellWidth||x.minCellWidth;m&&typeof m=="number"&&(h.minWidth=m,h.wrappedWidth=m)}f&&(f.colSpan>1&&!h.minWidth&&(h.minWidth=f.minWidth),f.colSpan>1&&!h.wrappedWidth&&(h.wrappedWidth=f.minWidth))}})}function V0(t,e,r){for(var n=e,a=t.reduce(function(y,C){return y+C.wrappedWidth},0),o=0;o<t.length;o++){var c=t[o],u=c.wrappedWidth/a,h=n*u,f=c.width+h,x=r(c),m=f<x?x:f;e-=m-c.width,c.width=m}if(e=Math.round(e*1e10)/1e10,e){var j=t.filter(function(y){return e<0?y.width>r(y):!0});j.length&&(e=V0(j,e,r))}return e}function QN(t){for(var e={},r=1,n=t.allRows(),a=0;a<n.length;a++)for(var o=n[a],c=0,u=t.columns;c<u.length;c++){var h=u[c],f=e[h.index];if(r>1)r--,delete o.cells[h.index];else if(f)f.cell.height+=o.height,r=f.cell.colSpan,delete o.cells[h.index],f.left--,f.left<=1&&delete e[h.index];else{var x=o.cells[h.index];if(!x)continue;if(x.height=o.height,x.rowSpan>1){var m=n.length-a,j=x.rowSpan>m?m:x.rowSpan;e[h.index]={cell:x,left:j,row:o}}}}}function ek(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],a=null,o=0,c=0,u=0;u<t.columns.length;u++){var h=t.columns[u];if(c-=1,c>1&&t.columns[u+1])o+=h.width,delete n.cells[h.index];else if(a){var f=a;delete n.cells[h.index],a=null,f.width=h.width+o}else{var f=n.cells[h.index];if(!f)continue;if(c=f.colSpan,o=0,f.colSpan>1){a=f,o+=h.width;continue}f.width=h.width+o}}}function tk(t,e){for(var r={count:0,height:0},n=0,a=t.allRows();n<a.length;n++){for(var o=a[n],c=0,u=t.columns;c<u.length;c++){var h=u[c],f=o.cells[h.index];if(f){e.applyStyles(f.styles,!0);var x=f.width-f.padding("horizontal");if(f.styles.overflow==="linebreak")f.text=e.splitTextToSize(f.text,x+1/e.scaleFactor(),{fontSize:f.styles.fontSize});else if(f.styles.overflow==="ellipsize")f.text=S1(f.text,x,f.styles,e,"...");else if(f.styles.overflow==="hidden")f.text=S1(f.text,x,f.styles,e,"");else if(typeof f.styles.overflow=="function"){var m=f.styles.overflow(f.text,x);typeof m=="string"?f.text=[m]:f.text=m}f.contentHeight=f.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var j=f.contentHeight/f.rowSpan;f.rowSpan>1&&r.count*r.height<j*f.rowSpan?r={height:j,count:f.rowSpan}:r&&r.count>0&&r.height>j&&(j=r.height),j>o.height&&(o.height=j)}}r.count--}}function S1(t,e,r,n,a){return t.map(function(o){return rk(o,e,r,n,a)})}function rk(t,e,r,n,a){var o=1e4*n.scaleFactor();if(e=Math.ceil(e*o)/o,e>=_f(t,r,n))return t;for(;e<_f(t+a,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function Dv(t,e){var r=new ld(t),n=nk(e,r.scaleFactor()),a=new JN(e,n);return XN(r,a),r.applyStyles(r.userStyles),a}function nk(t,e){var r=t.content,n=ak(r.columns);if(r.head.length===0){var a=N1(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=N1(n,"foot");a&&r.foot.push(a)}var o=t.settings.theme,c=t.styles;return{columns:n,head:a0("head",r.head,n,c,o,e),body:a0("body",r.body,n,c,o,e),foot:a0("foot",r.foot,n,c,o,e)}}function a0(t,e,r,n,a,o){var c={},u=e.map(function(h,f){for(var x=0,m={},j=0,y=0,C=0,k=r;C<k.length;C++){var L=k[C];if(c[L.index]==null||c[L.index].left===0)if(y===0){var E=void 0;Array.isArray(h)?E=h[L.index-j-x]:E=h[L.dataKey];var B={};typeof E=="object"&&!Array.isArray(E)&&(B=(E==null?void 0:E.styles)||{});var T=sk(t,L,f,a,n,o,B),D=new Ov(E,T,t);m[L.dataKey]=D,m[L.index]=D,y=D.colSpan-1,c[L.index]={left:D.rowSpan-1,times:y}}else y--,j++;else c[L.index].left--,y=c[L.index].times,x++}return new Iv(h,f,t,m)});return u}function N1(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var a=ik(e,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function ik(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function ak(t){return t.map(function(e,r){var n,a;return typeof e=="object"?a=(n=e.dataKey)!==null&&n!==void 0?n:r:a=r,new YN(a,e,r)})}function sk(t,e,r,n,a,o,c){var u=ON(n),h;t==="head"?h=a.headStyles:t==="body"?h=a.bodyStyles:t==="foot"&&(h=a.footStyles);var f=tc({},u.table,u[t],a.styles,h),x=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},m=t==="body"?x:{},j=t==="body"&&r%2===0?tc({},u.alternateRow,a.alternateRowStyles):{},y=IN(o),C=tc({},y,f,j,m);return tc(C,c)}function ok(t,e,r){var n;r===void 0&&(r={});var a=Lv(t,e),o=new Map,c=[],u=[],h=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?h=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(h=[e.settings.horizontalPageBreakRepeat]),h.forEach(function(j){var y=e.columns.find(function(C){return C.dataKey===j||C.index===j});y&&!o.has(y.index)&&(o.set(y.index,!0),c.push(y.index),u.push(e.columns[y.index]),a-=y.wrappedWidth)});for(var f=!0,x=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;x<e.columns.length;){if(o.has(x)){x++;continue}var m=e.columns[x].wrappedWidth;if(f||a>=m)f=!1,c.push(x),u.push(e.columns[x]),a-=m;else break;x++}return{colIndexes:c,columns:u,lastIndex:x-1}}function lk(t,e){for(var r=[],n=0;n<e.columns.length;n++){var a=ok(t,e,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function Fv(t,e){var r=e.settings,n=r.startY,a=r.margin,o={x:a.left,y:n},c=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=n+a.bottom+c;if(r.pageBreak==="avoid"){var h=e.body,f=h.reduce(function(j,y){return j+y.height},0);u+=f}var x=new ld(t);(r.pageBreak==="always"||r.startY!=null&&u>x.pageSize().height)&&($v(x),o.y=a.top),e.callWillDrawPageHooks(x,o);var m=tc({},o);e.startPageNumber=x.pageNumber(),r.horizontalPageBreak?ck(x,e,m,o):(x.applyStyles(x.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(j){return nc(x,e,j,o,e.columns)}),x.applyStyles(x.userStyles),e.body.forEach(function(j,y){var C=y===e.body.length-1;jf(x,e,j,C,m,o,e.columns)}),x.applyStyles(x.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(j){return nc(x,e,j,o,e.columns)})),Av(x,e,m,o),e.callEndPageHooks(x,o),e.finalY=o.y,t.lastAutoTable=e,x.applyStyles(x.userStyles)}function ck(t,e,r,n){var a=lk(t,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(f,x){t.applyStyles(t.userStyles),x>0?Hd(t,e,r,n,f.columns,!0):k1(t,e,n,f.columns),uk(t,e,r,n,f.columns),s0(t,e,n,f.columns)});else for(var c=-1,u=a[0],h=function(){var f=c;if(u){t.applyStyles(t.userStyles);var x=u.columns;c>=0?Hd(t,e,r,n,x,!0):k1(t,e,n,x),f=C1(t,e,c+1,n,x),s0(t,e,n,x)}var m=f-c;a.slice(1).forEach(function(j){t.applyStyles(t.userStyles),Hd(t,e,r,n,j.columns,!0),C1(t,e,c+1,n,j.columns,m),s0(t,e,n,j.columns)}),c=f};c<e.body.length-1;)h()}function k1(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(o){return nc(t,e,o,r,n)})}function uk(t,e,r,n,a){t.applyStyles(t.userStyles),e.body.forEach(function(o,c){var u=c===e.body.length-1;jf(t,e,o,u,r,n,a)})}function C1(t,e,r,n,a,o){t.applyStyles(t.userStyles),o=o??e.body.length;var c=Math.min(r+o,e.body.length),u=-1;return e.body.slice(r,c).forEach(function(h,f){var x=r+f===e.body.length-1,m=Bv(t,e,x,n);h.canEntireRowFit(m,a)&&(nc(t,e,h,n,a),u=r+f)}),u}function s0(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(o){return nc(t,e,o,r,n)})}function dk(t,e,r){var n=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),o=Math.floor((e-a)/n);return Math.max(0,o)}function hk(t,e,r,n){var a={};t.spansMultiplePages=!0,t.height=0;for(var o=0,c=0,u=r.columns;c<u.length;c++){var h=u[c],f=t.cells[h.index];if(f){Array.isArray(f.text)||(f.text=[f.text]);var x=new Ov(f.raw,f.styles,f.section);x=tc(x,f),x.text=[];var m=dk(f,e,n);f.text.length>m&&(x.text=f.text.splice(m,f.text.length));var j=n.scaleFactor(),y=n.getLineHeightFactor();f.contentHeight=f.getContentHeight(j,y),f.contentHeight>=e&&(f.contentHeight=e,x.styles.minCellHeight-=e),f.contentHeight>t.height&&(t.height=f.contentHeight),x.contentHeight=x.getContentHeight(j,y),x.contentHeight>o&&(o=x.contentHeight),a[h.index]=x}}var C=new Iv(t.raw,-1,t.section,a,!0);C.height=o;for(var k=0,L=r.columns;k<L.length;k++){var h=L[k],x=C.cells[h.index];x&&(x.height=C.height);var f=t.cells[h.index];f&&(f.height=t.height)}return C}function fk(t,e,r,n){var a=t.pageSize().height,o=n.settings.margin,c=o.top+o.bottom,u=a-c;e.section==="body"&&(u-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var h=e.getMinimumRowHeight(n.columns,t),f=h<r;if(h>u)return console.log("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!f)return!1;var x=e.hasRowSpan(n.columns),m=e.getMaxCellHeight(n.columns)>u;return m?(x&&console.log("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(x||n.settings.rowPageBreak==="avoid")}function jf(t,e,r,n,a,o,c){var u=Bv(t,e,n,o);if(r.canEntireRowFit(u,c))nc(t,e,r,o,c);else if(fk(t,r,u,e)){var h=hk(r,u,e,t);nc(t,e,r,o,c),Hd(t,e,a,o,c),jf(t,e,h,n,a,o,c)}else Hd(t,e,a,o,c),jf(t,e,r,n,a,o,c)}function nc(t,e,r,n,a){n.x=e.settings.margin.left;for(var o=0,c=a;o<c.length;o++){var u=c[o],h=r.cells[u.index];if(!h){n.x+=u.width;continue}t.applyStyles(h.styles),h.x=n.x,h.y=n.y;var f=e.callCellHooks(t,e.hooks.willDrawCell,h,r,u,n);if(f===!1){n.x+=u.width;continue}pk(t,h,n);var x=h.getTextPos();Nv(h.text,x.x,x.y,{halign:h.styles.halign,valign:h.styles.valign,maxWidth:Math.ceil(h.width-h.padding("left")-h.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,h,r,u,n),n.x+=u.width}n.y+=r.height}function pk(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=Ev(n.lineWidth,n.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),mk(t,e,r,n.lineWidth))}function mk(t,e,r,n){var a,o,c,u;n.top&&(a=r.x,o=r.y,c=r.x+e.width,u=r.y,n.right&&(c+=.5*n.right),n.left&&(a-=.5*n.left),h(n.top,a,o,c,u)),n.bottom&&(a=r.x,o=r.y+e.height,c=r.x+e.width,u=r.y+e.height,n.right&&(c+=.5*n.right),n.left&&(a-=.5*n.left),h(n.bottom,a,o,c,u)),n.left&&(a=r.x,o=r.y,c=r.x,u=r.y+e.height,n.top&&(o-=.5*n.top),n.bottom&&(u+=.5*n.bottom),h(n.left,a,o,c,u)),n.right&&(a=r.x+e.width,o=r.y,c=r.x+e.width,u=r.y+e.height,n.top&&(o-=.5*n.top),n.bottom&&(u+=.5*n.bottom),h(n.right,a,o,c,u));function h(f,x,m,j,y){t.getDocument().setLineWidth(f),t.getDocument().line(x,m,j,y,"S")}}function Bv(t,e,r,n){var a=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-a}function Hd(t,e,r,n,a,o){a===void 0&&(a=[]),o===void 0&&(o=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(u){return nc(t,e,u,n,a)}),e.callEndPageHooks(t,n);var c=e.settings.margin;Av(t,e,r,n),$v(t),e.pageNumber++,n.x=c.left,n.y=c.top,r.y=c.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(u){return nc(t,e,u,n,a)}),t.applyStyles(t.userStyles))}function $v(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function gk(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],a=Rv(this,n),o=Dv(this,a);return Fv(this,o),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,a){Nv(e,r,n,a,this)},t.API.autoTableSetDefaults=function(e){return ld.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){ld.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new ld(this),o=Tv(a,e,window,r,!1),c=o.head,u=o.body,h=((n=c[0])===null||n===void 0?void 0:n.map(function(f){return f.content}))||[];return{columns:h,rows:u,data:u}}}var o0;function bk(t,e){var r=Rv(t,e),n=Dv(t,r);Fv(t,n)}try{if(typeof window<"u"&&window){var A1=window,E1=A1.jsPDF||((o0=A1.jspdf)===null||o0===void 0?void 0:o0.jsPDF);E1&&gk(E1)}}catch(t){console.error("Could not apply autoTable plugin",t)}async function L1(t){const e=new Ct({orientation:"portrait",unit:"mm",format:"letter"}),r=e.internal.pageSize.getWidth(),n=15,a=[4,102,56],o=[245,245,245],c=[30,30,30],u=[100,100,100];e.setFillColor(...a),e.rect(0,0,r,32,"F"),e.setFillColor(255,255,255),e.roundedRect(n,6,20,20,2,2,"F"),e.setFontSize(7),e.setTextColor(...a),e.setFont("helvetica","bold"),e.text(`CBTa
134`,n+10,14,{align:"center",lineHeightFactor:1.5}),e.setTextColor(255,255,255),e.setFontSize(13),e.setFont("helvetica","bold"),e.text("CENTRO DE BACHILLERATO TECNOLGICO",r/2,11,{align:"center"}),e.text("AGROPECUARIO No. 134",r/2,17,{align:"center"}),e.setFontSize(10),e.setFont("helvetica","normal"),e.text("FICHA DE PRE-REGISTRO DE NUEVO INGRESO",r/2,23,{align:"center"});const h=new Date().getFullYear();e.setFontSize(8.5),e.text(`Ciclo Escolar ${h}${h+1}`,r/2,29,{align:"center"});let f=38;e.setFillColor(...o),e.roundedRect(n,f,r-n*2,12,2,2,"F"),e.setFont("helvetica","bold"),e.setFontSize(10),e.setTextColor(...a),e.text(`FOLIO: ${t.folio}`,n+5,f+5),e.setFont("helvetica","normal"),e.setFontSize(8.5),e.setTextColor(...u),e.text(`Fecha: ${new Date().toLocaleDateString("es-MX",{day:"2-digit",month:"long",year:"numeric"})}`,r-n-5,f+5,{align:"right"}),f+=18;const x=(L,E)=>(e.setFillColor(...a),e.rect(n,E,r-n*2,7,"F"),e.setFont("helvetica","bold"),e.setFontSize(9),e.setTextColor(255,255,255),e.text(L,n+3,E+5),E+9),m=(L,E)=>(bk(e,{body:L,startY:E,margin:{left:n,right:n},theme:"grid",styles:{fontSize:8.5,cellPadding:{top:1.5,bottom:1.5,left:3,right:3},textColor:c},columnStyles:{0:{fontStyle:"bold",fillColor:[230,245,235],cellWidth:52},1:{cellWidth:"auto"}},alternateRowStyles:{fillColor:[250,252,250]}}),e.lastAutoTable.finalY+4);f=x("1. DATOS DEL ASPIRANTE",f),f=m([["Nombre Completo",`${t.nombre} ${t.apellido_paterno} ${t.apellido_materno}`],["CURP",t.curp],["Sexo",t.sexo],["Fecha de Nacimiento",t.fecha_nacimiento],["Correo Electrnico",t.correo],["Estado Civil",t.estado_civil],["Telfono",t.telefono],["Lugar de Nacimiento",t.lugar_nacimiento],["Domicilio",t.domicilio],["Colonia",t.colonia],["Municipio",t.municipio],["Cdigo Postal",t.codigo_postal]],f),f=x("2. CARRERAS TCNICAS SELECCIONADAS",f);const j=[["1 Opcin de Carrera",t.carrera_nombre]];t.segunda_opcion_carrera&&j.push(["2 Opcin de Carrera",t.segunda_opcion_carrera]),t.tercera_opcion_carrera&&j.push(["3 Opcin de Carrera",t.tercera_opcion_carrera]),f=m(j,f),f=x("3. ESCUELA DE PROCEDENCIA",f),f=m([["Tipo de Escuela",t.escuela_tipo],["Nombre",t.escuela_nombre],["Municipio",t.escuela_municipio],["Promedio General",`${t.promedio_general} / 10`]],f),f=x("4. DATOS DEL PADRE / MADRE / TUTOR",f),f=m([["Parentesco",t.tutor_parentesco],["Nombre Completo",t.tutor_nombre],["CURP",t.tutor_curp],["Ocupacin",t.tutor_ocupacion],["ltimo Grado de Estudio",t.tutor_grado_estudios],["Telfono",t.tutor_telefono]],f),f+=6;const y=(r-n*2-10)/2;e.setDrawColor(...u),e.line(n,f+15,n+y,f+15),e.setFontSize(8),e.setFont("helvetica","normal"),e.setTextColor(...u),e.text("Firma del Aspirante",n+y/2,f+19,{align:"center"}),e.text(`${t.nombre} ${t.apellido_paterno}`,n+y/2,f+23,{align:"center"});const C=n+y+10;e.line(C,f+15,C+y,f+15),e.text("Firma del Padre / Tutor",C+y/2,f+19,{align:"center"}),e.text(t.tutor_nombre,C+y/2,f+23,{align:"center"});const k=e.internal.pageSize.getHeight();return e.setFillColor(...a),e.rect(0,k-14,r,14,"F"),e.setFontSize(7.5),e.setFont("helvetica","normal"),e.setTextColor(255,255,255),e.text("CBTa 134  Documento de Pre-Registro  No tiene validez sin sello institucional",r/2,k-7.5,{align:"center"}),e.text(`Folio: ${t.folio}`,n,k-3.5),e.text(`${new Date().toLocaleDateString("es-MX")}`,r-n,k-3.5,{align:"right"}),e.output("blob")}const xk=["Aguascalientes","Baja California","Baja California Sur","Campeche","Chiapas","Chihuahua","Ciudad de Mxico","Coahuila","Colima","Durango","Estado de Mxico","Guanajuato","Guerrero","Hidalgo","Jalisco","Michoacn","Morelos","Nayarit","Nuevo Len","Oaxaca","Puebla","Quertaro","Quintana Roo","San Luis Potos","Sinaloa","Sonora","Tabasco","Tamaulipas","Tlaxcala","Veracruz","Yucatn","Zacatecas"],vk=["Ama de casa","Agricultor/a","Albail","Artesano/a","Chofer","Comerciante","Docente","Empleado/a","Empleado/a de gobierno","Enfermero/a","Ganadero/a","Ingeniero/a","Mecnico/a","Mdico/a","Militar","Obrero/a","Pensionado/a","Profesionista","Servidor/a pblico","Trabajador/a independiente","Otro"],yk=["Sin estudios","Primaria incompleta","Primaria completa","Secundaria incompleta","Secundaria completa","Preparatoria/Bachillerato","Tcnico","Licenciatura","Posgrado"],wk=["Pblica","Privada","Indgena","Comunitaria"],_k=["Masculino","Femenino","Otro"],jk=["Soltero/a","Casado/a","Otro"],Sk=["Padre","Madre","Tutor/a","Otro"],Nk={nombre:"",apellido_paterno:"",apellido_materno:"",curp:"",sexo:"",fecha_nacimiento:"",correo:"",estado_civil:"",telefono:"",lugar_nacimiento:"",domicilio:"",colonia:"",municipio:"",codigo_postal:""},kk={carrera_nombre:"",segunda_opcion_carrera:"",tercera_opcion_carrera:""},Ck={escuela_tipo:"",escuela_nombre:"",escuela_municipio:"",promedio_general:""},Ak={tutor_nombre:"",tutor_ocupacion:"",tutor_curp:"",tutor_grado_estudios:"",tutor_telefono:"",tutor_parentesco:""};function Ek({setCurrentView:t}){var Y;const[e,r]=F.useState(null),[n,a]=F.useState(1),[o,c]=F.useState(Nk),[u,h]=F.useState(kk),[f,x]=F.useState(Ck),[m,j]=F.useState(Ak),[y,C]=F.useState({}),[k,L]=F.useState(!0),[E,B]=F.useState(!1),[T,D]=F.useState(""),[z,ie]=F.useState(null),[se,Q]=F.useState([]),[J,de]=F.useState(null),[O,K]=F.useState({form_badge:"Nuevo Ingreso 20252026",form_titulo:"Pre-Registro de Aspirantes",form_subtitulo:"Completa tu pre-registro para obtener tu ficha de inscripcin. Es rpido y seguro.",form_titulo_paso1:" Datos del Aspirante",form_titulo_paso2:" Carrera Tcnica",form_desc_paso2:"Selecciona la carrera tcnica de tu preferencia. Considera tus intereses y vocacin.",form_titulo_paso3:" Escuela de Procedencia",form_desc_paso3:"Proporciona los datos de la secundaria de la que egresaste o ests por egresar.",form_titulo_paso4:" Datos del Tutor / Padre o Madre",form_desc_paso4:"Proporciona los datos de la persona responsable del aspirante.",form_titulo_paso5:" Confirmacin de Datos",form_desc_paso5:"Revisa que todos tus datos sean correctos antes de enviar.",exito_icono:"",exito_titulo:"Pre-Registro Exitoso!",exito_mensaje:"Tu pre-registro ha sido recibido. Guarda tu folio y descarga tu ficha.",exito_btn_pdf:" Descargar Ficha PDF",exito_btn_inicio:"Ir al Inicio",stepper_json:[{id:1,label:"Datos Personales",icon:""},{id:2,label:"Carrera",icon:""},{id:3,label:"Escuela Origen",icon:""},{id:4,label:"Datos del Tutor",icon:""},{id:5,label:"Confirmacin",icon:""}]}),ae=F.useRef(null);F.useEffect(()=>{const W=async le=>{var me;r(le),(me=le==null?void 0:le.user)!=null&&me.email&&(c(Se=>({...Se,correo:le.user.email})),await ce(le.user.email))};ue.auth.getSession().then(({data:{session:le}})=>{W(le).then(()=>L(!1))});const{data:{subscription:ne}}=ue.auth.onAuthStateChange((le,me)=>{W(me).then(()=>L(!1))});return()=>ne.unsubscribe()},[]);const ce=async W=>{L(!0);try{const{data:ne,error:le}=await ue.from("preregistros").select("*").eq("correo",W).maybeSingle();if(ne){de(ne),D(ne.folio);const me=await L1(ne);ie(me)}}catch(ne){console.error("Error buscando registro previo:",ne)}finally{L(!1)}},we=async()=>{const{error:W}=await ue.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/preregistro/formulario"}});W&&alert("Error al iniciar sesin: "+W.message)},Ae=async()=>{await ue.auth.signOut(),r(null),de(null),B(!1),a(1)};F.useEffect(()=>{(async()=>{const{data:ne}=await ue.from("preregistro_config").select("form_badge, form_titulo, form_subtitulo, form_titulo_paso1, form_titulo_paso2, form_desc_paso2, form_titulo_paso3, form_desc_paso3, form_titulo_paso4, form_desc_paso4, form_titulo_paso5, form_desc_paso5, exito_icono, exito_titulo, exito_mensaje, exito_btn_pdf, exito_btn_inicio, stepper_json").eq("id",1).single();ne&&K(le=>({...le,...Object.fromEntries(Object.entries(ne).filter(([me,Se])=>Se!=null&&Se!=="")),stepper_json:ne.stepper_json||le.stepper_json}))})()},[]),F.useEffect(()=>{(async()=>{try{const{data:ne,error:le}=await ue.from("carreras_tecnicas").select("id, nombre, descripcion, imagen_url");ne&&ne.length>0?Q(ne.map(me=>({...me,icono:Mv(me.nombre),descripcion_corta:me.descripcion?me.descripcion.substring(0,120)+(me.descripcion.length>120?"...":""):""}))):Q([{id:1,nombre:"Tcnico en Contabilidad",descripcion_corta:"Finanzas, contabilidad y administracin.",icono:""},{id:2,nombre:"Tcnico en Ofimtica",descripcion_corta:"Herramientas digitales y productividad.",icono:""},{id:3,nombre:"Tcnico en Programacin",descripcion_corta:"Desarrollo de software y apps.",icono:""},{id:4,nombre:"Tcnico Agropecuario",descripcion_corta:"Produccin agrcola sustentable.",icono:""},{id:5,nombre:"Tcnico en Sistemas de Produccin Pecuaria",descripcion_corta:"Ganadera y produccin animal.",icono:""}])}catch(ne){console.error("Error fetching carreras:",ne)}})()},[]);const ve=W=>ne=>W(le=>({...le,[ne.target.name]:ne.target.value})),H=()=>{const W={};return n===1&&(o.nombre.trim()||(W.nombre="Requerido"),o.apellido_paterno.trim()||(W.apellido_paterno="Requerido"),o.apellido_materno.trim()||(W.apellido_materno="Requerido"),o.curp.trim()?/^[A-Z]{4}\d{6}[HM][A-Z]{5}[A-Z0-9]\d$/.test(o.curp.toUpperCase())||(W.curp="CURP invlida"):W.curp="Requerido",o.sexo||(W.sexo="Requerido"),o.fecha_nacimiento||(W.fecha_nacimiento="Requerido"),o.correo.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o.correo)||(W.correo="Correo invlido"):W.correo="Requerido",o.estado_civil||(W.estado_civil="Requerido"),o.telefono.trim()?/^\d{10}$/.test(o.telefono)||(W.telefono="10 dgitos requeridos"):W.telefono="Requerido",o.lugar_nacimiento||(W.lugar_nacimiento="Requerido"),o.domicilio.trim()||(W.domicilio="Requerido"),o.colonia.trim()||(W.colonia="Requerido"),o.municipio||(W.municipio="Requerido"),o.codigo_postal.trim()?/^\d{5}$/.test(o.codigo_postal)||(W.codigo_postal="5 dgitos requeridos"):W.codigo_postal="Requerido"),n===2&&(u.carrera_nombre||(W.carrera_nombre="Selecciona tu primera opcin de carrera")),n===3&&(f.escuela_tipo||(W.escuela_tipo="Requerido"),f.escuela_nombre.trim()||(W.escuela_nombre="Requerido"),f.escuela_municipio||(W.escuela_municipio="Requerido"),f.promedio_general?(parseFloat(f.promedio_general)<0||parseFloat(f.promedio_general)>10)&&(W.promedio_general="Entre 0 y 10"):W.promedio_general="Requerido"),n===4&&(m.tutor_nombre.trim()||(W.tutor_nombre="Requerido"),m.tutor_ocupacion||(W.tutor_ocupacion="Requerido"),m.tutor_curp.trim()?/^[A-Z]{4}\d{6}[HM][A-Z]{5}[A-Z0-9]\d$/.test(m.tutor_curp.toUpperCase())||(W.tutor_curp="CURP invlida"):W.tutor_curp="Requerido",m.tutor_grado_estudios||(W.tutor_grado_estudios="Requerido"),m.tutor_telefono.trim()?/^\d{10}$/.test(m.tutor_telefono)||(W.tutor_telefono="10 dgitos requeridos"):W.tutor_telefono="Requerido",m.tutor_parentesco||(W.tutor_parentesco="Requerido")),C(W),Object.keys(W).length===0},he=()=>{H()&&(a(W=>Math.min(W+1,5)),window.scrollTo({top:0,behavior:"smooth"}))},xe=()=>{C({}),a(W=>Math.max(W-1,1)),window.scrollTo({top:0,behavior:"smooth"})},X=async()=>{L(!0);try{const W={...o,curp:o.curp.toUpperCase(),carrera_nombre:u.carrera_nombre,segunda_opcion_carrera:u.segunda_opcion_carrera||null,tercera_opcion_carrera:u.tercera_opcion_carrera||null,...f,promedio_general:parseFloat(f.promedio_general),...m,tutor_curp:m.tutor_curp.toUpperCase(),folio:""},{data:ne,error:le}=await ue.from("preregistros").insert([W]).select().single();if(le)throw le;const me={...W,folio:ne.folio,id:ne.id},Se=await L1(me);ie(Se),D(ne.folio),B(!0)}catch(W){console.error("Error al guardar:",W),alert(`Ocurri un error al guardar tu pre-registro. Intenta de nuevo.
`+W.message)}finally{L(!1)}},P=()=>{if(!z)return;const W=URL.createObjectURL(z),ne=document.createElement("a");ne.href=W,ne.download=`Ficha_PreRegistro_${T}.pdf`,ne.click(),URL.revokeObjectURL(W)};return k&&!e?s.jsx("div",{className:"prereg-wrapper",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"60vh"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"loader",style:{marginBottom:"1rem"}}),s.jsx("p",{children:"Verificando identidad..."})]})}):e?E||J?s.jsx("div",{className:"prereg-success",children:s.jsxs("div",{className:"prereg-success__card",children:[s.jsx("div",{className:"prereg-success__icon",children:J?"":O.exito_icono}),s.jsx("h2",{children:J?"Hola de nuevo!":O.exito_titulo}),s.jsxs("p",{className:"prereg-success__folio",children:["Folio: ",s.jsx("strong",{children:T})]}),s.jsx("p",{children:J?"Ya cuentas con un pre-registro activo. Puedes volver a descargar tu ficha aqu mismo.":O.exito_mensaje}),s.jsxs("div",{className:"prereg-success__actions",style:{flexDirection:"column",gap:"1.5rem",marginTop:"2rem"},children:[s.jsxs("div",{style:{display:"flex",gap:"1rem",justifyContent:"center",width:"100%",flexWrap:"wrap"},children:[s.jsx("button",{className:"btn-primary",onClick:P,disabled:!z,children:z?O.exito_btn_pdf:"Generando ficha..."}),s.jsx("button",{className:"btn-secondary",onClick:()=>t&&t("home"),children:O.exito_btn_inicio})]}),s.jsxs("button",{onClick:Ae,style:{background:"none",border:"none",color:"#5f6368",fontSize:"0.85rem",textDecoration:"underline",cursor:"pointer",opacity:.8},children:["Cerrar sesin de ",(Y=e==null?void 0:e.user)==null?void 0:Y.email]})]})]})}):s.jsxs("div",{className:"prereg-wrapper",ref:ae,children:[s.jsx("div",{className:"prereg-hero",children:s.jsxs("div",{className:"prereg-hero__content",children:[s.jsx("span",{className:"prereg-hero__badge",children:O.form_badge}),s.jsx("h1",{className:"prereg-hero__title",children:O.form_titulo}),s.jsx("p",{className:"prereg-hero__subtitle",children:O.form_subtitulo})]})}),s.jsx("div",{className:"prereg-stepper",children:(O.stepper_json||[]).map(W=>s.jsxs("div",{className:`prereg-step ${n===W.id?"active":""} ${n>W.id?"done":""}`,children:[s.jsx("div",{className:"prereg-step__circle",children:n>W.id?"":W.icon}),s.jsx("span",{className:"prereg-step__label",children:W.label})]},W.id))}),s.jsxs("div",{className:"prereg-form-container",children:[n===1&&s.jsx(Lk,{data:o,onChange:ve(c),errors:y,cfg:O}),n===2&&s.jsx(Pk,{data:u,onChange:ve(h),errors:y,carreras:se,cfg:O}),n===3&&s.jsx(Tk,{data:f,onChange:ve(x),errors:y,cfg:O}),n===4&&s.jsx(Rk,{data:m,onChange:ve(j),errors:y,cfg:O}),n===5&&s.jsx(Ik,{aspirante:o,carrera:u,escuela:f,tutor:m,cfg:O}),s.jsxs("div",{className:"prereg-nav",children:[n>1&&s.jsx("button",{className:"btn-secondary",onClick:xe,disabled:k,children:" Anterior"}),n<5&&s.jsx("button",{className:"btn-primary",onClick:he,children:"Siguiente "}),n===5&&s.jsx("button",{className:"btn-success",onClick:X,disabled:k,children:k?" Guardando...":" Enviar Pre-Registro"})]})]})]}):s.jsxs("div",{className:"prereg-wrapper",children:[s.jsx("div",{className:"prereg-hero",children:s.jsxs("div",{className:"prereg-hero__content",children:[s.jsx("span",{className:"prereg-hero__badge",children:O.form_badge}),s.jsx("h1",{className:"prereg-hero__title",children:O.form_titulo}),s.jsx("p",{className:"prereg-hero__subtitle",children:O.form_subtitulo})]})}),s.jsxs("div",{className:"prereg-form-container",style:{textAlign:"center",padding:"4rem 2rem"},children:[s.jsx("div",{style:{fontSize:"4rem",marginBottom:"1.5rem"},children:""}),s.jsx("h2",{style:{marginBottom:"1rem",color:"#2c3e50"},children:"Identificacin de Aspirante"}),s.jsx("p",{style:{marginBottom:"2rem",opacity:.8,maxWidth:"500px",margin:"0 auto 2rem",color:"#5f6368"},children:"Para iniciar tu proceso de pre-registro o **recuperar un folio anterior**, es necesario ingresar con tu cuenta de correo personal."}),s.jsxs("button",{onClick:we,className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"12px",margin:"0 auto",padding:"12px 28px",background:"#fff",color:"#3c4043",border:"1px solid #dadce0",borderRadius:"24px",fontSize:"1rem",fontWeight:"500",boxShadow:"0 1px 3px rgba(60,64,67,0.3)",cursor:"pointer",transition:"background-color .2s,box-shadow .2s"},children:[s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg",alt:"Google",style:{width:"20px"}}),s.jsx("span",{children:"Continuar con Google"})]}),s.jsxs("div",{style:{marginTop:"3.5rem",padding:"1.5rem",background:"#f8f9fa",borderRadius:"1rem",maxWidth:"450px",margin:"3.5rem auto 0",border:"1px dashed #dee2e6"},children:[s.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#1a73e8",fontSize:"0.9rem"},children:" Recuperacin Automtica"}),s.jsx("p",{style:{fontSize:"0.85rem",color:"#5f6368",margin:0,lineHeight:"1.5"},children:"Si ya completaste tu pre-registro anteriormente, al iniciar sesin vers directamente tu folio y el botn para descargar tu ficha PDF nuevamente."})]})]})]})}function Lk({data:t,onChange:e,errors:r,cfg:n}){return s.jsxs("div",{className:"prereg-section",children:[s.jsx("h2",{className:"prereg-section__title",children:n.form_titulo_paso1}),s.jsxs("div",{className:"form-grid form-grid--3",children:[s.jsx(xa,{label:"Nombre(s)",name:"nombre",value:t.nombre,onChange:e,error:r.nombre,required:!0}),s.jsx(xa,{label:"Apellido Paterno",name:"apellido_paterno",value:t.apellido_paterno,onChange:e,error:r.apellido_paterno,required:!0}),s.jsx(xa,{label:"Apellido Materno",name:"apellido_materno",value:t.apellido_materno,onChange:e,error:r.apellido_materno,required:!0})]}),s.jsxs("div",{className:"form-grid form-grid--2",children:[s.jsx(xa,{label:"CURP",name:"curp",value:t.curp,onChange:e,error:r.curp,required:!0,placeholder:"XXXX000000XXXXXXXX",maxLength:18,onInput:a=>a.target.value=a.target.value.toUpperCase()}),s.jsx(Rl,{label:"Sexo",name:"sexo",value:t.sexo,onChange:e,error:r.sexo,required:!0,options:_k,placeholder:"-- Selecciona tu sexo --"})]}),s.jsxs("div",{className:"form-grid form-grid--2",children:[s.jsx(xa,{label:"Fecha de Nacimiento",name:"fecha_nacimiento",type:"date",value:t.fecha_nacimiento,onChange:e,error:r.fecha_nacimiento,required:!0}),s.jsx(Rl,{label:"Estado Civil",name:"estado_civil",value:t.estado_civil,onChange:e,error:r.estado_civil,required:!0,options:jk,placeholder:"-- Selecciona --"})]}),s.jsxs("div",{className:"form-grid form-grid--2",children:[s.jsx(xa,{label:"Correo Electrnico Verified (Google)",name:"correo",type:"email",value:t.correo,onChange:e,error:r.correo,required:!0,readOnly:!0}),s.jsx(xa,{label:"Telfono (10 dgitos)",name:"telefono",type:"tel",value:t.telefono,onChange:e,error:r.telefono,required:!0,maxLength:10,placeholder:"5512345678"})]}),s.jsx(Rl,{label:"Lugar de Nacimiento (Estado)",name:"lugar_nacimiento",value:t.lugar_nacimiento,onChange:e,error:r.lugar_nacimiento,required:!0,options:xk,placeholder:"-- Selecciona tu estado de nacimiento --"}),s.jsx("h3",{className:"prereg-section__subtitle",children:" Domicilio Actual"}),s.jsx(xa,{label:"Domicilio (calle y nmero)",name:"domicilio",value:t.domicilio,onChange:e,error:r.domicilio,required:!0,placeholder:"Calle Ejemplo #123"}),s.jsxs("div",{className:"form-grid form-grid--3",children:[s.jsx(xa,{label:"Colonia",name:"colonia",value:t.colonia,onChange:e,error:r.colonia,required:!0}),s.jsx(xa,{label:"Municipio",name:"municipio",value:t.municipio,onChange:e,error:r.municipio,required:!0,placeholder:"Escribe tu municipio"}),s.jsx(xa,{label:"Cdigo Postal",name:"codigo_postal",value:t.codigo_postal,onChange:e,error:r.codigo_postal,required:!0,maxLength:5,placeholder:"12345"})]})]})}function Pk({data:t,onChange:e,errors:r,carreras:n,cfg:a}){const o=n.filter(u=>u.nombre!==t.carrera_nombre),c=n.filter(u=>u.nombre!==t.carrera_nombre&&u.nombre!==t.segunda_opcion_carrera);return s.jsxs("div",{className:"prereg-section",children:[s.jsx("h2",{className:"prereg-section__title",children:a.form_titulo_paso2}),s.jsx("p",{className:"prereg-section__desc",children:a.form_desc_paso2}),s.jsxs("h3",{className:"prereg-section__subtitle",style:{marginTop:"0.5rem"},children:[" Primera Opcin de Carrera ",s.jsx("span",{className:"required",children:"*"})]}),s.jsx("div",{className:"carrera-cards",children:n.map(u=>s.jsxs("label",{className:`carrera-card ${t.carrera_nombre===u.nombre?"selected":""}`,children:[s.jsx("input",{type:"radio",name:"carrera_nombre",value:u.nombre,checked:t.carrera_nombre===u.nombre,onChange:h=>{e(h),t.segunda_opcion_carrera===h.target.value&&e({target:{name:"segunda_opcion_carrera",value:""}}),t.tercera_opcion_carrera===h.target.value&&e({target:{name:"tercera_opcion_carrera",value:""}})},hidden:!0}),s.jsx("div",{className:"carrera-card__icon",children:u.icono||Mv(u.nombre)}),s.jsx("div",{className:"carrera-card__name",children:u.nombre}),u.descripcion_corta&&s.jsx("div",{className:"carrera-card__desc",children:u.descripcion_corta})]},u.nombre))}),r.carrera_nombre&&s.jsx("span",{className:"field-error",children:r.carrera_nombre}),s.jsx("div",{style:{marginTop:"1.5rem"},children:s.jsx(Rl,{label:"O selecciona desde el men desplegable",name:"carrera_nombre",value:t.carrera_nombre,onChange:e,error:null,options:n.map(u=>u.nombre),placeholder:"-- Selecciona tu 1 opcin --"})}),s.jsxs("div",{style:{marginTop:"2.5rem",padding:"1.5rem",background:"rgba(59,130,246,0.05)",borderRadius:"1rem",border:"1px dashed rgba(59,130,246,0.3)"},children:[s.jsxs("h3",{className:"prereg-section__subtitle",style:{margin:"0 0 0.5rem 0"},children:[" Segunda Opcin de Carrera ",s.jsx("span",{style:{fontSize:"0.75rem",opacity:.6,fontWeight:"normal"},children:"(opcional)"})]}),s.jsx("p",{style:{fontSize:"0.85rem",opacity:.7,marginBottom:"1rem"},children:"En caso de no haber cupo en tu primera opcin, se considerar esta alternativa."}),s.jsx(Rl,{label:"Segunda opcin de carrera",name:"segunda_opcion_carrera",value:t.segunda_opcion_carrera,onChange:u=>{e(u),t.tercera_opcion_carrera===u.target.value&&e({target:{name:"tercera_opcion_carrera",value:""}})},error:null,options:o.map(u=>u.nombre),placeholder:"-- Selecciona tu 2 opcin (opcional) --"})]}),s.jsxs("div",{style:{marginTop:"1rem",padding:"1.5rem",background:"rgba(168,85,247,0.05)",borderRadius:"1rem",border:"1px dashed rgba(168,85,247,0.3)"},children:[s.jsxs("h3",{className:"prereg-section__subtitle",style:{margin:"0 0 0.5rem 0"},children:[" Tercera Opcin de Carrera ",s.jsx("span",{style:{fontSize:"0.75rem",opacity:.6,fontWeight:"normal"},children:"(opcional)"})]}),s.jsx("p",{style:{fontSize:"0.85rem",opacity:.7,marginBottom:"1rem"},children:"Otra alternativa en caso de que no haya disponibilidad en las dos primeras opciones."}),s.jsx(Rl,{label:"Tercera opcin de carrera",name:"tercera_opcion_carrera",value:t.tercera_opcion_carrera,onChange:e,error:null,options:c.map(u=>u.nombre),placeholder:"-- Selecciona tu 3 opcin (opcional) --"})]})]})}function Mv(t){return t.includes("Contabilidad")?"":t.includes("Ofimtica")?"":t.includes("Programacin")?"":t.includes("Agropecuario")?"":t.includes("Pecuaria")?"":""}function Tk({data:t,onChange:e,errors:r,cfg:n}){return s.jsxs("div",{className:"prereg-section",children:[s.jsx("h2",{className:"prereg-section__title",children:n.form_titulo_paso3}),s.jsx("p",{className:"prereg-section__desc",children:n.form_desc_paso3}),s.jsxs("div",{className:"form-grid form-grid--2",children:[s.jsx(Rl,{label:"Tipo de Escuela",name:"escuela_tipo",value:t.escuela_tipo,onChange:e,error:r.escuela_tipo,required:!0,options:wk,placeholder:"-- Selecciona el tipo --"}),s.jsx(xa,{label:"Nombre de la Escuela",name:"escuela_nombre",value:t.escuela_nombre,onChange:e,error:r.escuela_nombre,required:!0,placeholder:"Ej. Sec. Tec. No. 5"})]}),s.jsxs("div",{className:"form-grid form-grid--2",children:[s.jsx(xa,{label:"Municipio de la Escuela",name:"escuela_municipio",value:t.escuela_municipio,onChange:e,error:r.escuela_municipio,required:!0,placeholder:"Escribe el municipio"}),s.jsx(xa,{label:"Promedio General (0  10)",name:"promedio_general",type:"number",value:t.promedio_general,onChange:e,error:r.promedio_general,required:!0,min:0,max:10,step:.1,placeholder:"8.5"})]})]})}function Rk({data:t,onChange:e,errors:r,cfg:n}){return s.jsxs("div",{className:"prereg-section",children:[s.jsx("h2",{className:"prereg-section__title",children:n.form_titulo_paso4}),s.jsx("p",{className:"prereg-section__desc",children:n.form_desc_paso4}),s.jsxs("div",{className:"form-grid form-grid--2",children:[s.jsx(xa,{label:"Nombre Completo del Tutor",name:"tutor_nombre",value:t.tutor_nombre,onChange:e,error:r.tutor_nombre,required:!0}),s.jsx(Rl,{label:"Parentesco",name:"tutor_parentesco",value:t.tutor_parentesco,onChange:e,error:r.tutor_parentesco,required:!0,options:Sk,placeholder:"-- Selecciona parentesco --"})]}),s.jsxs("div",{className:"form-grid form-grid--2",children:[s.jsx(xa,{label:"CURP del Tutor",name:"tutor_curp",value:t.tutor_curp,onChange:e,error:r.tutor_curp,required:!0,placeholder:"XXXX000000XXXXXXXX",maxLength:18,onInput:a=>a.target.value=a.target.value.toUpperCase()}),s.jsx(Rl,{label:"Ocupacin",name:"tutor_ocupacion",value:t.tutor_ocupacion,onChange:e,error:r.tutor_ocupacion,required:!0,options:vk,placeholder:"-- Selecciona ocupacin --"})]}),s.jsxs("div",{className:"form-grid form-grid--2",children:[s.jsx(Rl,{label:"ltimo Grado de Estudios",name:"tutor_grado_estudios",value:t.tutor_grado_estudios,onChange:e,error:r.tutor_grado_estudios,required:!0,options:yk,placeholder:"-- Selecciona grado de estudios --"}),s.jsx(xa,{label:"Telfono del Tutor (10 dgitos)",name:"tutor_telefono",type:"tel",value:t.tutor_telefono,onChange:e,error:r.tutor_telefono,required:!0,maxLength:10,placeholder:"5512345678"})]})]})}function Ik({aspirante:t,carrera:e,escuela:r,tutor:n,cfg:a}){var c,u;const o=[{label:"Nombre Completo",value:`${t.nombre} ${t.apellido_paterno} ${t.apellido_materno}`},{label:"CURP",value:(c=t.curp)==null?void 0:c.toUpperCase()},{label:"Sexo",value:t.sexo},{label:"Fecha de Nacimiento",value:t.fecha_nacimiento},{label:"Correo",value:t.correo},{label:"Estado Civil",value:t.estado_civil},{label:"Telfono",value:t.telefono},{label:"Lugar de Nacimiento",value:t.lugar_nacimiento},{label:"Domicilio",value:`${t.domicilio}, Col. ${t.colonia}, ${t.municipio}, C.P. ${t.codigo_postal}`},{label:" CARRERA ",value:""},{label:"1 Opcin de Carrera",value:e.carrera_nombre},...e.segunda_opcion_carrera?[{label:"2 Opcin de Carrera",value:e.segunda_opcion_carrera}]:[],...e.tercera_opcion_carrera?[{label:"3 Opcin de Carrera",value:e.tercera_opcion_carrera}]:[],{label:" ESCUELA ",value:""},{label:"Tipo de Escuela",value:r.escuela_tipo},{label:"Escuela",value:r.escuela_nombre},{label:"Municipio Escuela",value:r.escuela_municipio},{label:"Promedio General",value:r.promedio_general},{label:" TUTOR ",value:""},{label:"Tutor",value:`${n.tutor_nombre} (${n.tutor_parentesco})`},{label:"CURP Tutor",value:(u=n.tutor_curp)==null?void 0:u.toUpperCase()},{label:"Ocupacin",value:n.tutor_ocupacion},{label:"Grado de Estudios",value:n.tutor_grado_estudios},{label:"Telfono Tutor",value:n.tutor_telefono}];return s.jsxs("div",{className:"prereg-section",children:[s.jsx("h2",{className:"prereg-section__title",children:a.form_titulo_paso5}),s.jsxs("p",{className:"prereg-section__desc",children:[a.form_desc_paso5," ","Al hacer clic en ",s.jsx("strong",{children:'"Enviar Pre-Registro"'})," se generar tu ficha en PDF."]}),s.jsx("div",{className:"confirm-table",children:o.map((h,f)=>h.label.startsWith("")?s.jsx("div",{className:"confirm-table__header",children:h.label.replace(//g,"").trim()},f):s.jsxs("div",{className:"confirm-table__row",children:[s.jsxs("span",{className:"confirm-table__label",children:[h.label,":"]}),s.jsx("span",{className:"confirm-table__value",children:h.value||""})]},f))})]})}function xa({label:t,name:e,value:r,onChange:n,error:a,required:o,type:c="text",placeholder:u,maxLength:h,min:f,max:x,step:m,onInput:j}){return s.jsxs("div",{className:"form-field",children:[s.jsxs("label",{className:"form-label",children:[t," ",o&&s.jsx("span",{className:"required",children:"*"})]}),s.jsx("input",{className:`form-input ${a?"input-error":""}`,type:c,name:e,value:r,onChange:n,onInput:j,placeholder:u,maxLength:h,min:f,max:x,step:m,autoComplete:"off"}),a&&s.jsx("span",{className:"field-error",children:a})]})}function Rl({label:t,name:e,value:r,onChange:n,error:a,required:o,options:c,placeholder:u}){return s.jsxs("div",{className:"form-field",children:[s.jsxs("label",{className:"form-label",children:[t," ",o&&s.jsx("span",{className:"required",children:"*"})]}),s.jsxs("select",{className:`form-input form-select ${a?"input-error":""}`,name:e,value:r,onChange:n,children:[s.jsx("option",{value:"",children:u||"-- Selecciona --"}),c.map(h=>s.jsx("option",{value:h,children:h},h))]}),a&&s.jsx("span",{className:"field-error",children:a})]})}function Ok(t=""){const e=t.toLowerCase();return e.includes("contab")||e.includes("admin")?"":e.includes("ofimtic")||e.includes("ofimatica")?"":e.includes("program")||e.includes("software")||e.includes("informtic")?"":e.includes("agropecuari")||e.includes("agrco")||e.includes("agricol")?"":e.includes("pecuari")||e.includes("ganader")?"":e.includes("aliment")?"":e.includes("electr")?"":e.includes("mecn")||e.includes("mecan")||e.includes("industrial")?"":""}function P1(){const t=zc(),[e,r]=F.useState({dias:0,horas:0,minutos:0,segundos:0}),[n,a]=F.useState(null),[o,c]=F.useState(!0),[u,h]=F.useState([]);F.useEffect(()=>{const ve=async()=>{try{const{data:he,error:xe}=await ue.from("preregistro_config").select("*").eq("id",1).single();he&&a(he)}catch(he){console.error("Error fetching preregistro config:",he)}finally{c(!1)}},H=async()=>{try{const{data:he,error:xe}=await ue.from("carreras_tecnicas").select("id, nombre, descripcion, imagen_url");he&&he.length>0?h(he.map(X=>({...X,icono:Ok(X.nombre),descripcion_corta:X.descripcion?X.descripcion.substring(0,120)+(X.descripcion.length>120?"...":""):X.nombre}))):h([{icono:"",nombre:"Tcnico en Contabilidad",descripcion_corta:"Finanzas, contabilidad y administracin."},{icono:"",nombre:"Tcnico en Ofimtica",descripcion_corta:"Herramientas digitales y productividad."},{icono:"",nombre:"Tcnico en Programacin",descripcion_corta:"Desarrollo de software y apps."},{icono:"",nombre:"Tcnico Agropecuario",descripcion_corta:"Produccin agrcola sustentable."},{icono:"",nombre:"Tcnico en Sistemas de Prod. Pecuaria",descripcion_corta:"Ganadera y produccin animal."}])}catch(he){console.error("Error fetching carreras:",he)}};ve(),H()},[]),F.useEffect(()=>{if(!(n!=null&&n.fecha_cierre))return;const ve=new Date(n.fecha_cierre),H=()=>{const xe=ve-new Date;xe>0?r({dias:Math.floor(xe/864e5),horas:Math.floor(xe%864e5/36e5),minutos:Math.floor(xe%36e5/6e4),segundos:Math.floor(xe%6e4/1e3)}):r({dias:0,horas:0,minutos:0,segundos:0})};H();const he=setInterval(H,1e3);return()=>clearInterval(he)},[n]);const f=()=>t("/preregistro/formulario");if(o)return s.jsx("div",{className:"prl-page",children:s.jsx("div",{className:"prl-section-header",children:s.jsx("h2",{children:"Cargando..."})})});if(n&&!n.habilitado)return s.jsx("div",{className:"prl-page",children:s.jsxs("section",{className:"prl-hero",children:[s.jsx("div",{className:"prl-hero__bg","aria-hidden":"true"}),s.jsxs("div",{className:"prl-hero__content",children:[s.jsx("span",{className:"prl-badge prl-badge--closed",children:(n==null?void 0:n.cerrada_badge)||" Convocatoria Cerrada"}),s.jsx("h1",{className:"prl-hero__title",dangerouslySetInnerHTML:{__html:((n==null?void 0:n.cerrada_titulo)||"El proceso de pre-registro ha finalizado").replace(/\n/g,"<br />")}}),s.jsx("p",{className:"prl-hero__sub",children:(n==null?void 0:n.cerrada_mensaje)||"Gracias por tu inters en el CBTa 134. Mantente pendiente de nuestras redes sociales para prximas convocatorias."}),s.jsx("button",{className:"prl-cta",onClick:()=>t("/"),children:"Regresar al Inicio"})]})]})});const x=n||{},m=x.badge_texto||" Convocatoria Abierta  Ciclo 20252026",j=x.titulo_header||"Tu futuro comienza en el CBTa 134!",y=x.subtitulo_header||"Realiza tu pre-registro en lnea de forma rpida y segura.",C=x.cta_texto||"Pre-Regstrate Ahora!",k=x.cta_subtexto||"Es rpido, gratuito y 100% en lnea",L=x.mensaje_cierre||"Cierre de convocatoria en:",E=x.card_titulo||"Pre-Regstrate",B=x.card_descripcion||"Completa el formulario de pre-registro para aspirantes de nuevo ingreso. Al terminar recibirs tu ficha oficial en PDF lista para imprimir.",T=Array.isArray(x.card_checklist_json)&&x.card_checklist_json.length>0?x.card_checklist_json:["Datos personales y de contacto","Eleccin de carrera tcnica","Datos de escuela de procedencia","Informacin del padre, madre o tutor","Ficha PDF descargable al instante"],D=x.card_boton_texto||"Iniciar Pre-Registro ",z=x.pasos_titulo||"Cmo funciona?",ie=x.pasos_subtitulo||"Sigue estos sencillos pasos para completar tu pre-registro",se=Array.isArray(x.pasos_json)&&x.pasos_json.length>0?x.pasos_json:[{num:"01",titulo:"Llena el formulario",desc:"Ingresa tus datos personales, carrera y escuela de procedencia."},{num:"02",titulo:"Selecciona tu carrera",desc:"Elige la especialidad tcnica que ms te interese."},{num:"03",titulo:"Descarga tu ficha",desc:"Obtn tu ficha oficial en PDF con tu folio nico."},{num:"04",titulo:"Presntate al plantel",desc:"Acude con tu ficha impresa en las fechas indicadas."}],Q=x.carreras_titulo||"Carreras Tcnicas Disponibles",J=x.carreras_subtitulo||"Elige la que mejor se adapte a tus intereses y vocacin",de=x.requisitos_titulo||"Qu necesitas para pre-registrarte?",O=x.requisitos_subtitulo||"Ten a la mano la siguiente informacin antes de iniciar",K=Array.isArray(x.requisitos_json)&&x.requisitos_json.length>0?x.requisitos_json:[{icon:"",txt:"CURP del aspirante"},{icon:"",txt:"Fecha de nacimiento"},{icon:"",txt:"Correo electrnico (Gmail)"},{icon:"",txt:"Telfono de contacto (10 dgitos)"},{icon:"",txt:"Datos de escuela de procedencia"},{icon:"",txt:"CURP y datos del padre, madre o tutor"}],ae=x.cta_final_titulo||"Listo para unirte al CBTa 134?",ce=x.cta_final_subtitulo||"El proceso tarda menos de 10 minutos. Hazlo ahora!",we=x.cta_final_boton||"Comenzar Pre-Registro",Ae=x.cta_final_boton_sub||"Formulario en lnea  Ficha PDF inmediata";return s.jsxs("div",{className:"prl-page",children:[s.jsxs("section",{className:"prl-hero",children:[s.jsx("div",{className:"prl-hero__bg","aria-hidden":"true"}),s.jsx("div",{className:"prl-hero__particles","aria-hidden":"true",children:[...Array(12)].map((ve,H)=>s.jsx("span",{className:"prl-particle"},H))}),s.jsxs("div",{className:"prl-hero__content",children:[s.jsx("span",{className:"prl-badge",children:m}),s.jsx("h1",{className:"prl-hero__title",dangerouslySetInnerHTML:{__html:j.replace(/\n/g,"<br />")}}),s.jsx("p",{className:"prl-hero__sub",children:y}),s.jsxs("button",{id:"btn-preregistrate",className:"prl-cta",onClick:f,children:[s.jsx("span",{className:"prl-cta__icon",children:""}),s.jsxs("span",{className:"prl-cta__text",children:[s.jsx("strong",{children:C}),s.jsx("small",{children:k})]}),s.jsx("span",{className:"prl-cta__arrow",children:""})]}),s.jsxs("div",{className:"prl-countdown",children:[s.jsx("p",{className:"prl-countdown__label",children:L}),s.jsx("div",{className:"prl-countdown__grid",children:[{val:e.dias,lbl:"Das"},{val:e.horas,lbl:"Horas"},{val:e.minutos,lbl:"Min"},{val:e.segundos,lbl:"Seg"}].map(ve=>s.jsxs("div",{className:"prl-countdown__unit",children:[s.jsx("span",{className:"prl-countdown__num",children:String(ve.val).padStart(2,"0")}),s.jsx("span",{className:"prl-countdown__lbl",children:ve.lbl})]},ve.lbl))})]})]})]}),s.jsx("section",{className:"prl-main-card-section",children:s.jsxs("div",{className:"prl-main-card",children:[s.jsxs("div",{className:"prl-main-card__left",children:[s.jsx("div",{className:"prl-main-card__icon-wrap",children:s.jsx("span",{className:"prl-main-card__big-icon",children:""})}),s.jsx("h2",{className:"prl-main-card__title",children:E}),s.jsx("p",{className:"prl-main-card__desc",dangerouslySetInnerHTML:{__html:B}}),s.jsx("ul",{className:"prl-main-card__list",children:T.map((ve,H)=>s.jsxs("li",{children:[" ",ve]},H))}),s.jsx("button",{className:"prl-main-card__btn",onClick:f,children:D})]}),s.jsx("div",{className:"prl-main-card__right",children:s.jsxs("div",{className:"prl-ficha-preview",children:[s.jsxs("div",{className:"prl-ficha-preview__header",children:[s.jsxs("div",{className:"prl-ficha-preview__logo",children:["CBTa",s.jsx("br",{}),"134"]}),s.jsxs("div",{children:[s.jsx("div",{className:"prl-ficha-preview__school",children:"CBTA No. 134"}),s.jsx("div",{className:"prl-ficha-preview__subtitle",children:"Ficha de Pre-Registro"})]})]}),s.jsx("div",{className:"prl-ficha-preview__folio",children:"Folio: PRE-2025-0001"}),["Nombre","CURP","Carrera","Escuela origen","Tutor"].map(ve=>s.jsxs("div",{className:"prl-ficha-preview__row",children:[s.jsxs("span",{children:[ve,":"]}),s.jsx("span",{className:"prl-ficha-preview__bar"})]},ve)),s.jsx("div",{className:"prl-ficha-preview__sello",children:" CBTa 134"})]})})]})}),s.jsxs("section",{className:"prl-steps",children:[s.jsxs("div",{className:"prl-section-header",children:[s.jsx("h2",{children:z}),s.jsx("p",{children:ie})]}),s.jsx("div",{className:"prl-steps__grid",children:se.map(ve=>s.jsxs("div",{className:"prl-step-card",children:[s.jsx("div",{className:"prl-step-card__num",children:ve.num}),s.jsx("h3",{className:"prl-step-card__title",children:ve.titulo}),s.jsx("p",{className:"prl-step-card__desc",children:ve.desc})]},ve.num))})]}),s.jsxs("section",{className:"prl-carreras",children:[s.jsxs("div",{className:"prl-section-header",children:[s.jsx("h2",{children:Q}),s.jsx("p",{children:J})]}),s.jsx("div",{className:"prl-carreras__grid",children:u.map(ve=>s.jsxs("div",{className:"prl-carrera-card",children:[s.jsx("span",{className:"prl-carrera-card__icon",children:ve.icono||""}),s.jsx("h3",{className:"prl-carrera-card__name",children:ve.nombre}),s.jsx("p",{className:"prl-carrera-card__desc",children:ve.descripcion_corta})]},ve.nombre))})]}),s.jsxs("section",{className:"prl-requisitos",children:[s.jsxs("div",{className:"prl-section-header prl-section-header--light",children:[s.jsx("h2",{children:de}),s.jsx("p",{children:O})]}),s.jsx("div",{className:"prl-req-grid",children:K.map((ve,H)=>s.jsxs("div",{className:"prl-req-item",children:[s.jsx("span",{className:"prl-req-item__icon",children:ve.icon}),s.jsx("span",{children:ve.txt})]},H))})]}),s.jsxs("section",{className:"prl-cta-final",children:[s.jsx("h2",{children:ae}),s.jsx("p",{children:ce}),s.jsxs("button",{className:"prl-cta prl-cta--lg",onClick:f,children:[s.jsx("span",{className:"prl-cta__icon",children:""}),s.jsxs("span",{className:"prl-cta__text",children:[s.jsx("strong",{children:we}),s.jsx("small",{children:Ae})]}),s.jsx("span",{className:"prl-cta__arrow",children:""})]})]})]})}const Dk=()=>{try{return typeof document<"u"&&document.body.classList.contains("dark-mode")}catch{return!1}},Fk=({setCurrentView:t})=>{const e=Dk(),r={paddingTop:"80px",minHeight:"100vh",backgroundColor:e?"#07111a":"#f8f9fa"},n={padding:"40px 20px",maxWidth:"100%",margin:"0 auto"},a={fontSize:"28px",fontWeight:"bold",color:"#2c3e50",marginBottom:"25px",textAlign:"center"},o={fontSize:"16px",lineHeight:"1.6",color:e?"#c8cdd3":"#555",marginBottom:"30px",textAlign:"justify",background:e?"rgba(255,255,255,0.03)":"white",padding:"25px",borderRadius:"10px",boxShadow:e?"0 10px 30px rgba(2,6,23,0.7)":"0 4px 15px rgba(0,0,0,0.1)"},c={textAlign:"center",marginBottom:"40px"},u={maxWidth:"300px",width:"100%",height:"auto",borderRadius:"10px",boxShadow:e?"0 10px 30px rgba(2,6,23,0.7)":"0 4px 15px rgba(0,0,0,0.2)"},h={display:"flex",flexDirection:"column",gap:"20px",marginTop:"30px"},f={background:e?"rgba(255,255,255,0.03)":"white",padding:"25px",borderRadius:"10px",boxShadow:e?"0 12px 36px rgba(2,6,23,0.7)":"0 4px 15px rgba(0,0,0,0.1)",border:e?"1px solid rgba(255,255,255,0.03)":"2px solid #e9ecef"},x={fontSize:"20px",fontWeight:"bold",color:e?"#e6eef8":"#2c3e50",marginBottom:"15px",textAlign:"center"},m={fontSize:"16px",lineHeight:"1.6",color:e?"#c8cdd3":"#555",textAlign:"center"},j={...f,borderColor:"#28a745"},y={...f,borderColor:"#007bff"},C={...f,borderColor:"#ffc107"};return s.jsxs("div",{style:r,children:[s.jsx(Hs,{onBack:()=>t("home")}),s.jsxs("main",{children:[s.jsxs("section",{style:n,children:[s.jsx("h2",{style:a,children:"Nosotros"}),s.jsxs("div",{style:o,children:[s.jsx("p",{style:{marginBottom:"20px"},children:"El Centro de Bachillerato Tecnolgico Agropecuario (CBTA) no. 134 se ha convertido en una de las mejores oportunidades para que las y los jvenes realicen sus estudios de nivel medio superior, porque al trmino de estos, no solo reciben su certificado sino tambin un ttulo de carrera tcnica."}),s.jsx("p",{style:{marginBottom:"20px"},children:"La escuela se ubica en el municipio de San Francisco Tetlanohcan, cuenta con un rea total de 27 hectreas, de ellas, 5 ya tienen construccin con aulas, canchas y reas para el fomento agropecuario, que la hace nica en su estilo en todo el Estado de Tlaxcala."}),s.jsx("p",{children:"Los estudiantes pueden optar por las carreras: Tcnico Agropecuario, Tcnico en Sistemas de Produccin Pecuaria, Tcnico en Programacin, Tcnico en Contabilidad y Tcnico en Ofimtica."})]}),s.jsx("div",{style:c,children:s.jsx("img",{src:"/images/campus.png",alt:"Campus CBTA 134",style:u})})]}),s.jsxs("section",{style:n,children:[s.jsx("h2",{style:a,children:"Misin, Visin y Lema"}),s.jsxs("div",{style:h,children:[s.jsxs("div",{style:j,children:[s.jsx("h3",{style:x,children:" Misin"}),s.jsx("p",{style:m,children:"Contribuir activamente en la formacin integral de nuestros estudiantes del bachillerato tecnolgico con un enfoque de desarrollo sustentable y emprendedor que los integre plenamente a la sociedad."})]}),s.jsxs("div",{style:y,children:[s.jsx("h3",{style:x,children:" Visin"}),s.jsx("p",{style:m,children:"Ser una institucin de calidad formadora de lderes del maana, reconocida por su excelencia educativa y compromiso con el desarrollo sustentable."})]}),s.jsxs("div",{style:C,children:[s.jsx("h3",{style:x,children:" Lema"}),s.jsx("p",{style:{...m,fontSize:"18px",fontWeight:"bold",color:"#2c3e50"},children:'"Formar e innovar para transformar"'})]})]})]}),s.jsxs("section",{style:n,children:[s.jsx("h2",{style:a,children:"Nuestros Valores"}),s.jsxs("div",{style:h,children:[s.jsxs("div",{style:f,children:[s.jsx("h3",{style:x,children:" Excelencia Acadmica"}),s.jsx("p",{style:m,children:"Nos comprometemos a brindar una educacin de la ms alta calidad, fomentando el pensamiento crtico y la innovacin."})]}),s.jsxs("div",{style:f,children:[s.jsx("h3",{style:x,children:" Responsabilidad Social"}),s.jsx("p",{style:m,children:"Formamos ciudadanos comprometidos con su comunidad y el desarrollo sostenible de la regin."})]}),s.jsxs("div",{style:f,children:[s.jsx("h3",{style:x,children:" Desarrollo Sustentable"}),s.jsx("p",{style:m,children:"Promovemos prcticas respetuosas con el medio ambiente y el uso responsable de los recursos naturales."})]}),s.jsxs("div",{style:f,children:[s.jsx("h3",{style:x,children:" Innovacin"}),s.jsx("p",{style:m,children:"Fomentamos la creatividad y el uso de nuevas tecnologas para preparar a nuestros estudiantes para el futuro."})]})]})]})]})]})},Bk=()=>typeof document>"u"?!1:document.body.classList.contains("dark-mode"),$k=({setCurrentView:t})=>{const e=Bk(),[r,n]=F.useState([]),a={paddingTop:"80px",minHeight:"100vh",backgroundColor:e?"transparent":"#f8f9fa"},o={padding:"20px",maxWidth:"100%",margin:"0 auto"},c={fontSize:"28px",fontWeight:"bold",color:"#2c3e50",marginBottom:"25px",textAlign:"center"},u={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginBottom:"30px"},h={background:e?"rgba(255,255,255,0.02)":"white",borderRadius:"10px",overflow:"hidden",boxShadow:e?"0 8px 30px rgba(0,0,0,0.6)":"0 4px 15px rgba(0,0,0,0.1)",transition:"transform 0.3s ease"},f={width:"100%",height:"200px",objectFit:"cover"},x={padding:"15px"},m={fontSize:"16px",fontWeight:"bold",color:"#2c3e50",marginBottom:"8px"},j={fontSize:"14px",color:"#666",lineHeight:"1.4"},y={fontSize:"22px",fontWeight:"bold",color:"#2c3e50",marginBottom:"20px",marginTop:"40px",textAlign:"center",borderBottom:"2px solid #3498db",paddingBottom:"10px"},C=[{src:"/assets/instalaciones/uno.jpg",title:"Instalacin Principal",desc:"Vista general de nuestras instalaciones educativas"},{src:"/assets/instalaciones/laboratorio.jpg",title:"Laboratorio",desc:"Modernos laboratorios para el desarrollo acadmico"},{src:"/assets/instalaciones/cafeteria.jpg",title:"Cafetera",desc:"Espacio de alimentacin y convivencia estudiantil"},{src:"/assets/instalaciones/almacen.jpg",title:"Almacn",desc:"rea de almacenamiento y recursos institucionales"},{src:"/assets/instalaciones/bosque.jpg",title:"rea Verde",desc:"Espacios naturales dentro del campus"},{src:"/assets/instalaciones/invern.jpg",title:"Invernadero",desc:"Instalaciones para prcticas agropecuarias"},{src:"/assets/instalaciones/radio.jpg",title:"Estacin de Radio",desc:"Estudio de radio estudiantil"},{src:"/assets/instalaciones/tres.jpg",title:"Edificio Acadmico",desc:"Aulas y espacios de enseanza"},{src:"/assets/instalaciones/cuatro.jpg",title:"rea Deportiva",desc:"Instalaciones para actividades fsicas"},{src:"/assets/instalaciones/cinco.jpg",title:"Zona de Talleres",desc:"Espacios para prcticas tcnicas"},{src:"/assets/instalaciones/seis.jpg",title:"Biblioteca",desc:"Centro de recursos bibliogrficos"},{src:"/assets/instalaciones/siete.jpg",title:"Auditorio",desc:"Espacio para eventos y ceremonias"}],k=[{src:"/img/basquet.jpg",title:"Torneo de Bsquetbol",desc:"Competencias deportivas entre equipos estudiantiles"},{src:"/img/futbol.jpg",title:"Liga de Ftbol",desc:"Actividades deportivas que fomentan el trabajo en equipo"},{src:"/img/boleibol.jpg",title:"Voleibol Escolar",desc:"Deportes que promueven la disciplina y el compaerismo"},{src:"/img/banda de guerra.jpg",title:"Banda de Guerra",desc:"Grupo musical que representa a nuestra institucin"},{src:"/img/baile folclorico.jpg",title:"Ballet Folklrico",desc:"Preservacin de nuestras tradiciones culturales"}],L=[{src:"/assets/clubs/banda.jpeg",title:"Banda de Guerra",desc:"Grupo musical que representa a la institucin"},{src:"/assets/clubs/basquet.jpg",title:"Club de Bsquetbol",desc:"Desarrollo de habilidades deportivas y trabajo en equipo"},{src:"/assets/clubs/voli.jpg",title:"Club de Voleibol",desc:"Deporte que fomenta la comunicacin y el compaerismo"},{src:"/assets/clubs/robotica.jpg",title:"Club de Robtica",desc:"Tecnologa, programacin e innovacin estudiantil"},{src:"/assets/clubs/robot.jpg",title:"Taller de Robtica",desc:"Construccin y programacin de robots"},{src:"/assets/clubs/rondalla.jpg",title:"Rondalla y Canto",desc:"Expresin musical y vocal tradicional"}],E=[{src:"/assets/cbta/logo.jpg",title:"Logo Institucional",desc:"Smbolo que nos representa como institucin educativa"},{src:"/assets/cbta/cbta.png",title:"CBTa 134",desc:"Centro de Bachillerato Tecnolgico Agropecuario No. 134"},{src:"/assets/cbta/cbb.jpg",title:"Campus Educativo",desc:"Nuestras instalaciones educativas de calidad"},{src:"/assets/cbta/cbtaj.jpg",title:"Actividades Institucionales",desc:"Eventos y ceremonias de nuestra comunidad educativa"},{src:"/assets/cbta/SAE.jpg",title:"Sistema de Apoyo Educativo",desc:"Programas de apoyo para el desarrollo estudiantil"},{src:"/assets/cbta/cct.png",title:"Clave del Centro de Trabajo",desc:"Identificacin oficial de nuestra institucin"},{src:"/assets/cbta/guardian.jpg",title:"Seguridad Escolar",desc:"Medidas de proteccin y seguridad en el campus"}],B=[{src:"/assets/galeria/1.jpg",title:"Momentos Especiales",desc:"Recuerdos de la vida estudiantil"},{src:"/assets/galeria/2.jpg",title:"Actividades Estudiantiles",desc:"Participacin activa de nuestros alumnos"},{src:"/assets/galeria/3.jpg",title:"Eventos Acadmicos",desc:"Celebraciones del logro educativo"},{src:"/assets/galeria/4.jpg",title:"Convivencia Escolar",desc:"Momentos de unin y compaerismo"},{src:"/assets/galeria/5.jpg",title:"",desc:""},{src:"/assets/galeria/6.jpg",title:"Comunidad Educativa",desc:"Unidos por la educacin de calidad"}],T=({src:z,title:ie,desc:se})=>s.jsxs("div",{style:h,onMouseEnter:Q=>Q.currentTarget.style.transform="translateY(-5px)",onMouseLeave:Q=>Q.currentTarget.style.transform="translateY(0)",children:[s.jsx("img",{src:z,alt:ie,style:f}),s.jsxs("div",{style:x,children:[s.jsx("h3",{style:m,children:ie}),s.jsx("p",{style:j,children:se})]})]});F.useEffect(()=>{(async()=>{const{data:ie}=await ue.from("gallery_items").select("*").order("order_index",{ascending:!0});n(ie||[])})()},[]);const D=F.useMemo(()=>r.length===0?{instalaciones:C,actividades:k,clubs:L,cbta:E,galeria:B}:{instalaciones:r.filter(z=>z.section==="instalaciones"),actividades:r.filter(z=>z.section==="actividades"),clubs:r.filter(z=>z.section==="clubs"),cbta:r.filter(z=>z.section==="cbta"),galeria:r.filter(z=>z.section==="galeria")},[r]);return s.jsxs("div",{style:a,children:[s.jsx(Hs,{onClick:()=>t("home")}),s.jsxs("div",{style:o,children:[s.jsx("h1",{style:c,children:" Galera CBTA 134"}),s.jsxs("section",{children:[s.jsx("h2",{style:y,children:" Nuestras Instalaciones"}),s.jsx("div",{style:u,children:D.instalaciones.map((z,ie)=>s.jsx(T,{src:z.image_url||z.src,title:z.title,desc:z.desc||z.description},z.id||ie))})]}),s.jsxs("section",{children:[s.jsx("h2",{style:y,children:" Actividades Deportivas"}),s.jsx("div",{style:u,children:D.actividades.map((z,ie)=>s.jsx(T,{src:z.image_url||z.src,title:z.title,desc:z.desc||z.description},z.id||ie))})]}),s.jsxs("section",{children:[s.jsx("h2",{style:y,children:"Participaciones de nuestros Clubes"}),s.jsx("div",{style:u,children:D.clubs.map((z,ie)=>s.jsx(T,{src:z.image_url||z.src,title:z.title,desc:z.desc||z.description},z.id||ie))})]}),s.jsxs("section",{children:[s.jsx("h2",{style:y,children:" CBTa 134"}),s.jsx("div",{style:u,children:D.cbta.map((z,ie)=>s.jsx(T,{src:z.image_url||z.src,title:z.title,desc:z.desc||z.description},z.id||ie))})]}),s.jsxs("section",{children:[s.jsx("h2",{style:y,children:" Galera General"}),s.jsx("div",{style:u,children:D.galeria.map((z,ie)=>s.jsx(T,{src:z.image_url||z.src,title:z.title,desc:z.desc||z.description},z.id||ie))})]}),s.jsxs("section",{style:{textAlign:"center",marginTop:"50px",padding:"30px",background:e?"rgba(255,255,255,0.02)":"white",borderRadius:"10px",boxShadow:e?"0 8px 30px rgba(0,0,0,0.6)":"0 4px 15px rgba(0,0,0,0.1)"},children:[s.jsx("h3",{style:{color:"#2c3e50",marginBottom:"15px"},children:"Quieres ver ms?"}),s.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Sguenos en nuestras redes sociales para ver ms fotos y videos de la vida estudiantil en el CBTA 134"}),s.jsx("a",{href:"https://www.facebook.com/share/15g75ZdJRg/",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",background:"#1877f2",color:"white",padding:"12px 25px",textDecoration:"none",borderRadius:"25px",fontSize:"16px",fontWeight:"bold",transition:"transform 0.3s"},onMouseEnter:z=>z.target.style.transform="translateY(-2px)",onMouseLeave:z=>z.target.style.transform="translateY(0)",children:" Visitar Facebook"})]})]})]})},Mk=()=>typeof document>"u"?!1:document.body.classList.contains("dark-mode"),qk=({setCurrentView:t})=>{const e=Mk(),[r,n]=F.useState([]),[a,o]=F.useState(!0);F.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:z,error:ie}=await ue.from("clubs").select("*").order("created_at",{ascending:!1});if(ie)throw ie;n(z||[])}catch(z){console.error("Error fetching clubs:",z)}finally{o(!1)}},u={paddingTop:"80px",minHeight:"100vh",backgroundColor:e?"transparent":"#f8f9fa"},h={padding:"20px",maxWidth:"1200px",margin:"0 auto"},f={fontSize:"28px",fontWeight:"bold",color:e?"#e6eef8":"#2c3e50",marginBottom:"25px",textAlign:"center"},x={fontSize:"16px",color:e?"#bfc7cf":"#666",textAlign:"center",marginBottom:"40px",lineHeight:"1.6",maxWidth:"800px",margin:"0 auto 40px auto"},m={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"25px",marginBottom:"40px"},j={padding:"20px"},y={fontSize:"18px",fontWeight:"bold",color:e?"#e6eef8":"#2c3e50",marginBottom:"10px"},C={fontSize:"14px",color:e?"#c8cdd3":"#666",lineHeight:"1.5",marginBottom:"15px"},k={fontSize:"13px",color:"#28a745",fontWeight:"bold"},L={fontSize:"22px",fontWeight:"bold",color:e?"#e6eef8":"#2c3e50",marginBottom:"20px",marginTop:"50px",textAlign:"center",borderBottom:"3px solid #3498db",paddingBottom:"10px"},E=({club:z})=>{const ie={background:e?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",overflow:"hidden",boxShadow:e?"0 12px 36px rgba(0,0,0,0.6)":"0 8px 25px rgba(0,0,0,0.1)",transition:"transform 0.3s ease, box-shadow 0.3s ease",border:e?"1px solid rgba(255,255,255,0.03)":"none",position:"relative",cursor:z.link?"pointer":"default",display:"flex",flexDirection:"column",height:"100%"},se=()=>{z.link&&window.open(z.link,"_blank")};return s.jsxs("div",{style:ie,onClick:se,onMouseEnter:Q=>{Q.currentTarget.style.transform="translateY(-8px)",Q.currentTarget.style.boxShadow=e?"0 15px 35px rgba(0,0,0,0.8)":"0 15px 35px rgba(0,0,0,0.15)"},onMouseLeave:Q=>{Q.currentTarget.style.transform="translateY(0)",Q.currentTarget.style.boxShadow=e?"0 12px 36px rgba(0,0,0,0.6)":"0 8px 25px rgba(0,0,0,0.1)"},children:[z.foto_url?s.jsx("div",{style:{width:"100%",height:"180px",overflow:"hidden",flexShrink:0},children:s.jsx("img",{src:z.foto_url,alt:z.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}):s.jsx("div",{style:{width:"100%",height:"150px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"56px",background:z.color||"linear-gradient(135deg, #6c5ce7, #a29bfe)",color:"white",flexShrink:0},children:s.jsx("span",{style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"},children:z.icono||""})}),s.jsxs("div",{style:j,children:[s.jsxs("h3",{style:y,children:[z.nombre,z.link&&s.jsx("span",{style:{fontSize:"12px",marginLeft:"5px"},children:""})]}),s.jsx("p",{style:C,children:z.descripcion}),s.jsx("div",{style:{marginTop:"auto"},children:s.jsx("p",{style:k,children:z.beneficios})})]})]})},B=r.filter(z=>z.categoria==="Deportivo"),T=r.filter(z=>z.categoria==="Cultural"),D=r.filter(z=>z.categoria==="Academico");return s.jsxs("div",{style:u,children:[s.jsx(Hs,{onBack:()=>t("home")}),s.jsxs("div",{style:h,children:[s.jsx("h1",{style:f,children:" Clubes y Actividades Extracurriculares"}),s.jsx("p",{style:x,children:"En el CBTA 134 creemos en la formacin integral de nuestros estudiantes. Por eso ofrecemos una amplia variedad de clubes y actividades que complementan tu educacin acadmica, desarrollando habilidades sociales, fsicas y culturales."}),a?s.jsx("p",{style:{textAlign:"center",color:e?"white":"black"},children:"Cargando clubes..."}):s.jsxs(s.Fragment,{children:[B.length>0&&s.jsxs("section",{children:[s.jsx("h2",{style:L,children:" Clubes Deportivos"}),s.jsx("div",{style:m,children:B.map(z=>s.jsx(E,{club:z},z.id))})]}),T.length>0&&s.jsxs("section",{children:[s.jsx("h2",{style:L,children:" Clubes Culturales"}),s.jsx("div",{style:m,children:T.map(z=>s.jsx(E,{club:z},z.id))})]}),D.length>0&&s.jsxs("section",{children:[s.jsx("h2",{style:L,children:" Clubes Acadmicos"}),s.jsx("div",{style:m,children:D.map(z=>s.jsx(E,{club:z},z.id))})]}),r.length===0&&s.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#999"},children:s.jsx("p",{children:"No hay clubes registrados por el momento."})})]}),s.jsxs("section",{style:{background:"linear-gradient(135deg, var(--primary-color), var(--secondary-color))",borderRadius:"20px",padding:"40px 20px",textAlign:"center",color:"white",marginTop:"50px"},children:[s.jsx("h3",{style:{fontSize:"24px",marginBottom:"20px"},children:" Por qu unirte a un club?"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginTop:"30px"},children:[s.jsxs("div",{children:[s.jsx("h4",{style:{fontSize:"18px",marginBottom:"10px"},children:" Socializacin"}),s.jsx("p",{style:{fontSize:"14px",opacity:"0.9"},children:"Conoce nuevos amigos con intereses similares"})]}),s.jsxs("div",{children:[s.jsx("h4",{style:{fontSize:"18px",marginBottom:"10px"},children:" Habilidades"}),s.jsx("p",{style:{fontSize:"14px",opacity:"0.9"},children:"Desarrolla talentos y competencias especiales"})]}),s.jsxs("div",{children:[s.jsx("h4",{style:{fontSize:"18px",marginBottom:"10px"},children:" Logros"}),s.jsx("p",{style:{fontSize:"14px",opacity:"0.9"},children:"Participa en competencias y eventos"})]}),s.jsxs("div",{children:[s.jsx("h4",{style:{fontSize:"18px",marginBottom:"10px"},children:" Crecimiento"}),s.jsx("p",{style:{fontSize:"14px",opacity:"0.9"},children:"Fortalece tu desarrollo personal"})]})]})]}),s.jsxs("section",{style:{background:e?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",padding:"30px",marginTop:"30px",boxShadow:e?"0 12px 35px rgba(0,0,0,0.6)":"0 8px 25px rgba(0,0,0,0.1)",textAlign:"center"},children:[s.jsx("h3",{style:{color:e?"#e6eef8":"#2c3e50",marginBottom:"15px"},children:" Cmo inscribirse?"}),s.jsx("p",{style:{color:e?"#c8cdd3":"#666",marginBottom:"20px",lineHeight:"1.6"},children:"Las inscripciones a clubes se realizan al inicio de cada semestre. Acrcate con el coordinador de actividades extracurriculares o pregunta a tu maestro tutor para ms informacin sobre horarios y requisitos."})]})]})]})},Uk=({setCurrentView:t})=>{const[e,r]=F.useState([]),[n,a]=F.useState(!0),[o,c]=F.useState(null);F.useEffect(()=>{u()},[]);const u=async()=>{try{const{data:B,error:T}=await ue.from("carreras_tecnicas").select("*").order("created_at",{ascending:!1});if(T)throw T;r(B||[])}catch(B){console.error("Error fetching careers:",B)}finally{a(!1)}};if(o)return s.jsx(zk,{career:o,onBack:()=>c(null),setCurrentView:t});const h={paddingTop:"80px",minHeight:"100vh",backgroundColor:"#ffffff"},f={padding:"20px",maxWidth:"100%",margin:"0 auto"},x={fontSize:"28px",fontWeight:"bold",color:"#28a745",marginBottom:"25px",textAlign:"center"},m={background:"#e9f7ef",borderRadius:"15px",padding:"25px",marginBottom:"30px",boxShadow:"0 8px 25px rgba(0,0,0,0.1)",textAlign:"center"},j={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"25px",marginBottom:"40px"},y={background:"#f8fdf8",borderRadius:"15px",overflow:"hidden",boxShadow:"0 8px 25px rgba(0,0,0,0.1)",transition:"transform 0.3s ease, box-shadow 0.3s ease",border:"1px solid #28a745",cursor:"pointer"},C={padding:"25px"},k={fontSize:"20px",fontWeight:"bold",marginBottom:"15px",color:"#28a745"},L={fontSize:"14px",color:"#555",lineHeight:"1.6",marginBottom:"20px",minHeight:"60px"},E=({career:B})=>s.jsxs("div",{style:y,onClick:()=>c(B),onMouseEnter:T=>{T.currentTarget.style.transform="translateY(-8px)",T.currentTarget.style.boxShadow="0 15px 35px rgba(40, 167, 69, 0.3)"},onMouseLeave:T=>{T.currentTarget.style.transform="translateY(0)",T.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.1)"},children:[B.imagen_url&&s.jsx("div",{style:{width:"100%",height:"180px",overflow:"hidden"},children:s.jsx("img",{src:B.imagen_url,alt:B.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),s.jsxs("div",{style:C,children:[s.jsx("h3",{style:k,children:B.nombre}),s.jsx("p",{style:L,children:B.descripcion||"Formacin tcnica de excelencia"}),s.jsx("button",{style:{display:"inline-block",background:"#28a745",color:"white",padding:"10px 20px",borderRadius:"20px",border:"none",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.3s ease",width:"100%"},onMouseEnter:T=>T.target.style.backgroundColor="#218838",onMouseLeave:T=>T.target.style.backgroundColor="#28a745",children:"Ver ms informacin "})]})]});return s.jsxs("div",{style:h,children:[s.jsx(Hs,{onClick:()=>t("home")}),s.jsxs("div",{style:f,children:[s.jsx("h1",{style:x,children:" Programas Educativos"}),s.jsxs("section",{style:m,children:[s.jsx("h2",{style:{color:"#28a745",marginBottom:"20px"},children:"Formacin Tcnica de Excelencia"}),s.jsx("p",{style:{color:"#555",fontSize:"16px",lineHeight:"1.6",marginBottom:"20px"},children:"En el CBTA 134 ofrecemos programas educativos de nivel medio superior que combinan formacin acadmica slida con competencias tcnicas especializadas. Nuestros egresados estn preparados tanto para incorporarse al mercado laboral como para continuar estudios superiores."}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"20px",marginTop:"30px"},children:[s.jsxs("div",{children:[s.jsx("h4",{style:{color:"#28a745",fontSize:"24px",margin:"0 0 5px 0"},children:e.length}),s.jsx("p",{style:{color:"#555",fontSize:"14px",margin:0},children:"Carreras Tcnicas"})]}),s.jsxs("div",{children:[s.jsx("h4",{style:{color:"#28a745",fontSize:"24px",margin:"0 0 5px 0"},children:"3"}),s.jsx("p",{style:{color:"#555",fontSize:"14px",margin:0},children:"Aos de Duracin"})]}),s.jsxs("div",{children:[s.jsx("h4",{style:{color:"#28a745",fontSize:"24px",margin:"0 0 5px 0"},children:"100%"}),s.jsx("p",{style:{color:"#555",fontSize:"14px",margin:0},children:"Validez Oficial"})]})]})]}),s.jsx("section",{children:n?s.jsx("p",{style:{textAlign:"center",color:"#666"},children:"Cargando carreras tcnicas..."}):e.length>0?s.jsx("div",{style:j,children:e.map(B=>s.jsx(E,{career:B},B.id))}):s.jsx("p",{style:{textAlign:"center",color:"#999",padding:"40px"},children:"No hay carreras registradas por el momento."})})]})]})},zk=({career:t,onBack:e,setCurrentView:r})=>{const n={paddingTop:"80px",minHeight:"100vh",backgroundColor:"#ffffff",padding:"80px 20px 40px 20px"},a={maxWidth:"900px",margin:"0 auto"},o={background:"#28a745",color:"white",padding:"40px",borderRadius:"15px",marginBottom:"30px",textAlign:"center"},c={background:"white",padding:"30px",borderRadius:"15px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",border:"1px solid #e0e0e0"},u={fontSize:"20px",fontWeight:"bold",color:"#28a745",marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px"},h={fontSize:"16px",color:"#555",lineHeight:"1.8",whiteSpace:"pre-wrap"};return s.jsxs("div",{style:n,children:[s.jsx(Hs,{onClick:e,text:" Regresar a Carreras"}),s.jsxs("div",{style:a,children:[t.imagen_url&&s.jsx("div",{style:{width:"100%",height:"300px",borderRadius:"15px",overflow:"hidden",marginBottom:"20px"},children:s.jsx("img",{src:t.imagen_url,alt:t.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),s.jsxs("div",{style:o,children:[s.jsx("h1",{style:{margin:"0 0 10px 0",fontSize:"32px"},children:t.nombre}),t.descripcion&&s.jsx("p",{style:{margin:0,fontSize:"18px",opacity:.95},children:t.descripcion})]}),t.programa_competencia&&s.jsxs("div",{style:c,children:[s.jsx("h2",{style:u,children:" Programa de Competencias"}),s.jsx("p",{style:h,children:t.programa_competencia})]}),t.justificacion&&s.jsxs("div",{style:c,children:[s.jsx("h2",{style:u,children:" Justificacin"}),s.jsx("p",{style:h,children:t.justificacion})]}),t.perfil_egreso&&s.jsxs("div",{style:c,children:[s.jsx("h2",{style:u,children:" Perfil de Egreso"}),s.jsx("p",{style:h,children:t.perfil_egreso})]}),t.area_especializacion&&s.jsxs("div",{style:c,children:[s.jsx("h2",{style:u,children:" rea de Especializacin"}),s.jsx("p",{style:h,children:t.area_especializacion})]}),t.habilidades_socioemocionales&&s.jsxs("div",{style:c,children:[s.jsx("h2",{style:u,children:" Habilidades Socioemocionales"}),s.jsx("p",{style:h,children:t.habilidades_socioemocionales})]}),t.oportunidades_profesionales&&s.jsxs("div",{style:c,children:[s.jsx("h2",{style:u,children:" Oportunidades Profesionales"}),s.jsx("p",{style:h,children:t.oportunidades_profesionales})]}),t.plan_estudios_url&&s.jsxs("div",{style:{...c,padding:"30px"},children:[s.jsx("h2",{style:{...u,justifyContent:"center",textAlign:"center"},children:" Plan de Estudios"}),s.jsx("p",{style:{marginBottom:"20px",color:"#555",textAlign:"center"},children:"Vista previa del documento oficial del plan de estudios"}),s.jsx("div",{style:{marginBottom:"20px",borderRadius:"10px",overflow:"hidden",boxShadow:"0 4px 15px rgba(0,0,0,0.15)"},children:s.jsx("iframe",{src:`${t.plan_estudios_url}#page=${t.pdf_start_page||1}`,style:{width:"100%",height:"600px",border:"none"},title:"Plan de Estudios"})}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("a",{href:t.plan_estudios_url,download:!0,style:{display:"inline-block",background:"#28a745",color:"white",padding:"15px 30px",borderRadius:"25px",textDecoration:"none",fontSize:"16px",fontWeight:"bold",transition:"background-color 0.3s ease",boxShadow:"0 4px 10px rgba(40, 167, 69, 0.3)"},onMouseEnter:f=>f.target.style.backgroundColor="#218838",onMouseLeave:f=>f.target.style.backgroundColor="#28a745",children:" Descargar Plan de Estudios (PDF)"}),s.jsxs("p",{style:{marginTop:"10px",fontSize:"13px",color:"#777"},children:["Mostrando desde la pgina ",t.pdf_start_page||1]})]})]})]})]})},Hk=()=>{try{return typeof document<"u"&&document.body.classList.contains("dark-mode")}catch{return!1}},Wk=({setCurrentView:t})=>{const e=Hk(),[r,n]=F.useState(null),[a,o]=F.useState([]),[c,u]=F.useState([]),[h,f]=F.useState(null),[x,m]=F.useState([]),[j,y]=F.useState(null);F.useEffect(()=>{(async()=>{const{data:J}=await ue.from("contact_main").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:de}=await ue.from("contact_directory").select("*").order("order_index",{ascending:!0}),{data:O}=await ue.from("contact_social").select("*").order("order_index",{ascending:!0}),{data:K}=await ue.from("contact_location").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:ae}=await ue.from("contact_faq").select("*").order("order_index",{ascending:!0}),{data:ce}=await ue.from("contact_cta").select("*").order("created_at",{ascending:!1}).limit(1).single();n(J||null),o(de||[]),u(O||[]),f(K||null),m(ae||[]),y(ce||null)})()},[]);const C={paddingTop:"80px",minHeight:"100vh",backgroundColor:e?"#0f1720":"#f8f9fa"},k={padding:"20px",maxWidth:"100%",margin:"0 auto"},L={fontSize:"28px",fontWeight:"bold",color:e?"#e6eef8":"#2c3e50",marginBottom:"25px",textAlign:"center"},E={background:e?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",padding:"25px",marginBottom:"25px",boxShadow:e?"0 12px 35px rgba(2,6,23,0.7)":"0 8px 25px rgba(0,0,0,0.1)"},B={fontSize:"20px",fontWeight:"bold",color:e?"#93c5fd":"#3498db",marginBottom:"20px",textAlign:"center"},T={display:"flex",alignItems:"flex-start",marginBottom:"20px",padding:"15px",backgroundColor:e?"rgba(255,255,255,0.02)":"#f8f9fa",borderRadius:"10px",border:e?"1px solid rgba(255,255,255,0.05)":"1px solid #e9ecef"},D={fontSize:"24px",marginRight:"15px",marginTop:"2px",flexShrink:0},z={color:e?"#93c5fd":"#3498db",textDecoration:"none",transition:"color 0.3s ease"},ie={borderRadius:"15px",overflow:"hidden",boxShadow:e?"0 8px 25px rgba(0,0,0,0.6)":"0 4px 15px rgba(0,0,0,0.2)"},se={display:"inline-block",background:"linear-gradient(135deg, #1877f2, #42a5f5)",color:"white",padding:"15px 30px",borderRadius:"25px",textDecoration:"none",fontSize:"16px",fontWeight:"bold",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(24, 119, 242, 0.3)"};return s.jsxs("div",{style:C,children:[s.jsx(Hs,{onClick:()=>t("home")}),s.jsxs("div",{style:k,children:[s.jsx("h1",{style:L,children:" Contacto"}),s.jsxs("section",{style:E,children:[s.jsx("h2",{style:B,children:" Informacin de Contacto"}),s.jsxs("div",{style:T,children:[s.jsx("span",{style:D,children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Direccin:"}),s.jsx("br",{}),(r==null?void 0:r.address_line1)||"CARRETERA TETLANOHCAN A MALINTZIN KILMETRO NUM. 3",s.jsx("br",{}),(r==null?void 0:r.address_line2)||"San Francisco, Mxico, 90800",r!=null&&r.address_line3?s.jsxs(s.Fragment,{children:[s.jsx("br",{}),r.address_line3]}):null]})]}),s.jsxs("div",{style:T,children:[s.jsx("span",{style:D,children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Telfono:"}),s.jsx("br",{}),s.jsx("a",{href:r!=null&&r.phone?`tel:${r.phone.replace(/\s/g,"")}`:"tel:+522464623456",style:z,children:(r==null?void 0:r.phone)||"01 (246) 46 2 34 56"})]})]}),s.jsxs("div",{style:T,children:[s.jsx("span",{style:D,children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Correo Electrnico:"}),s.jsx("br",{}),s.jsx("a",{href:r!=null&&r.email?`mailto:${r.email}`:"mailto:cbta134@yahoo.com.mx",style:z,children:(r==null?void 0:r.email)||"cbta134@yahoo.com.mx"})]})]}),s.jsxs("div",{style:T,children:[s.jsx("span",{style:D,children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Sitio Web:"}),s.jsx("br",{}),s.jsx("a",{href:(r==null?void 0:r.website)||"http://www.cbta134.edu.mx/",target:"_blank",rel:"noopener noreferrer",style:z,children:(r==null?void 0:r.website)||"www.cbta134.edu.mx"})]})]}),s.jsxs("div",{style:T,children:[s.jsx("span",{style:D,children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Calificacin:"}),s.jsx("br",{}),(r==null?void 0:r.rating_text)||"Recomendado por el 92% (17 opiniones)"]})]}),s.jsxs("div",{style:T,children:[s.jsx("span",{style:D,children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Horario de Atencin:"}),s.jsx("br",{}),s.jsx("span",{style:{color:"#28a745",fontWeight:"bold"},children:(r==null?void 0:r.status_text)||" Abierto ahora"}),s.jsx("br",{}),(r==null?void 0:r.hours_line1)||"Lunes a Viernes: 7:00 AM - 4:00 PM",s.jsx("br",{}),(r==null?void 0:r.hours_line2)||"Sbados: 8:00 AM - 12:00 PM"]})]})]}),s.jsxs("section",{style:E,children:[s.jsx("h2",{style:B,children:" Directorio"}),a.map(Q=>s.jsxs("div",{style:T,children:[s.jsx("span",{style:D,children:Q.icon||""}),s.jsxs("div",{children:[s.jsx("strong",{children:Q.title}),s.jsx("br",{}),Q.detail]})]},Q.id))]}),s.jsxs("section",{style:E,children:[s.jsx("h2",{style:B,children:" Sguenos en Redes Sociales"}),s.jsx("div",{style:{textAlign:"center"},children:c.length===0?s.jsxs(s.Fragment,{children:[s.jsx("a",{href:"https://www.facebook.com/share/15g75ZdJRg/",target:"_blank",rel:"noopener noreferrer",style:se,onMouseEnter:Q=>Q.target.style.transform="translateY(-3px)",onMouseLeave:Q=>Q.target.style.transform="translateY(0)",children:" Facebook Oficial"}),s.jsx("p",{style:{color:e?"#bfc7cf":"#666",marginTop:"15px"},children:"Mantente informado sobre noticias, eventos y actividades de nuestra institucin"})]}):c.map(Q=>s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsxs("a",{href:Q.url,target:"_blank",rel:"noopener noreferrer",style:se,onMouseEnter:J=>J.target.style.transform="translateY(-3px)",onMouseLeave:J=>J.target.style.transform="translateY(0)",children:[Q.icon||""," ",Q.name]}),s.jsx("p",{style:{color:e?"#bfc7cf":"#666",marginTop:"10px"},children:Q.description})]},Q.id))})]}),s.jsxs("section",{style:E,children:[s.jsx("h2",{style:B,children:" Ubicacin"}),s.jsx("p",{style:{textAlign:"center",marginBottom:"20px",color:"#666"},children:(h==null?void 0:h.address_text)||"CARRETERA TETLANOHCAN A MALINTZIN KILMETRO NUM. 3, San Francisco, Mxico"}),s.jsx("div",{style:ie,children:s.jsx("iframe",{title:"Ubicacin CBTA 134",src:(h==null?void 0:h.map_embed_url)||"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3771.8962250553377!2d-98.14220228509102!3d19.261621686935783!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85cfdd8ebaaaaaab%3A0x27dafbca82bfb2a0!2sCarretera%20Tetlanohcan%20a%20Malintzin%2C%20San%20Francisco%2C%20Tlax.!5e0!3m2!1sen!2smx!4v1648000000000!5m2!1sen!2smx",width:"100%",height:"400",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]}),s.jsxs("section",{style:E,children:[s.jsx("h2",{style:B,children:" Preguntas Frecuentes"}),x.map(Q=>s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("h4",{style:{color:e?"#e6eef8":"#2c3e50",marginBottom:"8px"},children:Q.question}),s.jsx("p",{style:{color:e?"#bfc7cf":"#666",marginBottom:"15px"},children:Q.answer})]},Q.id))]}),s.jsxs("section",{className:"contacto-info-section",style:{...E,background:e?"linear-gradient(135deg, #1e3c72, #2a5298)":"linear-gradient(135deg, #667eea, #764ba2)",color:"white",textAlign:"center"},children:[s.jsx("h2",{style:{...B,color:"white"},children:(j==null?void 0:j.title)||" Necesitas ms informacin?"}),s.jsx("p",{style:{marginBottom:"20px",fontSize:"16px",color:"white"},children:(j==null?void 0:j.description)||"Estamos aqu para ayudarte. No dudes en contactarnos para resolver todas tus dudas sobre nuestros programas educativos, proceso de admisin o cualquier otra consulta."}),s.jsx("div",{style:{background:"rgba(255,255,255,0.2)",borderRadius:"10px",padding:"20px",marginTop:"20px",backdropFilter:"blur(10px)"},children:s.jsx("p",{style:{margin:0,fontWeight:"bold",color:"white"},children:(j==null?void 0:j.highlight_text)||" Tu futuro comienza aqu en el CBTA 134! "})})]})]})]})},Vk=()=>{const[t,e]=F.useState(null),[r,n]=F.useState([]);return F.useEffect(()=>{(async()=>{const{data:o}=await ue.from("credits_config").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:c}=await ue.from("credits_authors").select("*").order("order_index",{ascending:!0});e(o||null),n(c||[])})()},[]),s.jsxs("div",{style:{minHeight:"100vh",padding:"80px 20px 40px",background:"#f8f9fa"},children:[s.jsx(Hs,{onClick:()=>window.history.back()}),s.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",background:"white",borderRadius:"20px",padding:"30px",boxShadow:"0 15px 35px rgba(0,0,0,0.1)"},children:[s.jsx("h1",{style:{textAlign:"center",color:"#2c3e50",marginBottom:"10px"},children:(t==null?void 0:t.title)||"Crditos"}),s.jsx("p",{style:{textAlign:"center",color:"#666",marginBottom:"30px"},children:(t==null?void 0:t.subtitle)||"Autores de la pgina"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:"20px"},children:r.map(a=>s.jsxs("div",{style:{background:"#f8f9fa",borderRadius:"15px",padding:"20px",border:"1px solid #e9ecef"},children:[s.jsx("img",{src:a.photo_url||"/images/cbta134.png",alt:a.full_name,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"12px",marginBottom:"12px"}}),s.jsx("h3",{style:{color:"#2c3e50",marginBottom:"6px"},children:a.full_name}),s.jsx("p",{style:{color:"#28a745",fontWeight:"bold",marginBottom:"8px"},children:a.career}),s.jsx("p",{style:{color:"#666",fontSize:"0.95rem"},children:a.description})]},a.id))}),(t==null?void 0:t.license_text)&&s.jsxs("div",{style:{marginTop:"30px",background:"#eef2ff",borderRadius:"12px",padding:"20px"},children:[s.jsx("h3",{style:{color:"#1e3a8a",marginBottom:"10px"},children:(t==null?void 0:t.license_title)||"Licencia"}),s.jsx("p",{style:{color:"#374151"},children:t.license_text})]})]})]})},Gk=()=>{const[t,e]=F.useState({conversations:[],activeId:null}),[r,n]=F.useState(""),[a,o]=F.useState(!1),[c,u]=F.useState(null),h=F.useRef(null);F.useEffect(()=>{(async()=>{const D=await mx();if(D.conversations.length)e(D);else{const z=k0("Camalen IA");z.messages.push({id:`msg-${Date.now()}`,text:"Hola! Soy **Camalen IA**, tu asistente virtual del CBTA 134. En qu puedo ayudarte hoy?",sender:"bot",createdAt:new Date().toISOString()});const ie={conversations:[z],activeId:z.id};e(ie),await mf(ie)}})()},[]),F.useEffect(()=>{t.conversations.length&&mf(t)},[t]),F.useEffect(()=>{(async()=>{const{data:D,error:z}=await ue.from("chatbot_config").select("*").order("updated_at",{ascending:!1}).limit(1).maybeSingle();z||u(D||null)})()},[]),F.useEffect(()=>{var T;(T=h.current)==null||T.scrollIntoView({behavior:"smooth"})},[t,a]);const f=F.useMemo(()=>Al(t),[t]),x=T=>T?T.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\n/g,"<br />"):"",m=T=>T.replace(/<[^>]*>/g,""),j=(T,D)=>D?D.replace(/\/$/,""):T==="groq"?"https://api.groq.com/openai/v1":T==="gemini"?"https://generativelanguage.googleapis.com/v1beta":"https://api.groq.com/openai/v1",y=T=>T==="groq"?(c==null?void 0:c.groq_api_key)||(c==null?void 0:c.api_key)||"":T==="gemini"?(c==null?void 0:c.gemini_api_key)||(c==null?void 0:c.api_key)||"":(c==null?void 0:c.api_key)||"",C=async()=>{if(!(c!=null&&c.enable_db_context))return"";const{data:T,error:D}=await ue.rpc("get_chatbot_context");return D?"":JSON.stringify(T||{},null,2)},k=async({providerToUse:T,fullSystemPrompt:D,historyMessages:z})=>{var K,ae,ce,we,Ae,ve,H,he;const ie=y(T);if(!ie)throw new Error(`No hay API key configurada para ${T}.`);const se=j(T,(c==null?void 0:c.base_url)||""),Q=(c==null?void 0:c.model)||(T==="gemini"?"gemini-3.0-flash":"llama-3.1-8b-instant"),J=T==="gemini"?`${se}/models/${Q}:generateContent?key=${ie}`:`${se}/chat/completions`,de=await fetch(J,{method:"POST",headers:{"Content-Type":"application/json",...T==="gemini"?{}:{Authorization:`Bearer ${ie}`}},body:JSON.stringify(T==="gemini"?{contents:[{parts:[{text:`${D}

Historial de la conversacin:
${z.map(xe=>`${xe.role==="user"?"Usuario":"Chatbot"}: ${xe.content}`).join(`
`)}

Usuario: ${r}`}]}]}:{model:Q,messages:[{role:"system",content:D},...z,{role:"user",content:r}],temperature:.3})});if(!de.ok){const xe=await de.text();throw new Error(`Error de la API (${T}): ${de.status} - ${xe}`)}const O=await de.json();if(T==="gemini"&&((Ae=(we=(ce=(ae=(K=O.candidates)==null?void 0:K[0])==null?void 0:ae.content)==null?void 0:ce.parts)==null?void 0:we[0])!=null&&Ae.text))return O.candidates[0].content.parts[0].text;if((he=(H=(ve=O.choices)==null?void 0:ve[0])==null?void 0:H.message)!=null&&he.content)return O.choices[0].message.content;throw O.error?new Error(O.error.message):new Error("Respuesta no vlida del proveedor.")},L=async T=>{if(T.preventDefault(),!r.trim()||!f||c&&c.enabled===!1)return;const D={id:`msg-${Date.now()}`,text:r,sender:"user",createdAt:new Date().toISOString()};try{await ue.from("chatbot_questions").insert([{question_text:r,source_page:window.location.pathname,conversation_id:f.id,user_agent:navigator.userAgent}])}catch{}e(z=>{const ie=Al(z);if(!ie)return z;const se={...ie,messages:[...ie.messages,D]};return fu(z,se)}),n(""),o(!0);try{const z=await C(),ie=((c==null?void 0:c.system_prompt)||im).trim(),se=z?`${ie}

Contexto de la base de datos (JSON):
${z}`:ie,Q=f.messages.slice(-10).map(we=>({role:we.sender==="user"?"user":"assistant",content:m(we.text)})),J=((c==null?void 0:c.provider)||"groq").toLowerCase(),de=((c==null?void 0:c.primary_provider)||J||"groq").toLowerCase(),O=(c==null?void 0:c.fallback_enabled)===!0,K=de==="groq"?"gemini":"groq";let ae=null;try{ae=await k({providerToUse:O?de:J,fullSystemPrompt:se,historyMessages:Q})}catch(we){if(O)ae=await k({providerToUse:K,fullSystemPrompt:se,historyMessages:Q});else throw we}const ce={id:`msg-${Date.now()}`,text:ae,sender:"bot",createdAt:new Date().toISOString()};e(we=>{const Ae=Al(we);if(!Ae)return we;const ve={...Ae,messages:[...Ae.messages,ce]};return fu(we,ve)})}catch(z){const ie={id:`msg-${Date.now()}`,text:`Error: ${z.message}`,sender:"bot",createdAt:new Date().toISOString()};e(se=>{const Q=Al(se);if(!Q)return se;const J={...Q,messages:[...Q.messages,ie]};return fu(se,J)})}o(!1)},E=()=>{const T=k0("Nueva conversacin"),D={conversations:[T,...t.conversations],activeId:T.id};e(D)},B=T=>{e(D=>z_(D,T))};return s.jsxs("div",{className:"chatbot-full",children:[s.jsxs("aside",{className:"chatbot-sidebar",children:[s.jsxs("div",{className:"sidebar-header",children:[s.jsx("h2",{children:"Camalen IA"}),s.jsx("button",{onClick:E,children:"Nueva"})]}),s.jsx("div",{className:"chat-list",children:t.conversations.map(T=>s.jsxs("button",{className:`chat-list-item ${T.id===t.activeId?"active":""}`,onClick:()=>B(T.id),children:[s.jsx("span",{children:T.title}),s.jsxs("small",{children:[T.messages.length," mensajes"]})]},T.id))})]}),s.jsxs("main",{className:"chatbot-main",children:[s.jsxs("header",{className:"chatbot-main-header",children:[s.jsxs("div",{children:[s.jsx("h3",{children:(f==null?void 0:f.title)||"Camalen IA"}),s.jsx("p",{children:"Asistente institucional CBTa 134"})]}),s.jsx("button",{onClick:()=>window.close(),className:"close-full",children:"Cerrar"})]}),s.jsxs("section",{className:"chatbot-main-messages",children:[f==null?void 0:f.messages.map(T=>s.jsx("div",{className:`full-message ${T.sender}`,children:s.jsx("div",{dangerouslySetInnerHTML:{__html:x(T.text)}})},T.id)),a&&s.jsx("div",{className:"full-message bot",children:"Escribiendo..."}),s.jsx("div",{ref:h})]}),s.jsxs("form",{className:"chatbot-main-input",onSubmit:L,children:[s.jsx("input",{value:r,onChange:T=>n(T.target.value),placeholder:"Escribe tu mensaje..."}),s.jsx("button",{type:"submit",disabled:a,children:"Enviar"})]})]})]})},Kk=({onBack:t})=>{const[e,r]=F.useState(!0),[n,a]=F.useState(null),[o,c]=F.useState([]),[u,h]=F.useState([]),[f,x]=F.useState([]),[m,j]=F.useState([]),[y,C]=F.useState({days:0,hours:0,minutes:0,seconds:0});return F.useEffect(()=>{const k=()=>{const E=(n==null?void 0:n.target_date)||"2026-06-15T00:00:00",D=new Date(E)-new Date;D>0?C({days:Math.floor(D/864e5),hours:Math.floor(D/36e5%24),minutes:Math.floor(D/1e3/60%60),seconds:Math.floor(D/1e3%60)}):C({days:0,hours:0,minutes:0,seconds:0})};k();const L=setInterval(k,1e3);return()=>clearInterval(L)},[n]),F.useEffect(()=>{(async()=>{r(!0);const{data:L}=await ue.from("baetam_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:E}=await ue.from("baetam_info_cards").select("*").order("order_index",{ascending:!0}),{data:B}=await ue.from("baetam_requirements").select("*").order("order_index",{ascending:!0}),{data:T}=await ue.from("baetam_advantages").select("*").order("order_index",{ascending:!0}),{data:D}=await ue.from("baetam_contact_lines").select("*").order("order_index",{ascending:!0});a(L||null),c(E||[]),h(B||[]),x(T||[]),j(D||[]),r(!1)})()},[]),s.jsxs("div",{className:"baetam-page",children:[s.jsx("button",{className:"back-button",onClick:t,children:" Regresar al inicio"}),s.jsxs("div",{className:"baetam-container",children:[s.jsxs("div",{className:"baetam-header",children:[s.jsx("img",{src:(n==null?void 0:n.hero_image_url)||"/baetam/baetam.jpg",alt:"BAETAM - Bachillerato Autoplaneado",className:"baetam-hero-image"}),s.jsxs("div",{className:"baetam-header-content",children:[s.jsx("h1",{className:"baetam-title",children:(n==null?void 0:n.title)||"BAETAM"}),s.jsx("h2",{className:"baetam-subtitle",children:(n==null?void 0:n.subtitle)||"Bachillerato Autoplaneado de Educacin Tecnolgica Agropecuaria y del Mar"})]})]}),s.jsx("div",{className:"baetam-info",children:o.map(k=>s.jsxs("div",{className:"info-card",children:[s.jsx("h3",{children:k.title}),s.jsx("p",{children:k.description})]},k.id))}),s.jsxs("div",{className:"inscriptions-section",children:[s.jsx("h2",{className:"section-title",children:(n==null?void 0:n.inscriptions_title)||"Prximas Inscripciones"}),s.jsxs("div",{className:"inscription-period",children:[s.jsx("h3",{children:(n==null?void 0:n.inscriptions_period_title)||" Perodo de Inscripciones: Mayo - Junio 2026"}),s.jsx("p",{children:(n==null?void 0:n.inscriptions_period_description)||"Las inscripciones para el nuevo ciclo escolar estarn abiertas durante los meses de mayo y junio de 2026."})]}),s.jsxs("div",{className:"countdown-section",children:[s.jsx("h3",{children:(n==null?void 0:n.countdown_label)||" Tiempo restante para las inscripciones:"}),s.jsxs("div",{className:"countdown-timer",children:[s.jsxs("div",{className:"time-unit",children:[s.jsx("span",{className:"time-number",children:y.days}),s.jsx("span",{className:"time-label",children:"Das"})]}),s.jsx("div",{className:"time-separator",children:":"}),s.jsxs("div",{className:"time-unit",children:[s.jsx("span",{className:"time-number",children:y.hours.toString().padStart(2,"0")}),s.jsx("span",{className:"time-label",children:"Horas"})]}),s.jsx("div",{className:"time-separator",children:":"}),s.jsxs("div",{className:"time-unit",children:[s.jsx("span",{className:"time-number",children:y.minutes.toString().padStart(2,"0")}),s.jsx("span",{className:"time-label",children:"Minutos"})]}),s.jsx("div",{className:"time-separator",children:":"}),s.jsxs("div",{className:"time-unit",children:[s.jsx("span",{className:"time-number",children:y.seconds.toString().padStart(2,"0")}),s.jsx("span",{className:"time-label",children:"Segundos"})]})]}),s.jsx("p",{className:"countdown-date",children:(n==null?void 0:n.countdown_date_text)||" Inicio de inscripciones: 15 de Junio de 2026"})]})]}),s.jsxs("div",{className:"requirements-section",children:[s.jsx("h2",{className:"section-title",children:(n==null?void 0:n.requirements_title)||"Requisitos de Ingreso"}),s.jsx("div",{className:"requirements-grid",children:u.map(k=>s.jsxs("div",{className:"requirement-item",children:[s.jsx("span",{className:"requirement-icon",children:k.icon}),s.jsx("p",{children:k.text})]},k.id))})]}),s.jsxs("div",{className:"advantages-section",children:[s.jsx("h2",{className:"section-title",children:(n==null?void 0:n.advantages_title)||"Por qu elegir BAETAM?"}),s.jsx("div",{className:"advantages-grid",children:f.map(k=>s.jsxs("div",{className:"advantage-card",children:[s.jsx("h4",{children:k.title}),s.jsx("p",{children:k.description})]},k.id))})]}),s.jsxs("div",{className:"contact-section",children:[s.jsx("h2",{className:"section-title",children:(n==null?void 0:n.contact_title)||"Necesitas ms informacin?"}),s.jsx("p",{children:(n==null?void 0:n.contact_description)||"Contctanos para resolver todas tus dudas sobre BAETAM"}),s.jsx("div",{className:"contact-info",children:m.map(k=>s.jsx("p",{children:k.line_text},k.id))})]})]})]})},Jk=()=>{const[t,e]=F.useState([]),r=[{image:"/images/valores.png",title:"Acerca de CBTa 134",description:"Conoce nuestra historia, misin, visin y valores que nos definen como institucin.",path:"acerca"},{image:"/images/programacion.jpg",title:"Carreras Tcnicas",description:"Descubre nuestras especialidades tcnicas y elige tu futuro profesional.",path:"carreras"},{image:"/images/galeria.png",title:"Galera",description:"Explora nuestra coleccin de fotos y eventos destacados.",path:"galeria"},{image:"/images/proceso de admincion.jpg",title:"Proceso de Admisin",description:"Informacin sobre requisitos y pasos para formar parte de nuestra institucin.",path:"admission"},{image:"/images/campus.png",title:"Clubs Estudiantiles",description:"nete a nuestros clubs deportivos, culturales y acadmicos.",path:"clubs"},{image:"/images/ofimatica.jpg",title:"Contacto",description:"Informacin de contacto y ubicacin de nuestra institucin.",path:"contacto"},{image:"/images/baetam.jpg",title:"BAETAM",description:"Bachillerato Autoplaneado - Educacin flexible para adultos.",path:"baetam"},{image:"/images/maestros-hero.png",title:"Maestros",description:"Recursos y enlaces utiles para el personal docente.",path:"maestros"},{image:"/images/alumnos-hero.png",title:"Alumnos",description:"Portal de alumnos para acceso a calificaciones y servicios.",path:"alumnos"},{image:"/images/proceso de admincion.jpg",title:"Pre-Registro",description:"Realiza tu pre-registro como aspirante de nuevo ingreso y obtn tu ficha.",path:"preregistro"}];F.useEffect(()=>{(async()=>{const{data:O}=await ue.from("home_options").select("*").order("order_index",{ascending:!0});O&&O.length>0?e(O):e(r.map((K,ae)=>({id:ae+1,image_url:K.image,title:K.title,description:K.description,path:K.path})))})()},[]);const[n,a]=F.useState(()=>{const de=localStorage.getItem("appOptions");return de?JSON.parse(de):r}),[o,c]=F.useState("home"),[u,h]=F.useState(!1);F.useState("phone");const f=()=>{const de=new Date().getHours();return de>=6&&de<18},x=zc(),m=Uc(),[j,y]=F.useState(()=>{const de=localStorage.getItem("manualModeOverride");return de!==null?JSON.parse(de):f()}),[C,k]=F.useState(()=>{const de=localStorage.getItem("isAutoMode");return de?JSON.parse(de):!0});F.useEffect(()=>{localStorage.setItem("appOptions",JSON.stringify(n))},[n]),F.useEffect(()=>{localStorage.setItem("isLightMode",JSON.stringify(!0)),localStorage.setItem("isAutoMode",JSON.stringify(C)),document.body.className="light-mode"},[C]),F.useEffect(()=>{if(C){const de=setInterval(()=>{const O=f();O!==j&&y(O)},6e4);return()=>clearInterval(de)}},[C,j]);const[L,E]=F.useState(!0),[B,T]=F.useState({home_badge:"NUEVO INGRESO 2025",home_titulo:"Pre-Regstrate Hoy!",home_descripcion:"Inicia tu proceso de admisin para el prximo ciclo escolar. Obtn tu ficha oficial de manera fcil y rpida.",home_boton:"Ir al Pre-Registro ",home_icono:""});F.useEffect(()=>{(async()=>{try{const{data:O,error:K}=await ue.from("preregistro_config").select("habilitado, home_badge, home_titulo, home_descripcion, home_boton, home_icono").eq("id",1).single();O&&(E(O.habilitado),T({home_badge:O.home_badge||"NUEVO INGRESO 2025",home_titulo:O.home_titulo||"Pre-Regstrate Hoy!",home_descripcion:O.home_descripcion||"Inicia tu proceso de admisin para el prximo ciclo escolar. Obtn tu ficha oficial de manera fcil y rpida.",home_boton:O.home_boton||"Ir al Pre-Registro ",home_icono:O.home_icono||""}))}catch(O){console.error("Error fetching prereg status:",O)}})()},[]);const D=de=>()=>{de==="alumnos"?x("/alumnos"):de==="maestros"?x("/maestros"):(c(de),m.pathname!=="/"&&x("/")),h(!1)},z=()=>{C?(k(!1),y(!j),localStorage.setItem("manualModeOverride",JSON.stringify(!j))):(y(!j),localStorage.setItem("manualModeOverride",JSON.stringify(!j)))},ie=()=>{C?(k(!1),localStorage.setItem("manualModeOverride",JSON.stringify(j))):(k(!0),y(f()),localStorage.removeItem("manualModeOverride"))},se=()=>{h(!u)},Q=()=>{const de=()=>c("home");switch(o){case"acerca":return s.jsx(Q_,{onBack:de});case"valores":return s.jsx(Z_,{onBack:de});case"noticias":return s.jsx(S3,{onBack:de});case"carreras":return s.jsx(Uk,{setCurrentView:c});case"galeria":return s.jsx($k,{setCurrentView:c});case"admission":return s.jsx(v3,{onBack:de});case"nosotros":return s.jsx(Fk,{setCurrentView:c});case"clubs":return s.jsx(qk,{setCurrentView:c});case"contacto":return s.jsx(Wk,{setCurrentView:c});case"saetam":return s.jsx(w3,{onBack:de});case"maestros":return null;case"preregistro":return s.jsx(P1,{setCurrentView:c});case"baetam":return s.jsx(Kk,{onBack:de});default:return s.jsxs(s.Fragment,{children:[s.jsx(A_,{}),s.jsxs("main",{className:"main-content",children:[L&&s.jsxs("div",{className:"home-featured-card",onClick:()=>x("/preregistro"),children:[s.jsxs("div",{className:"featured-card-content",children:[s.jsx("div",{className:"featured-badge",children:B.home_badge}),s.jsx("h2",{className:"featured-title",children:B.home_titulo}),s.jsx("p",{className:"featured-desc",children:B.home_descripcion}),s.jsx("button",{className:"featured-btn",children:B.home_boton})]}),s.jsx("div",{className:"featured-icon",children:B.home_icono})]}),s.jsxs("div",{className:"navigation-cards",children:[s.jsx("h2",{className:"navigation-title",children:"Navega por Nuestras Secciones"}),s.jsx("div",{className:"options-grid",children:t.map(O=>s.jsxs("div",{className:"option-card",onClick:D(O.path),children:[s.jsx("img",{src:O.image_url,alt:O.title,className:"option-image"}),s.jsxs("div",{className:"option-content",children:[s.jsx("h3",{className:"option-title",children:O.title}),s.jsx("p",{className:"option-description",children:O.description}),s.jsx("button",{className:"option-button",children:"Ver ms"})]})]},O.id))})]})]})]})}},J=m.pathname!=="/alumnos"&&m.pathname!=="/maestros"&&m.pathname!=="/maestros/admin"&&m.pathname!=="/chatbot"&&!m.pathname.startsWith("/preregistro");return s.jsxs("div",{className:"app light-mode",children:[J&&s.jsx(C_,{toggleMode:z,toggleAutoMode:ie,isLightMode:j,isAutoMode:C,toggleNav:se,isNavActive:u,currentView:o,setCurrentView:c}),s.jsx("div",{className:J?"app-content":"app-content-fullscreen",children:s.jsxs(fy,{children:[s.jsx(kl,{path:"/",element:Q()}),s.jsx(kl,{path:"/creditos",element:s.jsx(Vk,{})}),s.jsx(kl,{path:"/alumnos",element:s.jsx(N3,{})}),s.jsx(kl,{path:"/maestros",element:s.jsx(j3,{})}),s.jsx(kl,{path:"/maestros/admin",element:s.jsx(A3,{})}),s.jsx(kl,{path:"/chatbot",element:s.jsx(Gk,{})}),s.jsx(kl,{path:"/preregistro",element:s.jsx(P1,{setCurrentView:c})}),s.jsx(kl,{path:"/preregistro/formulario",element:s.jsx(Ek,{setCurrentView:c})}),s.jsx(kl,{path:"*",element:Q()})]})}),J&&s.jsxs(s.Fragment,{children:[s.jsx(E_,{}),s.jsx(H_,{})]})]})};j2.createRoot(document.getElementById("root")).render(s.jsx(F.StrictMode,{children:s.jsx(Fy,{children:s.jsx(Jk,{})})}));export{Kr as _,Xk as c,p2 as g};
