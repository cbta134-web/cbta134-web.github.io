(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))o(d);new MutationObserver(d=>{for(const u of d)if(u.type==="childList")for(const p of u.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&o(p)}).observe(document,{childList:!0,subtree:!0});function a(d){const u={};return d.integrity&&(u.integrity=d.integrity),d.referrerPolicy&&(u.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?u.credentials="include":d.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(d){if(d.ep)return;d.ep=!0;const u=a(d);fetch(d.href,u)}})();function vm(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var gu={exports:{}},Sl={},xu={exports:{}},Ne={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mp;function wm(){if(mp)return Ne;mp=1;var s=Symbol.for("react.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),p=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),b=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),f=Symbol.iterator;function j(L){return L===null||typeof L!="object"?null:(L=f&&L[f]||L["@@iterator"],typeof L=="function"?L:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,S={};function A(L,W,ue){this.props=L,this.context=W,this.refs=S,this.updater=ue||k}A.prototype.isReactComponent={},A.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},A.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function P(){}P.prototype=A.prototype;function O(L,W,ue){this.props=L,this.context=W,this.refs=S,this.updater=ue||k}var E=O.prototype=new P;E.constructor=O,N(E,A.prototype),E.isPureReactComponent=!0;var U=Array.isArray,$=Object.prototype.hasOwnProperty,B={current:null},H={key:!0,ref:!0,__self:!0,__source:!0};function G(L,W,ue){var fe,_e={},je=null,Re=null;if(W!=null)for(fe in W.ref!==void 0&&(Re=W.ref),W.key!==void 0&&(je=""+W.key),W)$.call(W,fe)&&!H.hasOwnProperty(fe)&&(_e[fe]=W[fe]);var Ee=arguments.length-2;if(Ee===1)_e.children=ue;else if(1<Ee){for(var De=Array(Ee),zt=0;zt<Ee;zt++)De[zt]=arguments[zt+2];_e.children=De}if(L&&L.defaultProps)for(fe in Ee=L.defaultProps,Ee)_e[fe]===void 0&&(_e[fe]=Ee[fe]);return{$$typeof:s,type:L,key:je,ref:Re,props:_e,_owner:B.current}}function re(L,W){return{$$typeof:s,type:L.type,key:W,ref:L.ref,props:L.props,_owner:L._owner}}function be(L){return typeof L=="object"&&L!==null&&L.$$typeof===s}function we(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ue){return W[ue]})}var Be=/\/+/g;function Te(L,W){return typeof L=="object"&&L!==null&&L.key!=null?we(""+L.key):W.toString(36)}function Ze(L,W,ue,fe,_e){var je=typeof L;(je==="undefined"||je==="boolean")&&(L=null);var Re=!1;if(L===null)Re=!0;else switch(je){case"string":case"number":Re=!0;break;case"object":switch(L.$$typeof){case s:case t:Re=!0}}if(Re)return Re=L,_e=_e(Re),L=fe===""?"."+Te(Re,0):fe,U(_e)?(ue="",L!=null&&(ue=L.replace(Be,"$&/")+"/"),Ze(_e,W,ue,"",function(zt){return zt})):_e!=null&&(be(_e)&&(_e=re(_e,ue+(!_e.key||Re&&Re.key===_e.key?"":(""+_e.key).replace(Be,"$&/")+"/")+L)),W.push(_e)),1;if(Re=0,fe=fe===""?".":fe+":",U(L))for(var Ee=0;Ee<L.length;Ee++){je=L[Ee];var De=fe+Te(je,Ee);Re+=Ze(je,W,ue,De,_e)}else if(De=j(L),typeof De=="function")for(L=De.call(L),Ee=0;!(je=L.next()).done;)je=je.value,De=fe+Te(je,Ee++),Re+=Ze(je,W,ue,De,_e);else if(je==="object")throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Re}function ve(L,W,ue){if(L==null)return L;var fe=[],_e=0;return Ze(L,fe,"","",function(je){return W.call(ue,je,_e++)}),fe}function Oe(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=ue)},function(ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=ue)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var Ce={current:null},D={transition:null},X={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:D,ReactCurrentOwner:B};function K(){throw Error("act(...) is not supported in production builds of React.")}return Ne.Children={map:ve,forEach:function(L,W,ue){ve(L,function(){W.apply(this,arguments)},ue)},count:function(L){var W=0;return ve(L,function(){W++}),W},toArray:function(L){return ve(L,function(W){return W})||[]},only:function(L){if(!be(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ne.Component=A,Ne.Fragment=a,Ne.Profiler=d,Ne.PureComponent=O,Ne.StrictMode=o,Ne.Suspense=x,Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,Ne.act=K,Ne.cloneElement=function(L,W,ue){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var fe=N({},L.props),_e=L.key,je=L.ref,Re=L._owner;if(W!=null){if(W.ref!==void 0&&(je=W.ref,Re=B.current),W.key!==void 0&&(_e=""+W.key),L.type&&L.type.defaultProps)var Ee=L.type.defaultProps;for(De in W)$.call(W,De)&&!H.hasOwnProperty(De)&&(fe[De]=W[De]===void 0&&Ee!==void 0?Ee[De]:W[De])}var De=arguments.length-2;if(De===1)fe.children=ue;else if(1<De){Ee=Array(De);for(var zt=0;zt<De;zt++)Ee[zt]=arguments[zt+2];fe.children=Ee}return{$$typeof:s,type:L.type,key:_e,ref:je,props:fe,_owner:Re}},Ne.createContext=function(L){return L={$$typeof:p,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:u,_context:L},L.Consumer=L},Ne.createElement=G,Ne.createFactory=function(L){var W=G.bind(null,L);return W.type=L,W},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(L){return{$$typeof:g,render:L}},Ne.isValidElement=be,Ne.lazy=function(L){return{$$typeof:_,_payload:{_status:-1,_result:L},_init:Oe}},Ne.memo=function(L,W){return{$$typeof:b,type:L,compare:W===void 0?null:W}},Ne.startTransition=function(L){var W=D.transition;D.transition={};try{L()}finally{D.transition=W}},Ne.unstable_act=K,Ne.useCallback=function(L,W){return Ce.current.useCallback(L,W)},Ne.useContext=function(L){return Ce.current.useContext(L)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(L){return Ce.current.useDeferredValue(L)},Ne.useEffect=function(L,W){return Ce.current.useEffect(L,W)},Ne.useId=function(){return Ce.current.useId()},Ne.useImperativeHandle=function(L,W,ue){return Ce.current.useImperativeHandle(L,W,ue)},Ne.useInsertionEffect=function(L,W){return Ce.current.useInsertionEffect(L,W)},Ne.useLayoutEffect=function(L,W){return Ce.current.useLayoutEffect(L,W)},Ne.useMemo=function(L,W){return Ce.current.useMemo(L,W)},Ne.useReducer=function(L,W,ue){return Ce.current.useReducer(L,W,ue)},Ne.useRef=function(L){return Ce.current.useRef(L)},Ne.useState=function(L){return Ce.current.useState(L)},Ne.useSyncExternalStore=function(L,W,ue){return Ce.current.useSyncExternalStore(L,W,ue)},Ne.useTransition=function(){return Ce.current.useTransition()},Ne.version="18.3.1",Ne}var gp;function Zu(){return gp||(gp=1,xu.exports=wm()),xu.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xp;function _m(){if(xp)return Sl;xp=1;var s=Zu(),t=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,d=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function p(g,x,b){var _,f={},j=null,k=null;b!==void 0&&(j=""+b),x.key!==void 0&&(j=""+x.key),x.ref!==void 0&&(k=x.ref);for(_ in x)o.call(x,_)&&!u.hasOwnProperty(_)&&(f[_]=x[_]);if(g&&g.defaultProps)for(_ in x=g.defaultProps,x)f[_]===void 0&&(f[_]=x[_]);return{$$typeof:t,type:g,key:j,ref:k,props:f,_owner:d.current}}return Sl.Fragment=a,Sl.jsx=p,Sl.jsxs=p,Sl}var bp;function jm(){return bp||(bp=1,gu.exports=_m()),gu.exports}var n=jm(),v=Zu();const de=vm(v);var rd={},bu={exports:{}},or={},yu={exports:{}},vu={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yp;function Sm(){return yp||(yp=1,function(s){function t(D,X){var K=D.length;D.push(X);e:for(;0<K;){var L=K-1>>>1,W=D[L];if(0<d(W,X))D[L]=X,D[K]=W,K=L;else break e}}function a(D){return D.length===0?null:D[0]}function o(D){if(D.length===0)return null;var X=D[0],K=D.pop();if(K!==X){D[0]=K;e:for(var L=0,W=D.length,ue=W>>>1;L<ue;){var fe=2*(L+1)-1,_e=D[fe],je=fe+1,Re=D[je];if(0>d(_e,K))je<W&&0>d(Re,_e)?(D[L]=Re,D[je]=K,L=je):(D[L]=_e,D[fe]=K,L=fe);else if(je<W&&0>d(Re,K))D[L]=Re,D[je]=K,L=je;else break e}}return X}function d(D,X){var K=D.sortIndex-X.sortIndex;return K!==0?K:D.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;s.unstable_now=function(){return u.now()}}else{var p=Date,g=p.now();s.unstable_now=function(){return p.now()-g}}var x=[],b=[],_=1,f=null,j=3,k=!1,N=!1,S=!1,A=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(D){for(var X=a(b);X!==null;){if(X.callback===null)o(b);else if(X.startTime<=D)o(b),X.sortIndex=X.expirationTime,t(x,X);else break;X=a(b)}}function U(D){if(S=!1,E(D),!N)if(a(x)!==null)N=!0,Oe($);else{var X=a(b);X!==null&&Ce(U,X.startTime-D)}}function $(D,X){N=!1,S&&(S=!1,P(G),G=-1),k=!0;var K=j;try{for(E(X),f=a(x);f!==null&&(!(f.expirationTime>X)||D&&!we());){var L=f.callback;if(typeof L=="function"){f.callback=null,j=f.priorityLevel;var W=L(f.expirationTime<=X);X=s.unstable_now(),typeof W=="function"?f.callback=W:f===a(x)&&o(x),E(X)}else o(x);f=a(x)}if(f!==null)var ue=!0;else{var fe=a(b);fe!==null&&Ce(U,fe.startTime-X),ue=!1}return ue}finally{f=null,j=K,k=!1}}var B=!1,H=null,G=-1,re=5,be=-1;function we(){return!(s.unstable_now()-be<re)}function Be(){if(H!==null){var D=s.unstable_now();be=D;var X=!0;try{X=H(!0,D)}finally{X?Te():(B=!1,H=null)}}else B=!1}var Te;if(typeof O=="function")Te=function(){O(Be)};else if(typeof MessageChannel<"u"){var Ze=new MessageChannel,ve=Ze.port2;Ze.port1.onmessage=Be,Te=function(){ve.postMessage(null)}}else Te=function(){A(Be,0)};function Oe(D){H=D,B||(B=!0,Te())}function Ce(D,X){G=A(function(){D(s.unstable_now())},X)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(D){D.callback=null},s.unstable_continueExecution=function(){N||k||(N=!0,Oe($))},s.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<D?Math.floor(1e3/D):5},s.unstable_getCurrentPriorityLevel=function(){return j},s.unstable_getFirstCallbackNode=function(){return a(x)},s.unstable_next=function(D){switch(j){case 1:case 2:case 3:var X=3;break;default:X=j}var K=j;j=X;try{return D()}finally{j=K}},s.unstable_pauseExecution=function(){},s.unstable_requestPaint=function(){},s.unstable_runWithPriority=function(D,X){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var K=j;j=D;try{return X()}finally{j=K}},s.unstable_scheduleCallback=function(D,X,K){var L=s.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?L+K:L):K=L,D){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=K+W,D={id:_++,callback:X,priorityLevel:D,startTime:K,expirationTime:W,sortIndex:-1},K>L?(D.sortIndex=K,t(b,D),a(x)===null&&D===a(b)&&(S?(P(G),G=-1):S=!0,Ce(U,K-L))):(D.sortIndex=W,t(x,D),N||k||(N=!0,Oe($))),D},s.unstable_shouldYield=we,s.unstable_wrapCallback=function(D){var X=j;return function(){var K=j;j=X;try{return D.apply(this,arguments)}finally{j=K}}}}(vu)),vu}var vp;function km(){return vp||(vp=1,yu.exports=Sm()),yu.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wp;function Nm(){if(wp)return or;wp=1;var s=Zu(),t=km();function a(e){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+e,i=1;i<arguments.length;i++)r+="&args[]="+encodeURIComponent(arguments[i]);return"Minified React error #"+e+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,d={};function u(e,r){p(e,r),p(e+"Capture",r)}function p(e,r){for(d[e]=r,e=0;e<r.length;e++)o.add(r[e])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),x=Object.prototype.hasOwnProperty,b=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},f={};function j(e){return x.call(f,e)?!0:x.call(_,e)?!1:b.test(e)?f[e]=!0:(_[e]=!0,!1)}function k(e,r,i,l){if(i!==null&&i.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return l?!1:i!==null?!i.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N(e,r,i,l){if(r===null||typeof r>"u"||k(e,r,i,l))return!0;if(l)return!1;if(i!==null)switch(i.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function S(e,r,i,l,h,m,y){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=l,this.attributeNamespace=h,this.mustUseProperty=i,this.propertyName=e,this.type=r,this.sanitizeURL=m,this.removeEmptyString=y}var A={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){A[e]=new S(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var r=e[0];A[r]=new S(r,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){A[e]=new S(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){A[e]=new S(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){A[e]=new S(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){A[e]=new S(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){A[e]=new S(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){A[e]=new S(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){A[e]=new S(e,5,!1,e.toLowerCase(),null,!1,!1)});var P=/[\-:]([a-z])/g;function O(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var r=e.replace(P,O);A[r]=new S(r,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var r=e.replace(P,O);A[r]=new S(r,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var r=e.replace(P,O);A[r]=new S(r,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){A[e]=new S(e,1,!1,e.toLowerCase(),null,!1,!1)}),A.xlinkHref=new S("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){A[e]=new S(e,1,!1,e.toLowerCase(),null,!0,!0)});function E(e,r,i,l){var h=A.hasOwnProperty(r)?A[r]:null;(h!==null?h.type!==0:l||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(N(r,i,h,l)&&(i=null),l||h===null?j(r)&&(i===null?e.removeAttribute(r):e.setAttribute(r,""+i)):h.mustUseProperty?e[h.propertyName]=i===null?h.type===3?!1:"":i:(r=h.attributeName,l=h.attributeNamespace,i===null?e.removeAttribute(r):(h=h.type,i=h===3||h===4&&i===!0?"":""+i,l?e.setAttributeNS(l,r,i):e.setAttribute(r,i))))}var U=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),B=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),G=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),be=Symbol.for("react.provider"),we=Symbol.for("react.context"),Be=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),Ze=Symbol.for("react.suspense_list"),ve=Symbol.for("react.memo"),Oe=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),D=Symbol.iterator;function X(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var K=Object.assign,L;function W(e){if(L===void 0)try{throw Error()}catch(i){var r=i.stack.trim().match(/\n( *(at )?)/);L=r&&r[1]||""}return`
`+L+e}var ue=!1;function fe(e,r){if(!e||ue)return"";ue=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(M){var l=M}Reflect.construct(e,[],r)}else{try{r.call()}catch(M){l=M}e.call(r.prototype)}else{try{throw Error()}catch(M){l=M}e()}}catch(M){if(M&&l&&typeof M.stack=="string"){for(var h=M.stack.split(`
`),m=l.stack.split(`
`),y=h.length-1,C=m.length-1;1<=y&&0<=C&&h[y]!==m[C];)C--;for(;1<=y&&0<=C;y--,C--)if(h[y]!==m[C]){if(y!==1||C!==1)do if(y--,C--,0>C||h[y]!==m[C]){var R=`
`+h[y].replace(" at new "," at ");return e.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",e.displayName)),R}while(1<=y&&0<=C);break}}}finally{ue=!1,Error.prepareStackTrace=i}return(e=e?e.displayName||e.name:"")?W(e):""}function _e(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return e=fe(e.type,!1),e;case 11:return e=fe(e.type.render,!1),e;case 1:return e=fe(e.type,!0),e;default:return""}}function je(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case H:return"Fragment";case B:return"Portal";case re:return"Profiler";case G:return"StrictMode";case Te:return"Suspense";case Ze:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case we:return(e.displayName||"Context")+".Consumer";case be:return(e._context.displayName||"Context")+".Provider";case Be:var r=e.render;return e=e.displayName,e||(e=r.displayName||r.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ve:return r=e.displayName||null,r!==null?r:je(e.type)||"Memo";case Oe:r=e._payload,e=e._init;try{return je(e(r))}catch{}}return null}function Re(e){var r=e.type;switch(e.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=r.render,e=e.displayName||e.name||"",r.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(r);case 8:return r===G?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Ee(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function De(e){var r=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function zt(e){var r=De(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,r),l=""+e[r];if(!e.hasOwnProperty(r)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var h=i.get,m=i.set;return Object.defineProperty(e,r,{configurable:!0,get:function(){return h.call(this)},set:function(y){l=""+y,m.call(this,y)}}),Object.defineProperty(e,r,{enumerable:i.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){e._valueTracker=null,delete e[r]}}}}function Jt(e){e._valueTracker||(e._valueTracker=zt(e))}function $n(e){if(!e)return!1;var r=e._valueTracker;if(!r)return!0;var i=r.getValue(),l="";return e&&(l=De(e)?e.checked?"true":"false":e.value),e=l,e!==i?(r.setValue(e),!0):!1}function ds(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ya(e,r){var i=r.checked;return K({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:i??e._wrapperState.initialChecked})}function ta(e,r){var i=r.defaultValue==null?"":r.defaultValue,l=r.checked!=null?r.checked:r.defaultChecked;i=Ee(r.value!=null?r.value:i),e._wrapperState={initialChecked:l,initialValue:i,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function zl(e,r){r=r.checked,r!=null&&E(e,"checked",r,!1)}function nt(e,r){zl(e,r);var i=Ee(r.value),l=r.type;if(i!=null)l==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+i):e.value!==""+i&&(e.value=""+i);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}r.hasOwnProperty("value")?us(e,r.type,i):r.hasOwnProperty("defaultValue")&&us(e,r.type,Ee(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(e.defaultChecked=!!r.defaultChecked)}function wr(e,r,i){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var l=r.type;if(!(l!=="submit"&&l!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+e._wrapperState.initialValue,i||r===e.value||(e.value=r),e.defaultValue=r}i=e.name,i!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,i!==""&&(e.name=i)}function us(e,r,i){(r!=="number"||ds(e.ownerDocument)!==e)&&(i==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+i&&(e.defaultValue=""+i))}var ra=Array.isArray;function me(e,r,i,l){if(e=e.options,r){r={};for(var h=0;h<i.length;h++)r["$"+i[h]]=!0;for(i=0;i<e.length;i++)h=r.hasOwnProperty("$"+e[i].value),e[i].selected!==h&&(e[i].selected=h),h&&l&&(e[i].defaultSelected=!0)}else{for(i=""+Ee(i),r=null,h=0;h<e.length;h++){if(e[h].value===i){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}r!==null||e[h].disabled||(r=e[h])}r!==null&&(r.selected=!0)}}function xt(e,r){if(r.dangerouslySetInnerHTML!=null)throw Error(a(91));return K({},r,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function uo(e,r){var i=r.value;if(i==null){if(i=r.children,r=r.defaultValue,i!=null){if(r!=null)throw Error(a(92));if(ra(i)){if(1<i.length)throw Error(a(93));i=i[0]}r=i}r==null&&(r=""),i=r}e._wrapperState={initialValue:Ee(i)}}function Ml(e,r){var i=Ee(r.value),l=Ee(r.defaultValue);i!=null&&(i=""+i,i!==e.value&&(e.value=i),r.defaultValue==null&&e.defaultValue!==i&&(e.defaultValue=i)),l!=null&&(e.defaultValue=""+l)}function Mr(e){var r=e.textContent;r===e._wrapperState.initialValue&&r!==""&&r!==null&&(e.value=r)}function hs(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function na(e,r){return e==null||e==="http://www.w3.org/1999/xhtml"?hs(r):e==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var sa,ho=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,i,l,h){MSApp.execUnsafeLocalFunction(function(){return e(r,i,l,h)})}:e}(function(e,r){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=r;else{for(sa=sa||document.createElement("div"),sa.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=sa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;r.firstChild;)e.appendChild(r.firstChild)}});function aa(e,r){if(r){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=r;return}}e.textContent=r}var cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ia=["Webkit","ms","Moz","O"];Object.keys(cr).forEach(function(e){ia.forEach(function(r){r=r+e.charAt(0).toUpperCase()+e.substring(1),cr[r]=cr[e]})});function Xa(e,r,i){return r==null||typeof r=="boolean"||r===""?"":i||typeof r!="number"||r===0||cr.hasOwnProperty(e)&&cr[e]?(""+r).trim():r+"px"}function po(e,r){e=e.style;for(var i in r)if(r.hasOwnProperty(i)){var l=i.indexOf("--")===0,h=Xa(i,r[i],l);i==="float"&&(i="cssFloat"),l?e.setProperty(i,h):e[i]=h}}var ql=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fo(e,r){if(r){if(ql[e]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(a(137,e));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(a(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(a(61))}if(r.style!=null&&typeof r.style!="object")throw Error(a(62))}}function _r(e,r){if(e.indexOf("-")===-1)return typeof r.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rn=null;function oa(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Za=null,Pn=null,ps=null;function la(e){if(e=Ts(e)){if(typeof Za!="function")throw Error(a(280));var r=e.stateNode;r&&(r=$i(r),Za(e.stateNode,e.type,r))}}function ca(e){Pn?ps?ps.push(e):ps=[e]:Pn=e}function ei(){if(Pn){var e=Pn,r=ps;if(ps=Pn=null,la(e),r)for(e=0;e<r.length;e++)la(r[e])}}function mo(e,r){return e(r)}function da(){}var go=!1;function Qe(e,r,i){if(go)return e(r,i);go=!0;try{return mo(e,r,i)}finally{go=!1,(Pn!==null||ps!==null)&&(da(),ei())}}function St(e,r){var i=e.stateNode;if(i===null)return null;var l=$i(i);if(l===null)return null;i=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(a(231,r,typeof i));return i}var ti=!1;if(g)try{var ua={};Object.defineProperty(ua,"passive",{get:function(){ti=!0}}),window.addEventListener("test",ua,ua),window.removeEventListener("test",ua,ua)}catch{ti=!1}function jr(e,r,i,l,h,m,y,C,R){var M=Array.prototype.slice.call(arguments,3);try{r.apply(i,M)}catch(Q){this.onError(Q)}}var Sr=!1,fs=null,ha=!1,ri=null,_d={onError:function(e){Sr=!0,fs=e}};function Qt(e,r,i,l,h,m,y,C,R){Sr=!1,fs=null,jr.apply(_d,arguments)}function In(e,r,i,l,h,m,y,C,R){if(Qt.apply(this,arguments),Sr){if(Sr){var M=fs;Sr=!1,fs=null}else throw Error(a(198));ha||(ha=!0,ri=M)}}function qr(e){var r=e,i=e;if(e.alternate)for(;r.return;)r=r.return;else{e=r;do r=e,r.flags&4098&&(i=r.return),e=r.return;while(e)}return r.tag===3?i:null}function xo(e){if(e.tag===13){var r=e.memoizedState;if(r===null&&(e=e.alternate,e!==null&&(r=e.memoizedState)),r!==null)return r.dehydrated}return null}function pa(e){if(qr(e)!==e)throw Error(a(188))}function jd(e){var r=e.alternate;if(!r){if(r=qr(e),r===null)throw Error(a(188));return r!==e?null:e}for(var i=e,l=r;;){var h=i.return;if(h===null)break;var m=h.alternate;if(m===null){if(l=h.return,l!==null){i=l;continue}break}if(h.child===m.child){for(m=h.child;m;){if(m===i)return pa(h),e;if(m===l)return pa(h),r;m=m.sibling}throw Error(a(188))}if(i.return!==l.return)i=h,l=m;else{for(var y=!1,C=h.child;C;){if(C===i){y=!0,i=h,l=m;break}if(C===l){y=!0,l=h,i=m;break}C=C.sibling}if(!y){for(C=m.child;C;){if(C===i){y=!0,i=m,l=h;break}if(C===l){y=!0,l=m,i=h;break}C=C.sibling}if(!y)throw Error(a(189))}}if(i.alternate!==l)throw Error(a(190))}if(i.tag!==3)throw Error(a(188));return i.stateNode.current===i?e:r}function On(e){return e=jd(e),e!==null?ni(e):null}function ni(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var r=ni(e);if(r!==null)return r;e=e.sibling}return null}var bo=t.unstable_scheduleCallback,Hl=t.unstable_cancelCallback,dn=t.unstable_shouldYield,fa=t.unstable_requestPaint,Ye=t.unstable_now,Vl=t.unstable_getCurrentPriorityLevel,ms=t.unstable_ImmediatePriority,Wl=t.unstable_UserBlockingPriority,dr=t.unstable_NormalPriority,si=t.unstable_LowPriority,kr=t.unstable_IdlePriority,ma=null,Ae=null;function ur(e){if(Ae&&typeof Ae.onCommitFiberRoot=="function")try{Ae.onCommitFiberRoot(ma,e,void 0,(e.current.flags&128)===128)}catch{}}var Pt=Math.clz32?Math.clz32:ai,Gl=Math.log,Kl=Math.LN2;function ai(e){return e>>>=0,e===0?32:31-(Gl(e)/Kl|0)|0}var ga=64,ii=4194304;function It(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Hr(e,r){var i=e.pendingLanes;if(i===0)return 0;var l=0,h=e.suspendedLanes,m=e.pingedLanes,y=i&268435455;if(y!==0){var C=y&~h;C!==0?l=It(C):(m&=y,m!==0&&(l=It(m)))}else y=i&~h,y!==0?l=It(y):m!==0&&(l=It(m));if(l===0)return 0;if(r!==0&&r!==l&&!(r&h)&&(h=l&-l,m=r&-r,h>=m||h===16&&(m&4194240)!==0))return r;if(l&4&&(l|=i&16),r=e.entangledLanes,r!==0)for(e=e.entanglements,r&=l;0<r;)i=31-Pt(r),h=1<<i,l|=e[i],r&=~h;return l}function yo(e,r){switch(e){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jl(e,r){for(var i=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,m=e.pendingLanes;0<m;){var y=31-Pt(m),C=1<<y,R=h[y];R===-1?(!(C&i)||C&l)&&(h[y]=yo(C,r)):R<=r&&(e.expiredLanes|=C),m&=~C}}function oi(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ql(){var e=ga;return ga<<=1,!(ga&4194240)&&(ga=64),e}function ze(e){for(var r=[],i=0;31>i;i++)r.push(e);return r}function Mt(e,r,i){e.pendingLanes|=r,r!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,r=31-Pt(r),e[r]=i}function vo(e,r){var i=e.pendingLanes&~r;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=r,e.mutableReadLanes&=r,e.entangledLanes&=r,r=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<i;){var h=31-Pt(i),m=1<<h;r[h]=0,l[h]=-1,e[h]=-1,i&=~m}}function li(e,r){var i=e.entangledLanes|=r;for(e=e.entanglements;i;){var l=31-Pt(i),h=1<<l;h&r|e[l]&r&&(e[l]|=r),i&=~h}}var $e=0;function wo(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var _o,xa,ba,Yl,Dn,ya=!1,va=[],un=null,ft=null,qt=null,Ln=new Map,gs=new Map,hr=[],Sd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function it(e,r){switch(e){case"focusin":case"focusout":un=null;break;case"dragenter":case"dragleave":ft=null;break;case"mouseover":case"mouseout":qt=null;break;case"pointerover":case"pointerout":Ln.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":gs.delete(r.pointerId)}}function Ht(e,r,i,l,h,m){return e===null||e.nativeEvent!==m?(e={blockedOn:r,domEventName:i,eventSystemFlags:l,nativeEvent:m,targetContainers:[h]},r!==null&&(r=Ts(r),r!==null&&xa(r)),e):(e.eventSystemFlags|=l,r=e.targetContainers,h!==null&&r.indexOf(h)===-1&&r.push(h),e)}function Xl(e,r,i,l,h){switch(r){case"focusin":return un=Ht(un,e,r,i,l,h),!0;case"dragenter":return ft=Ht(ft,e,r,i,l,h),!0;case"mouseover":return qt=Ht(qt,e,r,i,l,h),!0;case"pointerover":var m=h.pointerId;return Ln.set(m,Ht(Ln.get(m)||null,e,r,i,l,h)),!0;case"gotpointercapture":return m=h.pointerId,gs.set(m,Ht(gs.get(m)||null,e,r,i,l,h)),!0}return!1}function Zl(e){var r=yn(e.target);if(r!==null){var i=qr(r);if(i!==null){if(r=i.tag,r===13){if(r=xo(i),r!==null){e.blockedOn=r,Dn(e.priority,function(){ba(i)});return}}else if(r===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kt(e){if(e.blockedOn!==null)return!1;for(var r=e.targetContainers;0<r.length;){var i=di(e.domEventName,e.eventSystemFlags,r[0],e.nativeEvent);if(i===null){i=e.nativeEvent;var l=new i.constructor(i.type,i);Rn=l,i.target.dispatchEvent(l),Rn=null}else return r=Ts(i),r!==null&&xa(r),e.blockedOn=i,!1;r.shift()}return!0}function hn(e,r,i){kt(e)&&i.delete(r)}function jo(){ya=!1,un!==null&&kt(un)&&(un=null),ft!==null&&kt(ft)&&(ft=null),qt!==null&&kt(qt)&&(qt=null),Ln.forEach(hn),gs.forEach(hn)}function xs(e,r){e.blockedOn===r&&(e.blockedOn=null,ya||(ya=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jo)))}function bs(e){function r(h){return xs(h,e)}if(0<va.length){xs(va[0],e);for(var i=1;i<va.length;i++){var l=va[i];l.blockedOn===e&&(l.blockedOn=null)}}for(un!==null&&xs(un,e),ft!==null&&xs(ft,e),qt!==null&&xs(qt,e),Ln.forEach(r),gs.forEach(r),i=0;i<hr.length;i++)l=hr[i],l.blockedOn===e&&(l.blockedOn=null);for(;0<hr.length&&(i=hr[0],i.blockedOn===null);)Zl(i),i.blockedOn===null&&hr.shift()}var ys=U.ReactCurrentBatchConfig,Ot=!0;function vs(e,r,i,l){var h=$e,m=ys.transition;ys.transition=null;try{$e=1,ci(e,r,i,l)}finally{$e=h,ys.transition=m}}function So(e,r,i,l){var h=$e,m=ys.transition;ys.transition=null;try{$e=4,ci(e,r,i,l)}finally{$e=h,ys.transition=m}}function ci(e,r,i,l){if(Ot){var h=di(e,r,i,l);if(h===null)Ni(e,r,l,Bn,i),it(e,l);else if(Xl(h,e,r,i,l))l.stopPropagation();else if(it(e,l),r&4&&-1<Sd.indexOf(e)){for(;h!==null;){var m=Ts(h);if(m!==null&&_o(m),m=di(e,r,i,l),m===null&&Ni(e,r,l,Bn,i),m===h)break;h=m}h!==null&&l.stopPropagation()}else Ni(e,r,l,null,i)}}var Bn=null;function di(e,r,i,l){if(Bn=null,e=oa(l),e=yn(e),e!==null)if(r=qr(e),r===null)e=null;else if(i=r.tag,i===13){if(e=xo(r),e!==null)return e;e=null}else if(i===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;e=null}else r!==e&&(e=null);return Bn=e,null}function ko(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vl()){case ms:return 1;case Wl:return 4;case dr:case si:return 16;case kr:return 536870912;default:return 16}default:return 16}}var Nr=null,ui=null,hi=null;function et(){if(hi)return hi;var e,r=ui,i=r.length,l,h="value"in Nr?Nr.value:Nr.textContent,m=h.length;for(e=0;e<i&&r[e]===h[e];e++);var y=i-e;for(l=1;l<=y&&r[i-l]===h[m-l];l++);return hi=h.slice(e,1<l?1-l:void 0)}function Yt(e){var r=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&r===13&&(e=13)):e=r,e===10&&(e=13),32<=e||e===13?e:0}function ws(){return!0}function No(){return!1}function bt(e){function r(i,l,h,m,y){this._reactName=i,this._targetInst=h,this.type=l,this.nativeEvent=m,this.target=y,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(i=e[C],this[C]=i?i(m):m[C]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?ws:No,this.isPropagationStopped=No,this}return K(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),r}var Un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=bt(Un),Fn=K({},Un,{view:0,detail:0}),fi=bt(Fn),Co,pr,Vr,wa=K({},Fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vr&&(Vr&&e.type==="mousemove"?(Co=e.screenX-Vr.screenX,pr=e.screenY-Vr.screenY):pr=Co=0,Vr=e),Co)},movementY:function(e){return"movementY"in e?e.movementY:pr}}),ec=bt(wa),He=K({},wa,{dataTransfer:0}),Cr=bt(He),Eo=K({},Fn,{relatedTarget:0}),mi=bt(Eo),gi=K({},Un,{animationName:0,elapsedTime:0,pseudoElement:0}),kd=bt(gi),Er=K({},Un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_a=bt(Er),tc=K({},Un,{data:0}),rc=bt(tc),Nt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},To={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nc(e){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(e):(e=To[e])?!!r[e]:!1}function _s(){return nc}var sc=K({},Fn,{key:function(e){if(e.key){var r=Nt[e.key]||e.key;if(r!=="Unidentified")return r}return e.type==="keypress"?(e=Yt(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(e){return e.type==="keypress"?Yt(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yt(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ac=bt(sc),Ao=K({},wa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wr=bt(Ao),Nd=K({},Fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),ge=bt(Nd),Tr=K({},Un,{propertyName:0,elapsedTime:0,pseudoElement:0}),ic=bt(Tr),oc=K({},wa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lc=bt(oc),Cd=[9,13,27,32],Ar=g&&"CompositionEvent"in window,zn=null;g&&"documentMode"in document&&(zn=document.documentMode);var xi=g&&"TextEvent"in window&&!zn,cc=g&&(!Ar||zn&&8<zn&&11>=zn),$o=" ",bi=!1;function Ro(e,r){switch(e){case"keyup":return Cd.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Po(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fn=!1;function Ed(e,r){switch(e){case"compositionend":return Po(r);case"keypress":return r.which!==32?null:(bi=!0,$o);case"textInput":return e=r.data,e===$o&&bi?null:e;default:return null}}function dc(e,r){if(fn)return e==="compositionend"||!Ar&&Ro(e,r)?(e=et(),hi=ui=Nr=null,fn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return cc&&r.locale!=="ko"?null:r.data;default:return null}}var Td={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yi(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r==="input"?!!Td[e.type]:r==="textarea"}function uc(e,r,i,l){ca(l),r=Ta(r,"onChange"),0<r.length&&(i=new pi("onChange","change",null,i,l),e.push({event:i,listeners:r}))}var ja=null,js=null;function Gr(e){Wo(e,0)}function Sa(e){var r=vn(e);if($n(r))return e}function Ad(e,r){if(e==="change")return r}var Io=!1;if(g){var Ve;if(g){var Kr="oninput"in document;if(!Kr){var vi=document.createElement("div");vi.setAttribute("oninput","return;"),Kr=typeof vi.oninput=="function"}Ve=Kr}else Ve=!1;Io=Ve&&(!document.documentMode||9<document.documentMode)}function Oo(){ja&&(ja.detachEvent("onpropertychange",wi),js=ja=null)}function wi(e){if(e.propertyName==="value"&&Sa(js)){var r=[];uc(r,js,e,oa(e)),Qe(Gr,r)}}function $r(e,r,i){e==="focusin"?(Oo(),ja=r,js=i,ja.attachEvent("onpropertychange",wi)):e==="focusout"&&Oo()}function Mn(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Sa(js)}function Rr(e,r){if(e==="click")return Sa(r)}function Do(e,r){if(e==="input"||e==="change")return Sa(r)}function hc(e,r){return e===r&&(e!==0||1/e===1/r)||e!==e&&r!==r}var Xt=typeof Object.is=="function"?Object.is:hc;function Dt(e,r){if(Xt(e,r))return!0;if(typeof e!="object"||e===null||typeof r!="object"||r===null)return!1;var i=Object.keys(e),l=Object.keys(r);if(i.length!==l.length)return!1;for(l=0;l<i.length;l++){var h=i[l];if(!x.call(r,h)||!Xt(e[h],r[h]))return!1}return!0}function Lo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Jr(e,r){var i=Lo(e);e=0;for(var l;i;){if(i.nodeType===3){if(l=e+i.textContent.length,e<=r&&l>=r)return{node:i,offset:r-e};e=l}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Lo(i)}}function pc(e,r){return e&&r?e===r?!0:e&&e.nodeType===3?!1:r&&r.nodeType===3?pc(e,r.parentNode):"contains"in e?e.contains(r):e.compareDocumentPosition?!!(e.compareDocumentPosition(r)&16):!1:!1}function ka(){for(var e=window,r=ds();r instanceof e.HTMLIFrameElement;){try{var i=typeof r.contentWindow.location.href=="string"}catch{i=!1}if(i)e=r.contentWindow;else break;r=ds(e.document)}return r}function Zt(e){var r=e&&e.nodeName&&e.nodeName.toLowerCase();return r&&(r==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||r==="textarea"||e.contentEditable==="true")}function fc(e){var r=ka(),i=e.focusedElem,l=e.selectionRange;if(r!==i&&i&&i.ownerDocument&&pc(i.ownerDocument.documentElement,i)){if(l!==null&&Zt(i)){if(r=l.start,e=l.end,e===void 0&&(e=r),"selectionStart"in i)i.selectionStart=r,i.selectionEnd=Math.min(e,i.value.length);else if(e=(r=i.ownerDocument||document)&&r.defaultView||window,e.getSelection){e=e.getSelection();var h=i.textContent.length,m=Math.min(l.start,h);l=l.end===void 0?m:Math.min(l.end,h),!e.extend&&m>l&&(h=l,l=m,m=h),h=Jr(i,m);var y=Jr(i,l);h&&y&&(e.rangeCount!==1||e.anchorNode!==h.node||e.anchorOffset!==h.offset||e.focusNode!==y.node||e.focusOffset!==y.offset)&&(r=r.createRange(),r.setStart(h.node,h.offset),e.removeAllRanges(),m>l?(e.addRange(r),e.extend(y.node,y.offset)):(r.setEnd(y.node,y.offset),e.addRange(r)))}}for(r=[],e=i;e=e.parentNode;)e.nodeType===1&&r.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof i.focus=="function"&&i.focus(),i=0;i<r.length;i++)e=r[i],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mc=g&&"documentMode"in document&&11>=document.documentMode,Pr=null,_i=null,Ss=null,ks=!1;function gc(e,r,i){var l=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ks||Pr==null||Pr!==ds(l)||(l=Pr,"selectionStart"in l&&Zt(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ss&&Dt(Ss,l)||(Ss=l,l=Ta(_i,"onSelect"),0<l.length&&(r=new pi("onSelect","select",null,r,i),e.push({event:r,listeners:l}),r.target=Pr)))}function ji(e,r){var i={};return i[e.toLowerCase()]=r.toLowerCase(),i["Webkit"+e]="webkit"+r,i["Moz"+e]="moz"+r,i}var mn={animationend:ji("Animation","AnimationEnd"),animationiteration:ji("Animation","AnimationIteration"),animationstart:ji("Animation","AnimationStart"),transitionend:ji("Transition","TransitionEnd")},Bo={},Ns={};g&&(Ns=document.createElement("div").style,"AnimationEvent"in window||(delete mn.animationend.animation,delete mn.animationiteration.animation,delete mn.animationstart.animation),"TransitionEvent"in window||delete mn.transitionend.transition);function qn(e){if(Bo[e])return Bo[e];if(!mn[e])return e;var r=mn[e],i;for(i in r)if(r.hasOwnProperty(i)&&i in Ns)return Bo[e]=r[i];return e}var Uo=qn("animationend"),Fo=qn("animationiteration"),zo=qn("animationstart"),Ir=qn("transitionend"),Na=new Map,Mo="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(e,r){Na.set(e,r),u(r,[e])}for(var qo=0;qo<Mo.length;qo++){var Ca=Mo[qo],Si=Ca.toLowerCase(),Ho=Ca[0].toUpperCase()+Ca.slice(1);Qr(Si,"on"+Ho)}Qr(Uo,"onAnimationEnd"),Qr(Fo,"onAnimationIteration"),Qr(zo,"onAnimationStart"),Qr("dblclick","onDoubleClick"),Qr("focusin","onFocus"),Qr("focusout","onBlur"),Qr(Ir,"onTransitionEnd"),p("onMouseEnter",["mouseout","mouseover"]),p("onMouseLeave",["mouseout","mouseover"]),p("onPointerEnter",["pointerout","pointerover"]),p("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vo=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hn));function ki(e,r,i){var l=e.type||"unknown-event";e.currentTarget=i,In(l,r,void 0,e),e.currentTarget=null}function Wo(e,r){r=(r&4)!==0;for(var i=0;i<e.length;i++){var l=e[i],h=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var y=l.length-1;0<=y;y--){var C=l[y],R=C.instance,M=C.currentTarget;if(C=C.listener,R!==m&&h.isPropagationStopped())break e;ki(h,C,M),m=R}else for(y=0;y<l.length;y++){if(C=l[y],R=C.instance,M=C.currentTarget,C=C.listener,R!==m&&h.isPropagationStopped())break e;ki(h,C,M),m=R}}}if(ha)throw e=ri,ha=!1,ri=null,e}function ye(e,r){var i=r[Ai];i===void 0&&(i=r[Ai]=new Set);var l=e+"__bubble";i.has(l)||(bn(r,e,2,!1),i.add(l))}function gn(e,r,i){var l=0;r&&(l|=4),bn(i,e,l,r)}var Ea="_reactListening"+Math.random().toString(36).slice(2);function xn(e){if(!e[Ea]){e[Ea]=!0,o.forEach(function(i){i!=="selectionchange"&&(Vo.has(i)||gn(i,!1,e),gn(i,!0,e))});var r=e.nodeType===9?e:e.ownerDocument;r===null||r[Ea]||(r[Ea]=!0,gn("selectionchange",!1,r))}}function bn(e,r,i,l){switch(ko(r)){case 1:var h=vs;break;case 4:h=So;break;default:h=ci}i=h.bind(null,r,i,e),h=void 0,!ti||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(r,i,{capture:!0,passive:h}):e.addEventListener(r,i,!0):h!==void 0?e.addEventListener(r,i,{passive:h}):e.addEventListener(r,i,!1)}function Ni(e,r,i,l,h){var m=l;if(!(r&1)&&!(r&2)&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var C=l.stateNode.containerInfo;if(C===h||C.nodeType===8&&C.parentNode===h)break;if(y===4)for(y=l.return;y!==null;){var R=y.tag;if((R===3||R===4)&&(R=y.stateNode.containerInfo,R===h||R.nodeType===8&&R.parentNode===h))return;y=y.return}for(;C!==null;){if(y=yn(C),y===null)return;if(R=y.tag,R===5||R===6){l=m=y;continue e}C=C.parentNode}}l=l.return}Qe(function(){var M=m,Q=oa(i),Y=[];e:{var J=Na.get(e);if(J!==void 0){var te=pi,se=e;switch(e){case"keypress":if(Yt(i)===0)break e;case"keydown":case"keyup":te=ac;break;case"focusin":se="focus",te=mi;break;case"focusout":se="blur",te=mi;break;case"beforeblur":case"afterblur":te=mi;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":te=ec;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":te=Cr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":te=ge;break;case Uo:case Fo:case zo:te=kd;break;case Ir:te=ic;break;case"scroll":te=fi;break;case"wheel":te=lc;break;case"copy":case"cut":case"paste":te=_a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":te=Wr}var ae=(r&4)!==0,ct=!ae&&e==="scroll",F=ae?J!==null?J+"Capture":null:J;ae=[];for(var I=M,z;I!==null;){z=I;var Z=z.stateNode;if(z.tag===5&&Z!==null&&(z=Z,F!==null&&(Z=St(I,F),Z!=null&&ae.push(Vn(I,Z,z)))),ct)break;I=I.return}0<ae.length&&(J=new te(J,se,null,i,Q),Y.push({event:J,listeners:ae}))}}if(!(r&7)){e:{if(J=e==="mouseover"||e==="pointerover",te=e==="mouseout"||e==="pointerout",J&&i!==Rn&&(se=i.relatedTarget||i.fromElement)&&(yn(se)||se[er]))break e;if((te||J)&&(J=Q.window===Q?Q:(J=Q.ownerDocument)?J.defaultView||J.parentWindow:window,te?(se=i.relatedTarget||i.toElement,te=M,se=se?yn(se):null,se!==null&&(ct=qr(se),se!==ct||se.tag!==5&&se.tag!==6)&&(se=null)):(te=null,se=M),te!==se)){if(ae=ec,Z="onMouseLeave",F="onMouseEnter",I="mouse",(e==="pointerout"||e==="pointerover")&&(ae=Wr,Z="onPointerLeave",F="onPointerEnter",I="pointer"),ct=te==null?J:vn(te),z=se==null?J:vn(se),J=new ae(Z,I+"leave",te,i,Q),J.target=ct,J.relatedTarget=z,Z=null,yn(Q)===M&&(ae=new ae(F,I+"enter",se,i,Q),ae.target=z,ae.relatedTarget=ct,Z=ae),ct=Z,te&&se)t:{for(ae=te,F=se,I=0,z=ae;z;z=Wn(z))I++;for(z=0,Z=F;Z;Z=Wn(Z))z++;for(;0<I-z;)ae=Wn(ae),I--;for(;0<z-I;)F=Wn(F),z--;for(;I--;){if(ae===F||F!==null&&ae===F.alternate)break t;ae=Wn(ae),F=Wn(F)}ae=null}else ae=null;te!==null&&Go(Y,J,te,ae,!1),se!==null&&ct!==null&&Go(Y,ct,se,ae,!0)}}e:{if(J=M?vn(M):window,te=J.nodeName&&J.nodeName.toLowerCase(),te==="select"||te==="input"&&J.type==="file")var ie=Ad;else if(yi(J))if(Io)ie=Do;else{ie=Mn;var le=$r}else(te=J.nodeName)&&te.toLowerCase()==="input"&&(J.type==="checkbox"||J.type==="radio")&&(ie=Rr);if(ie&&(ie=ie(e,M))){uc(Y,ie,i,Q);break e}le&&le(e,J,M),e==="focusout"&&(le=J._wrapperState)&&le.controlled&&J.type==="number"&&us(J,"number",J.value)}switch(le=M?vn(M):window,e){case"focusin":(yi(le)||le.contentEditable==="true")&&(Pr=le,_i=M,Ss=null);break;case"focusout":Ss=_i=Pr=null;break;case"mousedown":ks=!0;break;case"contextmenu":case"mouseup":case"dragend":ks=!1,gc(Y,i,Q);break;case"selectionchange":if(mc)break;case"keydown":case"keyup":gc(Y,i,Q)}var ce;if(Ar)e:{switch(e){case"compositionstart":var xe="onCompositionStart";break e;case"compositionend":xe="onCompositionEnd";break e;case"compositionupdate":xe="onCompositionUpdate";break e}xe=void 0}else fn?Ro(e,i)&&(xe="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(xe="onCompositionStart");xe&&(cc&&i.locale!=="ko"&&(fn||xe!=="onCompositionStart"?xe==="onCompositionEnd"&&fn&&(ce=et()):(Nr=Q,ui="value"in Nr?Nr.value:Nr.textContent,fn=!0)),le=Ta(M,xe),0<le.length&&(xe=new rc(xe,e,null,i,Q),Y.push({event:xe,listeners:le}),ce?xe.data=ce:(ce=Po(i),ce!==null&&(xe.data=ce)))),(ce=xi?Ed(e,i):dc(e,i))&&(M=Ta(M,"onBeforeInput"),0<M.length&&(Q=new rc("onBeforeInput","beforeinput",null,i,Q),Y.push({event:Q,listeners:M}),Q.data=ce))}Wo(Y,r)})}function Vn(e,r,i){return{instance:e,listener:r,currentTarget:i}}function Ta(e,r){for(var i=r+"Capture",l=[];e!==null;){var h=e,m=h.stateNode;h.tag===5&&m!==null&&(h=m,m=St(e,i),m!=null&&l.unshift(Vn(e,m,h)),m=St(e,r),m!=null&&l.push(Vn(e,m,h))),e=e.return}return l}function Wn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Go(e,r,i,l,h){for(var m=r._reactName,y=[];i!==null&&i!==l;){var C=i,R=C.alternate,M=C.stateNode;if(R!==null&&R===l)break;C.tag===5&&M!==null&&(C=M,h?(R=St(i,m),R!=null&&y.unshift(Vn(i,R,C))):h||(R=St(i,m),R!=null&&y.push(Vn(i,R,C)))),i=i.return}y.length!==0&&e.push({event:r,listeners:y})}var $d=/\r\n?/g,Rd=/\u0000|\uFFFD/g;function Ko(e){return(typeof e=="string"?e:""+e).replace($d,`
`).replace(Rd,"")}function Ci(e,r,i){if(r=Ko(r),Ko(e)!==r&&i)throw Error(a(425))}function Gn(){}var Jo=null,Qo=null;function Yo(e,r){return e==="textarea"||e==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Ei=typeof setTimeout=="function"?setTimeout:void 0,Cs=typeof clearTimeout=="function"?clearTimeout:void 0,xc=typeof Promise=="function"?Promise:void 0,bc=typeof queueMicrotask=="function"?queueMicrotask:typeof xc<"u"?function(e){return xc.resolve(null).then(e).catch(Pd)}:Ei;function Pd(e){setTimeout(function(){throw e})}function ot(e,r){var i=r,l=0;do{var h=i.nextSibling;if(e.removeChild(i),h&&h.nodeType===8)if(i=h.data,i==="/$"){if(l===0){e.removeChild(h),bs(r);return}l--}else i!=="$"&&i!=="$?"&&i!=="$!"||l++;i=h}while(i);bs(r)}function Ct(e){for(;e!=null;e=e.nextSibling){var r=e.nodeType;if(r===1||r===3)break;if(r===8){if(r=e.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return e}function Ti(e){e=e.previousSibling;for(var r=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(r===0)return e;r--}else i==="/$"&&r++}e=e.previousSibling}return null}var Es=Math.random().toString(36).slice(2),Or="__reactFiber$"+Es,Aa="__reactProps$"+Es,er="__reactContainer$"+Es,Ai="__reactEvents$"+Es,Id="__reactListeners$"+Es,Kn="__reactHandles$"+Es;function yn(e){var r=e[Or];if(r)return r;for(var i=e.parentNode;i;){if(r=i[er]||i[Or]){if(i=r.alternate,r.child!==null||i!==null&&i.child!==null)for(e=Ti(e);e!==null;){if(i=e[Or])return i;e=Ti(e)}return r}e=i,i=e.parentNode}return null}function Ts(e){return e=e[Or]||e[er],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function vn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(a(33))}function $i(e){return e[Aa]||null}var Xo=[],Jn=-1;function Dr(e){return{current:e}}function Me(e){0>Jn||(e.current=Xo[Jn],Xo[Jn]=null,Jn--)}function Ue(e,r){Jn++,Xo[Jn]=e.current,e.current=r}var wn={},yt=Dr(wn),vt=Dr(!1),Qn=wn;function As(e,r){var i=e.type.contextTypes;if(!i)return wn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===r)return l.__reactInternalMemoizedMaskedChildContext;var h={},m;for(m in i)h[m]=r[m];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=h),h}function Fe(e){return e=e.childContextTypes,e!=null}function Ri(){Me(vt),Me(yt)}function yc(e,r,i){if(yt.current!==wn)throw Error(a(168));Ue(yt,r),Ue(vt,i)}function vc(e,r,i){var l=e.stateNode;if(r=r.childContextTypes,typeof l.getChildContext!="function")return i;l=l.getChildContext();for(var h in l)if(!(h in r))throw Error(a(108,Re(e)||"Unknown",h));return K({},i,l)}function Pi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||wn,Qn=yt.current,Ue(yt,e),Ue(vt,vt.current),!0}function wc(e,r,i){var l=e.stateNode;if(!l)throw Error(a(169));i?(e=vc(e,r,Qn),l.__reactInternalMemoizedMergedChildContext=e,Me(vt),Me(yt),Ue(yt,e)):Me(vt),Ue(vt,i)}var Yr=null,Ii=!1,Zo=!1;function wt(e){Yr===null?Yr=[e]:Yr.push(e)}function Od(e){Ii=!0,wt(e)}function _n(){if(!Zo&&Yr!==null){Zo=!0;var e=0,r=$e;try{var i=Yr;for($e=1;e<i.length;e++){var l=i[e];do l=l(!0);while(l!==null)}Yr=null,Ii=!1}catch(h){throw Yr!==null&&(Yr=Yr.slice(e+1)),bo(ms,_n),h}finally{$e=r,Zo=!1}}return null}var $s=[],Rs=0,Oi=null,Di=0,tr=[],rr=0,Yn=null,Lt=1,Xr="";function Xn(e,r){$s[Rs++]=Di,$s[Rs++]=Oi,Oi=e,Di=r}function _c(e,r,i){tr[rr++]=Lt,tr[rr++]=Xr,tr[rr++]=Yn,Yn=e;var l=Lt;e=Xr;var h=32-Pt(l)-1;l&=~(1<<h),i+=1;var m=32-Pt(r)+h;if(30<m){var y=h-h%5;m=(l&(1<<y)-1).toString(32),l>>=y,h-=y,Lt=1<<32-Pt(r)+h|i<<h|l,Xr=m+e}else Lt=1<<m|i<<h|l,Xr=e}function dt(e){e.return!==null&&(Xn(e,1),_c(e,1,0))}function el(e){for(;e===Oi;)Oi=$s[--Rs],$s[Rs]=null,Di=$s[--Rs],$s[Rs]=null;for(;e===Yn;)Yn=tr[--rr],tr[rr]=null,Xr=tr[--rr],tr[rr]=null,Lt=tr[--rr],tr[rr]=null}var Vt=null,Wt=null,We=!1,fr=null;function jc(e,r){var i=zr(5,null,null,0);i.elementType="DELETED",i.stateNode=r,i.return=e,r=e.deletions,r===null?(e.deletions=[i],e.flags|=16):r.push(i)}function Sc(e,r){switch(e.tag){case 5:var i=e.type;return r=r.nodeType!==1||i.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(e.stateNode=r,Vt=e,Wt=Ct(r.firstChild),!0):!1;case 6:return r=e.pendingProps===""||r.nodeType!==3?null:r,r!==null?(e.stateNode=r,Vt=e,Wt=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(i=Yn!==null?{id:Lt,overflow:Xr}:null,e.memoizedState={dehydrated:r,treeContext:i,retryLane:1073741824},i=zr(18,null,null,0),i.stateNode=r,i.return=e,e.child=i,Vt=e,Wt=null,!0):!1;default:return!1}}function tl(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rl(e){if(We){var r=Wt;if(r){var i=r;if(!Sc(e,r)){if(tl(e))throw Error(a(418));r=Ct(i.nextSibling);var l=Vt;r&&Sc(e,r)?jc(l,i):(e.flags=e.flags&-4097|2,We=!1,Vt=e)}}else{if(tl(e))throw Error(a(418));e.flags=e.flags&-4097|2,We=!1,Vt=e}}}function Zn(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vt=e}function Li(e){if(e!==Vt)return!1;if(!We)return Zn(e),We=!0,!1;var r;if((r=e.tag!==3)&&!(r=e.tag!==5)&&(r=e.type,r=r!=="head"&&r!=="body"&&!Yo(e.type,e.memoizedProps)),r&&(r=Wt)){if(tl(e))throw kc(),Error(a(418));for(;r;)jc(e,r),r=Ct(r.nextSibling)}if(Zn(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));e:{for(e=e.nextSibling,r=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"){if(r===0){Wt=Ct(e.nextSibling);break e}r--}else i!=="$"&&i!=="$!"&&i!=="$?"||r++}e=e.nextSibling}Wt=null}}else Wt=Vt?Ct(e.stateNode.nextSibling):null;return!0}function kc(){for(var e=Wt;e;)e=Ct(e.nextSibling)}function Ps(){Wt=Vt=null,We=!1}function nl(e){fr===null?fr=[e]:fr.push(e)}var Bi=U.ReactCurrentBatchConfig;function $a(e,r,i){if(e=i.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(i._owner){if(i=i._owner,i){if(i.tag!==1)throw Error(a(309));var l=i.stateNode}if(!l)throw Error(a(147,e));var h=l,m=""+e;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===m?r.ref:(r=function(y){var C=h.refs;y===null?delete C[m]:C[m]=y},r._stringRef=m,r)}if(typeof e!="string")throw Error(a(284));if(!i._owner)throw Error(a(290,e))}return e}function Ui(e,r){throw e=Object.prototype.toString.call(r),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e))}function Nc(e){var r=e._init;return r(e._payload)}function ut(e){function r(F,I){if(e){var z=F.deletions;z===null?(F.deletions=[I],F.flags|=16):z.push(I)}}function i(F,I){if(!e)return null;for(;I!==null;)r(F,I),I=I.sibling;return null}function l(F,I){for(F=new Map;I!==null;)I.key!==null?F.set(I.key,I):F.set(I.index,I),I=I.sibling;return F}function h(F,I){return F=Gs(F,I),F.index=0,F.sibling=null,F}function m(F,I,z){return F.index=z,e?(z=F.alternate,z!==null?(z=z.index,z<I?(F.flags|=2,I):z):(F.flags|=2,I)):(F.flags|=1048576,I)}function y(F){return e&&F.alternate===null&&(F.flags|=2),F}function C(F,I,z,Z){return I===null||I.tag!==6?(I=du(z,F.mode,Z),I.return=F,I):(I=h(I,z),I.return=F,I)}function R(F,I,z,Z){var ie=z.type;return ie===H?Q(F,I,z.props.children,Z,z.key):I!==null&&(I.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Oe&&Nc(ie)===I.type)?(Z=h(I,z.props),Z.ref=$a(F,I,z),Z.return=F,Z):(Z=Kc(z.type,z.key,z.props,null,F.mode,Z),Z.ref=$a(F,I,z),Z.return=F,Z)}function M(F,I,z,Z){return I===null||I.tag!==4||I.stateNode.containerInfo!==z.containerInfo||I.stateNode.implementation!==z.implementation?(I=uu(z,F.mode,Z),I.return=F,I):(I=h(I,z.children||[]),I.return=F,I)}function Q(F,I,z,Z,ie){return I===null||I.tag!==7?(I=Fa(z,F.mode,Z,ie),I.return=F,I):(I=h(I,z),I.return=F,I)}function Y(F,I,z){if(typeof I=="string"&&I!==""||typeof I=="number")return I=du(""+I,F.mode,z),I.return=F,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case $:return z=Kc(I.type,I.key,I.props,null,F.mode,z),z.ref=$a(F,null,I),z.return=F,z;case B:return I=uu(I,F.mode,z),I.return=F,I;case Oe:var Z=I._init;return Y(F,Z(I._payload),z)}if(ra(I)||X(I))return I=Fa(I,F.mode,z,null),I.return=F,I;Ui(F,I)}return null}function J(F,I,z,Z){var ie=I!==null?I.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ie!==null?null:C(F,I,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case $:return z.key===ie?R(F,I,z,Z):null;case B:return z.key===ie?M(F,I,z,Z):null;case Oe:return ie=z._init,J(F,I,ie(z._payload),Z)}if(ra(z)||X(z))return ie!==null?null:Q(F,I,z,Z,null);Ui(F,z)}return null}function te(F,I,z,Z,ie){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return F=F.get(z)||null,C(I,F,""+Z,ie);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case $:return F=F.get(Z.key===null?z:Z.key)||null,R(I,F,Z,ie);case B:return F=F.get(Z.key===null?z:Z.key)||null,M(I,F,Z,ie);case Oe:var le=Z._init;return te(F,I,z,le(Z._payload),ie)}if(ra(Z)||X(Z))return F=F.get(z)||null,Q(I,F,Z,ie,null);Ui(I,Z)}return null}function se(F,I,z,Z){for(var ie=null,le=null,ce=I,xe=I=0,jt=null;ce!==null&&xe<z.length;xe++){ce.index>xe?(jt=ce,ce=null):jt=ce.sibling;var Le=J(F,ce,z[xe],Z);if(Le===null){ce===null&&(ce=jt);break}e&&ce&&Le.alternate===null&&r(F,ce),I=m(Le,I,xe),le===null?ie=Le:le.sibling=Le,le=Le,ce=jt}if(xe===z.length)return i(F,ce),We&&Xn(F,xe),ie;if(ce===null){for(;xe<z.length;xe++)ce=Y(F,z[xe],Z),ce!==null&&(I=m(ce,I,xe),le===null?ie=ce:le.sibling=ce,le=ce);return We&&Xn(F,xe),ie}for(ce=l(F,ce);xe<z.length;xe++)jt=te(ce,F,xe,z[xe],Z),jt!==null&&(e&&jt.alternate!==null&&ce.delete(jt.key===null?xe:jt.key),I=m(jt,I,xe),le===null?ie=jt:le.sibling=jt,le=jt);return e&&ce.forEach(function(Ks){return r(F,Ks)}),We&&Xn(F,xe),ie}function ae(F,I,z,Z){var ie=X(z);if(typeof ie!="function")throw Error(a(150));if(z=ie.call(z),z==null)throw Error(a(151));for(var le=ie=null,ce=I,xe=I=0,jt=null,Le=z.next();ce!==null&&!Le.done;xe++,Le=z.next()){ce.index>xe?(jt=ce,ce=null):jt=ce.sibling;var Ks=J(F,ce,Le.value,Z);if(Ks===null){ce===null&&(ce=jt);break}e&&ce&&Ks.alternate===null&&r(F,ce),I=m(Ks,I,xe),le===null?ie=Ks:le.sibling=Ks,le=Ks,ce=jt}if(Le.done)return i(F,ce),We&&Xn(F,xe),ie;if(ce===null){for(;!Le.done;xe++,Le=z.next())Le=Y(F,Le.value,Z),Le!==null&&(I=m(Le,I,xe),le===null?ie=Le:le.sibling=Le,le=Le);return We&&Xn(F,xe),ie}for(ce=l(F,ce);!Le.done;xe++,Le=z.next())Le=te(ce,F,xe,Le.value,Z),Le!==null&&(e&&Le.alternate!==null&&ce.delete(Le.key===null?xe:Le.key),I=m(Le,I,xe),le===null?ie=Le:le.sibling=Le,le=Le);return e&&ce.forEach(function(ym){return r(F,ym)}),We&&Xn(F,xe),ie}function ct(F,I,z,Z){if(typeof z=="object"&&z!==null&&z.type===H&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case $:e:{for(var ie=z.key,le=I;le!==null;){if(le.key===ie){if(ie=z.type,ie===H){if(le.tag===7){i(F,le.sibling),I=h(le,z.props.children),I.return=F,F=I;break e}}else if(le.elementType===ie||typeof ie=="object"&&ie!==null&&ie.$$typeof===Oe&&Nc(ie)===le.type){i(F,le.sibling),I=h(le,z.props),I.ref=$a(F,le,z),I.return=F,F=I;break e}i(F,le);break}else r(F,le);le=le.sibling}z.type===H?(I=Fa(z.props.children,F.mode,Z,z.key),I.return=F,F=I):(Z=Kc(z.type,z.key,z.props,null,F.mode,Z),Z.ref=$a(F,I,z),Z.return=F,F=Z)}return y(F);case B:e:{for(le=z.key;I!==null;){if(I.key===le)if(I.tag===4&&I.stateNode.containerInfo===z.containerInfo&&I.stateNode.implementation===z.implementation){i(F,I.sibling),I=h(I,z.children||[]),I.return=F,F=I;break e}else{i(F,I);break}else r(F,I);I=I.sibling}I=uu(z,F.mode,Z),I.return=F,F=I}return y(F);case Oe:return le=z._init,ct(F,I,le(z._payload),Z)}if(ra(z))return se(F,I,z,Z);if(X(z))return ae(F,I,z,Z);Ui(F,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,I!==null&&I.tag===6?(i(F,I.sibling),I=h(I,z),I.return=F,F=I):(i(F,I),I=du(z,F.mode,Z),I.return=F,F=I),y(F)):i(F,I)}return ct}var Is=ut(!0),Cc=ut(!1),Fi=Dr(null),zi=null,Os=null,sl=null;function al(){sl=Os=zi=null}function il(e){var r=Fi.current;Me(Fi),e._currentValue=r}function ol(e,r,i){for(;e!==null;){var l=e.alternate;if((e.childLanes&r)!==r?(e.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),e===i)break;e=e.return}}function Ds(e,r){zi=e,sl=Os=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&r&&(sr=!0),e.firstContext=null)}function nr(e){var r=e._currentValue;if(sl!==e)if(e={context:e,memoizedValue:r,next:null},Os===null){if(zi===null)throw Error(a(308));Os=e,zi.dependencies={lanes:0,firstContext:e}}else Os=Os.next=e;return r}var es=null;function jn(e){es===null?es=[e]:es.push(e)}function Ec(e,r,i,l){var h=r.interleaved;return h===null?(i.next=i,jn(r)):(i.next=h.next,h.next=i),r.interleaved=i,Zr(e,l)}function Zr(e,r){e.lanes|=r;var i=e.alternate;for(i!==null&&(i.lanes|=r),i=e,e=e.return;e!==null;)e.childLanes|=r,i=e.alternate,i!==null&&(i.childLanes|=r),i=e,e=e.return;return i.tag===3?i.stateNode:null}var Sn=!1;function ll(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Mi(e,r){e=e.updateQueue,r.updateQueue===e&&(r.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Lr(e,r){return{eventTime:e,lane:r,tag:0,payload:null,callback:null,next:null}}function kn(e,r,i){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,Ie&2){var h=l.pending;return h===null?r.next=r:(r.next=h.next,h.next=r),l.pending=r,Zr(e,i)}return h=l.interleaved,h===null?(r.next=r,jn(l)):(r.next=h.next,h.next=r),l.interleaved=r,Zr(e,i)}function Ls(e,r,i){if(r=r.updateQueue,r!==null&&(r=r.shared,(i&4194240)!==0)){var l=r.lanes;l&=e.pendingLanes,i|=l,r.lanes=i,li(e,i)}}function Tc(e,r){var i=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,i===l)){var h=null,m=null;if(i=i.firstBaseUpdate,i!==null){do{var y={eventTime:i.eventTime,lane:i.lane,tag:i.tag,payload:i.payload,callback:i.callback,next:null};m===null?h=m=y:m=m.next=y,i=i.next}while(i!==null);m===null?h=m=r:m=m.next=r}else h=m=r;i={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:m,shared:l.shared,effects:l.effects},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=r:e.next=r,i.lastBaseUpdate=r}function qi(e,r,i,l){var h=e.updateQueue;Sn=!1;var m=h.firstBaseUpdate,y=h.lastBaseUpdate,C=h.shared.pending;if(C!==null){h.shared.pending=null;var R=C,M=R.next;R.next=null,y===null?m=M:y.next=M,y=R;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,C=Q.lastBaseUpdate,C!==y&&(C===null?Q.firstBaseUpdate=M:C.next=M,Q.lastBaseUpdate=R))}if(m!==null){var Y=h.baseState;y=0,Q=M=R=null,C=m;do{var J=C.lane,te=C.eventTime;if((l&J)===J){Q!==null&&(Q=Q.next={eventTime:te,lane:0,tag:C.tag,payload:C.payload,callback:C.callback,next:null});e:{var se=e,ae=C;switch(J=r,te=i,ae.tag){case 1:if(se=ae.payload,typeof se=="function"){Y=se.call(te,Y,J);break e}Y=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=ae.payload,J=typeof se=="function"?se.call(te,Y,J):se,J==null)break e;Y=K({},Y,J);break e;case 2:Sn=!0}}C.callback!==null&&C.lane!==0&&(e.flags|=64,J=h.effects,J===null?h.effects=[C]:J.push(C))}else te={eventTime:te,lane:J,tag:C.tag,payload:C.payload,callback:C.callback,next:null},Q===null?(M=Q=te,R=Y):Q=Q.next=te,y|=J;if(C=C.next,C===null){if(C=h.shared.pending,C===null)break;J=C,C=J.next,J.next=null,h.lastBaseUpdate=J,h.shared.pending=null}}while(!0);if(Q===null&&(R=Y),h.baseState=R,h.firstBaseUpdate=M,h.lastBaseUpdate=Q,r=h.shared.interleaved,r!==null){h=r;do y|=h.lane,h=h.next;while(h!==r)}else m===null&&(h.shared.lanes=0);Da|=y,e.lanes=y,e.memoizedState=Y}}function Ac(e,r,i){if(e=r.effects,r.effects=null,e!==null)for(r=0;r<e.length;r++){var l=e[r],h=l.callback;if(h!==null){if(l.callback=null,l=i,typeof h!="function")throw Error(a(191,h));h.call(l)}}}var Ra={},Br=Dr(Ra),Pa=Dr(Ra),Ia=Dr(Ra);function ts(e){if(e===Ra)throw Error(a(174));return e}function cl(e,r){switch(Ue(Ia,r),Ue(Pa,e),Ue(Br,Ra),e=r.nodeType,e){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:na(null,"");break;default:e=e===8?r.parentNode:r,r=e.namespaceURI||null,e=e.tagName,r=na(r,e)}Me(Br),Ue(Br,r)}function Bs(){Me(Br),Me(Pa),Me(Ia)}function $c(e){ts(Ia.current);var r=ts(Br.current),i=na(r,e.type);r!==i&&(Ue(Pa,e),Ue(Br,i))}function Us(e){Pa.current===e&&(Me(Br),Me(Pa))}var Xe=Dr(0);function Hi(e){for(var r=e;r!==null;){if(r.tag===13){var i=r.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var dl=[];function ul(){for(var e=0;e<dl.length;e++)dl[e]._workInProgressVersionPrimary=null;dl.length=0}var Vi=U.ReactCurrentDispatcher,Wi=U.ReactCurrentBatchConfig,rs=0,Ge=null,c=null,w=null,q=!1,V=!1,ee=0,Se=0;function Pe(){throw Error(a(321))}function ke(e,r){if(r===null)return!1;for(var i=0;i<r.length&&i<e.length;i++)if(!Xt(e[i],r[i]))return!1;return!0}function qe(e,r,i,l,h,m){if(rs=m,Ge=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,Vi.current=e===null||e.memoizedState===null?Wf:Gf,e=i(l,h),V){m=0;do{if(V=!1,ee=0,25<=m)throw Error(a(301));m+=1,w=c=null,r.updateQueue=null,Vi.current=Kf,e=i(l,h)}while(V)}if(Vi.current=Ic,r=c!==null&&c.next!==null,rs=0,w=c=Ge=null,q=!1,r)throw Error(a(300));return e}function Bt(){var e=ee!==0;return ee=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return w===null?Ge.memoizedState=w=e:w=w.next=e,w}function lt(){if(c===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=c.next;var r=w===null?Ge.memoizedState:w.next;if(r!==null)w=r,c=e;else{if(e===null)throw Error(a(310));c=e,e={memoizedState:c.memoizedState,baseState:c.baseState,baseQueue:c.baseQueue,queue:c.queue,next:null},w===null?Ge.memoizedState=w=e:w=w.next=e}return w}function mr(e,r){return typeof r=="function"?r(e):r}function Ur(e){var r=lt(),i=r.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var l=c,h=l.baseQueue,m=i.pending;if(m!==null){if(h!==null){var y=h.next;h.next=m.next,m.next=y}l.baseQueue=h=m,i.pending=null}if(h!==null){m=h.next,l=l.baseState;var C=y=null,R=null,M=m;do{var Q=M.lane;if((rs&Q)===Q)R!==null&&(R=R.next={lane:0,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null}),l=M.hasEagerState?M.eagerState:e(l,M.action);else{var Y={lane:Q,action:M.action,hasEagerState:M.hasEagerState,eagerState:M.eagerState,next:null};R===null?(C=R=Y,y=l):R=R.next=Y,Ge.lanes|=Q,Da|=Q}M=M.next}while(M!==null&&M!==m);R===null?y=l:R.next=C,Xt(l,r.memoizedState)||(sr=!0),r.memoizedState=l,r.baseState=y,r.baseQueue=R,i.lastRenderedState=l}if(e=i.interleaved,e!==null){h=e;do m=h.lane,Ge.lanes|=m,Da|=m,h=h.next;while(h!==e)}else h===null&&(i.lanes=0);return[r.memoizedState,i.dispatch]}function en(e){var r=lt(),i=r.queue;if(i===null)throw Error(a(311));i.lastRenderedReducer=e;var l=i.dispatch,h=i.pending,m=r.memoizedState;if(h!==null){i.pending=null;var y=h=h.next;do m=e(m,y.action),y=y.next;while(y!==h);Xt(m,r.memoizedState)||(sr=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),i.lastRenderedState=m}return[m,l]}function ns(){}function Nn(e,r){var i=Ge,l=lt(),h=r(),m=!Xt(l.memoizedState,h);if(m&&(l.memoizedState=h,sr=!0),l=l.queue,Rc(pl.bind(null,i,l,e),[e]),l.getSnapshot!==r||m||w!==null&&w.memoizedState.tag&1){if(i.flags|=2048,Fs(9,hl.bind(null,i,l,h,r),void 0,null),_t===null)throw Error(a(349));rs&30||Dd(i,r,h)}return h}function Dd(e,r,i){e.flags|=16384,e={getSnapshot:r,value:i},r=Ge.updateQueue,r===null?(r={lastEffect:null,stores:null},Ge.updateQueue=r,r.stores=[e]):(i=r.stores,i===null?r.stores=[e]:i.push(e))}function hl(e,r,i,l){r.value=i,r.getSnapshot=l,fl(r)&&ml(e)}function pl(e,r,i){return i(function(){fl(r)&&ml(e)})}function fl(e){var r=e.getSnapshot;e=e.value;try{var i=r();return!Xt(e,i)}catch{return!0}}function ml(e){var r=Zr(e,1);r!==null&&sn(r,e,1,-1)}function gl(e){var r=Et();return typeof e=="function"&&(e=e()),r.memoizedState=r.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:mr,lastRenderedState:e},r.queue=e,e=e.dispatch=Vf.bind(null,Ge,e),[r.memoizedState,e]}function Fs(e,r,i,l){return e={tag:e,create:r,destroy:i,deps:l,next:null},r=Ge.updateQueue,r===null?(r={lastEffect:null,stores:null},Ge.updateQueue=r,r.lastEffect=e.next=e):(i=r.lastEffect,i===null?r.lastEffect=e.next=e:(l=i.next,i.next=e,e.next=l,r.lastEffect=e)),e}function xl(){return lt().memoizedState}function Oa(e,r,i,l){var h=Et();Ge.flags|=e,h.memoizedState=Fs(1|r,i,void 0,l===void 0?null:l)}function Cn(e,r,i,l){var h=lt();l=l===void 0?null:l;var m=void 0;if(c!==null){var y=c.memoizedState;if(m=y.destroy,l!==null&&ke(l,y.deps)){h.memoizedState=Fs(r,i,m,l);return}}Ge.flags|=e,h.memoizedState=Fs(1|r,i,m,l)}function zs(e,r){return Oa(8390656,8,e,r)}function Rc(e,r){return Cn(2048,8,e,r)}function Pc(e,r){return Cn(4,2,e,r)}function uh(e,r){return Cn(4,4,e,r)}function hh(e,r){if(typeof r=="function")return e=e(),r(e),function(){r(null)};if(r!=null)return e=e(),r.current=e,function(){r.current=null}}function ph(e,r,i){return i=i!=null?i.concat([e]):null,Cn(4,4,hh.bind(null,r,e),i)}function Ld(){}function fh(e,r){var i=lt();r=r===void 0?null:r;var l=i.memoizedState;return l!==null&&r!==null&&ke(r,l[1])?l[0]:(i.memoizedState=[e,r],e)}function mh(e,r){var i=lt();r=r===void 0?null:r;var l=i.memoizedState;return l!==null&&r!==null&&ke(r,l[1])?l[0]:(e=e(),i.memoizedState=[e,r],e)}function gh(e,r,i){return rs&21?(Xt(i,r)||(i=Ql(),Ge.lanes|=i,Da|=i,e.baseState=!0),r):(e.baseState&&(e.baseState=!1,sr=!0),e.memoizedState=i)}function qf(e,r){var i=$e;$e=i!==0&&4>i?i:4,e(!0);var l=Wi.transition;Wi.transition={};try{e(!1),r()}finally{$e=i,Wi.transition=l}}function xh(){return lt().memoizedState}function Hf(e,r,i){var l=Vs(e);if(i={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null},bh(e))yh(r,i);else if(i=Ec(e,r,i,l),i!==null){var h=Kt();sn(i,e,l,h),vh(i,r,l)}}function Vf(e,r,i){var l=Vs(e),h={lane:l,action:i,hasEagerState:!1,eagerState:null,next:null};if(bh(e))yh(r,h);else{var m=e.alternate;if(e.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var y=r.lastRenderedState,C=m(y,i);if(h.hasEagerState=!0,h.eagerState=C,Xt(C,y)){var R=r.interleaved;R===null?(h.next=h,jn(r)):(h.next=R.next,R.next=h),r.interleaved=h;return}}catch{}finally{}i=Ec(e,r,h,l),i!==null&&(h=Kt(),sn(i,e,l,h),vh(i,r,l))}}function bh(e){var r=e.alternate;return e===Ge||r!==null&&r===Ge}function yh(e,r){V=q=!0;var i=e.pending;i===null?r.next=r:(r.next=i.next,i.next=r),e.pending=r}function vh(e,r,i){if(i&4194240){var l=r.lanes;l&=e.pendingLanes,i|=l,r.lanes=i,li(e,i)}}var Ic={readContext:nr,useCallback:Pe,useContext:Pe,useEffect:Pe,useImperativeHandle:Pe,useInsertionEffect:Pe,useLayoutEffect:Pe,useMemo:Pe,useReducer:Pe,useRef:Pe,useState:Pe,useDebugValue:Pe,useDeferredValue:Pe,useTransition:Pe,useMutableSource:Pe,useSyncExternalStore:Pe,useId:Pe,unstable_isNewReconciler:!1},Wf={readContext:nr,useCallback:function(e,r){return Et().memoizedState=[e,r===void 0?null:r],e},useContext:nr,useEffect:zs,useImperativeHandle:function(e,r,i){return i=i!=null?i.concat([e]):null,Oa(4194308,4,hh.bind(null,r,e),i)},useLayoutEffect:function(e,r){return Oa(4194308,4,e,r)},useInsertionEffect:function(e,r){return Oa(4,2,e,r)},useMemo:function(e,r){var i=Et();return r=r===void 0?null:r,e=e(),i.memoizedState=[e,r],e},useReducer:function(e,r,i){var l=Et();return r=i!==void 0?i(r):r,l.memoizedState=l.baseState=r,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},l.queue=e,e=e.dispatch=Hf.bind(null,Ge,e),[l.memoizedState,e]},useRef:function(e){var r=Et();return e={current:e},r.memoizedState=e},useState:gl,useDebugValue:Ld,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=gl(!1),r=e[0];return e=qf.bind(null,e[1]),Et().memoizedState=e,[r,e]},useMutableSource:function(){},useSyncExternalStore:function(e,r,i){var l=Ge,h=Et();if(We){if(i===void 0)throw Error(a(407));i=i()}else{if(i=r(),_t===null)throw Error(a(349));rs&30||Dd(l,r,i)}h.memoizedState=i;var m={value:i,getSnapshot:r};return h.queue=m,zs(pl.bind(null,l,m,e),[e]),l.flags|=2048,Fs(9,hl.bind(null,l,m,i,r),void 0,null),i},useId:function(){var e=Et(),r=_t.identifierPrefix;if(We){var i=Xr,l=Lt;i=(l&~(1<<32-Pt(l)-1)).toString(32)+i,r=":"+r+"R"+i,i=ee++,0<i&&(r+="H"+i.toString(32)),r+=":"}else i=Se++,r=":"+r+"r"+i.toString(32)+":";return e.memoizedState=r},unstable_isNewReconciler:!1},Gf={readContext:nr,useCallback:fh,useContext:nr,useEffect:Rc,useImperativeHandle:ph,useInsertionEffect:Pc,useLayoutEffect:uh,useMemo:mh,useReducer:Ur,useRef:xl,useState:function(){return Ur(mr)},useDebugValue:Ld,useDeferredValue:function(e){var r=lt();return gh(r,c.memoizedState,e)},useTransition:function(){var e=Ur(mr)[0],r=lt().memoizedState;return[e,r]},useMutableSource:ns,useSyncExternalStore:Nn,useId:xh,unstable_isNewReconciler:!1},Kf={readContext:nr,useCallback:fh,useContext:nr,useEffect:Rc,useImperativeHandle:ph,useInsertionEffect:Pc,useLayoutEffect:uh,useMemo:mh,useReducer:en,useRef:xl,useState:function(){return en(mr)},useDebugValue:Ld,useDeferredValue:function(e){var r=lt();return c===null?r.memoizedState=e:gh(r,c.memoizedState,e)},useTransition:function(){var e=en(mr)[0],r=lt().memoizedState;return[e,r]},useMutableSource:ns,useSyncExternalStore:Nn,useId:xh,unstable_isNewReconciler:!1};function tn(e,r){if(e&&e.defaultProps){r=K({},r),e=e.defaultProps;for(var i in e)r[i]===void 0&&(r[i]=e[i]);return r}return r}function Bd(e,r,i,l){r=e.memoizedState,i=i(l,r),i=i==null?r:K({},r,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var Oc={isMounted:function(e){return(e=e._reactInternals)?qr(e)===e:!1},enqueueSetState:function(e,r,i){e=e._reactInternals;var l=Kt(),h=Vs(e),m=Lr(l,h);m.payload=r,i!=null&&(m.callback=i),r=kn(e,m,h),r!==null&&(sn(r,e,h,l),Ls(r,e,h))},enqueueReplaceState:function(e,r,i){e=e._reactInternals;var l=Kt(),h=Vs(e),m=Lr(l,h);m.tag=1,m.payload=r,i!=null&&(m.callback=i),r=kn(e,m,h),r!==null&&(sn(r,e,h,l),Ls(r,e,h))},enqueueForceUpdate:function(e,r){e=e._reactInternals;var i=Kt(),l=Vs(e),h=Lr(i,l);h.tag=2,r!=null&&(h.callback=r),r=kn(e,h,l),r!==null&&(sn(r,e,l,i),Ls(r,e,l))}};function wh(e,r,i,l,h,m,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,m,y):r.prototype&&r.prototype.isPureReactComponent?!Dt(i,l)||!Dt(h,m):!0}function _h(e,r,i){var l=!1,h=wn,m=r.contextType;return typeof m=="object"&&m!==null?m=nr(m):(h=Fe(r)?Qn:yt.current,l=r.contextTypes,m=(l=l!=null)?As(e,h):wn),r=new r(i,m),e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=Oc,e.stateNode=r,r._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=h,e.__reactInternalMemoizedMaskedChildContext=m),r}function jh(e,r,i,l){e=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(i,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(i,l),r.state!==e&&Oc.enqueueReplaceState(r,r.state,null)}function Ud(e,r,i,l){var h=e.stateNode;h.props=i,h.state=e.memoizedState,h.refs={},ll(e);var m=r.contextType;typeof m=="object"&&m!==null?h.context=nr(m):(m=Fe(r)?Qn:yt.current,h.context=As(e,m)),h.state=e.memoizedState,m=r.getDerivedStateFromProps,typeof m=="function"&&(Bd(e,r,m,i),h.state=e.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(r=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),r!==h.state&&Oc.enqueueReplaceState(h,h.state,null),qi(e,i,h,l),h.state=e.memoizedState),typeof h.componentDidMount=="function"&&(e.flags|=4194308)}function Gi(e,r){try{var i="",l=r;do i+=_e(l),l=l.return;while(l);var h=i}catch(m){h=`
Error generating stack: `+m.message+`
`+m.stack}return{value:e,source:r,stack:h,digest:null}}function Fd(e,r,i){return{value:e,source:null,stack:i??null,digest:r??null}}function zd(e,r){try{console.error(r.value)}catch(i){setTimeout(function(){throw i})}}var Jf=typeof WeakMap=="function"?WeakMap:Map;function Sh(e,r,i){i=Lr(-1,i),i.tag=3,i.payload={element:null};var l=r.value;return i.callback=function(){Mc||(Mc=!0,ru=l),zd(e,r)},i}function kh(e,r,i){i=Lr(-1,i),i.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var h=r.value;i.payload=function(){return l(h)},i.callback=function(){zd(e,r)}}var m=e.stateNode;return m!==null&&typeof m.componentDidCatch=="function"&&(i.callback=function(){zd(e,r),typeof l!="function"&&(qs===null?qs=new Set([this]):qs.add(this));var y=r.stack;this.componentDidCatch(r.value,{componentStack:y!==null?y:""})}),i}function Nh(e,r,i){var l=e.pingCache;if(l===null){l=e.pingCache=new Jf;var h=new Set;l.set(r,h)}else h=l.get(r),h===void 0&&(h=new Set,l.set(r,h));h.has(i)||(h.add(i),e=cm.bind(null,e,r,i),r.then(e,e))}function Ch(e){do{var r;if((r=e.tag===13)&&(r=e.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return e;e=e.return}while(e!==null);return null}function Eh(e,r,i,l,h){return e.mode&1?(e.flags|=65536,e.lanes=h,e):(e===r?e.flags|=65536:(e.flags|=128,i.flags|=131072,i.flags&=-52805,i.tag===1&&(i.alternate===null?i.tag=17:(r=Lr(-1,1),r.tag=2,kn(i,r,1))),i.lanes|=1),e)}var Qf=U.ReactCurrentOwner,sr=!1;function Gt(e,r,i,l){r.child=e===null?Cc(r,null,i,l):Is(r,e.child,i,l)}function Th(e,r,i,l,h){i=i.render;var m=r.ref;return Ds(r,h),l=qe(e,r,i,l,m,h),i=Bt(),e!==null&&!sr?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~h,ss(e,r,h)):(We&&i&&dt(r),r.flags|=1,Gt(e,r,l,h),r.child)}function Ah(e,r,i,l,h){if(e===null){var m=i.type;return typeof m=="function"&&!cu(m)&&m.defaultProps===void 0&&i.compare===null&&i.defaultProps===void 0?(r.tag=15,r.type=m,$h(e,r,m,l,h)):(e=Kc(i.type,null,l,r,r.mode,h),e.ref=r.ref,e.return=r,r.child=e)}if(m=e.child,!(e.lanes&h)){var y=m.memoizedProps;if(i=i.compare,i=i!==null?i:Dt,i(y,l)&&e.ref===r.ref)return ss(e,r,h)}return r.flags|=1,e=Gs(m,l),e.ref=r.ref,e.return=r,r.child=e}function $h(e,r,i,l,h){if(e!==null){var m=e.memoizedProps;if(Dt(m,l)&&e.ref===r.ref)if(sr=!1,r.pendingProps=l=m,(e.lanes&h)!==0)e.flags&131072&&(sr=!0);else return r.lanes=e.lanes,ss(e,r,h)}return Md(e,r,i,l,h)}function Rh(e,r,i){var l=r.pendingProps,h=l.children,m=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Ji,gr),gr|=i;else{if(!(i&1073741824))return e=m!==null?m.baseLanes|i:i,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:e,cachePool:null,transitions:null},r.updateQueue=null,Ue(Ji,gr),gr|=e,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=m!==null?m.baseLanes:i,Ue(Ji,gr),gr|=l}else m!==null?(l=m.baseLanes|i,r.memoizedState=null):l=i,Ue(Ji,gr),gr|=l;return Gt(e,r,h,i),r.child}function Ph(e,r){var i=r.ref;(e===null&&i!==null||e!==null&&e.ref!==i)&&(r.flags|=512,r.flags|=2097152)}function Md(e,r,i,l,h){var m=Fe(i)?Qn:yt.current;return m=As(r,m),Ds(r,h),i=qe(e,r,i,l,m,h),l=Bt(),e!==null&&!sr?(r.updateQueue=e.updateQueue,r.flags&=-2053,e.lanes&=~h,ss(e,r,h)):(We&&l&&dt(r),r.flags|=1,Gt(e,r,i,h),r.child)}function Ih(e,r,i,l,h){if(Fe(i)){var m=!0;Pi(r)}else m=!1;if(Ds(r,h),r.stateNode===null)Lc(e,r),_h(r,i,l),Ud(r,i,l,h),l=!0;else if(e===null){var y=r.stateNode,C=r.memoizedProps;y.props=C;var R=y.context,M=i.contextType;typeof M=="object"&&M!==null?M=nr(M):(M=Fe(i)?Qn:yt.current,M=As(r,M));var Q=i.getDerivedStateFromProps,Y=typeof Q=="function"||typeof y.getSnapshotBeforeUpdate=="function";Y||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==l||R!==M)&&jh(r,y,l,M),Sn=!1;var J=r.memoizedState;y.state=J,qi(r,l,y,h),R=r.memoizedState,C!==l||J!==R||vt.current||Sn?(typeof Q=="function"&&(Bd(r,i,Q,l),R=r.memoizedState),(C=Sn||wh(r,i,C,l,J,R,M))?(Y||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(r.flags|=4194308)):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=R),y.props=l,y.state=R,y.context=M,l=C):(typeof y.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{y=r.stateNode,Mi(e,r),C=r.memoizedProps,M=r.type===r.elementType?C:tn(r.type,C),y.props=M,Y=r.pendingProps,J=y.context,R=i.contextType,typeof R=="object"&&R!==null?R=nr(R):(R=Fe(i)?Qn:yt.current,R=As(r,R));var te=i.getDerivedStateFromProps;(Q=typeof te=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(C!==Y||J!==R)&&jh(r,y,l,R),Sn=!1,J=r.memoizedState,y.state=J,qi(r,l,y,h);var se=r.memoizedState;C!==Y||J!==se||vt.current||Sn?(typeof te=="function"&&(Bd(r,i,te,l),se=r.memoizedState),(M=Sn||wh(r,i,M,l,J,se,R)||!1)?(Q||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(l,se,R),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(l,se,R)),typeof y.componentDidUpdate=="function"&&(r.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof y.componentDidUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=se),y.props=l,y.state=se,y.context=R,l=M):(typeof y.componentDidUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(r.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&J===e.memoizedState||(r.flags|=1024),l=!1)}return qd(e,r,i,l,m,h)}function qd(e,r,i,l,h,m){Ph(e,r);var y=(r.flags&128)!==0;if(!l&&!y)return h&&wc(r,i,!1),ss(e,r,m);l=r.stateNode,Qf.current=r;var C=y&&typeof i.getDerivedStateFromError!="function"?null:l.render();return r.flags|=1,e!==null&&y?(r.child=Is(r,e.child,null,m),r.child=Is(r,null,C,m)):Gt(e,r,C,m),r.memoizedState=l.state,h&&wc(r,i,!0),r.child}function Oh(e){var r=e.stateNode;r.pendingContext?yc(e,r.pendingContext,r.pendingContext!==r.context):r.context&&yc(e,r.context,!1),cl(e,r.containerInfo)}function Dh(e,r,i,l,h){return Ps(),nl(h),r.flags|=256,Gt(e,r,i,l),r.child}var Hd={dehydrated:null,treeContext:null,retryLane:0};function Vd(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lh(e,r,i){var l=r.pendingProps,h=Xe.current,m=!1,y=(r.flags&128)!==0,C;if((C=y)||(C=e!==null&&e.memoizedState===null?!1:(h&2)!==0),C?(m=!0,r.flags&=-129):(e===null||e.memoizedState!==null)&&(h|=1),Ue(Xe,h&1),e===null)return rl(r),e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(r.mode&1?e.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(y=l.children,e=l.fallback,m?(l=r.mode,m=r.child,y={mode:"hidden",children:y},!(l&1)&&m!==null?(m.childLanes=0,m.pendingProps=y):m=Jc(y,l,0,null),e=Fa(e,l,i,null),m.return=r,e.return=r,m.sibling=e,r.child=m,r.child.memoizedState=Vd(i),r.memoizedState=Hd,e):Wd(r,y));if(h=e.memoizedState,h!==null&&(C=h.dehydrated,C!==null))return Yf(e,r,y,l,C,h,i);if(m){m=l.fallback,y=r.mode,h=e.child,C=h.sibling;var R={mode:"hidden",children:l.children};return!(y&1)&&r.child!==h?(l=r.child,l.childLanes=0,l.pendingProps=R,r.deletions=null):(l=Gs(h,R),l.subtreeFlags=h.subtreeFlags&14680064),C!==null?m=Gs(C,m):(m=Fa(m,y,i,null),m.flags|=2),m.return=r,l.return=r,l.sibling=m,r.child=l,l=m,m=r.child,y=e.child.memoizedState,y=y===null?Vd(i):{baseLanes:y.baseLanes|i,cachePool:null,transitions:y.transitions},m.memoizedState=y,m.childLanes=e.childLanes&~i,r.memoizedState=Hd,l}return m=e.child,e=m.sibling,l=Gs(m,{mode:"visible",children:l.children}),!(r.mode&1)&&(l.lanes=i),l.return=r,l.sibling=null,e!==null&&(i=r.deletions,i===null?(r.deletions=[e],r.flags|=16):i.push(e)),r.child=l,r.memoizedState=null,l}function Wd(e,r){return r=Jc({mode:"visible",children:r},e.mode,0,null),r.return=e,e.child=r}function Dc(e,r,i,l){return l!==null&&nl(l),Is(r,e.child,null,i),e=Wd(r,r.pendingProps.children),e.flags|=2,r.memoizedState=null,e}function Yf(e,r,i,l,h,m,y){if(i)return r.flags&256?(r.flags&=-257,l=Fd(Error(a(422))),Dc(e,r,y,l)):r.memoizedState!==null?(r.child=e.child,r.flags|=128,null):(m=l.fallback,h=r.mode,l=Jc({mode:"visible",children:l.children},h,0,null),m=Fa(m,h,y,null),m.flags|=2,l.return=r,m.return=r,l.sibling=m,r.child=l,r.mode&1&&Is(r,e.child,null,y),r.child.memoizedState=Vd(y),r.memoizedState=Hd,m);if(!(r.mode&1))return Dc(e,r,y,null);if(h.data==="$!"){if(l=h.nextSibling&&h.nextSibling.dataset,l)var C=l.dgst;return l=C,m=Error(a(419)),l=Fd(m,l,void 0),Dc(e,r,y,l)}if(C=(y&e.childLanes)!==0,sr||C){if(l=_t,l!==null){switch(y&-y){case 4:h=2;break;case 16:h=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:h=32;break;case 536870912:h=268435456;break;default:h=0}h=h&(l.suspendedLanes|y)?0:h,h!==0&&h!==m.retryLane&&(m.retryLane=h,Zr(e,h),sn(l,e,h,-1))}return lu(),l=Fd(Error(a(421))),Dc(e,r,y,l)}return h.data==="$?"?(r.flags|=128,r.child=e.child,r=dm.bind(null,e),h._reactRetry=r,null):(e=m.treeContext,Wt=Ct(h.nextSibling),Vt=r,We=!0,fr=null,e!==null&&(tr[rr++]=Lt,tr[rr++]=Xr,tr[rr++]=Yn,Lt=e.id,Xr=e.overflow,Yn=r),r=Wd(r,l.children),r.flags|=4096,r)}function Bh(e,r,i){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r),ol(e.return,r,i)}function Gd(e,r,i,l,h){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:i,tailMode:h}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=i,m.tailMode=h)}function Uh(e,r,i){var l=r.pendingProps,h=l.revealOrder,m=l.tail;if(Gt(e,r,l.children,i),l=Xe.current,l&2)l=l&1|2,r.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=r.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Bh(e,i,r);else if(e.tag===19)Bh(e,i,r);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===r)break e;for(;e.sibling===null;){if(e.return===null||e.return===r)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(Ue(Xe,l),!(r.mode&1))r.memoizedState=null;else switch(h){case"forwards":for(i=r.child,h=null;i!==null;)e=i.alternate,e!==null&&Hi(e)===null&&(h=i),i=i.sibling;i=h,i===null?(h=r.child,r.child=null):(h=i.sibling,i.sibling=null),Gd(r,!1,h,i,m);break;case"backwards":for(i=null,h=r.child,r.child=null;h!==null;){if(e=h.alternate,e!==null&&Hi(e)===null){r.child=h;break}e=h.sibling,h.sibling=i,i=h,h=e}Gd(r,!0,i,null,m);break;case"together":Gd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Lc(e,r){!(r.mode&1)&&e!==null&&(e.alternate=null,r.alternate=null,r.flags|=2)}function ss(e,r,i){if(e!==null&&(r.dependencies=e.dependencies),Da|=r.lanes,!(i&r.childLanes))return null;if(e!==null&&r.child!==e.child)throw Error(a(153));if(r.child!==null){for(e=r.child,i=Gs(e,e.pendingProps),r.child=i,i.return=r;e.sibling!==null;)e=e.sibling,i=i.sibling=Gs(e,e.pendingProps),i.return=r;i.sibling=null}return r.child}function Xf(e,r,i){switch(r.tag){case 3:Oh(r),Ps();break;case 5:$c(r);break;case 1:Fe(r.type)&&Pi(r);break;case 4:cl(r,r.stateNode.containerInfo);break;case 10:var l=r.type._context,h=r.memoizedProps.value;Ue(Fi,l._currentValue),l._currentValue=h;break;case 13:if(l=r.memoizedState,l!==null)return l.dehydrated!==null?(Ue(Xe,Xe.current&1),r.flags|=128,null):i&r.child.childLanes?Lh(e,r,i):(Ue(Xe,Xe.current&1),e=ss(e,r,i),e!==null?e.sibling:null);Ue(Xe,Xe.current&1);break;case 19:if(l=(i&r.childLanes)!==0,e.flags&128){if(l)return Uh(e,r,i);r.flags|=128}if(h=r.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),Ue(Xe,Xe.current),l)break;return null;case 22:case 23:return r.lanes=0,Rh(e,r,i)}return ss(e,r,i)}var Fh,Kd,zh,Mh;Fh=function(e,r){for(var i=r.child;i!==null;){if(i.tag===5||i.tag===6)e.appendChild(i.stateNode);else if(i.tag!==4&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return;i=i.return}i.sibling.return=i.return,i=i.sibling}},Kd=function(){},zh=function(e,r,i,l){var h=e.memoizedProps;if(h!==l){e=r.stateNode,ts(Br.current);var m=null;switch(i){case"input":h=Ya(e,h),l=Ya(e,l),m=[];break;case"select":h=K({},h,{value:void 0}),l=K({},l,{value:void 0}),m=[];break;case"textarea":h=xt(e,h),l=xt(e,l),m=[];break;default:typeof h.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Gn)}fo(i,l);var y;i=null;for(M in h)if(!l.hasOwnProperty(M)&&h.hasOwnProperty(M)&&h[M]!=null)if(M==="style"){var C=h[M];for(y in C)C.hasOwnProperty(y)&&(i||(i={}),i[y]="")}else M!=="dangerouslySetInnerHTML"&&M!=="children"&&M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&M!=="autoFocus"&&(d.hasOwnProperty(M)?m||(m=[]):(m=m||[]).push(M,null));for(M in l){var R=l[M];if(C=h!=null?h[M]:void 0,l.hasOwnProperty(M)&&R!==C&&(R!=null||C!=null))if(M==="style")if(C){for(y in C)!C.hasOwnProperty(y)||R&&R.hasOwnProperty(y)||(i||(i={}),i[y]="");for(y in R)R.hasOwnProperty(y)&&C[y]!==R[y]&&(i||(i={}),i[y]=R[y])}else i||(m||(m=[]),m.push(M,i)),i=R;else M==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,C=C?C.__html:void 0,R!=null&&C!==R&&(m=m||[]).push(M,R)):M==="children"?typeof R!="string"&&typeof R!="number"||(m=m||[]).push(M,""+R):M!=="suppressContentEditableWarning"&&M!=="suppressHydrationWarning"&&(d.hasOwnProperty(M)?(R!=null&&M==="onScroll"&&ye("scroll",e),m||C===R||(m=[])):(m=m||[]).push(M,R))}i&&(m=m||[]).push("style",i);var M=m;(r.updateQueue=M)&&(r.flags|=4)}},Mh=function(e,r,i,l){i!==l&&(r.flags|=4)};function bl(e,r){if(!We)switch(e.tailMode){case"hidden":r=e.tail;for(var i=null;r!==null;)r.alternate!==null&&(i=r),r=r.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?r||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Ut(e){var r=e.alternate!==null&&e.alternate.child===e.child,i=0,l=0;if(r)for(var h=e.child;h!==null;)i|=h.lanes|h.childLanes,l|=h.subtreeFlags&14680064,l|=h.flags&14680064,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)i|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=i,r}function Zf(e,r,i){var l=r.pendingProps;switch(el(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ut(r),null;case 1:return Fe(r.type)&&Ri(),Ut(r),null;case 3:return l=r.stateNode,Bs(),Me(vt),Me(yt),ul(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Li(r)?r.flags|=4:e===null||e.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,fr!==null&&(au(fr),fr=null))),Kd(e,r),Ut(r),null;case 5:Us(r);var h=ts(Ia.current);if(i=r.type,e!==null&&r.stateNode!=null)zh(e,r,i,l,h),e.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!l){if(r.stateNode===null)throw Error(a(166));return Ut(r),null}if(e=ts(Br.current),Li(r)){l=r.stateNode,i=r.type;var m=r.memoizedProps;switch(l[Or]=r,l[Aa]=m,e=(r.mode&1)!==0,i){case"dialog":ye("cancel",l),ye("close",l);break;case"iframe":case"object":case"embed":ye("load",l);break;case"video":case"audio":for(h=0;h<Hn.length;h++)ye(Hn[h],l);break;case"source":ye("error",l);break;case"img":case"image":case"link":ye("error",l),ye("load",l);break;case"details":ye("toggle",l);break;case"input":ta(l,m),ye("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!m.multiple},ye("invalid",l);break;case"textarea":uo(l,m),ye("invalid",l)}fo(i,m),h=null;for(var y in m)if(m.hasOwnProperty(y)){var C=m[y];y==="children"?typeof C=="string"?l.textContent!==C&&(m.suppressHydrationWarning!==!0&&Ci(l.textContent,C,e),h=["children",C]):typeof C=="number"&&l.textContent!==""+C&&(m.suppressHydrationWarning!==!0&&Ci(l.textContent,C,e),h=["children",""+C]):d.hasOwnProperty(y)&&C!=null&&y==="onScroll"&&ye("scroll",l)}switch(i){case"input":Jt(l),wr(l,m,!0);break;case"textarea":Jt(l),Mr(l);break;case"select":case"option":break;default:typeof m.onClick=="function"&&(l.onclick=Gn)}l=h,r.updateQueue=l,l!==null&&(r.flags|=4)}else{y=h.nodeType===9?h:h.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hs(i)),e==="http://www.w3.org/1999/xhtml"?i==="script"?(e=y.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=y.createElement(i,{is:l.is}):(e=y.createElement(i),i==="select"&&(y=e,l.multiple?y.multiple=!0:l.size&&(y.size=l.size))):e=y.createElementNS(e,i),e[Or]=r,e[Aa]=l,Fh(e,r,!1,!1),r.stateNode=e;e:{switch(y=_r(i,l),i){case"dialog":ye("cancel",e),ye("close",e),h=l;break;case"iframe":case"object":case"embed":ye("load",e),h=l;break;case"video":case"audio":for(h=0;h<Hn.length;h++)ye(Hn[h],e);h=l;break;case"source":ye("error",e),h=l;break;case"img":case"image":case"link":ye("error",e),ye("load",e),h=l;break;case"details":ye("toggle",e),h=l;break;case"input":ta(e,l),h=Ya(e,l),ye("invalid",e);break;case"option":h=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},h=K({},l,{value:void 0}),ye("invalid",e);break;case"textarea":uo(e,l),h=xt(e,l),ye("invalid",e);break;default:h=l}fo(i,h),C=h;for(m in C)if(C.hasOwnProperty(m)){var R=C[m];m==="style"?po(e,R):m==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&ho(e,R)):m==="children"?typeof R=="string"?(i!=="textarea"||R!=="")&&aa(e,R):typeof R=="number"&&aa(e,""+R):m!=="suppressContentEditableWarning"&&m!=="suppressHydrationWarning"&&m!=="autoFocus"&&(d.hasOwnProperty(m)?R!=null&&m==="onScroll"&&ye("scroll",e):R!=null&&E(e,m,R,y))}switch(i){case"input":Jt(e),wr(e,l,!1);break;case"textarea":Jt(e),Mr(e);break;case"option":l.value!=null&&e.setAttribute("value",""+Ee(l.value));break;case"select":e.multiple=!!l.multiple,m=l.value,m!=null?me(e,!!l.multiple,m,!1):l.defaultValue!=null&&me(e,!!l.multiple,l.defaultValue,!0);break;default:typeof h.onClick=="function"&&(e.onclick=Gn)}switch(i){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Ut(r),null;case 6:if(e&&r.stateNode!=null)Mh(e,r,e.memoizedProps,l);else{if(typeof l!="string"&&r.stateNode===null)throw Error(a(166));if(i=ts(Ia.current),ts(Br.current),Li(r)){if(l=r.stateNode,i=r.memoizedProps,l[Or]=r,(m=l.nodeValue!==i)&&(e=Vt,e!==null))switch(e.tag){case 3:Ci(l.nodeValue,i,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ci(l.nodeValue,i,(e.mode&1)!==0)}m&&(r.flags|=4)}else l=(i.nodeType===9?i:i.ownerDocument).createTextNode(l),l[Or]=r,r.stateNode=l}return Ut(r),null;case 13:if(Me(Xe),l=r.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(We&&Wt!==null&&r.mode&1&&!(r.flags&128))kc(),Ps(),r.flags|=98560,m=!1;else if(m=Li(r),l!==null&&l.dehydrated!==null){if(e===null){if(!m)throw Error(a(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));m[Or]=r}else Ps(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Ut(r),m=!1}else fr!==null&&(au(fr),fr=null),m=!0;if(!m)return r.flags&65536?r:null}return r.flags&128?(r.lanes=i,r):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(r.child.flags|=8192,r.mode&1&&(e===null||Xe.current&1?mt===0&&(mt=3):lu())),r.updateQueue!==null&&(r.flags|=4),Ut(r),null);case 4:return Bs(),Kd(e,r),e===null&&xn(r.stateNode.containerInfo),Ut(r),null;case 10:return il(r.type._context),Ut(r),null;case 17:return Fe(r.type)&&Ri(),Ut(r),null;case 19:if(Me(Xe),m=r.memoizedState,m===null)return Ut(r),null;if(l=(r.flags&128)!==0,y=m.rendering,y===null)if(l)bl(m,!1);else{if(mt!==0||e!==null&&e.flags&128)for(e=r.child;e!==null;){if(y=Hi(e),y!==null){for(r.flags|=128,bl(m,!1),l=y.updateQueue,l!==null&&(r.updateQueue=l,r.flags|=4),r.subtreeFlags=0,l=i,i=r.child;i!==null;)m=i,e=l,m.flags&=14680066,y=m.alternate,y===null?(m.childLanes=0,m.lanes=e,m.child=null,m.subtreeFlags=0,m.memoizedProps=null,m.memoizedState=null,m.updateQueue=null,m.dependencies=null,m.stateNode=null):(m.childLanes=y.childLanes,m.lanes=y.lanes,m.child=y.child,m.subtreeFlags=0,m.deletions=null,m.memoizedProps=y.memoizedProps,m.memoizedState=y.memoizedState,m.updateQueue=y.updateQueue,m.type=y.type,e=y.dependencies,m.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),i=i.sibling;return Ue(Xe,Xe.current&1|2),r.child}e=e.sibling}m.tail!==null&&Ye()>Qi&&(r.flags|=128,l=!0,bl(m,!1),r.lanes=4194304)}else{if(!l)if(e=Hi(y),e!==null){if(r.flags|=128,l=!0,i=e.updateQueue,i!==null&&(r.updateQueue=i,r.flags|=4),bl(m,!0),m.tail===null&&m.tailMode==="hidden"&&!y.alternate&&!We)return Ut(r),null}else 2*Ye()-m.renderingStartTime>Qi&&i!==1073741824&&(r.flags|=128,l=!0,bl(m,!1),r.lanes=4194304);m.isBackwards?(y.sibling=r.child,r.child=y):(i=m.last,i!==null?i.sibling=y:r.child=y,m.last=y)}return m.tail!==null?(r=m.tail,m.rendering=r,m.tail=r.sibling,m.renderingStartTime=Ye(),r.sibling=null,i=Xe.current,Ue(Xe,l?i&1|2:i&1),r):(Ut(r),null);case 22:case 23:return ou(),l=r.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(r.flags|=8192),l&&r.mode&1?gr&1073741824&&(Ut(r),r.subtreeFlags&6&&(r.flags|=8192)):Ut(r),null;case 24:return null;case 25:return null}throw Error(a(156,r.tag))}function em(e,r){switch(el(r),r.tag){case 1:return Fe(r.type)&&Ri(),e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 3:return Bs(),Me(vt),Me(yt),ul(),e=r.flags,e&65536&&!(e&128)?(r.flags=e&-65537|128,r):null;case 5:return Us(r),null;case 13:if(Me(Xe),e=r.memoizedState,e!==null&&e.dehydrated!==null){if(r.alternate===null)throw Error(a(340));Ps()}return e=r.flags,e&65536?(r.flags=e&-65537|128,r):null;case 19:return Me(Xe),null;case 4:return Bs(),null;case 10:return il(r.type._context),null;case 22:case 23:return ou(),null;case 24:return null;default:return null}}var Bc=!1,Ft=!1,tm=typeof WeakSet=="function"?WeakSet:Set,ne=null;function Ki(e,r){var i=e.ref;if(i!==null)if(typeof i=="function")try{i(null)}catch(l){st(e,r,l)}else i.current=null}function Jd(e,r,i){try{i()}catch(l){st(e,r,l)}}var qh=!1;function rm(e,r){if(Jo=Ot,e=ka(),Zt(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var l=i.getSelection&&i.getSelection();if(l&&l.rangeCount!==0){i=l.anchorNode;var h=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{i.nodeType,m.nodeType}catch{i=null;break e}var y=0,C=-1,R=-1,M=0,Q=0,Y=e,J=null;t:for(;;){for(var te;Y!==i||h!==0&&Y.nodeType!==3||(C=y+h),Y!==m||l!==0&&Y.nodeType!==3||(R=y+l),Y.nodeType===3&&(y+=Y.nodeValue.length),(te=Y.firstChild)!==null;)J=Y,Y=te;for(;;){if(Y===e)break t;if(J===i&&++M===h&&(C=y),J===m&&++Q===l&&(R=y),(te=Y.nextSibling)!==null)break;Y=J,J=Y.parentNode}Y=te}i=C===-1||R===-1?null:{start:C,end:R}}else i=null}i=i||{start:0,end:0}}else i=null;for(Qo={focusedElem:e,selectionRange:i},Ot=!1,ne=r;ne!==null;)if(r=ne,e=r.child,(r.subtreeFlags&1028)!==0&&e!==null)e.return=r,ne=e;else for(;ne!==null;){r=ne;try{var se=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(se!==null){var ae=se.memoizedProps,ct=se.memoizedState,F=r.stateNode,I=F.getSnapshotBeforeUpdate(r.elementType===r.type?ae:tn(r.type,ae),ct);F.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var z=r.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Z){st(r,r.return,Z)}if(e=r.sibling,e!==null){e.return=r.return,ne=e;break}ne=r.return}return se=qh,qh=!1,se}function yl(e,r,i){var l=r.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var h=l=l.next;do{if((h.tag&e)===e){var m=h.destroy;h.destroy=void 0,m!==void 0&&Jd(r,i,m)}h=h.next}while(h!==l)}}function Uc(e,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var l=i.create;i.destroy=l()}i=i.next}while(i!==r)}}function Qd(e){var r=e.ref;if(r!==null){var i=e.stateNode;switch(e.tag){case 5:e=i;break;default:e=i}typeof r=="function"?r(e):r.current=e}}function Hh(e){var r=e.alternate;r!==null&&(e.alternate=null,Hh(r)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(r=e.stateNode,r!==null&&(delete r[Or],delete r[Aa],delete r[Ai],delete r[Id],delete r[Kn])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Vh(e){return e.tag===5||e.tag===3||e.tag===4}function Wh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Vh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yd(e,r,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?i.nodeType===8?i.parentNode.insertBefore(e,r):i.insertBefore(e,r):(i.nodeType===8?(r=i.parentNode,r.insertBefore(e,i)):(r=i,r.appendChild(e)),i=i._reactRootContainer,i!=null||r.onclick!==null||(r.onclick=Gn));else if(l!==4&&(e=e.child,e!==null))for(Yd(e,r,i),e=e.sibling;e!==null;)Yd(e,r,i),e=e.sibling}function Xd(e,r,i){var l=e.tag;if(l===5||l===6)e=e.stateNode,r?i.insertBefore(e,r):i.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Xd(e,r,i),e=e.sibling;e!==null;)Xd(e,r,i),e=e.sibling}var Tt=null,rn=!1;function Ms(e,r,i){for(i=i.child;i!==null;)Gh(e,r,i),i=i.sibling}function Gh(e,r,i){if(Ae&&typeof Ae.onCommitFiberUnmount=="function")try{Ae.onCommitFiberUnmount(ma,i)}catch{}switch(i.tag){case 5:Ft||Ki(i,r);case 6:var l=Tt,h=rn;Tt=null,Ms(e,r,i),Tt=l,rn=h,Tt!==null&&(rn?(e=Tt,i=i.stateNode,e.nodeType===8?e.parentNode.removeChild(i):e.removeChild(i)):Tt.removeChild(i.stateNode));break;case 18:Tt!==null&&(rn?(e=Tt,i=i.stateNode,e.nodeType===8?ot(e.parentNode,i):e.nodeType===1&&ot(e,i),bs(e)):ot(Tt,i.stateNode));break;case 4:l=Tt,h=rn,Tt=i.stateNode.containerInfo,rn=!0,Ms(e,r,i),Tt=l,rn=h;break;case 0:case 11:case 14:case 15:if(!Ft&&(l=i.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){h=l=l.next;do{var m=h,y=m.destroy;m=m.tag,y!==void 0&&(m&2||m&4)&&Jd(i,r,y),h=h.next}while(h!==l)}Ms(e,r,i);break;case 1:if(!Ft&&(Ki(i,r),l=i.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=i.memoizedProps,l.state=i.memoizedState,l.componentWillUnmount()}catch(C){st(i,r,C)}Ms(e,r,i);break;case 21:Ms(e,r,i);break;case 22:i.mode&1?(Ft=(l=Ft)||i.memoizedState!==null,Ms(e,r,i),Ft=l):Ms(e,r,i);break;default:Ms(e,r,i)}}function Kh(e){var r=e.updateQueue;if(r!==null){e.updateQueue=null;var i=e.stateNode;i===null&&(i=e.stateNode=new tm),r.forEach(function(l){var h=um.bind(null,e,l);i.has(l)||(i.add(l),l.then(h,h))})}}function nn(e,r){var i=r.deletions;if(i!==null)for(var l=0;l<i.length;l++){var h=i[l];try{var m=e,y=r,C=y;e:for(;C!==null;){switch(C.tag){case 5:Tt=C.stateNode,rn=!1;break e;case 3:Tt=C.stateNode.containerInfo,rn=!0;break e;case 4:Tt=C.stateNode.containerInfo,rn=!0;break e}C=C.return}if(Tt===null)throw Error(a(160));Gh(m,y,h),Tt=null,rn=!1;var R=h.alternate;R!==null&&(R.return=null),h.return=null}catch(M){st(h,r,M)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Jh(r,e),r=r.sibling}function Jh(e,r){var i=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(nn(r,e),En(e),l&4){try{yl(3,e,e.return),Uc(3,e)}catch(ae){st(e,e.return,ae)}try{yl(5,e,e.return)}catch(ae){st(e,e.return,ae)}}break;case 1:nn(r,e),En(e),l&512&&i!==null&&Ki(i,i.return);break;case 5:if(nn(r,e),En(e),l&512&&i!==null&&Ki(i,i.return),e.flags&32){var h=e.stateNode;try{aa(h,"")}catch(ae){st(e,e.return,ae)}}if(l&4&&(h=e.stateNode,h!=null)){var m=e.memoizedProps,y=i!==null?i.memoizedProps:m,C=e.type,R=e.updateQueue;if(e.updateQueue=null,R!==null)try{C==="input"&&m.type==="radio"&&m.name!=null&&zl(h,m),_r(C,y);var M=_r(C,m);for(y=0;y<R.length;y+=2){var Q=R[y],Y=R[y+1];Q==="style"?po(h,Y):Q==="dangerouslySetInnerHTML"?ho(h,Y):Q==="children"?aa(h,Y):E(h,Q,Y,M)}switch(C){case"input":nt(h,m);break;case"textarea":Ml(h,m);break;case"select":var J=h._wrapperState.wasMultiple;h._wrapperState.wasMultiple=!!m.multiple;var te=m.value;te!=null?me(h,!!m.multiple,te,!1):J!==!!m.multiple&&(m.defaultValue!=null?me(h,!!m.multiple,m.defaultValue,!0):me(h,!!m.multiple,m.multiple?[]:"",!1))}h[Aa]=m}catch(ae){st(e,e.return,ae)}}break;case 6:if(nn(r,e),En(e),l&4){if(e.stateNode===null)throw Error(a(162));h=e.stateNode,m=e.memoizedProps;try{h.nodeValue=m}catch(ae){st(e,e.return,ae)}}break;case 3:if(nn(r,e),En(e),l&4&&i!==null&&i.memoizedState.isDehydrated)try{bs(r.containerInfo)}catch(ae){st(e,e.return,ae)}break;case 4:nn(r,e),En(e);break;case 13:nn(r,e),En(e),h=e.child,h.flags&8192&&(m=h.memoizedState!==null,h.stateNode.isHidden=m,!m||h.alternate!==null&&h.alternate.memoizedState!==null||(tu=Ye())),l&4&&Kh(e);break;case 22:if(Q=i!==null&&i.memoizedState!==null,e.mode&1?(Ft=(M=Ft)||Q,nn(r,e),Ft=M):nn(r,e),En(e),l&8192){if(M=e.memoizedState!==null,(e.stateNode.isHidden=M)&&!Q&&e.mode&1)for(ne=e,Q=e.child;Q!==null;){for(Y=ne=Q;ne!==null;){switch(J=ne,te=J.child,J.tag){case 0:case 11:case 14:case 15:yl(4,J,J.return);break;case 1:Ki(J,J.return);var se=J.stateNode;if(typeof se.componentWillUnmount=="function"){l=J,i=J.return;try{r=l,se.props=r.memoizedProps,se.state=r.memoizedState,se.componentWillUnmount()}catch(ae){st(l,i,ae)}}break;case 5:Ki(J,J.return);break;case 22:if(J.memoizedState!==null){Xh(Y);continue}}te!==null?(te.return=J,ne=te):Xh(Y)}Q=Q.sibling}e:for(Q=null,Y=e;;){if(Y.tag===5){if(Q===null){Q=Y;try{h=Y.stateNode,M?(m=h.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none"):(C=Y.stateNode,R=Y.memoizedProps.style,y=R!=null&&R.hasOwnProperty("display")?R.display:null,C.style.display=Xa("display",y))}catch(ae){st(e,e.return,ae)}}}else if(Y.tag===6){if(Q===null)try{Y.stateNode.nodeValue=M?"":Y.memoizedProps}catch(ae){st(e,e.return,ae)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===e)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===e)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===e)break e;Q===Y&&(Q=null),Y=Y.return}Q===Y&&(Q=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:nn(r,e),En(e),l&4&&Kh(e);break;case 21:break;default:nn(r,e),En(e)}}function En(e){var r=e.flags;if(r&2){try{e:{for(var i=e.return;i!==null;){if(Vh(i)){var l=i;break e}i=i.return}throw Error(a(160))}switch(l.tag){case 5:var h=l.stateNode;l.flags&32&&(aa(h,""),l.flags&=-33);var m=Wh(e);Xd(e,m,h);break;case 3:case 4:var y=l.stateNode.containerInfo,C=Wh(e);Yd(e,C,y);break;default:throw Error(a(161))}}catch(R){st(e,e.return,R)}e.flags&=-3}r&4096&&(e.flags&=-4097)}function nm(e,r,i){ne=e,Qh(e)}function Qh(e,r,i){for(var l=(e.mode&1)!==0;ne!==null;){var h=ne,m=h.child;if(h.tag===22&&l){var y=h.memoizedState!==null||Bc;if(!y){var C=h.alternate,R=C!==null&&C.memoizedState!==null||Ft;C=Bc;var M=Ft;if(Bc=y,(Ft=R)&&!M)for(ne=h;ne!==null;)y=ne,R=y.child,y.tag===22&&y.memoizedState!==null?Zh(h):R!==null?(R.return=y,ne=R):Zh(h);for(;m!==null;)ne=m,Qh(m),m=m.sibling;ne=h,Bc=C,Ft=M}Yh(e)}else h.subtreeFlags&8772&&m!==null?(m.return=h,ne=m):Yh(e)}}function Yh(e){for(;ne!==null;){var r=ne;if(r.flags&8772){var i=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Ft||Uc(5,r);break;case 1:var l=r.stateNode;if(r.flags&4&&!Ft)if(i===null)l.componentDidMount();else{var h=r.elementType===r.type?i.memoizedProps:tn(r.type,i.memoizedProps);l.componentDidUpdate(h,i.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var m=r.updateQueue;m!==null&&Ac(r,m,l);break;case 3:var y=r.updateQueue;if(y!==null){if(i=null,r.child!==null)switch(r.child.tag){case 5:i=r.child.stateNode;break;case 1:i=r.child.stateNode}Ac(r,y,i)}break;case 5:var C=r.stateNode;if(i===null&&r.flags&4){i=C;var R=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&i.focus();break;case"img":R.src&&(i.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var M=r.alternate;if(M!==null){var Q=M.memoizedState;if(Q!==null){var Y=Q.dehydrated;Y!==null&&bs(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(a(163))}Ft||r.flags&512&&Qd(r)}catch(J){st(r,r.return,J)}}if(r===e){ne=null;break}if(i=r.sibling,i!==null){i.return=r.return,ne=i;break}ne=r.return}}function Xh(e){for(;ne!==null;){var r=ne;if(r===e){ne=null;break}var i=r.sibling;if(i!==null){i.return=r.return,ne=i;break}ne=r.return}}function Zh(e){for(;ne!==null;){var r=ne;try{switch(r.tag){case 0:case 11:case 15:var i=r.return;try{Uc(4,r)}catch(R){st(r,i,R)}break;case 1:var l=r.stateNode;if(typeof l.componentDidMount=="function"){var h=r.return;try{l.componentDidMount()}catch(R){st(r,h,R)}}var m=r.return;try{Qd(r)}catch(R){st(r,m,R)}break;case 5:var y=r.return;try{Qd(r)}catch(R){st(r,y,R)}}}catch(R){st(r,r.return,R)}if(r===e){ne=null;break}var C=r.sibling;if(C!==null){C.return=r.return,ne=C;break}ne=r.return}}var sm=Math.ceil,Fc=U.ReactCurrentDispatcher,Zd=U.ReactCurrentOwner,Fr=U.ReactCurrentBatchConfig,Ie=0,_t=null,ht=null,At=0,gr=0,Ji=Dr(0),mt=0,vl=null,Da=0,zc=0,eu=0,wl=null,ar=null,tu=0,Qi=1/0,as=null,Mc=!1,ru=null,qs=null,qc=!1,Hs=null,Hc=0,_l=0,nu=null,Vc=-1,Wc=0;function Kt(){return Ie&6?Ye():Vc!==-1?Vc:Vc=Ye()}function Vs(e){return e.mode&1?Ie&2&&At!==0?At&-At:Bi.transition!==null?(Wc===0&&(Wc=Ql()),Wc):(e=$e,e!==0||(e=window.event,e=e===void 0?16:ko(e.type)),e):1}function sn(e,r,i,l){if(50<_l)throw _l=0,nu=null,Error(a(185));Mt(e,i,l),(!(Ie&2)||e!==_t)&&(e===_t&&(!(Ie&2)&&(zc|=i),mt===4&&Ws(e,At)),ir(e,l),i===1&&Ie===0&&!(r.mode&1)&&(Qi=Ye()+500,Ii&&_n()))}function ir(e,r){var i=e.callbackNode;Jl(e,r);var l=Hr(e,e===_t?At:0);if(l===0)i!==null&&Hl(i),e.callbackNode=null,e.callbackPriority=0;else if(r=l&-l,e.callbackPriority!==r){if(i!=null&&Hl(i),r===1)e.tag===0?Od(tp.bind(null,e)):wt(tp.bind(null,e)),bc(function(){!(Ie&6)&&_n()}),i=null;else{switch(wo(l)){case 1:i=ms;break;case 4:i=Wl;break;case 16:i=dr;break;case 536870912:i=kr;break;default:i=dr}i=cp(i,ep.bind(null,e))}e.callbackPriority=r,e.callbackNode=i}}function ep(e,r){if(Vc=-1,Wc=0,Ie&6)throw Error(a(327));var i=e.callbackNode;if(Yi()&&e.callbackNode!==i)return null;var l=Hr(e,e===_t?At:0);if(l===0)return null;if(l&30||l&e.expiredLanes||r)r=Gc(e,l);else{r=l;var h=Ie;Ie|=2;var m=np();(_t!==e||At!==r)&&(as=null,Qi=Ye()+500,Ba(e,r));do try{om();break}catch(C){rp(e,C)}while(!0);al(),Fc.current=m,Ie=h,ht!==null?r=0:(_t=null,At=0,r=mt)}if(r!==0){if(r===2&&(h=oi(e),h!==0&&(l=h,r=su(e,h))),r===1)throw i=vl,Ba(e,0),Ws(e,l),ir(e,Ye()),i;if(r===6)Ws(e,l);else{if(h=e.current.alternate,!(l&30)&&!am(h)&&(r=Gc(e,l),r===2&&(m=oi(e),m!==0&&(l=m,r=su(e,m))),r===1))throw i=vl,Ba(e,0),Ws(e,l),ir(e,Ye()),i;switch(e.finishedWork=h,e.finishedLanes=l,r){case 0:case 1:throw Error(a(345));case 2:Ua(e,ar,as);break;case 3:if(Ws(e,l),(l&130023424)===l&&(r=tu+500-Ye(),10<r)){if(Hr(e,0)!==0)break;if(h=e.suspendedLanes,(h&l)!==l){Kt(),e.pingedLanes|=e.suspendedLanes&h;break}e.timeoutHandle=Ei(Ua.bind(null,e,ar,as),r);break}Ua(e,ar,as);break;case 4:if(Ws(e,l),(l&4194240)===l)break;for(r=e.eventTimes,h=-1;0<l;){var y=31-Pt(l);m=1<<y,y=r[y],y>h&&(h=y),l&=~m}if(l=h,l=Ye()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*sm(l/1960))-l,10<l){e.timeoutHandle=Ei(Ua.bind(null,e,ar,as),l);break}Ua(e,ar,as);break;case 5:Ua(e,ar,as);break;default:throw Error(a(329))}}}return ir(e,Ye()),e.callbackNode===i?ep.bind(null,e):null}function su(e,r){var i=wl;return e.current.memoizedState.isDehydrated&&(Ba(e,r).flags|=256),e=Gc(e,r),e!==2&&(r=ar,ar=i,r!==null&&au(r)),e}function au(e){ar===null?ar=e:ar.push.apply(ar,e)}function am(e){for(var r=e;;){if(r.flags&16384){var i=r.updateQueue;if(i!==null&&(i=i.stores,i!==null))for(var l=0;l<i.length;l++){var h=i[l],m=h.getSnapshot;h=h.value;try{if(!Xt(m(),h))return!1}catch{return!1}}}if(i=r.child,r.subtreeFlags&16384&&i!==null)i.return=r,r=i;else{if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ws(e,r){for(r&=~eu,r&=~zc,e.suspendedLanes|=r,e.pingedLanes&=~r,e=e.expirationTimes;0<r;){var i=31-Pt(r),l=1<<i;e[i]=-1,r&=~l}}function tp(e){if(Ie&6)throw Error(a(327));Yi();var r=Hr(e,0);if(!(r&1))return ir(e,Ye()),null;var i=Gc(e,r);if(e.tag!==0&&i===2){var l=oi(e);l!==0&&(r=l,i=su(e,l))}if(i===1)throw i=vl,Ba(e,0),Ws(e,r),ir(e,Ye()),i;if(i===6)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=r,Ua(e,ar,as),ir(e,Ye()),null}function iu(e,r){var i=Ie;Ie|=1;try{return e(r)}finally{Ie=i,Ie===0&&(Qi=Ye()+500,Ii&&_n())}}function La(e){Hs!==null&&Hs.tag===0&&!(Ie&6)&&Yi();var r=Ie;Ie|=1;var i=Fr.transition,l=$e;try{if(Fr.transition=null,$e=1,e)return e()}finally{$e=l,Fr.transition=i,Ie=r,!(Ie&6)&&_n()}}function ou(){gr=Ji.current,Me(Ji)}function Ba(e,r){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;if(i!==-1&&(e.timeoutHandle=-1,Cs(i)),ht!==null)for(i=ht.return;i!==null;){var l=i;switch(el(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ri();break;case 3:Bs(),Me(vt),Me(yt),ul();break;case 5:Us(l);break;case 4:Bs();break;case 13:Me(Xe);break;case 19:Me(Xe);break;case 10:il(l.type._context);break;case 22:case 23:ou()}i=i.return}if(_t=e,ht=e=Gs(e.current,null),At=gr=r,mt=0,vl=null,eu=zc=Da=0,ar=wl=null,es!==null){for(r=0;r<es.length;r++)if(i=es[r],l=i.interleaved,l!==null){i.interleaved=null;var h=l.next,m=i.pending;if(m!==null){var y=m.next;m.next=h,l.next=y}i.pending=l}es=null}return e}function rp(e,r){do{var i=ht;try{if(al(),Vi.current=Ic,q){for(var l=Ge.memoizedState;l!==null;){var h=l.queue;h!==null&&(h.pending=null),l=l.next}q=!1}if(rs=0,w=c=Ge=null,V=!1,ee=0,Zd.current=null,i===null||i.return===null){mt=1,vl=r,ht=null;break}e:{var m=e,y=i.return,C=i,R=r;if(r=At,C.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var M=R,Q=C,Y=Q.tag;if(!(Q.mode&1)&&(Y===0||Y===11||Y===15)){var J=Q.alternate;J?(Q.updateQueue=J.updateQueue,Q.memoizedState=J.memoizedState,Q.lanes=J.lanes):(Q.updateQueue=null,Q.memoizedState=null)}var te=Ch(y);if(te!==null){te.flags&=-257,Eh(te,y,C,m,r),te.mode&1&&Nh(m,M,r),r=te,R=M;var se=r.updateQueue;if(se===null){var ae=new Set;ae.add(R),r.updateQueue=ae}else se.add(R);break e}else{if(!(r&1)){Nh(m,M,r),lu();break e}R=Error(a(426))}}else if(We&&C.mode&1){var ct=Ch(y);if(ct!==null){!(ct.flags&65536)&&(ct.flags|=256),Eh(ct,y,C,m,r),nl(Gi(R,C));break e}}m=R=Gi(R,C),mt!==4&&(mt=2),wl===null?wl=[m]:wl.push(m),m=y;do{switch(m.tag){case 3:m.flags|=65536,r&=-r,m.lanes|=r;var F=Sh(m,R,r);Tc(m,F);break e;case 1:C=R;var I=m.type,z=m.stateNode;if(!(m.flags&128)&&(typeof I.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(qs===null||!qs.has(z)))){m.flags|=65536,r&=-r,m.lanes|=r;var Z=kh(m,C,r);Tc(m,Z);break e}}m=m.return}while(m!==null)}ap(i)}catch(ie){r=ie,ht===i&&i!==null&&(ht=i=i.return);continue}break}while(!0)}function np(){var e=Fc.current;return Fc.current=Ic,e===null?Ic:e}function lu(){(mt===0||mt===3||mt===2)&&(mt=4),_t===null||!(Da&268435455)&&!(zc&268435455)||Ws(_t,At)}function Gc(e,r){var i=Ie;Ie|=2;var l=np();(_t!==e||At!==r)&&(as=null,Ba(e,r));do try{im();break}catch(h){rp(e,h)}while(!0);if(al(),Ie=i,Fc.current=l,ht!==null)throw Error(a(261));return _t=null,At=0,mt}function im(){for(;ht!==null;)sp(ht)}function om(){for(;ht!==null&&!dn();)sp(ht)}function sp(e){var r=lp(e.alternate,e,gr);e.memoizedProps=e.pendingProps,r===null?ap(e):ht=r,Zd.current=null}function ap(e){var r=e;do{var i=r.alternate;if(e=r.return,r.flags&32768){if(i=em(i,r),i!==null){i.flags&=32767,ht=i;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{mt=6,ht=null;return}}else if(i=Zf(i,r,gr),i!==null){ht=i;return}if(r=r.sibling,r!==null){ht=r;return}ht=r=e}while(r!==null);mt===0&&(mt=5)}function Ua(e,r,i){var l=$e,h=Fr.transition;try{Fr.transition=null,$e=1,lm(e,r,i,l)}finally{Fr.transition=h,$e=l}return null}function lm(e,r,i,l){do Yi();while(Hs!==null);if(Ie&6)throw Error(a(327));i=e.finishedWork;var h=e.finishedLanes;if(i===null)return null;if(e.finishedWork=null,e.finishedLanes=0,i===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var m=i.lanes|i.childLanes;if(vo(e,m),e===_t&&(ht=_t=null,At=0),!(i.subtreeFlags&2064)&&!(i.flags&2064)||qc||(qc=!0,cp(dr,function(){return Yi(),null})),m=(i.flags&15990)!==0,i.subtreeFlags&15990||m){m=Fr.transition,Fr.transition=null;var y=$e;$e=1;var C=Ie;Ie|=4,Zd.current=null,rm(e,i),Jh(i,e),fc(Qo),Ot=!!Jo,Qo=Jo=null,e.current=i,nm(i),fa(),Ie=C,$e=y,Fr.transition=m}else e.current=i;if(qc&&(qc=!1,Hs=e,Hc=h),m=e.pendingLanes,m===0&&(qs=null),ur(i.stateNode),ir(e,Ye()),r!==null)for(l=e.onRecoverableError,i=0;i<r.length;i++)h=r[i],l(h.value,{componentStack:h.stack,digest:h.digest});if(Mc)throw Mc=!1,e=ru,ru=null,e;return Hc&1&&e.tag!==0&&Yi(),m=e.pendingLanes,m&1?e===nu?_l++:(_l=0,nu=e):_l=0,_n(),null}function Yi(){if(Hs!==null){var e=wo(Hc),r=Fr.transition,i=$e;try{if(Fr.transition=null,$e=16>e?16:e,Hs===null)var l=!1;else{if(e=Hs,Hs=null,Hc=0,Ie&6)throw Error(a(331));var h=Ie;for(Ie|=4,ne=e.current;ne!==null;){var m=ne,y=m.child;if(ne.flags&16){var C=m.deletions;if(C!==null){for(var R=0;R<C.length;R++){var M=C[R];for(ne=M;ne!==null;){var Q=ne;switch(Q.tag){case 0:case 11:case 15:yl(8,Q,m)}var Y=Q.child;if(Y!==null)Y.return=Q,ne=Y;else for(;ne!==null;){Q=ne;var J=Q.sibling,te=Q.return;if(Hh(Q),Q===M){ne=null;break}if(J!==null){J.return=te,ne=J;break}ne=te}}}var se=m.alternate;if(se!==null){var ae=se.child;if(ae!==null){se.child=null;do{var ct=ae.sibling;ae.sibling=null,ae=ct}while(ae!==null)}}ne=m}}if(m.subtreeFlags&2064&&y!==null)y.return=m,ne=y;else e:for(;ne!==null;){if(m=ne,m.flags&2048)switch(m.tag){case 0:case 11:case 15:yl(9,m,m.return)}var F=m.sibling;if(F!==null){F.return=m.return,ne=F;break e}ne=m.return}}var I=e.current;for(ne=I;ne!==null;){y=ne;var z=y.child;if(y.subtreeFlags&2064&&z!==null)z.return=y,ne=z;else e:for(y=I;ne!==null;){if(C=ne,C.flags&2048)try{switch(C.tag){case 0:case 11:case 15:Uc(9,C)}}catch(ie){st(C,C.return,ie)}if(C===y){ne=null;break e}var Z=C.sibling;if(Z!==null){Z.return=C.return,ne=Z;break e}ne=C.return}}if(Ie=h,_n(),Ae&&typeof Ae.onPostCommitFiberRoot=="function")try{Ae.onPostCommitFiberRoot(ma,e)}catch{}l=!0}return l}finally{$e=i,Fr.transition=r}}return!1}function ip(e,r,i){r=Gi(i,r),r=Sh(e,r,1),e=kn(e,r,1),r=Kt(),e!==null&&(Mt(e,1,r),ir(e,r))}function st(e,r,i){if(e.tag===3)ip(e,e,i);else for(;r!==null;){if(r.tag===3){ip(r,e,i);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(qs===null||!qs.has(l))){e=Gi(i,e),e=kh(r,e,1),r=kn(r,e,1),e=Kt(),r!==null&&(Mt(r,1,e),ir(r,e));break}}r=r.return}}function cm(e,r,i){var l=e.pingCache;l!==null&&l.delete(r),r=Kt(),e.pingedLanes|=e.suspendedLanes&i,_t===e&&(At&i)===i&&(mt===4||mt===3&&(At&130023424)===At&&500>Ye()-tu?Ba(e,0):eu|=i),ir(e,r)}function op(e,r){r===0&&(e.mode&1?(r=ii,ii<<=1,!(ii&130023424)&&(ii=4194304)):r=1);var i=Kt();e=Zr(e,r),e!==null&&(Mt(e,r,i),ir(e,i))}function dm(e){var r=e.memoizedState,i=0;r!==null&&(i=r.retryLane),op(e,i)}function um(e,r){var i=0;switch(e.tag){case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(i=h.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(a(314))}l!==null&&l.delete(r),op(e,i)}var lp;lp=function(e,r,i){if(e!==null)if(e.memoizedProps!==r.pendingProps||vt.current)sr=!0;else{if(!(e.lanes&i)&&!(r.flags&128))return sr=!1,Xf(e,r,i);sr=!!(e.flags&131072)}else sr=!1,We&&r.flags&1048576&&_c(r,Di,r.index);switch(r.lanes=0,r.tag){case 2:var l=r.type;Lc(e,r),e=r.pendingProps;var h=As(r,yt.current);Ds(r,i),h=qe(null,r,l,e,h,i);var m=Bt();return r.flags|=1,typeof h=="object"&&h!==null&&typeof h.render=="function"&&h.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Fe(l)?(m=!0,Pi(r)):m=!1,r.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,ll(r),h.updater=Oc,r.stateNode=h,h._reactInternals=r,Ud(r,l,e,i),r=qd(null,r,l,!0,m,i)):(r.tag=0,We&&m&&dt(r),Gt(null,r,h,i),r=r.child),r;case 16:l=r.elementType;e:{switch(Lc(e,r),e=r.pendingProps,h=l._init,l=h(l._payload),r.type=l,h=r.tag=pm(l),e=tn(l,e),h){case 0:r=Md(null,r,l,e,i);break e;case 1:r=Ih(null,r,l,e,i);break e;case 11:r=Th(null,r,l,e,i);break e;case 14:r=Ah(null,r,l,tn(l.type,e),i);break e}throw Error(a(306,l,""))}return r;case 0:return l=r.type,h=r.pendingProps,h=r.elementType===l?h:tn(l,h),Md(e,r,l,h,i);case 1:return l=r.type,h=r.pendingProps,h=r.elementType===l?h:tn(l,h),Ih(e,r,l,h,i);case 3:e:{if(Oh(r),e===null)throw Error(a(387));l=r.pendingProps,m=r.memoizedState,h=m.element,Mi(e,r),qi(r,l,null,i);var y=r.memoizedState;if(l=y.element,m.isDehydrated)if(m={element:l,isDehydrated:!1,cache:y.cache,pendingSuspenseBoundaries:y.pendingSuspenseBoundaries,transitions:y.transitions},r.updateQueue.baseState=m,r.memoizedState=m,r.flags&256){h=Gi(Error(a(423)),r),r=Dh(e,r,l,i,h);break e}else if(l!==h){h=Gi(Error(a(424)),r),r=Dh(e,r,l,i,h);break e}else for(Wt=Ct(r.stateNode.containerInfo.firstChild),Vt=r,We=!0,fr=null,i=Cc(r,null,l,i),r.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(Ps(),l===h){r=ss(e,r,i);break e}Gt(e,r,l,i)}r=r.child}return r;case 5:return $c(r),e===null&&rl(r),l=r.type,h=r.pendingProps,m=e!==null?e.memoizedProps:null,y=h.children,Yo(l,h)?y=null:m!==null&&Yo(l,m)&&(r.flags|=32),Ph(e,r),Gt(e,r,y,i),r.child;case 6:return e===null&&rl(r),null;case 13:return Lh(e,r,i);case 4:return cl(r,r.stateNode.containerInfo),l=r.pendingProps,e===null?r.child=Is(r,null,l,i):Gt(e,r,l,i),r.child;case 11:return l=r.type,h=r.pendingProps,h=r.elementType===l?h:tn(l,h),Th(e,r,l,h,i);case 7:return Gt(e,r,r.pendingProps,i),r.child;case 8:return Gt(e,r,r.pendingProps.children,i),r.child;case 12:return Gt(e,r,r.pendingProps.children,i),r.child;case 10:e:{if(l=r.type._context,h=r.pendingProps,m=r.memoizedProps,y=h.value,Ue(Fi,l._currentValue),l._currentValue=y,m!==null)if(Xt(m.value,y)){if(m.children===h.children&&!vt.current){r=ss(e,r,i);break e}}else for(m=r.child,m!==null&&(m.return=r);m!==null;){var C=m.dependencies;if(C!==null){y=m.child;for(var R=C.firstContext;R!==null;){if(R.context===l){if(m.tag===1){R=Lr(-1,i&-i),R.tag=2;var M=m.updateQueue;if(M!==null){M=M.shared;var Q=M.pending;Q===null?R.next=R:(R.next=Q.next,Q.next=R),M.pending=R}}m.lanes|=i,R=m.alternate,R!==null&&(R.lanes|=i),ol(m.return,i,r),C.lanes|=i;break}R=R.next}}else if(m.tag===10)y=m.type===r.type?null:m.child;else if(m.tag===18){if(y=m.return,y===null)throw Error(a(341));y.lanes|=i,C=y.alternate,C!==null&&(C.lanes|=i),ol(y,i,r),y=m.sibling}else y=m.child;if(y!==null)y.return=m;else for(y=m;y!==null;){if(y===r){y=null;break}if(m=y.sibling,m!==null){m.return=y.return,y=m;break}y=y.return}m=y}Gt(e,r,h.children,i),r=r.child}return r;case 9:return h=r.type,l=r.pendingProps.children,Ds(r,i),h=nr(h),l=l(h),r.flags|=1,Gt(e,r,l,i),r.child;case 14:return l=r.type,h=tn(l,r.pendingProps),h=tn(l.type,h),Ah(e,r,l,h,i);case 15:return $h(e,r,r.type,r.pendingProps,i);case 17:return l=r.type,h=r.pendingProps,h=r.elementType===l?h:tn(l,h),Lc(e,r),r.tag=1,Fe(l)?(e=!0,Pi(r)):e=!1,Ds(r,i),_h(r,l,h),Ud(r,l,h,i),qd(null,r,l,!0,e,i);case 19:return Uh(e,r,i);case 22:return Rh(e,r,i)}throw Error(a(156,r.tag))};function cp(e,r){return bo(e,r)}function hm(e,r,i,l){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zr(e,r,i,l){return new hm(e,r,i,l)}function cu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function pm(e){if(typeof e=="function")return cu(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Be)return 11;if(e===ve)return 14}return 2}function Gs(e,r){var i=e.alternate;return i===null?(i=zr(e.tag,r,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=r,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&14680064,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,r=e.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i}function Kc(e,r,i,l,h,m){var y=2;if(l=e,typeof e=="function")cu(e)&&(y=1);else if(typeof e=="string")y=5;else e:switch(e){case H:return Fa(i.children,h,m,r);case G:y=8,h|=8;break;case re:return e=zr(12,i,r,h|2),e.elementType=re,e.lanes=m,e;case Te:return e=zr(13,i,r,h),e.elementType=Te,e.lanes=m,e;case Ze:return e=zr(19,i,r,h),e.elementType=Ze,e.lanes=m,e;case Ce:return Jc(i,h,m,r);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case be:y=10;break e;case we:y=9;break e;case Be:y=11;break e;case ve:y=14;break e;case Oe:y=16,l=null;break e}throw Error(a(130,e==null?e:typeof e,""))}return r=zr(y,i,r,h),r.elementType=e,r.type=l,r.lanes=m,r}function Fa(e,r,i,l){return e=zr(7,e,l,r),e.lanes=i,e}function Jc(e,r,i,l){return e=zr(22,e,l,r),e.elementType=Ce,e.lanes=i,e.stateNode={isHidden:!1},e}function du(e,r,i){return e=zr(6,e,null,r),e.lanes=i,e}function uu(e,r,i){return r=zr(4,e.children!==null?e.children:[],e.key,r),r.lanes=i,r.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},r}function fm(e,r,i,l,h){this.tag=r,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ze(0),this.expirationTimes=ze(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.identifierPrefix=l,this.onRecoverableError=h,this.mutableSourceEagerHydrationData=null}function hu(e,r,i,l,h,m,y,C,R){return e=new fm(e,r,i,C,R),r===1?(r=1,m===!0&&(r|=8)):r=0,m=zr(3,null,null,r),e.current=m,m.stateNode=e,m.memoizedState={element:l,isDehydrated:i,cache:null,transitions:null,pendingSuspenseBoundaries:null},ll(m),e}function mm(e,r,i){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:l==null?null:""+l,children:e,containerInfo:r,implementation:i}}function dp(e){if(!e)return wn;e=e._reactInternals;e:{if(qr(e)!==e||e.tag!==1)throw Error(a(170));var r=e;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Fe(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(a(171))}if(e.tag===1){var i=e.type;if(Fe(i))return vc(e,i,r)}return r}function up(e,r,i,l,h,m,y,C,R){return e=hu(i,l,!0,e,h,m,y,C,R),e.context=dp(null),i=e.current,l=Kt(),h=Vs(i),m=Lr(l,h),m.callback=r??null,kn(i,m,h),e.current.lanes=h,Mt(e,h,l),ir(e,l),e}function Qc(e,r,i,l){var h=r.current,m=Kt(),y=Vs(h);return i=dp(i),r.context===null?r.context=i:r.pendingContext=i,r=Lr(m,y),r.payload={element:e},l=l===void 0?null:l,l!==null&&(r.callback=l),e=kn(h,r,y),e!==null&&(sn(e,h,y,m),Ls(e,h,y)),y}function Yc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function hp(e,r){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<r?i:r}}function pu(e,r){hp(e,r),(e=e.alternate)&&hp(e,r)}var pp=typeof reportError=="function"?reportError:function(e){console.error(e)};function fu(e){this._internalRoot=e}Xc.prototype.render=fu.prototype.render=function(e){var r=this._internalRoot;if(r===null)throw Error(a(409));Qc(e,r,null,null)},Xc.prototype.unmount=fu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var r=e.containerInfo;La(function(){Qc(null,e,null,null)}),r[er]=null}};function Xc(e){this._internalRoot=e}Xc.prototype.unstable_scheduleHydration=function(e){if(e){var r=Yl();e={blockedOn:null,target:e,priority:r};for(var i=0;i<hr.length&&r!==0&&r<hr[i].priority;i++);hr.splice(i,0,e),i===0&&Zl(e)}};function mu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Zc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function fp(){}function gm(e,r,i,l,h){if(h){if(typeof l=="function"){var m=l;l=function(){var M=Yc(y);m.call(M)}}var y=up(r,l,e,0,null,!1,!1,"",fp);return e._reactRootContainer=y,e[er]=y.current,xn(e.nodeType===8?e.parentNode:e),La(),y}for(;h=e.lastChild;)e.removeChild(h);if(typeof l=="function"){var C=l;l=function(){var M=Yc(R);C.call(M)}}var R=hu(e,0,!1,null,null,!1,!1,"",fp);return e._reactRootContainer=R,e[er]=R.current,xn(e.nodeType===8?e.parentNode:e),La(function(){Qc(r,R,i,l)}),R}function ed(e,r,i,l,h){var m=i._reactRootContainer;if(m){var y=m;if(typeof h=="function"){var C=h;h=function(){var R=Yc(y);C.call(R)}}Qc(r,y,e,h)}else y=gm(i,r,e,h,l);return Yc(y)}_o=function(e){switch(e.tag){case 3:var r=e.stateNode;if(r.current.memoizedState.isDehydrated){var i=It(r.pendingLanes);i!==0&&(li(r,i|1),ir(r,Ye()),!(Ie&6)&&(Qi=Ye()+500,_n()))}break;case 13:La(function(){var l=Zr(e,1);if(l!==null){var h=Kt();sn(l,e,1,h)}}),pu(e,1)}},xa=function(e){if(e.tag===13){var r=Zr(e,134217728);if(r!==null){var i=Kt();sn(r,e,134217728,i)}pu(e,134217728)}},ba=function(e){if(e.tag===13){var r=Vs(e),i=Zr(e,r);if(i!==null){var l=Kt();sn(i,e,r,l)}pu(e,r)}},Yl=function(){return $e},Dn=function(e,r){var i=$e;try{return $e=e,r()}finally{$e=i}},Za=function(e,r,i){switch(r){case"input":if(nt(e,i),r=i.name,i.type==="radio"&&r!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<i.length;r++){var l=i[r];if(l!==e&&l.form===e.form){var h=$i(l);if(!h)throw Error(a(90));$n(l),nt(l,h)}}}break;case"textarea":Ml(e,i);break;case"select":r=i.value,r!=null&&me(e,!!i.multiple,r,!1)}},mo=iu,da=La;var xm={usingClientEntryPoint:!1,Events:[Ts,vn,$i,ca,ei,iu]},jl={findFiberByHostInstance:yn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},bm={bundleType:jl.bundleType,version:jl.version,rendererPackageName:jl.rendererPackageName,rendererConfig:jl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:U.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=On(e),e===null?null:e.stateNode},findFiberByHostInstance:jl.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var td=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!td.isDisabled&&td.supportsFiber)try{ma=td.inject(bm),Ae=td}catch{}}return or.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xm,or.createPortal=function(e,r){var i=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mu(r))throw Error(a(200));return mm(e,r,null,i)},or.createRoot=function(e,r){if(!mu(e))throw Error(a(299));var i=!1,l="",h=pp;return r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(h=r.onRecoverableError)),r=hu(e,1,!1,null,null,i,!1,l,h),e[er]=r.current,xn(e.nodeType===8?e.parentNode:e),new fu(r)},or.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var r=e._reactInternals;if(r===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=On(r),e=e===null?null:e.stateNode,e},or.flushSync=function(e){return La(e)},or.hydrate=function(e,r,i){if(!Zc(r))throw Error(a(200));return ed(null,e,r,!0,i)},or.hydrateRoot=function(e,r,i){if(!mu(e))throw Error(a(405));var l=i!=null&&i.hydratedSources||null,h=!1,m="",y=pp;if(i!=null&&(i.unstable_strictMode===!0&&(h=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(y=i.onRecoverableError)),r=up(r,null,e,1,i??null,h,!1,m,y),e[er]=r.current,xn(e),l)for(e=0;e<l.length;e++)i=l[e],h=i._getVersion,h=h(i._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[i,h]:r.mutableSourceEagerHydrationData.push(i,h);return new Xc(r)},or.render=function(e,r,i){if(!Zc(r))throw Error(a(200));return ed(null,e,r,!1,i)},or.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(a(40));return e._reactRootContainer?(La(function(){ed(null,null,e,!1,function(){e._reactRootContainer=null,e[er]=null})}),!0):!1},or.unstable_batchedUpdates=iu,or.unstable_renderSubtreeIntoContainer=function(e,r,i,l){if(!Zc(i))throw Error(a(200));if(e==null||e._reactInternals===void 0)throw Error(a(38));return ed(e,r,i,!1,l)},or.version="18.3.1-next-f1338f8080-20240426",or}var _p;function Cm(){if(_p)return bu.exports;_p=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(t){console.error(t)}}return s(),bu.exports=Nm(),bu.exports}var jp;function Em(){if(jp)return rd;jp=1;var s=Cm();return rd.createRoot=s.createRoot,rd.hydrateRoot=s.hydrateRoot,rd}var Tm=Em(),kl={},Sp;function Am(){if(Sp)return kl;Sp=1,Object.defineProperty(kl,"__esModule",{value:!0}),kl.parse=p,kl.serialize=b;const s=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,a=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,d=Object.prototype.toString,u=(()=>{const j=function(){};return j.prototype=Object.create(null),j})();function p(j,k){const N=new u,S=j.length;if(S<2)return N;const A=(k==null?void 0:k.decode)||_;let P=0;do{const O=j.indexOf("=",P);if(O===-1)break;const E=j.indexOf(";",P),U=E===-1?S:E;if(O>U){P=j.lastIndexOf(";",O-1)+1;continue}const $=g(j,P,O),B=x(j,O,$),H=j.slice($,B);if(N[H]===void 0){let G=g(j,O+1,U),re=x(j,U,G);const be=A(j.slice(G,re));N[H]=be}P=U+1}while(P<S);return N}function g(j,k,N){do{const S=j.charCodeAt(k);if(S!==32&&S!==9)return k}while(++k<N);return N}function x(j,k,N){for(;k>N;){const S=j.charCodeAt(--k);if(S!==32&&S!==9)return k+1}return N}function b(j,k,N){const S=(N==null?void 0:N.encode)||encodeURIComponent;if(!s.test(j))throw new TypeError(`argument name is invalid: ${j}`);const A=S(k);if(!t.test(A))throw new TypeError(`argument val is invalid: ${k}`);let P=j+"="+A;if(!N)return P;if(N.maxAge!==void 0){if(!Number.isInteger(N.maxAge))throw new TypeError(`option maxAge is invalid: ${N.maxAge}`);P+="; Max-Age="+N.maxAge}if(N.domain){if(!a.test(N.domain))throw new TypeError(`option domain is invalid: ${N.domain}`);P+="; Domain="+N.domain}if(N.path){if(!o.test(N.path))throw new TypeError(`option path is invalid: ${N.path}`);P+="; Path="+N.path}if(N.expires){if(!f(N.expires)||!Number.isFinite(N.expires.valueOf()))throw new TypeError(`option expires is invalid: ${N.expires}`);P+="; Expires="+N.expires.toUTCString()}if(N.httpOnly&&(P+="; HttpOnly"),N.secure&&(P+="; Secure"),N.partitioned&&(P+="; Partitioned"),N.priority)switch(typeof N.priority=="string"?N.priority.toLowerCase():void 0){case"low":P+="; Priority=Low";break;case"medium":P+="; Priority=Medium";break;case"high":P+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${N.priority}`)}if(N.sameSite)switch(typeof N.sameSite=="string"?N.sameSite.toLowerCase():N.sameSite){case!0:case"strict":P+="; SameSite=Strict";break;case"lax":P+="; SameSite=Lax";break;case"none":P+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${N.sameSite}`)}return P}function _(j){if(j.indexOf("%")===-1)return j;try{return decodeURIComponent(j)}catch{return j}}function f(j){return d.call(j)==="[object Date]"}return kl}Am();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var kp="popstate";function $m(s={}){function t(d,u){let{pathname:p="/",search:g="",hash:x=""}=Ja(d.location.hash.substring(1));return!p.startsWith("/")&&!p.startsWith(".")&&(p="/"+p),Iu("",{pathname:p,search:g,hash:x},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function a(d,u){let p=d.document.querySelector("base"),g="";if(p&&p.getAttribute("href")){let x=d.location.href,b=x.indexOf("#");g=b===-1?x:x.slice(0,b)}return g+"#"+(typeof u=="string"?u:Al(u))}function o(d,u){cn(d.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return Pm(t,a,o,s)}function rt(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}function cn(s,t){if(!s){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Rm(){return Math.random().toString(36).substring(2,10)}function Np(s,t){return{usr:s.state,key:s.key,idx:t}}function Iu(s,t,a=null,o){return{pathname:typeof s=="string"?s:s.pathname,search:"",hash:"",...typeof t=="string"?Ja(t):t,state:a,key:t&&t.key||o||Rm()}}function Al({pathname:s="/",search:t="",hash:a=""}){return t&&t!=="?"&&(s+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Ja(s){let t={};if(s){let a=s.indexOf("#");a>=0&&(t.hash=s.substring(a),s=s.substring(0,a));let o=s.indexOf("?");o>=0&&(t.search=s.substring(o),s=s.substring(0,o)),s&&(t.pathname=s)}return t}function Pm(s,t,a,o={}){let{window:d=document.defaultView,v5Compat:u=!1}=o,p=d.history,g="POP",x=null,b=_();b==null&&(b=0,p.replaceState({...p.state,idx:b},""));function _(){return(p.state||{idx:null}).idx}function f(){g="POP";let A=_(),P=A==null?null:A-b;b=A,x&&x({action:g,location:S.location,delta:P})}function j(A,P){g="PUSH";let O=Iu(S.location,A,P);a(O,A),b=_()+1;let E=Np(O,b),U=S.createHref(O);try{p.pushState(E,"",U)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;d.location.assign(U)}u&&x&&x({action:g,location:S.location,delta:1})}function k(A,P){g="REPLACE";let O=Iu(S.location,A,P);a(O,A),b=_();let E=Np(O,b),U=S.createHref(O);p.replaceState(E,"",U),u&&x&&x({action:g,location:S.location,delta:0})}function N(A){let P=d.location.origin!=="null"?d.location.origin:d.location.href,O=typeof A=="string"?A:Al(A);return O=O.replace(/ $/,"%20"),rt(P,`No window.location.(origin|href) available to create URL for href: ${O}`),new URL(O,P)}let S={get action(){return g},get location(){return s(d,p)},listen(A){if(x)throw new Error("A history only accepts one active listener");return d.addEventListener(kp,f),x=A,()=>{d.removeEventListener(kp,f),x=null}},createHref(A){return t(d,A)},createURL:N,encodeLocation(A){let P=N(A);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:j,replace:k,go(A){return p.go(A)}};return S}function sf(s,t,a="/"){return Im(s,t,a,!1)}function Im(s,t,a,o){let d=typeof t=="string"?Ja(t):t,u=Zs(d.pathname||"/",a);if(u==null)return null;let p=af(s);Om(p);let g=null;for(let x=0;g==null&&x<p.length;++x){let b=Wm(u);g=Hm(p[x],b,o)}return g}function af(s,t=[],a=[],o=""){let d=(u,p,g)=>{let x={relativePath:g===void 0?u.path||"":g,caseSensitive:u.caseSensitive===!0,childrenIndex:p,route:u};x.relativePath.startsWith("/")&&(rt(x.relativePath.startsWith(o),`Absolute route path "${x.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),x.relativePath=x.relativePath.slice(o.length));let b=os([o,x.relativePath]),_=a.concat(x);u.children&&u.children.length>0&&(rt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),af(u.children,t,_,b)),!(u.path==null&&!u.index)&&t.push({path:b,score:Mm(b,u.index),routesMeta:_})};return s.forEach((u,p)=>{var g;if(u.path===""||!((g=u.path)!=null&&g.includes("?")))d(u,p);else for(let x of of(u.path))d(u,p,x)}),t}function of(s){let t=s.split("/");if(t.length===0)return[];let[a,...o]=t,d=a.endsWith("?"),u=a.replace(/\?$/,"");if(o.length===0)return d?[u,""]:[u];let p=of(o.join("/")),g=[];return g.push(...p.map(x=>x===""?u:[u,x].join("/"))),d&&g.push(...p),g.map(x=>s.startsWith("/")&&x===""?"/":x)}function Om(s){s.sort((t,a)=>t.score!==a.score?a.score-t.score:qm(t.routesMeta.map(o=>o.childrenIndex),a.routesMeta.map(o=>o.childrenIndex)))}var Dm=/^:[\w-]+$/,Lm=3,Bm=2,Um=1,Fm=10,zm=-2,Cp=s=>s==="*";function Mm(s,t){let a=s.split("/"),o=a.length;return a.some(Cp)&&(o+=zm),t&&(o+=Bm),a.filter(d=>!Cp(d)).reduce((d,u)=>d+(Dm.test(u)?Lm:u===""?Um:Fm),o)}function qm(s,t){return s.length===t.length&&s.slice(0,-1).every((o,d)=>o===t[d])?s[s.length-1]-t[t.length-1]:0}function Hm(s,t,a=!1){let{routesMeta:o}=s,d={},u="/",p=[];for(let g=0;g<o.length;++g){let x=o[g],b=g===o.length-1,_=u==="/"?t:t.slice(u.length)||"/",f=dd({path:x.relativePath,caseSensitive:x.caseSensitive,end:b},_),j=x.route;if(!f&&b&&a&&!o[o.length-1].route.index&&(f=dd({path:x.relativePath,caseSensitive:x.caseSensitive,end:!1},_)),!f)return null;Object.assign(d,f.params),p.push({params:d,pathname:os([u,f.pathname]),pathnameBase:Qm(os([u,f.pathnameBase])),route:j}),f.pathnameBase!=="/"&&(u=os([u,f.pathnameBase]))}return p}function dd(s,t){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[a,o]=Vm(s.path,s.caseSensitive,s.end),d=t.match(a);if(!d)return null;let u=d[0],p=u.replace(/(.)\/+$/,"$1"),g=d.slice(1);return{params:o.reduce((b,{paramName:_,isOptional:f},j)=>{if(_==="*"){let N=g[j]||"";p=u.slice(0,u.length-N.length).replace(/(.)\/+$/,"$1")}const k=g[j];return f&&!k?b[_]=void 0:b[_]=(k||"").replace(/%2F/g,"/"),b},{}),pathname:u,pathnameBase:p,pattern:s}}function Vm(s,t=!1,a=!0){cn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),`Route path "${s}" will be treated as if it were "${s.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${s.replace(/\*$/,"/*")}".`);let o=[],d="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(p,g,x)=>(o.push({paramName:g,isOptional:x!=null}),x?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(o.push({paramName:"*"}),d+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?d+="\\/*$":s!==""&&s!=="/"&&(d+="(?:(?=\\/|$))"),[new RegExp(d,t?void 0:"i"),o]}function Wm(s){try{return s.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return cn(!1,`The URL path "${s}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),s}}function Zs(s,t){if(t==="/")return s;if(!s.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,o=s.charAt(a);return o&&o!=="/"?null:s.slice(a)||"/"}function Gm(s,t="/"){let{pathname:a,search:o="",hash:d=""}=typeof s=="string"?Ja(s):s;return{pathname:a?a.startsWith("/")?a:Km(a,t):t,search:Ym(o),hash:Xm(d)}}function Km(s,t){let a=t.replace(/\/+$/,"").split("/");return s.split("/").forEach(d=>{d===".."?a.length>1&&a.pop():d!=="."&&a.push(d)}),a.length>1?a.join("/"):"/"}function wu(s,t,a,o){return`Cannot include a '${s}' character in a manually specified \`to.${t}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Jm(s){return s.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function lf(s){let t=Jm(s);return t.map((a,o)=>o===t.length-1?a.pathname:a.pathnameBase)}function cf(s,t,a,o=!1){let d;typeof s=="string"?d=Ja(s):(d={...s},rt(!d.pathname||!d.pathname.includes("?"),wu("?","pathname","search",d)),rt(!d.pathname||!d.pathname.includes("#"),wu("#","pathname","hash",d)),rt(!d.search||!d.search.includes("#"),wu("#","search","hash",d)));let u=s===""||d.pathname==="",p=u?"/":d.pathname,g;if(p==null)g=a;else{let f=t.length-1;if(!o&&p.startsWith("..")){let j=p.split("/");for(;j[0]==="..";)j.shift(),f-=1;d.pathname=j.join("/")}g=f>=0?t[f]:"/"}let x=Gm(d,g),b=p&&p!=="/"&&p.endsWith("/"),_=(u||p===".")&&a.endsWith("/");return!x.pathname.endsWith("/")&&(b||_)&&(x.pathname+="/"),x}var os=s=>s.join("/").replace(/\/\/+/g,"/"),Qm=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Ym=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Xm=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Zm(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}var df=["POST","PUT","PATCH","DELETE"];new Set(df);var eg=["GET",...df];new Set(eg);var co=v.createContext(null);co.displayName="DataRouter";var gd=v.createContext(null);gd.displayName="DataRouterState";var uf=v.createContext({isTransitioning:!1});uf.displayName="ViewTransition";var tg=v.createContext(new Map);tg.displayName="Fetchers";var rg=v.createContext(null);rg.displayName="Await";var An=v.createContext(null);An.displayName="Navigation";var Ll=v.createContext(null);Ll.displayName="Location";var ls=v.createContext({outlet:null,matches:[],isDataRoute:!1});ls.displayName="Route";var eh=v.createContext(null);eh.displayName="RouteError";function ng(s,{relative:t}={}){rt(Bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:o}=v.useContext(An),{hash:d,pathname:u,search:p}=Ul(s,{relative:t}),g=u;return a!=="/"&&(g=u==="/"?a:os([a,u])),o.createHref({pathname:g,search:p,hash:d})}function Bl(){return v.useContext(Ll)!=null}function ea(){return rt(Bl(),"useLocation() may be used only in the context of a <Router> component."),v.useContext(Ll).location}var hf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pf(s){v.useContext(An).static||v.useLayoutEffect(s)}function Qa(){let{isDataRoute:s}=v.useContext(ls);return s?gg():sg()}function sg(){rt(Bl(),"useNavigate() may be used only in the context of a <Router> component.");let s=v.useContext(co),{basename:t,navigator:a}=v.useContext(An),{matches:o}=v.useContext(ls),{pathname:d}=ea(),u=JSON.stringify(lf(o)),p=v.useRef(!1);return pf(()=>{p.current=!0}),v.useCallback((x,b={})=>{if(cn(p.current,hf),!p.current)return;if(typeof x=="number"){a.go(x);return}let _=cf(x,JSON.parse(u),d,b.relative==="path");s==null&&t!=="/"&&(_.pathname=_.pathname==="/"?t:os([t,_.pathname])),(b.replace?a.replace:a.push)(_,b.state,b)},[t,a,u,d,s])}v.createContext(null);function Ul(s,{relative:t}={}){let{matches:a}=v.useContext(ls),{pathname:o}=ea(),d=JSON.stringify(lf(a));return v.useMemo(()=>cf(s,JSON.parse(d),o,t==="path"),[s,d,o,t])}function ag(s,t){return ff(s,t)}function ff(s,t,a,o){var P;rt(Bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:d}=v.useContext(An),{matches:u}=v.useContext(ls),p=u[u.length-1],g=p?p.params:{},x=p?p.pathname:"/",b=p?p.pathnameBase:"/",_=p&&p.route;{let O=_&&_.path||"";mf(x,!_||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let f=ea(),j;if(t){let O=typeof t=="string"?Ja(t):t;rt(b==="/"||((P=O.pathname)==null?void 0:P.startsWith(b)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${b}" but pathname "${O.pathname}" was given in the \`location\` prop.`),j=O}else j=f;let k=j.pathname||"/",N=k;if(b!=="/"){let O=b.replace(/^\//,"").split("/");N="/"+k.replace(/^\//,"").split("/").slice(O.length).join("/")}let S=sf(s,{pathname:N});cn(_||S!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),cn(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let A=dg(S&&S.map(O=>Object.assign({},O,{params:Object.assign({},g,O.params),pathname:os([b,d.encodeLocation?d.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?b:os([b,d.encodeLocation?d.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),u,a,o);return t&&A?v.createElement(Ll.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},A):A}function ig(){let s=mg(),t=Zm(s)?`${s.status} ${s.statusText}`:s instanceof Error?s.message:JSON.stringify(s),a=s instanceof Error?s.stack:null,o="rgba(200,200,200, 0.5)",d={padding:"0.5rem",backgroundColor:o},u={padding:"2px 4px",backgroundColor:o},p=null;return console.error("Error handled by React Router default ErrorBoundary:",s),p=v.createElement(v.Fragment,null,v.createElement("p",null," Hey developer "),v.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",v.createElement("code",{style:u},"ErrorBoundary")," or"," ",v.createElement("code",{style:u},"errorElement")," prop on your route.")),v.createElement(v.Fragment,null,v.createElement("h2",null,"Unexpected Application Error!"),v.createElement("h3",{style:{fontStyle:"italic"}},t),a?v.createElement("pre",{style:d},a):null,p)}var og=v.createElement(ig,null),lg=class extends v.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,t){return t.location!==s.location||t.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:t.error,location:t.location,revalidation:s.revalidation||t.revalidation}}componentDidCatch(s,t){console.error("React Router caught the following error during render",s,t)}render(){return this.state.error!==void 0?v.createElement(ls.Provider,{value:this.props.routeContext},v.createElement(eh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cg({routeContext:s,match:t,children:a}){let o=v.useContext(co);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),v.createElement(ls.Provider,{value:s},a)}function dg(s,t=[],a=null,o=null){if(s==null){if(!a)return null;if(a.errors)s=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)s=a.matches;else return null}let d=s,u=a==null?void 0:a.errors;if(u!=null){let x=d.findIndex(b=>b.route.id&&(u==null?void 0:u[b.route.id])!==void 0);rt(x>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),d=d.slice(0,Math.min(d.length,x+1))}let p=!1,g=-1;if(a)for(let x=0;x<d.length;x++){let b=d[x];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(g=x),b.route.id){let{loaderData:_,errors:f}=a,j=b.route.loader&&!_.hasOwnProperty(b.route.id)&&(!f||f[b.route.id]===void 0);if(b.route.lazy||j){p=!0,g>=0?d=d.slice(0,g+1):d=[d[0]];break}}}return d.reduceRight((x,b,_)=>{let f,j=!1,k=null,N=null;a&&(f=u&&b.route.id?u[b.route.id]:void 0,k=b.route.errorElement||og,p&&(g<0&&_===0?(mf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,N=null):g===_&&(j=!0,N=b.route.hydrateFallbackElement||null)));let S=t.concat(d.slice(0,_+1)),A=()=>{let P;return f?P=k:j?P=N:b.route.Component?P=v.createElement(b.route.Component,null):b.route.element?P=b.route.element:P=x,v.createElement(cg,{match:b,routeContext:{outlet:x,matches:S,isDataRoute:a!=null},children:P})};return a&&(b.route.ErrorBoundary||b.route.errorElement||_===0)?v.createElement(lg,{location:a.location,revalidation:a.revalidation,component:k,error:f,children:A(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):A()},null)}function th(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ug(s){let t=v.useContext(co);return rt(t,th(s)),t}function hg(s){let t=v.useContext(gd);return rt(t,th(s)),t}function pg(s){let t=v.useContext(ls);return rt(t,th(s)),t}function rh(s){let t=pg(s),a=t.matches[t.matches.length-1];return rt(a.route.id,`${s} can only be used on routes that contain a unique "id"`),a.route.id}function fg(){return rh("useRouteId")}function mg(){var o;let s=v.useContext(eh),t=hg("useRouteError"),a=rh("useRouteError");return s!==void 0?s:(o=t.errors)==null?void 0:o[a]}function gg(){let{router:s}=ug("useNavigate"),t=rh("useNavigate"),a=v.useRef(!1);return pf(()=>{a.current=!0}),v.useCallback(async(d,u={})=>{cn(a.current,hf),a.current&&(typeof d=="number"?s.navigate(d):await s.navigate(d,{fromRouteId:t,...u}))},[s,t])}var Ep={};function mf(s,t,a){!t&&!Ep[s]&&(Ep[s]=!0,cn(!1,a))}v.memo(xg);function xg({routes:s,future:t,state:a}){return ff(s,void 0,a,t)}function Qs(s){rt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function bg({basename:s="/",children:t=null,location:a,navigationType:o="POP",navigator:d,static:u=!1}){rt(!Bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let p=s.replace(/^\/*/,"/"),g=v.useMemo(()=>({basename:p,navigator:d,static:u,future:{}}),[p,d,u]);typeof a=="string"&&(a=Ja(a));let{pathname:x="/",search:b="",hash:_="",state:f=null,key:j="default"}=a,k=v.useMemo(()=>{let N=Zs(x,p);return N==null?null:{location:{pathname:N,search:b,hash:_,state:f,key:j},navigationType:o}},[p,x,b,_,f,j,o]);return cn(k!=null,`<Router basename="${p}"> is not able to match the URL "${x}${b}${_}" because it does not start with the basename, so the <Router> won't render anything.`),k==null?null:v.createElement(An.Provider,{value:g},v.createElement(Ll.Provider,{children:t,value:k}))}function yg({children:s,location:t}){return ag(Ou(s),t)}function Ou(s,t=[]){let a=[];return v.Children.forEach(s,(o,d)=>{if(!v.isValidElement(o))return;let u=[...t,d];if(o.type===v.Fragment){a.push.apply(a,Ou(o.props.children,u));return}rt(o.type===Qs,`[${typeof o.type=="string"?o.type:o.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rt(!o.props.index||!o.props.children,"An index route cannot have child routes.");let p={id:o.props.id||u.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,hydrateFallbackElement:o.props.hydrateFallbackElement,HydrateFallback:o.props.HydrateFallback,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.hasErrorBoundary===!0||o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(p.children=Ou(o.props.children,u)),a.push(p)}),a}var ld="get",cd="application/x-www-form-urlencoded";function xd(s){return s!=null&&typeof s.tagName=="string"}function vg(s){return xd(s)&&s.tagName.toLowerCase()==="button"}function wg(s){return xd(s)&&s.tagName.toLowerCase()==="form"}function _g(s){return xd(s)&&s.tagName.toLowerCase()==="input"}function jg(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function Sg(s,t){return s.button===0&&(!t||t==="_self")&&!jg(s)}var nd=null;function kg(){if(nd===null)try{new FormData(document.createElement("form"),0),nd=!1}catch{nd=!0}return nd}var Ng=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _u(s){return s!=null&&!Ng.has(s)?(cn(!1,`"${s}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${cd}"`),null):s}function Cg(s,t){let a,o,d,u,p;if(wg(s)){let g=s.getAttribute("action");o=g?Zs(g,t):null,a=s.getAttribute("method")||ld,d=_u(s.getAttribute("enctype"))||cd,u=new FormData(s)}else if(vg(s)||_g(s)&&(s.type==="submit"||s.type==="image")){let g=s.form;if(g==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let x=s.getAttribute("formaction")||g.getAttribute("action");if(o=x?Zs(x,t):null,a=s.getAttribute("formmethod")||g.getAttribute("method")||ld,d=_u(s.getAttribute("formenctype"))||_u(g.getAttribute("enctype"))||cd,u=new FormData(g,s),!kg()){let{name:b,type:_,value:f}=s;if(_==="image"){let j=b?`${b}.`:"";u.append(`${j}x`,"0"),u.append(`${j}y`,"0")}else b&&u.append(b,f)}}else{if(xd(s))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=ld,o=null,d=cd,p=s}return u&&d==="text/plain"&&(p=u,u=void 0),{action:o,method:a.toLowerCase(),encType:d,formData:u,body:p}}function nh(s,t){if(s===!1||s===null||typeof s>"u")throw new Error(t)}async function Eg(s,t){if(s.id in t)return t[s.id];try{let a=await import(s.module);return t[s.id]=a,a}catch(a){return console.error(`Error loading route module \`${s.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Tg(s){return s==null?!1:s.href==null?s.rel==="preload"&&typeof s.imageSrcSet=="string"&&typeof s.imageSizes=="string":typeof s.rel=="string"&&typeof s.href=="string"}async function Ag(s,t,a){let o=await Promise.all(s.map(async d=>{let u=t.routes[d.route.id];if(u){let p=await Eg(u,a);return p.links?p.links():[]}return[]}));return Ig(o.flat(1).filter(Tg).filter(d=>d.rel==="stylesheet"||d.rel==="preload").map(d=>d.rel==="stylesheet"?{...d,rel:"prefetch",as:"style"}:{...d,rel:"prefetch"}))}function Tp(s,t,a,o,d,u){let p=(x,b)=>a[b]?x.route.id!==a[b].route.id:!0,g=(x,b)=>{var _;return a[b].pathname!==x.pathname||((_=a[b].route.path)==null?void 0:_.endsWith("*"))&&a[b].params["*"]!==x.params["*"]};return u==="assets"?t.filter((x,b)=>p(x,b)||g(x,b)):u==="data"?t.filter((x,b)=>{var f;let _=o.routes[x.route.id];if(!_||!_.hasLoader)return!1;if(p(x,b)||g(x,b))return!0;if(x.route.shouldRevalidate){let j=x.route.shouldRevalidate({currentUrl:new URL(d.pathname+d.search+d.hash,window.origin),currentParams:((f=a[0])==null?void 0:f.params)||{},nextUrl:new URL(s,window.origin),nextParams:x.params,defaultShouldRevalidate:!0});if(typeof j=="boolean")return j}return!0}):[]}function $g(s,t){return Rg(s.map(a=>{let o=t.routes[a.route.id];if(!o)return[];let d=[o.module];return o.imports&&(d=d.concat(o.imports)),d}).flat(1))}function Rg(s){return[...new Set(s)]}function Pg(s){let t={},a=Object.keys(s).sort();for(let o of a)t[o]=s[o];return t}function Ig(s,t){let a=new Set;return new Set(t),s.reduce((o,d)=>{let u=JSON.stringify(Pg(d));return a.has(u)||(a.add(u),o.push({key:u,link:d})),o},[])}function Og(s){let t=typeof s=="string"?new URL(s,typeof window>"u"?"server://singlefetch/":window.location.origin):s;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function Dg(){let s=v.useContext(co);return nh(s,"You must render this element inside a <DataRouterContext.Provider> element"),s}function Lg(){let s=v.useContext(gd);return nh(s,"You must render this element inside a <DataRouterStateContext.Provider> element"),s}var sh=v.createContext(void 0);sh.displayName="FrameworkContext";function gf(){let s=v.useContext(sh);return nh(s,"You must render this element inside a <HydratedRouter> element"),s}function Bg(s,t){let a=v.useContext(sh),[o,d]=v.useState(!1),[u,p]=v.useState(!1),{onFocus:g,onBlur:x,onMouseEnter:b,onMouseLeave:_,onTouchStart:f}=t,j=v.useRef(null);v.useEffect(()=>{if(s==="render"&&p(!0),s==="viewport"){let S=P=>{P.forEach(O=>{p(O.isIntersecting)})},A=new IntersectionObserver(S,{threshold:.5});return j.current&&A.observe(j.current),()=>{A.disconnect()}}},[s]),v.useEffect(()=>{if(o){let S=setTimeout(()=>{p(!0)},100);return()=>{clearTimeout(S)}}},[o]);let k=()=>{d(!0)},N=()=>{d(!1),p(!1)};return a?s!=="intent"?[u,j,{}]:[u,j,{onFocus:Nl(g,k),onBlur:Nl(x,N),onMouseEnter:Nl(b,k),onMouseLeave:Nl(_,N),onTouchStart:Nl(f,k)}]:[!1,j,{}]}function Nl(s,t){return a=>{s&&s(a),a.defaultPrevented||t(a)}}function Ug({page:s,...t}){let{router:a}=Dg(),o=v.useMemo(()=>sf(a.routes,s,a.basename),[a.routes,s,a.basename]);return o?v.createElement(zg,{page:s,matches:o,...t}):null}function Fg(s){let{manifest:t,routeModules:a}=gf(),[o,d]=v.useState([]);return v.useEffect(()=>{let u=!1;return Ag(s,t,a).then(p=>{u||d(p)}),()=>{u=!0}},[s,t,a]),o}function zg({page:s,matches:t,...a}){let o=ea(),{manifest:d,routeModules:u}=gf(),{loaderData:p,matches:g}=Lg(),x=v.useMemo(()=>Tp(s,t,g,d,o,"data"),[s,t,g,d,o]),b=v.useMemo(()=>Tp(s,t,g,d,o,"assets"),[s,t,g,d,o]),_=v.useMemo(()=>{if(s===o.pathname+o.search+o.hash)return[];let k=new Set,N=!1;if(t.forEach(A=>{var O;let P=d.routes[A.route.id];!P||!P.hasLoader||(!x.some(E=>E.route.id===A.route.id)&&A.route.id in p&&((O=u[A.route.id])!=null&&O.shouldRevalidate)||P.hasClientLoader?N=!0:k.add(A.route.id))}),k.size===0)return[];let S=Og(s);return N&&k.size>0&&S.searchParams.set("_routes",t.filter(A=>k.has(A.route.id)).map(A=>A.route.id).join(",")),[S.pathname+S.search]},[p,o,d,x,t,s,u]),f=v.useMemo(()=>$g(b,d),[b,d]),j=Fg(b);return v.createElement(v.Fragment,null,_.map(k=>v.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...a})),f.map(k=>v.createElement("link",{key:k,rel:"modulepreload",href:k,...a})),j.map(({key:k,link:N})=>v.createElement("link",{key:k,...N})))}function Mg(...s){return t=>{s.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var xf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{xf&&(window.__reactRouterVersion="7.1.1")}catch{}function qg({basename:s,children:t,window:a}){let o=v.useRef();o.current==null&&(o.current=$m({window:a,v5Compat:!0}));let d=o.current,[u,p]=v.useState({action:d.action,location:d.location}),g=v.useCallback(x=>{v.startTransition(()=>p(x))},[p]);return v.useLayoutEffect(()=>d.listen(g),[d,g]),v.createElement(bg,{basename:s,children:t,location:u.location,navigationType:u.action,navigator:d})}var bf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,yf=v.forwardRef(function({onClick:t,discover:a="render",prefetch:o="none",relative:d,reloadDocument:u,replace:p,state:g,target:x,to:b,preventScrollReset:_,viewTransition:f,...j},k){let{basename:N}=v.useContext(An),S=typeof b=="string"&&bf.test(b),A,P=!1;if(typeof b=="string"&&S&&(A=b,xf))try{let re=new URL(window.location.href),be=b.startsWith("//")?new URL(re.protocol+b):new URL(b),we=Zs(be.pathname,N);be.origin===re.origin&&we!=null?b=we+be.search+be.hash:P=!0}catch{cn(!1,`<Link to="${b}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=ng(b,{relative:d}),[E,U,$]=Bg(o,j),B=Gg(b,{replace:p,state:g,target:x,preventScrollReset:_,relative:d,viewTransition:f});function H(re){t&&t(re),re.defaultPrevented||B(re)}let G=v.createElement("a",{...j,...$,href:A||O,onClick:P||u?t:H,ref:Mg(k,U),target:x,"data-discover":!S&&a==="render"?"true":void 0});return E&&!S?v.createElement(v.Fragment,null,G,v.createElement(Ug,{page:O})):G});yf.displayName="Link";var Hg=v.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:o="",end:d=!1,style:u,to:p,viewTransition:g,children:x,...b},_){let f=Ul(p,{relative:b.relative}),j=ea(),k=v.useContext(gd),{navigator:N,basename:S}=v.useContext(An),A=k!=null&&Xg(f)&&g===!0,P=N.encodeLocation?N.encodeLocation(f).pathname:f.pathname,O=j.pathname,E=k&&k.navigation&&k.navigation.location?k.navigation.location.pathname:null;a||(O=O.toLowerCase(),E=E?E.toLowerCase():null,P=P.toLowerCase()),E&&S&&(E=Zs(E,S)||E);const U=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let $=O===P||!d&&O.startsWith(P)&&O.charAt(U)==="/",B=E!=null&&(E===P||!d&&E.startsWith(P)&&E.charAt(P.length)==="/"),H={isActive:$,isPending:B,isTransitioning:A},G=$?t:void 0,re;typeof o=="function"?re=o(H):re=[o,$?"active":null,B?"pending":null,A?"transitioning":null].filter(Boolean).join(" ");let be=typeof u=="function"?u(H):u;return v.createElement(yf,{...b,"aria-current":G,className:re,ref:_,style:be,to:p,viewTransition:g},typeof x=="function"?x(H):x)});Hg.displayName="NavLink";var Vg=v.forwardRef(({discover:s="render",fetcherKey:t,navigate:a,reloadDocument:o,replace:d,state:u,method:p=ld,action:g,onSubmit:x,relative:b,preventScrollReset:_,viewTransition:f,...j},k)=>{let N=Qg(),S=Yg(g,{relative:b}),A=p.toLowerCase()==="get"?"get":"post",P=typeof g=="string"&&bf.test(g),O=E=>{if(x&&x(E),E.defaultPrevented)return;E.preventDefault();let U=E.nativeEvent.submitter,$=(U==null?void 0:U.getAttribute("formmethod"))||p;N(U||E.currentTarget,{fetcherKey:t,method:$,navigate:a,replace:d,state:u,relative:b,preventScrollReset:_,viewTransition:f})};return v.createElement("form",{ref:k,method:A,action:S,onSubmit:o?x:O,...j,"data-discover":!P&&s==="render"?"true":void 0})});Vg.displayName="Form";function Wg(s){return`${s} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function vf(s){let t=v.useContext(co);return rt(t,Wg(s)),t}function Gg(s,{target:t,replace:a,state:o,preventScrollReset:d,relative:u,viewTransition:p}={}){let g=Qa(),x=ea(),b=Ul(s,{relative:u});return v.useCallback(_=>{if(Sg(_,t)){_.preventDefault();let f=a!==void 0?a:Al(x)===Al(b);g(s,{replace:f,state:o,preventScrollReset:d,relative:u,viewTransition:p})}},[x,g,b,a,o,t,s,d,u,p])}var Kg=0,Jg=()=>`__${String(++Kg)}__`;function Qg(){let{router:s}=vf("useSubmit"),{basename:t}=v.useContext(An),a=fg();return v.useCallback(async(o,d={})=>{let{action:u,method:p,encType:g,formData:x,body:b}=Cg(o,t);if(d.navigate===!1){let _=d.fetcherKey||Jg();await s.fetch(_,a,d.action||u,{preventScrollReset:d.preventScrollReset,formData:x,body:b,formMethod:d.method||p,formEncType:d.encType||g,flushSync:d.flushSync})}else await s.navigate(d.action||u,{preventScrollReset:d.preventScrollReset,formData:x,body:b,formMethod:d.method||p,formEncType:d.encType||g,replace:d.replace,state:d.state,fromRouteId:a,flushSync:d.flushSync,viewTransition:d.viewTransition})},[s,t,a])}function Yg(s,{relative:t}={}){let{basename:a}=v.useContext(An),o=v.useContext(ls);rt(o,"useFormAction must be used inside a RouteContext");let[d]=o.matches.slice(-1),u={...Ul(s||".",{relative:t})},p=ea();if(s==null){u.search=p.search;let g=new URLSearchParams(u.search),x=g.getAll("index");if(x.some(_=>_==="")){g.delete("index"),x.filter(f=>f).forEach(f=>g.append("index",f));let _=g.toString();u.search=_?`?${_}`:""}}return(!s||s===".")&&d.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(u.pathname=u.pathname==="/"?a:os([a,u.pathname])),Al(u)}function Xg(s,t={}){let a=v.useContext(uf);rt(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=vf("useViewTransitionState"),d=Ul(s,{relative:t.relative});if(!a.isTransitioning)return!1;let u=Zs(a.currentLocation.pathname,o)||a.currentLocation.pathname,p=Zs(a.nextLocation.pathname,o)||a.nextLocation.pathname;return dd(d.pathname,p)!=null||dd(d.pathname,u)!=null}new TextEncoder;function bd(s,t){var a={};for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&t.indexOf(o)<0&&(a[o]=s[o]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,o=Object.getOwnPropertySymbols(s);d<o.length;d++)t.indexOf(o[d])<0&&Object.prototype.propertyIsEnumerable.call(s,o[d])&&(a[o[d]]=s[o[d]]);return a}function Zg(s,t,a,o){function d(u){return u instanceof a?u:new a(function(p){p(u)})}return new(a||(a=Promise))(function(u,p){function g(_){try{b(o.next(_))}catch(f){p(f)}}function x(_){try{b(o.throw(_))}catch(f){p(f)}}function b(_){_.done?u(_.value):d(_.value).then(g,x)}b((o=o.apply(s,t||[])).next())})}const e0=s=>s?(...t)=>s(...t):(...t)=>fetch(...t);class ah extends Error{constructor(t,a="FunctionsError",o){super(t),this.name=a,this.context=o}}class t0 extends ah{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ap extends ah{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class $p extends ah{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Du;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(Du||(Du={}));class r0{constructor(t,{headers:a={},customFetch:o,region:d=Du.Any}={}){this.url=t,this.headers=a,this.region=d,this.fetch=e0(o)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return Zg(this,arguments,void 0,function*(a,o={}){var d;let u,p;try{const{headers:g,method:x,body:b,signal:_,timeout:f}=o;let j={},{region:k}=o;k||(k=this.region);const N=new URL(`${this.url}/${a}`);k&&k!=="any"&&(j["x-region"]=k,N.searchParams.set("forceFunctionRegion",k));let S;b&&(g&&!Object.prototype.hasOwnProperty.call(g,"Content-Type")||!g)?typeof Blob<"u"&&b instanceof Blob||b instanceof ArrayBuffer?(j["Content-Type"]="application/octet-stream",S=b):typeof b=="string"?(j["Content-Type"]="text/plain",S=b):typeof FormData<"u"&&b instanceof FormData?S=b:(j["Content-Type"]="application/json",S=JSON.stringify(b)):b&&typeof b!="string"&&!(typeof Blob<"u"&&b instanceof Blob)&&!(b instanceof ArrayBuffer)&&!(typeof FormData<"u"&&b instanceof FormData)?S=JSON.stringify(b):S=b;let A=_;f&&(p=new AbortController,u=setTimeout(()=>p.abort(),f),_?(A=p.signal,_.addEventListener("abort",()=>p.abort())):A=p.signal);const P=yield this.fetch(N.toString(),{method:x||"POST",headers:Object.assign(Object.assign(Object.assign({},j),this.headers),g),body:S,signal:A}).catch($=>{throw new t0($)}),O=P.headers.get("x-relay-error");if(O&&O==="true")throw new Ap(P);if(!P.ok)throw new $p(P);let E=((d=P.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),U;return E==="application/json"?U=yield P.json():E==="application/octet-stream"||E==="application/pdf"?U=yield P.blob():E==="text/event-stream"?U=P:E==="multipart/form-data"?U=yield P.formData():U=yield P.text(),{data:U,error:null,response:P}}catch(g){return{data:null,error:g,response:g instanceof $p||g instanceof Ap?g.context:void 0}}finally{u&&clearTimeout(u)}})}}var n0=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},s0=class{constructor(s){var t,a;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(t=s.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=s.signal,this.isMaybeSingle=(a=s.isMaybeSingle)!==null&&a!==void 0?a:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,t){return this.headers=new Headers(this.headers),this.headers.set(s,t),this}then(s,t){var a=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const o=this.fetch;let d=o(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async u=>{let p=null,g=null,x=null,b=u.status,_=u.statusText;if(u.ok){var f,j;if(a.method!=="HEAD"){var k;const P=await u.text();P===""||(a.headers.get("Accept")==="text/csv"||a.headers.get("Accept")&&(!((k=a.headers.get("Accept"))===null||k===void 0)&&k.includes("application/vnd.pgrst.plan+text"))?g=P:g=JSON.parse(P))}const S=(f=a.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),A=(j=u.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");S&&A&&A.length>1&&(x=parseInt(A[1])),a.isMaybeSingle&&a.method==="GET"&&Array.isArray(g)&&(g.length>1?(p={code:"PGRST116",details:`Results contain ${g.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},g=null,x=null,b=406,_="Not Acceptable"):g.length===1?g=g[0]:g=null)}else{var N;const S=await u.text();try{p=JSON.parse(S),Array.isArray(p)&&u.status===404&&(g=[],p=null,b=200,_="OK")}catch{u.status===404&&S===""?(b=204,_="No Content"):p={message:S}}if(p&&a.isMaybeSingle&&(!(p==null||(N=p.details)===null||N===void 0)&&N.includes("0 rows"))&&(p=null,b=200,_="OK"),p&&a.shouldThrowOnError)throw new n0(p)}return{error:p,data:g,count:x,status:b,statusText:_}});return this.shouldThrowOnError||(d=d.catch(u=>{var p;let g="";const x=u==null?void 0:u.cause;if(x){var b,_,f,j;const N=(b=x==null?void 0:x.message)!==null&&b!==void 0?b:"",S=(_=x==null?void 0:x.code)!==null&&_!==void 0?_:"";g=`${(f=u==null?void 0:u.name)!==null&&f!==void 0?f:"FetchError"}: ${u==null?void 0:u.message}`,g+=`

Caused by: ${(j=x==null?void 0:x.name)!==null&&j!==void 0?j:"Error"}: ${N}`,S&&(g+=` (${S})`),x!=null&&x.stack&&(g+=`
${x.stack}`)}else{var k;g=(k=u==null?void 0:u.stack)!==null&&k!==void 0?k:""}return{error:{message:`${(p=u==null?void 0:u.name)!==null&&p!==void 0?p:"FetchError"}: ${u==null?void 0:u.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(s,t)}returns(){return this}overrideTypes(){return this}},a0=class extends s0{select(s){let t=!1;const a=(s??"*").split("").map(o=>/\s/.test(o)&&!t?"":(o==='"'&&(t=!t),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:t=!0,nullsFirst:a,foreignTable:o,referencedTable:d=o}={}){const u=d?`${d}.order`:"order",p=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${p?`${p},`:""}${s}.${t?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:t,referencedTable:a=t}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${s}`),this}range(s,t,{foreignTable:a,referencedTable:o=a}={}){const d=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(d,`${s}`),this.url.searchParams.set(u,`${t-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:t=!1,settings:a=!1,buffers:o=!1,wal:d=!1,format:u="text"}={}){var p;const g=[s?"analyze":null,t?"verbose":null,a?"settings":null,o?"buffers":null,d?"wal":null].filter(Boolean).join("|"),x=(p=this.headers.get("Accept"))!==null&&p!==void 0?p:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${x}"; options=${g};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const Rp=new RegExp("[,()]");var so=class extends a0{eq(s,t){return this.url.searchParams.append(s,`eq.${t}`),this}neq(s,t){return this.url.searchParams.append(s,`neq.${t}`),this}gt(s,t){return this.url.searchParams.append(s,`gt.${t}`),this}gte(s,t){return this.url.searchParams.append(s,`gte.${t}`),this}lt(s,t){return this.url.searchParams.append(s,`lt.${t}`),this}lte(s,t){return this.url.searchParams.append(s,`lte.${t}`),this}like(s,t){return this.url.searchParams.append(s,`like.${t}`),this}likeAllOf(s,t){return this.url.searchParams.append(s,`like(all).{${t.join(",")}}`),this}likeAnyOf(s,t){return this.url.searchParams.append(s,`like(any).{${t.join(",")}}`),this}ilike(s,t){return this.url.searchParams.append(s,`ilike.${t}`),this}ilikeAllOf(s,t){return this.url.searchParams.append(s,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(s,t){return this.url.searchParams.append(s,`ilike(any).{${t.join(",")}}`),this}regexMatch(s,t){return this.url.searchParams.append(s,`match.${t}`),this}regexIMatch(s,t){return this.url.searchParams.append(s,`imatch.${t}`),this}is(s,t){return this.url.searchParams.append(s,`is.${t}`),this}isDistinct(s,t){return this.url.searchParams.append(s,`isdistinct.${t}`),this}in(s,t){const a=Array.from(new Set(t)).map(o=>typeof o=="string"&&Rp.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`in.(${a})`),this}notIn(s,t){const a=Array.from(new Set(t)).map(o=>typeof o=="string"&&Rp.test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(s,`not.in.(${a})`),this}contains(s,t){return typeof t=="string"?this.url.searchParams.append(s,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(s,`cs.{${t.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(t)}`),this}containedBy(s,t){return typeof t=="string"?this.url.searchParams.append(s,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(s,`cd.{${t.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(t)}`),this}rangeGt(s,t){return this.url.searchParams.append(s,`sr.${t}`),this}rangeGte(s,t){return this.url.searchParams.append(s,`nxl.${t}`),this}rangeLt(s,t){return this.url.searchParams.append(s,`sl.${t}`),this}rangeLte(s,t){return this.url.searchParams.append(s,`nxr.${t}`),this}rangeAdjacent(s,t){return this.url.searchParams.append(s,`adj.${t}`),this}overlaps(s,t){return typeof t=="string"?this.url.searchParams.append(s,`ov.${t}`):this.url.searchParams.append(s,`ov.{${t.join(",")}}`),this}textSearch(s,t,{config:a,type:o}={}){let d="";o==="plain"?d="pl":o==="phrase"?d="ph":o==="websearch"&&(d="w");const u=a===void 0?"":`(${a})`;return this.url.searchParams.append(s,`${d}fts${u}.${t}`),this}match(s){return Object.entries(s).forEach(([t,a])=>{this.url.searchParams.append(t,`eq.${a}`)}),this}not(s,t,a){return this.url.searchParams.append(s,`not.${t}.${a}`),this}or(s,{foreignTable:t,referencedTable:a=t}={}){const o=a?`${a}.or`:"or";return this.url.searchParams.append(o,`(${s})`),this}filter(s,t,a){return this.url.searchParams.append(s,`${t}.${a}`),this}},i0=class{constructor(s,{headers:t={},schema:a,fetch:o}){this.url=s,this.headers=new Headers(t),this.schema=a,this.fetch=o}select(s,t){const{head:a=!1,count:o}=t??{},d=a?"HEAD":"GET";let u=!1;const p=(s??"*").split("").map(g=>/\s/.test(g)&&!u?"":(g==='"'&&(u=!u),g)).join("");return this.url.searchParams.set("select",p),o&&this.headers.append("Prefer",`count=${o}`),new so({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:t,defaultToNull:a=!0}={}){var o;const d="POST";if(t&&this.headers.append("Prefer",`count=${t}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const u=s.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(u.length>0){const p=[...new Set(u)].map(g=>`"${g}"`);this.url.searchParams.set("columns",p.join(","))}}return new so({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(s,{onConflict:t,ignoreDuplicates:a=!1,count:o,defaultToNull:d=!0}={}){var u;const p="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),o&&this.headers.append("Prefer",`count=${o}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const g=s.reduce((x,b)=>x.concat(Object.keys(b)),[]);if(g.length>0){const x=[...new Set(g)].map(b=>`"${b}"`);this.url.searchParams.set("columns",x.join(","))}}return new so({method:p,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(s,{count:t}={}){var a;const o="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new so({method:o,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:s}={}){var t;const a="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new so({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},o0=class wf{constructor(t,{headers:a={},schema:o,fetch:d}={}){this.url=t,this.headers=new Headers(a),this.schemaName=o,this.fetch=d}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new i0(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new wf(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,a={},{head:o=!1,get:d=!1,count:u}={}){var p;let g;const x=new URL(`${this.url}/rpc/${t}`);let b;const _=k=>k!==null&&typeof k=="object"&&(!Array.isArray(k)||k.some(_)),f=o&&Object.values(a).some(_);f?(g="POST",b=a):o||d?(g=o?"HEAD":"GET",Object.entries(a).filter(([k,N])=>N!==void 0).map(([k,N])=>[k,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([k,N])=>{x.searchParams.append(k,N)})):(g="POST",b=a);const j=new Headers(this.headers);return f?j.set("Prefer",u?`count=${u},return=minimal`:"return=minimal"):u&&j.set("Prefer",`count=${u}`),new so({method:g,url:x,headers:j,schema:this.schemaName,body:b,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}};class l0{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const a=globalThis.process;if(a){const o=a.versions;if(o&&o.node){const d=o.node,u=parseInt(d.replace(/^v/,"").split(".")[0]);return u>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${u} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${u} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let a=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(a+=`

Suggested solution: ${t.workaround}`),new Error(a)}static createWebSocket(t,a){const o=this.getWebSocketConstructor();return new o(t,a)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const c0="2.90.0",d0=`realtime-js/${c0}`,_f="1.0.0",u0="2.0.0",Pp=_f,Lu=1e4,h0=1e3,p0=100;var Ys;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(Ys||(Ys={}));var gt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(gt||(gt={}));var ln;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(ln||(ln={}));var Bu;(function(s){s.websocket="websocket"})(Bu||(Bu={}));var Ha;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(Ha||(Ha={}));class f0{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,a){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return a(this._binaryEncodeUserBroadcastPush(t));let o=[t.join_ref,t.ref,t.topic,t.event,t.payload];return a(JSON.stringify(o))}_binaryEncodeUserBroadcastPush(t){var a;return this._isArrayBuffer((a=t.payload)===null||a===void 0?void 0:a.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var a,o;const d=(o=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&o!==void 0?o:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(t){var a,o;const d=(o=(a=t.payload)===null||a===void 0?void 0:a.payload)!==null&&o!==void 0?o:{},p=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,p)}_encodeUserBroadcastPush(t,a,o){var d,u;const p=t.topic,g=(d=t.ref)!==null&&d!==void 0?d:"",x=(u=t.join_ref)!==null&&u!==void 0?u:"",b=t.payload.event,_=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(_).length===0?"":JSON.stringify(_);if(x.length>255)throw new Error(`joinRef length ${x.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`ref length ${g.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`topic length ${p.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`userEvent length ${b.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const j=this.USER_BROADCAST_PUSH_META_LENGTH+x.length+g.length+p.length+b.length+f.length,k=new ArrayBuffer(this.HEADER_LENGTH+j);let N=new DataView(k),S=0;N.setUint8(S++,this.KINDS.userBroadcastPush),N.setUint8(S++,x.length),N.setUint8(S++,g.length),N.setUint8(S++,p.length),N.setUint8(S++,b.length),N.setUint8(S++,f.length),N.setUint8(S++,a),Array.from(x,P=>N.setUint8(S++,P.charCodeAt(0))),Array.from(g,P=>N.setUint8(S++,P.charCodeAt(0))),Array.from(p,P=>N.setUint8(S++,P.charCodeAt(0))),Array.from(b,P=>N.setUint8(S++,P.charCodeAt(0))),Array.from(f,P=>N.setUint8(S++,P.charCodeAt(0)));var A=new Uint8Array(k.byteLength+o.byteLength);return A.set(new Uint8Array(k),0),A.set(new Uint8Array(o),k.byteLength),A.buffer}decode(t,a){if(this._isArrayBuffer(t)){let o=this._binaryDecode(t);return a(o)}if(typeof t=="string"){const o=JSON.parse(t),[d,u,p,g,x]=o;return a({join_ref:d,ref:u,topic:p,event:g,payload:x})}return a({})}_binaryDecode(t){const a=new DataView(t),o=a.getUint8(0),d=new TextDecoder;switch(o){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,a,d)}}_decodeUserBroadcast(t,a,o){const d=a.getUint8(1),u=a.getUint8(2),p=a.getUint8(3),g=a.getUint8(4);let x=this.HEADER_LENGTH+4;const b=o.decode(t.slice(x,x+d));x=x+d;const _=o.decode(t.slice(x,x+u));x=x+u;const f=o.decode(t.slice(x,x+p));x=x+p;const j=t.slice(x,t.byteLength),k=g===this.JSON_ENCODING?JSON.parse(o.decode(j)):j,N={type:this.BROADCAST_EVENT,event:_,payload:k};return p>0&&(N.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:b,event:this.BROADCAST_EVENT,payload:N}}_isArrayBuffer(t){var a;return t instanceof ArrayBuffer||((a=t==null?void 0:t.constructor)===null||a===void 0?void 0:a.name)==="ArrayBuffer"}_pick(t,a){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([o])=>a.includes(o)))}}class jf{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Je;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(Je||(Je={}));const Ip=(s,t,a={})=>{var o;const d=(o=a.skipTypes)!==null&&o!==void 0?o:[];return t?Object.keys(t).reduce((u,p)=>(u[p]=m0(p,s,t,d),u),{}):{}},m0=(s,t,a,o)=>{const d=t.find(g=>g.name===s),u=d==null?void 0:d.type,p=a[s];return u&&!o.includes(u)?Sf(u,p):Uu(p)},Sf=(s,t)=>{if(s.charAt(0)==="_"){const a=s.slice(1,s.length);return y0(t,a)}switch(s){case Je.bool:return g0(t);case Je.float4:case Je.float8:case Je.int2:case Je.int4:case Je.int8:case Je.numeric:case Je.oid:return x0(t);case Je.json:case Je.jsonb:return b0(t);case Je.timestamp:return v0(t);case Je.abstime:case Je.date:case Je.daterange:case Je.int4range:case Je.int8range:case Je.money:case Je.reltime:case Je.text:case Je.time:case Je.timestamptz:case Je.timetz:case Je.tsrange:case Je.tstzrange:return Uu(t);default:return Uu(t)}},Uu=s=>s,g0=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},x0=s=>{if(typeof s=="string"){const t=parseFloat(s);if(!Number.isNaN(t))return t}return s},b0=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},y0=(s,t)=>{if(typeof s!="string")return s;const a=s.length-1,o=s[a];if(s[0]==="{"&&o==="}"){let u;const p=s.slice(1,a);try{u=JSON.parse("["+p+"]")}catch{u=p?p.split(","):[]}return u.map(g=>Sf(t,g))}return s},v0=s=>typeof s=="string"?s.replace(" ","T"):s,kf=s=>{const t=new URL(s);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ju{constructor(t,a,o={},d=Lu){this.channel=t,this.event=a,this.payload=o,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var o;return this._hasReceived(t)&&a((o=this.receivedResp)===null||o===void 0?void 0:o.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(o=>o.status===t).forEach(o=>o.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Op;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(Op||(Op={}));class El{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const o=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(o.state,{},d=>{const{onJoin:u,onLeave:p,onSync:g}=this.caller;this.joinRef=this.channel._joinRef(),this.state=El.syncState(this.state,d,u,p),this.pendingDiffs.forEach(x=>{this.state=El.syncDiff(this.state,x,u,p)}),this.pendingDiffs=[],g()}),this.channel._on(o.diff,{},d=>{const{onJoin:u,onLeave:p,onSync:g}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=El.syncDiff(this.state,d,u,p),g())}),this.onJoin((d,u,p)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:u,newPresences:p})}),this.onLeave((d,u,p)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:u,leftPresences:p})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,o,d){const u=this.cloneDeep(t),p=this.transformState(a),g={},x={};return this.map(u,(b,_)=>{p[b]||(x[b]=_)}),this.map(p,(b,_)=>{const f=u[b];if(f){const j=_.map(A=>A.presence_ref),k=f.map(A=>A.presence_ref),N=_.filter(A=>k.indexOf(A.presence_ref)<0),S=f.filter(A=>j.indexOf(A.presence_ref)<0);N.length>0&&(g[b]=N),S.length>0&&(x[b]=S)}else g[b]=_}),this.syncDiff(u,{joins:g,leaves:x},o,d)}static syncDiff(t,a,o,d){const{joins:u,leaves:p}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return o||(o=()=>{}),d||(d=()=>{}),this.map(u,(g,x)=>{var b;const _=(b=t[g])!==null&&b!==void 0?b:[];if(t[g]=this.cloneDeep(x),_.length>0){const f=t[g].map(k=>k.presence_ref),j=_.filter(k=>f.indexOf(k.presence_ref)<0);t[g].unshift(...j)}o(g,_,x)}),this.map(p,(g,x)=>{let b=t[g];if(!b)return;const _=x.map(f=>f.presence_ref);b=b.filter(f=>_.indexOf(f.presence_ref)<0),t[g]=b,d(g,b,x),b.length===0&&delete t[g]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(o=>a(o,t[o]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,o)=>{const d=t[o];return"metas"in d?a[o]=d.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):a[o]=d,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Dp;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Dp||(Dp={}));var Tl;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Tl||(Tl={}));var is;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(is||(is={}));class oo{constructor(t,a={config:{}},o){var d,u;if(this.topic=t,this.params=a,this.socket=o,this.bindings={},this.state=gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new ju(this,ln.join,this.params,this.timeout),this.rejoinTimer=new jf(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(p=>p.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gt.closed,this.socket._remove(this)}),this._onError(p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",p=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,p),this.state=gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ln.reply,{},(p,g)=>{this._trigger(this._replyEventName(g),p)}),this.presence=new El(this),this.broadcastEndpointURL=kf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,a=this.timeout){var o,d,u;if(this.socket.isConnected()||this.socket.connect(),this.state==gt.closed){const{config:{broadcast:p,presence:g,private:x}}=this.params,b=(d=(o=this.bindings.postgres_changes)===null||o===void 0?void 0:o.map(k=>k.filter))!==null&&d!==void 0?d:[],_=!!this.bindings[Tl.PRESENCE]&&this.bindings[Tl.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,f={},j={broadcast:p,presence:Object.assign(Object.assign({},g),{enabled:_}),postgres_changes:b,private:x};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(k=>t==null?void 0:t(is.CHANNEL_ERROR,k)),this._onClose(()=>t==null?void 0:t(is.CLOSED)),this.updateJoinPayload(Object.assign({config:j},f)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:k})=>{var N;if(this.socket._isManualToken()||this.socket.setAuth(),k===void 0){t==null||t(is.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,A=(N=S==null?void 0:S.length)!==null&&N!==void 0?N:0,P=[];for(let O=0;O<A;O++){const E=S[O],{filter:{event:U,schema:$,table:B,filter:H}}=E,G=k&&k[O];if(G&&G.event===U&&oo.isFilterValueEqual(G.schema,$)&&oo.isFilterValueEqual(G.table,B)&&oo.isFilterValueEqual(G.filter,H))P.push(Object.assign(Object.assign({},E),{id:G.id}));else{this.unsubscribe(),this.state=gt.errored,t==null||t(is.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,t&&t(is.SUBSCRIBED);return}}).receive("error",k=>{this.state=gt.errored,t==null||t(is.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(k).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(is.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,o){return this.state===gt.joined&&t===Tl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,a,o)}async httpSend(t,a,o={}){var d;if(a==null)return Promise.reject("Payload is required for httpSend()");const u={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(u.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:u,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:a,private:this.private}]})},g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(d=o.timeout)!==null&&d!==void 0?d:this.timeout);if(g.status===202)return{success:!0};let x=g.statusText;try{const b=await g.json();x=b.error||b.message||x}catch{}return Promise.reject(new Error(x))}async send(t,a={}){var o,d;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:p}=t,g={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(g.Authorization=`Bearer ${this.socket.accessTokenValue}`);const x={method:"POST",headers:g,body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:p,private:this.private}]})};try{const b=await this._fetchWithTimeout(this.broadcastEndpointURL,x,(o=a.timeout)!==null&&o!==void 0?o:this.timeout);return await((d=b.body)===null||d===void 0?void 0:d.cancel()),b.ok?"ok":"error"}catch(b){return b.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var p,g,x;const b=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((x=(g=(p=this.params)===null||p===void 0?void 0:p.config)===null||g===void 0?void 0:g.broadcast)===null||x===void 0)&&x.ack)&&u("ok"),b.receive("ok",()=>u("ok")),b.receive("error",()=>u("error")),b.receive("timeout",()=>u("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gt.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ln.close,"leave",this._joinRef())};this.joinPush.destroy();let o=null;return new Promise(d=>{o=new ju(this,ln.leave,{},t),o.receive("ok",()=>{a(),d("ok")}).receive("timeout",()=>{a(),d("timed out")}).receive("error",()=>{d("error")}),o.send(),this._canPush()||o.trigger("ok",{})}).finally(()=>{o==null||o.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gt.closed,this.bindings={}}async _fetchWithTimeout(t,a,o){const d=new AbortController,u=setTimeout(()=>d.abort(),o),p=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:d.signal}));return clearTimeout(u),p}_push(t,a,o=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new ju(this,t,a,o);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>p0){const a=this.pushBuffer.shift();a&&(a.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${a.event}`,a.payload))}}_onMessage(t,a,o){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,o){var d,u;const p=t.toLocaleLowerCase(),{close:g,error:x,leave:b,join:_}=ln;if(o&&[g,x,b,_].indexOf(p)>=0&&o!==this._joinRef())return;let j=this._onMessage(p,a,o);if(a&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(p)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(k=>{var N,S,A;return((N=k.filter)===null||N===void 0?void 0:N.event)==="*"||((A=(S=k.filter)===null||S===void 0?void 0:S.event)===null||A===void 0?void 0:A.toLocaleLowerCase())===p}).map(k=>k.callback(j,o)):(u=this.bindings[p])===null||u===void 0||u.filter(k=>{var N,S,A,P,O,E;if(["broadcast","presence","postgres_changes"].includes(p))if("id"in k){const U=k.id,$=(N=k.filter)===null||N===void 0?void 0:N.event;return U&&((S=a.ids)===null||S===void 0?void 0:S.includes(U))&&($==="*"||($==null?void 0:$.toLocaleLowerCase())===((A=a.data)===null||A===void 0?void 0:A.type.toLocaleLowerCase()))}else{const U=(O=(P=k==null?void 0:k.filter)===null||P===void 0?void 0:P.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return U==="*"||U===((E=a==null?void 0:a.event)===null||E===void 0?void 0:E.toLocaleLowerCase())}else return k.type.toLocaleLowerCase()===p}).map(k=>{if(typeof j=="object"&&"ids"in j){const N=j.data,{schema:S,table:A,commit_timestamp:P,type:O,errors:E}=N;j=Object.assign(Object.assign({},{schema:S,table:A,commit_timestamp:P,eventType:O,new:{},old:{},errors:E}),this._getPayloadRecords(N))}k.callback(j,o)})}_isClosed(){return this.state===gt.closed}_isJoined(){return this.state===gt.joined}_isJoining(){return this.state===gt.joining}_isLeaving(){return this.state===gt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,o){const d=t.toLocaleLowerCase(),u={type:d,filter:a,callback:o};return this.bindings[d]?this.bindings[d].push(u):this.bindings[d]=[u],this}_off(t,a){const o=t.toLocaleLowerCase();return this.bindings[o]&&(this.bindings[o]=this.bindings[o].filter(d=>{var u;return!(((u=d.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===o&&oo.isEqual(d.filter,a))})),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const o in t)if(t[o]!==a[o])return!1;return!0}static isFilterValueEqual(t,a){return(t??void 0)===(a??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ln.close,{},t)}_onError(t){this._on(ln.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=Ip(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=Ip(t.columns,t.old_record)),a}}const Su=()=>{},sd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},w0=[1e3,2e3,5e3,1e4],_0=1e4,j0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class S0{constructor(t,a){var o;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Lu,this.transport=null,this.heartbeatIntervalMs=sd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Su,this.ref=0,this.reconnectTimer=null,this.vsn=Pp,this.logger=Su,this.conn=null,this.sendBuffer=[],this.serializer=new f0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=d=>d?(...u)=>d(...u):(...u)=>fetch(...u),!(!((o=a==null?void 0:a.params)===null||o===void 0)&&o.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=a.params.apikey,this.endPoint=`${t}/${Bu.websocket}`,this.httpEndpoint=kf(t),this._initializeOptions(a),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(a==null?void 0:a.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=l0.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const a=t.message;throw a.includes("Node.js")?new Error(`${a}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${a}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,a){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const o=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(o),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,a??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,o){this.logger(t,a,o)}connectionState(){switch(this.conn&&this.conn.readyState){case Ys.connecting:return Ha.Connecting;case Ys.open:return Ha.Open;case Ys.closing:return Ha.Closing;default:return Ha.Closed}}isConnected(){return this.connectionState()===Ha.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,a={config:{}}){const o=`realtime:${t}`,d=this.getChannels().find(u=>u.topic===o);if(d)return d;{const u=new oo(`realtime:${t}`,a,this);return this.channels.push(u),u}}push(t){const{topic:a,event:o,payload:d,ref:u}=t,p=()=>{this.encode(t,g=>{var x;(x=this.conn)===null||x===void 0||x.send(g)})};this.log("push",`${a} ${o} (${u})`,d),this.isConnected()?p():this.sendBuffer.push(p)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(a){this.log("error","error in heartbeat callback",a)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(a){this.log("error","error in heartbeat callback",a)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(h0,"heartbeat timeout"),setTimeout(()=>{var a;this.isConnected()||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout()},sd.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(a){this.log("error","error in heartbeat callback",a)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(o=>o.topic===t&&(o._isJoined()||o._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,a=>{if(a.topic==="phoenix"&&a.event==="phx_reply"&&a.ref&&a.ref===this.pendingHeartbeatRef){const b=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(a.payload.status==="ok"?"ok":"error",b)}catch(_){this.log("error","error in heartbeat callback",_)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:o,event:d,payload:u,ref:p}=a,g=p?`(${p})`:"",x=u.status||"";this.log("receive",`${x} ${o} ${d} ${g}`.trim(),u),this.channels.filter(b=>b._isMember(o)).forEach(b=>b._trigger(d,u,p)),this._triggerStateCallbacks("message",a)})}_clearTimer(t){var a;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((a=this.reconnectTimer)===null||a===void 0||a.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Ys.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Ys.open||this.conn.readyState===Ys.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(a=>{this.log("error","error waiting for auth on connect",a),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this._terminateWorker()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var a;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(a=this.reconnectTimer)===null||a===void 0||a.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(ln.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const o=t.match(/\?/)?"&":"?",d=new URLSearchParams(a);return`${t}${o}${d}`}_workerObjectUrl(t){let a;if(t)a=t;else{const o=new Blob([j0],{type:"application/javascript"});a=URL.createObjectURL(o)}return a}_setConnectionState(t,a=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=a)}async _performAuth(t=null){let a,o=!1;if(t)a=t,o=!0;else if(this.accessToken)try{a=await this.accessToken()}catch(d){this.log("error","Error fetching access token from callback",d),a=this.accessTokenValue}else a=this.accessTokenValue;o?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(d=>{const u={access_token:a,version:d0};a&&d.updateJoinPayload(u),d.joinedOnce&&d._isJoined()&&d._push(ln.access_token,{access_token:a})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(a=>{this.log("error",`Error setting auth in ${t}`,a)})}_triggerStateCallbacks(t,a){try{this.stateChangeCallbacks[t].forEach(o=>{try{o(a)}catch(d){this.log("error",`error in ${t} callback`,d)}})}catch(o){this.log("error",`error triggering ${t} callbacks`,o)}}_setupReconnectionTimer(){this.reconnectTimer=new jf(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var a,o,d,u,p,g,x,b,_,f,j,k;switch(this.transport=(a=t==null?void 0:t.transport)!==null&&a!==void 0?a:null,this.timeout=(o=t==null?void 0:t.timeout)!==null&&o!==void 0?o:Lu,this.heartbeatIntervalMs=(d=t==null?void 0:t.heartbeatIntervalMs)!==null&&d!==void 0?d:sd.HEARTBEAT_INTERVAL,this.worker=(u=t==null?void 0:t.worker)!==null&&u!==void 0?u:!1,this.accessToken=(p=t==null?void 0:t.accessToken)!==null&&p!==void 0?p:null,this.heartbeatCallback=(g=t==null?void 0:t.heartbeatCallback)!==null&&g!==void 0?g:Su,this.vsn=(x=t==null?void 0:t.vsn)!==null&&x!==void 0?x:Pp,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(b=t==null?void 0:t.reconnectAfterMs)!==null&&b!==void 0?b:N=>w0[N-1]||_0,this.vsn){case _f:this.encode=(_=t==null?void 0:t.encode)!==null&&_!==void 0?_:(N,S)=>S(JSON.stringify(N)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(N,S)=>S(JSON.parse(N));break;case u0:this.encode=(j=t==null?void 0:t.encode)!==null&&j!==void 0?j:this.serializer.encode.bind(this.serializer),this.decode=(k=t==null?void 0:t.decode)!==null&&k!==void 0?k:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var $l=class extends Error{constructor(s,t){var a;super(s),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((a=t.icebergType)==null?void 0:a.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function k0(s,t,a){const o=new URL(t,s);if(a)for(const[d,u]of Object.entries(a))u!==void 0&&o.searchParams.set(d,u);return o.toString()}async function N0(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function C0(s){const t=s.fetchImpl??globalThis.fetch;return{async request({method:a,path:o,query:d,body:u,headers:p}){const g=k0(s.baseUrl,o,d),x=await N0(s.auth),b=await t(g,{method:a,headers:{...u?{"Content-Type":"application/json"}:{},...x,...p},body:u?JSON.stringify(u):void 0}),_=await b.text(),f=(b.headers.get("content-type")||"").includes("application/json"),j=f&&_?JSON.parse(_):_;if(!b.ok){const k=f?j:void 0,N=k==null?void 0:k.error;throw new $l((N==null?void 0:N.message)??`Request failed with status ${b.status}`,{status:b.status,icebergType:N==null?void 0:N.type,icebergCode:N==null?void 0:N.code,details:k})}return{status:b.status,headers:b.headers,data:j}}}}function ad(s){return s.join("")}var E0=class{constructor(s,t=""){this.client=s,this.prefix=t}async listNamespaces(s){const t=s?{parent:ad(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(o=>({namespace:o}))}async createNamespace(s,t){const a={namespace:s.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:a})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ad(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ad(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ad(s.namespace)}`}),!0}catch(t){if(t instanceof $l&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(s,t){try{return await this.createNamespace(s,t)}catch(a){if(a instanceof $l&&a.status===409)return;throw a}}};function Xi(s){return s.join("")}var T0=class{constructor(s,t="",a){this.client=s,this.prefix=t,this.accessDelegation=a}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xi(s.namespace)}/tables`})).data.identifiers}async createTable(s,t){const a={};return this.accessDelegation&&(a["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xi(s.namespace)}/tables`,body:t,headers:a})).data.metadata}async updateTable(s,t){const a=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Xi(s.namespace)}/tables/${s.name}`,body:t});return{"metadata-location":a.data["metadata-location"],metadata:a.data.metadata}}async dropTable(s,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xi(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(s){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xi(s.namespace)}/tables/${s.name}`,headers:t})).data.metadata}async tableExists(s){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xi(s.namespace)}/tables/${s.name}`,headers:t}),!0}catch(a){if(a instanceof $l&&a.status===404)return!1;throw a}}async createTableIfNotExists(s,t){try{return await this.createTable(s,t)}catch(a){if(a instanceof $l&&a.status===409)return await this.loadTable({namespace:s.namespace,name:t.name});throw a}}},A0=class{constructor(s){var o;let t="v1";s.catalogName&&(t+=`/${s.catalogName}`);const a=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=C0({baseUrl:a,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(o=s.accessDelegation)==null?void 0:o.join(","),this.namespaceOps=new E0(this.client,t),this.tableOps=new T0(this.client,t,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,t){return this.namespaceOps.createNamespace(s,t)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,t){return this.tableOps.createTable(s,t)}async updateTable(s,t){return this.tableOps.updateTable(s,t)}async dropTable(s,t){await this.tableOps.dropTable(s,t)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,t){return this.namespaceOps.createNamespaceIfNotExists(s,t)}async createTableIfNotExists(s,t){return this.tableOps.createTableIfNotExists(s,t)}},yd=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function tt(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var $0=class extends yd{constructor(s,t,a){super(s),this.name="StorageApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Fu=class extends yd{constructor(s,t){super(s),this.name="StorageUnknownError",this.originalError=t}};const ih=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),R0=()=>Response,zu=s=>{if(Array.isArray(s))return s.map(a=>zu(a));if(typeof s=="function"||s!==Object(s))return s;const t={};return Object.entries(s).forEach(([a,o])=>{const d=a.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));t[d]=zu(o)}),t},P0=s=>{if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},I0=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function Rl(s){"@babel/helpers - typeof";return Rl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Rl(s)}function O0(s,t){if(Rl(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var o=a.call(s,t||"default");if(Rl(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function D0(s){var t=O0(s,"string");return Rl(t)=="symbol"?t:t+""}function L0(s,t,a){return(t=D0(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Lp(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);t&&(o=o.filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable})),a.push.apply(a,o)}return a}function pe(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Lp(Object(a),!0).forEach(function(o){L0(s,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):Lp(Object(a)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(a,o))})}return s}const ku=s=>{var t;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(t=s.error)===null||t===void 0?void 0:t.message)||JSON.stringify(s)},B0=async(s,t,a)=>{s instanceof await R0()&&!(a!=null&&a.noResolveJson)?s.json().then(o=>{const d=s.status||500,u=(o==null?void 0:o.statusCode)||d+"";t(new $0(ku(o),d,u))}).catch(o=>{t(new Fu(ku(o),o))}):t(new Fu(ku(s),s))},U0=(s,t,a,o)=>{const d={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"||!o?d:(P0(o)?(d.headers=pe({"Content-Type":"application/json"},t==null?void 0:t.headers),d.body=JSON.stringify(o)):d.body=o,t!=null&&t.duplex&&(d.duplex=t.duplex),pe(pe({},d),a))};async function Fl(s,t,a,o,d,u){return new Promise((p,g)=>{s(a,U0(t,o,d,u)).then(x=>{if(!x.ok)throw x;return o!=null&&o.noResolveJson?x:x.json()}).then(x=>p(x)).catch(x=>B0(x,g,o))})}async function Pl(s,t,a,o){return Fl(s,"GET",t,a,o)}async function on(s,t,a,o,d){return Fl(s,"POST",t,o,d,a)}async function Mu(s,t,a,o,d){return Fl(s,"PUT",t,o,d,a)}async function F0(s,t,a,o){return Fl(s,"HEAD",t,pe(pe({},a),{},{noResolveJson:!0}),o)}async function oh(s,t,a,o,d){return Fl(s,"DELETE",t,o,d,a)}var z0=class{constructor(s,t){this.downloadFn=s,this.shouldThrowOnError=t}then(s,t){return this.execute().then(s,t)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(t){if(s.shouldThrowOnError)throw t;if(tt(t))return{data:null,error:t};throw t}}};let Nf;Nf=Symbol.toStringTag;var M0=class{constructor(s,t){this.downloadFn=s,this.shouldThrowOnError=t,this[Nf]="BlobDownloadBuilder",this.promise=null}asStream(){return new z0(this.downloadFn,this.shouldThrowOnError)}then(s,t){return this.getPromise().then(s,t)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(t){if(s.shouldThrowOnError)throw t;if(tt(t))return{data:null,error:t};throw t}}};const q0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Bp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var H0=class{constructor(s,t={},a,o){this.shouldThrowOnError=!1,this.url=s,this.headers=t,this.bucketId=a,this.fetch=ih(o)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,t,a,o){var d=this;try{let u;const p=pe(pe({},Bp),o);let g=pe(pe({},d.headers),s==="POST"&&{"x-upsert":String(p.upsert)});const x=p.metadata;typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",p.cacheControl),x&&u.append("metadata",d.encodeMetadata(x)),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.has("cacheControl")||u.append("cacheControl",p.cacheControl),x&&!u.has("metadata")&&u.append("metadata",d.encodeMetadata(x))):(u=a,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType,x&&(g["x-metadata"]=d.toBase64(d.encodeMetadata(x))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!p.duplex&&(p.duplex="half")),o!=null&&o.headers&&(g=pe(pe({},g),o.headers));const b=d._removeEmptyFolders(t),_=d._getFinalPath(b),f=await(s=="PUT"?Mu:on)(d.fetch,`${d.url}/object/${_}`,u,pe({headers:g},p!=null&&p.duplex?{duplex:p.duplex}:{}));return{data:{path:b,id:f.Id,fullPath:f.Key},error:null}}catch(u){if(d.shouldThrowOnError)throw u;if(tt(u))return{data:null,error:u};throw u}}async upload(s,t,a){return this.uploadOrUpdate("POST",s,t,a)}async uploadToSignedUrl(s,t,a,o){var d=this;const u=d._removeEmptyFolders(s),p=d._getFinalPath(u),g=new URL(d.url+`/object/upload/sign/${p}`);g.searchParams.set("token",t);try{let x;const b=pe({upsert:Bp.upsert},o),_=pe(pe({},d.headers),{"x-upsert":String(b.upsert)});return typeof Blob<"u"&&a instanceof Blob?(x=new FormData,x.append("cacheControl",b.cacheControl),x.append("",a)):typeof FormData<"u"&&a instanceof FormData?(x=a,x.append("cacheControl",b.cacheControl)):(x=a,_["cache-control"]=`max-age=${b.cacheControl}`,_["content-type"]=b.contentType),{data:{path:u,fullPath:(await Mu(d.fetch,g.toString(),x,{headers:_})).Key},error:null}}catch(x){if(d.shouldThrowOnError)throw x;if(tt(x))return{data:null,error:x};throw x}}async createSignedUploadUrl(s,t){var a=this;try{let o=a._getFinalPath(s);const d=pe({},a.headers);t!=null&&t.upsert&&(d["x-upsert"]="true");const u=await on(a.fetch,`${a.url}/object/upload/sign/${o}`,{},{headers:d}),p=new URL(a.url+u.url),g=p.searchParams.get("token");if(!g)throw new yd("No token returned by API");return{data:{signedUrl:p.toString(),path:s,token:g},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}}async update(s,t,a){return this.uploadOrUpdate("PUT",s,t,a)}async move(s,t,a){var o=this;try{return{data:await on(o.fetch,`${o.url}/object/move`,{bucketId:o.bucketId,sourceKey:s,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:o.headers}),error:null}}catch(d){if(o.shouldThrowOnError)throw d;if(tt(d))return{data:null,error:d};throw d}}async copy(s,t,a){var o=this;try{return{data:{path:(await on(o.fetch,`${o.url}/object/copy`,{bucketId:o.bucketId,sourceKey:s,destinationKey:t,destinationBucket:a==null?void 0:a.destinationBucket},{headers:o.headers})).Key},error:null}}catch(d){if(o.shouldThrowOnError)throw d;if(tt(d))return{data:null,error:d};throw d}}async createSignedUrl(s,t,a){var o=this;try{let d=o._getFinalPath(s),u=await on(o.fetch,`${o.url}/object/sign/${d}`,pe({expiresIn:t},a!=null&&a.transform?{transform:a.transform}:{}),{headers:o.headers});const p=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return u={signedUrl:encodeURI(`${o.url}${u.signedURL}${p}`)},{data:u,error:null}}catch(d){if(o.shouldThrowOnError)throw d;if(tt(d))return{data:null,error:d};throw d}}async createSignedUrls(s,t,a){var o=this;try{const d=await on(o.fetch,`${o.url}/object/sign/${o.bucketId}`,{expiresIn:t,paths:s},{headers:o.headers}),u=a!=null&&a.download?`&download=${a.download===!0?"":a.download}`:"";return{data:d.map(p=>pe(pe({},p),{},{signedUrl:p.signedURL?encodeURI(`${o.url}${p.signedURL}${u}`):null})),error:null}}catch(d){if(o.shouldThrowOnError)throw d;if(tt(d))return{data:null,error:d};throw d}}download(s,t){const a=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),d=o?`?${o}`:"",u=this._getFinalPath(s),p=()=>Pl(this.fetch,`${this.url}/${a}/${u}${d}`,{headers:this.headers,noResolveJson:!0});return new M0(p,this.shouldThrowOnError)}async info(s){var t=this;const a=t._getFinalPath(s);try{return{data:zu(await Pl(t.fetch,`${t.url}/object/info/${a}`,{headers:t.headers})),error:null}}catch(o){if(t.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}}async exists(s){var t=this;const a=t._getFinalPath(s);try{return await F0(t.fetch,`${t.url}/object/${a}`,{headers:t.headers}),{data:!0,error:null}}catch(o){if(t.shouldThrowOnError)throw o;if(tt(o)&&o instanceof Fu){const d=o.originalError;if([400,404].includes(d==null?void 0:d.status))return{data:!1,error:o}}throw o}}getPublicUrl(s,t){const a=this._getFinalPath(s),o=[],d=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";d!==""&&o.push(d);const u=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});p!==""&&o.push(p);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${a}${g}`)}}}async remove(s){var t=this;try{return{data:await oh(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:s},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}}async list(s,t,a){var o=this;try{const d=pe(pe(pe({},q0),t),{},{prefix:s||""});return{data:await on(o.fetch,`${o.url}/object/list/${o.bucketId}`,d,{headers:o.headers},a),error:null}}catch(d){if(o.shouldThrowOnError)throw d;if(tt(d))return{data:null,error:d};throw d}}async listV2(s,t){var a=this;try{const o=pe({},s);return{data:await on(a.fetch,`${a.url}/object/list-v2/${a.bucketId}`,o,{headers:a.headers},t),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const t=[];return s.width&&t.push(`width=${s.width}`),s.height&&t.push(`height=${s.height}`),s.resize&&t.push(`resize=${s.resize}`),s.format&&t.push(`format=${s.format}`),s.quality&&t.push(`quality=${s.quality}`),t.join("&")}};const Cf="2.90.0",Ef={"X-Client-Info":`storage-js/${Cf}`};var V0=class{constructor(s,t={},a,o){this.shouldThrowOnError=!1;const d=new URL(s);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=pe(pe({},Ef),t),this.fetch=ih(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var t=this;try{const a=t.listBucketOptionsToQueryString(s);return{data:await Pl(t.fetch,`${t.url}/bucket${a}`,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}}async getBucket(s){var t=this;try{return{data:await Pl(t.fetch,`${t.url}/bucket/${s}`,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}}async createBucket(s,t={public:!1}){var a=this;try{return{data:await on(a.fetch,`${a.url}/bucket`,{id:s,name:s,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}}async updateBucket(s,t){var a=this;try{return{data:await Mu(a.fetch,`${a.url}/bucket/${s}`,{id:s,name:s,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(tt(o))return{data:null,error:o};throw o}}async emptyBucket(s){var t=this;try{return{data:await on(t.fetch,`${t.url}/bucket/${s}/empty`,{},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}}async deleteBucket(s){var t=this;try{return{data:await oh(t.fetch,`${t.url}/bucket/${s}`,{},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}}listBucketOptionsToQueryString(s){const t={};return s&&("limit"in s&&(t.limit=String(s.limit)),"offset"in s&&(t.offset=String(s.offset)),s.search&&(t.search=s.search),s.sortColumn&&(t.sortColumn=s.sortColumn),s.sortOrder&&(t.sortOrder=s.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},W0=class{constructor(s,t={},a){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=pe(pe({},Ef),t),this.fetch=ih(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var t=this;try{return{data:await on(t.fetch,`${t.url}/bucket`,{name:s},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}}async listBuckets(s){var t=this;try{const a=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&a.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&a.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&a.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&a.set("sortOrder",s.sortOrder),s!=null&&s.search&&a.set("search",s.search);const o=a.toString(),d=o?`${t.url}/bucket?${o}`:`${t.url}/bucket`;return{data:await Pl(t.fetch,d,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}}async deleteBucket(s){var t=this;try{return{data:await oh(t.fetch,`${t.url}/bucket/${s}`,{},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(tt(a))return{data:null,error:a};throw a}}from(s){var t=this;if(!I0(s))throw new yd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const a=new A0({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),o=this.shouldThrowOnError;return new Proxy(a,{get(d,u){const p=d[u];return typeof p!="function"?p:async(...g)=>{try{return{data:await p.apply(d,g),error:null}}catch(x){if(o)throw x;return{data:null,error:x}}}}})}};const lh={"X-Client-Info":`storage-js/${Cf}`,"Content-Type":"application/json"};var Tf=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function br(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var Nu=class extends Tf{constructor(s,t,a){super(s),this.name="StorageVectorsApiError",this.status=t,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},G0=class extends Tf{constructor(s,t){super(s),this.name="StorageVectorsUnknownError",this.originalError=t}};const ch=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),K0=s=>{if(typeof s!="object"||s===null)return!1;const t=Object.getPrototypeOf(s);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Up=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),J0=async(s,t,a)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(a!=null&&a.noResolveJson)){const o=s.status||500,d=s;if(typeof d.json=="function")d.json().then(u=>{const p=(u==null?void 0:u.statusCode)||(u==null?void 0:u.code)||o+"";t(new Nu(Up(u),o,p))}).catch(()=>{const u=o+"";t(new Nu(d.statusText||`HTTP ${o} error`,o,u))});else{const u=o+"";t(new Nu(d.statusText||`HTTP ${o} error`,o,u))}}else t(new G0(Up(s),s))},Q0=(s,t,a,o)=>{const d={method:s,headers:(t==null?void 0:t.headers)||{}};return o?(K0(o)?(d.headers=pe({"Content-Type":"application/json"},t==null?void 0:t.headers),d.body=JSON.stringify(o)):d.body=o,pe(pe({},d),a)):d};async function Y0(s,t,a,o,d,u){return new Promise((p,g)=>{s(a,Q0(t,o,d,u)).then(x=>{if(!x.ok)throw x;if(o!=null&&o.noResolveJson)return x;const b=x.headers.get("content-type");return!b||!b.includes("application/json")?{}:x.json()}).then(x=>p(x)).catch(x=>J0(x,g,o))})}async function yr(s,t,a,o,d){return Y0(s,"POST",t,o,d,a)}var X0=class{constructor(s,t={},a){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=pe(pe({},lh),t),this.fetch=ch(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var t=this;try{return{data:await yr(t.fetch,`${t.url}/CreateIndex`,s,{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(br(a))return{data:null,error:a};throw a}}async getIndex(s,t){var a=this;try{return{data:await yr(a.fetch,`${a.url}/GetIndex`,{vectorBucketName:s,indexName:t},{headers:a.headers}),error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(br(o))return{data:null,error:o};throw o}}async listIndexes(s){var t=this;try{return{data:await yr(t.fetch,`${t.url}/ListIndexes`,s,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(br(a))return{data:null,error:a};throw a}}async deleteIndex(s,t){var a=this;try{return{data:await yr(a.fetch,`${a.url}/DeleteIndex`,{vectorBucketName:s,indexName:t},{headers:a.headers})||{},error:null}}catch(o){if(a.shouldThrowOnError)throw o;if(br(o))return{data:null,error:o};throw o}}},Z0=class{constructor(s,t={},a){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=pe(pe({},lh),t),this.fetch=ch(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var t=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await yr(t.fetch,`${t.url}/PutVectors`,s,{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(br(a))return{data:null,error:a};throw a}}async getVectors(s){var t=this;try{return{data:await yr(t.fetch,`${t.url}/GetVectors`,s,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(br(a))return{data:null,error:a};throw a}}async listVectors(s){var t=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await yr(t.fetch,`${t.url}/ListVectors`,s,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(br(a))return{data:null,error:a};throw a}}async queryVectors(s){var t=this;try{return{data:await yr(t.fetch,`${t.url}/QueryVectors`,s,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(br(a))return{data:null,error:a};throw a}}async deleteVectors(s){var t=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await yr(t.fetch,`${t.url}/DeleteVectors`,s,{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(br(a))return{data:null,error:a};throw a}}},ex=class{constructor(s,t={},a){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=pe(pe({},lh),t),this.fetch=ch(a)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var t=this;try{return{data:await yr(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(br(a))return{data:null,error:a};throw a}}async getBucket(s){var t=this;try{return{data:await yr(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:s},{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(br(a))return{data:null,error:a};throw a}}async listBuckets(s={}){var t=this;try{return{data:await yr(t.fetch,`${t.url}/ListVectorBuckets`,s,{headers:t.headers}),error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(br(a))return{data:null,error:a};throw a}}async deleteBucket(s){var t=this;try{return{data:await yr(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:t.headers})||{},error:null}}catch(a){if(t.shouldThrowOnError)throw a;if(br(a))return{data:null,error:a};throw a}}},tx=class extends ex{constructor(s,t={}){super(s,t.headers||{},t.fetch)}from(s){return new rx(this.url,this.headers,s,this.fetch)}async createBucket(s){var t=()=>super.createBucket,a=this;return t().call(a,s)}async getBucket(s){var t=()=>super.getBucket,a=this;return t().call(a,s)}async listBuckets(s={}){var t=()=>super.listBuckets,a=this;return t().call(a,s)}async deleteBucket(s){var t=()=>super.deleteBucket,a=this;return t().call(a,s)}},rx=class extends X0{constructor(s,t,a,o){super(s,t,o),this.vectorBucketName=a}async createIndex(s){var t=()=>super.createIndex,a=this;return t().call(a,pe(pe({},s),{},{vectorBucketName:a.vectorBucketName}))}async listIndexes(s={}){var t=()=>super.listIndexes,a=this;return t().call(a,pe(pe({},s),{},{vectorBucketName:a.vectorBucketName}))}async getIndex(s){var t=()=>super.getIndex,a=this;return t().call(a,a.vectorBucketName,s)}async deleteIndex(s){var t=()=>super.deleteIndex,a=this;return t().call(a,a.vectorBucketName,s)}index(s){return new nx(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},nx=class extends Z0{constructor(s,t,a,o,d){super(s,t,d),this.vectorBucketName=a,this.indexName=o}async putVectors(s){var t=()=>super.putVectors,a=this;return t().call(a,pe(pe({},s),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async getVectors(s){var t=()=>super.getVectors,a=this;return t().call(a,pe(pe({},s),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async listVectors(s={}){var t=()=>super.listVectors,a=this;return t().call(a,pe(pe({},s),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async queryVectors(s){var t=()=>super.queryVectors,a=this;return t().call(a,pe(pe({},s),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}async deleteVectors(s){var t=()=>super.deleteVectors,a=this;return t().call(a,pe(pe({},s),{},{vectorBucketName:a.vectorBucketName,indexName:a.indexName}))}},sx=class extends V0{constructor(s,t={},a,o){super(s,t,a,o)}from(s){return new H0(this.url,this.headers,s,this.fetch)}get vectors(){return new tx(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new W0(this.url+"/iceberg",this.headers,this.fetch)}};const Af="2.90.0",ao=30*1e3,qu=3,Cu=qu*ao,ax="http://localhost:9999",ix="supabase.auth.token",ox={"X-Client-Info":`gotrue-js/${Af}`},Hu="X-Supabase-Api-Version",$f={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},lx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cx=10*60*1e3;class Il extends Error{constructor(t,a,o){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=o}}function oe(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class dx extends Il{constructor(t,a,o){super(t,a,o),this.name="AuthApiError",this.status=a,this.code=o}}function ux(s){return oe(s)&&s.name==="AuthApiError"}class Va extends Il{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class cs extends Il{constructor(t,a,o,d){super(t,o,d),this.name=a,this.status=o}}class xr extends cs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function hx(s){return oe(s)&&s.name==="AuthSessionMissingError"}class Zi extends cs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class id extends cs{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class od extends cs{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function px(s){return oe(s)&&s.name==="AuthImplicitGrantRedirectError"}class Fp extends cs{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class fx extends cs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Vu extends cs{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function Eu(s){return oe(s)&&s.name==="AuthRetryableFetchError"}class zp extends cs{constructor(t,a,o){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=o}}class Wu extends cs{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const ud="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Mp=` 	
\r=`.split(""),mx=(()=>{const s=new Array(128);for(let t=0;t<s.length;t+=1)s[t]=-1;for(let t=0;t<Mp.length;t+=1)s[Mp[t].charCodeAt(0)]=-2;for(let t=0;t<ud.length;t+=1)s[ud[t].charCodeAt(0)]=t;return s})();function qp(s,t,a){if(s!==null)for(t.queue=t.queue<<8|s,t.queuedBits+=8;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;a(ud[o]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const o=t.queue>>t.queuedBits-6&63;a(ud[o]),t.queuedBits-=6}}function Rf(s,t,a){const o=mx[s];if(o>-1)for(t.queue=t.queue<<6|o,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(o===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Hp(s){const t=[],a=p=>{t.push(String.fromCodePoint(p))},o={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},u=p=>{bx(p,o,a)};for(let p=0;p<s.length;p+=1)Rf(s.charCodeAt(p),d,u);return t.join("")}function gx(s,t){if(s<=127){t(s);return}else if(s<=2047){t(192|s>>6),t(128|s&63);return}else if(s<=65535){t(224|s>>12),t(128|s>>6&63),t(128|s&63);return}else if(s<=1114111){t(240|s>>18),t(128|s>>12&63),t(128|s>>6&63),t(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function xx(s,t){for(let a=0;a<s.length;a+=1){let o=s.charCodeAt(a);if(o>55295&&o<=56319){const d=(o-55296)*1024&65535;o=(s.charCodeAt(a+1)-56320&65535|d)+65536,a+=1}gx(o,t)}}function bx(s,t,a){if(t.utf8seq===0){if(s<=127){a(s);return}for(let o=1;o<6;o+=1)if(!(s>>7-o&1)){t.utf8seq=o;break}if(t.utf8seq===2)t.codepoint=s&31;else if(t.utf8seq===3)t.codepoint=s&15;else if(t.utf8seq===4)t.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|s&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function lo(s){const t=[],a={queue:0,queuedBits:0},o=d=>{t.push(d)};for(let d=0;d<s.length;d+=1)Rf(s.charCodeAt(d),a,o);return new Uint8Array(t)}function yx(s){const t=[];return xx(s,a=>t.push(a)),new Uint8Array(t)}function Wa(s){const t=[],a={queue:0,queuedBits:0},o=d=>{t.push(d)};return s.forEach(d=>qp(d,a,o)),qp(null,a,o),t.join("")}function vx(s){return Math.round(Date.now()/1e3)+s}function wx(){return Symbol("auth-callback")}const Rt=()=>typeof window<"u"&&typeof document<"u",za={tested:!1,writable:!1},Pf=()=>{if(!Rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(za.tested)return za.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),za.tested=!0,za.writable=!0}catch{za.tested=!0,za.writable=!1}return za.writable};function _x(s){const t={},a=new URL(s);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((d,u)=>{t[u]=d})}catch{}return a.searchParams.forEach((o,d)=>{t[d]=o}),t}const If=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),jx=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",io=async(s,t,a)=>{await s.setItem(t,JSON.stringify(a))},Ma=async(s,t)=>{const a=await s.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},$t=async(s,t)=>{await s.removeItem(t)};class vd{constructor(){this.promise=new vd.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}vd.promiseConstructor=Promise;function Tu(s){const t=s.split(".");if(t.length!==3)throw new Wu("Invalid JWT structure");for(let o=0;o<t.length;o++)if(!lx.test(t[o]))throw new Wu("JWT not in base64url format");return{header:JSON.parse(Hp(t[0])),payload:JSON.parse(Hp(t[1])),signature:lo(t[2]),raw:{header:t[0],payload:t[1]}}}async function Sx(s){return await new Promise(t=>{setTimeout(()=>t(null),s)})}function kx(s,t){return new Promise((o,d)=>{(async()=>{for(let u=0;u<1/0;u++)try{const p=await s(u);if(!t(u,null,p)){o(p);return}}catch(p){if(!t(u,p)){d(p);return}}})()})}function Nx(s){return("0"+s.toString(16)).substr(-2)}function Cx(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",o=a.length;let d="";for(let u=0;u<56;u++)d+=a.charAt(Math.floor(Math.random()*o));return d}return crypto.getRandomValues(t),Array.from(t,Nx).join("")}async function Ex(s){const a=new TextEncoder().encode(s),o=await crypto.subtle.digest("SHA-256",a),d=new Uint8Array(o);return Array.from(d).map(u=>String.fromCharCode(u)).join("")}async function Tx(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const a=await Ex(s);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function eo(s,t,a=!1){const o=Cx();let d=o;a&&(d+="/PASSWORD_RECOVERY"),await io(s,`${t}-code-verifier`,d);const u=await Tx(o);return[u,o===u?"plain":"s256"]}const Ax=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function $x(s){const t=s.headers.get(Hu);if(!t||!t.match(Ax))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Rx(s){if(!s)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(s<=t)throw new Error("JWT has expired")}function Px(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Ix=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function to(s){if(!Ix.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Au(){const s={};return new Proxy(s,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const o=a.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Ox(s,t){return new Proxy(s,{get:(a,o,d)=>{if(o==="__isInsecureUserWarningProxy")return!0;if(typeof o=="symbol"){const u=o.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(a,o,d)}return!t.value&&typeof o=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(a,o,d)}})}function Vp(s){return JSON.parse(JSON.stringify(s))}const qa=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Dx=[502,503,504];async function Wp(s){var t;if(!jx(s))throw new Vu(qa(s),0);if(Dx.includes(s.status))throw new Vu(qa(s),s.status);let a;try{a=await s.json()}catch(u){throw new Va(qa(u),u)}let o;const d=$x(s);if(d&&d.getTime()>=$f["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?o=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(o=a.error_code),o){if(o==="weak_password")throw new zp(qa(a),s.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(o==="session_not_found")throw new xr}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((u,p)=>u&&typeof p=="string",!0))throw new zp(qa(a),s.status,a.weak_password.reasons);throw new dx(qa(a),s.status||500,o)}const Lx=(s,t,a,o)=>{const d={method:s,headers:(t==null?void 0:t.headers)||{}};return s==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),d.body=JSON.stringify(o),Object.assign(Object.assign({},d),a))};async function he(s,t,a,o){var d;const u=Object.assign({},o==null?void 0:o.headers);u[Hu]||(u[Hu]=$f["2024-01-01"].name),o!=null&&o.jwt&&(u.Authorization=`Bearer ${o.jwt}`);const p=(d=o==null?void 0:o.query)!==null&&d!==void 0?d:{};o!=null&&o.redirectTo&&(p.redirect_to=o.redirectTo);const g=Object.keys(p).length?"?"+new URLSearchParams(p).toString():"",x=await Bx(s,t,a+g,{headers:u,noResolveJson:o==null?void 0:o.noResolveJson},{},o==null?void 0:o.body);return o!=null&&o.xform?o==null?void 0:o.xform(x):{data:Object.assign({},x),error:null}}async function Bx(s,t,a,o,d,u){const p=Lx(t,o,d,u);let g;try{g=await s(a,Object.assign({},p))}catch(x){throw console.error(x),new Vu(qa(x),0)}if(g.ok||await Wp(g),o!=null&&o.noResolveJson)return g;try{return await g.json()}catch(x){await Wp(x)}}function an(s){var t;let a=null;zx(s)&&(a=Object.assign({},s),s.expires_at||(a.expires_at=vx(s.expires_in)));const o=(t=s.user)!==null&&t!==void 0?t:s;return{data:{session:a,user:o},error:null}}function Gp(s){const t=an(s);return!t.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((a,o)=>a&&typeof o=="string",!0)&&(t.data.weak_password=s.weak_password),t}function Xs(s){var t;return{data:{user:(t=s.user)!==null&&t!==void 0?t:s},error:null}}function Ux(s){return{data:s,error:null}}function Fx(s){const{action_link:t,email_otp:a,hashed_token:o,redirect_to:d,verification_type:u}=s,p=bd(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),g={action_link:t,email_otp:a,hashed_token:o,redirect_to:d,verification_type:u},x=Object.assign({},p);return{data:{properties:g,user:x},error:null}}function Kp(s){return s}function zx(s){return s.access_token&&s.refresh_token&&s.expires_in}const $u=["global","local","others"];class Mx{constructor({url:t="",headers:a={},fetch:o}){this.url=t,this.headers=a,this.fetch=If(o),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,a=$u[0]){if($u.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${$u.join(", ")}`);try{return await he(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(o){if(oe(o))return{data:null,error:o};throw o}}async inviteUserByEmail(t,a={}){try{return await he(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Xs})}catch(o){if(oe(o))return{data:{user:null},error:o};throw o}}async generateLink(t){try{const{options:a}=t,o=bd(t,["options"]),d=Object.assign(Object.assign({},o),a);return"newEmail"in o&&(d.new_email=o==null?void 0:o.newEmail,delete d.newEmail),await he(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:Fx,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(oe(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await he(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Xs})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,o,d,u,p,g,x;try{const b={nextPage:null,lastPage:0,total:0},_=await he(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:"",per_page:(u=(d=t==null?void 0:t.perPage)===null||d===void 0?void 0:d.toString())!==null&&u!==void 0?u:""},xform:Kp});if(_.error)throw _.error;const f=await _.json(),j=(p=_.headers.get("x-total-count"))!==null&&p!==void 0?p:0,k=(x=(g=_.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&x!==void 0?x:[];return k.length>0&&(k.forEach(N=>{const S=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(N.split(";")[1].split("=")[1]);b[`${A}Page`]=S}),b.total=parseInt(j)),{data:Object.assign(Object.assign({},f),b),error:null}}catch(b){if(oe(b))return{data:{users:[]},error:b};throw b}}async getUserById(t){to(t);try{return await he(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Xs})}catch(a){if(oe(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){to(t);try{return await he(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:Xs})}catch(o){if(oe(o))return{data:{user:null},error:o};throw o}}async deleteUser(t,a=!1){to(t);try{return await he(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:Xs})}catch(o){if(oe(o))return{data:{user:null},error:o};throw o}}async _listFactors(t){to(t.userId);try{const{data:a,error:o}=await he(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:a,error:o}}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _deleteFactor(t){to(t.userId),to(t.id);try{return{data:await he(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _listOAuthClients(t){var a,o,d,u,p,g,x;try{const b={nextPage:null,lastPage:0,total:0},_=await he(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(o=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&o!==void 0?o:"",per_page:(u=(d=t==null?void 0:t.perPage)===null||d===void 0?void 0:d.toString())!==null&&u!==void 0?u:""},xform:Kp});if(_.error)throw _.error;const f=await _.json(),j=(p=_.headers.get("x-total-count"))!==null&&p!==void 0?p:0,k=(x=(g=_.headers.get("link"))===null||g===void 0?void 0:g.split(","))!==null&&x!==void 0?x:[];return k.length>0&&(k.forEach(N=>{const S=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),A=JSON.parse(N.split(";")[1].split("=")[1]);b[`${A}Page`]=S}),b.total=parseInt(j)),{data:Object.assign(Object.assign({},f),b),error:null}}catch(b){if(oe(b))return{data:{clients:[]},error:b};throw b}}async _createOAuthClient(t){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _getOAuthClient(t){try{return await he(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _updateOAuthClient(t,a){try{return await he(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:a,headers:this.headers,xform:o=>({data:o,error:null})})}catch(o){if(oe(o))return{data:null,error:o};throw o}}async _deleteOAuthClient(t){try{return await he(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(a){if(oe(a))return{data:null,error:a};throw a}}async _regenerateOAuthClientSecret(t){try{return await he(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(oe(a))return{data:null,error:a};throw a}}}function Jp(s={}){return{getItem:t=>s[t]||null,setItem:(t,a)=>{s[t]=a},removeItem:t=>{delete s[t]}}}const ro={debug:!!(globalThis&&Pf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Of extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class qx extends Of{}async function Hx(s,t,a){ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,t);const o=new globalThis.AbortController;return t>0&&setTimeout(()=>{o.abort(),ro.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:o.signal},async d=>{if(d){ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,d.name);try{return await a()}finally{ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,d.name)}}else{if(t===0)throw ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new qx(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(ro.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}function Vx(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Df(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function Wx(s){return parseInt(s,16)}function Gx(s){const t=new TextEncoder().encode(s);return"0x"+Array.from(t,o=>o.toString(16).padStart(2,"0")).join("")}function Kx(s){var t;const{chainId:a,domain:o,expirationTime:d,issuedAt:u=new Date,nonce:p,notBefore:g,requestId:x,resources:b,scheme:_,uri:f,version:j}=s;{if(!Number.isInteger(a))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${a}`);if(!o)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(p&&p.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${p}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((t=s.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const k=Df(s.address),N=_?`${_}://${o}`:o,S=s.statement?`${s.statement}
`:"",A=`${N} wants you to sign in with your Ethereum account:
${k}

${S}`;let P=`URI: ${f}
Version: ${j}
Chain ID: ${a}${p?`
Nonce: ${p}`:""}
Issued At: ${u.toISOString()}`;if(d&&(P+=`
Expiration Time: ${d.toISOString()}`),g&&(P+=`
Not Before: ${g.toISOString()}`),x&&(P+=`
Request ID: ${x}`),b){let O=`
Resources:`;for(const E of b){if(!E||typeof E!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${E}`);O+=`
- ${E}`}P+=O}return`${A}
${P}`}class pt extends Error{constructor({message:t,code:a,cause:o,name:d}){var u;super(t,{cause:o}),this.__isWebAuthnError=!0,this.name=(u=d??(o instanceof Error?o.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=a}}class hd extends pt{constructor(t,a){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:a,message:t}),this.name="WebAuthnUnknownError",this.originalError=a}}function Jx({error:s,options:t}){var a,o,d;const{publicKey:u}=t;if(!u)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(t.signal instanceof AbortSignal)return new pt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((a=u.authenticatorSelection)===null||a===void 0?void 0:a.requireResidentKey)===!0)return new pt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(t.mediation==="conditional"&&((o=u.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new pt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((d=u.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new pt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new pt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new pt({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return u.pubKeyCredParams.filter(g=>g.type==="public-key").length===0?new pt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new pt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const p=window.location.hostname;if(Lf(p)){if(u.rp.id!==p)return new pt({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new pt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new pt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function Qx({error:s,options:t}){const{publicKey:a}=t;if(!a)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(t.signal instanceof AbortSignal)return new pt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new pt({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const o=window.location.hostname;if(Lf(o)){if(a.rpId!==o)return new pt({message:`The RP ID "${a.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new pt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new pt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new pt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class Yx{createNewAbortSignal(){if(this.controller){const a=new Error("Cancelling existing WebAuthn API call for new one");a.name="AbortError",this.controller.abort(a)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Xx=new Yx;function Zx(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:t,user:a,excludeCredentials:o}=s,d=bd(s,["challenge","user","excludeCredentials"]),u=lo(t).buffer,p=Object.assign(Object.assign({},a),{id:lo(a.id).buffer}),g=Object.assign(Object.assign({},d),{challenge:u,user:p});if(o&&o.length>0){g.excludeCredentials=new Array(o.length);for(let x=0;x<o.length;x++){const b=o[x];g.excludeCredentials[x]=Object.assign(Object.assign({},b),{id:lo(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return g}function eb(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:t,allowCredentials:a}=s,o=bd(s,["challenge","allowCredentials"]),d=lo(t).buffer,u=Object.assign(Object.assign({},o),{challenge:d});if(a&&a.length>0){u.allowCredentials=new Array(a.length);for(let p=0;p<a.length;p++){const g=a[p];u.allowCredentials[p]=Object.assign(Object.assign({},g),{id:lo(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return u}function tb(s){var t;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const a=s;return{id:s.id,rawId:s.id,response:{attestationObject:Wa(new Uint8Array(s.response.attestationObject)),clientDataJSON:Wa(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function rb(s){var t;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const a=s,o=s.getClientExtensionResults(),d=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Wa(new Uint8Array(d.authenticatorData)),clientDataJSON:Wa(new Uint8Array(d.clientDataJSON)),signature:Wa(new Uint8Array(d.signature)),userHandle:d.userHandle?Wa(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:o,authenticatorAttachment:(t=a.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Lf(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Qp(){var s,t;return!!(Rt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function nb(s){try{const t=await navigator.credentials.create(s);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hd("Browser returned unexpected credential type",t)}:{data:null,error:new hd("Empty credential response",t)}}catch(t){return{data:null,error:Jx({error:t,options:s})}}}async function sb(s){try{const t=await navigator.credentials.get(s);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new hd("Browser returned unexpected credential type",t)}:{data:null,error:new hd("Empty credential response",t)}}catch(t){return{data:null,error:Qx({error:t,options:s})}}}const ab={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ib={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function pd(...s){const t=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),a=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),o={};for(const d of s)if(d)for(const u in d){const p=d[u];if(p!==void 0)if(Array.isArray(p))o[u]=p;else if(a(p))o[u]=p;else if(t(p)){const g=o[u];t(g)?o[u]=pd(g,p):o[u]=pd(p)}else o[u]=p}return o}function ob(s,t){return pd(ab,s,t||{})}function lb(s,t){return pd(ib,s,t||{})}class cb{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:a,friendlyName:o,signal:d},u){try{const{data:p,error:g}=await this.client.mfa.challenge({factorId:t,webauthn:a});if(!p)return{data:null,error:g};const x=d??Xx.createNewAbortSignal();if(p.webauthn.type==="create"){const{user:b}=p.webauthn.credential_options.publicKey;b.name||(b.name=`${b.id}:${o}`),b.displayName||(b.displayName=b.name)}switch(p.webauthn.type){case"create":{const b=ob(p.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:_,error:f}=await nb({publicKey:b,signal:x});return _?{data:{factorId:t,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:_}},error:null}:{data:null,error:f}}case"request":{const b=lb(p.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:_,error:f}=await sb(Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:b,signal:x}));return _?{data:{factorId:t,challengeId:p.id,webauthn:{type:p.webauthn.type,credential_response:_}},error:null}:{data:null,error:f}}}}catch(p){return oe(p)?{data:null,error:p}:{data:null,error:new Va("Unexpected error in challenge",p)}}}async _verify({challengeId:t,factorId:a,webauthn:o}){return this.client.mfa.verify({factorId:a,challengeId:t,webauthn:o})}async _authenticate({factorId:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},u){if(!a)return{data:null,error:new Il("rpId is required for WebAuthn authentication")};try{if(!Qp())return{data:null,error:new Va("Browser does not support WebAuthn",null)};const{data:p,error:g}=await this.challenge({factorId:t,webauthn:{rpId:a,rpOrigins:o},signal:d},{request:u});if(!p)return{data:null,error:g};const{webauthn:x}=p;return this._verify({factorId:t,challengeId:p.challengeId,webauthn:{type:x.type,rpId:a,rpOrigins:o,credential_response:x.credential_response}})}catch(p){return oe(p)?{data:null,error:p}:{data:null,error:new Va("Unexpected error in authenticate",p)}}}async _register({friendlyName:t,webauthn:{rpId:a=typeof window<"u"?window.location.hostname:void 0,rpOrigins:o=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},u){if(!a)return{data:null,error:new Il("rpId is required for WebAuthn registration")};try{if(!Qp())return{data:null,error:new Va("Browser does not support WebAuthn",null)};const{data:p,error:g}=await this._enroll({friendlyName:t});if(!p)return await this.client.mfa.listFactors().then(_=>{var f;return(f=_.data)===null||f===void 0?void 0:f.all.find(j=>j.factor_type==="webauthn"&&j.friendly_name===t&&j.status!=="unverified")}).then(_=>_?this.client.mfa.unenroll({factorId:_==null?void 0:_.id}):void 0),{data:null,error:g};const{data:x,error:b}=await this._challenge({factorId:p.id,friendlyName:p.friendly_name,webauthn:{rpId:a,rpOrigins:o},signal:d},{create:u});return x?this._verify({factorId:p.id,challengeId:x.challengeId,webauthn:{rpId:a,rpOrigins:o,type:x.webauthn.type,credential_response:x.webauthn.credential_response}}):{data:null,error:b}}catch(p){return oe(p)?{data:null,error:p}:{data:null,error:new Va("Unexpected error in register",p)}}}}Vx();const db={url:ax,storageKey:ix,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ox,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Yp(s,t,a){return await a()}const no={};class Ol{get jwks(){var t,a;return(a=(t=no[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){no[this.storageKey]=Object.assign(Object.assign({},no[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=no[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){no[this.storageKey]=Object.assign(Object.assign({},no[this.storageKey]),{cachedAt:t})}constructor(t){var a,o,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},db),t);if(this.storageKey=u.storageKey,this.instanceID=(a=Ol.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,Ol.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&Rt()){const p=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(p),this.logDebugMessages&&console.trace(p)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Mx({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=If(u.fetch),this.lock=u.lock||Yp,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,this.lockAcquireTimeout=u.lockAcquireTimeout,u.lock?this.lock=u.lock:this.persistSession&&Rt()&&(!((o=globalThis==null?void 0:globalThis.navigator)===null||o===void 0)&&o.locks)?this.lock=Hx:this.lock=Yp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new cb(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:Pf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Jp(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=Jp(this.memoryStorage)),Rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(p){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",p)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async p=>{this._debug("received broadcast notification from other tab or client",p),await this._notifyAllSubscribers(p.data.event,p.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Af}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let a={},o="none";if(Rt()&&(a=_x(window.location.href),this._isImplicitGrantCallback(a)?o="implicit":await this._isPKCECallback(a)&&(o="pkce")),Rt()&&this.detectSessionInUrl&&o!=="none"){const{data:d,error:u}=await this._getSessionFromURL(a,o);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),px(u)){const x=(t=u.details)===null||t===void 0?void 0:t.code;if(x==="identity_already_exists"||x==="identity_not_found"||x==="single_identity_not_deletable")return{error:u}}return{error:u}}const{session:p,redirectType:g}=d;return this._debug("#_initialize()","detected session in URL",p,"redirect type",g),await this._saveSession(p),setTimeout(async()=>{g==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",p):await this._notifyAllSubscribers("SIGNED_IN",p)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return oe(a)?this._returnResult({error:a}):this._returnResult({error:new Va("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,o,d;try{const u=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(o=(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.data)!==null&&o!==void 0?o:{},gotrue_meta_security:{captcha_token:(d=t==null?void 0:t.options)===null||d===void 0?void 0:d.captchaToken}},xform:an}),{data:p,error:g}=u;if(g||!p)return this._returnResult({data:{user:null,session:null},error:g});const x=p.session,b=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",x)),this._returnResult({data:{user:b,session:x},error:null})}catch(u){if(oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(t){var a,o,d;try{let u;if("email"in t){const{email:_,password:f,options:j}=t;let k=null,N=null;this.flowType==="pkce"&&([k,N]=await eo(this.storage,this.storageKey)),u=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j==null?void 0:j.emailRedirectTo,body:{email:_,password:f,data:(a=j==null?void 0:j.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:k,code_challenge_method:N},xform:an})}else if("phone"in t){const{phone:_,password:f,options:j}=t;u=await he(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:_,password:f,data:(o=j==null?void 0:j.data)!==null&&o!==void 0?o:{},channel:(d=j==null?void 0:j.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken}},xform:an})}else throw new id("You must provide either an email or phone number and a password");const{data:p,error:g}=u;if(g||!p)return await $t(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:g});const x=p.session,b=p.user;return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",x)),this._returnResult({data:{user:b,session:x},error:null})}catch(u){if(await $t(this.storage,`${this.storageKey}-code-verifier`),oe(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(t){try{let a;if("email"in t){const{email:u,password:p,options:g}=t;a=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:p,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Gp})}else if("phone"in t){const{phone:u,password:p,options:g}=t;a=await he(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:p,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Gp})}else throw new id("You must provide either an email or phone number and a password");const{data:o,error:d}=a;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!o||!o.session||!o.user){const u=new Zi;return this._returnResult({data:{user:null,session:null},error:u})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign({user:o.user,session:o.session},o.weak_password?{weakPassword:o.weak_password}:null),error:d})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(t){var a,o,d,u;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=t.options)===null||o===void 0?void 0:o.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(u=t.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;switch(a){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(t){var a,o,d,u,p,g,x,b,_,f,j;let k,N;if("message"in t)k=t.message,N=t.signature;else{const{chain:S,wallet:A,statement:P,options:O}=t;let E;if(Rt())if(typeof A=="object")E=A;else{const re=window;if("ethereum"in re&&typeof re.ethereum=="object"&&"request"in re.ethereum&&typeof re.ethereum.request=="function")E=re.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(O!=null&&O.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=A}const U=new URL((a=O==null?void 0:O.url)!==null&&a!==void 0?a:window.location.href),$=await E.request({method:"eth_requestAccounts"}).then(re=>re).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=Df($[0]);let H=(o=O==null?void 0:O.signInWithEthereum)===null||o===void 0?void 0:o.chainId;if(!H){const re=await E.request({method:"eth_chainId"});H=Wx(re)}const G={domain:U.host,address:B,statement:P,uri:U.href,version:"1",chainId:H,nonce:(d=O==null?void 0:O.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(p=(u=O==null?void 0:O.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&p!==void 0?p:new Date,expirationTime:(g=O==null?void 0:O.signInWithEthereum)===null||g===void 0?void 0:g.expirationTime,notBefore:(x=O==null?void 0:O.signInWithEthereum)===null||x===void 0?void 0:x.notBefore,requestId:(b=O==null?void 0:O.signInWithEthereum)===null||b===void 0?void 0:b.requestId,resources:(_=O==null?void 0:O.signInWithEthereum)===null||_===void 0?void 0:_.resources};k=Kx(G),N=await E.request({method:"personal_sign",params:[Gx(k),B]})}try{const{data:S,error:A}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:k,signature:N},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(j=t.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:an});if(A)throw A;if(!S||!S.session||!S.user){const P=new Zi;return this._returnResult({data:{user:null,session:null},error:P})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:A})}catch(S){if(oe(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(t){var a,o,d,u,p,g,x,b,_,f,j,k;let N,S;if("message"in t)N=t.message,S=t.signature;else{const{chain:A,wallet:P,statement:O,options:E}=t;let U;if(Rt())if(typeof P=="object")U=P;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))U=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(E!=null&&E.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");U=P}const $=new URL((a=E==null?void 0:E.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in U&&U.signIn){const B=await U.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},E==null?void 0:E.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),O?{statement:O}:null));let H;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")H=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)H=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in H&&"signature"in H&&(typeof H.signedMessage=="string"||H.signedMessage instanceof Uint8Array)&&H.signature instanceof Uint8Array)N=typeof H.signedMessage=="string"?H.signedMessage:new TextDecoder().decode(H.signedMessage),S=H.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in U)||typeof U.signMessage!="function"||!("publicKey"in U)||typeof U!="object"||!U.publicKey||!("toBase58"in U.publicKey)||typeof U.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${$.host} wants you to sign in with your Solana account:`,U.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(d=(o=E==null?void 0:E.signInWithSolana)===null||o===void 0?void 0:o.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((u=E==null?void 0:E.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${E.signInWithSolana.notBefore}`]:[],...!((p=E==null?void 0:E.signInWithSolana)===null||p===void 0)&&p.expirationTime?[`Expiration Time: ${E.signInWithSolana.expirationTime}`]:[],...!((g=E==null?void 0:E.signInWithSolana)===null||g===void 0)&&g.chainId?[`Chain ID: ${E.signInWithSolana.chainId}`]:[],...!((x=E==null?void 0:E.signInWithSolana)===null||x===void 0)&&x.nonce?[`Nonce: ${E.signInWithSolana.nonce}`]:[],...!((b=E==null?void 0:E.signInWithSolana)===null||b===void 0)&&b.requestId?[`Request ID: ${E.signInWithSolana.requestId}`]:[],...!((f=(_=E==null?void 0:E.signInWithSolana)===null||_===void 0?void 0:_.resources)===null||f===void 0)&&f.length?["Resources",...E.signInWithSolana.resources.map(H=>`- ${H}`)]:[]].join(`
`);const B=await U.signMessage(new TextEncoder().encode(N),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=B}}try{const{data:A,error:P}=await he(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:Wa(S)},!((j=t.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(k=t.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:an});if(P)throw P;if(!A||!A.session||!A.user){const O=new Zi;return this._returnResult({data:{user:null,session:null},error:O})}return A.session&&(await this._saveSession(A.session),await this._notifyAllSubscribers("SIGNED_IN",A.session)),this._returnResult({data:Object.assign({},A),error:P})}catch(A){if(oe(A))return this._returnResult({data:{user:null,session:null},error:A});throw A}}async _exchangeCodeForSession(t){const a=await Ma(this.storage,`${this.storageKey}-code-verifier`),[o,d]=(a??"").split("/");try{if(!o&&this.flowType==="pkce")throw new fx;const{data:u,error:p}=await he(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:o},xform:an});if(await $t(this.storage,`${this.storageKey}-code-verifier`),p)throw p;if(!u||!u.session||!u.user){const g=new Zi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:g})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:d??null}),error:p})}catch(u){if(await $t(this.storage,`${this.storageKey}-code-verifier`),oe(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(t){try{const{options:a,provider:o,token:d,access_token:u,nonce:p}=t,g=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:o,id_token:d,access_token:u,nonce:p,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:an}),{data:x,error:b}=g;if(b)return this._returnResult({data:{user:null,session:null},error:b});if(!x||!x.session||!x.user){const _=new Zi;return this._returnResult({data:{user:null,session:null},error:_})}return x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("SIGNED_IN",x.session)),this._returnResult({data:x,error:b})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(t){var a,o,d,u,p;try{if("email"in t){const{email:g,options:x}=t;let b=null,_=null;this.flowType==="pkce"&&([b,_]=await eo(this.storage,this.storageKey));const{error:f}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:g,data:(a=x==null?void 0:x.data)!==null&&a!==void 0?a:{},create_user:(o=x==null?void 0:x.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:b,code_challenge_method:_},redirectTo:x==null?void 0:x.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:g,options:x}=t,{data:b,error:_}=await he(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:g,data:(d=x==null?void 0:x.data)!==null&&d!==void 0?d:{},create_user:(u=x==null?void 0:x.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},channel:(p=x==null?void 0:x.channel)!==null&&p!==void 0?p:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:b==null?void 0:b.message_id},error:_})}throw new id("You must provide either an email or phone number.")}catch(g){if(await $t(this.storage,`${this.storageKey}-code-verifier`),oe(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async verifyOtp(t){var a,o;try{let d,u;"options"in t&&(d=(a=t.options)===null||a===void 0?void 0:a.redirectTo,u=(o=t.options)===null||o===void 0?void 0:o.captchaToken);const{data:p,error:g}=await he(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:u}}),redirectTo:d,xform:an});if(g)throw g;if(!p)throw new Error("An error occurred on token verification.");const x=p.session,b=p.user;return x!=null&&x.access_token&&(await this._saveSession(x),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",x)),this._returnResult({data:{user:b,session:x},error:null})}catch(d){if(oe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(t){var a,o,d,u,p;try{let g=null,x=null;this.flowType==="pkce"&&([g,x]=await eo(this.storage,this.storageKey));const b=await he(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(o=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&o!==void 0?o:void 0}),!((d=t==null?void 0:t.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:g,code_challenge_method:x}),headers:this.headers,xform:Ux});return!((u=b.data)===null||u===void 0)&&u.url&&Rt()&&!(!((p=t.options)===null||p===void 0)&&p.skipBrowserRedirect)&&window.location.assign(b.data.url),this._returnResult(b)}catch(g){if(await $t(this.storage,`${this.storageKey}-code-verifier`),oe(g))return this._returnResult({data:null,error:g});throw g}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:o}=t;if(o)throw o;if(!a)throw new xr;const{error:d}=await he(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(t){if(oe(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:o,type:d,options:u}=t,{error:p}=await he(this.fetch,"POST",a,{headers:this.headers,body:{email:o,type:d,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}else if("phone"in t){const{phone:o,type:d,options:u}=t,{data:p,error:g}=await he(this.fetch,"POST",a,{headers:this.headers,body:{phone:o,type:d,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:g})}throw new id("You must provide either an email or phone number and a type")}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const o=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await o,await a()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const o=a();for(this.pendingInLock.push((async()=>{try{await o}catch{}})()),await o;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await o}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await Ma(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const o=t.expires_at?t.expires_at*1e3-Date.now()<Cu:!1;if(this._debug("#__loadSession()",`session has${o?"":" not"} expired`,"expires_at",t.expires_at),!o){if(this.userStorage){const p=await Ma(this.userStorage,this.storageKey+"-user");p!=null&&p.user?t.user=p.user:t.user=Au()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const p={value:this.suppressGetSessionWarning};t.user=Ox(t.user,p),p.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:d,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const a=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return a.data.user&&(this.suppressGetSessionWarning=!0),a}async _getUser(t){try{return t?await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Xs}):await this._useSession(async a=>{var o,d,u;const{data:p,error:g}=a;if(g)throw g;return!(!((o=p.session)===null||o===void 0)&&o.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new xr}:await he(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0,xform:Xs})})}catch(a){if(oe(a))return hx(a)&&(await this._removeSession(),await $t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async o=>{const{data:d,error:u}=o;if(u)throw u;if(!d.session)throw new xr;const p=d.session;let g=null,x=null;this.flowType==="pkce"&&t.email!=null&&([g,x]=await eo(this.storage,this.storageKey));const{data:b,error:_}=await he(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:g,code_challenge_method:x}),jwt:p.access_token,xform:Xs});if(_)throw _;return p.user=b.user,await this._saveSession(p),await this._notifyAllSubscribers("USER_UPDATED",p),this._returnResult({data:{user:p.user},error:null})})}catch(o){if(await $t(this.storage,`${this.storageKey}-code-verifier`),oe(o))return this._returnResult({data:{user:null},error:o});throw o}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new xr;const a=Date.now()/1e3;let o=a,d=!0,u=null;const{payload:p}=Tu(t.access_token);if(p.exp&&(o=p.exp,d=o<=a),d){const{data:g,error:x}=await this._callRefreshToken(t.refresh_token);if(x)return this._returnResult({data:{user:null,session:null},error:x});if(!g)return{data:{user:null,session:null},error:null};u=g}else{const{data:g,error:x}=await this._getUser(t.access_token);if(x)throw x;u={access_token:t.access_token,refresh_token:t.refresh_token,user:g.user,token_type:"bearer",expires_in:o-a,expires_at:o},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(a){if(oe(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var o;if(!t){const{data:p,error:g}=a;if(g)throw g;t=(o=p.session)!==null&&o!==void 0?o:void 0}if(!(t!=null&&t.refresh_token))throw new xr;const{data:d,error:u}=await this._callRefreshToken(t.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(oe(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(t,a){try{if(!Rt())throw new od("No browser detected.");if(t.error||t.error_description||t.error_code)throw new od(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Fp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new od("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Fp("No code detected.");const{data:O,error:E}=await this._exchangeCodeForSession(t.code);if(E)throw E;const U=new URL(window.location.href);return U.searchParams.delete("code"),window.history.replaceState(window.history.state,"",U.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:o,provider_refresh_token:d,access_token:u,refresh_token:p,expires_in:g,expires_at:x,token_type:b}=t;if(!u||!g||!p||!b)throw new od("No session defined in URL");const _=Math.round(Date.now()/1e3),f=parseInt(g);let j=_+f;x&&(j=parseInt(x));const k=j-_;k*1e3<=ao&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${f}s`);const N=j-f;_-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,j,_):_-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,j,_);const{data:S,error:A}=await this._getUser(u);if(A)throw A;const P={provider_token:o,provider_refresh_token:d,access_token:u,expires_in:f,expires_at:j,refresh_token:p,token_type:b,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:P,redirectType:t.type},error:null})}catch(o){if(oe(o))return this._returnResult({data:{session:null,redirectType:null},error:o});throw o}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await Ma(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var o;const{data:d,error:u}=a;if(u)return this._returnResult({error:u});const p=(o=d.session)===null||o===void 0?void 0:o.access_token;if(p){const{error:g}=await this.admin.signOut(p,t);if(g&&!(ux(g)&&(g.status===404||g.status===401||g.status===403)))return this._returnResult({error:g})}return t!=="others"&&(await this._removeSession(),await $t(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const a=wx(),o={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,o),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:o}}}async _emitInitialSession(t){return await this._useSession(async a=>{var o,d;try{const{data:{session:u},error:p}=a;if(p)throw p;await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",t,"session",u)}catch(u){await((d=this.stateChangeEmitters.get(t))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",u),console.error(u)}})}async resetPasswordForEmail(t,a={}){let o=null,d=null;this.flowType==="pkce"&&([o,d]=await eo(this.storage,this.storageKey,!0));try{return await he(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:o,code_challenge_method:d,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(u){if(await $t(this.storage,`${this.storageKey}-code-verifier`),oe(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var t;try{const{data:a,error:o}=await this.getUser();if(o)throw o;return this._returnResult({data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var a;try{const{data:o,error:d}=await this._useSession(async u=>{var p,g,x,b,_;const{data:f,error:j}=u;if(j)throw j;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(p=t.options)===null||p===void 0?void 0:p.redirectTo,scopes:(g=t.options)===null||g===void 0?void 0:g.scopes,queryParams:(x=t.options)===null||x===void 0?void 0:x.queryParams,skipBrowserRedirect:!0});return await he(this.fetch,"GET",k,{headers:this.headers,jwt:(_=(b=f.session)===null||b===void 0?void 0:b.access_token)!==null&&_!==void 0?_:void 0})});if(d)throw d;return Rt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(o==null?void 0:o.url),this._returnResult({data:{provider:t.provider,url:o==null?void 0:o.url},error:null})}catch(o){if(oe(o))return this._returnResult({data:{provider:t.provider,url:null},error:o});throw o}}async linkIdentityIdToken(t){return await this._useSession(async a=>{var o;try{const{error:d,data:{session:u}}=a;if(d)throw d;const{options:p,provider:g,token:x,access_token:b,nonce:_}=t,f=await he(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(o=u==null?void 0:u.access_token)!==null&&o!==void 0?o:void 0,body:{provider:g,id_token:x,access_token:b,nonce:_,link_identity:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:an}),{data:j,error:k}=f;return k?this._returnResult({data:{user:null,session:null},error:k}):!j||!j.session||!j.user?this._returnResult({data:{user:null,session:null},error:new Zi}):(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("USER_UPDATED",j.session)),this._returnResult({data:j,error:k}))}catch(d){if(await $t(this.storage,`${this.storageKey}-code-verifier`),oe(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(t){try{return await this._useSession(async a=>{var o,d;const{data:u,error:p}=a;if(p)throw p;return await he(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(d=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&d!==void 0?d:void 0})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const o=Date.now();return await kx(async d=>(d>0&&await Sx(200*Math.pow(2,d-1)),this._debug(a,"refreshing attempt",d),await he(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:an})),(d,u)=>{const p=200*Math.pow(2,d);return u&&Eu(u)&&Date.now()+p-o<ao})}catch(o){if(this._debug(a,"error",o),oe(o))return this._returnResult({data:{session:null,user:null},error:o});throw o}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const o=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",o),Rt()&&!a.skipBrowserRedirect&&window.location.assign(o),{data:{provider:t,url:o},error:null}}async _recoverAndRefresh(){var t,a;const o="#_recoverAndRefresh()";this._debug(o,"begin");try{const d=await Ma(this.storage,this.storageKey);if(d&&this.userStorage){let p=await Ma(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!p&&(p={user:d.user},await io(this.userStorage,this.storageKey+"-user",p)),d.user=(t=p==null?void 0:p.user)!==null&&t!==void 0?t:Au()}else if(d&&!d.user&&!d.user){const p=await Ma(this.storage,this.storageKey+"-user");p&&(p!=null&&p.user)?(d.user=p.user,await $t(this.storage,this.storageKey+"-user"),await io(this.storage,this.storageKey,d)):d.user=Au()}if(this._debug(o,"session from storage",d),!this._isValidSession(d)){this._debug(o,"session is not valid"),d!==null&&await this._removeSession();return}const u=((a=d.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<Cu;if(this._debug(o,`session has${u?"":" not"} expired with margin of ${Cu}s`),u){if(this.autoRefreshToken&&d.refresh_token){const{error:p}=await this._callRefreshToken(d.refresh_token);p&&(console.error(p),Eu(p)||(this._debug(o,"refresh failed with a non-retryable error, removing the session",p),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:p,error:g}=await this._getUser(d.access_token);!g&&(p!=null&&p.user)?(d.user=p.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(o,"could not get user data, skipping SIGNED_IN notification")}catch(p){console.error("Error getting user data:",p),this._debug(o,"error getting user data, skipping SIGNED_IN notification",p)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(o,"error",d),console.error(d);return}finally{this._debug(o,"end")}}async _callRefreshToken(t){var a,o;if(!t)throw new xr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new vd;const{data:u,error:p}=await this._refreshAccessToken(t);if(p)throw p;if(!u.session)throw new xr;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const g={data:u.session,error:null};return this.refreshingDeferred.resolve(g),g}catch(u){if(this._debug(d,"error",u),oe(u)){const p={data:null,error:u};return Eu(u)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(p),p}throw(o=this.refreshingDeferred)===null||o===void 0||o.reject(u),u}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(t,a,o=!0){const d=`#_notifyAllSubscribers(${t})`;this._debug(d,"begin",a,`broadcast = ${o}`);try{this.broadcastChannel&&o&&this.broadcastChannel.postMessage({event:t,session:a});const u=[],p=Array.from(this.stateChangeEmitters.values()).map(async g=>{try{await g.callback(t,a)}catch(x){u.push(x)}});if(await Promise.all(p),u.length>0){for(let g=0;g<u.length;g+=1)console.error(u[g]);throw u[0]}}finally{this._debug(d,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await $t(this.storage,`${this.storageKey}-code-verifier`);const a=Object.assign({},t),o=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!o&&a.user&&await io(this.userStorage,this.storageKey+"-user",{user:a.user});const d=Object.assign({},a);delete d.user;const u=Vp(d);await io(this.storage,this.storageKey,u)}else{const d=Vp(a);await io(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await $t(this.storage,this.storageKey),await $t(this.storage,this.storageKey+"-code-verifier"),await $t(this.storage,this.storageKey+"-user"),this.userStorage&&await $t(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ao);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const a=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=a,a&&typeof a=="object"&&typeof a.unref=="function"?a.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(a)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const a=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,a&&clearTimeout(a)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:o}}=a;if(!o||!o.refresh_token||!o.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((o.expires_at*1e3-t)/ao);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${ao}ms, refresh threshold is ${qu} ticks`),d<=qu&&await this._callRefreshToken(o.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Of)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,o){const d=[`provider=${encodeURIComponent(a)}`];if(o!=null&&o.redirectTo&&d.push(`redirect_to=${encodeURIComponent(o.redirectTo)}`),o!=null&&o.scopes&&d.push(`scopes=${encodeURIComponent(o.scopes)}`),this.flowType==="pkce"){const[u,p]=await eo(this.storage,this.storageKey),g=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(p)}`});d.push(g.toString())}if(o!=null&&o.queryParams){const u=new URLSearchParams(o.queryParams);d.push(u.toString())}return o!=null&&o.skipBrowserRedirect&&d.push(`skip_http_redirect=${o.skipBrowserRedirect}`),`${t}?${d.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var o;const{data:d,error:u}=a;return u?this._returnResult({data:null,error:u}):await he(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(t){try{return await this._useSession(async a=>{var o,d;const{data:u,error:p}=a;if(p)return this._returnResult({data:null,error:p});const g=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:x,error:b}=await he(this.fetch,"POST",`${this.url}/factors`,{body:g,headers:this.headers,jwt:(o=u==null?void 0:u.session)===null||o===void 0?void 0:o.access_token});return b?this._returnResult({data:null,error:b}):(t.factorType==="totp"&&x.type==="totp"&&(!((d=x==null?void 0:x.totp)===null||d===void 0)&&d.qr_code)&&(x.totp.qr_code=`data:image/svg+xml;utf-8,${x.totp.qr_code}`),this._returnResult({data:x,error:null}))})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var o;const{data:d,error:u}=a;if(u)return this._returnResult({data:null,error:u});const p=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?tb(t.webauthn.credential_response):rb(t.webauthn.credential_response)})}:{code:t.code}),{data:g,error:x}=await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:p,headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token});return x?this._returnResult({data:null,error:x}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+g.expires_in},g)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",g),this._returnResult({data:g,error:x}))})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async a=>{var o;const{data:d,error:u}=a;if(u)return this._returnResult({data:null,error:u});const p=await he(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(o=d==null?void 0:d.session)===null||o===void 0?void 0:o.access_token});if(p.error)return p;const{data:g}=p;if(g.type!=="webauthn")return{data:g,error:null};switch(g.webauthn.type){case"create":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:Zx(g.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},g),{webauthn:Object.assign(Object.assign({},g.webauthn),{credential_options:Object.assign(Object.assign({},g.webauthn.credential_options),{publicKey:eb(g.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(t){const{data:a,error:o}=await this._challenge({factorId:t.factorId});return o?this._returnResult({data:null,error:o}):await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){var t;const{data:{user:a},error:o}=await this.getUser();if(o)return{data:null,error:o};const d={all:[],phone:[],totp:[],webauthn:[]};for(const u of(t=a==null?void 0:a.factors)!==null&&t!==void 0?t:[])d.all.push(u),u.status==="verified"&&d[u.factor_type].push(u);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var t,a;const{data:{session:o},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Tu(o.access_token);let p=null;u.aal&&(p=u.aal);let g=p;((a=(t=o.user.factors)===null||t===void 0?void 0:t.filter(_=>_.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(g="aal2");const b=u.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:b},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async a=>{const{data:{session:o},error:d}=a;return d?this._returnResult({data:null,error:d}):o?await he(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:o.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new xr})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(t,a){try{return await this._useSession(async o=>{const{data:{session:d},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!d)return this._returnResult({data:null,error:new xr});const p=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:g=>({data:g,error:null})});return p.data&&p.data.redirect_url&&Rt()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(p.data.redirect_url),p})}catch(o){if(oe(o))return this._returnResult({data:null,error:o});throw o}}async _denyAuthorization(t,a){try{return await this._useSession(async o=>{const{data:{session:d},error:u}=o;if(u)return this._returnResult({data:null,error:u});if(!d)return this._returnResult({data:null,error:new xr});const p=await he(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:g=>({data:g,error:null})});return p.data&&p.data.redirect_url&&Rt()&&!(a!=null&&a.skipBrowserRedirect)&&window.location.assign(p.data.redirect_url),p})}catch(o){if(oe(o))return this._returnResult({data:null,error:o});throw o}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:a},error:o}=t;return o?this._returnResult({data:null,error:o}):a?await he(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new xr})})}catch(t){if(oe(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async a=>{const{data:{session:o},error:d}=a;return d?this._returnResult({data:null,error:d}):o?(await he(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:o.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new xr})})}catch(a){if(oe(a))return this._returnResult({data:null,error:a});throw a}}async fetchJwk(t,a={keys:[]}){let o=a.keys.find(g=>g.kid===t);if(o)return o;const d=Date.now();if(o=this.jwks.keys.find(g=>g.kid===t),o&&this.jwks_cached_at+cx>d)return o;const{data:u,error:p}=await he(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(p)throw p;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=d,o=u.keys.find(g=>g.kid===t),!o)?null:o}async getClaims(t,a={}){try{let o=t;if(!o){const{data:k,error:N}=await this.getSession();if(N||!k.session)return this._returnResult({data:null,error:N});o=k.session.access_token}const{header:d,payload:u,signature:p,raw:{header:g,payload:x}}=Tu(o);a!=null&&a.allowExpired||Rx(u.exp);const b=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!b){const{error:k}=await this.getUser(o);if(k)throw k;return{data:{claims:u,header:d,signature:p},error:null}}const _=Px(d.alg),f=await crypto.subtle.importKey("jwk",b,_,!0,["verify"]);if(!await crypto.subtle.verify(_,f,p,yx(`${g}.${x}`)))throw new Wu("Invalid JWT signature");return{data:{claims:u,header:d,signature:p},error:null}}catch(o){if(oe(o))return this._returnResult({data:null,error:o});throw o}}}Ol.nextInstanceID={};const ub=Ol,hb="2.90.0";let Cl="";typeof Deno<"u"?Cl="deno":typeof document<"u"?Cl="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cl="react-native":Cl="node";const pb={"X-Client-Info":`supabase-js-${Cl}/${hb}`},fb={headers:pb},mb={schema:"public"},gb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},xb={};function Dl(s){"@babel/helpers - typeof";return Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Dl(s)}function bb(s,t){if(Dl(s)!="object"||!s)return s;var a=s[Symbol.toPrimitive];if(a!==void 0){var o=a.call(s,t||"default");if(Dl(o)!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(s)}function yb(s){var t=bb(s,"string");return Dl(t)=="symbol"?t:t+""}function vb(s,t,a){return(t=yb(t))in s?Object.defineProperty(s,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[t]=a,s}function Xp(s,t){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(s);t&&(o=o.filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable})),a.push.apply(a,o)}return a}function at(s){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?Xp(Object(a),!0).forEach(function(o){vb(s,o,a[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(a)):Xp(Object(a)).forEach(function(o){Object.defineProperty(s,o,Object.getOwnPropertyDescriptor(a,o))})}return s}const wb=s=>s?(...t)=>s(...t):(...t)=>fetch(...t),_b=()=>Headers,jb=(s,t,a)=>{const o=wb(a),d=_b();return async(u,p)=>{var g;const x=(g=await t())!==null&&g!==void 0?g:s;let b=new d(p==null?void 0:p.headers);return b.has("apikey")||b.set("apikey",s),b.has("Authorization")||b.set("Authorization",`Bearer ${x}`),o(u,at(at({},p),{},{headers:b}))}};function Sb(s){return s.endsWith("/")?s:s+"/"}function kb(s,t){var a,o;const{db:d,auth:u,realtime:p,global:g}=s,{db:x,auth:b,realtime:_,global:f}=t,j={db:at(at({},x),d),auth:at(at({},b),u),realtime:at(at({},_),p),storage:{},global:at(at(at({},f),g),{},{headers:at(at({},(a=f==null?void 0:f.headers)!==null&&a!==void 0?a:{}),(o=g==null?void 0:g.headers)!==null&&o!==void 0?o:{})}),accessToken:async()=>""};return s.accessToken?j.accessToken=s.accessToken:delete j.accessToken,j}function Nb(s){const t=s==null?void 0:s.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Sb(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Cb=class extends ub{constructor(s){super(s)}},Eb=class{constructor(s,t,a){var o,d;this.supabaseUrl=s,this.supabaseKey=t;const u=Nb(s);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const p=`sb-${u.hostname.split(".")[0]}-auth-token`,g={db:mb,realtime:xb,auth:at(at({},gb),{},{storageKey:p}),global:fb},x=kb(a??{},g);if(this.storageKey=(o=x.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(d=x.global.headers)!==null&&d!==void 0?d:{},x.accessToken)this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(_,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var b;this.auth=this._initSupabaseAuthClient((b=x.auth)!==null&&b!==void 0?b:{},this.headers,x.global.fetch)}this.fetch=jb(t,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(at({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.accessToken&&this.accessToken().then(_=>this.realtime.setAuth(_)).catch(_=>console.warn("Failed to set initial Realtime auth token:",_)),this.rest=new o0(new URL("rest/v1",u).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new sx(this.storageUrl.href,this.headers,this.fetch,a==null?void 0:a.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new r0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,t={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,t,a)}channel(s,t={config:{}}){return this.realtime.channel(s,t)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,t,a;if(s.accessToken)return await s.accessToken();const{data:o}=await s.auth.getSession();return(t=(a=o.session)===null||a===void 0?void 0:a.access_token)!==null&&t!==void 0?t:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:t,detectSessionInUrl:a,storage:o,userStorage:d,storageKey:u,flowType:p,lock:g,debug:x,throwOnError:b},_,f){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Cb({url:this.authUrl.href,headers:at(at({},j),_),storageKey:u,autoRefreshToken:s,persistSession:t,detectSessionInUrl:a,storage:o,userStorage:d,flowType:p,lock:g,debug:x,throwOnError:b,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(k=>k.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new S0(this.realtimeUrl.href,at(at({},s),{},{params:at(at({},{apikey:this.supabaseKey}),s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,t)=>{this._handleTokenChanged(s,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(s,t,a){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const Tb=(s,t,a)=>new Eb(s,t,a);function Ab(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const t=s.version;if(t==null)return!1;const a=t.match(/^v(\d+)\./);return a?parseInt(a[1],10)<=18:!1}Ab()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $b="https://sdzyiuspmakebwzufhdq.supabase.co",Rb="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNkenlpdXNwbWFrZWJ3enVmaGRxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njc4Mzc5ODUsImV4cCI6MjA4MzQxMzk4NX0.F80vRmqZnGqGT59o6WnM7EtHplax2OYw115if4byPT8",T=Tb($b,Rb),Pb=({toggleMode:s,toggleAutoMode:t,isLightMode:a,isAutoMode:o,toggleNav:d,isNavActive:u,currentView:p,setCurrentView:g,carrerasOptions:x})=>{v.useState(!1);const[b,_]=v.useState(null),[f,j]=v.useState([]),k=N=>S=>{S.preventDefault(),g(N),d()};return v.useEffect(()=>{(async()=>{const{data:S}=await T.from("ui_header_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:A}=await T.from("ui_header_links").select("*").order("order_index",{ascending:!0});_(S||null),j(A||[])})()},[]),n.jsx("header",{className:"header",children:n.jsxs("div",{className:"header-container",children:[n.jsxs("div",{className:"logo-title",children:[n.jsx("img",{src:(b==null?void 0:b.logo_url)||"/images/cbta134.png",alt:"Logo CBTA 134",className:"logo",onClick:()=>g("home"),style:{cursor:"pointer"}}),n.jsx("h1",{className:"site-title",onClick:()=>g("home"),style:{cursor:"pointer"},children:(b==null?void 0:b.title_text)||"Centro de Bachillerato Tecnolgico Agropecuario 134"})]}),n.jsx("nav",{className:`main-nav ${u?"active":""}`,children:f.length>0&&n.jsx("ul",{children:f.map(N=>n.jsx("li",{children:n.jsx("a",{href:N.href,onClick:k(N.path),className:"nav-link",children:N.label})},N.id))})})]})})},Ib=()=>{const[s,t]=v.useState(0),[a,o]=v.useState(["/images/camaleon.jpg","/images/campus.png"]);return v.useEffect(()=>{(async()=>{const{data:u}=await T.from("hero_slides").select("*").order("order_index",{ascending:!0});u&&u.length>0&&o(u.map(p=>p.image_url))})()},[]),v.useEffect(()=>{const d=setInterval(()=>{t(u=>(u+1)%a.length)},5e3);return()=>clearInterval(d)},[a.length]),n.jsxs("section",{className:"hero-section",children:[n.jsx("div",{className:"slides-container",children:a.map((d,u)=>n.jsx("div",{className:`slide ${u===s?"active":""}`,style:{backgroundImage:`url(${d})`}},u))}),n.jsx("div",{className:"slides-controls",children:a.map((d,u)=>n.jsx("button",{className:`slide-indicator ${u===s?"active":""}`,onClick:()=>t(u)},u))})]})},Ob=()=>{const s=Qa(),[t,a]=v.useState(null),[o,d]=v.useState([]);return v.useEffect(()=>{(async()=>{const{data:p}=await T.from("ui_footer_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:g}=await T.from("ui_footer_links").select("*").order("order_index",{ascending:!0});a(p||null),d(g||[])})()},[]),n.jsxs("footer",{className:"footer",children:[n.jsxs("div",{className:"footer-content",children:[n.jsxs("div",{className:"footer-section",children:[n.jsx("h3",{children:(t==null?void 0:t.school_name)||"CBTA 134"}),n.jsx("p",{children:(t==null?void 0:t.location_text)||"San Francisco Tetlanohcan"}),n.jsx("p",{children:(t==null?void 0:t.tagline_text)||"Educacin de calidad para el futuro"})]}),n.jsxs("div",{className:"footer-section",children:[n.jsx("h3",{children:"Autores"}),n.jsx("p",{children:"Crditos de la pgina"}),n.jsx("a",{href:"#/creditos",className:"footer-link",onClick:u=>{u.preventDefault(),s("/creditos"),window.location.hash="#/creditos"},children:"Ver autores"})]}),n.jsxs("div",{className:"footer-section",children:[n.jsx("h3",{children:"Sguenos"}),n.jsx("div",{className:"social-buttons",children:o.length>0?o.map(u=>n.jsxs("a",{href:u.href,target:"_blank",className:`social-button ${u.style_class||""}`,children:[u.icon_url&&n.jsx("img",{src:u.icon_url,alt:u.label}),u.label]},u.id)):n.jsxs(n.Fragment,{children:[n.jsxs("a",{href:"https://www.facebook.com",target:"_blank",className:"social-button facebook",children:[n.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg",alt:"Facebook"}),"Facebook"]}),n.jsxs("a",{href:"https://maps.google.com",target:"_blank",className:"social-button maps",children:[n.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Google_Maps_icon_%282020%29.svg",alt:"Maps"}),"Maps"]})]})})]})]}),n.jsx("div",{className:"footer-bottom",children:n.jsxs("div",{className:"footer-copyright",children:[n.jsx("p",{children:(t==null?void 0:t.copyright_text)||" 2025, Centro de Bachillerato Tecnolgico Agropecuario No. 134."}),n.jsx("p",{children:n.jsx("strong",{children:(t==null?void 0:t.rights_text)||"Todos los derechos reservados."})}),n.jsxs("div",{className:"copyright-details",children:[n.jsx("p",{children:(t==null?void 0:t.legal_text_1)||"El contenido de este sitio, incluyendo textos, imgenes, documentos, logotipos y dems materiales, es propiedad del Centro de Bachillerato Tecnolgico Agropecuario No. 134 y se encuentra protegido por la legislacin nacional e internacional sobre derechos de autor."}),n.jsx("p",{children:(t==null?void 0:t.legal_text_2)||"Queda prohibida la reproduccin, distribucin, comunicacin pblica o modificacin total o parcial de los materiales sin autorizacin previa y por escrito de los responsables del sitio."}),n.jsx("p",{children:(t==null?void 0:t.legal_text_3)||"Este sitio tiene fines acadmicos y de divulgacin estudiantil. Los contenidos compartidos pertenecen a sus autores originales y se citan nicamente con fines educativos."})]})]})})]})},dh=`
  Eres Camalen IA, el asistente virtual del CBTA 134 San Francisco Tetlanohcan. Tu objetivo es proporcionar informacin precisa y til sobre la institucin. Aqu tienes informacin clave:

  - **Nombre completo**: Centro de Bachillerato Tecnolgico Agropecuario No. 134 (CBTA 134).
  - **Ubicacin**: San Francisco Tetlanohcan, Tlaxcala, Mxico.
  - **Misin**: Contribuir activamente a la formacin integral de nuestros estudiantes del Bachillerato Tecnolgico con un enfoque de desarrollo sostenible y emprendedor que los integre plenamente a la sociedad.
  - **Visin**: Ser una institucin de calidad, formadora de lderes del maana.
  - **Lema**: Formar e innovar para transformar.

  **Carreras Tcnicas Ofrecidas**:
  - **Tcnico Agropecuario**: Formacin en agricultura, ganadera y desarrollo rural sustentable.
  - **Soporte y Mantenimiento de Equipos de Cmputo (SPP)**: Especializacin en reparacin y mantenimiento de sistemas informticos.
  - **Ofimtica**: Desarrollo de habilidades en herramientas de oficina y sistemas administrativos.
  - **Programacin**: Formacin en desarrollo de software y aplicaciones.
  - **Contabilidad**: Especializacin en gestin financiera y contable.

  **Servicios y Actividades**:
  - Clubs deportivos y culturales
  - Galera de eventos y actividades
  - Sistema SAETAM para gestin acadmica
  - Proceso de admisin estructurado

  **Valores Institucionales**: Respeto, responsabilidad, honestidad, trabajo en equipo e innovacin.

  Siempre responde en espaol de manera amable y profesional. Si no tienes informacin especfica, sugiere consultar directamente con la institucin o navegar por las secciones del sitio web.
`,Gu=(s,t)=>t.some(a=>s instanceof a);let Zp,ef;function Db(){return Zp||(Zp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lb(){return ef||(ef=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ku=new WeakMap,Ru=new WeakMap,wd=new WeakMap;function Bb(s){const t=new Promise((a,o)=>{const d=()=>{s.removeEventListener("success",u),s.removeEventListener("error",p)},u=()=>{a(Ka(s.result)),d()},p=()=>{o(s.error),d()};s.addEventListener("success",u),s.addEventListener("error",p)});return wd.set(t,s),t}function Ub(s){if(Ku.has(s))return;const t=new Promise((a,o)=>{const d=()=>{s.removeEventListener("complete",u),s.removeEventListener("error",p),s.removeEventListener("abort",p)},u=()=>{a(),d()},p=()=>{o(s.error||new DOMException("AbortError","AbortError")),d()};s.addEventListener("complete",u),s.addEventListener("error",p),s.addEventListener("abort",p)});Ku.set(s,t)}let Ju={get(s,t,a){if(s instanceof IDBTransaction){if(t==="done")return Ku.get(s);if(t==="store")return a.objectStoreNames[1]?void 0:a.objectStore(a.objectStoreNames[0])}return Ka(s[t])},set(s,t,a){return s[t]=a,!0},has(s,t){return s instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in s}};function Bf(s){Ju=s(Ju)}function Fb(s){return Lb().includes(s)?function(...t){return s.apply(Qu(this),t),Ka(this.request)}:function(...t){return Ka(s.apply(Qu(this),t))}}function zb(s){return typeof s=="function"?Fb(s):(s instanceof IDBTransaction&&Ub(s),Gu(s,Db())?new Proxy(s,Ju):s)}function Ka(s){if(s instanceof IDBRequest)return Bb(s);if(Ru.has(s))return Ru.get(s);const t=zb(s);return t!==s&&(Ru.set(s,t),wd.set(t,s)),t}const Qu=s=>wd.get(s);function Mb(s,t,{blocked:a,upgrade:o,blocking:d,terminated:u}={}){const p=indexedDB.open(s,t),g=Ka(p);return o&&p.addEventListener("upgradeneeded",x=>{o(Ka(p.result),x.oldVersion,x.newVersion,Ka(p.transaction),x)}),a&&p.addEventListener("blocked",x=>a(x.oldVersion,x.newVersion,x)),g.then(x=>{u&&x.addEventListener("close",()=>u()),d&&x.addEventListener("versionchange",b=>d(b.oldVersion,b.newVersion,b))}).catch(()=>{}),g}const qb=["get","getKey","getAll","getAllKeys","count"],Hb=["put","add","delete","clear"],Pu=new Map;function tf(s,t){if(!(s instanceof IDBDatabase&&!(t in s)&&typeof t=="string"))return;if(Pu.get(t))return Pu.get(t);const a=t.replace(/FromIndex$/,""),o=t!==a,d=Hb.includes(a);if(!(a in(o?IDBIndex:IDBObjectStore).prototype)||!(d||qb.includes(a)))return;const u=async function(p,...g){const x=this.transaction(p,d?"readwrite":"readonly");let b=x.store;return o&&(b=b.index(g.shift())),(await Promise.all([b[a](...g),d&&x.done]))[0]};return Pu.set(t,u),u}Bf(s=>({...s,get:(t,a,o)=>tf(t,a)||s.get(t,a,o),has:(t,a)=>!!tf(t,a)||s.has(t,a)}));const Vb=["continue","continuePrimaryKey","advance"],rf={},Yu=new WeakMap,Uf=new WeakMap,Wb={get(s,t){if(!Vb.includes(t))return s[t];let a=rf[t];return a||(a=rf[t]=function(...o){Yu.set(this,Uf.get(this)[t](...o))}),a}};async function*Gb(...s){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...s)),!t)return;t=t;const a=new Proxy(t,Wb);for(Uf.set(a,t),wd.set(a,Qu(t));t;)yield a,t=await(Yu.get(a)||t.continue()),Yu.delete(a)}function nf(s,t){return t===Symbol.asyncIterator&&Gu(s,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Gu(s,[IDBIndex,IDBObjectStore])}Bf(s=>({...s,get(t,a,o){return nf(t,a)?Gb:s.get(t,a,o)},has(t,a){return nf(t,a)||s.has(t,a)}}));const Kb="cbta-chatbot",fd="kv",Ff="chat_state_v1",zf=()=>Mb(Kb,1,{upgrade(s){s.objectStoreNames.contains(fd)||s.createObjectStore(fd)}}),Mf=async()=>await(await zf()).get(fd,Ff)||{conversations:[],activeId:null},md=async s=>{await(await zf()).put(fd,s,Ff)},Xu=(s="Nueva conversacin")=>({id:`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:s,createdAt:new Date().toISOString(),messages:[]}),Tn=s=>s.conversations.find(t=>t.id===s.activeId)||null,Jb=(s,t)=>({...s,activeId:t}),Ga=(s,t)=>{const o=s.conversations.find(d=>d.id===t.id)?s.conversations.map(d=>d.id===t.id?t:d):[t,...s.conversations];return{...s,conversations:o}},Qb=()=>{var O;const s=Qa(),[t,a]=v.useState(""),[o,d]=v.useState({conversations:[],activeId:null}),[u,p]=v.useState(!1),[g,x]=v.useState(null),[b,_]=v.useState(()=>{const E=localStorage.getItem("isChatOpen");return E?JSON.parse(E):!1}),f=v.useRef({value:null,timestamp:0});v.useEffect(()=>{(async()=>{const U=await Mf();if(!U.conversations.length){const $={id:`msg-${Date.now()}`,text:"Hola! Soy **Camalen IA**, tu asistente virtual del CBTA 134. Estoy aqu para ayudarte con informacin sobre nuestra institucin, carreras, clubs y ms. En qu puedo ayudarte hoy?",sender:"bot",createdAt:new Date().toISOString()},B=Xu("Camalen IA");B.messages.push($);const H={conversations:[B],activeId:B.id};d(H),await md(H);return}d(U)})()},[]),v.useEffect(()=>{o.conversations.length&&md(o)},[o]),v.useEffect(()=>{localStorage.setItem("isChatOpen",JSON.stringify(b))},[b]),v.useEffect(()=>{(async()=>{const{data:U,error:$}=await T.from("chatbot_config").select("*").order("updated_at",{ascending:!1}).limit(1).maybeSingle();$||x(U||null)})()},[]);const j=E=>(E=E.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),E=E.replace(/\*(.*?)\*/g,"<em>$1</em>"),E=E.replace(/\n/g,"<br />"),E),k=E=>E.replace(/<[^>]*>/g,""),N=(E,U)=>U?U.replace(/\/$/,""):E==="groq"?"https://api.groq.com/openai/v1":E==="gemini"?"https://generativelanguage.googleapis.com/v1beta":"https://api.groq.com/openai/v1",S=E=>E==="groq"?(g==null?void 0:g.groq_api_key)||(g==null?void 0:g.api_key)||"":E==="gemini"?(g==null?void 0:g.gemini_api_key)||(g==null?void 0:g.api_key)||"":(g==null?void 0:g.api_key)||"",A=async()=>{if(!(g!=null&&g.enable_db_context))return"";const E=Date.now(),U=5*60*1e3;if(f.current.value&&E-f.current.timestamp<U)return f.current.value;const{data:$,error:B}=await T.rpc("get_chatbot_context");if(B)return console.warn("No se pudo cargar contexto de BD:",B.message),"";const H=JSON.stringify($||{},null,2);return f.current={value:H,timestamp:E},H},P=async E=>{if(E.preventDefault(),!t.trim())return;if(g&&g.enabled===!1){const $={text:"El chatbot est deshabilitado temporalmente.",sender:"bot"};d(B=>{const H=Tn(B);if(!H)return B;const G={...H,messages:[...H.messages,{...$,id:`msg-${Date.now()}`,createdAt:new Date().toISOString()}]};return Ga(B,G)});return}const U={id:`msg-${Date.now()}`,text:t,sender:"user",createdAt:new Date().toISOString()};try{await T.from("chatbot_questions").insert([{question_text:t,source_page:window.location.pathname,conversation_id:o.activeId||null,user_agent:navigator.userAgent}])}catch{}d($=>{const B=Tn($);if(!B)return $;const H={...B,messages:[...B.messages,U]};return Ga($,H)}),a(""),p(!0);try{const $=await A(),B=((g==null?void 0:g.system_prompt)||dh).trim(),H=$?`${B}

Contexto de la base de datos (JSON):
${$}`:B,G=Tn(o),re=((G==null?void 0:G.messages)||[]).slice(-10).map(D=>({role:D.sender==="user"?"user":"assistant",content:k(D.text)})),be=async D=>{var _e,je,Re,Ee;const X=S(D);if(!X)throw new Error(`No hay API key configurada para ${D}.`);const K=N(D,(g==null?void 0:g.base_url)||""),L=(g==null?void 0:g.model)||(D==="gemini"?"gemini-3.0-flash":"llama-3.1-8b-instant"),W=D==="gemini"?`${K}/models/${L}:generateContent?key=${X}`:`${K}/chat/completions`,ue=await fetch(W,{method:"POST",headers:{"Content-Type":"application/json",...D==="gemini"?{}:{Authorization:`Bearer ${X}`}},body:JSON.stringify(D==="gemini"?{contents:[{parts:[{text:`${H}

Historial de la conversacin:
${re.map(De=>`${De.role==="user"?"Usuario":"Chatbot"}: ${De.content}`).join(`
`)}


Usuario: ${t}`}]}]}:{model:L,messages:[{role:"system",content:H},...re,{role:"user",content:t}],temperature:.3})});if(!ue.ok){const De=await ue.text();throw new Error(`Error de la API (${D}): ${ue.status} - ${De}`)}const fe=await ue.json();if(D==="gemini"&&fe.candidates&&((Ee=(Re=(je=(_e=fe.candidates[0])==null?void 0:_e.content)==null?void 0:je.parts)==null?void 0:Re[0])!=null&&Ee.text))return fe.candidates[0].content.parts[0].text;if(fe.choices&&fe.choices[0]&&fe.choices[0].message)return fe.choices[0].message.content;throw fe.error?new Error(fe.error.message):new Error("Respuesta no vlida del proveedor.")},we=((g==null?void 0:g.provider)||"groq").toLowerCase(),Be=((g==null?void 0:g.primary_provider)||we||"groq").toLowerCase(),Te=(g==null?void 0:g.fallback_enabled)===!0,Ze=Be==="groq"?"gemini":"groq";let ve=null;try{ve=await be(Te?Be:we)}catch(D){if(Te)ve=await be(Ze);else throw D}const Oe=j(ve),Ce={id:`msg-${Date.now()}`,text:Oe,sender:"bot",createdAt:new Date().toISOString()};d(D=>{const X=Tn(D);if(!X)return D;const K={...X,messages:[...X.messages,Ce]};return Ga(D,K)})}catch($){const B={text:`Error al conectar con Camalen IA: ${$.message}. Verifica tu conexin a internet e intenta de nuevo.`,sender:"bot"};d(H=>{const G=Tn(H);if(!G)return H;const re={...G,messages:[...G.messages,{...B,id:`msg-${Date.now()}`,createdAt:new Date().toISOString()}]};return Ga(H,re)})}p(!1)};return n.jsxs("div",{className:`chatbot-container ${b?"open":""}`,children:[n.jsxs("div",{className:"chatbot-bubble-wrapper",children:[n.jsx("div",{className:"chatbot-bubble",onClick:()=>_(!b),children:n.jsx("img",{src:"/images/camaleonicono.jpg",alt:"Camalen IA",className:"camaleon-icon"})}),n.jsx("p",{className:"chatbot-label",children:"Camalen IA"})]}),b&&n.jsxs("div",{className:"chatbot-window",children:[n.jsxs("div",{className:"chatbot-header",children:[n.jsx("h3",{children:"Camalen IA"}),n.jsx("button",{className:"open-full-btn",onClick:()=>{s("/chatbot"),window.location.hash="#/chatbot"},title:"Abrir en pantalla completa",type:"button",children:""}),n.jsx("button",{className:"close-btn",onClick:()=>_(!1),children:""})]}),n.jsxs("div",{className:"chatbot-messages",children:[(O=Tn(o))==null?void 0:O.messages.map(E=>n.jsx("div",{className:`message ${E.sender}`,children:n.jsx("div",{dangerouslySetInnerHTML:{__html:j(E.text)}})},E.id)),u&&n.jsx("div",{className:"message bot",children:"Escribiendo..."})]}),n.jsxs("form",{onSubmit:P,className:"chatbot-input",children:[n.jsx("input",{type:"text",value:t,onChange:E=>a(E.target.value),placeholder:"Escribe tu mensaje...",disabled:u}),n.jsx("button",{type:"submit",disabled:u,children:u?"Enviando...":"Enviar"})]})]})]})},vr=({onClick:s,onBack:t,text:a="Volver al inicio"})=>{const o={position:"fixed",top:"80px",left:"20px",padding:"12px 20px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"25px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",boxShadow:"0 4px 15px rgba(40, 167, 69, 0.3)",transition:"all 0.3s ease",zIndex:999,display:"flex",alignItems:"center",gap:"8px",maxWidth:"200px"},d=g=>{const x=g.currentTarget;x.style.backgroundColor="#218838",x.style.transform="translateY(-2px)",x.style.boxShadow="0 6px 20px rgba(33, 136, 56, 0.4)"},u=g=>{const x=g.currentTarget;x.style.backgroundColor="#28a745",x.style.transform="translateY(0)",x.style.boxShadow="0 4px 15px rgba(40, 167, 69, 0.3)"},p=g=>{if(typeof t=="function")return t(g);if(typeof s=="function")return s(g)};return n.jsxs("button",{style:o,onClick:p,onMouseEnter:d,onMouseLeave:u,"aria-label":a,children:[n.jsx("span",{children:""}),a]})},Yb="_container_p3oqj_2",Xb="_title_p3oqj_20",Zb="_text_p3oqj_29",ey="_mision_p3oqj_42",ty="_vision_p3oqj_43",ry="_slogan_p3oqj_44",ny="_backButton_p3oqj_64",Js={container:Yb,title:Xb,text:Zb,mision:ey,vision:ty,slogan:ry,backButton:ny},sy=({onBack:s})=>n.jsxs("div",{className:Js.container,children:[n.jsx("h2",{className:Js.title,children:"Valores Institucionales"}),n.jsx("p",{className:Js.mision,children:n.jsx("strong",{children:"Misin:"})}),n.jsx("p",{className:Js.text,children:"Contribuir activamente a la formacin integral de nuestros estudiantes del Bachillerato Tecnolgico con un enfoque de desarrollo sostenible y emprendedor que los integre plenamente a la sociedad."}),n.jsx("p",{className:Js.vision,children:n.jsx("strong",{children:"Visin:"})}),n.jsx("p",{className:Js.text,children:"Ser una institucin de calidad, formadora de lderes del maana."}),n.jsx("p",{className:Js.slogan,children:n.jsx("strong",{children:"Lema:"})}),n.jsx("p",{className:Js.text,children:"Formar e innovar para transformar."}),n.jsx(vr,{onClick:s,text:"Regresar al Men Principal"})]}),ay=({onBack:s})=>{const[t,a]=v.useState(null),[o,d]=v.useState([]);v.useEffect(()=>{(async()=>{const{data:U}=await T.from("about_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:$}=await T.from("about_values").select("*").order("order_index",{ascending:!0});a(U||null),d($||[])})()},[]);const u={minHeight:"100vh",paddingTop:"80px",padding:"80px 20px 40px",backgroundColor:"#ffffff"},p={background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",padding:"30px",maxWidth:"1000px",width:"100%",margin:"0 auto",boxShadow:"0 15px 35px rgba(0, 0, 0, 0.1)",overflow:"hidden"},g={fontSize:"2.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"40px",color:"#28a745"},x={marginBottom:"40px",padding:"20px",borderRadius:"15px",backgroundColor:"#f8f9fa",border:"1px solid #28a745"},b={fontSize:"1.8rem",fontWeight:"bold",color:"#28a745",marginBottom:"20px",textAlign:"center"},_={backgroundColor:"#ffffff",borderRadius:"10px",padding:"20px",marginBottom:"20px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.05)"},f={fontSize:"1.3rem",fontWeight:"bold",color:"#28a745",marginBottom:"10px",display:"flex",alignItems:"center",gap:"10px"},j={fontSize:"1rem",color:"#555",lineHeight:"1.8",textAlign:"justify",marginBottom:"0"},k={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginTop:"20px"},N={backgroundColor:"#ffffff",borderRadius:"10px",padding:"20px",textAlign:"center",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.05)",transition:"transform 0.3s ease"},S={textAlign:"center",marginBottom:"30px"},A={textAlign:"center",marginBottom:"30px"},P={width:"100%",maxWidth:"900px",borderRadius:"15px",border:"2px solid #28a745",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.12)"},O={width:"120px",height:"120px",borderRadius:"50%",border:"4px solid #28a745",marginBottom:"15px"};return n.jsxs("div",{style:u,children:[n.jsx(vr,{onBack:s}),n.jsxs("div",{style:p,children:[(t==null?void 0:t.croquis_image_url)&&n.jsx("div",{style:A,children:n.jsx("img",{src:t.croquis_image_url,alt:"Croquis CBTa 134",style:P})}),n.jsxs("div",{style:S,children:[n.jsx("img",{src:(t==null?void 0:t.logo_url)||"/images/cbta134.png",alt:"Logo CBTa 134",style:O}),n.jsx("h1",{style:g,children:(t==null?void 0:t.title)||"Acerca de CBTa 134"})]}),n.jsxs("div",{style:x,children:[n.jsx("h2",{style:b,children:" Historia e Identidad Institucional"}),n.jsxs("div",{style:_,children:[n.jsx("h3",{style:f,children:" Nuestra Historia"}),n.jsx("p",{style:j,children:(t==null?void 0:t.history_text)||"El Centro de Bachillerato Tecnolgico Agropecuario No. 134 es una institucin educativa que ha forjado su prestigio a travs de dcadas de excelencia acadmica. Fundado con el propsito de brindar educacin tcnica de calidad en el rea agropecuaria, hemos evolucionado para convertirnos en un referente educativo que forma profesionales competentes y ciudadanos comprometidos con el desarrollo de nuestra comunidad."})]}),n.jsxs("div",{style:_,children:[n.jsx("h3",{style:f,children:" Misin"}),n.jsx("p",{style:j,children:(t==null?void 0:t.mission_text)||"Contribuir activamente a la formacin integral de nuestros estudiantes del Bachillerato Tecnolgico, con un enfoque de desarrollo sostenible y emprendedor que los integre plenamente a la sociedad, proporcionando herramientas acadmicas y tcnicas que les permitan enfrentar los retos del mundo moderno con competencia y valores slidos."})]}),n.jsxs("div",{style:_,children:[n.jsx("h3",{style:f,children:" Visin"}),n.jsx("p",{style:j,children:(t==null?void 0:t.vision_text)||"Ser una institucin de calidad, formadora de lderes del maana, reconocida por su excelencia educativa, innovacin tecnolgica y compromiso con el desarrollo sustentable, que contribuya al progreso social y econmico de la regin."})]}),n.jsxs("div",{style:_,children:[n.jsx("h3",{style:f,children:" Lema Institucional"}),n.jsx("p",{style:{...j,fontSize:"1.2rem",fontWeight:"bold",color:"#28a745",textAlign:"center"},children:(t==null?void 0:t.lema_text)||'"Formar e innovar para transformar"'})]})]}),n.jsxs("div",{style:x,children:[n.jsx("h2",{style:b,children:" Nuestros Valores"}),n.jsx("div",{style:k,children:o.map(E=>n.jsxs("div",{style:N,children:[n.jsxs("h3",{style:{...f,justifyContent:"center"},children:[E.icon," ",E.title]}),n.jsx("p",{style:{...j,textAlign:"center",fontSize:"0.95rem"},children:E.description})]},E.id))})]}),n.jsxs("div",{style:x,children:[n.jsx("h2",{style:b,children:" Nuestro Compromiso"}),n.jsxs("div",{style:_,children:[n.jsx("p",{style:j,children:(t==null?void 0:t.commitment_text_1)||"El CBTa 134 se compromete a formar ciudadanos integrales que contribuyan al desarrollo sustentable de su comunidad. Nuestro enfoque educativo combina la excelencia acadmica con la formacin en valores, preparando a nuestros estudiantes para ser agentes de cambio positivo en la sociedad."}),n.jsx("p",{style:j,children:(t==null?void 0:t.commitment_text_2)||"A travs de nuestros programas tcnicos especializados, fomentamos el emprendimiento, la innovacin tecnolgica y el cuidado del medio ambiente, formando profesionales competentes que respondan a las necesidades del mercado laboral actual."})]})]})]})]})},iy="_admissionProcess_1e940_9",oy="_header_1e940_20",ly="_welcomeText_1e940_32",cy="_bounce_1e940_1",dy="_container_1e940_47",uy="_countdownContainer_1e940_56",hy="_countdown_1e940_56",py="_countdownItem_1e940_73",fy="_card_1e940_91",my="_emojiTitle_1e940_106",gy="_fechasGrid_1e940_118",xy="_fechaCard_1e940_125",by="_requisitosList_1e940_141",yy="_especialidadesGrid_1e940_171",vy="_especialidadCard_1e940_177",wy="_emojiIcon_1e940_191",_y="_contactoInfo_1e940_200",jy="_backButton_1e940_220",Sy="_hero_1e940_248",Ke={admissionProcess:iy,header:oy,welcomeText:ly,bounce:cy,container:dy,countdownContainer:uy,countdown:hy,countdownItem:py,card:fy,emojiTitle:my,fechasGrid:gy,fechaCard:xy,requisitosList:by,especialidadesGrid:yy,especialidadCard:vy,emojiIcon:wy,contactoInfo:_y,backButton:jy,hero:Sy},ky=({onBack:s})=>{const[t,a]=v.useState(!1),[o,d]=v.useState(!0),[u,p]=v.useState(null),[g,x]=v.useState([]),[b,_]=v.useState([]),[f,j]=v.useState([]),[k,N]=v.useState(null),[S,A]=v.useState({days:0,hours:0,minutes:0,seconds:0});v.useEffect(()=>{const B=()=>{const G=document.body.classList.contains("dark-mode");a(G)};B();const H=new MutationObserver(B);return H.observe(document.body,{attributes:!0,attributeFilter:["class"]}),()=>H.disconnect()},[]),v.useEffect(()=>{const B=()=>{const G=(u==null?void 0:u.target_date)||"2026-04-01T00:00:00",we=new Date(G)-new Date;we>0?A({days:Math.floor(we/864e5),hours:Math.floor(we/36e5%24),minutes:Math.floor(we/1e3/60%60),seconds:Math.floor(we/1e3%60)}):A({days:0,hours:0,minutes:0,seconds:0})};B();const H=setInterval(B,1e3);return()=>clearInterval(H)},[u]),v.useEffect(()=>{(async()=>{d(!0);const{data:H}=await T.from("admission_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:G}=await T.from("admission_dates").select("*").order("order_index",{ascending:!0}),{data:re}=await T.from("admission_requirements").select("*").order("order_index",{ascending:!0}),{data:be}=await T.from("admission_specialties").select("*").order("order_index",{ascending:!0}),{data:we}=await T.from("admission_contact").select("*").order("created_at",{ascending:!1}).limit(1).single();p(H||null),x(G||[]),_(re||[]),j(be||[]),N(we||null),d(!1)})()},[]);const P={backgroundColor:t?"#07111a":"#f0f2f5",color:t?"#d6dbe3":"#333"},O={background:t?"rgba(255,255,255,0.03)":"white",color:t?"#d0d7de":"#333",boxShadow:t?"0 10px 30px rgba(2,6,23,0.6)":"0 4px 15px rgba(0, 0, 0, 0.1)"},E={background:t?"rgba(255,255,255,0.03)":"#f8f9fa",color:t?"#d0d7de":"#333"},U={background:t?"rgba(255,255,255,0.03)":"white",color:t?"#d0d7de":"#333",boxShadow:t?"0 10px 30px rgba(2,6,23,0.6)":"0 4px 15px rgba(0, 0, 0, 0.1)"},$={background:t?"rgba(255,255,255,0.02)":"#f8f9fa",color:t?"#d0d7de":"#333"};return de.createElement("div",{className:`${Ke.admissionProcess} ${t?"dark-mode-content":""}`,style:P},de.createElement("header",{className:Ke.header},de.createElement("h1",null,(u==null?void 0:u.header_title)||"Bienvenido al CBTA 134! "),de.createElement("p",{className:Ke.welcomeText},(u==null?void 0:u.header_subtitle)||"Tu futuro comienza aqu en San Francisco Tetlanohcan")),de.createElement("div",{className:Ke.container},de.createElement("div",{className:Ke.countdownContainer},de.createElement("h2",null," Prximos Procesos de Admisin 2026!"),de.createElement("div",{className:Ke.countdown},de.createElement("div",{className:Ke.countdownItem},de.createElement("span",null,S.days),de.createElement("p",null,"Das")),de.createElement("div",{className:Ke.countdownItem},de.createElement("span",null,S.hours.toString().padStart(2,"0")),de.createElement("p",null,"Horas")),de.createElement("div",{className:Ke.countdownItem},de.createElement("span",null,S.minutes.toString().padStart(2,"0")),de.createElement("p",null,"Minutos")),de.createElement("div",{className:Ke.countdownItem},de.createElement("span",null,S.seconds.toString().padStart(2,"0")),de.createElement("p",null,"Segundos"))),de.createElement("div",{className:Ke.countdownMessage},(u==null?void 0:u.countdown_message)||"Procesos de admisin inician el 1 de abril de 2026!")),de.createElement("div",{className:Ke.card,style:O},de.createElement("h2",{className:Ke.emojiTitle}," Fechas Importantes!"),de.createElement("div",{className:Ke.fechasGrid},(g.length>0?g:[]).map(B=>de.createElement("div",{key:B.id,className:Ke.fechaCard,style:E},de.createElement("h3",null,B.title),de.createElement("p",null,B.date_range),de.createElement("p",null,B.subtitle))))),de.createElement("div",{className:Ke.card,style:O},de.createElement("h2",{className:Ke.emojiTitle}," Qu necesitas traer?"),de.createElement("ul",{className:Ke.requisitosList},(b.length>0?b:[]).map(B=>de.createElement("li",{key:B.id,style:$},B.requirement)))),de.createElement("div",{className:Ke.card,style:O},de.createElement("h2",{className:Ke.emojiTitle}," Elige tu camino!"),de.createElement("div",{className:Ke.especialidadesGrid},(f.length>0?f:[]).map(B=>de.createElement("div",{key:B.id,className:Ke.especialidadCard,style:U},de.createElement("div",{className:Ke.emojiIcon},B.emoji),de.createElement("h3",null,B.name),de.createElement("p",null,B.description))))),de.createElement("div",{className:Ke.card,style:O},de.createElement("h2",{className:Ke.emojiTitle}," Contctanos!"),de.createElement("div",{className:Ke.contactoInfo},de.createElement("p",null,` Direccin: ${(k==null?void 0:k.address)||"CARRETERA TETLANOHCAN A MALINTZIN KILMETRO NUM. 3, San Francisco, Mxico, 90800"}`),de.createElement("p",null,`${(k==null?void 0:k.phone_label)||" Telfono"}: `,de.createElement("a",{href:k!=null&&k.phone_value?`tel:${k.phone_value.replace(/\s/g,"")}`:"tel:+522464623456",style:{color:t?"#93c5fd":"#3498db",textDecoration:"none"}},(k==null?void 0:k.phone_value)||"01 (246) 46 2 34 56")),de.createElement("p",null,`${(k==null?void 0:k.email_label)||" Correo"}: `,de.createElement("a",{href:k!=null&&k.email_value?`mailto:${k.email_value}`:"mailto:cbta134@yahoo.com.mx",target:"_blank",rel:"noopener noreferrer",style:{color:t?"#93c5fd":"#3498db",textDecoration:"none"}},(k==null?void 0:k.email_value)||"cbta134@yahoo.com.mx")),de.createElement("p",null,`${(k==null?void 0:k.website_label)||" Sitio Web"}: `,de.createElement("a",{href:(k==null?void 0:k.website_value)||"http://www.cbta134.edu.mx/",target:"_blank",rel:"noopener noreferrer",style:{color:t?"#93c5fd":"#3498db",textDecoration:"none"}},(k==null?void 0:k.website_value)||"www.cbta134.edu.mx")),de.createElement("p",null,(k==null?void 0:k.schedule)||" Horario: Lunes a Viernes 7:00 AM - 4:00 PM, Sbados 8:00 AM - 12:00 PM")))),de.createElement(vr,{onBack:s,text:"Regresar al Men Principal"}))},Ny=()=>{try{return typeof document<"u"&&document.body.classList.contains("dark-mode")}catch{return!1}},Cy=({onBack:s})=>{const t=Ny(),a={...lr.container,backgroundColor:t?"#07111a":lr.container.backgroundColor,color:t?"#d6dbe3":void 0},o={...lr.content,background:t?"rgba(255,255,255,0.03)":lr.content.background,boxShadow:t?"0 10px 30px rgba(2,6,23,0.7)":lr.content.boxShadow,color:t?"#c8cdd3":void 0};({...lr.header,backgroundColor:t||lr.header.backgroundColor});const d={...lr.contactInfo,backgroundColor:t?"rgba(76,175,80,0.08)":lr.contactInfo.backgroundColor};return n.jsxs("div",{style:a,children:[n.jsxs("header",{style:lr.header,children:[n.jsx("h1",{children:"Centro de Bachillerato Tecnolgico Agropecuario No. 134"}),n.jsx("h2",{children:'"Efram Hernndez Xolocotzi"'})]}),n.jsxs("div",{style:o,children:[n.jsx("h2",{children:"Prepa Abierta"}),n.jsx("p",{children:"Estudia tu bachillerato y una carrera tcnica en el rea agropecuaria, los das sbado."}),n.jsx("h3",{children:"Requisitos:"}),n.jsxs("ul",{style:lr.list,children:[n.jsx("li",{children:"Ser mayor de 18 aos"}),n.jsx("li",{children:"Certificado de secundaria (original y 1 copia)"}),n.jsx("li",{children:"Acta de nacimiento reciente (original y 1 copia)"}),n.jsx("li",{children:"6 fotografas tamao infantil, blanco y negro (en papel mate, no instantneas)"}),n.jsx("li",{children:"Credencial de elector (original para cotejar y 1 copia)"}),n.jsx("li",{children:"CURP (reciente)"}),n.jsx("li",{children:"Comprobante de domicilio (original para cotejar y 1 copia)"}),n.jsx("li",{children:"Nmero de seguridad social (IMSS)"})]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Nota:"})," La apertura de esta modalidad depender del nmero de interesados en inscribirse."]}),n.jsxs("div",{style:d,children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Direccin:"})," Calle Josefa Ortiz de Domnguez s/n, Barrio de Jess Xolalpan, San Francisco Tetlanohcan, Tlax."]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Telfono:"})," 246 467 42 37"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Ms informacin:"})," ",n.jsx("a",{href:"http://www.cbta134.edu.mx",style:lr.link,children:"www.cbta134.edu.mx"})]}),n.jsxs("p",{children:["Sguenos en redes sociales:"," ",n.jsx("a",{href:"https://www.facebook.com/micbta134",style:lr.link,children:"Facebook"})]})]})]}),n.jsx("footer",{style:lr.footer,children:n.jsx("p",{children:" 2025 CBTa 134 - Secretara de Educacin Pblica"})}),n.jsx(vr,{onBack:s,text:"Regresar al Men Principal"})]})},lr={container:{fontFamily:"Arial, sans-serif",margin:0,padding:0,paddingTop:"80px",backgroundColor:"#f9f9f9",minHeight:"100vh"},header:{backgroundColor:"#4caf50",color:"white",textAlign:"center",padding:"10px 0"},content:{maxWidth:"800px",margin:"20px auto",background:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.2)"},list:{listStyleType:"disc",marginLeft:"20px"},contactInfo:{backgroundColor:"#4caf50",color:"white",padding:"10px",borderRadius:"5px",textAlign:"center"},link:{color:"white",textDecoration:"underline"},footer:{textAlign:"center",marginTop:"20px",fontSize:"0.9em",color:"#666"}},Ey=()=>{try{return typeof document<"u"&&document.body.classList.contains("dark-mode")}catch{return!1}},Ty=()=>{const s=Qa(),t=()=>s("/"),a=[{name:"Cuadernillos",description:"Planeacin didctica y recursos educativos",icon:"",url:"http://www.planeaciondidactica.sems.gob.mx/login",color:"#007bff"},{name:"SISEEMS",description:"Sistema de Evaluacin y Seguimiento",icon:"",url:"http://168.255.121.25/develop/index.php?",color:"#28a745"},{name:"Taln de Pago",description:"Portal de autoservicios SEMS",icon:"",url:"https://portalautoservicios-sems.sep.gob.mx/login.jsp",color:"#ffc107"},{name:"DGETAYCM Mxico",description:"Direccin General de Educacin Tecnolgica Agropecuaria y Ciencias del Mar",icon:"",url:"https://dgetaycm.sep.gob.mx/",color:"#dc3545"},{name:"SEP Tlaxcala",description:"Secretara de Educacin Pblica Tlaxcala",icon:"",url:"https://www.septlaxcala.gob.mx",color:"#6f42c1"},{name:"Oficina Virtual ISSSTE",description:"Instituto de Seguridad y Servicios Sociales",icon:"",url:"https://oficinavirtual.issste.gob.mx/",color:"#20c997"}],[o,d]=v.useState(null),[u,p]=v.useState([]);v.useEffect(()=>{(async()=>{const{data:B}=await T.from("teachers_config").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:H}=await T.from("teachers_links").select("*").order("order_index",{ascending:!0});d(B||null),p((H||[]).filter(G=>G.is_active!==!1))})()},[]);const g=u.length>0?u:a,x=Ey(),b={padding:0,minHeight:"100vh",backgroundColor:x?"#0f1720":"#f8f9fa",fontFamily:"'Inter', sans-serif"},_={height:"400px",backgroundImage:`url("${(o==null?void 0:o.hero_image_url)||"/images/maestros-hero.png"}")`,backgroundSize:"cover",backgroundPosition:"center",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"40px"},f={position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(30, 60, 114, 0.7)",zIndex:1},j={fontSize:"32px",fontWeight:"bold",color:x?"#e6eef8":"#1e3c72",textAlign:"center",marginBottom:"20px"},k={fontSize:"18px",color:x?"#bfc7cf":"#666",textAlign:"center",marginBottom:"40px"},N={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"25px",maxWidth:"1200px",margin:"0 auto"},S={backgroundColor:x?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",overflow:"hidden",boxShadow:x?"0 12px 40px rgba(2,6,23,0.7)":"0 8px 25px rgba(0,0,0,0.1)",transition:"transform 0.3s ease, box-shadow 0.3s ease",cursor:"pointer",textDecoration:"none",color:"inherit"},A={padding:"25px"},P={fontSize:"20px",fontWeight:"bold",marginBottom:"10px",display:"flex",alignItems:"center",gap:"10px"},O={fontSize:"16px",color:x?"#c8cdd3":"#666",lineHeight:"1.6",marginBottom:"20px"},E={color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease",width:"100%",textDecoration:"none",display:"block",textAlign:"center"},U=$=>{window.open($,"_blank","noopener,noreferrer")};return n.jsxs("div",{style:b,children:[n.jsxs("div",{style:_,children:[n.jsx("div",{style:f}),n.jsxs("div",{style:{position:"relative",zIndex:2,textAlign:"center",padding:"0 20px"},children:[n.jsx("h1",{style:{...j,color:"white",marginBottom:"10px"},children:(o==null?void 0:o.title)||" Portal Docente"}),n.jsx("p",{style:{...k,color:"rgba(255,255,255,0.9)",marginBottom:"20px"},children:(o==null?void 0:o.subtitle)||"Gestiona los recursos educativos y el control de alumnos de la institucin."}),n.jsx("button",{onClick:()=>s("/maestros/admin"),style:{padding:"12px 24px",backgroundColor:"#e67e22",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",fontSize:"16px",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},children:(o==null?void 0:o.cta_label)||" Panel Administrativo (Ingresar)"})]})]}),n.jsxs("div",{style:{padding:"0 20px"},children:[n.jsx("div",{style:N,children:g.map(($,B)=>n.jsx("div",{style:S,onMouseEnter:H=>{H.currentTarget.style.transform="translateY(-5px)",H.currentTarget.style.boxShadow="0 12px 35px rgba(0,0,0,0.15)"},onMouseLeave:H=>{H.currentTarget.style.transform="translateY(0)",H.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.1)"},onClick:()=>U($.url),children:n.jsxs("div",{style:A,children:[n.jsxs("h3",{style:{...P,color:$.color},children:[n.jsx("span",{style:{fontSize:"24px"},children:$.icon}),$.name]}),n.jsx("p",{style:O,children:$.description}),n.jsx("button",{style:{...E,backgroundColor:"var(--primary-color)"},onMouseEnter:H=>{H.target.style.transform="scale(1.05)",H.target.style.boxShadow="0 4px 15px rgba(0,0,0,0.2)"},onMouseLeave:H=>{H.target.style.transform="scale(1)",H.target.style.boxShadow="none"},children:"Acceder al Portal "})]})},B))}),n.jsxs("div",{style:{background:x?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",padding:"25px",marginTop:"40px",boxShadow:x?"0 12px 35px rgba(2,6,23,0.7)":"0 8px 25px rgba(0,0,0,0.1)",maxWidth:"800px",margin:"40px auto 0 auto"},children:[n.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#1e3c72",marginBottom:"15px",textAlign:"center"},children:" Informacin Importante"}),n.jsxs("div",{style:{background:x?"rgba(30,60,114,0.12)":"#e3f2fd",padding:"20px",borderRadius:"10px",borderLeft:"4px solid #1e3c72"},children:[n.jsxs("p",{style:{fontSize:"16px",color:"#555",lineHeight:"1.6",marginBottom:"10px"},children:[n.jsx("strong",{children:" Nota:"})," Todos los enlaces externos se abrirn en una nueva ventana para tu comodidad."]}),n.jsxs("p",{style:{fontSize:"16px",color:"#555",lineHeight:"1.6",marginBottom:"10px"},children:[n.jsx("strong",{children:" Acceso:"})," Algunos portales requieren credenciales especficas proporcionadas por la institucin."]}),n.jsxs("p",{style:{fontSize:"16px",color:"#555",lineHeight:"1.6",marginBottom:"0"},children:[n.jsx("strong",{children:" Soporte:"})," Para problemas tcnicos, contacta al departamento de TI del CBTa 134."]})]})]}),n.jsx(vr,{onBack:t,text:"Regresar al Men Principal"})]})]})},Ay=({onBack:s})=>{const t={minHeight:"100vh",paddingTop:"80px",padding:"80px 20px 40px",backgroundColor:"#f8f9fa"},a={backgroundColor:"white",borderRadius:"20px",padding:"20px",maxWidth:"100%",width:"100%",margin:"0 auto",boxShadow:"0 15px 35px rgba(0, 0, 0, 0.1)",overflow:"hidden"},o={fontSize:"2.5rem",fontWeight:"bold",color:"#28a745",textAlign:"center",marginBottom:"30px"};return n.jsx("div",{className:"noticias-container",style:t,children:n.jsxs("div",{className:"noticias-card",style:a,children:[n.jsx(vr,{onClick:s}),n.jsx("h1",{style:o,children:" Noticias CBTA 134"}),n.jsxs("div",{style:{backgroundColor:"#e9f7ef",padding:"15px",borderRadius:"10px",marginBottom:"20px",borderLeft:"4px solid #28a745",color:"#155724"},children:[n.jsx("strong",{children:" Mantente al da:"})," Aqu puedes ver todas las publicaciones y noticias importantes de nuestra escuela directamente desde nuestra pgina oficial de Facebook."]}),n.jsxs("div",{className:"facebook-container",style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px",backgroundColor:"white",borderRadius:"10px",padding:"10px",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)",position:"relative",overflow:"hidden"},children:[n.jsx("iframe",{src:"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fmicbta134&tabs=timeline&width=500&height=700&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true&appId",style:{border:"none",borderRadius:"8px",width:"100%",maxWidth:"600px",height:"70vh",minHeight:"500px",maxHeight:"800px",margin:"0 auto",display:"block"},scrolling:"no",frameBorder:"0",allowFullScreen:!0,title:"Noticias CBTA 134 Facebook",onError:d=>{console.log("Error cargando Facebook iframe"),d.target.style.display="none",d.target.nextElementSibling.style.display="block"}}),n.jsxs("div",{style:{display:"none",padding:"40px",textAlign:"center",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"2px dashed #28a745",width:"100%",maxWidth:"600px",margin:"0 auto"},children:[n.jsx("h3",{style:{color:"#28a745",marginBottom:"15px"},children:" Sguenos en Facebook"}),n.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Visita nuestra pgina oficial para ver las ltimas noticias y actualizaciones."}),n.jsx("a",{href:"https://www.facebook.com/micbta134",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"12px 24px",backgroundColor:"#28a745",color:"white",textDecoration:"none",borderRadius:"8px",fontWeight:"bold",transition:"all 0.3s ease"},onMouseEnter:d=>{d.target.style.transform="translateY(-2px)",d.target.style.boxShadow="0 4px 12px rgba(40, 167, 69, 0.4)"},onMouseLeave:d=>{d.target.style.transform="translateY(0)",d.target.style.boxShadow="none"},children:" Visitar Pgina de Facebook"})]})]}),n.jsx("div",{style:{textAlign:"center",marginBottom:"20px",color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:"Las publicaciones se actualizan automticamente desde nuestra pgina oficial de Facebook."}),n.jsxs("div",{style:{backgroundColor:"#28a745",borderRadius:"15px",padding:"20px",textAlign:"center",color:"white"},children:[n.jsx("h3",{style:{margin:"0 0 10px 0"},children:" Sguenos en Redes Sociales"}),n.jsx("p",{style:{margin:0,fontSize:"0.95rem"},children:"No te pierdas ninguna novedad, evento o actividad del CBTA 134. nete a nuestra comunidad!"})]})]})})},$y=()=>{var Ce;const s=Qa(),[t,a]=v.useState(null),[o,d]=v.useState(null),[u,p]=v.useState({nombre:"",apellidos:"",curp:"",grado:"",grupo:"",numero_control:"",carrera_id:""}),[g,x]=v.useState(!0),[b,_]=v.useState(!1),[f,j]=v.useState(!1),[k,N]=v.useState(""),[S,A]=v.useState([]),[P,O]=v.useState([]),[E,U]=v.useState([]),[$,B]=v.useState(null);v.useEffect(()=>{be(),re(),H();const{data:{subscription:D}}=T.auth.onAuthStateChange(async(X,K)=>{K?await G(K.user.email)?(a(K.user),we(K.user.id),j(!1)):(j(!0),a(K.user)):(a(null),d(null),j(!1))});return()=>D.unsubscribe()},[]);const H=async()=>{const{data:D}=await T.from("access_config").select("*").eq("config_key","alumno_domain").single();D&&N(D.config_value)},G=async D=>{if(!D)return!1;const{data:X}=await T.from("access_config").select("config_value").eq("config_key","alumno_domain").single();if(!X||!X.config_value)return!0;const K=X.config_value.toLowerCase();return D.toLowerCase().endsWith(K)},re=async()=>{const{data:D}=await T.from("carreras_tecnicas").select("*").order("nombre",{ascending:!0});A(D||[])},be=async()=>{const{data:{session:D}}=await T.auth.getSession();D&&(await G(D.user.email)?(a(D.user),await we(D.user.id,D.user.email),j(!1)):(j(!0),a(D.user))),x(!1)},we=async(D,X)=>{let{data:K,error:L}=await T.from("profiles").select("*").eq("id",D).maybeSingle();if(!K||!K.rol){const{data:W,error:ue}=await T.from("profiles").upsert({id:D,rol:"alumno",email:X||null}).select().maybeSingle();ue&&console.error("Error creando perfil:",ue),K=W}K&&!K.email&&X&&(await T.from("profiles").update({email:X}).eq("id",D),K={...K,email:X}),d(K),K&&K.rol==="alumno"&&(B(K.grado||1),Be(D,K.grado||1))},Be=async(D,X)=>{const{data:K}=await T.from("calificaciones").select("*").eq("alumno_id",D).eq("semestre",X);O(K||[]);const{data:L}=await T.from("publicaciones_globales").select("*").order("created_at",{ascending:!1});U(L||[])},Te=async D=>{if(D.preventDefault(),u.numero_control.length!==14){alert("El nmero de control debe tener exactamente 14 dgitos.");return}const{error:X}=await T.from("profiles").update({nombre:u.nombre,apellidos:u.apellidos,curp:u.curp,numero_control:u.numero_control,grado:parseInt(u.grado),grupo:u.grupo.toUpperCase(),carrera_id:u.carrera_id?parseInt(u.carrera_id):null,updated_at:new Date().toISOString()}).eq("id",t.id);X?(console.error(X),alert("Error al guardar datos. Verifica tu conexin.")):(be(),_(!1))},Ze=()=>{_(!0),p({nombre:o.nombre||"",apellidos:o.apellidos||"",curp:o.curp||"",numero_control:o.numero_control||"",grado:o.grado||"",grupo:o.grupo||"",carrera_id:o.carrera_id||""})},ve=async()=>{const{error:D}=await T.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/alumnos"}});D&&(console.error("Error en login:",D.message),alert("No se pudo iniciar sesin: "+D.message))},Oe=async()=>{await T.auth.signOut()};return n.jsxs("div",{className:"alumnos-container",children:[n.jsxs("div",{className:"alumnos-header",children:[n.jsxs("button",{className:"back-button-alumnos",onClick:()=>s("/"),children:[n.jsx("span",{className:"back-icon",children:""})," Volver al Inicio"]}),n.jsx("h1",{className:"alumnos-title",children:"Portal Estudiantil"})]}),n.jsx("div",{className:"alumnos-content",children:n.jsxs("div",{className:"login-card-premium",children:[n.jsx("div",{className:"login-visual-new",style:{backgroundImage:'url("/images/alumnos-hero.png")',backgroundSize:"cover",backgroundPosition:"center",flex:"1",minHeight:"300px",position:"relative"},children:n.jsx("div",{className:"overlay-green",style:{position:"absolute",inset:0,background:"linear-gradient(to bottom, rgba(46, 204, 113, 0.2), rgba(39, 174, 96, 0.4))"}})}),n.jsxs("div",{className:"login-details",children:[f?n.jsxs("div",{style:{textAlign:"center",padding:"40px 20px"},children:[n.jsx("div",{style:{fontSize:"60px",marginBottom:"20px"},children:""}),n.jsx("h2",{style:{color:"#e74c3c",marginBottom:"15px"},children:"Acceso Denegado"}),n.jsx("p",{style:{color:"#666",marginBottom:"10px"},children:"Solo se permiten cuentas con el dominio:"}),n.jsx("p",{style:{fontWeight:"bold",color:"#2ecc71",fontSize:"18px",background:"#f0fff4",padding:"10px 20px",borderRadius:"8px",display:"inline-block",marginBottom:"15px"},children:k||"@cbta134.edu.mx"}),n.jsxs("p",{style:{color:"#888",fontSize:"14px",marginBottom:"20px"},children:["Tu correo: ",n.jsx("strong",{children:t==null?void 0:t.email})]}),n.jsx("button",{onClick:Oe,style:{background:"#e74c3c",color:"white",border:"none",padding:"12px 30px",borderRadius:"25px",cursor:"pointer",fontSize:"16px"},children:"Cerrar Sesin"})]}):t?!(o!=null&&o.curp)||b?n.jsxs("div",{className:"registration-form",children:[n.jsx("h2",{children:b?"Actualizar Datos":"Completa tu Perfil"}),n.jsx("p",{children:"Asegrate de que tus datos sean correctos."}),n.jsxs("form",{onSubmit:Te,children:[n.jsx("input",{type:"text",placeholder:"Nombre(s)",value:u.nombre,onChange:D=>p({...u,nombre:D.target.value}),required:!0}),n.jsx("input",{type:"text",placeholder:"Apellidos Completos",value:u.apellidos,onChange:D=>p({...u,apellidos:D.target.value}),required:!0}),n.jsx("input",{type:"text",placeholder:"No. Control (14 dgitos)",value:u.numero_control,maxLength:14,onChange:D=>{const X=D.target.value.replace(/[^0-9]/g,"");p({...u,numero_control:X})},required:!0,title:"Debes ingresar exactamente 14 nmeros"}),n.jsx("input",{type:"text",placeholder:"CURP (18 caracteres)",maxLength:"18",value:u.curp,onChange:D=>p({...u,curp:D.target.value.toUpperCase()}),required:!0}),n.jsxs("div",{className:"form-row",children:[n.jsxs("select",{value:u.grado,onChange:D=>p({...u,grado:D.target.value}),required:!0,children:[n.jsx("option",{value:"",children:"Grado"}),n.jsx("option",{value:"1",children:"1 Semestre"}),n.jsx("option",{value:"2",children:"2 Semestre"}),n.jsx("option",{value:"3",children:"3 Semestre"}),n.jsx("option",{value:"4",children:"4 Semestre"}),n.jsx("option",{value:"5",children:"5 Semestre"}),n.jsx("option",{value:"6",children:"6 Semestre"})]}),n.jsxs("select",{value:u.grupo,onChange:D=>p({...u,grupo:D.target.value}),required:!0,children:[n.jsx("option",{value:"",children:"Grupo"}),n.jsx("option",{value:"A",children:"A"}),n.jsx("option",{value:"B",children:"B"}),n.jsx("option",{value:"C",children:"C"}),n.jsx("option",{value:"D",children:"D"}),n.jsx("option",{value:"E",children:"E"}),n.jsx("option",{value:"F",children:"F"}),n.jsx("option",{value:"G",children:"G"})]})]}),n.jsx("div",{className:"form-row",style:{marginTop:"10px"},children:n.jsxs("select",{value:u.carrera_id||"",onChange:D=>p({...u,carrera_id:D.target.value}),required:!0,style:{width:"100%"},children:[n.jsx("option",{value:"",children:"Selecciona tu Carrera Tcnica"}),S.map(D=>n.jsx("option",{value:D.id,children:D.nombre},D.id))]})}),n.jsxs("div",{style:{display:"flex",gap:"10px"},children:[n.jsx("button",{type:"submit",className:"google-login-btn",children:"Guardar Datos"}),b&&n.jsx("button",{type:"button",className:"google-login-btn cancel-btn",onClick:()=>_(!1),style:{background:"#f1f1f1",border:"1px solid #ccc"},children:"Cancelar"})]})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("h2",{children:["Hola, ",o.nombre,"!"]}),n.jsxs("div",{className:"profile-info-mini",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"Correo:"})," ",(t==null?void 0:t.email)||(o==null?void 0:o.email)||"No disponible"]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Matrcula/CURP:"})," ",o.curp]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Grado y Grupo:"})," ",o.grado,"",o.grupo]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Carrera:"})," ",((Ce=S.find(D=>D.id===o.carrera_id))==null?void 0:Ce.nombre)||"Sin Asignar"]}),n.jsx("button",{onClick:Ze,style:{background:"none",border:"none",color:"#27ae60",textDecoration:"underline",cursor:"pointer",fontSize:"0.9rem",marginTop:"5px",padding:0},children:"Editar mis datos"})]}),n.jsx("p",{children:"Ya puedes consultar tu informacin acadmica. El administrador subir tus calificaciones pronto."}),n.jsxs("div",{className:"student-dashboard",children:[n.jsxs("section",{className:"dashboard-section",children:[n.jsx("h3",{children:" Tablero de Avisos"}),E.length===0?n.jsx("p",{style:{fontStyle:"italic",color:"#999"},children:"No hay avisos recientes."}):n.jsx("div",{className:"announcements-list",children:E.map(D=>n.jsxs("div",{className:"announcement-card",children:[n.jsx("h4",{children:D.titulo}),n.jsx("p",{children:D.contenido}),D.media_url&&n.jsx("div",{className:"announcement-media",style:{marginTop:"1rem"},children:D.media_type==="video"?n.jsx("video",{src:D.media_url,controls:!0,style:{width:"100%",borderRadius:"8px"}}):n.jsx("img",{src:D.media_url,alt:"Aviso",style:{width:"100%",borderRadius:"8px"}})}),n.jsx("small",{children:new Date(D.created_at).toLocaleDateString()})]},D.id))})]}),n.jsxs("section",{className:"dashboard-section",children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[n.jsx("h3",{children:" Boleta de Calificaciones"}),n.jsx("select",{value:$,onChange:D=>{const X=parseInt(D.target.value);B(X),Be(t.id,X)},className:"semester-selector",style:{padding:"5px",borderRadius:"5px",border:"1px solid #ddd"},children:[1,2,3,4,5,6].map(D=>n.jsxs("option",{value:D,children:[D," Semestre"]},D))})]}),P.length===0?n.jsx("p",{style:{textAlign:"center",padding:"2rem",background:"#f8f9fa",borderRadius:"8px"},children:"No hay calificaciones registradas para este semestre."}):n.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[n.jsxs("div",{children:[n.jsx("h4",{style:{color:"#2c3e50",borderBottom:"2px solid #3498db",paddingBottom:"0.5rem",marginBottom:"1rem",display:"inline-block"},children:" Formacin Bsica"}),n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"student-grades-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Materia"}),n.jsx("th",{style:{textAlign:"center"},children:"P1"}),n.jsx("th",{style:{textAlign:"center"},children:"P2"}),n.jsx("th",{style:{textAlign:"center"},children:"P3"}),n.jsx("th",{style:{textAlign:"center"},children:"Promedio"})]})}),n.jsxs("tbody",{children:[P.filter(D=>D.tipo_materia!=="especialidad").map(D=>n.jsxs("tr",{children:[n.jsx("td",{children:D.materia}),n.jsx("td",{style:{textAlign:"center"},children:D.parcial1||"-"}),n.jsx("td",{style:{textAlign:"center"},children:D.parcial2||"-"}),n.jsx("td",{style:{textAlign:"center"},children:D.parcial3||"-"}),n.jsx("td",{style:{textAlign:"center"},children:D.promedio_final?n.jsx("span",{className:`grade-badge ${D.promedio_final>=9?"excellent":D.promedio_final>=7?"good":"bad"}`,children:D.promedio_final}):"-"})]},D.id)),P.filter(D=>D.tipo_materia!=="especialidad").length===0&&n.jsx("tr",{children:n.jsx("td",{colSpan:"5",style:{textAlign:"center",color:"#999"},children:"No hay materias bsicas registradas."})})]})]})})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{color:"#8e44ad",borderBottom:"2px solid #9b59b6",paddingBottom:"0.5rem",marginBottom:"1rem",display:"inline-block"},children:" Formacin Profesional"}),P.filter(D=>D.tipo_materia==="especialidad").length>0?n.jsx("div",{style:{overflowX:"auto"},children:n.jsxs("table",{className:"student-grades-table",children:[n.jsx("thead",{children:n.jsxs("tr",{children:[n.jsx("th",{children:"Materia"}),n.jsx("th",{style:{textAlign:"center"},children:"P1"}),n.jsx("th",{style:{textAlign:"center"},children:"P2"}),n.jsx("th",{style:{textAlign:"center"},children:"P3"}),n.jsx("th",{style:{textAlign:"center"},children:"Promedio"})]})}),n.jsx("tbody",{children:P.filter(D=>D.tipo_materia==="especialidad").map(D=>n.jsxs("tr",{children:[n.jsxs("td",{children:[D.materia,n.jsx("span",{style:{display:"block",fontSize:"0.75rem",color:"#8e44ad"},children:"Especialidad"})]}),n.jsx("td",{style:{textAlign:"center"},children:D.parcial1||"-"}),n.jsx("td",{style:{textAlign:"center"},children:D.parcial2||"-"}),n.jsx("td",{style:{textAlign:"center"},children:D.parcial3||"-"}),n.jsx("td",{style:{textAlign:"center"},children:D.promedio_final?n.jsx("span",{className:`grade-badge ${D.promedio_final>=9?"excellent":D.promedio_final>=7?"good":"bad"}`,children:D.promedio_final}):"-"})]},D.id))})]})}):n.jsx("div",{style:{padding:"1rem",background:"#fdf2fa",border:"1px dashed #e5b0ea",borderRadius:"8px",color:"#8e44ad"},children:"No tienes materias de especialidad registradas en este semestre."})]})]})]})]}),n.jsx("div",{className:"auth-methods",style:{marginTop:"2rem"},children:n.jsx("button",{className:"google-login-btn logout-btn",onClick:Oe,children:n.jsx("span",{children:"Cerrar Sesin"})})})]}):n.jsxs(n.Fragment,{children:[n.jsx("h2",{children:"Bienvenido, Alumno!"}),n.jsx("p",{children:"Accede a tus calificaciones, horarios y recursos acadmicos de manera segura."}),n.jsx("div",{className:"auth-methods",children:n.jsxs("button",{className:"google-login-btn",onClick:ve,children:[n.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg",alt:"Google"}),n.jsx("span",{children:"Iniciar sesin con Google"})]})})]}),n.jsx("div",{className:"login-footer",children:n.jsxs("p",{children:["Tienes problemas para entrar? ",n.jsx("a",{href:"#contacto",children:"Contacta a soporte"})]})})]})]})})]})},Ry=({isOpen:s,onClose:t,onClubAdded:a,clubToEdit:o=null})=>{const[d,u]=v.useState({nombre:"",categoria:"Deportivo",descripcion:"",beneficios:"",tipoVisual:"emoji",icono:"",color:"#4a90e2",foto:null,link:""}),[p,g]=v.useState(!1),[x,b]=v.useState(null);if(v.useEffect(()=>{u(o?{nombre:o.nombre||"",categoria:o.categoria||"Deportivo",descripcion:o.descripcion||"",beneficios:o.beneficios||"",tipoVisual:o.foto_url?"foto":"emoji",icono:o.icono||"",color:o.color||"#4a90e2",foto:null,link:o.link||"",existingFotoUrl:o.foto_url}:{nombre:"",categoria:"Deportivo",descripcion:"",beneficios:"",tipoVisual:"emoji",icono:"",color:"#4a90e2",foto:null,link:""})},[o,s]),!s)return null;const _=U=>{const{name:$,value:B}=U.target;u(H=>({...H,[$]:B}))},f=U=>{U.target.files&&U.target.files[0]&&u($=>({...$,foto:U.target.files[0]}))},j=async U=>{U.preventDefault(),g(!0),b(null);try{let $=d.existingFotoUrl;if(d.tipoVisual==="foto"&&d.foto){const re=d.foto.name.split(".").pop(),we=`${`${Math.random()}.${re}`}`,{error:Be}=await T.storage.from("clubs_media").upload(we,d.foto);if(Be)throw Be;const{data:Te}=T.storage.from("clubs_media").getPublicUrl(we);$=Te.publicUrl}else d.tipoVisual==="emoji"&&($=null);const B={nombre:d.nombre,categoria:d.categoria,descripcion:d.descripcion,beneficios:d.beneficios,foto_url:$,icono:d.tipoVisual==="emoji"?d.icono:null,color:d.tipoVisual==="emoji"?d.color:null,link:d.link||null};let H;o?H=T.from("clubs").update(B).eq("id",o.id):H=T.from("clubs").insert([B]);const{error:G}=await H;if(G)throw G;a(),t()}catch($){console.error("Error saving club:",$),b($.message||"Error al guardar el club")}finally{g(!1)}},k={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},N={backgroundColor:"#fff",padding:"30px",borderRadius:"15px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 10px 40px rgba(0,0,0,0.3)",color:"#333"},S={marginBottom:"15px"},A={display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"14px",color:"#555"},P={width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ddd",fontSize:"14px"},O={padding:"10px 20px",borderRadius:"5px",border:"none",cursor:"pointer",fontWeight:"bold",marginTop:"10px"},E=["#4a90e2","#e74c3c","#2ecc71","#f1c40f","#9b59b6","#e67e22","#1abc9c","#34495e"];return n.jsx("div",{style:k,children:n.jsxs("div",{style:N,children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:0,color:"#2c3e50"},children:o?"Editar Club":"Agregar Nuevo Club"}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#999"},children:""})]}),x&&n.jsx("div",{style:{backgroundColor:"#ffebee",color:"#c62828",padding:"10px",borderRadius:"5px",marginBottom:"15px",fontSize:"14px"},children:x}),n.jsxs("form",{onSubmit:j,children:[n.jsxs("div",{style:S,children:[n.jsx("label",{style:A,children:"Nombre del Club"}),n.jsx("input",{required:!0,type:"text",name:"nombre",value:d.nombre,onChange:_,style:P,placeholder:"Ej. Ftbol Varonil"})]}),n.jsxs("div",{style:S,children:[n.jsx("label",{style:A,children:"Categora"}),n.jsxs("select",{name:"categoria",value:d.categoria,onChange:_,style:P,children:[n.jsx("option",{value:"Deportivo",children:"Deportivo"}),n.jsx("option",{value:"Cultural",children:"Cultural"}),n.jsx("option",{value:"Academico",children:"Acadmico"})]})]}),n.jsxs("div",{style:S,children:[n.jsx("label",{style:A,children:"Descripcin"}),n.jsx("textarea",{required:!0,name:"descripcion",value:d.descripcion,onChange:_,style:{...P,minHeight:"80px",fontFamily:"inherit"},placeholder:"Breve descripcin de las actividades..."})]}),n.jsxs("div",{style:S,children:[n.jsx("label",{style:A,children:"Beneficios (separados por )"}),n.jsx("input",{type:"text",name:"beneficios",value:d.beneficios,onChange:_,style:P,placeholder:"Ej. Salud  Disciplina  Diversin"})]}),n.jsxs("div",{style:S,children:[n.jsx("label",{style:A,children:"Link de Redireccin (Opcional)"}),n.jsx("input",{type:"url",name:"link",value:d.link,onChange:_,style:P,placeholder:"https://pagina-externa.com"})]}),n.jsxs("div",{style:S,children:[n.jsx("label",{style:A,children:"Apariencia"}),n.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[n.jsx("button",{type:"button",onClick:()=>u(U=>({...U,tipoVisual:"emoji"})),style:{...O,backgroundColor:d.tipoVisual==="emoji"?"#3498db":"#f0f2f5",color:d.tipoVisual==="emoji"?"white":"#7f8c8d",marginTop:0,flex:1},children:"Emoji + Color"}),n.jsx("button",{type:"button",onClick:()=>u(U=>({...U,tipoVisual:"foto"})),style:{...O,backgroundColor:d.tipoVisual==="foto"?"#3498db":"#f0f2f5",color:d.tipoVisual==="foto"?"white":"#7f8c8d",marginTop:0,flex:1},children:"Foto Personalizada"})]}),d.tipoVisual==="emoji"?n.jsxs("div",{style:{background:"#f8f9fa",padding:"15px",borderRadius:"8px"},children:[n.jsxs("div",{style:{marginBottom:"10px"},children:[n.jsx("label",{style:{...A,fontSize:"13px"},children:"Emoji:"}),n.jsx("input",{type:"text",name:"icono",value:d.icono,onChange:_,style:{...P,fontSize:"24px",textAlign:"center",width:"60px"},placeholder:""})]}),n.jsxs("div",{children:[n.jsx("label",{style:{...A,fontSize:"13px"},children:"Color de Fondo:"}),n.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"10px"},children:[E.map(U=>n.jsx("button",{type:"button",onClick:()=>u($=>({...$,color:U})),style:{width:"30px",height:"30px",borderRadius:"50%",backgroundColor:U,border:d.color===U?"2px solid #333":"2px solid transparent",cursor:"pointer",padding:0}},U)),n.jsx("input",{type:"color",name:"color",value:d.color,onChange:_,style:{width:"32px",height:"32px",padding:0,border:"none",background:"none",cursor:"pointer"}})]})]}),n.jsxs("div",{style:{marginTop:"10px",textAlign:"center"},children:[n.jsx("label",{style:{...A,fontSize:"12px",marginBottom:"5px"},children:"Vista Previa:"}),n.jsx("div",{style:{width:"100%",height:"80px",backgroundColor:d.color,borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",color:"white",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:d.icono})]})]}):n.jsxs("div",{style:{textAlign:"center",padding:"20px",border:"2px dashed #ddd",borderRadius:"8px"},children:[d.existingFotoUrl&&n.jsxs("div",{style:{marginBottom:"10px"},children:[n.jsx("img",{src:d.existingFotoUrl,alt:"Preview",style:{height:"60px",borderRadius:"5px"}}),n.jsx("p",{style:{fontSize:"11px",margin:"2px 0 10px 0"},children:"Imagen actual (subir otra para cambiar)"})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:f,style:{...P,border:"none"}}),n.jsx("p",{style:{fontSize:"12px",color:"#999",margin:"5px 0 0 0"},children:"Formatos: JPG, PNG, WEBP"})]})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[n.jsx("button",{type:"button",onClick:t,style:{...O,backgroundColor:"#eceff1",color:"#546e7a"},disabled:p,children:"Cancelar"}),n.jsx("button",{type:"submit",style:{...O,backgroundColor:"#28a745",color:"white"},disabled:p,children:p?"Guardando...":o?"Actualizar Club":"Crear Club"})]})]})]})})},Py=({isOpen:s,onClose:t,onCareerAdded:a,careerToEdit:o=null})=>{const[d,u]=v.useState({nombre:"",descripcion:"",programa_competencia:"",justificacion:"",perfil_egreso:"",area_especializacion:"",habilidades_socioemocionales:"",oportunidades_profesionales:"",imagenFile:null,pdfFile:null,pdf_start_page:1}),[p,g]=v.useState(!1),[x,b]=v.useState(null);if(v.useEffect(()=>{u(o?{nombre:o.nombre||"",descripcion:o.descripcion||"",programa_competencia:o.programa_competencia||"",justificacion:o.justificacion||"",perfil_egreso:o.perfil_egreso||"",area_especializacion:o.area_especializacion||"",habilidades_socioemocionales:o.habilidades_socioemocionales||"",oportunidades_profesionales:o.oportunidades_profesionales||"",imagenFile:null,pdfFile:null,pdf_start_page:o.pdf_start_page||1,existingImagenUrl:o.imagen_url,existingPdfUrl:o.plan_estudios_url}:{nombre:"",descripcion:"",programa_competencia:"",justificacion:"",perfil_egreso:"",area_especializacion:"",habilidades_socioemocionales:"",oportunidades_profesionales:"",imagenFile:null,pdfFile:null,pdf_start_page:1})},[o,s]),!s)return null;const _=U=>{const{name:$,value:B}=U.target;u(H=>({...H,[$]:B}))},f=(U,$)=>{U.target.files&&U.target.files[0]&&u(B=>({...B,[$]:U.target.files[0]}))},j=async(U,$)=>{const B=U.name.split(".").pop(),H=`${$}/${Math.random()}.${B}`,{error:G}=await T.storage.from("carreras_media").upload(H,U);if(G)throw G;const{data:re}=T.storage.from("carreras_media").getPublicUrl(H);return re.publicUrl},k=async U=>{U.preventDefault(),g(!0),b(null);try{let $=d.existingImagenUrl,B=d.existingPdfUrl;if(d.imagenFile&&($=await j(d.imagenFile,"images")),d.pdfFile&&(B=await j(d.pdfFile,"pdfs")),!$)throw new Error("La imagen es obligatoria");const H={nombre:d.nombre,descripcion:d.descripcion,imagen_url:$,programa_competencia:d.programa_competencia,justificacion:d.justificacion,perfil_egreso:d.perfil_egreso,area_especializacion:d.area_especializacion,habilidades_socioemocionales:d.habilidades_socioemocionales,oportunidades_profesionales:d.oportunidades_profesionales,plan_estudios_url:B||null,pdf_start_page:parseInt(d.pdf_start_page)||1};let G;o?G=T.from("carreras_tecnicas").update(H).eq("id",o.id):G=T.from("carreras_tecnicas").insert([H]);const{error:re}=await G;if(re)throw re;a(),t()}catch($){console.error("Error saving career:",$),b($.message||"Error al guardar la carrera tcnica")}finally{g(!1)}},N={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},S={backgroundColor:"#fff",padding:"30px",borderRadius:"15px",width:"90%",maxWidth:"700px",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 10px 40px rgba(0,0,0,0.3)",color:"#333"},A={marginBottom:"15px"},P={display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"14px",color:"#555"},O={width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ddd",fontSize:"14px"},E={padding:"10px 20px",borderRadius:"5px",border:"none",cursor:"pointer",fontWeight:"bold",marginTop:"10px"};return n.jsx("div",{style:N,children:n.jsxs("div",{style:S,children:[n.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[n.jsx("h2",{style:{margin:0,color:"#2c3e50"},children:o?"Editar Carrera Tcnica":"Agregar Nueva Carrera Tcnica"}),n.jsx("button",{onClick:t,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#999"},children:""})]}),x&&n.jsx("div",{style:{backgroundColor:"#ffebee",color:"#c62828",padding:"10px",borderRadius:"5px",marginBottom:"15px",fontSize:"14px"},children:x}),n.jsxs("form",{onSubmit:k,children:[n.jsxs("div",{style:A,children:[n.jsx("label",{style:P,children:"Nombre de la Carrera*"}),n.jsx("input",{required:!0,type:"text",name:"nombre",value:d.nombre,onChange:_,style:O,placeholder:"Ej. Tcnico en Programacin"})]}),n.jsxs("div",{style:A,children:[n.jsx("label",{style:P,children:"Descripcin"}),n.jsx("textarea",{name:"descripcion",value:d.descripcion,onChange:_,style:{...O,minHeight:"80px",fontFamily:"inherit"},placeholder:"Descripcin general de la carrera..."})]}),n.jsxs("div",{style:A,children:[n.jsx("label",{style:P,children:"Imagen de la Carrera*"}),d.existingImagenUrl&&n.jsxs("div",{style:{marginBottom:"10px"},children:[n.jsx("img",{src:d.existingImagenUrl,alt:"Preview",style:{height:"60px",borderRadius:"5px"}}),n.jsx("p",{style:{fontSize:"11px",margin:"2px 0 10px 0"},children:"Imagen actual (subir otra para cambiar)"})]}),n.jsx("input",{type:"file",accept:"image/*",onChange:U=>f(U,"imagenFile"),style:{...O,border:"none"},required:!d.existingImagenUrl}),n.jsx("p",{style:{fontSize:"12px",color:"#999",margin:"5px 0 0 0"},children:"Formatos: JPG, PNG, WEBP"})]}),n.jsxs("div",{style:A,children:[n.jsx("label",{style:P,children:"Programa de Competencias"}),n.jsx("textarea",{name:"programa_competencia",value:d.programa_competencia,onChange:_,style:{...O,minHeight:"100px",fontFamily:"inherit"},placeholder:"Descripcin del programa de competencias..."})]}),n.jsxs("div",{style:A,children:[n.jsx("label",{style:P,children:"Justificacin"}),n.jsx("textarea",{name:"justificacion",value:d.justificacion,onChange:_,style:{...O,minHeight:"100px",fontFamily:"inherit"},placeholder:"Justificacin de la carrera..."})]}),n.jsxs("div",{style:A,children:[n.jsx("label",{style:P,children:"Perfil de Egreso"}),n.jsx("textarea",{name:"perfil_egreso",value:d.perfil_egreso,onChange:_,style:{...O,minHeight:"100px",fontFamily:"inherit"},placeholder:"Perfil del egresado..."})]}),n.jsxs("div",{style:A,children:[n.jsx("label",{style:P,children:"rea de Especializacin"}),n.jsx("input",{type:"text",name:"area_especializacion",value:d.area_especializacion,onChange:_,style:O,placeholder:"Ej. Tecnologas de la Informacin"})]}),n.jsxs("div",{style:A,children:[n.jsx("label",{style:P,children:"Habilidades Socioemocionales"}),n.jsx("textarea",{name:"habilidades_socioemocionales",value:d.habilidades_socioemocionales,onChange:_,style:{...O,minHeight:"80px",fontFamily:"inherit"},placeholder:"Habilidades socioemocionales desarrolladas..."})]}),n.jsxs("div",{style:A,children:[n.jsx("label",{style:P,children:"Oportunidades Profesionales"}),n.jsx("textarea",{name:"oportunidades_profesionales",value:d.oportunidades_profesionales,onChange:_,style:{...O,minHeight:"80px",fontFamily:"inherit"},placeholder:"Campo laboral y oportunidades..."})]}),n.jsxs("div",{style:A,children:[n.jsx("label",{style:P,children:"Plan de Estudios (PDF)"}),d.existingPdfUrl&&n.jsxs("div",{style:{marginBottom:"10px"},children:[n.jsx("a",{href:d.existingPdfUrl,target:"_blank",rel:"noopener noreferrer",style:{color:"#3498db",fontSize:"12px"},children:" Ver PDF actual"}),n.jsx("p",{style:{fontSize:"11px",margin:"2px 0 10px 0"},children:"Subir otro para reemplazar"})]}),n.jsx("input",{type:"file",accept:"application/pdf",onChange:U=>f(U,"pdfFile"),style:{...O,border:"none"}}),n.jsx("p",{style:{fontSize:"12px",color:"#999",margin:"5px 0 0 0"},children:"Formato: PDF"})]}),n.jsxs("div",{style:A,children:[n.jsx("label",{style:P,children:"Pgina Inicial del PDF (opcional)"}),n.jsx("input",{type:"number",name:"pdf_start_page",min:"1",value:d.pdf_start_page,onChange:_,style:{...O,maxWidth:"150px"},placeholder:"1"}),n.jsx("p",{style:{fontSize:"12px",color:"#999",margin:"5px 0 0 0"},children:"Especifica qu pgina se mostrar primero en la vista pblica (ej: 2, 8, 12)"})]}),n.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[n.jsx("button",{type:"button",onClick:t,style:{...E,backgroundColor:"#eceff1",color:"#546e7a"},disabled:p,children:"Cancelar"}),n.jsx("button",{type:"submit",style:{...E,backgroundColor:"#28a745",color:"white"},disabled:p,children:p?"Guardando...":o?"Actualizar Carrera":"Crear Carrera"})]})]})]})})},Iy=()=>{var Ge;const s=Qa(),[t,a]=v.useState(null),[o,d]=v.useState(null),[u,p]=v.useState([]),[g,x]=v.useState(!0),[b,_]=v.useState({titulo:"",contenido:""}),[f,j]=v.useState(!1),[k,N]=v.useState(!1),[S,A]=v.useState("dashboard"),[P,O]=v.useState([]),[E,U]=v.useState(!1),[$,B]=v.useState(null),[H,G]=v.useState([]),[re,be]=v.useState(!1),[we,Be]=v.useState(null),[Te,Ze]=v.useState(null),[ve,Oe]=v.useState({target_date:"",countdown_message:"",header_title:"",header_subtitle:""}),[Ce,D]=v.useState([]),[X,K]=v.useState({title:"",date_range:"",subtitle:""}),[L,W]=v.useState(null),[ue,fe]=v.useState([]),[_e,je]=v.useState({requirement:""}),[Re,Ee]=v.useState(null),[De,zt]=v.useState([]),[Jt,$n]=v.useState({emoji:"",name:"",description:""}),[ds,Ya]=v.useState(null),[ta,zl]=v.useState(null),[nt,wr]=v.useState({address:"",phone_label:"",phone_value:"",email_label:"",email_value:"",website_label:"",website_value:"",schedule:""}),[us,ra]=v.useState(null),[me,xt]=v.useState({hero_image_url:"",title:"",subtitle:"",target_date:"",countdown_label:"",countdown_date_text:"",inscriptions_title:"",inscriptions_period_title:"",inscriptions_period_description:"",requirements_title:"",advantages_title:"",contact_title:"",contact_description:""}),[uo,Ml]=v.useState([]),[Mr,hs]=v.useState({title:"",description:""}),[na,sa]=v.useState(null),[ho,aa]=v.useState([]),[cr,ia]=v.useState({icon:"",text:""}),[Xa,po]=v.useState(null),[ql,fo]=v.useState([]),[_r,Rn]=v.useState({title:"",description:""}),[oa,Za]=v.useState(null),[Pn,ps]=v.useState([]),[la,ca]=v.useState({line_text:""}),[ei,mo]=v.useState(null),[da,go]=v.useState(null),[Qe,St]=v.useState({address_line1:"",address_line2:"",address_line3:"",phone:"",email:"",website:"",rating_text:"",status_text:"",hours_line1:"",hours_line2:""}),[ti,ua]=v.useState([]),[jr,Sr]=v.useState({icon:"",title:"",detail:""}),[fs,ha]=v.useState(null),[ri,_d]=v.useState([]),[Qt,In]=v.useState({icon:"",name:"",url:"",description:""}),[qr,xo]=v.useState(null),[pa,jd]=v.useState(null),[On,ni]=v.useState({address_text:"",map_embed_url:""}),[bo,Hl]=v.useState([]),[dn,fa]=v.useState({question:"",answer:""}),[Ye,Vl]=v.useState(null),[ms,Wl]=v.useState(null),[dr,si]=v.useState({title:"",description:"",highlight_text:""}),[kr,ma]=v.useState(null),[Ae,ur]=v.useState({title:"",logo_url:"",croquis_image_url:"",history_text:"",mission_text:"",vision_text:"",lema_text:"",commitment_text_1:"",commitment_text_2:""}),[Pt,Gl]=v.useState(null),[Kl,ai]=v.useState(!1),[ga,ii]=v.useState([]),[It,Hr]=v.useState({icon:"",title:"",description:""}),[yo,Jl]=v.useState(null),[oi,Ql]=v.useState([]),[ze,Mt]=v.useState({section:"instalaciones",title:"",description:"",image_url:"",is_locked:!1}),[vo,li]=v.useState(null),[$e,wo]=v.useState(null),[_o,xa]=v.useState(!1),[ba,Yl]=v.useState(null),[Dn,ya]=v.useState({logo_url:"",title_text:""}),[va,un]=v.useState([]),[ft,qt]=v.useState({label:"",href:"",path:""}),[Ln,gs]=v.useState(null),[hr,Sd]=v.useState(null),[it,Ht]=v.useState({school_name:"",location_text:"",tagline_text:"",copyright_text:"",rights_text:"",legal_text_1:"",legal_text_2:"",legal_text_3:""}),[Xl,Zl]=v.useState([]),[kt,hn]=v.useState({label:"",href:"",icon_url:"",style_class:""}),[jo,xs]=v.useState(null),[bs,ys]=v.useState([]),[Ot,vs]=v.useState({image_url:"",is_locked:!1}),[So,ci]=v.useState(null),[Bn,di]=v.useState(null),[ko,Nr]=v.useState(!1),[ui,hi]=v.useState([]),[et,Yt]=v.useState({image_url:"",title:"",description:"",path:"",is_locked:!1}),[ws,No]=v.useState(null),[bt,Un]=v.useState(null),[pi,Fn]=v.useState(!1),[fi,Co]=v.useState(null),[pr,Vr]=v.useState({title:"",subtitle:"",hero_image_url:"",cta_label:""}),[wa,ec]=v.useState([]),[He,Cr]=v.useState({name:"",description:"",icon:"",url:"",color:"",order_index:"",is_active:!0}),[Eo,mi]=v.useState(null),[gi,kd]=v.useState(null),[Er,_a]=v.useState({title:"",subtitle:"",license_title:"",license_text:""}),[tc,rc]=v.useState([]),[Nt,pn]=v.useState({full_name:"",career:"",description:"",photo_url:""}),[To,nc]=v.useState(null),[_s,sc]=v.useState(null),[ac,Ao]=v.useState(!1),[Wr,Nd]=v.useState(null),[ge,Tr]=v.useState({provider:"groq",base_url:"",api_key:"",groq_api_key:"",gemini_api_key:"",model:"",system_prompt:"",enable_db_context:!0,enabled:!0,fallback_enabled:!1,primary_provider:"groq"}),[ic,oc]=v.useState(!1),[lc,Cd]=v.useState([]),[Ar,zn]=v.useState({provider:"groq",name:""}),[xi,cc]=v.useState(""),[$o,bi]=v.useState(""),[Ro,Po]=v.useState(!1),[fn,Ed]=v.useState(!1),[dc,Td]=v.useState([]),[yi,uc]=v.useState(!1),[ja,js]=v.useState(!1),[Gr,Sa]=v.useState(null),[Ad,Io]=v.useState(!1),[Ve,Kr]=v.useState({subject:"",messageHtml:"",messageText:"",sendToAll:!1,grados:[],grupos:[]}),[vi,Oo]=v.useState(!1),[wi,$r]=v.useState(null),[Mn,Rr]=v.useState(!1),[Do,hc]=v.useState(!1),[Xt,Dt]=v.useState(null),[Lo,Jr]=v.useState(null),[pc,ka]=v.useState(!1),[Zt,fc]=v.useState({user:"",password:""}),[mc,Pr]=v.useState(""),[_i,Ss]=v.useState(!1),[ks,gc]=v.useState([]),[ji,mn]=v.useState(!1),[Bo,Ns]=v.useState(!1),[qn,Uo]=v.useState(""),[Fo,zo]=v.useState(!1),[Ir,Na]=v.useState({alumno_domain:"",maestro_user:"",maestro_password:""}),[Mo,Qr]=v.useState(!1),[qo,Ca]=v.useState(!1),[Si,Ho]=v.useState(null),[Hn,Vo]=v.useState([]),[ki,Wo]=v.useState(1),[ye,gn]=v.useState({materia:"",parcial1:"",parcial2:"",parcial3:"",tipo:"basica"}),[Ea,xn]=v.useState("semesters"),[bn,Ni]=v.useState(null),[Vn,Ta]=v.useState(null),Wn=c=>u.filter(q=>q.grado===c&&q.grupo).map(q=>q.grupo).filter((q,V,ee)=>ee.indexOf(q)===V).sort(),Go=()=>u.filter(c=>c.grado===bn&&c.grupo===Vn);v.useEffect(()=>{const{data:{subscription:c}}=T.auth.onAuthStateChange((w,q)=>{var ee,Se,Pe;console.log("Auth event:",w,"Provider token:",q!=null&&q.provider_token?"presente":"ausente"),(w==="SIGNED_IN"||w==="INITIAL_SESSION"||w==="TOKEN_REFRESHED")&&(q!=null&&q.provider_token)&&(localStorage.setItem("gmail_provider_token",q.provider_token),localStorage.setItem("gmail_user_email",((ee=q.user)==null?void 0:ee.email)||""),console.log(" Token de Gmail guardado para:",(Se=q.user)==null?void 0:Se.email),Dt(q.provider_token),Jr(((Pe=q.user)==null?void 0:Pe.email)||null),Rr(!0)),w==="SIGNED_OUT"&&(localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),Dt(null),Jr(null),Rr(!1))});return()=>c.unsubscribe()},[]),v.useEffect(()=>{$d(),Ti(),Ue(),vt(),Fe(),wt(),Lt(),dt(),Zn(),Bi(),ut(),jn(),Mi(),Lr();const c=localStorage.getItem("gmail_provider_token"),w=localStorage.getItem("gmail_user_email");c&&(Dt(c),Jr(w),Rr(!0))},[]),v.useEffect(()=>{S==="gmail"&&Wi(),S==="access"&&(Ko(),Gn())},[S]);const $d=async()=>{const{data:{session:c}}=await T.auth.getSession();if(!c){x(!1);return}a(c.user);try{const{data:V,error:ee}=await T.from("edupanel_allowed_accounts").select("*").eq("email",c.user.email.toLowerCase()).maybeSingle();if(ee)console.warn("Tabla edupanel_allowed_accounts no existe o error:",ee.message),Ns(!1),mn(!0);else if(V)mn(V.is_master===!0),Ns(!1);else{Ns(!0),x(!1);return}}catch(V){console.warn("Error verificando cuentas permitidas:",V),Ns(!1),mn(!0)}const w=sessionStorage.getItem("maestro_security_verified");w==="true"&&ka(!0);let{data:q}=await T.from("profiles").select("*").eq("id",c.user.id).single();if(!q||q.rol!=="maestro"){const{data:V}=await T.from("profiles").upsert({id:c.user.id,rol:"maestro",nombre:c.user.user_metadata.full_name,avatar_url:c.user.user_metadata.avatar_url}).select().single();q=V}d(q),w==="true"&&Cs(),x(!1)},Rd=async c=>{var w,q;c.preventDefault(),Pr(""),Ss(!0);try{const{data:V,error:ee}=await T.from("access_config").select("config_key, config_value").in("config_key",["maestro_user","maestro_password"]);if(ee){console.warn("Tabla access_config no existe, usando credenciales por defecto"),Zt.user==="cbta"&&Zt.password==="cbta134#pagina"?(ka(!0),sessionStorage.setItem("maestro_security_verified","true"),Cs()):Pr("Usuario o contrasea incorrectos.");return}if(!V||V.length<2){Zt.user==="cbta"&&Zt.password==="cbta134#pagina"?(ka(!0),sessionStorage.setItem("maestro_security_verified","true"),Cs()):Pr("Usuario o contrasea incorrectos.");return}const Se=(w=V.find(ke=>ke.config_key==="maestro_user"))==null?void 0:w.config_value,Pe=(q=V.find(ke=>ke.config_key==="maestro_password"))==null?void 0:q.config_value;Zt.user===Se&&Zt.password===Pe?(ka(!0),sessionStorage.setItem("maestro_security_verified","true"),Cs()):Pr("Usuario o contrasea incorrectos.")}catch{Pr("Error al verificar. Intenta de nuevo.")}finally{Ss(!1)}},Ko=async()=>{const{data:c}=await T.from("access_config").select("*");if(c){const w={};c.forEach(q=>{w[q.config_key]=q.config_value}),Na({alumno_domain:w.alumno_domain||"",maestro_user:w.maestro_user||"",maestro_password:w.maestro_password||""})}},Ci=async()=>{Qr(!0),Ca(!1);try{const c=[{config_key:"alumno_domain",config_value:Ir.alumno_domain,description:"Dominio de correo permitido para alumnos"},{config_key:"maestro_user",config_value:Ir.maestro_user,description:"Usuario de seguridad para maestros"},{config_key:"maestro_password",config_value:Ir.maestro_password,description:"Contrasea de seguridad para maestros"}];for(const w of c)await T.from("access_config").update({config_value:w.config_value,updated_at:new Date().toISOString()}).eq("config_key",w.config_key);Ca(!0),setTimeout(()=>Ca(!1),3e3)}catch(c){console.error("Error saving access config:",c)}finally{Qr(!1)}},Gn=async()=>{const{data:c}=await T.from("edupanel_allowed_accounts").select("*").order("created_at",{ascending:!0});gc(c||[])},Jo=async()=>{if(qn.trim()){zo(!0);try{const{error:c}=await T.from("edupanel_allowed_accounts").insert({email:qn.toLowerCase().trim(),is_master:!1,added_by:(t==null?void 0:t.email)||"desconocido"});c?c.code==="23505"?alert("Este correo ya est en la lista."):(console.error("Error adding account:",c),alert("Error al agregar cuenta.")):(Uo(""),Gn())}finally{zo(!1)}}},Qo=async(c,w,q)=>{const V=ks.filter(Se=>Se.is_master).length;if(q){if(V<=1){alert("No puedes eliminar la nica cuenta maestra. Primero asigna otra cuenta como maestra.");return}if(!window.confirm(` ATENCIN: "${w}" es una cuenta maestra.

Ests seguro de que deseas eliminarla?`))return}else if(!window.confirm(`Eliminar acceso para ${w}?`))return;const{error:ee}=await T.from("edupanel_allowed_accounts").delete().eq("id",c);ee?(console.error("Error eliminando cuenta:",ee),alert(ee.message||"Error al eliminar la cuenta.")):Gn()},Yo=async(c,w,q)=>{const V=ks.filter(Se=>Se.is_master).length;if(q){if(V<=1){alert("No puedes quitar el rol de maestra a la nica cuenta maestra.");return}if(!window.confirm(`Quitar rol de cuenta maestra a "${w}"?`))return}else{if(V>=10){alert("Ya hay 10 cuentas maestras (mximo permitido).");return}if(!window.confirm(`Hacer "${w}" cuenta maestra?

Las cuentas maestras pueden gestionar el acceso de otras cuentas.`))return}const{error:ee}=await T.from("edupanel_allowed_accounts").update({is_master:!q}).eq("id",c);ee?(console.error("Error actualizando estado:",ee),alert(ee.message||"Error al actualizar el estado de la cuenta.")):Gn()},Ei=async()=>{await T.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/maestros/admin",scopes:"https://www.googleapis.com/auth/gmail.send",queryParams:{access_type:"offline",prompt:"consent"}}})},Cs=async()=>{x(!0);const{data:c,error:w}=await T.from("profiles").select("*").eq("rol","alumno").order("grado",{ascending:!0}).order("grupo",{ascending:!0});w||p(c),x(!1)},xc=async c=>{if(window.confirm("Ests seguro de eliminar este alumno?")){const{error:w}=await T.from("profiles").delete().eq("id",c);w||Cs()}},[bc,Pd]=v.useState([]),[ot,Ct]=v.useState(null),Ti=async()=>{const{data:c}=await T.from("publicaciones_globales").select("*").order("created_at",{ascending:!1});Pd(c||[])},Es=async c=>{if(window.confirm("Eliminar este aviso?")){const{error:w}=await T.from("publicaciones_globales").delete().eq("id",c);w||Ti()}},Or=c=>{Ct({...c})},Aa=async c=>{c.preventDefault();const{error:w}=await T.from("profiles").update({nombre:ot.nombre,apellidos:ot.apellidos,email:ot.email,curp:ot.curp,numero_control:ot.numero_control}).eq("id",ot.id);w||(Ct(null),Cs())},[er,Ai]=v.useState(null),Id=c=>{Ai(c),_({titulo:c.titulo,contenido:c.contenido})},[Kn,yn]=v.useState(null),[Ts,vn]=v.useState(!1),$i=async c=>{c.preventDefault(),vn(!0);let w=null,q=null;if(Kn){const Se=Kn.name.split(".").pop(),ke=`${`${Math.random()}.${Se}`}`,{error:qe}=await T.storage.from("posts_media").upload(ke,Kn);if(qe){alert("Error subiendo archivo: "+qe.message),vn(!1);return}const{data:{publicUrl:Bt}}=T.storage.from("posts_media").getPublicUrl(ke);w=Bt,q=Kn.type.startsWith("video/")?"video":"image"}const V={titulo:b.titulo,contenido:b.contenido,media_url:w,media_type:q};let ee;if(er){const{error:Se}=await T.from("publicaciones_globales").update(Kn?V:{titulo:b.titulo,contenido:b.contenido}).eq("id",er.id);ee=Se}else{const{error:Se}=await T.from("publicaciones_globales").insert([{...V,autor_id:t.id}]);ee=Se}ee?alert("Error al guardar publicacin: "+ee.message):(alert(er?"Aviso actualizado":"Aviso publicado"),_({titulo:"",contenido:""}),yn(null),Ai(null),Ti()),vn(!1)},Xo=async c=>{Ho(c),Wo(c.grado||1),await Jn(c.id,c.grado||1)},Jn=async(c,w)=>{const{data:q,error:V}=await T.from("calificaciones").select("*").eq("alumno_id",c).eq("semestre",w);V||Vo(q||[])},Dr=async(c,w,q)=>{const V=q===""?null:parseFloat(q),{error:ee}=await T.from("calificaciones").update({[w]:V}).eq("id",c);ee||Vo(Hn.map(Se=>Se.id===c?{...Se,[w]:V}:Se))},Me=async()=>{if(!ye.materia)return;if(ye.tipo==="especialidad"&&ki<2){alert("Las materias de especialidad solo pueden asignarse a partir del 2do semestre.");return}const{data:c,error:w}=await T.from("calificaciones").insert([{alumno_id:Si.id,semestre:ki,materia:ye.materia,tipo_materia:ye.tipo,parcial1:ye.parcial1||null,parcial2:ye.parcial2||null,parcial3:ye.parcial3||null}]).select();!w&&c?(Vo([...Hn,c[0]]),gn({materia:"",parcial1:"",parcial2:"",parcial3:"",tipo:"basica"})):alert("Error al agregar materia: "+((w==null?void 0:w.message)||"Error desconocido"))},Ue=async()=>{const{data:c}=await T.from("carreras_tecnicas").select("*").order("created_at",{ascending:!1});O(c||[])},wn=c=>{B(c),U(!0)},yt=async c=>{if(window.confirm("Eliminar esta carrera tcnica? Esto podra afectar a los alumnos inscritos.")){const{error:w}=await T.from("carreras_tecnicas").delete().eq("id",c);w||Ue()}},vt=async()=>{const{data:c}=await T.from("clubs").select("*").order("created_at",{ascending:!1});G(c||[])},Qn=c=>{Be(c),be(!0)},As=async c=>{if(window.confirm("Eliminar este club?")){const{error:w}=await T.from("clubs").delete().eq("id",c);w||vt()}},Fe=async()=>{const{data:c}=await T.from("admission_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:w}=await T.from("admission_dates").select("*").order("order_index",{ascending:!0}),{data:q}=await T.from("admission_requirements").select("*").order("order_index",{ascending:!0}),{data:V}=await T.from("admission_specialties").select("*").order("order_index",{ascending:!0}),{data:ee}=await T.from("admission_contact").select("*").order("created_at",{ascending:!1}).limit(1).single();Ze(c||null),D(w||[]),fe(q||[]),zt(V||[]),zl(ee||null),c&&Oe({target_date:c.target_date?c.target_date.split("T")[0]:"",countdown_message:c.countdown_message||"",header_title:c.header_title||"",header_subtitle:c.header_subtitle||""}),ee&&wr({address:ee.address||"",phone_label:ee.phone_label||"",phone_value:ee.phone_value||"",email_label:ee.email_label||"",email_value:ee.email_value||"",website_label:ee.website_label||"",website_value:ee.website_value||"",schedule:ee.schedule||""})},Ri=async c=>{c.preventDefault();const w={target_date:ve.target_date?new Date(ve.target_date).toISOString():null,countdown_message:ve.countdown_message,header_title:ve.header_title,header_subtitle:ve.header_subtitle};if(Te!=null&&Te.id){const{error:q}=await T.from("admission_config").update(w).eq("id",Te.id);q||Fe()}else{const{error:q}=await T.from("admission_config").insert([w]);q||Fe()}},yc=async c=>{if(c.preventDefault(),!(!X.title||!X.date_range))if(L){const{error:w}=await T.from("admission_dates").update(X).eq("id",L.id);w||(W(null),K({title:"",date_range:"",subtitle:""}),Fe())}else{const{error:w}=await T.from("admission_dates").insert([{...X,order_index:Ce.length+1}]);w||(K({title:"",date_range:"",subtitle:""}),Fe())}},vc=async c=>{if(window.confirm("Eliminar esta fecha?")){const{error:w}=await T.from("admission_dates").delete().eq("id",c);w||Fe()}},Pi=async c=>{if(c.preventDefault(),!!_e.requirement)if(Re){const{error:w}=await T.from("admission_requirements").update(_e).eq("id",Re.id);w||(Ee(null),je({requirement:""}),Fe())}else{const{error:w}=await T.from("admission_requirements").insert([{..._e,order_index:ue.length+1}]);w||(je({requirement:""}),Fe())}},wc=async c=>{if(window.confirm("Eliminar este requisito?")){const{error:w}=await T.from("admission_requirements").delete().eq("id",c);w||Fe()}},Yr=async c=>{if(c.preventDefault(),!!Jt.name)if(ds){const{error:w}=await T.from("admission_specialties").update(Jt).eq("id",ds.id);w||(Ya(null),$n({emoji:"",name:"",description:""}),Fe())}else{const{error:w}=await T.from("admission_specialties").insert([{...Jt,order_index:De.length+1}]);w||($n({emoji:"",name:"",description:""}),Fe())}},Ii=async c=>{if(window.confirm("Eliminar esta especialidad?")){const{error:w}=await T.from("admission_specialties").delete().eq("id",c);w||Fe()}},Zo=async c=>{if(c.preventDefault(),ta!=null&&ta.id){const{error:w}=await T.from("admission_contact").update(nt).eq("id",ta.id);w||Fe()}else{const{error:w}=await T.from("admission_contact").insert([nt]);w||Fe()}},wt=async()=>{const{data:c}=await T.from("baetam_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:w}=await T.from("baetam_info_cards").select("*").order("order_index",{ascending:!0}),{data:q}=await T.from("baetam_requirements").select("*").order("order_index",{ascending:!0}),{data:V}=await T.from("baetam_advantages").select("*").order("order_index",{ascending:!0}),{data:ee}=await T.from("baetam_contact_lines").select("*").order("order_index",{ascending:!0});ra(c||null),Ml(w||[]),aa(q||[]),fo(V||[]),ps(ee||[]),c&&xt({hero_image_url:c.hero_image_url||"",title:c.title||"",subtitle:c.subtitle||"",target_date:c.target_date?c.target_date.split("T")[0]:"",countdown_label:c.countdown_label||"",countdown_date_text:c.countdown_date_text||"",inscriptions_title:c.inscriptions_title||"",inscriptions_period_title:c.inscriptions_period_title||"",inscriptions_period_description:c.inscriptions_period_description||"",requirements_title:c.requirements_title||"",advantages_title:c.advantages_title||"",contact_title:c.contact_title||"",contact_description:c.contact_description||""})},Od=async c=>{c.preventDefault();const w={hero_image_url:me.hero_image_url,title:me.title,subtitle:me.subtitle,target_date:me.target_date?new Date(me.target_date).toISOString():null,countdown_label:me.countdown_label,countdown_date_text:me.countdown_date_text,inscriptions_title:me.inscriptions_title,inscriptions_period_title:me.inscriptions_period_title,inscriptions_period_description:me.inscriptions_period_description,requirements_title:me.requirements_title,advantages_title:me.advantages_title,contact_title:me.contact_title,contact_description:me.contact_description};if(us!=null&&us.id){const{error:q}=await T.from("baetam_config").update(w).eq("id",us.id);q||wt()}else{const{error:q}=await T.from("baetam_config").insert([w]);q||wt()}},_n=async c=>{if(c.preventDefault(),!(!Mr.title||!Mr.description))if(na){const{error:w}=await T.from("baetam_info_cards").update(Mr).eq("id",na.id);w||(sa(null),hs({title:"",description:""}),wt())}else{const{error:w}=await T.from("baetam_info_cards").insert([{...Mr,order_index:uo.length+1}]);w||(hs({title:"",description:""}),wt())}},$s=async c=>{if(window.confirm("Eliminar esta tarjeta?")){const{error:w}=await T.from("baetam_info_cards").delete().eq("id",c);w||wt()}},Rs=async c=>{if(c.preventDefault(),!!cr.text)if(Xa){const{error:w}=await T.from("baetam_requirements").update(cr).eq("id",Xa.id);w||(po(null),ia({icon:"",text:""}),wt())}else{const{error:w}=await T.from("baetam_requirements").insert([{...cr,order_index:ho.length+1}]);w||(ia({icon:"",text:""}),wt())}},Oi=async c=>{if(window.confirm("Eliminar este requisito?")){const{error:w}=await T.from("baetam_requirements").delete().eq("id",c);w||wt()}},Di=async c=>{if(c.preventDefault(),!(!_r.title||!_r.description))if(oa){const{error:w}=await T.from("baetam_advantages").update(_r).eq("id",oa.id);w||(Za(null),Rn({title:"",description:""}),wt())}else{const{error:w}=await T.from("baetam_advantages").insert([{..._r,order_index:ql.length+1}]);w||(Rn({title:"",description:""}),wt())}},tr=async c=>{if(window.confirm("Eliminar esta ventaja?")){const{error:w}=await T.from("baetam_advantages").delete().eq("id",c);w||wt()}},rr=async c=>{if(c.preventDefault(),!!la.line_text)if(ei){const{error:w}=await T.from("baetam_contact_lines").update(la).eq("id",ei.id);w||(mo(null),ca({line_text:""}),wt())}else{const{error:w}=await T.from("baetam_contact_lines").insert([{...la,order_index:Pn.length+1}]);w||(ca({line_text:""}),wt())}},Yn=async c=>{if(window.confirm("Eliminar esta lnea?")){const{error:w}=await T.from("baetam_contact_lines").delete().eq("id",c);w||wt()}},Lt=async()=>{const{data:c}=await T.from("teachers_config").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:w}=await T.from("teachers_links").select("*").order("order_index",{ascending:!0});Co(c||null),Vr({title:(c==null?void 0:c.title)||"",subtitle:(c==null?void 0:c.subtitle)||"",hero_image_url:(c==null?void 0:c.hero_image_url)||"",cta_label:(c==null?void 0:c.cta_label)||""}),ec(w||[])},Xr=async c=>{c.preventDefault();const w={...pr};if(fi!=null&&fi.id){const{error:q}=await T.from("teachers_config").update(w).eq("id",fi.id);q||Lt()}else{const{error:q}=await T.from("teachers_config").insert([w]);q||Lt()}},Xn=async c=>{if(c.preventDefault(),!He.name||!He.url)return;const w=He.order_index?parseInt(He.order_index,10):wa.length+1,q={name:He.name,description:He.description,icon:He.icon,url:He.url,color:He.color,order_index:w,is_active:He.is_active};if(Eo){const{error:V}=await T.from("teachers_links").update(q).eq("id",Eo.id);V||(mi(null),Cr({name:"",description:"",icon:"",url:"",color:"",order_index:"",is_active:!0}),Lt())}else{const{error:V}=await T.from("teachers_links").insert([q]);V||(Cr({name:"",description:"",icon:"",url:"",color:"",order_index:"",is_active:!0}),Lt())}},_c=async c=>{if(window.confirm("Eliminar este recurso?")){const{error:w}=await T.from("teachers_links").delete().eq("id",c);w||Lt()}},dt=async()=>{const{data:c}=await T.from("contact_main").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:w}=await T.from("contact_directory").select("*").order("order_index",{ascending:!0}),{data:q}=await T.from("contact_social").select("*").order("order_index",{ascending:!0}),{data:V}=await T.from("contact_location").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:ee}=await T.from("contact_faq").select("*").order("order_index",{ascending:!0}),{data:Se}=await T.from("contact_cta").select("*").order("created_at",{ascending:!1}).limit(1).single();go(c||null),ua(w||[]),_d(q||[]),jd(V||null),Hl(ee||[]),Wl(Se||null),c&&St({address_line1:c.address_line1||"",address_line2:c.address_line2||"",address_line3:c.address_line3||"",phone:c.phone||"",email:c.email||"",website:c.website||"",rating_text:c.rating_text||"",status_text:c.status_text||"",hours_line1:c.hours_line1||"",hours_line2:c.hours_line2||""}),V&&ni({address_text:V.address_text||"",map_embed_url:V.map_embed_url||""}),Se&&si({title:Se.title||"",description:Se.description||"",highlight_text:Se.highlight_text||""})},el=async c=>{if(c.preventDefault(),da!=null&&da.id){const{error:w}=await T.from("contact_main").update(Qe).eq("id",da.id);w||dt()}else{const{error:w}=await T.from("contact_main").insert([Qe]);w||dt()}},Vt=async c=>{if(c.preventDefault(),!(!jr.title||!jr.detail))if(fs){const{error:w}=await T.from("contact_directory").update(jr).eq("id",fs.id);w||(ha(null),Sr({icon:"",title:"",detail:""}),dt())}else{const{error:w}=await T.from("contact_directory").insert([{...jr,order_index:ti.length+1}]);w||(Sr({icon:"",title:"",detail:""}),dt())}},Wt=async c=>{if(window.confirm("Eliminar este elemento del directorio?")){const{error:w}=await T.from("contact_directory").delete().eq("id",c);w||dt()}},We=async c=>{if(c.preventDefault(),!(!Qt.name||!Qt.url))if(qr){const{error:w}=await T.from("contact_social").update(Qt).eq("id",qr.id);w||(xo(null),In({icon:"",name:"",url:"",description:""}),dt())}else{const{error:w}=await T.from("contact_social").insert([{...Qt,order_index:ri.length+1}]);w||(In({icon:"",name:"",url:"",description:""}),dt())}},fr=async c=>{if(window.confirm("Eliminar esta red social?")){const{error:w}=await T.from("contact_social").delete().eq("id",c);w||dt()}},jc=async c=>{if(c.preventDefault(),pa!=null&&pa.id){const{error:w}=await T.from("contact_location").update(On).eq("id",pa.id);w||dt()}else{const{error:w}=await T.from("contact_location").insert([On]);w||dt()}},Sc=async c=>{if(c.preventDefault(),!(!dn.question||!dn.answer))if(Ye){const{error:w}=await T.from("contact_faq").update(dn).eq("id",Ye.id);w||(Vl(null),fa({question:"",answer:""}),dt())}else{const{error:w}=await T.from("contact_faq").insert([{...dn,order_index:bo.length+1}]);w||(fa({question:"",answer:""}),dt())}},tl=async c=>{if(window.confirm("Eliminar esta pregunta?")){const{error:w}=await T.from("contact_faq").delete().eq("id",c);w||dt()}},rl=async c=>{if(c.preventDefault(),ms!=null&&ms.id){const{error:w}=await T.from("contact_cta").update(dr).eq("id",ms.id);w||dt()}else{const{error:w}=await T.from("contact_cta").insert([dr]);w||dt()}},Zn=async()=>{const{data:c}=await T.from("about_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:w}=await T.from("about_values").select("*").order("order_index",{ascending:!0});ma(c||null),ii(w||[]),c&&ur({title:c.title||"",logo_url:c.logo_url||"",croquis_image_url:c.croquis_image_url||"",history_text:c.history_text||"",mission_text:c.mission_text||"",vision_text:c.vision_text||"",lema_text:c.lema_text||"",commitment_text_1:c.commitment_text_1||"",commitment_text_2:c.commitment_text_2||""})},Li=async c=>{if(c.preventDefault(),kr!=null&&kr.id){const{error:w}=await T.from("about_config").update(Ae).eq("id",kr.id);w||Zn()}else{const{error:w}=await T.from("about_config").insert([Ae]);w||Zn()}},kc=async()=>{if(!Pt)return;if(!(kr!=null&&kr.id)){alert("Primero guarda la informacin de Acerca para poder asociar el croquis.");return}ai(!0);const c=Pt.name.split(".").pop(),w=`croquis-${Date.now()}.${c}`,{error:q}=await T.storage.from("about_media").upload(w,Pt,{upsert:!0});if(q){alert("Error subiendo croquis: "+q.message),ai(!1);return}const{data:{publicUrl:V}}=T.storage.from("about_media").getPublicUrl(w),{error:ee}=await T.from("about_config").update({croquis_image_url:V}).eq("id",kr.id);if(ee){alert("Error guardando croquis: "+ee.message),ai(!1);return}ur({...Ae,croquis_image_url:V}),ma({...kr,croquis_image_url:V}),Gl(null),ai(!1)},Ps=async c=>{if(c.preventDefault(),!(!It.title||!It.description))if(yo){const{error:w}=await T.from("about_values").update(It).eq("id",yo.id);w||(Jl(null),Hr({icon:"",title:"",description:""}),Zn())}else{const{error:w}=await T.from("about_values").insert([{...It,order_index:ga.length+1}]);w||(Hr({icon:"",title:"",description:""}),Zn())}},nl=async c=>{if(window.confirm("Eliminar este valor?")){const{error:w}=await T.from("about_values").delete().eq("id",c);w||Zn()}},Bi=async()=>{const{data:c}=await T.from("gallery_items").select("*").order("order_index",{ascending:!0});Ql(c||[])},$a=async()=>{if(!$e)return;xa(!0);const c=$e.name.split(".").pop(),w=`gallery-${Date.now()}.${c}`,{error:q}=await T.storage.from("gallery_media").upload(w,$e,{upsert:!0});if(q){alert("Error subiendo imagen: "+q.message),xa(!1);return}const{data:{publicUrl:V}}=T.storage.from("gallery_media").getPublicUrl(w);Mt({...ze,image_url:V}),wo(null),xa(!1)},Ui=async c=>{if(c.preventDefault(),!(!ze.title||!ze.image_url))if(vo){const{error:w}=await T.from("gallery_items").update({section:ze.section,title:ze.title,description:ze.description,image_url:ze.image_url}).eq("id",vo.id);w||(li(null),Mt({section:"instalaciones",title:"",description:"",image_url:"",is_locked:!1}),Bi())}else{const{error:w}=await T.from("gallery_items").insert([{section:ze.section,title:ze.title,description:ze.description,image_url:ze.image_url,is_locked:ze.is_locked,order_index:oi.length+1}]);w||(Mt({section:"instalaciones",title:"",description:"",image_url:"",is_locked:!1}),Bi())}},Nc=async c=>{if(c.is_locked){alert("Esta imagen est bloqueada y no se puede eliminar.");return}if(window.confirm("Eliminar esta imagen?")){const{error:w}=await T.from("gallery_items").delete().eq("id",c.id);w||Bi()}},ut=async()=>{const{data:c}=await T.from("ui_header_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:w}=await T.from("ui_header_links").select("*").order("order_index",{ascending:!0}),{data:q}=await T.from("ui_footer_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:V}=await T.from("ui_footer_links").select("*").order("order_index",{ascending:!0}),{data:ee}=await T.from("hero_slides").select("*").order("order_index",{ascending:!0}),{data:Se}=await T.from("home_options").select("*").order("order_index",{ascending:!0});Yl(c||null),un(w||[]),Sd(q||null),Zl(V||[]),ys(ee||[]),hi(Se||[]),c&&ya({logo_url:c.logo_url||"",title_text:c.title_text||""}),q&&Ht({school_name:q.school_name||"",location_text:q.location_text||"",tagline_text:q.tagline_text||"",copyright_text:q.copyright_text||"",rights_text:q.rights_text||"",legal_text_1:q.legal_text_1||"",legal_text_2:q.legal_text_2||"",legal_text_3:q.legal_text_3||""})},Is=async c=>{if(c.preventDefault(),ba!=null&&ba.id){const{error:w}=await T.from("ui_header_config").update(Dn).eq("id",ba.id);w||ut()}else{const{error:w}=await T.from("ui_header_config").insert([Dn]);w||ut()}},Cc=async c=>{if(c.preventDefault(),!(!ft.label||!ft.path))if(Ln){const{error:w}=await T.from("ui_header_links").update(ft).eq("id",Ln.id);w||(gs(null),qt({label:"",href:"",path:""}),ut())}else{const{error:w}=await T.from("ui_header_links").insert([{...ft,order_index:va.length+1}]);w||(qt({label:"",href:"",path:""}),ut())}},Fi=async c=>{if(window.confirm("Eliminar este link?")){const{error:w}=await T.from("ui_header_links").delete().eq("id",c);w||ut()}},zi=async c=>{if(c.preventDefault(),hr!=null&&hr.id){const{error:w}=await T.from("ui_footer_config").update(it).eq("id",hr.id);w||ut()}else{const{error:w}=await T.from("ui_footer_config").insert([it]);w||ut()}},Os=async c=>{if(c.preventDefault(),!(!kt.label||!kt.href))if(jo){const{error:w}=await T.from("ui_footer_links").update(kt).eq("id",jo.id);w||(xs(null),hn({label:"",href:"",icon_url:"",style_class:""}),ut())}else{const{error:w}=await T.from("ui_footer_links").insert([{...kt,order_index:Xl.length+1}]);w||(hn({label:"",href:"",icon_url:"",style_class:""}),ut())}},sl=async c=>{if(window.confirm("Eliminar este link?")){const{error:w}=await T.from("ui_footer_links").delete().eq("id",c);w||ut()}},al=async()=>{if(!Bn)return;Nr(!0);const c=Bn.name.split(".").pop(),w=`hero-${Date.now()}.${c}`,{error:q}=await T.storage.from("ui_media").upload(w,Bn,{upsert:!0});if(q){alert("Error subiendo imagen: "+q.message),Nr(!1);return}const{data:{publicUrl:V}}=T.storage.from("ui_media").getPublicUrl(w);vs({...Ot,image_url:V}),di(null),Nr(!1)},il=async c=>{if(c.preventDefault(),!!Ot.image_url)if(So){const{error:w}=await T.from("hero_slides").update({image_url:Ot.image_url}).eq("id",So.id);w||(ci(null),vs({image_url:"",is_locked:!1}),ut())}else{const{error:w}=await T.from("hero_slides").insert([{image_url:Ot.image_url,is_locked:Ot.is_locked,order_index:bs.length+1}]);w||(vs({image_url:"",is_locked:!1}),ut())}},ol=async c=>{if(c.is_locked){alert("Este slide est bloqueado.");return}if(window.confirm("Eliminar esta imagen?")){const{error:w}=await T.from("hero_slides").delete().eq("id",c.id);w||ut()}},Ds=async()=>{if(!bt)return;Fn(!0);const c=bt.name.split(".").pop(),w=`option-${Date.now()}.${c}`,{error:q}=await T.storage.from("ui_media").upload(w,bt,{upsert:!0});if(q){alert("Error subiendo imagen: "+q.message),Fn(!1);return}const{data:{publicUrl:V}}=T.storage.from("ui_media").getPublicUrl(w);Yt({...et,image_url:V}),Un(null),Fn(!1)},nr=async c=>{if(c.preventDefault(),!(!et.title||!et.path||!et.image_url))if(ws){const{error:w}=await T.from("home_options").update({title:et.title,description:et.description,path:et.path,image_url:et.image_url}).eq("id",ws.id);w||(No(null),Yt({image_url:"",title:"",description:"",path:"",is_locked:!1}),ut())}else{const{error:w}=await T.from("home_options").insert([{...et,order_index:ui.length+1}]);w||(Yt({image_url:"",title:"",description:"",path:"",is_locked:!1}),ut())}},es=async c=>{if(c.is_locked){alert("Esta opcin est bloqueada.");return}if(window.confirm("Eliminar esta opcin?")){const{error:w}=await T.from("home_options").delete().eq("id",c.id);w||ut()}},jn=async()=>{const{data:c}=await T.from("credits_config").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:w}=await T.from("credits_authors").select("*").order("order_index",{ascending:!0});kd(c||null),rc(w||[]),c&&_a({title:c.title||"",subtitle:c.subtitle||"",license_title:c.license_title||"",license_text:c.license_text||""})},Ec=async c=>{if(c.preventDefault(),gi!=null&&gi.id){const{error:w}=await T.from("credits_config").update(Er).eq("id",gi.id);w||jn()}else{const{error:w}=await T.from("credits_config").insert([Er]);w||jn()}},Zr=async()=>{if(!_s)return;Ao(!0);const c=_s.name.split(".").pop(),w=`credits-${Date.now()}.${c}`,{error:q}=await T.storage.from("credits_media").upload(w,_s,{upsert:!0});if(q){alert("Error subiendo imagen: "+q.message),Ao(!1);return}const{data:{publicUrl:V}}=T.storage.from("credits_media").getPublicUrl(w);pn({...Nt,photo_url:V}),sc(null),Ao(!1)},Sn=async c=>{if(c.preventDefault(),!(!Nt.full_name||!Nt.career))if(To){const{error:w}=await T.from("credits_authors").update(Nt).eq("id",To.id);w||(nc(null),pn({full_name:"",career:"",description:"",photo_url:""}),jn())}else{const{error:w}=await T.from("credits_authors").insert([{...Nt,order_index:tc.length+1}]);w||(pn({full_name:"",career:"",description:"",photo_url:""}),jn())}},ll=async c=>{if(window.confirm("Eliminar este autor?")){const{error:w}=await T.from("credits_authors").delete().eq("id",c);w||jn()}},Mi=async()=>{const{data:c,error:w}=await T.from("chatbot_config").select("*").order("updated_at",{ascending:!1}).limit(1).maybeSingle();w||(Nd(c||null),c&&Tr({provider:c.provider||"groq",base_url:c.base_url||"",api_key:c.api_key||"",groq_api_key:c.groq_api_key||"",gemini_api_key:c.gemini_api_key||"",model:c.model||"",system_prompt:c.system_prompt||"",enable_db_context:c.enable_db_context??!0,enabled:c.enabled??!0,fallback_enabled:c.fallback_enabled??!1,primary_provider:c.primary_provider||c.provider||"groq"}))},Lr=async()=>{const{data:c,error:w}=await T.from("ai_models").select("*").order("order_index",{ascending:!0});w||Cd(c||[])},kn=async c=>{if(c.preventDefault(),!Ar.name.trim())return;const{error:w}=await T.from("ai_models").insert([{provider:Ar.provider,name:Ar.name.trim(),order_index:lc.length+1,is_active:!0}]);w||(zn({provider:Ar.provider,name:""}),Lr())},Ls=async()=>{js(!0);const{data:c,error:w}=await T.from("chatbot_questions").select("*").order("created_at",{ascending:!1}).limit(200);w||Td(c||[]),js(!1)},Tc=async c=>{const{error:w}=await T.from("chatbot_questions").delete().eq("id",c);w||Ls()},qi=async()=>{if(!window.confirm("Eliminar todas las preguntas?"))return;const{error:c}=await T.from("chatbot_questions").delete().neq("id",0);c||Ls()},Ac=async()=>{Io(!0);const{data:c,error:w}=await T.rpc("refresh_storage_usage");if(!w&&c)Sa(c);else{const{data:q,error:V}=await T.rpc("get_storage_usage_overview");V||Sa(q||null)}Io(!1)},Ra=c=>{Kr(w=>{const V=w.grados.includes(c)?w.grados.filter(ee=>ee!==c):[...w.grados,c];return{...w,grados:V}})},Br=c=>{Kr(w=>{const V=w.grupos.includes(c)?w.grupos.filter(ee=>ee!==c):[...w.grupos,c];return{...w,grupos:V}})},Pa=c=>{const q=new TextEncoder().encode(c);let V="";return q.forEach(ee=>{V+=String.fromCharCode(ee)}),btoa(V).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,"")},Ia=(c="")=>{if(!c)return"";try{const q=new TextEncoder().encode(c);let V="";return q.forEach(ee=>{V+=String.fromCharCode(ee)}),`=?UTF-8?B?${btoa(V)}?=`}catch{return c}},ts=({from:c,recipients:w,subject:q,html:V,text:ee})=>{const Se=V?'text/html; charset="UTF-8"':'text/plain; charset="UTF-8"',Pe=V||ee||"",ke=c?`"CBTa 134" <${c}>`:"me",qe=w&&w.length>0?w[0]:"",Bt=w&&w.length>1?w.slice(1):[],lt=[`From: ${ke}`,`To: ${qe}`,Bt.length>0?`Bcc: ${Bt.join(", ")}`:null,`Subject: ${Ia(q||"")}`,"MIME-Version: 1.0",`Content-Type: ${Se}`].filter(Boolean).join(`\r
`)+`\r
\r
`+Pe;return Pa(lt)},cl=(c,w)=>{let q=u;if(!Ve.sendToAll&&(Ve.grados.length&&(q=q.filter(ke=>Ve.grados.includes(Number(ke.grado)))),Ve.grupos.length)){const ke=Ve.grupos.map(qe=>String(qe).toUpperCase());q=q.filter(qe=>ke.includes(String(qe.grupo||"").toUpperCase()))}c&&(q=q.filter(ke=>ke.id!==c));const V=q.map(ke=>ke.email||ke.correo||ke.email_address).map(ke=>ke?String(ke).trim():"").filter(ke=>!!ke),ee=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;let Se=V.filter(ke=>ee.test(ke));if(w){const ke=w.toLowerCase();Se=Se.filter(qe=>qe.toLowerCase()!==ke)}const Pe=V.length-Se.length;return{emails:[...new Set(Se)],filteredCount:q.length,missingEmailsCount:q.length-V.length,invalidEmailsCount:Pe}},Bs=(c,w)=>{const q=[];for(let V=0;V<c.length;V+=w)q.push(c.slice(V,V+w));return q},$c=async()=>{var c,w,q;if($r(null),!Xt){$r({type:"error",message:"Gmail no est conectado. Cierra sesin e inicia sesin nuevamente con Google para autorizar Gmail."});return}if(!Ve.subject||!Ve.messageHtml&&!Ve.messageText){$r({type:"error",message:"Escribe un asunto y contenido."});return}Oo(!0);try{const{data:{session:V}}=await T.auth.getSession(),ee=(Lo||((c=V==null?void 0:V.user)==null?void 0:c.email)||(t==null?void 0:t.email)||localStorage.getItem("gmail_user_email")||"").trim(),{emails:Se,filteredCount:Pe,missingEmailsCount:ke,invalidEmailsCount:qe}=cl(((w=V==null?void 0:V.user)==null?void 0:w.id)||(t==null?void 0:t.id),ee),Bt=Se;if(!Bt.length){const lt=Pe?`Se encontraron ${Pe} alumnos, ${ke} sin correo y ${qe} con correo invlido.`:"No hay alumnos que coincidan con el filtro seleccionado.",mr=ee?" El correo del maestro fue excluido.":"";throw new Error(`No hay correos disponibles. ${lt}${mr}`)}const Et=Bs(Bt,40);for(const lt of Et){const mr=ts({from:ee||void 0,subject:Ve.subject,html:Ve.messageHtml||void 0,text:Ve.messageText||void 0,recipients:lt}),Ur=await fetch("https://gmail.googleapis.com/gmail/v1/users/me/messages/send",{method:"POST",headers:{Authorization:`Bearer ${Xt}`,"Content-Type":"application/json"},body:JSON.stringify({raw:mr})});if(!Ur.ok){const en=await Ur.text().catch(()=>"");if(console.error("Gmail API error:",Ur.status,en),Ur.status===401||Ur.status===403)throw Rr(!1),Dt(null),localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),new Error("El token de Gmail no es vlido o no tiene permisos. Cierra sesin e inicia sesin nuevamente con Google.");let ns="Error al enviar correos.";try{const Nn=JSON.parse(en||"{}");ns=((q=Nn==null?void 0:Nn.error)==null?void 0:q.message)||ns}catch{en&&(ns=en)}throw new Error(ns)}}$r({type:"success",message:` Enviados ${Bt.length} correos en ${Et.length} lote(s).`}),Kr({...Ve,subject:"",messageHtml:"",messageText:""})}catch(V){$r({type:"error",message:V.message||"Error al enviar correos."})}finally{Oo(!1)}},Us=(c=0)=>{if(!c)return"0 B";const w=["B","KB","MB","GB","TB"],q=Math.floor(Math.log(c)/Math.log(1024));return`${(c/Math.pow(1024,q)).toFixed(2)} ${w[q]}`},Xe=(c,w)=>w?w.replace(/\/$/,""):c==="gemini"?"https://generativelanguage.googleapis.com/v1beta":"https://api.groq.com/openai/v1",Hi=async c=>{if(c.preventDefault(),!!xi.trim()){Po(!0),bi("");try{const w=(ge.provider||"groq").toLowerCase(),q=(ge.primary_provider||w).toLowerCase(),V=ge.fallback_enabled===!0,ee=q==="groq"?"gemini":"groq",Se=qe=>qe==="groq"?ge.groq_api_key||ge.api_key||"":qe==="gemini"?ge.gemini_api_key||ge.api_key||"":ge.api_key||"",Pe=async qe=>{var hl,pl,fl,ml,gl,Fs,xl,Oa;const Bt=Se(qe);if(!Bt)throw new Error(`Falta configurar la API key para ${qe}.`);const Et=Xe(qe,ge.base_url||""),lt=ge.model||(qe==="gemini"?"gemini-3.0-flash":"llama-3.1-8b-instant");let mr="";if(ge.enable_db_context){const{data:Cn,error:zs}=await T.rpc("get_chatbot_context");zs||(mr=JSON.stringify(Cn||{},null,2))}const Ur=(ge.system_prompt||dh).trim(),en=mr?`${Ur}

Contexto de la base de datos (JSON):
${mr}`:Ur;if(qe==="gemini"){const Cn=`${Et}/models/${lt}:generateContent?key=${Bt}`,zs=await fetch(Cn,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`${en}

Usuario: ${xi}`}]}]})});if(!zs.ok){const Pc=await zs.text();throw new Error(Pc)}return((gl=(ml=(fl=(pl=(hl=(await zs.json()).candidates)==null?void 0:hl[0])==null?void 0:pl.content)==null?void 0:fl.parts)==null?void 0:ml[0])==null?void 0:gl.text)||"Sin respuesta."}const ns=`${Et}/chat/completions`,Nn=await fetch(ns,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Bt}`},body:JSON.stringify({model:lt,messages:[{role:"system",content:en},{role:"user",content:xi}],temperature:.3})});if(!Nn.ok){const Cn=await Nn.text();throw new Error(Cn)}return((Oa=(xl=(Fs=(await Nn.json()).choices)==null?void 0:Fs[0])==null?void 0:xl.message)==null?void 0:Oa.content)||"Sin respuesta."};let ke="";try{ke=await Pe(V?q:w)}catch(qe){if(V)ke=await Pe(ee);else throw qe}bi(ke)}catch(w){bi(`Error: ${w.message}`)}Po(!1)}},dl=async c=>{c.preventDefault(),oc(!0);const w={provider:ge.provider,base_url:ge.base_url||null,api_key:ge.api_key,groq_api_key:ge.groq_api_key,gemini_api_key:ge.gemini_api_key,model:ge.model,system_prompt:ge.system_prompt,enable_db_context:ge.enable_db_context,enabled:ge.enabled,fallback_enabled:ge.fallback_enabled,primary_provider:ge.primary_provider,updated_at:new Date().toISOString(),created_by:(Wr==null?void 0:Wr.created_by)||(t==null?void 0:t.id)||null};if(Wr!=null&&Wr.id){const{error:q}=await T.from("chatbot_config").update(w).eq("id",Wr.id);q||await Mi()}else{const{error:q}=await T.from("chatbot_config").insert([w]);q||await Mi()}oc(!1)},ul=()=>{j(!f)},Vi=async()=>{localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),await T.auth.signOut(),s("/maestros")},Wi=async()=>{var c;hc(!0);try{let w=localStorage.getItem("gmail_provider_token"),q=localStorage.getItem("gmail_user_email");if(!w){const{data:{session:ee}}=await T.auth.getSession();ee!=null&&ee.provider_token&&(w=ee.provider_token,q=((c=ee.user)==null?void 0:c.email)||"",localStorage.setItem("gmail_provider_token",w),localStorage.setItem("gmail_user_email",q))}if(!w){Rr(!1),Dt(null),Jr(null),$r({type:"error",message:"No hay acceso a Gmail. Cierra sesin e inicia sesin nuevamente con Google para autorizar Gmail."});return}const V=await fetch(`https://www.googleapis.com/oauth2/v3/tokeninfo?access_token=${encodeURIComponent(w)}`);if(V.ok){const ee=await V.json();if(!((ee==null?void 0:ee.scope)||"").includes("https://www.googleapis.com/auth/gmail.send")){localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),Rr(!1),Dt(null),Jr(null),$r({type:"error",message:"Tu sesin de Google no tiene permisos de Gmail. Cierra sesin y vuelve a iniciar con Google para autorizar Gmail."});return}const ke=(ee==null?void 0:ee.email)||q;Rr(!0),Dt(w),Jr(ke),$r({type:"success",message:`Gmail conectado como ${ke||"tu cuenta"}`})}else{const ee="invalid_token";localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),Rr(!1),Dt(null),Jr(null),$r({type:"error",message:"El token de Gmail ha expirado. Cierra sesin e inicia sesin nuevamente."})}}catch(w){Rr(!1),Dt(null),$r({type:"error",message:"Error al verificar Gmail: "+(w.message||"desconocido")})}finally{hc(!1)}},rs=async()=>{window.confirm("Para conectar/reconectar Gmail, necesitas cerrar sesin e iniciar sesin nuevamente con Google. Deseas continuar?")&&(localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),Dt(null),Jr(null),Rr(!1),await T.auth.signOut(),Ei())};return g?n.jsx("div",{className:`min-h-screen flex items-center justify-center ${f?"bg-slate-900":"bg-slate-100"}`,children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})}):t?t&&Bo?n.jsx("div",{className:`min-h-screen flex items-center justify-center ${f?"bg-slate-900":"bg-slate-100"}`,children:n.jsxs("div",{className:`p-8 rounded-3xl shadow-xl max-w-md w-full mx-4 ${f?"bg-slate-800":"bg-white"}`,children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"bg-red-500 p-3 rounded-2xl inline-block mb-4",children:n.jsx("span",{className:"material-symbols-outlined text-white text-3xl",children:"block"})}),n.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-900"}`,children:"Acceso Denegado"}),n.jsx("p",{className:`mt-2 ${f?"text-slate-400":"text-slate-500"}`,children:"Tu cuenta no tiene permiso para acceder al EduPanel."}),n.jsx("div",{className:`mt-4 p-3 rounded-xl ${f?"bg-slate-700":"bg-slate-100"}`,children:n.jsxs("p",{className:`text-sm ${f?"text-slate-300":"text-slate-600"}`,children:["Cuenta: ",n.jsx("strong",{children:t.email})]})}),n.jsx("p",{className:`mt-4 text-sm ${f?"text-slate-500":"text-slate-400"}`,children:"Contacta al administrador para solicitar acceso."})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:async()=>{await T.auth.signOut(),Ns(!1)},className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-medium hover:bg-red-600 transition-colors",children:"Cerrar Sesin"}),n.jsx("button",{onClick:()=>s("/maestros"),className:"flex-1 py-3 text-slate-500 hover:text-slate-700 transition-colors font-medium border rounded-xl",children:" Regresar"})]})]})}):t&&!pc?n.jsx("div",{className:`min-h-screen flex items-center justify-center ${f?"bg-slate-900":"bg-slate-100"}`,children:n.jsxs("div",{className:`p-8 rounded-3xl shadow-xl max-w-md w-full mx-4 ${f?"bg-slate-800":"bg-white"}`,children:[n.jsxs("div",{className:"text-center mb-6",children:[n.jsx("div",{className:"bg-orange-500 p-3 rounded-2xl inline-block mb-4",children:n.jsx("span",{className:"material-symbols-outlined text-white text-3xl",children:"lock"})}),n.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-900"}`,children:"Verificacin de Seguridad"}),n.jsx("p",{className:`mt-2 ${f?"text-slate-400":"text-slate-500"}`,children:"Ingresa el cdigo de acceso para maestros."}),n.jsxs("p",{className:`mt-1 text-sm ${f?"text-slate-500":"text-slate-400"}`,children:["Sesin iniciada como: ",n.jsx("strong",{children:t.email})]})]}),n.jsxs("form",{onSubmit:Rd,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Usuario"}),n.jsx("input",{type:"text",value:Zt.user,onChange:c=>fc({...Zt,user:c.target.value}),className:`w-full px-4 py-3 rounded-xl border ${f?"bg-slate-700 border-slate-600 text-white":"bg-slate-50 border-slate-200"}`,placeholder:"Usuario de seguridad",required:!0})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Contrasea"}),n.jsx("input",{type:"password",value:Zt.password,onChange:c=>fc({...Zt,password:c.target.value}),className:`w-full px-4 py-3 rounded-xl border ${f?"bg-slate-700 border-slate-600 text-white":"bg-slate-50 border-slate-200"}`,placeholder:"Contrasea de seguridad",required:!0})]}),mc&&n.jsx("div",{className:"bg-red-100 text-red-700 px-4 py-3 rounded-xl text-sm",children:mc}),n.jsx("button",{type:"submit",disabled:_i,className:"w-full py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50",children:_i?"Verificando...":"Verificar Acceso"})]}),n.jsxs("div",{className:"mt-4 flex gap-2",children:[n.jsx("button",{onClick:async()=>{sessionStorage.removeItem("maestro_security_verified"),await T.auth.signOut()},className:"flex-1 py-3 text-slate-500 hover:text-slate-700 transition-colors font-medium text-sm",children:"Cerrar Sesin"}),n.jsx("button",{onClick:()=>s("/maestros"),className:"flex-1 py-3 text-slate-500 hover:text-slate-700 transition-colors font-medium text-sm",children:" Regresar"})]})]})}):n.jsxs("div",{className:`min-h-screen transition-colors duration-200 ${f?"bg-slate-900 text-slate-100":"bg-slate-100 text-slate-900"}`,children:[n.jsxs("header",{className:`lg:hidden sticky top-0 z-30 flex items-center justify-between px-4 py-3 ${f?"bg-slate-900 border-slate-800":"bg-white border-slate-200"} border-b`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"bg-blue-800 p-1.5 rounded-lg",children:n.jsx("span",{className:"material-symbols-outlined text-white text-xl",children:"school"})}),n.jsx("h1",{className:`text-lg font-bold tracking-tight ${f?"text-blue-400":"text-blue-800"}`,children:"EduPanel"})]}),n.jsx("button",{className:`p-2 ${f?"text-slate-400":"text-slate-600"}`,onClick:()=>N(!k),children:n.jsx("span",{className:"material-symbols-outlined",children:"menu"})})]}),k&&n.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-30",onClick:()=>N(!1)}),n.jsxs("aside",{className:`fixed inset-y-0 left-0 w-64 ${f?"bg-slate-900 border-slate-800":"bg-white border-slate-200"} border-r transform ${k?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 flex flex-col overflow-hidden`,children:[n.jsx("div",{className:"p-6 hidden lg:block flex-shrink-0",children:n.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[n.jsx("div",{className:"bg-blue-800 p-2 rounded-lg",children:n.jsx("span",{className:"material-symbols-outlined text-white",children:"school"})}),n.jsx("h1",{className:`text-xl font-bold tracking-tight ${f?"text-blue-400":"text-blue-800"}`,children:"EduPanel"})]})}),n.jsxs("nav",{className:"flex-1 px-4 space-y-1 mt-4 lg:mt-0 overflow-y-auto overscroll-contain pb-4",style:{WebkitOverflowScrolling:"touch"},children:[n.jsxs("button",{onClick:()=>{A("dashboard"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-semibold transition-all ${S==="dashboard"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"dashboard"})," Panel Principal"]}),n.jsxs("button",{onClick:()=>{A("alumnos"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${S==="alumnos"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"group"})," Alumnos"]}),n.jsxs("button",{onClick:()=>{A("avisos"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${S==="avisos"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"campaign"})," Avisos"]}),n.jsxs("button",{onClick:()=>{A("clubes"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${S==="clubes"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"sports_esports"})," Clubes"]}),n.jsxs("button",{onClick:()=>{A("carreras"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${S==="carreras"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"engineering"})," Carreras"]}),n.jsxs("button",{onClick:()=>{A("maestros"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${S==="maestros"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"co_present"})," Maestros"]}),n.jsxs("button",{onClick:()=>{A("admission"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${S==="admission"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"assignment"})," Admisin"]}),n.jsxs("button",{onClick:()=>{A("baetam"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${S==="baetam"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"school"})," BAETAM"]}),n.jsxs("button",{onClick:()=>{A("contacto"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${S==="contacto"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"contact_mail"})," Contacto"]}),n.jsxs("button",{onClick:()=>{A("about"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${S==="about"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"info"})," Acerca"]}),n.jsxs("button",{onClick:()=>{A("gallery"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${S==="gallery"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"photo_library"})," Galera"]}),n.jsxs("button",{onClick:()=>{A("ui"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${S==="ui"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"dashboard_customize"})," Interfaz"]}),n.jsxs("button",{onClick:()=>{A("creditos"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${S==="creditos"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"badge"})," Crditos"]}),n.jsxs("button",{onClick:()=>{A("chatbot"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${S==="chatbot"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"smart_toy"})," IA Chatbot"]}),n.jsxs("button",{onClick:()=>{A("gmail"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${S==="gmail"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"mail"})," Notificaciones Gmail"]}),n.jsxs("button",{onClick:()=>{A("storage"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${S==="storage"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"storage"})," Almacenamiento"]}),n.jsxs("button",{onClick:()=>{A("access"),N(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${S==="access"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[n.jsx("span",{className:"material-symbols-outlined",children:"security"})," Acceso a la Pgina"]})]}),n.jsxs("div",{className:`p-4 border-t flex-shrink-0 ${f?"border-slate-800":"border-slate-100"}`,children:[n.jsxs("button",{onClick:ul,className:`w-full flex items-center justify-between p-3 rounded-xl ${f?"bg-slate-800 text-slate-300":"bg-slate-100 text-slate-600"}`,children:[n.jsx("span",{className:"text-sm font-medium",children:"Modo Oscuro"}),n.jsx("span",{className:"material-symbols-outlined",children:"dark_mode"})]}),n.jsxs("button",{onClick:Vi,className:`w-full mt-2 flex items-center justify-center gap-2 p-3 rounded-xl ${f?"bg-red-900/30 text-red-300 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[n.jsx("span",{className:"material-symbols-outlined text-sm",children:"logout"}),n.jsx("span",{className:"text-sm font-medium",children:"Cerrar sesin"})]}),n.jsxs("button",{onClick:()=>s("/maestros"),className:`w-full mt-2 flex items-center justify-center gap-2 p-3 rounded-xl ${f?"bg-slate-800 text-slate-300 hover:bg-slate-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"} transition-colors`,children:[n.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_back"}),n.jsx("span",{className:"text-sm font-medium",children:"Regresar"})]})]})]}),k&&n.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-30 lg:hidden",onClick:()=>N(!1)}),n.jsxs("main",{className:"lg:ml-64 p-4 md:p-8 lg:p-10 min-h-screen",children:[n.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[n.jsxs("div",{children:[n.jsx("h2",{className:`text-2xl md:text-3xl font-extrabold ${f?"text-white":"text-slate-900"}`,children:"Panel Docente"}),n.jsxs("p",{className:f?"text-slate-400":"text-slate-500",children:["Bienvenido, ",n.jsx("span",{className:`font-bold ${f?"text-blue-400":"text-blue-800"}`,children:(o==null?void 0:o.nombre)||"Maestro"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsxs("div",{className:"relative flex-1 md:flex-none",children:[n.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"search"}),n.jsx("input",{type:"text",placeholder:"Buscar...",className:`w-full md:w-64 pl-10 pr-4 py-2.5 border-none rounded-2xl shadow-sm ring-1 ${f?"bg-slate-800 ring-slate-700 text-white":"bg-white ring-slate-200"} focus:ring-2 focus:ring-blue-800 transition-all`})]}),n.jsx("button",{className:"bg-blue-800 text-white p-2.5 rounded-2xl shadow-lg shadow-blue-200 dark:shadow-none hover:opacity-90 transition-opacity",children:n.jsx("span",{className:"material-symbols-outlined",children:"notifications"})})]})]}),S==="admission"&&n.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[n.jsx("section",{children:n.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"assignment"})," Configuracin de Admisin"]}),n.jsxs("form",{onSubmit:Ri,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"date",value:ve.target_date,onChange:c=>Oe({...ve,target_date:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Mensaje del contador",value:ve.countdown_message,onChange:c=>Oe({...ve,countdown_message:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo de cabecera",value:ve.header_title,onChange:c=>Oe({...ve,header_title:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Subttulo de cabecera",value:ve.header_subtitle,onChange:c=>Oe({...ve,header_subtitle:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Configuracin"})})]})]})}),n.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Fechas Importantes"}),n.jsxs("form",{onSubmit:yc,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Ttulo",value:X.title,onChange:c=>K({...X,title:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Rango de fecha",value:X.date_range,onChange:c=>K({...X,date_range:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Subttulo",value:X.subtitle,onChange:c=>K({...X,subtitle:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:L?"Actualizar":"Agregar"})]}),n.jsx("div",{className:"mt-4 space-y-2",children:Ce.map(c=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:c.title}),n.jsxs("div",{className:"text-xs text-slate-500",children:[c.date_range,"  ",c.subtitle]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{W(c),K({title:c.title,date_range:c.date_range,subtitle:c.subtitle})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>vc(c.id),className:"text-red-500",children:"Eliminar"})]})]},c.id))})]}),n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Requisitos"}),n.jsxs("form",{onSubmit:Pi,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Requisito",value:_e.requirement,onChange:c=>je({requirement:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:Re?"Actualizar":"Agregar"})]}),n.jsx("div",{className:"mt-4 space-y-2",children:ue.map(c=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsx("div",{className:"font-semibold",children:c.requirement}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{Ee(c),je({requirement:c.requirement})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>wc(c.id),className:"text-red-500",children:"Eliminar"})]})]},c.id))})]})]}),n.jsxs("section",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Especialidades"}),n.jsxs("form",{onSubmit:Yr,className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsx("input",{type:"text",placeholder:"Emoji",value:Jt.emoji,onChange:c=>$n({...Jt,emoji:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Nombre",value:Jt.name,onChange:c=>$n({...Jt,name:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin",value:Jt.description,onChange:c=>$n({...Jt,description:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-3",children:n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:ds?"Actualizar":"Agregar"})})]}),n.jsx("div",{className:"mt-4 space-y-2",children:De.map(c=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-semibold",children:[c.emoji," ",c.name]}),n.jsx("div",{className:"text-xs text-slate-500",children:c.description})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{Ya(c),$n({emoji:c.emoji,name:c.name,description:c.description})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>Ii(c.id),className:"text-red-500",children:"Eliminar"})]})]},c.id))})]}),n.jsxs("section",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Contacto"}),n.jsxs("form",{onSubmit:Zo,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Direccin",value:nt.address,onChange:c=>wr({...nt,address:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Etiqueta Telfono",value:nt.phone_label,onChange:c=>wr({...nt,phone_label:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Telfono",value:nt.phone_value,onChange:c=>wr({...nt,phone_value:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Etiqueta Correo",value:nt.email_label,onChange:c=>wr({...nt,email_label:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Correo",value:nt.email_value,onChange:c=>wr({...nt,email_value:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Etiqueta Sitio Web",value:nt.website_label,onChange:c=>wr({...nt,website_label:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Sitio Web",value:nt.website_value,onChange:c=>wr({...nt,website_value:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Horario",value:nt.schedule,onChange:c=>wr({...nt,schedule:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Contacto"})})]})]})]}),S==="baetam"&&n.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[n.jsx("section",{children:n.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"school"})," Configuracin BAETAM"]}),n.jsxs("form",{onSubmit:Od,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"URL imagen principal",value:me.hero_image_url,onChange:c=>xt({...me,hero_image_url:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo",value:me.title,onChange:c=>xt({...me,title:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Subttulo",value:me.subtitle,onChange:c=>xt({...me,subtitle:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"date",value:me.target_date,onChange:c=>xt({...me,target_date:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Texto contador",value:me.countdown_label,onChange:c=>xt({...me,countdown_label:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Texto fecha contador",value:me.countdown_date_text,onChange:c=>xt({...me,countdown_date_text:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo inscripciones",value:me.inscriptions_title,onChange:c=>xt({...me,inscriptions_title:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo periodo inscripciones",value:me.inscriptions_period_title,onChange:c=>xt({...me,inscriptions_period_title:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin periodo inscripciones",value:me.inscriptions_period_description,onChange:c=>xt({...me,inscriptions_period_description:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo requisitos",value:me.requirements_title,onChange:c=>xt({...me,requirements_title:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo ventajas",value:me.advantages_title,onChange:c=>xt({...me,advantages_title:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo contacto",value:me.contact_title,onChange:c=>xt({...me,contact_title:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin contacto",value:me.contact_description,onChange:c=>xt({...me,contact_description:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar BAETAM"})})]})]})}),n.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Tarjetas Informativas"}),n.jsxs("form",{onSubmit:_n,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Ttulo",value:Mr.title,onChange:c=>hs({...Mr,title:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin",value:Mr.description,onChange:c=>hs({...Mr,description:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:na?"Actualizar":"Agregar"})]}),n.jsx("div",{className:"mt-4 space-y-2",children:uo.map(c=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:c.title}),n.jsx("div",{className:"text-xs text-slate-500",children:c.description})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{sa(c),hs({title:c.title,description:c.description})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>$s(c.id),className:"text-red-500",children:"Eliminar"})]})]},c.id))})]}),n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Requisitos"}),n.jsxs("form",{onSubmit:Rs,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Icono (emoji)",value:cr.icon,onChange:c=>ia({...cr,icon:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Texto",value:cr.text,onChange:c=>ia({...cr,text:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:Xa?"Actualizar":"Agregar"})]}),n.jsx("div",{className:"mt-4 space-y-2",children:ho.map(c=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{className:"font-semibold",children:[c.icon," ",c.text]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{po(c),ia({icon:c.icon,text:c.text})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>Oi(c.id),className:"text-red-500",children:"Eliminar"})]})]},c.id))})]})]}),n.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Ventajas"}),n.jsxs("form",{onSubmit:Di,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Ttulo",value:_r.title,onChange:c=>Rn({..._r,title:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin",value:_r.description,onChange:c=>Rn({..._r,description:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:oa?"Actualizar":"Agregar"})]}),n.jsx("div",{className:"mt-4 space-y-2",children:ql.map(c=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:c.title}),n.jsx("div",{className:"text-xs text-slate-500",children:c.description})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{Za(c),Rn({title:c.title,description:c.description})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>tr(c.id),className:"text-red-500",children:"Eliminar"})]})]},c.id))})]}),n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Contacto"}),n.jsxs("form",{onSubmit:rr,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Lnea de contacto",value:la.line_text,onChange:c=>ca({line_text:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:ei?"Actualizar":"Agregar"})]}),n.jsx("div",{className:"mt-4 space-y-2",children:Pn.map(c=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsx("div",{className:"font-semibold",children:c.line_text}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{mo(c),ca({line_text:c.line_text})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>Yn(c.id),className:"text-red-500",children:"Eliminar"})]})]},c.id))})]})]})]}),S==="contacto"&&n.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[n.jsx("section",{children:n.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"contact_mail"})," Informacin Principal"]}),n.jsxs("form",{onSubmit:el,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Direccin lnea 1",value:Qe.address_line1,onChange:c=>St({...Qe,address_line1:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Direccin lnea 2",value:Qe.address_line2,onChange:c=>St({...Qe,address_line2:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Direccin lnea 3",value:Qe.address_line3,onChange:c=>St({...Qe,address_line3:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Telfono",value:Qe.phone,onChange:c=>St({...Qe,phone:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Correo",value:Qe.email,onChange:c=>St({...Qe,email:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Sitio web",value:Qe.website,onChange:c=>St({...Qe,website:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Texto calificacin",value:Qe.rating_text,onChange:c=>St({...Qe,rating_text:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Estado",value:Qe.status_text,onChange:c=>St({...Qe,status_text:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Horario lnea 1",value:Qe.hours_line1,onChange:c=>St({...Qe,hours_line1:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Horario lnea 2",value:Qe.hours_line2,onChange:c=>St({...Qe,hours_line2:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Informacin"})})]})]})}),n.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Directorio"}),n.jsxs("form",{onSubmit:Vt,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Icono",value:jr.icon,onChange:c=>Sr({...jr,icon:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo",value:jr.title,onChange:c=>Sr({...jr,title:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Detalle",value:jr.detail,onChange:c=>Sr({...jr,detail:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:fs?"Actualizar":"Agregar"})]}),n.jsx("div",{className:"mt-4 space-y-2",children:ti.map(c=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-semibold",children:[c.icon," ",c.title]}),n.jsx("div",{className:"text-xs text-slate-500",children:c.detail})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{ha(c),Sr({icon:c.icon||"",title:c.title,detail:c.detail})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>Wt(c.id),className:"text-red-500",children:"Eliminar"})]})]},c.id))})]}),n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Redes Sociales"}),n.jsxs("form",{onSubmit:We,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Icono",value:Qt.icon,onChange:c=>In({...Qt,icon:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Nombre",value:Qt.name,onChange:c=>In({...Qt,name:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"URL",value:Qt.url,onChange:c=>In({...Qt,url:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin",value:Qt.description,onChange:c=>In({...Qt,description:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:qr?"Actualizar":"Agregar"})]}),n.jsx("div",{className:"mt-4 space-y-2",children:ri.map(c=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-semibold",children:[c.icon," ",c.name]}),n.jsx("div",{className:"text-xs text-slate-500",children:c.url})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{xo(c),In({icon:c.icon||"",name:c.name,url:c.url,description:c.description})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>fr(c.id),className:"text-red-500",children:"Eliminar"})]})]},c.id))})]})]}),n.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Ubicacin"}),n.jsxs("form",{onSubmit:jc,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Texto de direccin",value:On.address_text,onChange:c=>ni({...On,address_text:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"URL iframe mapa",value:On.map_embed_url,onChange:c=>ni({...On,map_embed_url:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:"Guardar Ubicacin"})]})]}),n.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"CTA Final"}),n.jsxs("form",{onSubmit:rl,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Ttulo",value:dr.title,onChange:c=>si({...dr,title:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin",value:dr.description,onChange:c=>si({...dr,description:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Texto destacado",value:dr.highlight_text,onChange:c=>si({...dr,highlight_text:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:"Guardar CTA"})]})]})]}),n.jsxs("section",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Preguntas Frecuentes"}),n.jsxs("form",{onSubmit:Sc,className:"space-y-3",children:[n.jsx("input",{type:"text",placeholder:"Pregunta",value:dn.question,onChange:c=>fa({...dn,question:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Respuesta",value:dn.answer,onChange:c=>fa({...dn,answer:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:Ye?"Actualizar":"Agregar"})]}),n.jsx("div",{className:"mt-4 space-y-2",children:bo.map(c=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:c.question}),n.jsx("div",{className:"text-xs text-slate-500",children:c.answer})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{Vl(c),fa({question:c.question,answer:c.answer})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>tl(c.id),className:"text-red-500",children:"Eliminar"})]})]},c.id))})]})]}),S==="about"&&n.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[n.jsx("section",{children:n.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"info"})," Acerca de CBTa"]}),n.jsxs("form",{onSubmit:Li,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Ttulo",value:Ae.title,onChange:c=>ur({...Ae,title:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"URL Logo",value:Ae.logo_url,onChange:c=>ur({...Ae,logo_url:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"URL Croquis",value:Ae.croquis_image_url,onChange:c=>ur({...Ae,croquis_image_url:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-3 items-center",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:c=>{var w;return Gl(((w=c.target.files)==null?void 0:w[0])||null)},className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"button",onClick:kc,disabled:Kl||!Pt,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:Kl?"Subiendo...":"Subir croquis"}),Ae.croquis_image_url&&n.jsx("a",{href:Ae.croquis_image_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500",children:"Ver imagen"})]}),n.jsx("textarea",{placeholder:"Historia",value:Ae.history_text,onChange:c=>ur({...Ae,history_text:c.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("textarea",{placeholder:"Misin",value:Ae.mission_text,onChange:c=>ur({...Ae,mission_text:c.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("textarea",{placeholder:"Visin",value:Ae.vision_text,onChange:c=>ur({...Ae,vision_text:c.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Lema",value:Ae.lema_text,onChange:c=>ur({...Ae,lema_text:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("textarea",{placeholder:"Compromiso texto 1",value:Ae.commitment_text_1,onChange:c=>ur({...Ae,commitment_text_1:c.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("textarea",{placeholder:"Compromiso texto 2",value:Ae.commitment_text_2,onChange:c=>ur({...Ae,commitment_text_2:c.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Acerca"})})]})]})}),n.jsxs("section",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Valores"}),n.jsxs("form",{onSubmit:Ps,className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsx("input",{type:"text",placeholder:"Icono",value:It.icon,onChange:c=>Hr({...It,icon:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo",value:It.title,onChange:c=>Hr({...It,title:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin",value:It.description,onChange:c=>Hr({...It,description:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-3",children:n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:yo?"Actualizar":"Agregar"})})]}),n.jsx("div",{className:"mt-4 space-y-2",children:ga.map(c=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-semibold",children:[c.icon," ",c.title]}),n.jsx("div",{className:"text-xs text-slate-500",children:c.description})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{Jl(c),Hr({icon:c.icon||"",title:c.title,description:c.description})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>nl(c.id),className:"text-red-500",children:"Eliminar"})]})]},c.id))})]})]}),S==="gallery"&&n.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[n.jsx("section",{children:n.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"photo_library"})," Galera"]}),n.jsxs("form",{onSubmit:Ui,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("select",{value:ze.section,onChange:c=>Mt({...ze,section:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,children:[n.jsx("option",{value:"instalaciones",children:"Instalaciones"}),n.jsx("option",{value:"actividades",children:"Actividades"}),n.jsx("option",{value:"clubs",children:"Clubs"}),n.jsx("option",{value:"cbta",children:"CBTa 134"}),n.jsx("option",{value:"galeria",children:"Galera General"})]}),n.jsx("input",{type:"text",placeholder:"Ttulo",value:ze.title,onChange:c=>Mt({...ze,title:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin",value:ze.description,onChange:c=>Mt({...ze,description:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"URL de imagen",value:ze.image_url,onChange:c=>Mt({...ze,image_url:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-3 items-center",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:c=>{var w;return wo(((w=c.target.files)==null?void 0:w[0])||null)},className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"button",onClick:$a,disabled:_o||!$e,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:_o?"Subiendo...":"Subir imagen"}),ze.image_url&&n.jsx("a",{href:ze.image_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500",children:"Ver imagen"})]}),n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:ze.is_locked,onChange:c=>Mt({...ze,is_locked:c.target.checked})}),"Bloquear (no se puede eliminar)"]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:vo?"Actualizar":"Agregar"})})]})]})}),n.jsxs("section",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-lg font-bold mb-4",children:"Imgenes"}),n.jsx("div",{className:"space-y-3",children:oi.map(c=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:c.image_url,alt:c.title,className:"w-14 h-14 rounded-lg object-cover"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:c.title}),n.jsxs("div",{className:"text-xs text-slate-500",children:[c.section,"  ",c.description]})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{li(c),Mt({section:c.section,title:c.title,description:c.description||"",image_url:c.image_url,is_locked:c.is_locked})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>Nc(c),className:`text-red-500 ${c.is_locked?"opacity-50 cursor-not-allowed":""}`,disabled:c.is_locked,children:"Eliminar"})]})]},c.id))})]})]}),S==="ui"&&n.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-xl font-bold mb-6",children:"Header"}),n.jsxs("form",{onSubmit:Is,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"URL Logo",value:Dn.logo_url,onChange:c=>ya({...Dn,logo_url:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo",value:Dn.title_text,onChange:c=>ya({...Dn,title_text:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Header"})})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"font-bold mb-3",children:"Links Header"}),n.jsxs("form",{onSubmit:Cc,className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsx("input",{type:"text",placeholder:"Label",value:ft.label,onChange:c=>qt({...ft,label:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Path (ej: noticias)",value:ft.path,onChange:c=>qt({...ft,path:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Href (ej: /noticias)",value:ft.href,onChange:c=>qt({...ft,href:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-3",children:n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:Ln?"Actualizar":"Agregar"})})]}),n.jsx("div",{className:"mt-4 space-y-2",children:va.map(c=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{className:"font-semibold",children:[c.label,"  ",c.path]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{gs(c),qt({label:c.label,path:c.path,href:c.href||""})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>Fi(c.id),className:"text-red-500",children:"Eliminar"})]})]},c.id))})]})]}),n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-xl font-bold mb-6",children:"Carrusel (Hero)"}),n.jsxs("form",{onSubmit:il,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"URL de imagen",value:Ot.image_url,onChange:c=>vs({...Ot,image_url:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-center md:col-span-2",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:c=>{var w;return di(((w=c.target.files)==null?void 0:w[0])||null)},className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"button",onClick:al,disabled:ko||!Bn,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:ko?"Subiendo...":"Subir imagen"}),Ot.image_url&&n.jsx("a",{href:Ot.image_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500",children:"Ver imagen"})]}),n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:Ot.is_locked,onChange:c=>vs({...Ot,is_locked:c.target.checked})}),"Bloquear"]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:So?"Actualizar":"Agregar"})})]}),n.jsx("div",{className:"mt-4 space-y-2",children:bs.map(c=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:c.image_url,alt:"slide",className:"w-14 h-14 rounded-lg object-cover"}),n.jsx("span",{className:"text-xs",children:c.image_url})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{ci(c),vs({image_url:c.image_url,is_locked:c.is_locked})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>ol(c),className:`text-red-500 ${c.is_locked?"opacity-50 cursor-not-allowed":""}`,disabled:c.is_locked,children:"Eliminar"})]})]},c.id))})]}),n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-xl font-bold mb-6",children:"Opciones de Inicio"}),n.jsxs("form",{onSubmit:nr,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Ttulo",value:et.title,onChange:c=>Yt({...et,title:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin",value:et.description,onChange:c=>Yt({...et,description:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Path (ej: noticias)",value:et.path,onChange:c=>Yt({...et,path:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"URL de imagen",value:et.image_url,onChange:c=>Yt({...et,image_url:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-3 items-center",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:c=>{var w;return Un(((w=c.target.files)==null?void 0:w[0])||null)},className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"button",onClick:Ds,disabled:pi||!bt,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:pi?"Subiendo...":"Subir imagen"}),et.image_url&&n.jsx("a",{href:et.image_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500",children:"Ver imagen"})]}),n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:et.is_locked,onChange:c=>Yt({...et,is_locked:c.target.checked})}),"Bloquear"]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:ws?"Actualizar":"Agregar"})})]}),n.jsx("div",{className:"mt-4 space-y-2",children:ui.map(c=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:c.image_url,alt:c.title,className:"w-14 h-14 rounded-lg object-cover"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:c.title}),n.jsx("div",{className:"text-xs text-slate-500",children:c.path})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{No(c),Yt({image_url:c.image_url,title:c.title,description:c.description||"",path:c.path,is_locked:c.is_locked})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>es(c),className:`text-red-500 ${c.is_locked?"opacity-50 cursor-not-allowed":""}`,disabled:c.is_locked,children:"Eliminar"})]})]},c.id))})]}),n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-xl font-bold mb-6",children:"Footer"}),n.jsxs("form",{onSubmit:zi,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Nombre",value:it.school_name,onChange:c=>Ht({...it,school_name:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ubicacin",value:it.location_text,onChange:c=>Ht({...it,location_text:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Tagline",value:it.tagline_text,onChange:c=>Ht({...it,tagline_text:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Copyright",value:it.copyright_text,onChange:c=>Ht({...it,copyright_text:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Derechos",value:it.rights_text,onChange:c=>Ht({...it,rights_text:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("textarea",{placeholder:"Legal 1",value:it.legal_text_1,onChange:c=>Ht({...it,legal_text_1:c.target.value}),className:`p-3 rounded-xl border min-h-[100px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("textarea",{placeholder:"Legal 2",value:it.legal_text_2,onChange:c=>Ht({...it,legal_text_2:c.target.value}),className:`p-3 rounded-xl border min-h-[100px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("textarea",{placeholder:"Legal 3",value:it.legal_text_3,onChange:c=>Ht({...it,legal_text_3:c.target.value}),className:`p-3 rounded-xl border min-h-[100px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Footer"})})]}),n.jsxs("div",{className:"mt-6",children:[n.jsx("h4",{className:"font-bold mb-3",children:"Links Footer"}),n.jsxs("form",{onSubmit:Os,className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[n.jsx("input",{type:"text",placeholder:"Label",value:kt.label,onChange:c=>hn({...kt,label:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"URL",value:kt.href,onChange:c=>hn({...kt,href:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Icon URL",value:kt.icon_url,onChange:c=>hn({...kt,icon_url:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Clase (facebook/maps)",value:kt.style_class,onChange:c=>hn({...kt,style_class:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-4",children:n.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:jo?"Actualizar":"Agregar"})})]}),n.jsx("div",{className:"mt-4 space-y-2",children:Xl.map(c=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{className:"font-semibold",children:[c.label,"  ",c.href]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{xs(c),hn({label:c.label,href:c.href,icon_url:c.icon_url||"",style_class:c.style_class||""})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>sl(c.id),className:"text-red-500",children:"Eliminar"})]})]},c.id))})]})]})]}),S==="creditos"&&n.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-xl font-bold mb-6",children:"Configuracin Crditos"}),n.jsxs("form",{onSubmit:Ec,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Ttulo",value:Er.title,onChange:c=>_a({...Er,title:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Subttulo",value:Er.subtitle,onChange:c=>_a({...Er,subtitle:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Ttulo licencia (opcional)",value:Er.license_title,onChange:c=>_a({...Er,license_title:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("textarea",{placeholder:"Texto licencia (opcional)",value:Er.license_text,onChange:c=>_a({...Er,license_text:c.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Crditos"})})]})]}),n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-xl font-bold mb-6",children:"Autores"}),n.jsxs("form",{onSubmit:Sn,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Nombre completo",value:Nt.full_name,onChange:c=>pn({...Nt,full_name:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Carrera",value:Nt.career,onChange:c=>pn({...Nt,career:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin",value:Nt.description,onChange:c=>pn({...Nt,description:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"URL foto",value:Nt.photo_url,onChange:c=>pn({...Nt,photo_url:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-3 items-center",children:[n.jsx("input",{type:"file",accept:"image/*",onChange:c=>{var w;return sc(((w=c.target.files)==null?void 0:w[0])||null)},className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"button",onClick:Zr,disabled:ac||!_s,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:ac?"Subiendo...":"Subir foto"}),Nt.photo_url&&n.jsx("a",{href:Nt.photo_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500",children:"Ver foto"})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:To?"Actualizar":"Agregar"})})]}),n.jsx("div",{className:"mt-4 space-y-2",children:tc.map(c=>n.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("img",{src:c.photo_url,alt:c.full_name,className:"w-14 h-14 rounded-lg object-cover"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold",children:c.full_name}),n.jsx("div",{className:"text-xs text-slate-500",children:c.career})]})]}),n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>{nc(c),pn({full_name:c.full_name,career:c.career,description:c.description||"",photo_url:c.photo_url||""})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>ll(c.id),className:"text-red-500",children:"Eliminar"})]})]},c.id))})]})]}),(S==="dashboard"||S==="alumnos"||S==="avisos"||S==="clubes"||S==="carreras"||S==="maestros"||S==="chatbot"||S==="gmail"||S==="storage"||S==="access")&&n.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[S==="dashboard"&&n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsx("h3",{className:"text-xl font-bold mb-4",children:"Panel principal"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{key:"avisos",label:"Avisos",icon:"campaign"},{key:"clubes",label:"Clubes",icon:"sports_esports"},{key:"carreras",label:"Carreras",icon:"engineering"},{key:"maestros",label:"Maestros",icon:"co_present"},{key:"alumnos",label:"Alumnos",icon:"group"},{key:"chatbot",label:"IA Chatbot",icon:"smart_toy"},{key:"gmail",label:"Notificaciones Gmail",icon:"mail"},{key:"storage",label:"Almacenamiento",icon:"storage"}].map(c=>n.jsxs("button",{onClick:()=>A(c.key),className:`p-6 rounded-3xl text-left border ${f?"bg-slate-900 border-slate-700 hover:border-blue-400":"bg-white border-slate-100 hover:border-blue-800"} transition-all`,children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800 text-2xl",children:c.icon}),n.jsx("div",{className:"mt-2 font-bold",children:c.label})]},c.key))})]}),S==="alumnos"&&n.jsxs(n.Fragment,{children:[n.jsxs("section",{children:[n.jsx("div",{className:"flex items-center justify-between mb-4",children:n.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"layers"})," Gestin por Semestre"]})}),n.jsx("div",{className:"flex overflow-x-auto lg:grid lg:grid-cols-6 gap-4 pb-4 lg:pb-0",style:{scrollbarWidth:"none",msOverflowStyle:"none"},children:[1,2,3,4,5,6].map(c=>n.jsxs("div",{onClick:()=>{Ni(c),xn("groups")},className:`flex-shrink-0 w-32 lg:w-full group p-6 rounded-3xl shadow-sm border cursor-pointer transition-all text-center ${f?"bg-slate-800 border-slate-700 hover:border-blue-400":"bg-white border-slate-100 hover:border-blue-800"} ${bn===c?f?"border-blue-400":"border-blue-800":""}`,children:[n.jsxs("div",{className:`text-3xl font-black mb-1 ${f?"text-blue-400":"text-blue-800"}`,children:[c,""]}),n.jsx("div",{className:`text-[10px] uppercase font-bold tracking-wider ${f?"text-slate-400 group-hover:text-blue-400":"text-slate-400 group-hover:text-blue-800"}`,children:"Semestre"})]},c))})]}),Ea==="students"&&Vn&&n.jsxs("section",{children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-bold",children:["Alumnos - ",bn," Semestre, Grupo ",Vn]}),n.jsx("button",{onClick:()=>{xn("groups"),Ta(null)},className:`text-sm ${f?"text-blue-400":"text-blue-800"} hover:underline`,children:" Volver a grupos"})]})}),n.jsx("div",{className:`rounded-3xl overflow-hidden ${f?"bg-slate-800":"bg-white"} shadow-sm`,children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:f?"bg-slate-900":"bg-slate-50",children:[n.jsx("th",{className:`p-4 text-left font-semibold ${f?"text-slate-300":"text-slate-600"}`,children:"Nombre Completo"}),n.jsx("th",{className:`p-4 text-left font-semibold ${f?"text-slate-300":"text-slate-600"}`,children:"No. Control"}),n.jsx("th",{className:`p-4 text-left font-semibold ${f?"text-slate-300":"text-slate-600"}`,children:"CURP"}),n.jsx("th",{className:`p-4 text-left font-semibold ${f?"text-slate-300":"text-slate-600"}`,children:"Acciones"})]})}),n.jsx("tbody",{children:Go().length>0?Go().map(c=>n.jsxs("tr",{className:`border-t ${f?"border-slate-700 hover:bg-slate-700/50":"border-slate-100 hover:bg-slate-50"}`,children:[n.jsxs("td",{className:"p-4",children:[n.jsx("strong",{children:c.apellidos}),", ",c.nombre||""]}),n.jsx("td",{className:`p-4 ${c.numero_control?"":"text-slate-400"}`,children:c.numero_control||"--"}),n.jsx("td",{className:"p-4",children:c.curp}),n.jsx("td",{className:"p-4",children:n.jsxs("div",{className:"flex gap-2",children:[n.jsx("button",{onClick:()=>Xo(c),className:"p-2 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",title:"Calificaciones",children:""}),n.jsx("button",{onClick:()=>Or(c),className:"p-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",title:"Editar Datos",children:""}),n.jsx("button",{onClick:()=>xc(c.id),className:"p-2 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",title:"Eliminar",children:""})]})})]},c.id)):n.jsx("tr",{children:n.jsx("td",{colSpan:"4",className:"p-8 text-center text-slate-500",children:"No hay alumnos en este grupo."})})})]})})]}),Ea==="groups"&&bn&&n.jsxs("section",{children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-bold",children:["Grupos - ",bn," Semestre"]}),n.jsx("button",{onClick:()=>{xn("semesters"),Ni(null)},className:`text-sm ${f?"text-blue-400":"text-blue-800"} hover:underline`,children:" Volver a semestres"})]})}),n.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:Wn(bn).length>0?Wn(bn).map(c=>n.jsxs("div",{onClick:()=>{Ta(c),xn("students")},className:`p-6 rounded-3xl border-l-4 border-l-green-500 cursor-pointer transition-all text-center ${f?"bg-slate-800 border border-slate-700 hover:border-green-400":"bg-white border border-slate-100 hover:border-green-500 shadow-sm"}`,children:[n.jsx("div",{className:"text-4xl font-black text-green-500 mb-1",children:c}),n.jsx("div",{className:"text-xs uppercase font-bold tracking-wider text-slate-400",children:"Grupo"})]},c)):n.jsx("p",{className:"col-span-full text-center text-slate-500 py-8",children:"No hay grupos registrados en este semestre an."})})]})]}),S==="avisos"&&n.jsxs(n.Fragment,{children:[n.jsx("section",{children:n.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 shadow-xl border ${f?"bg-slate-800 border-slate-700 shadow-none":"bg-white border-white shadow-slate-200/50"}`,children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"add_circle"})," Nuevo Aviso Global"]}),n.jsxs("form",{onSubmit:$i,className:"space-y-4",children:[n.jsx("input",{type:"text",value:b.titulo,onChange:c=>_({...b,titulo:c.target.value}),placeholder:"Qu quieres anunciar hoy?",className:`w-full text-lg border-none rounded-2xl p-4 focus:ring-2 focus:ring-blue-800/20 transition-all ${f?"bg-slate-900 text-white placeholder-slate-500":"bg-slate-50"}`,required:!0}),n.jsx("textarea",{value:b.contenido,onChange:c=>_({...b,contenido:c.target.value}),placeholder:"Describe el aviso detalladamente...",rows:"3",className:`w-full border-none rounded-2xl p-4 focus:ring-2 focus:ring-blue-800/20 transition-all ${f?"bg-slate-900 text-white placeholder-slate-500":"bg-slate-50"}`,required:!0}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-2",children:[n.jsx("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:n.jsxs("label",{className:`flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl cursor-pointer transition-colors w-full sm:w-auto ${f?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[n.jsx("span",{className:"material-symbols-outlined text-xl",children:"image"}),n.jsx("span",{className:"text-sm font-semibold",children:"Imagen/Video"}),n.jsx("input",{type:"file",accept:"image/*,video/*",onChange:c=>yn(c.target.files[0]),className:"hidden"})]})}),n.jsx("button",{type:"submit",disabled:Ts,className:"w-full sm:w-auto px-8 py-3 bg-blue-800 text-white font-bold rounded-2xl shadow-lg shadow-blue-200 hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50",children:Ts?"Subiendo...":er?"Actualizar":"Publicar Ahora"})]}),Kn&&n.jsxs("p",{className:`text-sm ${f?"text-slate-400":"text-slate-500"}`,children:[" ",Kn.name]})]})]})}),n.jsxs("section",{children:[n.jsx("div",{className:"flex items-center justify-between mb-6",children:n.jsx("h3",{className:"text-lg font-bold",children:"Avisos Activos"})}),n.jsx("div",{className:"space-y-4",children:bc.length===0?n.jsxs("div",{className:`p-8 rounded-3xl text-center ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100"} border`,children:[n.jsx("span",{className:"material-symbols-outlined text-4xl text-slate-400 mb-2",children:"notifications_off"}),n.jsx("p",{className:"text-slate-500",children:"No hay avisos publicados."})]}):bc.map(c=>n.jsxs("div",{className:`p-5 rounded-3xl border shadow-sm flex flex-col md:flex-row gap-5 ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[c.media_url&&n.jsx("div",{className:`w-full md:w-48 h-32 flex-shrink-0 rounded-2xl overflow-hidden ${f?"bg-slate-900":"bg-slate-100"}`,children:c.media_type==="video"?n.jsx("video",{src:c.media_url,className:"w-full h-full object-cover"}):n.jsx("img",{src:c.media_url,alt:"Announcement",className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsx("h4",{className:"font-bold text-lg leading-tight",children:c.titulo}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>Id(c),className:`p-1.5 transition-colors ${f?"text-slate-400 hover:text-blue-400":"text-slate-400 hover:text-blue-800"}`,children:n.jsx("span",{className:"material-symbols-outlined text-xl",children:"edit"})}),n.jsx("button",{onClick:()=>Es(c.id),className:"p-1.5 text-slate-400 hover:text-red-500 transition-colors",children:n.jsx("span",{className:"material-symbols-outlined text-xl",children:"delete"})})]})]}),n.jsx("p",{className:`text-sm line-clamp-2 ${f?"text-slate-400":"text-slate-500"}`,children:c.contenido})]}),n.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs font-bold uppercase tracking-widest text-slate-400",children:[n.jsxs("span",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"material-symbols-outlined text-sm",children:"schedule"}),new Date(c.created_at).toLocaleDateString()]}),n.jsx("span",{className:`px-2.5 py-1 rounded-lg ${f?"bg-blue-900/30 text-blue-400":"bg-blue-50 text-blue-800"}`,children:"Acadmico"})]})]})]},c.id))})]})]}),S==="maestros"&&n.jsxs(n.Fragment,{children:[n.jsx("section",{children:n.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"co_present"})," Configuracin Portal Docente"]}),n.jsxs("form",{onSubmit:Xr,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Ttulo",value:pr.title,onChange:c=>Vr({...pr,title:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Subttulo",value:pr.subtitle,onChange:c=>Vr({...pr,subtitle:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"URL de imagen principal",value:pr.hero_image_url,onChange:c=>Vr({...pr,hero_image_url:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Texto del botn",value:pr.cta_label,onChange:c=>Vr({...pr,cta_label:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Configuracin"})})]})]})}),n.jsx("section",{children:n.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[n.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"link"})," Recursos Docentes"]}),n.jsxs("form",{onSubmit:Xn,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsx("input",{type:"text",placeholder:"Nombre",value:He.name,onChange:c=>Cr({...He,name:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"url",placeholder:"URL",value:He.url,onChange:c=>Cr({...He,url:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Descripcin",value:He.description,onChange:c=>Cr({...He,description:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Icono (emoji)",value:He.icon,onChange:c=>Cr({...He,icon:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"text",placeholder:"Color (hex o nombre)",value:He.color,onChange:c=>Cr({...He,color:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("input",{type:"number",placeholder:"Orden (opcional)",value:He.order_index,onChange:c=>Cr({...He,order_index:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:He.is_active,onChange:c=>Cr({...He,is_active:c.target.checked})}),"Visible en el portal"]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:Eo?"Actualizar":"Agregar"})})]}),n.jsx("div",{className:"mt-6 space-y-3",children:wa.map(c=>n.jsxs("div",{className:`p-4 rounded-2xl flex flex-col md:flex-row md:items-center md:justify-between gap-4 ${f?"bg-slate-900":"bg-slate-50"}`,children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[n.jsx("span",{children:c.icon||""}),n.jsx("span",{children:c.name}),!c.is_active&&n.jsx("span",{className:"text-xs text-slate-500",children:"(oculto)"})]}),n.jsx("div",{className:"text-sm text-slate-500",children:c.description}),n.jsx("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500",children:c.url})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>{mi(c),Cr({name:c.name||"",description:c.description||"",icon:c.icon||"",url:c.url||"",color:c.color||"",order_index:c.order_index||"",is_active:c.is_active!==!1})},className:"text-blue-500",children:"Editar"}),n.jsx("button",{onClick:()=>_c(c.id),className:"text-red-500",children:"Eliminar"})]})]},c.id))})]})})]}),S==="clubes"&&n.jsxs("section",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-bold",children:"Clubes Escolares"}),n.jsx("button",{onClick:()=>{Be(null),be(!0)},className:`p-1.5 rounded-lg ${f?"bg-slate-700":"bg-slate-200"}`,children:n.jsx("span",{className:"material-symbols-outlined text-sm",children:"add"})})]}),n.jsx("div",{className:"grid grid-cols-1 gap-3",children:H.length===0?n.jsx("p",{className:"text-center text-slate-500 py-4",children:"No hay clubes registrados."}):H.map(c=>n.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-2xl border shadow-sm ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsx("div",{className:`w-12 h-12 flex-shrink-0 text-2xl flex items-center justify-center rounded-xl ${f?"bg-purple-900/30":"bg-purple-100"}`,children:c.icono||""}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-bold text-sm",children:c.nombre}),n.jsx("p",{className:"text-xs text-slate-500",children:c.categoria})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:()=>Qn(c),className:"p-1 text-slate-400 hover:text-blue-500",children:n.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),n.jsx("button",{onClick:()=>As(c.id),className:"p-1 text-slate-400 hover:text-red-500",children:n.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})]},c.id))})]}),S==="carreras"&&n.jsxs("section",{children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h3",{className:"text-lg font-bold",children:"Carreras Tcnicas"}),n.jsx("button",{onClick:()=>{B(null),U(!0)},className:`p-1.5 rounded-lg ${f?"bg-slate-700":"bg-slate-200"}`,children:n.jsx("span",{className:"material-symbols-outlined text-sm",children:"add"})})]}),n.jsx("div",{className:"space-y-3",children:P.length===0?n.jsx("p",{className:"text-center text-slate-500 py-4",children:"No hay carreras registradas."}):P.map(c=>{var w;return n.jsxs("div",{className:`p-5 rounded-3xl border shadow-sm group cursor-pointer transition-colors ${f?"bg-slate-800 border-slate-700 hover:border-blue-400":"bg-white border-slate-100 hover:border-blue-800"}`,children:[n.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[n.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-900 flex items-center justify-center overflow-hidden",children:c.imagen_url?n.jsx("img",{src:c.imagen_url,alt:c.nombre,className:"w-full h-full object-cover"}):n.jsx("span",{className:"text-white text-2xl",children:""})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-bold",children:c.nombre}),n.jsx("p",{className:`text-xs uppercase font-bold tracking-tighter ${f?"text-slate-500":"text-slate-400"}`,children:((w=c.descripcion)==null?void 0:w.substring(0,30))||"Sin descripcin"})]}),n.jsxs("div",{className:"flex gap-1",children:[n.jsx("button",{onClick:q=>{q.stopPropagation(),wn(c)},className:"p-1 text-slate-400 hover:text-blue-500",children:n.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),n.jsx("button",{onClick:q=>{q.stopPropagation(),yt(c.id)},className:"p-1 text-slate-400 hover:text-red-500",children:n.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})]}),c.plan_estudios_url&&n.jsxs("div",{className:`flex items-center justify-between pt-4 border-t ${f?"border-slate-700":"border-slate-50"}`,children:[n.jsx("a",{href:c.plan_estudios_url,target:"_blank",rel:"noopener noreferrer",className:`text-xs font-bold ${f?"text-blue-400":"text-blue-800"}`,children:"Ver Plan de Estudios"}),n.jsx("span",{className:"material-symbols-outlined text-blue-800 text-lg",children:"arrow_forward"})]})]},c.id)})})]}),S==="chatbot"&&n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"smart_toy"})," IA Chatbot"]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${f?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:ge.enabled?"Activo":"Desactivado"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[n.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsx("p",{className:"text-sm font-semibold",children:"Estado"}),n.jsx("p",{className:`text-sm mt-1 ${f?"text-slate-400":"text-slate-500"}`,children:Wr?"Configurado":"Sin configurar"})]}),n.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsx("p",{className:"text-sm font-semibold",children:"Proveedor"}),n.jsx("p",{className:`text-sm mt-1 ${f?"text-slate-400":"text-slate-500"}`,children:(ge.provider||"grok").toUpperCase()})]}),n.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsx("p",{className:"text-sm font-semibold",children:"Modelo"}),n.jsx("p",{className:`text-sm mt-1 ${f?"text-slate-400":"text-slate-500"}`,children:ge.model||"No definido"})]})]}),n.jsxs("form",{onSubmit:dl,className:"mt-6 space-y-4",children:[n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold",children:"Proveedor"}),n.jsxs("select",{value:ge.provider,onChange:c=>Tr({...ge,provider:c.target.value}),className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,children:[n.jsx("option",{value:"groq",children:"Groq"}),n.jsx("option",{value:"gemini",children:"Gemini"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold",children:"API Key"}),n.jsx("input",{type:"password",value:ge.api_key,onChange:c=>Tr({...ge,api_key:c.target.value}),placeholder:"Ingresa tu API Key",className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold",children:"Modelo"}),n.jsxs("select",{value:ge.model,onChange:c=>Tr({...ge,model:c.target.value}),className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,children:[n.jsx("option",{value:"",children:"Selecciona un modelo"}),lc.filter(c=>c.provider===ge.provider&&c.is_active!==!1).map(c=>n.jsx("option",{value:c.name,children:c.name},c.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold",children:"Prompt de sistema"}),n.jsx("textarea",{value:ge.system_prompt,onChange:c=>Tr({...ge,system_prompt:c.target.value}),rows:"6",placeholder:"Instrucciones del sistema para el chatbot",className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[n.jsxs("label",{className:`flex items-center gap-2 text-sm ${f?"text-slate-300":"text-slate-600"}`,children:[n.jsx("input",{type:"checkbox",checked:ge.enable_db_context,onChange:c=>Tr({...ge,enable_db_context:c.target.checked})}),"Permitir contexto de la base de datos"]}),n.jsxs("label",{className:`flex items-center gap-2 text-sm ${f?"text-slate-300":"text-slate-600"}`,children:[n.jsx("input",{type:"checkbox",checked:ge.enabled,onChange:c=>Tr({...ge,enabled:c.target.checked})}),"Activar chatbot en el sitio"]})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[n.jsx("button",{type:"submit",disabled:ic,className:"px-5 py-3 rounded-2xl bg-blue-800 text-white font-bold shadow hover:scale-[1.01] transition-all disabled:opacity-60",children:ic?"Guardando...":"Guardar configuracin"}),n.jsx("button",{type:"button",onClick:()=>window.open("/","_blank"),className:`px-5 py-3 rounded-2xl font-semibold ${f?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:"Ver en sitio"})]}),n.jsx("p",{className:`text-xs ${f?"text-slate-500":"text-slate-400"}`,children:"La informacin de la base de datos se agrega como contexto al prompt. Evita incluir datos sensibles."})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("h4",{className:"text-md font-bold mb-3",children:"Probar chatbot"}),n.jsxs("form",{onSubmit:Hi,className:"space-y-3",children:[n.jsx("textarea",{value:xi,onChange:c=>cc(c.target.value),rows:"3",placeholder:"Escribe un mensaje de prueba...",className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),n.jsx("button",{type:"submit",disabled:Ro,className:"px-5 py-3 rounded-2xl bg-blue-800 text-white font-bold shadow disabled:opacity-60",children:Ro?"Probando...":"Probar ahora"})]}),$o&&n.jsx("div",{className:`mt-4 p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700 text-slate-200":"bg-white border-slate-100 text-slate-600"}`,children:n.jsx("p",{className:"text-sm whitespace-pre-wrap",children:$o})})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("button",{type:"button",onClick:()=>{const c=!yi;uc(c),c&&Ls()},className:`px-5 py-3 rounded-2xl text-sm font-semibold ${f?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:yi?"Ocultar preguntas realizadas":"Preguntas realizadas por usuarios"}),yi&&n.jsxs("div",{className:"mt-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h4",{className:"text-md font-bold",children:"Preguntas recientes"}),n.jsx("button",{type:"button",onClick:qi,className:"text-sm text-red-500",children:"Eliminar todas"})]}),ja?n.jsx("p",{className:"text-sm text-slate-500",children:"Cargando..."}):dc.length===0?n.jsx("p",{className:"text-sm text-slate-500",children:"No hay preguntas registradas."}):n.jsx("div",{className:"space-y-2",children:dc.map(c=>n.jsxs("div",{className:`p-4 rounded-2xl border flex items-start justify-between gap-3 ${f?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsxs("div",{children:[n.jsx("p",{className:`text-sm ${f?"text-slate-200":"text-slate-700"}`,children:c.question_text}),n.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[new Date(c.created_at).toLocaleString(),"  Ruta: ",c.source_page||"N/D"]})]}),n.jsx("button",{type:"button",onClick:()=>Tc(c.id),className:"text-sm text-red-500",children:"Eliminar"})]},c.id))})]})]}),n.jsxs("div",{className:"mt-8",children:[n.jsx("button",{type:"button",onClick:()=>Ed(!fn),className:`px-5 py-3 rounded-2xl text-sm font-semibold ${f?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:fn?"Ocultar ms configuraciones":"Ms configuraciones"}),fn&&n.jsxs("div",{className:"mt-4 space-y-4",children:[n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold",children:"Base URL (opcional)"}),n.jsx("input",{type:"text",value:ge.base_url,onChange:c=>Tr({...ge,base_url:c.target.value}),placeholder:"https://api.groq.com/openai/v1",className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]})}),n.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[n.jsx("p",{className:"text-sm font-semibold mb-3",children:"Configuracin hbrida"}),n.jsxs("label",{className:`flex items-center gap-2 text-sm ${f?"text-slate-300":"text-slate-600"}`,children:[n.jsx("input",{type:"checkbox",checked:ge.fallback_enabled,onChange:c=>Tr({...ge,fallback_enabled:c.target.checked})}),"Usar segunda API si la principal falla"]}),n.jsxs("div",{className:"mt-3",children:[n.jsx("label",{className:"text-sm font-semibold",children:"Proveedor principal"}),n.jsxs("select",{value:ge.primary_provider,onChange:c=>Tr({...ge,primary_provider:c.target.value}),className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-white border-slate-200"}`,children:[n.jsx("option",{value:"groq",children:"Groq"}),n.jsx("option",{value:"gemini",children:"Gemini"})]}),n.jsx("p",{className:`text-xs mt-2 ${f?"text-slate-500":"text-slate-400"}`,children:"La secundaria ser la otra API."})]})]}),n.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[n.jsx("p",{className:"text-sm font-semibold mb-3",children:"Agregar modelo"}),n.jsxs("form",{onSubmit:kn,className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[n.jsxs("select",{value:Ar.provider,onChange:c=>zn({...Ar,provider:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-white border-slate-200"}`,children:[n.jsx("option",{value:"groq",children:"Groq"}),n.jsx("option",{value:"gemini",children:"Gemini"})]}),n.jsx("input",{type:"text",value:Ar.name,onChange:c=>zn({...Ar,name:c.target.value}),placeholder:"llama-3.1-70b, gemini-3.0-flash",className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-white border-slate-200"}`}),n.jsx("button",{type:"submit",className:"px-4 py-3 rounded-xl bg-blue-800 text-white font-bold",children:"Agregar modelo"})]})]})]})]})]}),S==="gmail"&&n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"mail"})," Notificaciones Gmail"]}),n.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${Mn?f?"bg-emerald-900 text-emerald-300":"bg-emerald-100 text-emerald-700":f?"bg-red-900 text-red-300":"bg-red-100 text-red-700"}`,children:Do?"Verificando...":Mn?` ${Lo||"Conectado"}`:"No conectado"})]}),n.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-100"}`,children:[n.jsx("p",{className:"text-sm font-semibold mb-2",children:" Enva correos usando tu cuenta de Google"}),n.jsx("p",{className:`text-sm ${f?"text-slate-400":"text-slate-500"}`,children:Mn?"Gmail est conectado. Puedes enviar correos a los alumnos por grado/grupo.":"Para usar Gmail, cierra sesin e inicia sesin nuevamente con Google. El sistema pedir permiso para enviar correos en tu nombre."})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold",children:"Asunto"}),n.jsx("input",{type:"text",value:Ve.subject,onChange:c=>Kr({...Ve,subject:c.target.value}),placeholder:"Aviso importante",className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold",children:"Enviar a todos"}),n.jsxs("div",{className:`mt-2 p-3 rounded-xl border flex items-center gap-3 ${f?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[n.jsx("input",{type:"checkbox",checked:Ve.sendToAll,onChange:c=>Kr({...Ve,sendToAll:c.target.checked})}),n.jsx("span",{className:"text-sm",children:"Ignorar filtros por grado/grupo"})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold",children:"Contenido (HTML)"}),n.jsx("textarea",{value:Ve.messageHtml,onChange:c=>Kr({...Ve,messageHtml:c.target.value}),rows:"6",placeholder:"<b>Hola</b> estudiantes...",className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:"text-sm font-semibold",children:"Contenido (texto plano)"}),n.jsx("textarea",{value:Ve.messageText,onChange:c=>Kr({...Ve,messageText:c.target.value}),rows:"6",placeholder:"Hola estudiantes...",className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsx("p",{className:"text-sm font-semibold mb-3",children:"Grados"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:[1,2,3,4,5,6].map(c=>n.jsxs("button",{type:"button",onClick:()=>Ra(c),className:`px-3 py-2 rounded-xl text-sm font-semibold border ${Ve.grados.includes(c)?f?"bg-blue-600 text-white border-blue-600":"bg-blue-800 text-white border-blue-800":f?"bg-slate-800 text-slate-300 border-slate-700":"bg-slate-50 text-slate-600 border-slate-200"}`,children:[c,""]},c))})]}),n.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[n.jsx("p",{className:"text-sm font-semibold mb-3",children:"Grupos"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const c=["A","B","C","D","F"],w=Array.from(new Set(u.map(V=>V.grupo).filter(Boolean))).sort();return(w.length?w:c).map(V=>n.jsx("button",{type:"button",onClick:()=>Br(V),className:`px-3 py-2 rounded-xl text-sm font-semibold border ${Ve.grupos.includes(V)?"bg-green-600 text-white border-green-600":f?"bg-slate-800 text-slate-300 border-slate-700":"bg-slate-50 text-slate-600 border-slate-200"}`,children:V},V))})()})]})]}),wi&&n.jsx("div",{className:`mt-4 p-4 rounded-2xl border ${wi.type==="success"?f?"bg-emerald-900/30 border-emerald-700 text-emerald-200":"bg-emerald-50 border-emerald-200 text-emerald-800":f?"bg-red-900/30 border-red-700 text-red-200":"bg-red-50 border-red-200 text-red-700"}`,children:wi.message}),n.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-3",children:[!Mn&&n.jsx("button",{type:"button",onClick:rs,className:"px-5 py-3 rounded-2xl bg-blue-800 text-white font-bold shadow hover:scale-[1.01] transition-all",children:" Conectar Gmail"}),n.jsx("button",{type:"button",onClick:Wi,disabled:Do,className:`px-5 py-3 rounded-2xl font-semibold ${f?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:Do?"Verificando...":" Verificar conexin"}),n.jsx("button",{type:"button",onClick:$c,disabled:vi||!Mn,className:`px-5 py-3 rounded-2xl font-bold ${vi||!Mn?"opacity-50 cursor-not-allowed":"hover:scale-[1.01]"} ${Mn?"bg-green-600 text-white":f?"bg-slate-700 text-slate-400":"bg-slate-200 text-slate-500"}`,children:vi?" Enviando...":" Enviar correo"})]})]}),S==="storage"&&n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"storage"})," Almacenamiento"]}),n.jsx("button",{type:"button",onClick:Ac,className:`text-sm ${f?"text-blue-400":"text-blue-700"}`,children:"Actualizar"})]}),Ad?n.jsx("p",{className:"text-sm text-slate-500",children:"Cargando..."}):Gr?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`w-full h-5 rounded-full overflow-hidden ${f?"bg-slate-800":"bg-slate-200"}`,children:(()=>{const c=Gr.total_bytes||0,w=Gr.db_bytes||0;Gr.storage_bytes;const q=c?Math.round(w/c*100):0,V=c?100-q:0;return n.jsxs("div",{className:"w-full h-full flex",children:[n.jsx("div",{style:{width:`${q}%`},className:"h-full bg-blue-600"}),n.jsx("div",{style:{width:`${V}%`},className:"h-full bg-green-500"})]})})()}),n.jsxs("div",{className:"flex flex-wrap gap-4 text-sm mt-4",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-600"}),"BD: ",Us(Gr.db_bytes)]}),n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),"Storage: ",Us(Gr.storage_bytes)]}),n.jsxs("span",{className:"flex items-center gap-2",children:["Total: ",Us(Gr.total_bytes)]})]}),((Ge=Gr.buckets)==null?void 0:Ge.length)>0&&n.jsxs("div",{className:"space-y-2 mt-4",children:[n.jsx("h5",{className:"text-sm font-semibold",children:"Buckets"}),Gr.buckets.map(c=>n.jsx("div",{className:`p-3 rounded-xl border ${f?"border-slate-700 bg-slate-900":"border-slate-100 bg-white"}`,children:n.jsxs("div",{className:"flex items-center justify-between text-sm",children:[n.jsx("span",{children:c.bucket_id}),n.jsx("span",{children:Us(c.size_bytes)})]})},c.bucket_id))]})]}):n.jsx("p",{className:"text-sm text-slate-500",children:"Sin datos de almacenamiento."})]}),S==="access"&&n.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:[n.jsxs("div",{className:"flex items-center justify-between mb-6",children:[n.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"security"})," Acceso a la Pgina"]}),n.jsx("button",{type:"button",onClick:Ko,className:`text-sm ${f?"text-blue-400":"text-blue-700"}`,children:"Actualizar"})]}),n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900":"border-slate-200 bg-slate-50"}`,children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-4",children:[n.jsx("span",{className:"material-symbols-outlined text-green-500",children:"school"}),"Acceso de Alumnos"]}),n.jsx("p",{className:`text-sm mb-3 ${f?"text-slate-400":"text-slate-600"}`,children:"Solo los correos con este dominio podrn acceder al portal de alumnos."}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Dominio de correo permitido"}),n.jsx("input",{type:"text",value:Ir.alumno_domain,onChange:c=>Na({...Ir,alumno_domain:c.target.value}),className:`w-full px-4 py-3 rounded-xl border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-300"}`,placeholder:"@cbta134.edu.mx"}),n.jsx("p",{className:`text-xs mt-2 ${f?"text-slate-500":"text-slate-400"}`,children:"Ejemplo: @cbta134.edu.mx (incluir el @)"})]})]}),n.jsxs("div",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900":"border-slate-200 bg-slate-50"}`,children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-4",children:[n.jsx("span",{className:"material-symbols-outlined text-blue-500",children:"admin_panel_settings"}),"Acceso de Maestros"]}),n.jsx("p",{className:`text-sm mb-3 ${f?"text-slate-400":"text-slate-600"}`,children:"Cdigo de seguridad requerido despus de iniciar sesin con Google."}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Usuario de seguridad"}),n.jsx("input",{type:"text",value:Ir.maestro_user,onChange:c=>Na({...Ir,maestro_user:c.target.value}),className:`w-full px-4 py-3 rounded-xl border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-300"}`,placeholder:"cbta"})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-medium mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Contrasea de seguridad"}),n.jsx("input",{type:"text",value:Ir.maestro_password,onChange:c=>Na({...Ir,maestro_password:c.target.value}),className:`w-full px-4 py-3 rounded-xl border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-300"}`,placeholder:"cbta134#pagina"})]})]}),n.jsx("p",{className:`text-xs mt-2 ${f?"text-slate-500":"text-slate-400"}`,children:"Los maestros debern ingresar estas credenciales despus de iniciar sesin con Google."})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:Ci,disabled:Mo,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50",children:Mo?"Guardando...":"Guardar Configuracin"}),qo&&n.jsxs("span",{className:"text-green-500 font-medium flex items-center gap-1",children:[n.jsx("span",{className:"material-symbols-outlined",children:"check_circle"}),"Guardado correctamente"]})]}),ji&&n.jsxs("div",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900":"border-slate-200 bg-slate-50"}`,children:[n.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-4",children:[n.jsx("span",{className:"material-symbols-outlined text-purple-500",children:"group_add"}),"Cuentas Permitidas del EduPanel"]}),n.jsx("p",{className:`text-sm mb-4 ${f?"text-slate-400":"text-slate-600"}`,children:"Solo las cuentas en esta lista pueden acceder al panel administrativo."}),n.jsxs("div",{className:"flex gap-2 mb-4",children:[n.jsx("input",{type:"email",value:qn,onChange:c=>Uo(c.target.value),className:`flex-1 px-4 py-3 rounded-xl border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-300"}`,placeholder:"correo@ejemplo.com"}),n.jsx("button",{onClick:Jo,disabled:Fo||!qn.trim(),className:"px-4 py-3 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700 transition-colors disabled:opacity-50",children:Fo?"...":"Agregar"})]}),n.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[ks.map(c=>n.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl ${f?"bg-slate-800":"bg-white"} border ${f?"border-slate-700":"border-slate-200"}`,children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"material-symbols-outlined text-slate-400",children:c.is_master?"verified_user":"person"}),n.jsxs("div",{children:[n.jsx("p",{className:`font-medium ${f?"text-white":"text-slate-900"}`,children:c.email}),c.is_master&&n.jsx("span",{className:"text-xs text-purple-500 font-medium",children:"Cuenta Maestra"})]})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("button",{onClick:()=>Yo(c.id,c.email,c.is_master),className:`p-2 rounded-lg transition-colors ${c.is_master?"text-amber-500 hover:bg-amber-50":"text-purple-500 hover:bg-purple-50"}`,title:c.is_master?"Quitar rol de maestra":"Hacer cuenta maestra",children:n.jsx("span",{className:"material-symbols-outlined text-sm",children:c.is_master?"remove_moderator":"add_moderator"})}),n.jsx("button",{onClick:()=>Qo(c.id,c.email,c.is_master),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar cuenta",children:n.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete"})})]})]},c.id)),ks.length===0&&n.jsx("p",{className:`text-sm text-center py-4 ${f?"text-slate-500":"text-slate-400"}`,children:"No hay cuentas configuradas."})]})]})]})]})]})]}),n.jsx("button",{onClick:()=>be(!0),className:"lg:hidden fixed bottom-6 right-6 w-14 h-14 bg-blue-800 text-white rounded-full shadow-2xl z-50 flex items-center justify-center active:scale-90 transition-transform",children:n.jsx("span",{className:"material-symbols-outlined",children:"add"})}),ot&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:`w-full max-w-md rounded-3xl shadow-2xl ${f?"bg-slate-800":"bg-white"}`,children:[n.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${f?"border-slate-700":"border-slate-100"}`,children:[n.jsx("h2",{className:"text-xl font-bold",children:"Editar Alumno"}),n.jsx("button",{onClick:()=>Ct(null),className:`p-2 rounded-xl ${f?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:n.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),n.jsxs("form",{onSubmit:Aa,className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-semibold mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Nombre(s):"}),n.jsx("input",{value:ot.nombre,onChange:c=>Ct({...ot,nombre:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-semibold mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Apellidos:"}),n.jsx("input",{value:ot.apellidos,onChange:c=>Ct({...ot,apellidos:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-semibold mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Correo:"}),n.jsx("input",{type:"email",value:ot.email||"",onChange:c=>Ct({...ot,email:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-semibold mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"No. Control (14 dgitos):"}),n.jsx("input",{value:ot.numero_control||"",maxLength:14,onChange:c=>{const w=c.target.value.replace(/[^0-9]/g,"");Ct({...ot,numero_control:w})},className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),n.jsxs("div",{children:[n.jsx("label",{className:`block text-sm font-semibold mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"CURP:"}),n.jsx("input",{value:ot.curp,onChange:c=>Ct({...ot,curp:c.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),n.jsx("button",{type:"submit",className:"w-full py-3 bg-blue-800 text-white font-bold rounded-xl hover:opacity-90 transition-opacity",children:" Guardar Cambios"})]})]})}),Si&&n.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:n.jsxs("div",{className:`w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-3xl shadow-2xl ${f?"bg-slate-800":"bg-white"}`,children:[n.jsxs("div",{className:`flex items-center justify-between p-6 border-b sticky top-0 ${f?"border-slate-700 bg-slate-800":"border-slate-100 bg-white"}`,children:[n.jsxs("h2",{className:"text-xl font-bold",children:["Calificaciones: ",Si.nombre]}),n.jsx("button",{onClick:()=>Ho(null),className:`p-2 rounded-xl ${f?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:n.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("label",{className:"font-semibold",children:"Semestre:"}),n.jsx("select",{value:ki,onChange:c=>{const w=parseInt(c.target.value);Wo(w),Jn(Si.id,w)},className:`px-4 py-2 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,children:[1,2,3,4,5,6].map(c=>n.jsxs("option",{value:c,children:[c," Semestre"]},c))})]}),n.jsx("div",{className:`rounded-2xl overflow-hidden mb-6 ${f?"bg-slate-900":"bg-slate-50"}`,children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{children:n.jsxs("tr",{className:f?"bg-slate-800":"bg-slate-100",children:[n.jsx("th",{className:"p-4 text-left font-semibold",children:"Materia"}),n.jsx("th",{className:"p-4 text-left font-semibold",children:"Tipo"}),n.jsx("th",{className:"p-4 text-center font-semibold",children:"P1"}),n.jsx("th",{className:"p-4 text-center font-semibold",children:"P2"}),n.jsx("th",{className:"p-4 text-center font-semibold",children:"P3"})]})}),n.jsx("tbody",{children:Hn.map(c=>n.jsxs("tr",{className:`border-t ${f?"border-slate-700":"border-slate-200"}`,children:[n.jsx("td",{className:"p-4",children:c.materia}),n.jsx("td",{className:"p-4",children:n.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-bold text-white ${c.tipo_materia==="especialidad"?"bg-purple-500":"bg-blue-500"}`,children:c.tipo_materia==="especialidad"?"Especialidad":"Bsica"})}),n.jsx("td",{className:"p-4 text-center",children:n.jsx("input",{type:"number",defaultValue:c.parcial1,onBlur:w=>Dr(c.id,"parcial1",w.target.value),className:`w-16 p-2 text-center rounded-lg border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200"}`})}),n.jsx("td",{className:"p-4 text-center",children:n.jsx("input",{type:"number",defaultValue:c.parcial2,onBlur:w=>Dr(c.id,"parcial2",w.target.value),className:`w-16 p-2 text-center rounded-lg border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200"}`})}),n.jsx("td",{className:"p-4 text-center",children:n.jsx("input",{type:"number",defaultValue:c.parcial3,onBlur:w=>Dr(c.id,"parcial3",w.target.value),className:`w-16 p-2 text-center rounded-lg border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200"}`})})]},c.id))})]})}),n.jsxs("div",{className:`p-6 rounded-2xl ${f?"bg-slate-900":"bg-green-50"}`,children:[n.jsx("h4",{className:`font-bold mb-4 ${f?"text-green-400":"text-green-700"}`,children:"Agregar Nueva Materia"}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[n.jsx("input",{placeholder:"Nombre de la Materia",value:ye.materia,onChange:c=>gn({...ye,materia:c.target.value}),className:`flex-1 p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`}),n.jsxs("select",{value:ye.tipo,onChange:c=>gn({...ye,tipo:c.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,children:[n.jsx("option",{value:"basica",children:"Tronco Comn"}),n.jsx("option",{value:"especialidad",children:"Especialidad"})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[n.jsx("input",{type:"number",placeholder:"P1",value:ye.parcial1,onChange:c=>gn({...ye,parcial1:c.target.value}),className:`w-20 p-3 text-center rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`}),n.jsx("input",{type:"number",placeholder:"P2",value:ye.parcial2,onChange:c=>gn({...ye,parcial2:c.target.value}),className:`w-20 p-3 text-center rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`}),n.jsx("input",{type:"number",placeholder:"P3",value:ye.parcial3,onChange:c=>gn({...ye,parcial3:c.target.value}),className:`w-20 p-3 text-center rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`}),n.jsx("button",{onClick:Me,className:"px-6 py-3 bg-green-500 text-white font-bold rounded-xl hover:bg-green-600 transition-colors",children:"+ Agregar Materia"})]})]})]}),n.jsx("div",{className:`flex justify-end pt-6 border-t mt-6 ${f?"border-slate-700":"border-slate-200"}`,children:n.jsx("button",{onClick:()=>Ho(null),className:"px-8 py-3 bg-blue-800 text-white font-bold rounded-xl hover:opacity-90 transition-opacity",children:" Guardar y Cerrar"})})]})]})}),n.jsx(Ry,{isOpen:re,onClose:()=>{be(!1),Be(null)},onClubAdded:vt,clubToEdit:we}),n.jsx(Py,{isOpen:E,onClose:()=>{U(!1),B(null)},onCareerAdded:Ue,careerToEdit:$})]}):n.jsx("div",{className:`min-h-screen flex items-center justify-center ${f?"bg-slate-900":"bg-slate-100"}`,children:n.jsxs("div",{className:`p-8 rounded-3xl shadow-xl max-w-md w-full mx-4 ${f?"bg-slate-800":"bg-white"}`,children:[n.jsxs("div",{className:"text-center mb-8",children:[n.jsx("div",{className:"bg-blue-800 p-3 rounded-2xl inline-block mb-4",children:n.jsx("span",{className:"material-symbols-outlined text-white text-3xl",children:"school"})}),n.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-900"}`,children:"Acceso Administrativo"}),n.jsx("p",{className:`mt-2 ${f?"text-slate-400":"text-slate-500"}`,children:"Inicia sesin para gestionar alumnos y publicaciones."})]}),n.jsxs("button",{onClick:Ei,className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-white border border-slate-200 rounded-2xl hover:bg-slate-50 transition-all shadow-sm",children:[n.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg",alt:"Google",className:"w-6 h-6"}),n.jsx("span",{className:"font-semibold text-slate-700",children:"Entrar como Maestro"})]}),n.jsx("button",{onClick:()=>s("/maestros"),className:"w-full mt-4 py-3 text-slate-500 hover:text-slate-700 transition-colors font-medium",children:" Regresar"})]})})},Oy=()=>{try{return typeof document<"u"&&document.body.classList.contains("dark-mode")}catch{return!1}},Dy=({setCurrentView:s})=>{const t=Oy(),a={paddingTop:"80px",minHeight:"100vh",backgroundColor:t?"#07111a":"#f8f9fa"},o={padding:"40px 20px",maxWidth:"100%",margin:"0 auto"},d={fontSize:"28px",fontWeight:"bold",color:"#2c3e50",marginBottom:"25px",textAlign:"center"},u={fontSize:"16px",lineHeight:"1.6",color:t?"#c8cdd3":"#555",marginBottom:"30px",textAlign:"justify",background:t?"rgba(255,255,255,0.03)":"white",padding:"25px",borderRadius:"10px",boxShadow:t?"0 10px 30px rgba(2,6,23,0.7)":"0 4px 15px rgba(0,0,0,0.1)"},p={textAlign:"center",marginBottom:"40px"},g={maxWidth:"300px",width:"100%",height:"auto",borderRadius:"10px",boxShadow:t?"0 10px 30px rgba(2,6,23,0.7)":"0 4px 15px rgba(0,0,0,0.2)"},x={display:"flex",flexDirection:"column",gap:"20px",marginTop:"30px"},b={background:t?"rgba(255,255,255,0.03)":"white",padding:"25px",borderRadius:"10px",boxShadow:t?"0 12px 36px rgba(2,6,23,0.7)":"0 4px 15px rgba(0,0,0,0.1)",border:t?"1px solid rgba(255,255,255,0.03)":"2px solid #e9ecef"},_={fontSize:"20px",fontWeight:"bold",color:t?"#e6eef8":"#2c3e50",marginBottom:"15px",textAlign:"center"},f={fontSize:"16px",lineHeight:"1.6",color:t?"#c8cdd3":"#555",textAlign:"center"},j={...b,borderColor:"#28a745"},k={...b,borderColor:"#007bff"},N={...b,borderColor:"#ffc107"};return n.jsxs("div",{style:a,children:[n.jsx(vr,{onBack:()=>s("home")}),n.jsxs("main",{children:[n.jsxs("section",{style:o,children:[n.jsx("h2",{style:d,children:"Nosotros"}),n.jsxs("div",{style:u,children:[n.jsx("p",{style:{marginBottom:"20px"},children:"El Centro de Bachillerato Tecnolgico Agropecuario (CBTA) no. 134 se ha convertido en una de las mejores oportunidades para que las y los jvenes realicen sus estudios de nivel medio superior, porque al trmino de estos, no solo reciben su certificado sino tambin un ttulo de carrera tcnica."}),n.jsx("p",{style:{marginBottom:"20px"},children:"La escuela se ubica en el municipio de San Francisco Tetlanohcan, cuenta con un rea total de 27 hectreas, de ellas, 5 ya tienen construccin con aulas, canchas y reas para el fomento agropecuario, que la hace nica en su estilo en todo el Estado de Tlaxcala."}),n.jsx("p",{children:"Los estudiantes pueden optar por las carreras: Tcnico Agropecuario, Tcnico en Sistemas de Produccin Pecuaria, Tcnico en Programacin, Tcnico en Contabilidad y Tcnico en Ofimtica."})]}),n.jsx("div",{style:p,children:n.jsx("img",{src:"/images/campus.png",alt:"Campus CBTA 134",style:g})})]}),n.jsxs("section",{style:o,children:[n.jsx("h2",{style:d,children:"Misin, Visin y Lema"}),n.jsxs("div",{style:x,children:[n.jsxs("div",{style:j,children:[n.jsx("h3",{style:_,children:" Misin"}),n.jsx("p",{style:f,children:"Contribuir activamente en la formacin integral de nuestros estudiantes del bachillerato tecnolgico con un enfoque de desarrollo sustentable y emprendedor que los integre plenamente a la sociedad."})]}),n.jsxs("div",{style:k,children:[n.jsx("h3",{style:_,children:" Visin"}),n.jsx("p",{style:f,children:"Ser una institucin de calidad formadora de lderes del maana, reconocida por su excelencia educativa y compromiso con el desarrollo sustentable."})]}),n.jsxs("div",{style:N,children:[n.jsx("h3",{style:_,children:" Lema"}),n.jsx("p",{style:{...f,fontSize:"18px",fontWeight:"bold",color:"#2c3e50"},children:'"Formar e innovar para transformar"'})]})]})]}),n.jsxs("section",{style:o,children:[n.jsx("h2",{style:d,children:"Nuestros Valores"}),n.jsxs("div",{style:x,children:[n.jsxs("div",{style:b,children:[n.jsx("h3",{style:_,children:" Excelencia Acadmica"}),n.jsx("p",{style:f,children:"Nos comprometemos a brindar una educacin de la ms alta calidad, fomentando el pensamiento crtico y la innovacin."})]}),n.jsxs("div",{style:b,children:[n.jsx("h3",{style:_,children:" Responsabilidad Social"}),n.jsx("p",{style:f,children:"Formamos ciudadanos comprometidos con su comunidad y el desarrollo sostenible de la regin."})]}),n.jsxs("div",{style:b,children:[n.jsx("h3",{style:_,children:" Desarrollo Sustentable"}),n.jsx("p",{style:f,children:"Promovemos prcticas respetuosas con el medio ambiente y el uso responsable de los recursos naturales."})]}),n.jsxs("div",{style:b,children:[n.jsx("h3",{style:_,children:" Innovacin"}),n.jsx("p",{style:f,children:"Fomentamos la creatividad y el uso de nuevas tecnologas para preparar a nuestros estudiantes para el futuro."})]})]})]})]})]})},Ly=()=>typeof document>"u"?!1:document.body.classList.contains("dark-mode"),By=({setCurrentView:s})=>{const t=Ly(),[a,o]=v.useState([]),d={paddingTop:"80px",minHeight:"100vh",backgroundColor:t?"transparent":"#f8f9fa"},u={padding:"20px",maxWidth:"100%",margin:"0 auto"},p={fontSize:"28px",fontWeight:"bold",color:"#2c3e50",marginBottom:"25px",textAlign:"center"},g={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginBottom:"30px"},x={background:t?"rgba(255,255,255,0.02)":"white",borderRadius:"10px",overflow:"hidden",boxShadow:t?"0 8px 30px rgba(0,0,0,0.6)":"0 4px 15px rgba(0,0,0,0.1)",transition:"transform 0.3s ease"},b={width:"100%",height:"200px",objectFit:"cover"},_={padding:"15px"},f={fontSize:"16px",fontWeight:"bold",color:"#2c3e50",marginBottom:"8px"},j={fontSize:"14px",color:"#666",lineHeight:"1.4"},k={fontSize:"22px",fontWeight:"bold",color:"#2c3e50",marginBottom:"20px",marginTop:"40px",textAlign:"center",borderBottom:"2px solid #3498db",paddingBottom:"10px"},N=[{src:"/assets/instalaciones/uno.jpg",title:"Instalacin Principal",desc:"Vista general de nuestras instalaciones educativas"},{src:"/assets/instalaciones/laboratorio.jpg",title:"Laboratorio",desc:"Modernos laboratorios para el desarrollo acadmico"},{src:"/assets/instalaciones/cafeteria.jpg",title:"Cafetera",desc:"Espacio de alimentacin y convivencia estudiantil"},{src:"/assets/instalaciones/almacen.jpg",title:"Almacn",desc:"rea de almacenamiento y recursos institucionales"},{src:"/assets/instalaciones/bosque.jpg",title:"rea Verde",desc:"Espacios naturales dentro del campus"},{src:"/assets/instalaciones/invern.jpg",title:"Invernadero",desc:"Instalaciones para prcticas agropecuarias"},{src:"/assets/instalaciones/radio.jpg",title:"Estacin de Radio",desc:"Estudio de radio estudiantil"},{src:"/assets/instalaciones/tres.jpg",title:"Edificio Acadmico",desc:"Aulas y espacios de enseanza"},{src:"/assets/instalaciones/cuatro.jpg",title:"rea Deportiva",desc:"Instalaciones para actividades fsicas"},{src:"/assets/instalaciones/cinco.jpg",title:"Zona de Talleres",desc:"Espacios para prcticas tcnicas"},{src:"/assets/instalaciones/seis.jpg",title:"Biblioteca",desc:"Centro de recursos bibliogrficos"},{src:"/assets/instalaciones/siete.jpg",title:"Auditorio",desc:"Espacio para eventos y ceremonias"}],S=[{src:"/img/basquet.jpg",title:"Torneo de Bsquetbol",desc:"Competencias deportivas entre equipos estudiantiles"},{src:"/img/futbol.jpg",title:"Liga de Ftbol",desc:"Actividades deportivas que fomentan el trabajo en equipo"},{src:"/img/boleibol.jpg",title:"Voleibol Escolar",desc:"Deportes que promueven la disciplina y el compaerismo"},{src:"/img/banda de guerra.jpg",title:"Banda de Guerra",desc:"Grupo musical que representa a nuestra institucin"},{src:"/img/baile folclorico.jpg",title:"Ballet Folklrico",desc:"Preservacin de nuestras tradiciones culturales"}],A=[{src:"/assets/clubs/banda.jpeg",title:"Banda de Guerra",desc:"Grupo musical que representa a la institucin"},{src:"/assets/clubs/basquet.jpg",title:"Club de Bsquetbol",desc:"Desarrollo de habilidades deportivas y trabajo en equipo"},{src:"/assets/clubs/voli.jpg",title:"Club de Voleibol",desc:"Deporte que fomenta la comunicacin y el compaerismo"},{src:"/assets/clubs/robotica.jpg",title:"Club de Robtica",desc:"Tecnologa, programacin e innovacin estudiantil"},{src:"/assets/clubs/robot.jpg",title:"Taller de Robtica",desc:"Construccin y programacin de robots"},{src:"/assets/clubs/rondalla.jpg",title:"Rondalla y Canto",desc:"Expresin musical y vocal tradicional"}],P=[{src:"/assets/cbta/logo.jpg",title:"Logo Institucional",desc:"Smbolo que nos representa como institucin educativa"},{src:"/assets/cbta/cbta.png",title:"CBTa 134",desc:"Centro de Bachillerato Tecnolgico Agropecuario No. 134"},{src:"/assets/cbta/cbb.jpg",title:"Campus Educativo",desc:"Nuestras instalaciones educativas de calidad"},{src:"/assets/cbta/cbtaj.jpg",title:"Actividades Institucionales",desc:"Eventos y ceremonias de nuestra comunidad educativa"},{src:"/assets/cbta/SAE.jpg",title:"Sistema de Apoyo Educativo",desc:"Programas de apoyo para el desarrollo estudiantil"},{src:"/assets/cbta/cct.png",title:"Clave del Centro de Trabajo",desc:"Identificacin oficial de nuestra institucin"},{src:"/assets/cbta/guardian.jpg",title:"Seguridad Escolar",desc:"Medidas de proteccin y seguridad en el campus"}],O=[{src:"/assets/galeria/1.jpg",title:"Momentos Especiales",desc:"Recuerdos de la vida estudiantil"},{src:"/assets/galeria/2.jpg",title:"Actividades Estudiantiles",desc:"Participacin activa de nuestros alumnos"},{src:"/assets/galeria/3.jpg",title:"Eventos Acadmicos",desc:"Celebraciones del logro educativo"},{src:"/assets/galeria/4.jpg",title:"Convivencia Escolar",desc:"Momentos de unin y compaerismo"},{src:"/assets/galeria/5.jpg",title:"",desc:""},{src:"/assets/galeria/6.jpg",title:"Comunidad Educativa",desc:"Unidos por la educacin de calidad"}],E=({src:$,title:B,desc:H})=>n.jsxs("div",{style:x,onMouseEnter:G=>G.currentTarget.style.transform="translateY(-5px)",onMouseLeave:G=>G.currentTarget.style.transform="translateY(0)",children:[n.jsx("img",{src:$,alt:B,style:b}),n.jsxs("div",{style:_,children:[n.jsx("h3",{style:f,children:B}),n.jsx("p",{style:j,children:H})]})]});v.useEffect(()=>{(async()=>{const{data:B}=await T.from("gallery_items").select("*").order("order_index",{ascending:!0});o(B||[])})()},[]);const U=v.useMemo(()=>a.length===0?{instalaciones:N,actividades:S,clubs:A,cbta:P,galeria:O}:{instalaciones:a.filter($=>$.section==="instalaciones"),actividades:a.filter($=>$.section==="actividades"),clubs:a.filter($=>$.section==="clubs"),cbta:a.filter($=>$.section==="cbta"),galeria:a.filter($=>$.section==="galeria")},[a]);return n.jsxs("div",{style:d,children:[n.jsx(vr,{onClick:()=>s("home")}),n.jsxs("div",{style:u,children:[n.jsx("h1",{style:p,children:" Galera CBTA 134"}),n.jsxs("section",{children:[n.jsx("h2",{style:k,children:" Nuestras Instalaciones"}),n.jsx("div",{style:g,children:U.instalaciones.map(($,B)=>n.jsx(E,{src:$.image_url||$.src,title:$.title,desc:$.desc||$.description},$.id||B))})]}),n.jsxs("section",{children:[n.jsx("h2",{style:k,children:" Actividades Deportivas"}),n.jsx("div",{style:g,children:U.actividades.map(($,B)=>n.jsx(E,{src:$.image_url||$.src,title:$.title,desc:$.desc||$.description},$.id||B))})]}),n.jsxs("section",{children:[n.jsx("h2",{style:k,children:"Participaciones de nuestros Clubes"}),n.jsx("div",{style:g,children:U.clubs.map(($,B)=>n.jsx(E,{src:$.image_url||$.src,title:$.title,desc:$.desc||$.description},$.id||B))})]}),n.jsxs("section",{children:[n.jsx("h2",{style:k,children:" CBTa 134"}),n.jsx("div",{style:g,children:U.cbta.map(($,B)=>n.jsx(E,{src:$.image_url||$.src,title:$.title,desc:$.desc||$.description},$.id||B))})]}),n.jsxs("section",{children:[n.jsx("h2",{style:k,children:" Galera General"}),n.jsx("div",{style:g,children:U.galeria.map(($,B)=>n.jsx(E,{src:$.image_url||$.src,title:$.title,desc:$.desc||$.description},$.id||B))})]}),n.jsxs("section",{style:{textAlign:"center",marginTop:"50px",padding:"30px",background:t?"rgba(255,255,255,0.02)":"white",borderRadius:"10px",boxShadow:t?"0 8px 30px rgba(0,0,0,0.6)":"0 4px 15px rgba(0,0,0,0.1)"},children:[n.jsx("h3",{style:{color:"#2c3e50",marginBottom:"15px"},children:"Quieres ver ms?"}),n.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Sguenos en nuestras redes sociales para ver ms fotos y videos de la vida estudiantil en el CBTA 134"}),n.jsx("a",{href:"https://www.facebook.com/share/15g75ZdJRg/",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",background:"#1877f2",color:"white",padding:"12px 25px",textDecoration:"none",borderRadius:"25px",fontSize:"16px",fontWeight:"bold",transition:"transform 0.3s"},onMouseEnter:$=>$.target.style.transform="translateY(-2px)",onMouseLeave:$=>$.target.style.transform="translateY(0)",children:" Visitar Facebook"})]})]})]})},Uy=()=>typeof document>"u"?!1:document.body.classList.contains("dark-mode"),Fy=({setCurrentView:s})=>{const t=Uy(),[a,o]=v.useState([]),[d,u]=v.useState(!0);v.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:$,error:B}=await T.from("clubs").select("*").order("created_at",{ascending:!1});if(B)throw B;o($||[])}catch($){console.error("Error fetching clubs:",$)}finally{u(!1)}},g={paddingTop:"80px",minHeight:"100vh",backgroundColor:t?"transparent":"#f8f9fa"},x={padding:"20px",maxWidth:"1200px",margin:"0 auto"},b={fontSize:"28px",fontWeight:"bold",color:t?"#e6eef8":"#2c3e50",marginBottom:"25px",textAlign:"center"},_={fontSize:"16px",color:t?"#bfc7cf":"#666",textAlign:"center",marginBottom:"40px",lineHeight:"1.6",maxWidth:"800px",margin:"0 auto 40px auto"},f={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"25px",marginBottom:"40px"},j={padding:"20px"},k={fontSize:"18px",fontWeight:"bold",color:t?"#e6eef8":"#2c3e50",marginBottom:"10px"},N={fontSize:"14px",color:t?"#c8cdd3":"#666",lineHeight:"1.5",marginBottom:"15px"},S={fontSize:"13px",color:"#28a745",fontWeight:"bold"},A={fontSize:"22px",fontWeight:"bold",color:t?"#e6eef8":"#2c3e50",marginBottom:"20px",marginTop:"50px",textAlign:"center",borderBottom:"3px solid #3498db",paddingBottom:"10px"},P=({club:$})=>{const B={background:t?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",overflow:"hidden",boxShadow:t?"0 12px 36px rgba(0,0,0,0.6)":"0 8px 25px rgba(0,0,0,0.1)",transition:"transform 0.3s ease, box-shadow 0.3s ease",border:t?"1px solid rgba(255,255,255,0.03)":"none",position:"relative",cursor:$.link?"pointer":"default",display:"flex",flexDirection:"column",height:"100%"},H=()=>{$.link&&window.open($.link,"_blank")};return n.jsxs("div",{style:B,onClick:H,onMouseEnter:G=>{G.currentTarget.style.transform="translateY(-8px)",G.currentTarget.style.boxShadow=t?"0 15px 35px rgba(0,0,0,0.8)":"0 15px 35px rgba(0,0,0,0.15)"},onMouseLeave:G=>{G.currentTarget.style.transform="translateY(0)",G.currentTarget.style.boxShadow=t?"0 12px 36px rgba(0,0,0,0.6)":"0 8px 25px rgba(0,0,0,0.1)"},children:[$.foto_url?n.jsx("div",{style:{width:"100%",height:"180px",overflow:"hidden",flexShrink:0},children:n.jsx("img",{src:$.foto_url,alt:$.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}):n.jsx("div",{style:{width:"100%",height:"150px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"56px",background:$.color||"linear-gradient(135deg, #6c5ce7, #a29bfe)",color:"white",flexShrink:0},children:n.jsx("span",{style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"},children:$.icono||""})}),n.jsxs("div",{style:j,children:[n.jsxs("h3",{style:k,children:[$.nombre,$.link&&n.jsx("span",{style:{fontSize:"12px",marginLeft:"5px"},children:""})]}),n.jsx("p",{style:N,children:$.descripcion}),n.jsx("div",{style:{marginTop:"auto"},children:n.jsx("p",{style:S,children:$.beneficios})})]})]})},O=a.filter($=>$.categoria==="Deportivo"),E=a.filter($=>$.categoria==="Cultural"),U=a.filter($=>$.categoria==="Academico");return n.jsxs("div",{style:g,children:[n.jsx(vr,{onBack:()=>s("home")}),n.jsxs("div",{style:x,children:[n.jsx("h1",{style:b,children:" Clubes y Actividades Extracurriculares"}),n.jsx("p",{style:_,children:"En el CBTA 134 creemos en la formacin integral de nuestros estudiantes. Por eso ofrecemos una amplia variedad de clubes y actividades que complementan tu educacin acadmica, desarrollando habilidades sociales, fsicas y culturales."}),d?n.jsx("p",{style:{textAlign:"center",color:t?"white":"black"},children:"Cargando clubes..."}):n.jsxs(n.Fragment,{children:[O.length>0&&n.jsxs("section",{children:[n.jsx("h2",{style:A,children:" Clubes Deportivos"}),n.jsx("div",{style:f,children:O.map($=>n.jsx(P,{club:$},$.id))})]}),E.length>0&&n.jsxs("section",{children:[n.jsx("h2",{style:A,children:" Clubes Culturales"}),n.jsx("div",{style:f,children:E.map($=>n.jsx(P,{club:$},$.id))})]}),U.length>0&&n.jsxs("section",{children:[n.jsx("h2",{style:A,children:" Clubes Acadmicos"}),n.jsx("div",{style:f,children:U.map($=>n.jsx(P,{club:$},$.id))})]}),a.length===0&&n.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#999"},children:n.jsx("p",{children:"No hay clubes registrados por el momento."})})]}),n.jsxs("section",{style:{background:"linear-gradient(135deg, var(--primary-color), var(--secondary-color))",borderRadius:"20px",padding:"40px 20px",textAlign:"center",color:"white",marginTop:"50px"},children:[n.jsx("h3",{style:{fontSize:"24px",marginBottom:"20px"},children:" Por qu unirte a un club?"}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginTop:"30px"},children:[n.jsxs("div",{children:[n.jsx("h4",{style:{fontSize:"18px",marginBottom:"10px"},children:" Socializacin"}),n.jsx("p",{style:{fontSize:"14px",opacity:"0.9"},children:"Conoce nuevos amigos con intereses similares"})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{fontSize:"18px",marginBottom:"10px"},children:" Habilidades"}),n.jsx("p",{style:{fontSize:"14px",opacity:"0.9"},children:"Desarrolla talentos y competencias especiales"})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{fontSize:"18px",marginBottom:"10px"},children:" Logros"}),n.jsx("p",{style:{fontSize:"14px",opacity:"0.9"},children:"Participa en competencias y eventos"})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{fontSize:"18px",marginBottom:"10px"},children:" Crecimiento"}),n.jsx("p",{style:{fontSize:"14px",opacity:"0.9"},children:"Fortalece tu desarrollo personal"})]})]})]}),n.jsxs("section",{style:{background:t?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",padding:"30px",marginTop:"30px",boxShadow:t?"0 12px 35px rgba(0,0,0,0.6)":"0 8px 25px rgba(0,0,0,0.1)",textAlign:"center"},children:[n.jsx("h3",{style:{color:t?"#e6eef8":"#2c3e50",marginBottom:"15px"},children:" Cmo inscribirse?"}),n.jsx("p",{style:{color:t?"#c8cdd3":"#666",marginBottom:"20px",lineHeight:"1.6"},children:"Las inscripciones a clubes se realizan al inicio de cada semestre. Acrcate con el coordinador de actividades extracurriculares o pregunta a tu maestro tutor para ms informacin sobre horarios y requisitos."})]})]})]})},zy=({setCurrentView:s})=>{const[t,a]=v.useState([]),[o,d]=v.useState(!0),[u,p]=v.useState(null);v.useEffect(()=>{g()},[]);const g=async()=>{try{const{data:O,error:E}=await T.from("carreras_tecnicas").select("*").order("created_at",{ascending:!1});if(E)throw E;a(O||[])}catch(O){console.error("Error fetching careers:",O)}finally{d(!1)}};if(u)return n.jsx(My,{career:u,onBack:()=>p(null),setCurrentView:s});const x={paddingTop:"80px",minHeight:"100vh",backgroundColor:"#ffffff"},b={padding:"20px",maxWidth:"100%",margin:"0 auto"},_={fontSize:"28px",fontWeight:"bold",color:"#28a745",marginBottom:"25px",textAlign:"center"},f={background:"#e9f7ef",borderRadius:"15px",padding:"25px",marginBottom:"30px",boxShadow:"0 8px 25px rgba(0,0,0,0.1)",textAlign:"center"},j={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"25px",marginBottom:"40px"},k={background:"#f8fdf8",borderRadius:"15px",overflow:"hidden",boxShadow:"0 8px 25px rgba(0,0,0,0.1)",transition:"transform 0.3s ease, box-shadow 0.3s ease",border:"1px solid #28a745",cursor:"pointer"},N={padding:"25px"},S={fontSize:"20px",fontWeight:"bold",marginBottom:"15px",color:"#28a745"},A={fontSize:"14px",color:"#555",lineHeight:"1.6",marginBottom:"20px",minHeight:"60px"},P=({career:O})=>n.jsxs("div",{style:k,onClick:()=>p(O),onMouseEnter:E=>{E.currentTarget.style.transform="translateY(-8px)",E.currentTarget.style.boxShadow="0 15px 35px rgba(40, 167, 69, 0.3)"},onMouseLeave:E=>{E.currentTarget.style.transform="translateY(0)",E.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.1)"},children:[O.imagen_url&&n.jsx("div",{style:{width:"100%",height:"180px",overflow:"hidden"},children:n.jsx("img",{src:O.imagen_url,alt:O.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),n.jsxs("div",{style:N,children:[n.jsx("h3",{style:S,children:O.nombre}),n.jsx("p",{style:A,children:O.descripcion||"Formacin tcnica de excelencia"}),n.jsx("button",{style:{display:"inline-block",background:"#28a745",color:"white",padding:"10px 20px",borderRadius:"20px",border:"none",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.3s ease",width:"100%"},onMouseEnter:E=>E.target.style.backgroundColor="#218838",onMouseLeave:E=>E.target.style.backgroundColor="#28a745",children:"Ver ms informacin "})]})]});return n.jsxs("div",{style:x,children:[n.jsx(vr,{onClick:()=>s("home")}),n.jsxs("div",{style:b,children:[n.jsx("h1",{style:_,children:" Programas Educativos"}),n.jsxs("section",{style:f,children:[n.jsx("h2",{style:{color:"#28a745",marginBottom:"20px"},children:"Formacin Tcnica de Excelencia"}),n.jsx("p",{style:{color:"#555",fontSize:"16px",lineHeight:"1.6",marginBottom:"20px"},children:"En el CBTA 134 ofrecemos programas educativos de nivel medio superior que combinan formacin acadmica slida con competencias tcnicas especializadas. Nuestros egresados estn preparados tanto para incorporarse al mercado laboral como para continuar estudios superiores."}),n.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"20px",marginTop:"30px"},children:[n.jsxs("div",{children:[n.jsx("h4",{style:{color:"#28a745",fontSize:"24px",margin:"0 0 5px 0"},children:t.length}),n.jsx("p",{style:{color:"#555",fontSize:"14px",margin:0},children:"Carreras Tcnicas"})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{color:"#28a745",fontSize:"24px",margin:"0 0 5px 0"},children:"3"}),n.jsx("p",{style:{color:"#555",fontSize:"14px",margin:0},children:"Aos de Duracin"})]}),n.jsxs("div",{children:[n.jsx("h4",{style:{color:"#28a745",fontSize:"24px",margin:"0 0 5px 0"},children:"100%"}),n.jsx("p",{style:{color:"#555",fontSize:"14px",margin:0},children:"Validez Oficial"})]})]})]}),n.jsx("section",{children:o?n.jsx("p",{style:{textAlign:"center",color:"#666"},children:"Cargando carreras tcnicas..."}):t.length>0?n.jsx("div",{style:j,children:t.map(O=>n.jsx(P,{career:O},O.id))}):n.jsx("p",{style:{textAlign:"center",color:"#999",padding:"40px"},children:"No hay carreras registradas por el momento."})})]})]})},My=({career:s,onBack:t,setCurrentView:a})=>{const o={paddingTop:"80px",minHeight:"100vh",backgroundColor:"#ffffff",padding:"80px 20px 40px 20px"},d={maxWidth:"900px",margin:"0 auto"},u={background:"#28a745",color:"white",padding:"40px",borderRadius:"15px",marginBottom:"30px",textAlign:"center"},p={background:"white",padding:"30px",borderRadius:"15px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",border:"1px solid #e0e0e0"},g={fontSize:"20px",fontWeight:"bold",color:"#28a745",marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px"},x={fontSize:"16px",color:"#555",lineHeight:"1.8",whiteSpace:"pre-wrap"};return n.jsxs("div",{style:o,children:[n.jsx(vr,{onClick:t,text:" Regresar a Carreras"}),n.jsxs("div",{style:d,children:[s.imagen_url&&n.jsx("div",{style:{width:"100%",height:"300px",borderRadius:"15px",overflow:"hidden",marginBottom:"20px"},children:n.jsx("img",{src:s.imagen_url,alt:s.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),n.jsxs("div",{style:u,children:[n.jsx("h1",{style:{margin:"0 0 10px 0",fontSize:"32px"},children:s.nombre}),s.descripcion&&n.jsx("p",{style:{margin:0,fontSize:"18px",opacity:.95},children:s.descripcion})]}),s.programa_competencia&&n.jsxs("div",{style:p,children:[n.jsx("h2",{style:g,children:" Programa de Competencias"}),n.jsx("p",{style:x,children:s.programa_competencia})]}),s.justificacion&&n.jsxs("div",{style:p,children:[n.jsx("h2",{style:g,children:" Justificacin"}),n.jsx("p",{style:x,children:s.justificacion})]}),s.perfil_egreso&&n.jsxs("div",{style:p,children:[n.jsx("h2",{style:g,children:" Perfil de Egreso"}),n.jsx("p",{style:x,children:s.perfil_egreso})]}),s.area_especializacion&&n.jsxs("div",{style:p,children:[n.jsx("h2",{style:g,children:" rea de Especializacin"}),n.jsx("p",{style:x,children:s.area_especializacion})]}),s.habilidades_socioemocionales&&n.jsxs("div",{style:p,children:[n.jsx("h2",{style:g,children:" Habilidades Socioemocionales"}),n.jsx("p",{style:x,children:s.habilidades_socioemocionales})]}),s.oportunidades_profesionales&&n.jsxs("div",{style:p,children:[n.jsx("h2",{style:g,children:" Oportunidades Profesionales"}),n.jsx("p",{style:x,children:s.oportunidades_profesionales})]}),s.plan_estudios_url&&n.jsxs("div",{style:{...p,padding:"30px"},children:[n.jsx("h2",{style:{...g,justifyContent:"center",textAlign:"center"},children:" Plan de Estudios"}),n.jsx("p",{style:{marginBottom:"20px",color:"#555",textAlign:"center"},children:"Vista previa del documento oficial del plan de estudios"}),n.jsx("div",{style:{marginBottom:"20px",borderRadius:"10px",overflow:"hidden",boxShadow:"0 4px 15px rgba(0,0,0,0.15)"},children:n.jsx("iframe",{src:`${s.plan_estudios_url}#page=${s.pdf_start_page||1}`,style:{width:"100%",height:"600px",border:"none"},title:"Plan de Estudios"})}),n.jsxs("div",{style:{textAlign:"center"},children:[n.jsx("a",{href:s.plan_estudios_url,download:!0,style:{display:"inline-block",background:"#28a745",color:"white",padding:"15px 30px",borderRadius:"25px",textDecoration:"none",fontSize:"16px",fontWeight:"bold",transition:"background-color 0.3s ease",boxShadow:"0 4px 10px rgba(40, 167, 69, 0.3)"},onMouseEnter:b=>b.target.style.backgroundColor="#218838",onMouseLeave:b=>b.target.style.backgroundColor="#28a745",children:" Descargar Plan de Estudios (PDF)"}),n.jsxs("p",{style:{marginTop:"10px",fontSize:"13px",color:"#777"},children:["Mostrando desde la pgina ",s.pdf_start_page||1]})]})]})]})]})},qy=()=>{try{return typeof document<"u"&&document.body.classList.contains("dark-mode")}catch{return!1}},Hy=({setCurrentView:s})=>{const t=qy(),[a,o]=v.useState(null),[d,u]=v.useState([]),[p,g]=v.useState([]),[x,b]=v.useState(null),[_,f]=v.useState([]),[j,k]=v.useState(null);v.useEffect(()=>{(async()=>{const{data:re}=await T.from("contact_main").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:be}=await T.from("contact_directory").select("*").order("order_index",{ascending:!0}),{data:we}=await T.from("contact_social").select("*").order("order_index",{ascending:!0}),{data:Be}=await T.from("contact_location").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:Te}=await T.from("contact_faq").select("*").order("order_index",{ascending:!0}),{data:Ze}=await T.from("contact_cta").select("*").order("created_at",{ascending:!1}).limit(1).single();o(re||null),u(be||[]),g(we||[]),b(Be||null),f(Te||[]),k(Ze||null)})()},[]);const N={paddingTop:"80px",minHeight:"100vh",backgroundColor:t?"#0f1720":"#f8f9fa"},S={padding:"20px",maxWidth:"100%",margin:"0 auto"},A={fontSize:"28px",fontWeight:"bold",color:t?"#e6eef8":"#2c3e50",marginBottom:"25px",textAlign:"center"},P={background:t?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",padding:"25px",marginBottom:"25px",boxShadow:t?"0 12px 35px rgba(2,6,23,0.7)":"0 8px 25px rgba(0,0,0,0.1)"},O={fontSize:"20px",fontWeight:"bold",color:t?"#93c5fd":"#3498db",marginBottom:"20px",textAlign:"center"},E={display:"flex",alignItems:"flex-start",marginBottom:"20px",padding:"15px",backgroundColor:t?"rgba(255,255,255,0.02)":"#f8f9fa",borderRadius:"10px",border:t?"1px solid rgba(255,255,255,0.05)":"1px solid #e9ecef"},U={fontSize:"24px",marginRight:"15px",marginTop:"2px",flexShrink:0},$={color:t?"#93c5fd":"#3498db",textDecoration:"none",transition:"color 0.3s ease"},B={borderRadius:"15px",overflow:"hidden",boxShadow:t?"0 8px 25px rgba(0,0,0,0.6)":"0 4px 15px rgba(0,0,0,0.2)"},H={display:"inline-block",background:"linear-gradient(135deg, #1877f2, #42a5f5)",color:"white",padding:"15px 30px",borderRadius:"25px",textDecoration:"none",fontSize:"16px",fontWeight:"bold",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(24, 119, 242, 0.3)"};return n.jsxs("div",{style:N,children:[n.jsx(vr,{onClick:()=>s("home")}),n.jsxs("div",{style:S,children:[n.jsx("h1",{style:A,children:" Contacto"}),n.jsxs("section",{style:P,children:[n.jsx("h2",{style:O,children:" Informacin de Contacto"}),n.jsxs("div",{style:E,children:[n.jsx("span",{style:U,children:""}),n.jsxs("div",{children:[n.jsx("strong",{children:"Direccin:"}),n.jsx("br",{}),(a==null?void 0:a.address_line1)||"CARRETERA TETLANOHCAN A MALINTZIN KILMETRO NUM. 3",n.jsx("br",{}),(a==null?void 0:a.address_line2)||"San Francisco, Mxico, 90800",a!=null&&a.address_line3?n.jsxs(n.Fragment,{children:[n.jsx("br",{}),a.address_line3]}):null]})]}),n.jsxs("div",{style:E,children:[n.jsx("span",{style:U,children:""}),n.jsxs("div",{children:[n.jsx("strong",{children:"Telfono:"}),n.jsx("br",{}),n.jsx("a",{href:a!=null&&a.phone?`tel:${a.phone.replace(/\s/g,"")}`:"tel:+522464623456",style:$,children:(a==null?void 0:a.phone)||"01 (246) 46 2 34 56"})]})]}),n.jsxs("div",{style:E,children:[n.jsx("span",{style:U,children:""}),n.jsxs("div",{children:[n.jsx("strong",{children:"Correo Electrnico:"}),n.jsx("br",{}),n.jsx("a",{href:a!=null&&a.email?`mailto:${a.email}`:"mailto:cbta134@yahoo.com.mx",style:$,children:(a==null?void 0:a.email)||"cbta134@yahoo.com.mx"})]})]}),n.jsxs("div",{style:E,children:[n.jsx("span",{style:U,children:""}),n.jsxs("div",{children:[n.jsx("strong",{children:"Sitio Web:"}),n.jsx("br",{}),n.jsx("a",{href:(a==null?void 0:a.website)||"http://www.cbta134.edu.mx/",target:"_blank",rel:"noopener noreferrer",style:$,children:(a==null?void 0:a.website)||"www.cbta134.edu.mx"})]})]}),n.jsxs("div",{style:E,children:[n.jsx("span",{style:U,children:""}),n.jsxs("div",{children:[n.jsx("strong",{children:"Calificacin:"}),n.jsx("br",{}),(a==null?void 0:a.rating_text)||"Recomendado por el 92% (17 opiniones)"]})]}),n.jsxs("div",{style:E,children:[n.jsx("span",{style:U,children:""}),n.jsxs("div",{children:[n.jsx("strong",{children:"Horario de Atencin:"}),n.jsx("br",{}),n.jsx("span",{style:{color:"#28a745",fontWeight:"bold"},children:(a==null?void 0:a.status_text)||" Abierto ahora"}),n.jsx("br",{}),(a==null?void 0:a.hours_line1)||"Lunes a Viernes: 7:00 AM - 4:00 PM",n.jsx("br",{}),(a==null?void 0:a.hours_line2)||"Sbados: 8:00 AM - 12:00 PM"]})]})]}),n.jsxs("section",{style:P,children:[n.jsx("h2",{style:O,children:" Directorio"}),d.map(G=>n.jsxs("div",{style:E,children:[n.jsx("span",{style:U,children:G.icon||""}),n.jsxs("div",{children:[n.jsx("strong",{children:G.title}),n.jsx("br",{}),G.detail]})]},G.id))]}),n.jsxs("section",{style:P,children:[n.jsx("h2",{style:O,children:" Sguenos en Redes Sociales"}),n.jsx("div",{style:{textAlign:"center"},children:p.length===0?n.jsxs(n.Fragment,{children:[n.jsx("a",{href:"https://www.facebook.com/share/15g75ZdJRg/",target:"_blank",rel:"noopener noreferrer",style:H,onMouseEnter:G=>G.target.style.transform="translateY(-3px)",onMouseLeave:G=>G.target.style.transform="translateY(0)",children:" Facebook Oficial"}),n.jsx("p",{style:{color:t?"#bfc7cf":"#666",marginTop:"15px"},children:"Mantente informado sobre noticias, eventos y actividades de nuestra institucin"})]}):p.map(G=>n.jsxs("div",{style:{marginBottom:"16px"},children:[n.jsxs("a",{href:G.url,target:"_blank",rel:"noopener noreferrer",style:H,onMouseEnter:re=>re.target.style.transform="translateY(-3px)",onMouseLeave:re=>re.target.style.transform="translateY(0)",children:[G.icon||""," ",G.name]}),n.jsx("p",{style:{color:t?"#bfc7cf":"#666",marginTop:"10px"},children:G.description})]},G.id))})]}),n.jsxs("section",{style:P,children:[n.jsx("h2",{style:O,children:" Ubicacin"}),n.jsx("p",{style:{textAlign:"center",marginBottom:"20px",color:"#666"},children:(x==null?void 0:x.address_text)||"CARRETERA TETLANOHCAN A MALINTZIN KILMETRO NUM. 3, San Francisco, Mxico"}),n.jsx("div",{style:B,children:n.jsx("iframe",{title:"Ubicacin CBTA 134",src:(x==null?void 0:x.map_embed_url)||"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3771.8962250553377!2d-98.14220228509102!3d19.261621686935783!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85cfdd8ebaaaaaab%3A0x27dafbca82bfb2a0!2sCarretera%20Tetlanohcan%20a%20Malintzin%2C%20San%20Francisco%2C%20Tlax.!5e0!3m2!1sen!2smx!4v1648000000000!5m2!1sen!2smx",width:"100%",height:"400",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]}),n.jsxs("section",{style:P,children:[n.jsx("h2",{style:O,children:" Preguntas Frecuentes"}),_.map(G=>n.jsxs("div",{style:{marginBottom:"20px"},children:[n.jsx("h4",{style:{color:t?"#e6eef8":"#2c3e50",marginBottom:"8px"},children:G.question}),n.jsx("p",{style:{color:t?"#bfc7cf":"#666",marginBottom:"15px"},children:G.answer})]},G.id))]}),n.jsxs("section",{className:"contacto-info-section",style:{...P,background:t?"linear-gradient(135deg, #1e3c72, #2a5298)":"linear-gradient(135deg, #667eea, #764ba2)",color:"white",textAlign:"center"},children:[n.jsx("h2",{style:{...O,color:"white"},children:(j==null?void 0:j.title)||" Necesitas ms informacin?"}),n.jsx("p",{style:{marginBottom:"20px",fontSize:"16px",color:"white"},children:(j==null?void 0:j.description)||"Estamos aqu para ayudarte. No dudes en contactarnos para resolver todas tus dudas sobre nuestros programas educativos, proceso de admisin o cualquier otra consulta."}),n.jsx("div",{style:{background:"rgba(255,255,255,0.2)",borderRadius:"10px",padding:"20px",marginTop:"20px",backdropFilter:"blur(10px)"},children:n.jsx("p",{style:{margin:0,fontWeight:"bold",color:"white"},children:(j==null?void 0:j.highlight_text)||" Tu futuro comienza aqu en el CBTA 134! "})})]})]})]})},Vy=()=>{const[s,t]=v.useState(null),[a,o]=v.useState([]);return v.useEffect(()=>{(async()=>{const{data:u}=await T.from("credits_config").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:p}=await T.from("credits_authors").select("*").order("order_index",{ascending:!0});t(u||null),o(p||[])})()},[]),n.jsxs("div",{style:{minHeight:"100vh",padding:"80px 20px 40px",background:"#f8f9fa"},children:[n.jsx(vr,{onClick:()=>window.history.back()}),n.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",background:"white",borderRadius:"20px",padding:"30px",boxShadow:"0 15px 35px rgba(0,0,0,0.1)"},children:[n.jsx("h1",{style:{textAlign:"center",color:"#2c3e50",marginBottom:"10px"},children:(s==null?void 0:s.title)||"Crditos"}),n.jsx("p",{style:{textAlign:"center",color:"#666",marginBottom:"30px"},children:(s==null?void 0:s.subtitle)||"Autores de la pgina"}),n.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:"20px"},children:a.map(d=>n.jsxs("div",{style:{background:"#f8f9fa",borderRadius:"15px",padding:"20px",border:"1px solid #e9ecef"},children:[n.jsx("img",{src:d.photo_url||"/images/cbta134.png",alt:d.full_name,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"12px",marginBottom:"12px"}}),n.jsx("h3",{style:{color:"#2c3e50",marginBottom:"6px"},children:d.full_name}),n.jsx("p",{style:{color:"#28a745",fontWeight:"bold",marginBottom:"8px"},children:d.career}),n.jsx("p",{style:{color:"#666",fontSize:"0.95rem"},children:d.description})]},d.id))}),(s==null?void 0:s.license_text)&&n.jsxs("div",{style:{marginTop:"30px",background:"#eef2ff",borderRadius:"12px",padding:"20px"},children:[n.jsx("h3",{style:{color:"#1e3a8a",marginBottom:"10px"},children:(s==null?void 0:s.license_title)||"Licencia"}),n.jsx("p",{style:{color:"#374151"},children:s.license_text})]})]})]})},Wy=()=>{const[s,t]=v.useState({conversations:[],activeId:null}),[a,o]=v.useState(""),[d,u]=v.useState(!1),[p,g]=v.useState(null),x=v.useRef(null);v.useEffect(()=>{(async()=>{const U=await Mf();if(U.conversations.length)t(U);else{const $=Xu("Camalen IA");$.messages.push({id:`msg-${Date.now()}`,text:"Hola! Soy **Camalen IA**, tu asistente virtual del CBTA 134. En qu puedo ayudarte hoy?",sender:"bot",createdAt:new Date().toISOString()});const B={conversations:[$],activeId:$.id};t(B),await md(B)}})()},[]),v.useEffect(()=>{s.conversations.length&&md(s)},[s]),v.useEffect(()=>{(async()=>{const{data:U,error:$}=await T.from("chatbot_config").select("*").order("updated_at",{ascending:!1}).limit(1).maybeSingle();$||g(U||null)})()},[]),v.useEffect(()=>{var E;(E=x.current)==null||E.scrollIntoView({behavior:"smooth"})},[s,d]);const b=v.useMemo(()=>Tn(s),[s]),_=E=>E?E.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\n/g,"<br />"):"",f=E=>E.replace(/<[^>]*>/g,""),j=(E,U)=>U?U.replace(/\/$/,""):E==="groq"?"https://api.groq.com/openai/v1":E==="gemini"?"https://generativelanguage.googleapis.com/v1beta":"https://api.groq.com/openai/v1",k=E=>E==="groq"?(p==null?void 0:p.groq_api_key)||(p==null?void 0:p.api_key)||"":E==="gemini"?(p==null?void 0:p.gemini_api_key)||(p==null?void 0:p.api_key)||"":(p==null?void 0:p.api_key)||"",N=async()=>{if(!(p!=null&&p.enable_db_context))return"";const{data:E,error:U}=await T.rpc("get_chatbot_context");return U?"":JSON.stringify(E||{},null,2)},S=async({providerToUse:E,fullSystemPrompt:U,historyMessages:$})=>{var Be,Te,Ze,ve,Oe,Ce,D,X;const B=k(E);if(!B)throw new Error(`No hay API key configurada para ${E}.`);const H=j(E,(p==null?void 0:p.base_url)||""),G=(p==null?void 0:p.model)||(E==="gemini"?"gemini-3.0-flash":"llama-3.1-8b-instant"),re=E==="gemini"?`${H}/models/${G}:generateContent?key=${B}`:`${H}/chat/completions`,be=await fetch(re,{method:"POST",headers:{"Content-Type":"application/json",...E==="gemini"?{}:{Authorization:`Bearer ${B}`}},body:JSON.stringify(E==="gemini"?{contents:[{parts:[{text:`${U}

Historial de la conversacin:
${$.map(K=>`${K.role==="user"?"Usuario":"Chatbot"}: ${K.content}`).join(`
`)}

Usuario: ${a}`}]}]}:{model:G,messages:[{role:"system",content:U},...$,{role:"user",content:a}],temperature:.3})});if(!be.ok){const K=await be.text();throw new Error(`Error de la API (${E}): ${be.status} - ${K}`)}const we=await be.json();if(E==="gemini"&&((Oe=(ve=(Ze=(Te=(Be=we.candidates)==null?void 0:Be[0])==null?void 0:Te.content)==null?void 0:Ze.parts)==null?void 0:ve[0])!=null&&Oe.text))return we.candidates[0].content.parts[0].text;if((X=(D=(Ce=we.choices)==null?void 0:Ce[0])==null?void 0:D.message)!=null&&X.content)return we.choices[0].message.content;throw we.error?new Error(we.error.message):new Error("Respuesta no vlida del proveedor.")},A=async E=>{if(E.preventDefault(),!a.trim()||!b||p&&p.enabled===!1)return;const U={id:`msg-${Date.now()}`,text:a,sender:"user",createdAt:new Date().toISOString()};try{await T.from("chatbot_questions").insert([{question_text:a,source_page:window.location.pathname,conversation_id:b.id,user_agent:navigator.userAgent}])}catch{}t($=>{const B=Tn($);if(!B)return $;const H={...B,messages:[...B.messages,U]};return Ga($,H)}),o(""),u(!0);try{const $=await N(),B=((p==null?void 0:p.system_prompt)||dh).trim(),H=$?`${B}

Contexto de la base de datos (JSON):
${$}`:B,G=b.messages.slice(-10).map(ve=>({role:ve.sender==="user"?"user":"assistant",content:f(ve.text)})),re=((p==null?void 0:p.provider)||"groq").toLowerCase(),be=((p==null?void 0:p.primary_provider)||re||"groq").toLowerCase(),we=(p==null?void 0:p.fallback_enabled)===!0,Be=be==="groq"?"gemini":"groq";let Te=null;try{Te=await S({providerToUse:we?be:re,fullSystemPrompt:H,historyMessages:G})}catch(ve){if(we)Te=await S({providerToUse:Be,fullSystemPrompt:H,historyMessages:G});else throw ve}const Ze={id:`msg-${Date.now()}`,text:Te,sender:"bot",createdAt:new Date().toISOString()};t(ve=>{const Oe=Tn(ve);if(!Oe)return ve;const Ce={...Oe,messages:[...Oe.messages,Ze]};return Ga(ve,Ce)})}catch($){const B={id:`msg-${Date.now()}`,text:`Error: ${$.message}`,sender:"bot",createdAt:new Date().toISOString()};t(H=>{const G=Tn(H);if(!G)return H;const re={...G,messages:[...G.messages,B]};return Ga(H,re)})}u(!1)},P=()=>{const E=Xu("Nueva conversacin"),U={conversations:[E,...s.conversations],activeId:E.id};t(U)},O=E=>{t(U=>Jb(U,E))};return n.jsxs("div",{className:"chatbot-full",children:[n.jsxs("aside",{className:"chatbot-sidebar",children:[n.jsxs("div",{className:"sidebar-header",children:[n.jsx("h2",{children:"Camalen IA"}),n.jsx("button",{onClick:P,children:"Nueva"})]}),n.jsx("div",{className:"chat-list",children:s.conversations.map(E=>n.jsxs("button",{className:`chat-list-item ${E.id===s.activeId?"active":""}`,onClick:()=>O(E.id),children:[n.jsx("span",{children:E.title}),n.jsxs("small",{children:[E.messages.length," mensajes"]})]},E.id))})]}),n.jsxs("main",{className:"chatbot-main",children:[n.jsxs("header",{className:"chatbot-main-header",children:[n.jsxs("div",{children:[n.jsx("h3",{children:(b==null?void 0:b.title)||"Camalen IA"}),n.jsx("p",{children:"Asistente institucional CBTa 134"})]}),n.jsx("button",{onClick:()=>window.close(),className:"close-full",children:"Cerrar"})]}),n.jsxs("section",{className:"chatbot-main-messages",children:[b==null?void 0:b.messages.map(E=>n.jsx("div",{className:`full-message ${E.sender}`,children:n.jsx("div",{dangerouslySetInnerHTML:{__html:_(E.text)}})},E.id)),d&&n.jsx("div",{className:"full-message bot",children:"Escribiendo..."}),n.jsx("div",{ref:x})]}),n.jsxs("form",{className:"chatbot-main-input",onSubmit:A,children:[n.jsx("input",{value:a,onChange:E=>o(E.target.value),placeholder:"Escribe tu mensaje..."}),n.jsx("button",{type:"submit",disabled:d,children:"Enviar"})]})]})]})},Gy=({onBack:s})=>{const[t,a]=v.useState(!0),[o,d]=v.useState(null),[u,p]=v.useState([]),[g,x]=v.useState([]),[b,_]=v.useState([]),[f,j]=v.useState([]),[k,N]=v.useState({days:0,hours:0,minutes:0,seconds:0});return v.useEffect(()=>{const S=()=>{const P=(o==null?void 0:o.target_date)||"2026-06-15T00:00:00",U=new Date(P)-new Date;U>0?N({days:Math.floor(U/864e5),hours:Math.floor(U/36e5%24),minutes:Math.floor(U/1e3/60%60),seconds:Math.floor(U/1e3%60)}):N({days:0,hours:0,minutes:0,seconds:0})};S();const A=setInterval(S,1e3);return()=>clearInterval(A)},[o]),v.useEffect(()=>{(async()=>{a(!0);const{data:A}=await T.from("baetam_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:P}=await T.from("baetam_info_cards").select("*").order("order_index",{ascending:!0}),{data:O}=await T.from("baetam_requirements").select("*").order("order_index",{ascending:!0}),{data:E}=await T.from("baetam_advantages").select("*").order("order_index",{ascending:!0}),{data:U}=await T.from("baetam_contact_lines").select("*").order("order_index",{ascending:!0});d(A||null),p(P||[]),x(O||[]),_(E||[]),j(U||[]),a(!1)})()},[]),n.jsxs("div",{className:"baetam-page",children:[n.jsx("button",{className:"back-button",onClick:s,children:" Regresar al inicio"}),n.jsxs("div",{className:"baetam-container",children:[n.jsxs("div",{className:"baetam-header",children:[n.jsx("img",{src:(o==null?void 0:o.hero_image_url)||"/baetam/baetam.jpg",alt:"BAETAM - Bachillerato Autoplaneado",className:"baetam-hero-image"}),n.jsxs("div",{className:"baetam-header-content",children:[n.jsx("h1",{className:"baetam-title",children:(o==null?void 0:o.title)||"BAETAM"}),n.jsx("h2",{className:"baetam-subtitle",children:(o==null?void 0:o.subtitle)||"Bachillerato Autoplaneado de Educacin Tecnolgica Agropecuaria y del Mar"})]})]}),n.jsx("div",{className:"baetam-info",children:u.map(S=>n.jsxs("div",{className:"info-card",children:[n.jsx("h3",{children:S.title}),n.jsx("p",{children:S.description})]},S.id))}),n.jsxs("div",{className:"inscriptions-section",children:[n.jsx("h2",{className:"section-title",children:(o==null?void 0:o.inscriptions_title)||"Prximas Inscripciones"}),n.jsxs("div",{className:"inscription-period",children:[n.jsx("h3",{children:(o==null?void 0:o.inscriptions_period_title)||" Perodo de Inscripciones: Mayo - Junio 2026"}),n.jsx("p",{children:(o==null?void 0:o.inscriptions_period_description)||"Las inscripciones para el nuevo ciclo escolar estarn abiertas durante los meses de mayo y junio de 2026."})]}),n.jsxs("div",{className:"countdown-section",children:[n.jsx("h3",{children:(o==null?void 0:o.countdown_label)||" Tiempo restante para las inscripciones:"}),n.jsxs("div",{className:"countdown-timer",children:[n.jsxs("div",{className:"time-unit",children:[n.jsx("span",{className:"time-number",children:k.days}),n.jsx("span",{className:"time-label",children:"Das"})]}),n.jsx("div",{className:"time-separator",children:":"}),n.jsxs("div",{className:"time-unit",children:[n.jsx("span",{className:"time-number",children:k.hours.toString().padStart(2,"0")}),n.jsx("span",{className:"time-label",children:"Horas"})]}),n.jsx("div",{className:"time-separator",children:":"}),n.jsxs("div",{className:"time-unit",children:[n.jsx("span",{className:"time-number",children:k.minutes.toString().padStart(2,"0")}),n.jsx("span",{className:"time-label",children:"Minutos"})]}),n.jsx("div",{className:"time-separator",children:":"}),n.jsxs("div",{className:"time-unit",children:[n.jsx("span",{className:"time-number",children:k.seconds.toString().padStart(2,"0")}),n.jsx("span",{className:"time-label",children:"Segundos"})]})]}),n.jsx("p",{className:"countdown-date",children:(o==null?void 0:o.countdown_date_text)||" Inicio de inscripciones: 15 de Junio de 2026"})]})]}),n.jsxs("div",{className:"requirements-section",children:[n.jsx("h2",{className:"section-title",children:(o==null?void 0:o.requirements_title)||"Requisitos de Ingreso"}),n.jsx("div",{className:"requirements-grid",children:g.map(S=>n.jsxs("div",{className:"requirement-item",children:[n.jsx("span",{className:"requirement-icon",children:S.icon}),n.jsx("p",{children:S.text})]},S.id))})]}),n.jsxs("div",{className:"advantages-section",children:[n.jsx("h2",{className:"section-title",children:(o==null?void 0:o.advantages_title)||"Por qu elegir BAETAM?"}),n.jsx("div",{className:"advantages-grid",children:b.map(S=>n.jsxs("div",{className:"advantage-card",children:[n.jsx("h4",{children:S.title}),n.jsx("p",{children:S.description})]},S.id))})]}),n.jsxs("div",{className:"contact-section",children:[n.jsx("h2",{className:"section-title",children:(o==null?void 0:o.contact_title)||"Necesitas ms informacin?"}),n.jsx("p",{children:(o==null?void 0:o.contact_description)||"Contctanos para resolver todas tus dudas sobre BAETAM"}),n.jsx("div",{className:"contact-info",children:f.map(S=>n.jsx("p",{children:S.line_text},S.id))})]})]})]})},Ky=()=>{const[s,t]=v.useState([]),a=[{image:"/images/valores.png",title:"Acerca de CBTa 134",description:"Conoce nuestra historia, misin, visin y valores que nos definen como institucin.",path:"acerca"},{image:"/images/programacion.jpg",title:"Carreras Tcnicas",description:"Descubre nuestras especialidades tcnicas y elige tu futuro profesional.",path:"carreras"},{image:"/images/galeria.png",title:"Galera",description:"Explora nuestra coleccin de fotos y eventos destacados.",path:"galeria"},{image:"/images/proceso de admincion.jpg",title:"Proceso de Admisin",description:"Informacin sobre requisitos y pasos para formar parte de nuestra institucin.",path:"admission"},{image:"/images/campus.png",title:"Clubs Estudiantiles",description:"nete a nuestros clubs deportivos, culturales y acadmicos.",path:"clubs"},{image:"/images/ofimatica.jpg",title:"Contacto",description:"Informacin de contacto y ubicacin de nuestra institucin.",path:"contacto"},{image:"/images/baetam.jpg",title:"BAETAM",description:"Bachillerato Autoplaneado - Educacin flexible para adultos.",path:"baetam"},{image:"/images/maestros-hero.png",title:"Maestros",description:"Recursos y enlaces utiles para el personal docente.",path:"maestros"},{image:"/images/alumnos-hero.png",title:"Alumnos",description:"Portal de alumnos para acceso a calificaciones y servicios.",path:"alumnos"}];v.useEffect(()=>{(async()=>{const{data:H}=await T.from("home_options").select("*").order("order_index",{ascending:!0});H&&H.length>0?t(H):t(a.map((G,re)=>({id:re+1,image_url:G.image,title:G.title,description:G.description,path:G.path})))})()},[]);const[o,d]=v.useState(()=>{const B=localStorage.getItem("appOptions");return B?JSON.parse(B):a}),[u,p]=v.useState("home"),[g,x]=v.useState(!1);v.useState("phone");const b=()=>{const B=new Date().getHours();return B>=6&&B<18},_=Qa(),f=ea(),[j,k]=v.useState(()=>{const B=localStorage.getItem("manualModeOverride");return B!==null?JSON.parse(B):b()}),[N,S]=v.useState(()=>{const B=localStorage.getItem("isAutoMode");return B?JSON.parse(B):!0});v.useEffect(()=>{localStorage.setItem("appOptions",JSON.stringify(o))},[o]),v.useEffect(()=>{localStorage.setItem("isLightMode",JSON.stringify(!0)),localStorage.setItem("isAutoMode",JSON.stringify(N)),document.body.className="light-mode"},[N]),v.useEffect(()=>{if(N){const B=setInterval(()=>{const H=b();H!==j&&k(H)},6e4);return()=>clearInterval(B)}},[N,j]);const A=B=>()=>{B==="alumnos"?_("/alumnos"):B==="maestros"?_("/maestros"):(p(B),f.pathname!=="/"&&_("/")),x(!1)},P=()=>{N?(S(!1),k(!j),localStorage.setItem("manualModeOverride",JSON.stringify(!j))):(k(!j),localStorage.setItem("manualModeOverride",JSON.stringify(!j)))},O=()=>{N?(S(!1),localStorage.setItem("manualModeOverride",JSON.stringify(j))):(S(!0),k(b()),localStorage.removeItem("manualModeOverride"))},E=()=>{x(!g)},U=()=>{const B=()=>p("home");switch(u){case"acerca":return n.jsx(ay,{onBack:B});case"valores":return n.jsx(sy,{onBack:B});case"noticias":return n.jsx(Ay,{onBack:B});case"carreras":return n.jsx(zy,{setCurrentView:p});case"galeria":return n.jsx(By,{setCurrentView:p});case"admission":return n.jsx(ky,{onBack:B});case"nosotros":return n.jsx(Dy,{setCurrentView:p});case"clubs":return n.jsx(Fy,{setCurrentView:p});case"contacto":return n.jsx(Hy,{setCurrentView:p});case"saetam":return n.jsx(Cy,{onBack:B});case"maestros":return null;case"baetam":return n.jsx(Gy,{onBack:B});default:return n.jsxs(n.Fragment,{children:[n.jsx(Ib,{}),n.jsx("main",{className:"main-content",children:n.jsxs("div",{className:"navigation-cards",children:[n.jsx("h2",{className:"navigation-title",children:"Navega por Nuestras Secciones"}),n.jsx("div",{className:"options-grid",children:s.map(H=>n.jsxs("div",{className:"option-card",onClick:A(H.path),children:[n.jsx("img",{src:H.image_url,alt:H.title,className:"option-image"}),n.jsxs("div",{className:"option-content",children:[n.jsx("h3",{className:"option-title",children:H.title}),n.jsx("p",{className:"option-description",children:H.description}),n.jsx("button",{className:"option-button",children:"Ver ms"})]})]},H.id))})]})})]})}},$=f.pathname!=="/alumnos"&&f.pathname!=="/maestros"&&f.pathname!=="/maestros/admin"&&f.pathname!=="/chatbot";return n.jsxs("div",{className:"app light-mode",children:[$&&n.jsx(Pb,{toggleMode:P,toggleAutoMode:O,isLightMode:j,isAutoMode:N,toggleNav:E,isNavActive:g,currentView:u,setCurrentView:p}),n.jsx("div",{className:$?"app-content":"app-content-fullscreen",children:n.jsxs(yg,{children:[n.jsx(Qs,{path:"/",element:U()}),n.jsx(Qs,{path:"/creditos",element:n.jsx(Vy,{})}),n.jsx(Qs,{path:"/alumnos",element:n.jsx($y,{})}),n.jsx(Qs,{path:"/maestros",element:n.jsx(Ty,{})}),n.jsx(Qs,{path:"/maestros/admin",element:n.jsx(Iy,{})}),n.jsx(Qs,{path:"/chatbot",element:n.jsx(Wy,{})}),n.jsx(Qs,{path:"*",element:U()})]})}),$&&n.jsxs(n.Fragment,{children:[n.jsx(Ob,{}),n.jsx(Qb,{})]})]})};Tm.createRoot(document.getElementById("root")).render(n.jsx(v.StrictMode,{children:n.jsx(qg,{children:n.jsx(Ky,{})})}));
