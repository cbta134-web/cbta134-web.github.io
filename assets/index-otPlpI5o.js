var W3=Object.defineProperty;var V3=(e,t,r)=>t in e?W3(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var kn=(e,t,r)=>V3(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Wm={exports:{}},u0={},Vm={exports:{}},$r={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nv;function G3(){if(Nv)return $r;Nv=1;var e=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.iterator;function b(oe){return oe===null||typeof oe!="object"?null:(oe=f&&oe[f]||oe["@@iterator"],typeof oe=="function"?oe:null)}var g={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,y={};function N(oe,j,B){this.props=oe,this.context=j,this.refs=y,this.updater=B||g}N.prototype.isReactComponent={},N.prototype.setState=function(oe,j){if(typeof oe!="object"&&typeof oe!="function"&&oe!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,oe,j,"setState")},N.prototype.forceUpdate=function(oe){this.updater.enqueueForceUpdate(this,oe,"forceUpdate")};function A(){}A.prototype=N.prototype;function P(oe,j,B){this.props=oe,this.context=j,this.refs=y,this.updater=B||g}var T=P.prototype=new A;T.constructor=P,S(T,N.prototype),T.isPureReactComponent=!0;var R=Array.isArray,q=Object.prototype.hasOwnProperty,te={current:null},G={key:!0,ref:!0,__self:!0,__source:!0};function H(oe,j,B){var O,D={},Z=null,pe=null;if(j!=null)for(O in j.ref!==void 0&&(pe=j.ref),j.key!==void 0&&(Z=""+j.key),j)q.call(j,O)&&!G.hasOwnProperty(O)&&(D[O]=j[O]);var be=arguments.length-2;if(be===1)D.children=B;else if(1<be){for(var Se=Array(be),Ee=0;Ee<be;Ee++)Se[Ee]=arguments[Ee+2];D.children=Se}if(oe&&oe.defaultProps)for(O in be=oe.defaultProps,be)D[O]===void 0&&(D[O]=be[O]);return{$$typeof:e,type:oe,key:Z,ref:pe,props:D,_owner:te.current}}function M(oe,j){return{$$typeof:e,type:oe.type,key:j,ref:oe.ref,props:oe.props,_owner:oe._owner}}function re(oe){return typeof oe=="object"&&oe!==null&&oe.$$typeof===e}function I(oe){var j={"=":"=0",":":"=2"};return"$"+oe.replace(/[=:]/g,function(B){return j[B]})}var W=/\/+/g;function ae(oe,j){return typeof oe=="object"&&oe!==null&&oe.key!=null?I(""+oe.key):j.toString(36)}function ge(oe,j,B,O,D){var Z=typeof oe;(Z==="undefined"||Z==="boolean")&&(oe=null);var pe=!1;if(oe===null)pe=!0;else switch(Z){case"string":case"number":pe=!0;break;case"object":switch(oe.$$typeof){case e:case t:pe=!0}}if(pe)return pe=oe,D=D(pe),oe=O===""?"."+ae(pe,0):O,R(D)?(B="",oe!=null&&(B=oe.replace(W,"$&/")+"/"),ge(D,j,B,"",function(Ee){return Ee})):D!=null&&(re(D)&&(D=M(D,B+(!D.key||pe&&pe.key===D.key?"":(""+D.key).replace(W,"$&/")+"/")+oe)),j.push(D)),1;if(pe=0,O=O===""?".":O+":",R(oe))for(var be=0;be<oe.length;be++){Z=oe[be];var Se=O+ae(Z,be);pe+=ge(Z,j,B,Se,D)}else if(Se=b(oe),typeof Se=="function")for(oe=Se.call(oe),be=0;!(Z=oe.next()).done;)Z=Z.value,Se=O+ae(Z,be++),pe+=ge(Z,j,B,Se,D);else if(Z==="object")throw j=String(oe),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(oe).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return pe}function _e(oe,j,B){if(oe==null)return oe;var O=[],D=0;return ge(oe,O,"","",function(Z){return j.call(B,Z,D++)}),O}function Le(oe){if(oe._status===-1){var j=oe._result;j=j(),j.then(function(B){(oe._status===0||oe._status===-1)&&(oe._status=1,oe._result=B)},function(B){(oe._status===0||oe._status===-1)&&(oe._status=2,oe._result=B)}),oe._status===-1&&(oe._status=0,oe._result=j)}if(oe._status===1)return oe._result.default;throw oe._result}var Te={current:null},Q={transition:null},ye={ReactCurrentDispatcher:Te,ReactCurrentBatchConfig:Q,ReactCurrentOwner:te};function je(){throw Error("act(...) is not supported in production builds of React.")}return $r.Children={map:_e,forEach:function(oe,j,B){_e(oe,function(){j.apply(this,arguments)},B)},count:function(oe){var j=0;return _e(oe,function(){j++}),j},toArray:function(oe){return _e(oe,function(j){return j})||[]},only:function(oe){if(!re(oe))throw Error("React.Children.only expected to receive a single React element child.");return oe}},$r.Component=N,$r.Fragment=r,$r.Profiler=a,$r.PureComponent=P,$r.StrictMode=n,$r.Suspense=d,$r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ye,$r.act=je,$r.cloneElement=function(oe,j,B){if(oe==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+oe+".");var O=S({},oe.props),D=oe.key,Z=oe.ref,pe=oe._owner;if(j!=null){if(j.ref!==void 0&&(Z=j.ref,pe=te.current),j.key!==void 0&&(D=""+j.key),oe.type&&oe.type.defaultProps)var be=oe.type.defaultProps;for(Se in j)q.call(j,Se)&&!G.hasOwnProperty(Se)&&(O[Se]=j[Se]===void 0&&be!==void 0?be[Se]:j[Se])}var Se=arguments.length-2;if(Se===1)O.children=B;else if(1<Se){be=Array(Se);for(var Ee=0;Ee<Se;Ee++)be[Ee]=arguments[Ee+2];O.children=be}return{$$typeof:e,type:oe.type,key:D,ref:Z,props:O,_owner:pe}},$r.createContext=function(oe){return oe={$$typeof:l,_currentValue:oe,_currentValue2:oe,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},oe.Provider={$$typeof:i,_context:oe},oe.Consumer=oe},$r.createElement=H,$r.createFactory=function(oe){var j=H.bind(null,oe);return j.type=oe,j},$r.createRef=function(){return{current:null}},$r.forwardRef=function(oe){return{$$typeof:c,render:oe}},$r.isValidElement=re,$r.lazy=function(oe){return{$$typeof:p,_payload:{_status:-1,_result:oe},_init:Le}},$r.memo=function(oe,j){return{$$typeof:h,type:oe,compare:j===void 0?null:j}},$r.startTransition=function(oe){var j=Q.transition;Q.transition={};try{oe()}finally{Q.transition=j}},$r.unstable_act=je,$r.useCallback=function(oe,j){return Te.current.useCallback(oe,j)},$r.useContext=function(oe){return Te.current.useContext(oe)},$r.useDebugValue=function(){},$r.useDeferredValue=function(oe){return Te.current.useDeferredValue(oe)},$r.useEffect=function(oe,j){return Te.current.useEffect(oe,j)},$r.useId=function(){return Te.current.useId()},$r.useImperativeHandle=function(oe,j,B){return Te.current.useImperativeHandle(oe,j,B)},$r.useInsertionEffect=function(oe,j){return Te.current.useInsertionEffect(oe,j)},$r.useLayoutEffect=function(oe,j){return Te.current.useLayoutEffect(oe,j)},$r.useMemo=function(oe,j){return Te.current.useMemo(oe,j)},$r.useReducer=function(oe,j,B){return Te.current.useReducer(oe,j,B)},$r.useRef=function(oe){return Te.current.useRef(oe)},$r.useState=function(oe){return Te.current.useState(oe)},$r.useSyncExternalStore=function(oe,j,B){return Te.current.useSyncExternalStore(oe,j,B)},$r.useTransition=function(){return Te.current.useTransition()},$r.version="18.3.1",$r}var jv;function U1(){return jv||(jv=1,Vm.exports=G3()),Vm.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev;function K3(){if(Ev)return u0;Ev=1;var e=U1(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,h){var p,f={},b=null,g=null;h!==void 0&&(b=""+h),d.key!==void 0&&(b=""+d.key),d.ref!==void 0&&(g=d.ref);for(p in d)n.call(d,p)&&!i.hasOwnProperty(p)&&(f[p]=d[p]);if(c&&c.defaultProps)for(p in d=c.defaultProps,d)f[p]===void 0&&(f[p]=d[p]);return{$$typeof:t,type:c,key:b,ref:g,props:f,_owner:a.current}}return u0.Fragment=r,u0.jsx=l,u0.jsxs=l,u0}var kv;function Y3(){return kv||(kv=1,Wm.exports=K3()),Wm.exports}var s=Y3(),U=U1(),$f={},Gm={exports:{}},io={},Km={exports:{}},Ym={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Av;function X3(){return Av||(Av=1,function(e){function t(Q,ye){var je=Q.length;Q.push(ye);e:for(;0<je;){var oe=je-1>>>1,j=Q[oe];if(0<a(j,ye))Q[oe]=ye,Q[je]=j,je=oe;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var ye=Q[0],je=Q.pop();if(je!==ye){Q[0]=je;e:for(var oe=0,j=Q.length,B=j>>>1;oe<B;){var O=2*(oe+1)-1,D=Q[O],Z=O+1,pe=Q[Z];if(0>a(D,je))Z<j&&0>a(pe,D)?(Q[oe]=pe,Q[Z]=je,oe=Z):(Q[oe]=D,Q[O]=je,oe=O);else if(Z<j&&0>a(pe,je))Q[oe]=pe,Q[Z]=je,oe=Z;else break e}}return ye}function a(Q,ye){var je=Q.sortIndex-ye.sortIndex;return je!==0?je:Q.id-ye.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var l=Date,c=l.now();e.unstable_now=function(){return l.now()-c}}var d=[],h=[],p=1,f=null,b=3,g=!1,S=!1,y=!1,N=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(Q){for(var ye=r(h);ye!==null;){if(ye.callback===null)n(h);else if(ye.startTime<=Q)n(h),ye.sortIndex=ye.expirationTime,t(d,ye);else break;ye=r(h)}}function R(Q){if(y=!1,T(Q),!S)if(r(d)!==null)S=!0,Le(q);else{var ye=r(h);ye!==null&&Te(R,ye.startTime-Q)}}function q(Q,ye){S=!1,y&&(y=!1,A(H),H=-1),g=!0;var je=b;try{for(T(ye),f=r(d);f!==null&&(!(f.expirationTime>ye)||Q&&!I());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,b=f.priorityLevel;var j=oe(f.expirationTime<=ye);ye=e.unstable_now(),typeof j=="function"?f.callback=j:f===r(d)&&n(d),T(ye)}else n(d);f=r(d)}if(f!==null)var B=!0;else{var O=r(h);O!==null&&Te(R,O.startTime-ye),B=!1}return B}finally{f=null,b=je,g=!1}}var te=!1,G=null,H=-1,M=5,re=-1;function I(){return!(e.unstable_now()-re<M)}function W(){if(G!==null){var Q=e.unstable_now();re=Q;var ye=!0;try{ye=G(!0,Q)}finally{ye?ae():(te=!1,G=null)}}else te=!1}var ae;if(typeof P=="function")ae=function(){P(W)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,_e=ge.port2;ge.port1.onmessage=W,ae=function(){_e.postMessage(null)}}else ae=function(){N(W,0)};function Le(Q){G=Q,te||(te=!0,ae())}function Te(Q,ye){H=N(function(){Q(e.unstable_now())},ye)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Q){Q.callback=null},e.unstable_continueExecution=function(){S||g||(S=!0,Le(q))},e.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Q?Math.floor(1e3/Q):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return r(d)},e.unstable_next=function(Q){switch(b){case 1:case 2:case 3:var ye=3;break;default:ye=b}var je=b;b=ye;try{return Q()}finally{b=je}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Q,ye){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var je=b;b=Q;try{return ye()}finally{b=je}},e.unstable_scheduleCallback=function(Q,ye,je){var oe=e.unstable_now();switch(typeof je=="object"&&je!==null?(je=je.delay,je=typeof je=="number"&&0<je?oe+je:oe):je=oe,Q){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=je+j,Q={id:p++,callback:ye,priorityLevel:Q,startTime:je,expirationTime:j,sortIndex:-1},je>oe?(Q.sortIndex=je,t(h,Q),r(d)===null&&Q===r(h)&&(y?(A(H),H=-1):y=!0,Te(R,je-oe))):(Q.sortIndex=j,t(d,Q),S||g||(S=!0,Le(q))),Q},e.unstable_shouldYield=I,e.unstable_wrapCallback=function(Q){var ye=b;return function(){var je=b;b=ye;try{return Q.apply(this,arguments)}finally{b=je}}}}(Ym)),Ym}var Cv;function J3(){return Cv||(Cv=1,Km.exports=X3()),Km.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tv;function Z3(){if(Tv)return io;Tv=1;var e=U1(),t=J3();function r(o){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+o,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+o+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(o,u){l(o,u),l(o+"Capture",u)}function l(o,u){for(a[o]=u,o=0;o<u.length;o++)n.add(u[o])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function b(o){return d.call(f,o)?!0:d.call(p,o)?!1:h.test(o)?f[o]=!0:(p[o]=!0,!1)}function g(o,u,m,_){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return _?!1:m!==null?!m.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function S(o,u,m,_){if(u===null||typeof u>"u"||g(o,u,m,_))return!0;if(_)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function y(o,u,m,_,k,L,X){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=_,this.attributeNamespace=k,this.mustUseProperty=m,this.propertyName=o,this.type=u,this.sanitizeURL=L,this.removeEmptyString=X}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){N[o]=new y(o,0,!1,o,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var u=o[0];N[u]=new y(u,1,!1,o[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(o){N[o]=new y(o,2,!1,o.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){N[o]=new y(o,2,!1,o,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){N[o]=new y(o,3,!1,o.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(o){N[o]=new y(o,3,!0,o,null,!1,!1)}),["capture","download"].forEach(function(o){N[o]=new y(o,4,!1,o,null,!1,!1)}),["cols","rows","size","span"].forEach(function(o){N[o]=new y(o,6,!1,o,null,!1,!1)}),["rowSpan","start"].forEach(function(o){N[o]=new y(o,5,!1,o.toLowerCase(),null,!1,!1)});var A=/[\-:]([a-z])/g;function P(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var u=o.replace(A,P);N[u]=new y(u,1,!1,o,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var u=o.replace(A,P);N[u]=new y(u,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(o){var u=o.replace(A,P);N[u]=new y(u,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(o){N[o]=new y(o,1,!1,o.toLowerCase(),null,!1,!1)}),N.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(o){N[o]=new y(o,1,!1,o.toLowerCase(),null,!0,!0)});function T(o,u,m,_){var k=N.hasOwnProperty(u)?N[u]:null;(k!==null?k.type!==0:_||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(S(u,m,k,_)&&(m=null),_||k===null?b(u)&&(m===null?o.removeAttribute(u):o.setAttribute(u,""+m)):k.mustUseProperty?o[k.propertyName]=m===null?k.type===3?!1:"":m:(u=k.attributeName,_=k.attributeNamespace,m===null?o.removeAttribute(u):(k=k.type,m=k===3||k===4&&m===!0?"":""+m,_?o.setAttributeNS(_,u,m):o.setAttribute(u,m))))}var R=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),te=Symbol.for("react.portal"),G=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),I=Symbol.for("react.context"),W=Symbol.for("react.forward_ref"),ae=Symbol.for("react.suspense"),ge=Symbol.for("react.suspense_list"),_e=Symbol.for("react.memo"),Le=Symbol.for("react.lazy"),Te=Symbol.for("react.offscreen"),Q=Symbol.iterator;function ye(o){return o===null||typeof o!="object"?null:(o=Q&&o[Q]||o["@@iterator"],typeof o=="function"?o:null)}var je=Object.assign,oe;function j(o){if(oe===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);oe=u&&u[1]||""}return`
`+oe+o}var B=!1;function O(o,u){if(!o||B)return"";B=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(Ke){var _=Ke}Reflect.construct(o,[],u)}else{try{u.call()}catch(Ke){_=Ke}o.call(u.prototype)}else{try{throw Error()}catch(Ke){_=Ke}o()}}catch(Ke){if(Ke&&_&&typeof Ke.stack=="string"){for(var k=Ke.stack.split(`
`),L=_.stack.split(`
`),X=k.length-1,we=L.length-1;1<=X&&0<=we&&k[X]!==L[we];)we--;for(;1<=X&&0<=we;X--,we--)if(k[X]!==L[we]){if(X!==1||we!==1)do if(X--,we--,0>we||k[X]!==L[we]){var Ae=`
`+k[X].replace(" at new "," at ");return o.displayName&&Ae.includes("<anonymous>")&&(Ae=Ae.replace("<anonymous>",o.displayName)),Ae}while(1<=X&&0<=we);break}}}finally{B=!1,Error.prepareStackTrace=m}return(o=o?o.displayName||o.name:"")?j(o):""}function D(o){switch(o.tag){case 5:return j(o.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return o=O(o.type,!1),o;case 11:return o=O(o.type.render,!1),o;case 1:return o=O(o.type,!0),o;default:return""}}function Z(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case G:return"Fragment";case te:return"Portal";case M:return"Profiler";case H:return"StrictMode";case ae:return"Suspense";case ge:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case I:return(o.displayName||"Context")+".Consumer";case re:return(o._context.displayName||"Context")+".Provider";case W:var u=o.render;return o=o.displayName,o||(o=u.displayName||u.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case _e:return u=o.displayName||null,u!==null?u:Z(o.type)||"Memo";case Le:u=o._payload,o=o._init;try{return Z(o(u))}catch{}}return null}function pe(o){var u=o.type;switch(o.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=u.render,o=o.displayName||o.name||"",u.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Z(u);case 8:return u===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function be(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Se(o){var u=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ee(o){var u=Se(o)?"checked":"value",m=Object.getOwnPropertyDescriptor(o.constructor.prototype,u),_=""+o[u];if(!o.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var k=m.get,L=m.set;return Object.defineProperty(o,u,{configurable:!0,get:function(){return k.call(this)},set:function(X){_=""+X,L.call(this,X)}}),Object.defineProperty(o,u,{enumerable:m.enumerable}),{getValue:function(){return _},setValue:function(X){_=""+X},stopTracking:function(){o._valueTracker=null,delete o[u]}}}}function Ye(o){o._valueTracker||(o._valueTracker=Ee(o))}function at(o){if(!o)return!1;var u=o._valueTracker;if(!u)return!0;var m=u.getValue(),_="";return o&&(_=Se(o)?o.checked?"true":"false":o.value),o=_,o!==m?(u.setValue(o),!0):!1}function st(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function ft(o,u){var m=u.checked;return je({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??o._wrapperState.initialChecked})}function le(o,u){var m=u.defaultValue==null?"":u.defaultValue,_=u.checked!=null?u.checked:u.defaultChecked;m=be(u.value!=null?u.value:m),o._wrapperState={initialChecked:_,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function dt(o,u){u=u.checked,u!=null&&T(o,"checked",u,!1)}function Pe(o,u){dt(o,u);var m=be(u.value),_=u.type;if(m!=null)_==="number"?(m===0&&o.value===""||o.value!=m)&&(o.value=""+m):o.value!==""+m&&(o.value=""+m);else if(_==="submit"||_==="reset"){o.removeAttribute("value");return}u.hasOwnProperty("value")?Je(o,u.type,m):u.hasOwnProperty("defaultValue")&&Je(o,u.type,be(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(o.defaultChecked=!!u.defaultChecked)}function rt(o,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var _=u.type;if(!(_!=="submit"&&_!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+o._wrapperState.initialValue,m||u===o.value||(o.value=u),o.defaultValue=u}m=o.name,m!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,m!==""&&(o.name=m)}function Je(o,u,m){(u!=="number"||st(o.ownerDocument)!==o)&&(m==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+m&&(o.defaultValue=""+m))}var kt=Array.isArray;function Ze(o,u,m,_){if(o=o.options,u){u={};for(var k=0;k<m.length;k++)u["$"+m[k]]=!0;for(m=0;m<o.length;m++)k=u.hasOwnProperty("$"+o[m].value),o[m].selected!==k&&(o[m].selected=k),k&&_&&(o[m].defaultSelected=!0)}else{for(m=""+be(m),u=null,k=0;k<o.length;k++){if(o[k].value===m){o[k].selected=!0,_&&(o[k].defaultSelected=!0);return}u!==null||o[k].disabled||(u=o[k])}u!==null&&(u.selected=!0)}}function Et(o,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return je({},u,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function Pt(o,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(r(92));if(kt(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),m=u}o._wrapperState={initialValue:be(m)}}function fr(o,u){var m=be(u.value),_=be(u.defaultValue);m!=null&&(m=""+m,m!==o.value&&(o.value=m),u.defaultValue==null&&o.defaultValue!==m&&(o.defaultValue=m)),_!=null&&(o.defaultValue=""+_)}function Zt(o){var u=o.textContent;u===o._wrapperState.initialValue&&u!==""&&u!==null&&(o.value=u)}function Xt(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function gr(o,u){return o==null||o==="http://www.w3.org/1999/xhtml"?Xt(u):o==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var nr,Ft=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,_,k){MSApp.execUnsafeLocalFunction(function(){return o(u,m,_,k)})}:o}(function(o,u){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=u;else{for(nr=nr||document.createElement("div"),nr.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=nr.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;u.firstChild;)o.appendChild(u.firstChild)}});function Qt(o,u){if(u){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=u;return}}o.textContent=u}var Ct={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rn=["Webkit","ms","Moz","O"];Object.keys(Ct).forEach(function(o){rn.forEach(function(u){u=u+o.charAt(0).toUpperCase()+o.substring(1),Ct[u]=Ct[o]})});function Er(o,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||Ct.hasOwnProperty(o)&&Ct[o]?(""+u).trim():u+"px"}function pr(o,u){o=o.style;for(var m in u)if(u.hasOwnProperty(m)){var _=m.indexOf("--")===0,k=Er(m,u[m],_);m==="float"&&(m="cssFloat"),_?o.setProperty(m,k):o[m]=k}}var xr=je({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nn(o,u){if(u){if(xr[o]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,o));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function Lt(o,u){if(o.indexOf("-")===-1)return typeof u.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Or=null;function Wt(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var er=null,Hr=null,hr=null;function $t(o){if(o=xc(o)){if(typeof er!="function")throw Error(r(280));var u=o.stateNode;u&&(u=Bl(u),er(o.stateNode,o.type,u))}}function Rr(o){Hr?hr?hr.push(o):hr=[o]:Hr=o}function as(){if(Hr){var o=Hr,u=hr;if(hr=Hr=null,$t(o),u)for(o=0;o<u.length;o++)$t(u[o])}}function ra(o,u){return o(u)}function Fi(){}var ai=!1;function Gt(o,u,m){if(ai)return o(u,m);ai=!0;try{return ra(o,u,m)}finally{ai=!1,(Hr!==null||hr!==null)&&(Fi(),as())}}function $a(o,u){var m=o.stateNode;if(m===null)return null;var _=Bl(m);if(_===null)return null;m=_[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(_=!_.disabled)||(o=o.type,_=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!_;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(r(231,u,typeof m));return m}var za=!1;if(c)try{var na={};Object.defineProperty(na,"passive",{get:function(){za=!0}}),window.addEventListener("test",na,na),window.removeEventListener("test",na,na)}catch{za=!1}function Ir(o,u,m,_,k,L,X,we,Ae){var Ke=Array.prototype.slice.call(arguments,3);try{u.apply(m,Ke)}catch(mt){this.onError(mt)}}var kr=!1,Rn=null,Y=!1,ue=null,se={onError:function(o){kr=!0,Rn=o}};function ce(o,u,m,_,k,L,X,we,Ae){kr=!1,Rn=null,Ir.apply(se,arguments)}function me(o,u,m,_,k,L,X,we,Ae){if(ce.apply(this,arguments),kr){if(kr){var Ke=Rn;kr=!1,Rn=null}else throw Error(r(198));Y||(Y=!0,ue=Ke)}}function xe(o){var u=o,m=o;if(o.alternate)for(;u.return;)u=u.return;else{o=u;do u=o,u.flags&4098&&(m=u.return),o=u.return;while(o)}return u.tag===3?m:null}function Ue(o){if(o.tag===13){var u=o.memoizedState;if(u===null&&(o=o.alternate,o!==null&&(u=o.memoizedState)),u!==null)return u.dehydrated}return null}function Ve(o){if(xe(o)!==o)throw Error(r(188))}function Be(o){var u=o.alternate;if(!u){if(u=xe(o),u===null)throw Error(r(188));return u!==o?null:o}for(var m=o,_=u;;){var k=m.return;if(k===null)break;var L=k.alternate;if(L===null){if(_=k.return,_!==null){m=_;continue}break}if(k.child===L.child){for(L=k.child;L;){if(L===m)return Ve(k),o;if(L===_)return Ve(k),u;L=L.sibling}throw Error(r(188))}if(m.return!==_.return)m=k,_=L;else{for(var X=!1,we=k.child;we;){if(we===m){X=!0,m=k,_=L;break}if(we===_){X=!0,_=k,m=L;break}we=we.sibling}if(!X){for(we=L.child;we;){if(we===m){X=!0,m=L,_=k;break}if(we===_){X=!0,_=L,m=k;break}we=we.sibling}if(!X)throw Error(r(189))}}if(m.alternate!==_)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?o:u}function $e(o){return o=Be(o),o!==null?qe(o):null}function qe(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var u=qe(o);if(u!==null)return u;o=o.sibling}return null}var ct=t.unstable_scheduleCallback,bt=t.unstable_cancelCallback,Nt=t.unstable_shouldYield,gt=t.unstable_requestPaint,pt=t.unstable_now,ar=t.unstable_getCurrentPriorityLevel,Pr=t.unstable_ImmediatePriority,wr=t.unstable_UserBlockingPriority,dn=t.unstable_NormalPriority,bs=t.unstable_LowPriority,ii=t.unstable_IdlePriority,Oi=null,an=null;function _s(o){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(Oi,o,void 0,(o.current.flags&128)===128)}catch{}}var Ar=Math.clz32?Math.clz32:Gr,yl=Math.log,Sn=Math.LN2;function Gr(o){return o>>>=0,o===0?32:31-(yl(o)/Sn|0)|0}var Us=64,vi=4194304;function ys(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function $s(o,u){var m=o.pendingLanes;if(m===0)return 0;var _=0,k=o.suspendedLanes,L=o.pingedLanes,X=m&268435455;if(X!==0){var we=X&~k;we!==0?_=ys(we):(L&=X,L!==0&&(_=ys(L)))}else X=m&~k,X!==0?_=ys(X):L!==0&&(_=ys(L));if(_===0)return 0;if(u!==0&&u!==_&&!(u&k)&&(k=_&-_,L=u&-u,k>=L||k===16&&(L&4194240)!==0))return u;if(_&4&&(_|=m&16),u=o.entangledLanes,u!==0)for(o=o.entanglements,u&=_;0<u;)m=31-Ar(u),k=1<<m,_|=o[m],u&=~k;return _}function Ii(o,u){switch(o){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function la(o,u){for(var m=o.suspendedLanes,_=o.pingedLanes,k=o.expirationTimes,L=o.pendingLanes;0<L;){var X=31-Ar(L),we=1<<X,Ae=k[X];Ae===-1?(!(we&m)||we&_)&&(k[X]=Ii(we,u)):Ae<=u&&(o.expiredLanes|=we),L&=~we}}function aa(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function zs(){var o=Us;return Us<<=1,!(Us&4194240)&&(Us=64),o}function wl(o){for(var u=[],m=0;31>m;m++)u.push(o);return u}function Vo(o,u,m){o.pendingLanes|=u,u!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,u=31-Ar(u),o[u]=m}function ws(o,u){var m=o.pendingLanes&~u;o.pendingLanes=u,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=u,o.mutableReadLanes&=u,o.entangledLanes&=u,u=o.entanglements;var _=o.eventTimes;for(o=o.expirationTimes;0<m;){var k=31-Ar(m),L=1<<k;u[k]=0,_[k]=-1,o[k]=-1,m&=~L}}function ac(o,u){var m=o.entangledLanes|=u;for(o=o.entanglements;m;){var _=31-Ar(m),k=1<<_;k&u|o[_]&u&&(o[_]|=u),m&=~k}}var zr=0;function is(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var fo,Sl,Bn,ss,po,Go=!1,ja=[],Ss=null,si=null,oi=null,qs=new Map,tr=new Map,qa=[],ic="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function sc(o,u){switch(o){case"focusin":case"focusout":Ss=null;break;case"dragenter":case"dragleave":si=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":qs.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":tr.delete(u.pointerId)}}function Di(o,u,m,_,k,L){return o===null||o.nativeEvent!==L?(o={blockedOn:u,domEventName:m,eventSystemFlags:_,nativeEvent:L,targetContainers:[k]},u!==null&&(u=xc(u),u!==null&&Sl(u)),o):(o.eventSystemFlags|=_,u=o.targetContainers,k!==null&&u.indexOf(k)===-1&&u.push(k),o)}function ca(o,u,m,_,k){switch(u){case"focusin":return Ss=Di(Ss,o,u,m,_,k),!0;case"dragenter":return si=Di(si,o,u,m,_,k),!0;case"mouseover":return oi=Di(oi,o,u,m,_,k),!0;case"pointerover":var L=k.pointerId;return qs.set(L,Di(qs.get(L)||null,o,u,m,_,k)),!0;case"gotpointercapture":return L=k.pointerId,tr.set(L,Di(tr.get(L)||null,o,u,m,_,k)),!0}return!1}function Hs(o){var u=ol(o.target);if(u!==null){var m=xe(u);if(m!==null){if(u=m.tag,u===13){if(u=Ue(m),u!==null){o.blockedOn=u,po(o.priority,function(){Bn(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function mo(o){if(o.blockedOn!==null)return!1;for(var u=o.targetContainers;0<u.length;){var m=xo(o.domEventName,o.eventSystemFlags,u[0],o.nativeEvent);if(m===null){m=o.nativeEvent;var _=new m.constructor(m.type,m);Or=_,m.target.dispatchEvent(_),Or=null}else return u=xc(m),u!==null&&Sl(u),o.blockedOn=m,!1;u.shift()}return!0}function go(o,u,m){mo(o)&&m.delete(u)}function Ko(){Go=!1,Ss!==null&&mo(Ss)&&(Ss=null),si!==null&&mo(si)&&(si=null),oi!==null&&mo(oi)&&(oi=null),qs.forEach(go),tr.forEach(go)}function Ns(o,u){o.blockedOn===u&&(o.blockedOn=null,Go||(Go=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Ko)))}function Nn(o){function u(k){return Ns(k,o)}if(0<ja.length){Ns(ja[0],o);for(var m=1;m<ja.length;m++){var _=ja[m];_.blockedOn===o&&(_.blockedOn=null)}}for(Ss!==null&&Ns(Ss,o),si!==null&&Ns(si,o),oi!==null&&Ns(oi,o),qs.forEach(u),tr.forEach(u),m=0;m<qa.length;m++)_=qa[m],_.blockedOn===o&&(_.blockedOn=null);for(;0<qa.length&&(m=qa[0],m.blockedOn===null);)Hs(m),m.blockedOn===null&&qa.shift()}var Mn=R.ReactCurrentBatchConfig,Yo=!0;function Uc(o,u,m,_){var k=zr,L=Mn.transition;Mn.transition=null;try{zr=1,Bi(o,u,m,_)}finally{zr=k,Mn.transition=L}}function Ea(o,u,m,_){var k=zr,L=Mn.transition;Mn.transition=null;try{zr=4,Bi(o,u,m,_)}finally{zr=k,Mn.transition=L}}function Bi(o,u,m,_){if(Yo){var k=xo(o,u,m,_);if(k===null)Fl(o,u,_,li,m),sc(o,_);else if(ca(k,o,u,m,_))_.stopPropagation();else if(sc(o,_),u&4&&-1<ic.indexOf(o)){for(;k!==null;){var L=xc(k);if(L!==null&&fo(L),L=xo(o,u,m,_),L===null&&Fl(o,u,_,li,m),L===k)break;k=L}k!==null&&_.stopPropagation()}else Fl(o,u,_,null,m)}}var li=null;function xo(o,u,m,_){if(li=null,o=Wt(_),o=ol(o),o!==null)if(u=xe(o),u===null)o=null;else if(m=u.tag,m===13){if(o=Ue(u),o!==null)return o;o=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;o=null}else u!==o&&(o=null);return li=o,null}function Xo(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ar()){case Pr:return 1;case wr:return 4;case dn:case bs:return 16;case ii:return 536870912;default:return 16}default:return 16}}var os=null,ua=null,Mi=null;function Nl(){if(Mi)return Mi;var o,u=ua,m=u.length,_,k="value"in os?os.value:os.textContent,L=k.length;for(o=0;o<m&&u[o]===k[o];o++);var X=m-o;for(_=1;_<=X&&u[m-_]===k[L-_];_++);return Mi=k.slice(o,1<_?1-_:void 0)}function Jo(o){var u=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&u===13&&(o=13)):o=u,o===10&&(o=13),32<=o||o===13?o:0}function ci(){return!0}function js(){return!1}function ka(o){function u(m,_,k,L,X){this._reactName=m,this._targetInst=k,this.type=_,this.nativeEvent=L,this.target=X,this.currentTarget=null;for(var we in o)o.hasOwnProperty(we)&&(m=o[we],this[we]=m?m(L):L[we]);return this.isDefaultPrevented=(L.defaultPrevented!=null?L.defaultPrevented:L.returnValue===!1)?ci:js,this.isPropagationStopped=js,this}return je(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),u}var bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},jl=ka(bi),E=je({},bi,{view:0,detail:0}),z=ka(E),de,Ne,Oe,et=je({},E,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ha,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Oe&&(Oe&&o.type==="mousemove"?(de=o.screenX-Oe.screenX,Ne=o.screenY-Oe.screenY):Ne=de=0,Oe=o),de)},movementY:function(o){return"movementY"in o?o.movementY:Ne}}),it=ka(et),Rt=je({},et,{dataTransfer:0}),Bt=ka(Rt),rr=je({},E,{relatedTarget:0}),mr=ka(rr),Sr=je({},bi,{animationName:0,elapsedTime:0,pseudoElement:0}),hn=ka(Sr),Jn=je({},bi,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),bn=ka(Jn),yr=je({},bi,{data:0}),Kr=ka(yr),da={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ws={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vo(o){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(o):(o=_i[o])?!!u[o]:!1}function Ha(){return vo}var Vs=je({},E,{key:function(o){if(o.key){var u=da[o.key]||o.key;if(u!=="Unidentified")return u}return o.type==="keypress"?(o=Jo(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Ws[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ha,charCode:function(o){return o.type==="keypress"?Jo(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Jo(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),bo=ka(Vs),El=je({},et,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wn=ka(El),ui=je({},E,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ha}),ha=ka(ui),Zo=je({},bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Gs=ka(Zo),oc=je({},et,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),lc=ka(oc),Aa=[9,13,27,32],va=c&&"CompositionEvent"in window,Ks=null;c&&"documentMode"in document&&(Ks=document.documentMode);var ir=c&&"TextEvent"in window&&!Ks,Vn=c&&(!va||Ks&&8<Ks&&11>=Ks),_o=" ",kl=!1;function Al(o,u){switch(o){case"keyup":return Aa.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function yo(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var fa=!1;function di(o,u){switch(o){case"compositionend":return yo(u);case"keypress":return u.which!==32?null:(kl=!0,_o);case"textInput":return o=u.data,o===_o&&kl?null:o;default:return null}}function Wa(o,u){if(fa)return o==="compositionend"||!va&&Al(o,u)?(o=Nl(),Mi=ua=os=null,fa=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Vn&&u.locale!=="ko"?null:u.data;default:return null}}var Qo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Es(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u==="input"?!!Qo[o.type]:u==="textarea"}function ks(o,u,m,_){Rr(_),u=xu(u,"onChange"),0<u.length&&(m=new jl("onChange","change",null,m,_),o.push({event:m,listeners:u}))}var Ys=null,As=null;function Un(o){mc(o,0)}function Cl(o){var u=Js(o);if(at(u))return o}function Cs(o,u){if(o==="change")return u}var Ts=!1;if(c){var wo;if(c){var Tl="oninput"in document;if(!Tl){var cc=document.createElement("div");cc.setAttribute("oninput","return;"),Tl=typeof cc.oninput=="function"}wo=Tl}else wo=!1;Ts=wo&&(!document.documentMode||9<document.documentMode)}function Pl(){Ys&&(Ys.detachEvent("onpropertychange",Ca),As=Ys=null)}function Ca(o){if(o.propertyName==="value"&&Cl(As)){var u=[];ks(u,As,o,Wt(o)),Gt(Un,u)}}function So(o,u,m){o==="focusin"?(Pl(),Ys=u,As=m,Ys.attachEvent("onpropertychange",Ca)):o==="focusout"&&Pl()}function el(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Cl(As)}function tl(o,u){if(o==="click")return Cl(u)}function Zr(o,u){if(o==="input"||o==="change")return Cl(u)}function Ui(o,u){return o===u&&(o!==0||1/o===1/u)||o!==o&&u!==u}var Fn=typeof Object.is=="function"?Object.is:Ui;function hi(o,u){if(Fn(o,u))return!0;if(typeof o!="object"||o===null||typeof u!="object"||u===null)return!1;var m=Object.keys(o),_=Object.keys(u);if(m.length!==_.length)return!1;for(_=0;_<m.length;_++){var k=m[_];if(!d.call(u,k)||!Fn(o[k],u[k]))return!1}return!0}function qr(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Cr(o,u){var m=qr(o);o=0;for(var _;m;){if(m.nodeType===3){if(_=o+m.textContent.length,o<=u&&_>=u)return{node:m,offset:u-o};o=_}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=qr(m)}}function sn(o,u){return o&&u?o===u?!0:o&&o.nodeType===3?!1:u&&u.nodeType===3?sn(o,u.parentNode):"contains"in o?o.contains(u):o.compareDocumentPosition?!!(o.compareDocumentPosition(u)&16):!1:!1}function Yr(){for(var o=window,u=st();u instanceof o.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)o=u.contentWindow;else break;u=st(o.document)}return u}function $i(o){var u=o&&o.nodeName&&o.nodeName.toLowerCase();return u&&(u==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||u==="textarea"||o.contentEditable==="true")}function uc(o){var u=Yr(),m=o.focusedElem,_=o.selectionRange;if(u!==m&&m&&m.ownerDocument&&sn(m.ownerDocument.documentElement,m)){if(_!==null&&$i(m)){if(u=_.start,o=_.end,o===void 0&&(o=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(o,m.value.length);else if(o=(u=m.ownerDocument||document)&&u.defaultView||window,o.getSelection){o=o.getSelection();var k=m.textContent.length,L=Math.min(_.start,k);_=_.end===void 0?L:Math.min(_.end,k),!o.extend&&L>_&&(k=_,_=L,L=k),k=Cr(m,L);var X=Cr(m,_);k&&X&&(o.rangeCount!==1||o.anchorNode!==k.node||o.anchorOffset!==k.offset||o.focusNode!==X.node||o.focusOffset!==X.offset)&&(u=u.createRange(),u.setStart(k.node,k.offset),o.removeAllRanges(),L>_?(o.addRange(u),o.extend(X.node,X.offset)):(u.setEnd(X.node,X.offset),o.addRange(u)))}}for(u=[],o=m;o=o.parentNode;)o.nodeType===1&&u.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)o=u[m],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var rl=c&&"documentMode"in document&&11>=document.documentMode,ba=null,$c=null,zi=null,mu=!1;function dc(o,u,m){var _=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;mu||ba==null||ba!==st(_)||(_=ba,"selectionStart"in _&&$i(_)?_={start:_.selectionStart,end:_.selectionEnd}:(_=(_.ownerDocument&&_.ownerDocument.defaultView||window).getSelection(),_={anchorNode:_.anchorNode,anchorOffset:_.anchorOffset,focusNode:_.focusNode,focusOffset:_.focusOffset}),zi&&hi(zi,_)||(zi=_,_=xu($c,"onSelect"),0<_.length&&(u=new jl("onSelect","select",null,u,m),o.push({event:u,listeners:_}),u.target=ba)))}function yi(o,u){var m={};return m[o.toLowerCase()]=u.toLowerCase(),m["Webkit"+o]="webkit"+u,m["Moz"+o]="moz"+u,m}var nl={animationend:yi("Animation","AnimationEnd"),animationiteration:yi("Animation","AnimationIteration"),animationstart:yi("Animation","AnimationStart"),transitionend:yi("Transition","TransitionEnd")},al={},Ll={};c&&(Ll=document.createElement("div").style,"AnimationEvent"in window||(delete nl.animationend.animation,delete nl.animationiteration.animation,delete nl.animationstart.animation),"TransitionEvent"in window||delete nl.transitionend.transition);function hc(o){if(al[o])return al[o];if(!nl[o])return o;var u=nl[o],m;for(m in u)if(u.hasOwnProperty(m)&&m in Ll)return al[o]=u[m];return o}var gu=hc("animationend"),fc=hc("animationiteration"),nd=hc("animationstart"),ad=hc("transitionend"),zc=new Map,id="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(o,u){zc.set(o,u),i(u,[o])}for(var No=0;No<id.length;No++){var Va=id[No],qi=Va.toLowerCase(),qc=Va[0].toUpperCase()+Va.slice(1);wi(qi,"on"+qc)}wi(gu,"onAnimationEnd"),wi(fc,"onAnimationIteration"),wi(nd,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(ad,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ga="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hc=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ga));function pc(o,u,m){var _=o.type||"unknown-event";o.currentTarget=m,me(_,u,void 0,o),o.currentTarget=null}function mc(o,u){u=(u&4)!==0;for(var m=0;m<o.length;m++){var _=o[m],k=_.event;_=_.listeners;e:{var L=void 0;if(u)for(var X=_.length-1;0<=X;X--){var we=_[X],Ae=we.instance,Ke=we.currentTarget;if(we=we.listener,Ae!==L&&k.isPropagationStopped())break e;pc(k,we,Ke),L=Ae}else for(X=0;X<_.length;X++){if(we=_[X],Ae=we.instance,Ke=we.currentTarget,we=we.listener,Ae!==L&&k.isPropagationStopped())break e;pc(k,we,Ke),L=Ae}}}if(Y)throw o=ue,Y=!1,ue=null,o}function fn(o,u){var m=u[Ta];m===void 0&&(m=u[Ta]=new Set);var _=o+"__bubble";m.has(_)||(Rl(u,o,2,!1),m.add(_))}function gc(o,u,m){var _=0;u&&(_|=4),Rl(m,o,_,u)}var jo="_reactListening"+Math.random().toString(36).slice(2);function il(o){if(!o[jo]){o[jo]=!0,n.forEach(function(m){m!=="selectionchange"&&(Hc.has(m)||gc(m,!1,o),gc(m,!0,o))});var u=o.nodeType===9?o:o.ownerDocument;u===null||u[jo]||(u[jo]=!0,gc("selectionchange",!1,u))}}function Rl(o,u,m,_){switch(Xo(u)){case 1:var k=Uc;break;case 4:k=Ea;break;default:k=Bi}m=k.bind(null,u,m,o),k=void 0,!za||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(k=!0),_?k!==void 0?o.addEventListener(u,m,{capture:!0,passive:k}):o.addEventListener(u,m,!0):k!==void 0?o.addEventListener(u,m,{passive:k}):o.addEventListener(u,m,!1)}function Fl(o,u,m,_,k){var L=_;if(!(u&1)&&!(u&2)&&_!==null)e:for(;;){if(_===null)return;var X=_.tag;if(X===3||X===4){var we=_.stateNode.containerInfo;if(we===k||we.nodeType===8&&we.parentNode===k)break;if(X===4)for(X=_.return;X!==null;){var Ae=X.tag;if((Ae===3||Ae===4)&&(Ae=X.stateNode.containerInfo,Ae===k||Ae.nodeType===8&&Ae.parentNode===k))return;X=X.return}for(;we!==null;){if(X=ol(we),X===null)return;if(Ae=X.tag,Ae===5||Ae===6){_=L=X;continue e}we=we.parentNode}}_=_.return}Gt(function(){var Ke=L,mt=Wt(m),vt=[];e:{var ht=zc.get(o);if(ht!==void 0){var Tt=jl,Mt=o;switch(o){case"keypress":if(Jo(m)===0)break e;case"keydown":case"keyup":Tt=bo;break;case"focusin":Mt="focus",Tt=mr;break;case"focusout":Mt="blur",Tt=mr;break;case"beforeblur":case"afterblur":Tt=mr;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Tt=it;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Tt=Bt;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Tt=ha;break;case gu:case fc:case nd:Tt=hn;break;case ad:Tt=Gs;break;case"scroll":Tt=z;break;case"wheel":Tt=lc;break;case"copy":case"cut":case"paste":Tt=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Tt=Wn}var Ht=(u&4)!==0,Da=!Ht&&o==="scroll",ze=Ht?ht!==null?ht+"Capture":null:ht;Ht=[];for(var Re=Ke,He;Re!==null;){He=Re;var _t=He.stateNode;if(He.tag===5&&_t!==null&&(He=_t,ze!==null&&(_t=$a(Re,ze),_t!=null&&Ht.push(Ol(Re,_t,He)))),Da)break;Re=Re.return}0<Ht.length&&(ht=new Tt(ht,Mt,null,m,mt),vt.push({event:ht,listeners:Ht}))}}if(!(u&7)){e:{if(ht=o==="mouseover"||o==="pointerover",Tt=o==="mouseout"||o==="pointerout",ht&&m!==Or&&(Mt=m.relatedTarget||m.fromElement)&&(ol(Mt)||Mt[Ka]))break e;if((Tt||ht)&&(ht=mt.window===mt?mt:(ht=mt.ownerDocument)?ht.defaultView||ht.parentWindow:window,Tt?(Mt=m.relatedTarget||m.toElement,Tt=Ke,Mt=Mt?ol(Mt):null,Mt!==null&&(Da=xe(Mt),Mt!==Da||Mt.tag!==5&&Mt.tag!==6)&&(Mt=null)):(Tt=null,Mt=Ke),Tt!==Mt)){if(Ht=it,_t="onMouseLeave",ze="onMouseEnter",Re="mouse",(o==="pointerout"||o==="pointerover")&&(Ht=Wn,_t="onPointerLeave",ze="onPointerEnter",Re="pointer"),Da=Tt==null?ht:Js(Tt),He=Mt==null?ht:Js(Mt),ht=new Ht(_t,Re+"leave",Tt,m,mt),ht.target=Da,ht.relatedTarget=He,_t=null,ol(mt)===Ke&&(Ht=new Ht(ze,Re+"enter",Mt,m,mt),Ht.target=He,Ht.relatedTarget=Da,_t=Ht),Da=_t,Tt&&Mt)t:{for(Ht=Tt,ze=Mt,Re=0,He=Ht;He;He=$n(He))Re++;for(He=0,_t=ze;_t;_t=$n(_t))He++;for(;0<Re-He;)Ht=$n(Ht),Re--;for(;0<He-Re;)ze=$n(ze),He--;for(;Re--;){if(Ht===ze||ze!==null&&Ht===ze.alternate)break t;Ht=$n(Ht),ze=$n(ze)}Ht=null}else Ht=null;Tt!==null&&Il(vt,ht,Tt,Ht,!1),Mt!==null&&Da!==null&&Il(vt,Da,Mt,Ht,!0)}}e:{if(ht=Ke?Js(Ke):window,Tt=ht.nodeName&&ht.nodeName.toLowerCase(),Tt==="select"||Tt==="input"&&ht.type==="file")var Vt=Cs;else if(Es(ht))if(Ts)Vt=Zr;else{Vt=el;var sr=So}else(Tt=ht.nodeName)&&Tt.toLowerCase()==="input"&&(ht.type==="checkbox"||ht.type==="radio")&&(Vt=tl);if(Vt&&(Vt=Vt(o,Ke))){ks(vt,Vt,m,mt);break e}sr&&sr(o,ht,Ke),o==="focusout"&&(sr=ht._wrapperState)&&sr.controlled&&ht.type==="number"&&Je(ht,"number",ht.value)}switch(sr=Ke?Js(Ke):window,o){case"focusin":(Es(sr)||sr.contentEditable==="true")&&(ba=sr,$c=Ke,zi=null);break;case"focusout":zi=$c=ba=null;break;case"mousedown":mu=!0;break;case"contextmenu":case"mouseup":case"dragend":mu=!1,dc(vt,m,mt);break;case"selectionchange":if(rl)break;case"keydown":case"keyup":dc(vt,m,mt)}var or;if(va)e:{switch(o){case"compositionstart":var br="onCompositionStart";break e;case"compositionend":br="onCompositionEnd";break e;case"compositionupdate":br="onCompositionUpdate";break e}br=void 0}else fa?Al(o,m)&&(br="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(br="onCompositionStart");br&&(Vn&&m.locale!=="ko"&&(fa||br!=="onCompositionStart"?br==="onCompositionEnd"&&fa&&(or=Nl()):(os=mt,ua="value"in os?os.value:os.textContent,fa=!0)),sr=xu(Ke,br),0<sr.length&&(br=new Kr(br,o,null,m,mt),vt.push({event:br,listeners:sr}),or?br.data=or:(or=yo(m),or!==null&&(br.data=or)))),(or=ir?di(o,m):Wa(o,m))&&(Ke=xu(Ke,"onBeforeInput"),0<Ke.length&&(mt=new Kr("onBeforeInput","beforeinput",null,m,mt),vt.push({event:mt,listeners:Ke}),mt.data=or))}mc(vt,u)})}function Ol(o,u,m){return{instance:o,listener:u,currentTarget:m}}function xu(o,u){for(var m=u+"Capture",_=[];o!==null;){var k=o,L=k.stateNode;k.tag===5&&L!==null&&(k=L,L=$a(o,m),L!=null&&_.unshift(Ol(o,L,k)),L=$a(o,u),L!=null&&_.push(Ol(o,L,k))),o=o.return}return _}function $n(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function Il(o,u,m,_,k){for(var L=u._reactName,X=[];m!==null&&m!==_;){var we=m,Ae=we.alternate,Ke=we.stateNode;if(Ae!==null&&Ae===_)break;we.tag===5&&Ke!==null&&(we=Ke,k?(Ae=$a(m,L),Ae!=null&&X.unshift(Ol(m,Ae,we))):k||(Ae=$a(m,L),Ae!=null&&X.push(Ol(m,Ae,we)))),m=m.return}X.length!==0&&o.push({event:u,listeners:X})}var Wc=/\r\n?/g,Jh=/\u0000|\uFFFD/g;function Zh(o){return(typeof o=="string"?o:""+o).replace(Wc,`
`).replace(Jh,"")}function Vc(o,u,m){if(u=Zh(u),Zh(o)!==u&&m)throw Error(r(425))}function Lr(){}var sl=null,ls=null;function sd(o,u){return o==="textarea"||o==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var Ps=typeof setTimeout=="function"?setTimeout:void 0,Kd=typeof clearTimeout=="function"?clearTimeout:void 0,nt=typeof Promise=="function"?Promise:void 0,Jt=typeof queueMicrotask=="function"?queueMicrotask:typeof nt<"u"?function(o){return nt.resolve(null).then(o).catch(od)}:Ps;function od(o){setTimeout(function(){throw o})}function vu(o,u){var m=u,_=0;do{var k=m.nextSibling;if(o.removeChild(m),k&&k.nodeType===8)if(m=k.data,m==="/$"){if(_===0){o.removeChild(k),Nn(u);return}_--}else m!=="$"&&m!=="$?"&&m!=="$!"||_++;m=k}while(m);Nn(u)}function On(o){for(;o!=null;o=o.nextSibling){var u=o.nodeType;if(u===1||u===3)break;if(u===8){if(u=o.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return o}function Si(o){o=o.previousSibling;for(var u=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return o;u--}else m==="/$"&&u++}o=o.previousSibling}return null}var Ni=Math.random().toString(36).slice(2),Xs="__reactFiber$"+Ni,Dl="__reactProps$"+Ni,Ka="__reactContainer$"+Ni,Ta="__reactEvents$"+Ni,Gc="__reactListeners$"+Ni,Qh="__reactHandles$"+Ni;function ol(o){var u=o[Xs];if(u)return u;for(var m=o.parentNode;m;){if(u=m[Ka]||m[Xs]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(o=Si(o);o!==null;){if(m=o[Xs])return m;o=Si(o)}return u}o=m,m=o.parentNode}return null}function xc(o){return o=o[Xs]||o[Ka],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function Js(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(r(33))}function Bl(o){return o[Dl]||null}var bu=[],Eo=-1;function cs(o){return{current:o}}function Qr(o){0>Eo||(o.current=bu[Eo],bu[Eo]=null,Eo--)}function on(o,u){Eo++,bu[Eo]=o.current,o.current=u}var ko={},Pa=cs(ko),pa=cs(!1),ll=ko;function vc(o,u){var m=o.type.contextTypes;if(!m)return ko;var _=o.stateNode;if(_&&_.__reactInternalMemoizedUnmaskedChildContext===u)return _.__reactInternalMemoizedMaskedChildContext;var k={},L;for(L in m)k[L]=u[L];return _&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=u,o.__reactInternalMemoizedMaskedChildContext=k),k}function Xr(o){return o=o.childContextTypes,o!=null}function Zs(){Qr(pa),Qr(Pa)}function _u(o,u,m){if(Pa.current!==ko)throw Error(r(168));on(Pa,u),on(pa,m)}function Yd(o,u,m){var _=o.stateNode;if(u=u.childContextTypes,typeof _.getChildContext!="function")return m;_=_.getChildContext();for(var k in _)if(!(k in u))throw Error(r(108,pe(o)||"Unknown",k));return je({},m,_)}function Kc(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||ko,ll=Pa.current,on(Pa,o),on(pa,pa.current),!0}function cl(o,u,m){var _=o.stateNode;if(!_)throw Error(r(169));m?(o=Yd(o,u,ll),_.__reactInternalMemoizedMergedChildContext=o,Qr(pa),Qr(Pa),on(Pa,o)):Qr(pa),on(pa,m)}var Qs=null,yu=!1,eo=!1;function x(o){Qs===null?Qs=[o]:Qs.push(o)}function w(o){yu=!0,x(o)}function C(){if(!eo&&Qs!==null){eo=!0;var o=0,u=zr;try{var m=Qs;for(zr=1;o<m.length;o++){var _=m[o];do _=_(!0);while(_!==null)}Qs=null,yu=!1}catch(k){throw Qs!==null&&(Qs=Qs.slice(o+1)),ct(Pr,C),k}finally{zr=u,eo=!1}}return null}var F=[],V=0,J=null,ee=0,ne=[],ie=0,he=null,ke=1,Me="";function fe(o,u){F[V++]=ee,F[V++]=J,J=o,ee=u}function Ce(o,u,m){ne[ie++]=ke,ne[ie++]=Me,ne[ie++]=he,he=o;var _=ke;o=Me;var k=32-Ar(_)-1;_&=~(1<<k),m+=1;var L=32-Ar(u)+k;if(30<L){var X=k-k%5;L=(_&(1<<X)-1).toString(32),_>>=X,k-=X,ke=1<<32-Ar(u)+k|m<<k|_,Me=L+o}else ke=1<<L|m<<k|_,Me=o}function Ie(o){o.return!==null&&(fe(o,1),Ce(o,1,0))}function Qe(o){for(;o===J;)J=F[--V],F[V]=null,ee=F[--V],F[V]=null;for(;o===he;)he=ne[--ie],ne[ie]=null,Me=ne[--ie],ne[ie]=null,ke=ne[--ie],ne[ie]=null}var De=null,Xe=null,Ge=!1,ot=null;function lt(o,u){var m=pl(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=o,u=o.deletions,u===null?(o.deletions=[m],o.flags|=16):u.push(m)}function zt(o,u){switch(o.tag){case 5:var m=o.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(o.stateNode=u,De=o,Xe=On(u.firstChild),!0):!1;case 6:return u=o.pendingProps===""||u.nodeType!==3?null:u,u!==null?(o.stateNode=u,De=o,Xe=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=he!==null?{id:ke,overflow:Me}:null,o.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=pl(18,null,null,0),m.stateNode=u,m.return=o,o.child=m,De=o,Xe=null,!0):!1;default:return!1}}function yt(o){return(o.mode&1)!==0&&(o.flags&128)===0}function vr(o){if(Ge){var u=Xe;if(u){var m=u;if(!zt(o,u)){if(yt(o))throw Error(r(418));u=On(m.nextSibling);var _=De;u&&zt(o,u)?lt(_,m):(o.flags=o.flags&-4097|2,Ge=!1,De=o)}}else{if(yt(o))throw Error(r(418));o.flags=o.flags&-4097|2,Ge=!1,De=o}}}function It(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;De=o}function Tr(o){if(o!==De)return!1;if(!Ge)return It(o),Ge=!0,!1;var u;if((u=o.tag!==3)&&!(u=o.tag!==5)&&(u=o.type,u=u!=="head"&&u!=="body"&&!sd(o.type,o.memoizedProps)),u&&(u=Xe)){if(yt(o))throw ia(),Error(r(418));for(;u;)lt(o,u),u=On(u.nextSibling)}if(It(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));e:{for(o=o.nextSibling,u=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"){if(u===0){Xe=On(o.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}o=o.nextSibling}Xe=null}}else Xe=De?On(o.stateNode.nextSibling):null;return!0}function ia(){for(var o=Xe;o;)o=On(o.nextSibling)}function lr(){Xe=De=null,Ge=!1}function Ot(o){ot===null?ot=[o]:ot.push(o)}var jt=R.ReactCurrentBatchConfig;function jn(o,u,m){if(o=m.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var _=m.stateNode}if(!_)throw Error(r(147,o));var k=_,L=""+o;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===L?u.ref:(u=function(X){var we=k.refs;X===null?delete we[L]:we[L]=X},u._stringRef=L,u)}if(typeof o!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,o))}return o}function cr(o,u){throw o=Object.prototype.toString.call(u),Error(r(31,o==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":o))}function Dr(o){var u=o._init;return u(o._payload)}function _n(o){function u(ze,Re){if(o){var He=ze.deletions;He===null?(ze.deletions=[Re],ze.flags|=16):He.push(Re)}}function m(ze,Re){if(!o)return null;for(;Re!==null;)u(ze,Re),Re=Re.sibling;return null}function _(ze,Re){for(ze=new Map;Re!==null;)Re.key!==null?ze.set(Re.key,Re):ze.set(Re.index,Re),Re=Re.sibling;return ze}function k(ze,Re){return ze=Ru(ze,Re),ze.index=0,ze.sibling=null,ze}function L(ze,Re,He){return ze.index=He,o?(He=ze.alternate,He!==null?(He=He.index,He<Re?(ze.flags|=2,Re):He):(ze.flags|=2,Re)):(ze.flags|=1048576,Re)}function X(ze){return o&&ze.alternate===null&&(ze.flags|=2),ze}function we(ze,Re,He,_t){return Re===null||Re.tag!==6?(Re=Mm(He,ze.mode,_t),Re.return=ze,Re):(Re=k(Re,He),Re.return=ze,Re)}function Ae(ze,Re,He,_t){var Vt=He.type;return Vt===G?mt(ze,Re,He.props.children,_t,He.key):Re!==null&&(Re.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===Le&&Dr(Vt)===Re.type)?(_t=k(Re,He.props),_t.ref=jn(ze,Re,He),_t.return=ze,_t):(_t=Rf(He.type,He.key,He.props,null,ze.mode,_t),_t.ref=jn(ze,Re,He),_t.return=ze,_t)}function Ke(ze,Re,He,_t){return Re===null||Re.tag!==4||Re.stateNode.containerInfo!==He.containerInfo||Re.stateNode.implementation!==He.implementation?(Re=Um(He,ze.mode,_t),Re.return=ze,Re):(Re=k(Re,He.children||[]),Re.return=ze,Re)}function mt(ze,Re,He,_t,Vt){return Re===null||Re.tag!==7?(Re=gd(He,ze.mode,_t,Vt),Re.return=ze,Re):(Re=k(Re,He),Re.return=ze,Re)}function vt(ze,Re,He){if(typeof Re=="string"&&Re!==""||typeof Re=="number")return Re=Mm(""+Re,ze.mode,He),Re.return=ze,Re;if(typeof Re=="object"&&Re!==null){switch(Re.$$typeof){case q:return He=Rf(Re.type,Re.key,Re.props,null,ze.mode,He),He.ref=jn(ze,null,Re),He.return=ze,He;case te:return Re=Um(Re,ze.mode,He),Re.return=ze,Re;case Le:var _t=Re._init;return vt(ze,_t(Re._payload),He)}if(kt(Re)||ye(Re))return Re=gd(Re,ze.mode,He,null),Re.return=ze,Re;cr(ze,Re)}return null}function ht(ze,Re,He,_t){var Vt=Re!==null?Re.key:null;if(typeof He=="string"&&He!==""||typeof He=="number")return Vt!==null?null:we(ze,Re,""+He,_t);if(typeof He=="object"&&He!==null){switch(He.$$typeof){case q:return He.key===Vt?Ae(ze,Re,He,_t):null;case te:return He.key===Vt?Ke(ze,Re,He,_t):null;case Le:return Vt=He._init,ht(ze,Re,Vt(He._payload),_t)}if(kt(He)||ye(He))return Vt!==null?null:mt(ze,Re,He,_t,null);cr(ze,He)}return null}function Tt(ze,Re,He,_t,Vt){if(typeof _t=="string"&&_t!==""||typeof _t=="number")return ze=ze.get(He)||null,we(Re,ze,""+_t,Vt);if(typeof _t=="object"&&_t!==null){switch(_t.$$typeof){case q:return ze=ze.get(_t.key===null?He:_t.key)||null,Ae(Re,ze,_t,Vt);case te:return ze=ze.get(_t.key===null?He:_t.key)||null,Ke(Re,ze,_t,Vt);case Le:var sr=_t._init;return Tt(ze,Re,He,sr(_t._payload),Vt)}if(kt(_t)||ye(_t))return ze=ze.get(He)||null,mt(Re,ze,_t,Vt,null);cr(Re,_t)}return null}function Mt(ze,Re,He,_t){for(var Vt=null,sr=null,or=Re,br=Re=0,Ai=null;or!==null&&br<He.length;br++){or.index>br?(Ai=or,or=null):Ai=or.sibling;var cn=ht(ze,or,He[br],_t);if(cn===null){or===null&&(or=Ai);break}o&&or&&cn.alternate===null&&u(ze,or),Re=L(cn,Re,br),sr===null?Vt=cn:sr.sibling=cn,sr=cn,or=Ai}if(br===He.length)return m(ze,or),Ge&&fe(ze,br),Vt;if(or===null){for(;br<He.length;br++)or=vt(ze,He[br],_t),or!==null&&(Re=L(or,Re,br),sr===null?Vt=or:sr.sibling=or,sr=or);return Ge&&fe(ze,br),Vt}for(or=_(ze,or);br<He.length;br++)Ai=Tt(or,ze,br,He[br],_t),Ai!==null&&(o&&Ai.alternate!==null&&or.delete(Ai.key===null?br:Ai.key),Re=L(Ai,Re,br),sr===null?Vt=Ai:sr.sibling=Ai,sr=Ai);return o&&or.forEach(function(Fu){return u(ze,Fu)}),Ge&&fe(ze,br),Vt}function Ht(ze,Re,He,_t){var Vt=ye(He);if(typeof Vt!="function")throw Error(r(150));if(He=Vt.call(He),He==null)throw Error(r(151));for(var sr=Vt=null,or=Re,br=Re=0,Ai=null,cn=He.next();or!==null&&!cn.done;br++,cn=He.next()){or.index>br?(Ai=or,or=null):Ai=or.sibling;var Fu=ht(ze,or,cn.value,_t);if(Fu===null){or===null&&(or=Ai);break}o&&or&&Fu.alternate===null&&u(ze,or),Re=L(Fu,Re,br),sr===null?Vt=Fu:sr.sibling=Fu,sr=Fu,or=Ai}if(cn.done)return m(ze,or),Ge&&fe(ze,br),Vt;if(or===null){for(;!cn.done;br++,cn=He.next())cn=vt(ze,cn.value,_t),cn!==null&&(Re=L(cn,Re,br),sr===null?Vt=cn:sr.sibling=cn,sr=cn);return Ge&&fe(ze,br),Vt}for(or=_(ze,or);!cn.done;br++,cn=He.next())cn=Tt(or,ze,br,cn.value,_t),cn!==null&&(o&&cn.alternate!==null&&or.delete(cn.key===null?br:cn.key),Re=L(cn,Re,br),sr===null?Vt=cn:sr.sibling=cn,sr=cn);return o&&or.forEach(function(H3){return u(ze,H3)}),Ge&&fe(ze,br),Vt}function Da(ze,Re,He,_t){if(typeof He=="object"&&He!==null&&He.type===G&&He.key===null&&(He=He.props.children),typeof He=="object"&&He!==null){switch(He.$$typeof){case q:e:{for(var Vt=He.key,sr=Re;sr!==null;){if(sr.key===Vt){if(Vt=He.type,Vt===G){if(sr.tag===7){m(ze,sr.sibling),Re=k(sr,He.props.children),Re.return=ze,ze=Re;break e}}else if(sr.elementType===Vt||typeof Vt=="object"&&Vt!==null&&Vt.$$typeof===Le&&Dr(Vt)===sr.type){m(ze,sr.sibling),Re=k(sr,He.props),Re.ref=jn(ze,sr,He),Re.return=ze,ze=Re;break e}m(ze,sr);break}else u(ze,sr);sr=sr.sibling}He.type===G?(Re=gd(He.props.children,ze.mode,_t,He.key),Re.return=ze,ze=Re):(_t=Rf(He.type,He.key,He.props,null,ze.mode,_t),_t.ref=jn(ze,Re,He),_t.return=ze,ze=_t)}return X(ze);case te:e:{for(sr=He.key;Re!==null;){if(Re.key===sr)if(Re.tag===4&&Re.stateNode.containerInfo===He.containerInfo&&Re.stateNode.implementation===He.implementation){m(ze,Re.sibling),Re=k(Re,He.children||[]),Re.return=ze,ze=Re;break e}else{m(ze,Re);break}else u(ze,Re);Re=Re.sibling}Re=Um(He,ze.mode,_t),Re.return=ze,ze=Re}return X(ze);case Le:return sr=He._init,Da(ze,Re,sr(He._payload),_t)}if(kt(He))return Mt(ze,Re,He,_t);if(ye(He))return Ht(ze,Re,He,_t);cr(ze,He)}return typeof He=="string"&&He!==""||typeof He=="number"?(He=""+He,Re!==null&&Re.tag===6?(m(ze,Re.sibling),Re=k(Re,He),Re.return=ze,ze=Re):(m(ze,Re),Re=Mm(He,ze.mode,_t),Re.return=ze,ze=Re),X(ze)):m(ze,Re)}return Da}var pn=_n(!0),Ya=_n(!1),En=cs(null),ma=null,Br=null,Zn=null;function Mr(){Zn=Br=ma=null}function Wr(o){var u=En.current;Qr(En),o._currentValue=u}function In(o,u,m){for(;o!==null;){var _=o.alternate;if((o.childLanes&u)!==u?(o.childLanes|=u,_!==null&&(_.childLanes|=u)):_!==null&&(_.childLanes&u)!==u&&(_.childLanes|=u),o===m)break;o=o.return}}function Ur(o,u){ma=o,Zn=Br=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&u&&(ro=!0),o.firstContext=null)}function ln(o){var u=o._currentValue;if(Zn!==o)if(o={context:o,memoizedValue:u,next:null},Br===null){if(ma===null)throw Error(r(308));Br=o,ma.dependencies={lanes:0,firstContext:o}}else Br=Br.next=o;return u}var La=null;function zn(o){La===null?La=[o]:La.push(o)}function fi(o,u,m,_){var k=u.interleaved;return k===null?(m.next=m,zn(u)):(m.next=k.next,k.next=m),u.interleaved=m,Nr(o,_)}function Nr(o,u){o.lanes|=u;var m=o.alternate;for(m!==null&&(m.lanes|=u),m=o,o=o.return;o!==null;)o.childLanes|=u,m=o.alternate,m!==null&&(m.childLanes|=u),m=o,o=o.return;return m.tag===3?m.stateNode:null}var yn=!1;function pi(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xa(o,u){o=o.updateQueue,u.updateQueue===o&&(u.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function Qn(o,u){return{eventTime:o,lane:u,tag:0,payload:null,callback:null,next:null}}function Gn(o,u,m){var _=o.updateQueue;if(_===null)return null;if(_=_.shared,tn&2){var k=_.pending;return k===null?u.next=u:(u.next=k.next,k.next=u),_.pending=u,Nr(o,m)}return k=_.interleaved,k===null?(u.next=u,zn(_)):(u.next=k.next,k.next=u),_.interleaved=u,Nr(o,m)}function Ra(o,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var _=u.lanes;_&=o.pendingLanes,m|=_,u.lanes=m,ac(o,m)}}function ji(o,u){var m=o.updateQueue,_=o.alternate;if(_!==null&&(_=_.updateQueue,m===_)){var k=null,L=null;if(m=m.firstBaseUpdate,m!==null){do{var X={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};L===null?k=L=X:L=L.next=X,m=m.next}while(m!==null);L===null?k=L=u:L=L.next=u}else k=L=u;m={baseState:_.baseState,firstBaseUpdate:k,lastBaseUpdate:L,shared:_.shared,effects:_.effects},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=u:o.next=u,m.lastBaseUpdate=u}function en(o,u,m,_){var k=o.updateQueue;yn=!1;var L=k.firstBaseUpdate,X=k.lastBaseUpdate,we=k.shared.pending;if(we!==null){k.shared.pending=null;var Ae=we,Ke=Ae.next;Ae.next=null,X===null?L=Ke:X.next=Ke,X=Ae;var mt=o.alternate;mt!==null&&(mt=mt.updateQueue,we=mt.lastBaseUpdate,we!==X&&(we===null?mt.firstBaseUpdate=Ke:we.next=Ke,mt.lastBaseUpdate=Ae))}if(L!==null){var vt=k.baseState;X=0,mt=Ke=Ae=null,we=L;do{var ht=we.lane,Tt=we.eventTime;if((_&ht)===ht){mt!==null&&(mt=mt.next={eventTime:Tt,lane:0,tag:we.tag,payload:we.payload,callback:we.callback,next:null});e:{var Mt=o,Ht=we;switch(ht=u,Tt=m,Ht.tag){case 1:if(Mt=Ht.payload,typeof Mt=="function"){vt=Mt.call(Tt,vt,ht);break e}vt=Mt;break e;case 3:Mt.flags=Mt.flags&-65537|128;case 0:if(Mt=Ht.payload,ht=typeof Mt=="function"?Mt.call(Tt,vt,ht):Mt,ht==null)break e;vt=je({},vt,ht);break e;case 2:yn=!0}}we.callback!==null&&we.lane!==0&&(o.flags|=64,ht=k.effects,ht===null?k.effects=[we]:ht.push(we))}else Tt={eventTime:Tt,lane:ht,tag:we.tag,payload:we.payload,callback:we.callback,next:null},mt===null?(Ke=mt=Tt,Ae=vt):mt=mt.next=Tt,X|=ht;if(we=we.next,we===null){if(we=k.shared.pending,we===null)break;ht=we,we=ht.next,ht.next=null,k.lastBaseUpdate=ht,k.shared.pending=null}}while(!0);if(mt===null&&(Ae=vt),k.baseState=Ae,k.firstBaseUpdate=Ke,k.lastBaseUpdate=mt,u=k.shared.interleaved,u!==null){k=u;do X|=k.lane,k=k.next;while(k!==u)}else L===null&&(k.shared.lanes=0);hd|=X,o.lanes=X,o.memoizedState=vt}}function Jr(o,u,m){if(o=u.effects,u.effects=null,o!==null)for(u=0;u<o.length;u++){var _=o[u],k=_.callback;if(k!==null){if(_.callback=null,_=m,typeof k!="function")throw Error(r(191,k));k.call(_)}}}var Ja={},Fa=cs(Ja),Ei=cs(Ja),Kn=cs(Ja);function Ls(o){if(o===Ja)throw Error(r(174));return o}function bc(o,u){switch(on(Kn,u),on(Ei,o),on(Fa,Ja),o=u.nodeType,o){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:gr(null,"");break;default:o=o===8?u.parentNode:u,u=o.namespaceURI||null,o=o.tagName,u=gr(u,o)}Qr(Fa),on(Fa,u)}function Ao(){Qr(Fa),Qr(Ei),Qr(Kn)}function _c(o){Ls(Kn.current);var u=Ls(Fa.current),m=gr(u,o.type);u!==m&&(on(Ei,o),on(Fa,m))}function ld(o){Ei.current===o&&(Qr(Fa),Qr(Ei))}var qn=cs(0);function yc(o){for(var u=o;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(u.flags&128)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var to=[];function ul(){for(var o=0;o<to.length;o++)to[o]._workInProgressVersionPrimary=null;to.length=0}var wu=R.ReactCurrentDispatcher,cd=R.ReactCurrentBatchConfig,dl=0,wn=null,Yn=null,sa=null,Ml=!1,Co=!1,To=0,Xd=0;function Za(){throw Error(r(321))}function wc(o,u){if(u===null)return!1;for(var m=0;m<u.length&&m<o.length;m++)if(!Fn(o[m],u[m]))return!1;return!0}function Su(o,u,m,_,k,L){if(dl=L,wn=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,wu.current=o===null||o.memoizedState===null?xf:vf,o=m(_,k),Co){L=0;do{if(Co=!1,To=0,25<=L)throw Error(r(301));L+=1,sa=Yn=null,u.updateQueue=null,wu.current=bf,o=m(_,k)}while(Co)}if(wu.current=dd,u=Yn!==null&&Yn.next!==null,dl=0,sa=Yn=wn=null,Ml=!1,u)throw Error(r(300));return o}function Yc(){var o=To!==0;return To=0,o}function Oa(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sa===null?wn.memoizedState=sa=o:sa=sa.next=o,sa}function Hi(){if(Yn===null){var o=wn.alternate;o=o!==null?o.memoizedState:null}else o=Yn.next;var u=sa===null?wn.memoizedState:sa.next;if(u!==null)sa=u,Yn=o;else{if(o===null)throw Error(r(310));Yn=o,o={memoizedState:Yn.memoizedState,baseState:Yn.baseState,baseQueue:Yn.baseQueue,queue:Yn.queue,next:null},sa===null?wn.memoizedState=sa=o:sa=sa.next=o}return sa}function Sc(o,u){return typeof u=="function"?u(o):u}function Nc(o){var u=Hi(),m=u.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=o;var _=Yn,k=_.baseQueue,L=m.pending;if(L!==null){if(k!==null){var X=k.next;k.next=L.next,L.next=X}_.baseQueue=k=L,m.pending=null}if(k!==null){L=k.next,_=_.baseState;var we=X=null,Ae=null,Ke=L;do{var mt=Ke.lane;if((dl&mt)===mt)Ae!==null&&(Ae=Ae.next={lane:0,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null}),_=Ke.hasEagerState?Ke.eagerState:o(_,Ke.action);else{var vt={lane:mt,action:Ke.action,hasEagerState:Ke.hasEagerState,eagerState:Ke.eagerState,next:null};Ae===null?(we=Ae=vt,X=_):Ae=Ae.next=vt,wn.lanes|=mt,hd|=mt}Ke=Ke.next}while(Ke!==null&&Ke!==L);Ae===null?X=_:Ae.next=we,Fn(_,u.memoizedState)||(ro=!0),u.memoizedState=_,u.baseState=X,u.baseQueue=Ae,m.lastRenderedState=_}if(o=m.interleaved,o!==null){k=o;do L=k.lane,wn.lanes|=L,hd|=L,k=k.next;while(k!==o)}else k===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function Nu(o){var u=Hi(),m=u.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=o;var _=m.dispatch,k=m.pending,L=u.memoizedState;if(k!==null){m.pending=null;var X=k=k.next;do L=o(L,X.action),X=X.next;while(X!==k);Fn(L,u.memoizedState)||(ro=!0),u.memoizedState=L,u.baseQueue===null&&(u.baseState=L),m.lastRenderedState=L}return[L,_]}function Ul(){}function Jd(o,u){var m=wn,_=Hi(),k=u(),L=!Fn(_.memoizedState,k);if(L&&(_.memoizedState=k,ro=!0),_=_.queue,mn(ju.bind(null,m,_,o),[o]),_.getSnapshot!==u||L||sa!==null&&sa.memoizedState.tag&1){if(m.flags|=2048,K(9,Zd.bind(null,m,_,k,u),void 0,null),ki===null)throw Error(r(349));dl&30||ud(m,u,k)}return k}function ud(o,u,m){o.flags|=16384,o={getSnapshot:u,value:m},u=wn.updateQueue,u===null?(u={lastEffect:null,stores:null},wn.updateQueue=u,u.stores=[o]):(m=u.stores,m===null?u.stores=[o]:m.push(o))}function Zd(o,u,m,_){u.value=m,u.getSnapshot=_,Qd(u)&&$l(o)}function ju(o,u,m){return m(function(){Qd(u)&&$l(o)})}function Qd(o){var u=o.getSnapshot;o=o.value;try{var m=u();return!Fn(o,m)}catch{return!0}}function $l(o){var u=Nr(o,1);u!==null&&Hl(u,o,1,-1)}function v(o){var u=Oa();return typeof o=="function"&&(o=o()),u.memoizedState=u.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:o},u.queue=o,o=o.dispatch=eh.bind(null,wn,o),[u.memoizedState,o]}function K(o,u,m,_){return o={tag:o,create:u,destroy:m,deps:_,next:null},u=wn.updateQueue,u===null?(u={lastEffect:null,stores:null},wn.updateQueue=u,u.lastEffect=o.next=o):(m=u.lastEffect,m===null?u.lastEffect=o.next=o:(_=m.next,m.next=o,o.next=_,u.lastEffect=o)),o}function Fe(){return Hi().memoizedState}function We(o,u,m,_){var k=Oa();wn.flags|=o,k.memoizedState=K(1|u,m,void 0,_===void 0?null:_)}function xt(o,u,m,_){var k=Hi();_=_===void 0?null:_;var L=void 0;if(Yn!==null){var X=Yn.memoizedState;if(L=X.destroy,_!==null&&wc(_,X.deps)){k.memoizedState=K(u,m,L,_);return}}wn.flags|=o,k.memoizedState=K(1|u,m,L,_)}function qt(o,u){return We(8390656,8,o,u)}function mn(o,u){return xt(2048,8,o,u)}function At(o,u){return xt(4,2,o,u)}function gn(o,u){return xt(4,4,o,u)}function Ia(o,u){if(typeof u=="function")return o=o(),u(o),function(){u(null)};if(u!=null)return o=o(),u.current=o,function(){u.current=null}}function us(o,u,m){return m=m!=null?m.concat([o]):null,xt(4,4,Ia.bind(null,u,o),m)}function hl(){}function Po(o,u){var m=Hi();u=u===void 0?null:u;var _=m.memoizedState;return _!==null&&u!==null&&wc(u,_[1])?_[0]:(m.memoizedState=[o,u],o)}function Lo(o,u){var m=Hi();u=u===void 0?null:u;var _=m.memoizedState;return _!==null&&u!==null&&wc(u,_[1])?_[0]:(o=o(),m.memoizedState=[o,u],o)}function Eu(o,u,m){return dl&21?(Fn(m,u)||(m=zs(),wn.lanes|=m,hd|=m,o.baseState=!0),u):(o.baseState&&(o.baseState=!1,ro=!0),o.memoizedState=m)}function Rs(o,u){var m=zr;zr=m!==0&&4>m?m:4,o(!0);var _=cd.transition;cd.transition={};try{o(!1),u()}finally{zr=m,cd.transition=_}}function ku(){return Hi().memoizedState}function fm(o,u,m){var _=Pu(o);if(m={lane:_,action:m,hasEagerState:!1,eagerState:null,next:null},e0(o))t0(u,m);else if(m=fi(o,u,m,_),m!==null){var k=Os();Hl(m,o,_,k),r0(m,u,_)}}function eh(o,u,m){var _=Pu(o),k={lane:_,action:m,hasEagerState:!1,eagerState:null,next:null};if(e0(o))t0(u,k);else{var L=o.alternate;if(o.lanes===0&&(L===null||L.lanes===0)&&(L=u.lastRenderedReducer,L!==null))try{var X=u.lastRenderedState,we=L(X,m);if(k.hasEagerState=!0,k.eagerState=we,Fn(we,X)){var Ae=u.interleaved;Ae===null?(k.next=k,zn(u)):(k.next=Ae.next,Ae.next=k),u.interleaved=k;return}}catch{}finally{}m=fi(o,u,k,_),m!==null&&(k=Os(),Hl(m,o,_,k),r0(m,u,_))}}function e0(o){var u=o.alternate;return o===wn||u!==null&&u===wn}function t0(o,u){Co=Ml=!0;var m=o.pending;m===null?u.next=u:(u.next=m.next,m.next=u),o.pending=u}function r0(o,u,m){if(m&4194240){var _=u.lanes;_&=o.pendingLanes,m|=_,u.lanes=m,ac(o,m)}}var dd={readContext:ln,useCallback:Za,useContext:Za,useEffect:Za,useImperativeHandle:Za,useInsertionEffect:Za,useLayoutEffect:Za,useMemo:Za,useReducer:Za,useRef:Za,useState:Za,useDebugValue:Za,useDeferredValue:Za,useTransition:Za,useMutableSource:Za,useSyncExternalStore:Za,useId:Za,unstable_isNewReconciler:!1},xf={readContext:ln,useCallback:function(o,u){return Oa().memoizedState=[o,u===void 0?null:u],o},useContext:ln,useEffect:qt,useImperativeHandle:function(o,u,m){return m=m!=null?m.concat([o]):null,We(4194308,4,Ia.bind(null,u,o),m)},useLayoutEffect:function(o,u){return We(4194308,4,o,u)},useInsertionEffect:function(o,u){return We(4,2,o,u)},useMemo:function(o,u){var m=Oa();return u=u===void 0?null:u,o=o(),m.memoizedState=[o,u],o},useReducer:function(o,u,m){var _=Oa();return u=m!==void 0?m(u):u,_.memoizedState=_.baseState=u,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:u},_.queue=o,o=o.dispatch=fm.bind(null,wn,o),[_.memoizedState,o]},useRef:function(o){var u=Oa();return o={current:o},u.memoizedState=o},useState:v,useDebugValue:hl,useDeferredValue:function(o){return Oa().memoizedState=o},useTransition:function(){var o=v(!1),u=o[0];return o=Rs.bind(null,o[1]),Oa().memoizedState=o,[u,o]},useMutableSource:function(){},useSyncExternalStore:function(o,u,m){var _=wn,k=Oa();if(Ge){if(m===void 0)throw Error(r(407));m=m()}else{if(m=u(),ki===null)throw Error(r(349));dl&30||ud(_,u,m)}k.memoizedState=m;var L={value:m,getSnapshot:u};return k.queue=L,qt(ju.bind(null,_,L,o),[o]),_.flags|=2048,K(9,Zd.bind(null,_,L,m,u),void 0,null),m},useId:function(){var o=Oa(),u=ki.identifierPrefix;if(Ge){var m=Me,_=ke;m=(_&~(1<<32-Ar(_)-1)).toString(32)+m,u=":"+u+"R"+m,m=To++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=Xd++,u=":"+u+"r"+m.toString(32)+":";return o.memoizedState=u},unstable_isNewReconciler:!1},vf={readContext:ln,useCallback:Po,useContext:ln,useEffect:mn,useImperativeHandle:us,useInsertionEffect:At,useLayoutEffect:gn,useMemo:Lo,useReducer:Nc,useRef:Fe,useState:function(){return Nc(Sc)},useDebugValue:hl,useDeferredValue:function(o){var u=Hi();return Eu(u,Yn.memoizedState,o)},useTransition:function(){var o=Nc(Sc)[0],u=Hi().memoizedState;return[o,u]},useMutableSource:Ul,useSyncExternalStore:Jd,useId:ku,unstable_isNewReconciler:!1},bf={readContext:ln,useCallback:Po,useContext:ln,useEffect:mn,useImperativeHandle:us,useInsertionEffect:At,useLayoutEffect:gn,useMemo:Lo,useReducer:Nu,useRef:Fe,useState:function(){return Nu(Sc)},useDebugValue:hl,useDeferredValue:function(o){var u=Hi();return Yn===null?u.memoizedState=o:Eu(u,Yn.memoizedState,o)},useTransition:function(){var o=Nu(Sc)[0],u=Hi().memoizedState;return[o,u]},useMutableSource:Ul,useSyncExternalStore:Jd,useId:ku,unstable_isNewReconciler:!1};function Wi(o,u){if(o&&o.defaultProps){u=je({},u),o=o.defaultProps;for(var m in o)u[m]===void 0&&(u[m]=o[m]);return u}return u}function Xc(o,u,m,_){u=o.memoizedState,m=m(_,u),m=m==null?u:je({},u,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var n0={isMounted:function(o){return(o=o._reactInternals)?xe(o)===o:!1},enqueueSetState:function(o,u,m){o=o._reactInternals;var _=Os(),k=Pu(o),L=Qn(_,k);L.payload=u,m!=null&&(L.callback=m),u=Gn(o,L,k),u!==null&&(Hl(u,o,k,_),Ra(u,o,k))},enqueueReplaceState:function(o,u,m){o=o._reactInternals;var _=Os(),k=Pu(o),L=Qn(_,k);L.tag=1,L.payload=u,m!=null&&(L.callback=m),u=Gn(o,L,k),u!==null&&(Hl(u,o,k,_),Ra(u,o,k))},enqueueForceUpdate:function(o,u){o=o._reactInternals;var m=Os(),_=Pu(o),k=Qn(m,_);k.tag=2,u!=null&&(k.callback=u),u=Gn(o,k,_),u!==null&&(Hl(u,o,_,m),Ra(u,o,_))}};function _f(o,u,m,_,k,L,X){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(_,L,X):u.prototype&&u.prototype.isPureReactComponent?!hi(m,_)||!hi(k,L):!0}function Px(o,u,m){var _=!1,k=ko,L=u.contextType;return typeof L=="object"&&L!==null?L=ln(L):(k=Xr(u)?ll:Pa.current,_=u.contextTypes,L=(_=_!=null)?vc(o,k):ko),u=new u(m,L),o.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=n0,o.stateNode=u,u._reactInternals=o,_&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=k,o.__reactInternalMemoizedMaskedChildContext=L),u}function Lx(o,u,m,_){o=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,_),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,_),u.state!==o&&n0.enqueueReplaceState(u,u.state,null)}function pm(o,u,m,_){var k=o.stateNode;k.props=m,k.state=o.memoizedState,k.refs={},pi(o);var L=u.contextType;typeof L=="object"&&L!==null?k.context=ln(L):(L=Xr(u)?ll:Pa.current,k.context=vc(o,L)),k.state=o.memoizedState,L=u.getDerivedStateFromProps,typeof L=="function"&&(Xc(o,u,L,m),k.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(u=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),u!==k.state&&n0.enqueueReplaceState(k,k.state,null),en(o,m,k,_),k.state=o.memoizedState),typeof k.componentDidMount=="function"&&(o.flags|=4194308)}function th(o,u){try{var m="",_=u;do m+=D(_),_=_.return;while(_);var k=m}catch(L){k=`
Error generating stack: `+L.message+`
`+L.stack}return{value:o,source:u,stack:k,digest:null}}function mm(o,u,m){return{value:o,source:null,stack:m??null,digest:u??null}}function gm(o,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var _3=typeof WeakMap=="function"?WeakMap:Map;function Rx(o,u,m){m=Qn(-1,m),m.tag=3,m.payload={element:null};var _=u.value;return m.callback=function(){kf||(kf=!0,Pm=_),gm(o,u)},m}function Fx(o,u,m){m=Qn(-1,m),m.tag=3;var _=o.type.getDerivedStateFromError;if(typeof _=="function"){var k=u.value;m.payload=function(){return _(k)},m.callback=function(){gm(o,u)}}var L=o.stateNode;return L!==null&&typeof L.componentDidCatch=="function"&&(m.callback=function(){gm(o,u),typeof _!="function"&&(Cu===null?Cu=new Set([this]):Cu.add(this));var X=u.stack;this.componentDidCatch(u.value,{componentStack:X!==null?X:""})}),m}function Ox(o,u,m){var _=o.pingCache;if(_===null){_=o.pingCache=new _3;var k=new Set;_.set(u,k)}else k=_.get(u),k===void 0&&(k=new Set,_.set(u,k));k.has(m)||(k.add(m),o=F3.bind(null,o,u,m),u.then(o,o))}function Ix(o){do{var u;if((u=o.tag===13)&&(u=o.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return o;o=o.return}while(o!==null);return null}function Dx(o,u,m,_,k){return o.mode&1?(o.flags|=65536,o.lanes=k,o):(o===u?o.flags|=65536:(o.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=Qn(-1,1),u.tag=2,Gn(m,u,1))),m.lanes|=1),o)}var y3=R.ReactCurrentOwner,ro=!1;function Fs(o,u,m,_){u.child=o===null?Ya(u,null,m,_):pn(u,o.child,m,_)}function Bx(o,u,m,_,k){m=m.render;var L=u.ref;return Ur(u,k),_=Su(o,u,m,_,L,k),m=Yc(),o!==null&&!ro?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~k,Jc(o,u,k)):(Ge&&m&&Ie(u),u.flags|=1,Fs(o,u,_,k),u.child)}function Mx(o,u,m,_,k){if(o===null){var L=m.type;return typeof L=="function"&&!Bm(L)&&L.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=L,Ux(o,u,L,_,k)):(o=Rf(m.type,null,_,u,u.mode,k),o.ref=u.ref,o.return=u,u.child=o)}if(L=o.child,!(o.lanes&k)){var X=L.memoizedProps;if(m=m.compare,m=m!==null?m:hi,m(X,_)&&o.ref===u.ref)return Jc(o,u,k)}return u.flags|=1,o=Ru(L,_),o.ref=u.ref,o.return=u,u.child=o}function Ux(o,u,m,_,k){if(o!==null){var L=o.memoizedProps;if(hi(L,_)&&o.ref===u.ref)if(ro=!1,u.pendingProps=_=L,(o.lanes&k)!==0)o.flags&131072&&(ro=!0);else return u.lanes=o.lanes,Jc(o,u,k)}return xm(o,u,m,_,k)}function $x(o,u,m){var _=u.pendingProps,k=_.children,L=o!==null?o.memoizedState:null;if(_.mode==="hidden")if(!(u.mode&1))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},on(nh,Ro),Ro|=m;else{if(!(m&1073741824))return o=L!==null?L.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:o,cachePool:null,transitions:null},u.updateQueue=null,on(nh,Ro),Ro|=o,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},_=L!==null?L.baseLanes:m,on(nh,Ro),Ro|=_}else L!==null?(_=L.baseLanes|m,u.memoizedState=null):_=m,on(nh,Ro),Ro|=_;return Fs(o,u,k,m),u.child}function zx(o,u){var m=u.ref;(o===null&&m!==null||o!==null&&o.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function xm(o,u,m,_,k){var L=Xr(m)?ll:Pa.current;return L=vc(u,L),Ur(u,k),m=Su(o,u,m,_,L,k),_=Yc(),o!==null&&!ro?(u.updateQueue=o.updateQueue,u.flags&=-2053,o.lanes&=~k,Jc(o,u,k)):(Ge&&_&&Ie(u),u.flags|=1,Fs(o,u,m,k),u.child)}function qx(o,u,m,_,k){if(Xr(m)){var L=!0;Kc(u)}else L=!1;if(Ur(u,k),u.stateNode===null)wf(o,u),Px(u,m,_),pm(u,m,_,k),_=!0;else if(o===null){var X=u.stateNode,we=u.memoizedProps;X.props=we;var Ae=X.context,Ke=m.contextType;typeof Ke=="object"&&Ke!==null?Ke=ln(Ke):(Ke=Xr(m)?ll:Pa.current,Ke=vc(u,Ke));var mt=m.getDerivedStateFromProps,vt=typeof mt=="function"||typeof X.getSnapshotBeforeUpdate=="function";vt||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(we!==_||Ae!==Ke)&&Lx(u,X,_,Ke),yn=!1;var ht=u.memoizedState;X.state=ht,en(u,_,X,k),Ae=u.memoizedState,we!==_||ht!==Ae||pa.current||yn?(typeof mt=="function"&&(Xc(u,m,mt,_),Ae=u.memoizedState),(we=yn||_f(u,m,we,_,ht,Ae,Ke))?(vt||typeof X.UNSAFE_componentWillMount!="function"&&typeof X.componentWillMount!="function"||(typeof X.componentWillMount=="function"&&X.componentWillMount(),typeof X.UNSAFE_componentWillMount=="function"&&X.UNSAFE_componentWillMount()),typeof X.componentDidMount=="function"&&(u.flags|=4194308)):(typeof X.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=_,u.memoizedState=Ae),X.props=_,X.state=Ae,X.context=Ke,_=we):(typeof X.componentDidMount=="function"&&(u.flags|=4194308),_=!1)}else{X=u.stateNode,Xa(o,u),we=u.memoizedProps,Ke=u.type===u.elementType?we:Wi(u.type,we),X.props=Ke,vt=u.pendingProps,ht=X.context,Ae=m.contextType,typeof Ae=="object"&&Ae!==null?Ae=ln(Ae):(Ae=Xr(m)?ll:Pa.current,Ae=vc(u,Ae));var Tt=m.getDerivedStateFromProps;(mt=typeof Tt=="function"||typeof X.getSnapshotBeforeUpdate=="function")||typeof X.UNSAFE_componentWillReceiveProps!="function"&&typeof X.componentWillReceiveProps!="function"||(we!==vt||ht!==Ae)&&Lx(u,X,_,Ae),yn=!1,ht=u.memoizedState,X.state=ht,en(u,_,X,k);var Mt=u.memoizedState;we!==vt||ht!==Mt||pa.current||yn?(typeof Tt=="function"&&(Xc(u,m,Tt,_),Mt=u.memoizedState),(Ke=yn||_f(u,m,Ke,_,ht,Mt,Ae)||!1)?(mt||typeof X.UNSAFE_componentWillUpdate!="function"&&typeof X.componentWillUpdate!="function"||(typeof X.componentWillUpdate=="function"&&X.componentWillUpdate(_,Mt,Ae),typeof X.UNSAFE_componentWillUpdate=="function"&&X.UNSAFE_componentWillUpdate(_,Mt,Ae)),typeof X.componentDidUpdate=="function"&&(u.flags|=4),typeof X.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof X.componentDidUpdate!="function"||we===o.memoizedProps&&ht===o.memoizedState||(u.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||we===o.memoizedProps&&ht===o.memoizedState||(u.flags|=1024),u.memoizedProps=_,u.memoizedState=Mt),X.props=_,X.state=Mt,X.context=Ae,_=Ke):(typeof X.componentDidUpdate!="function"||we===o.memoizedProps&&ht===o.memoizedState||(u.flags|=4),typeof X.getSnapshotBeforeUpdate!="function"||we===o.memoizedProps&&ht===o.memoizedState||(u.flags|=1024),_=!1)}return vm(o,u,m,_,L,k)}function vm(o,u,m,_,k,L){zx(o,u);var X=(u.flags&128)!==0;if(!_&&!X)return k&&cl(u,m,!1),Jc(o,u,L);_=u.stateNode,y3.current=u;var we=X&&typeof m.getDerivedStateFromError!="function"?null:_.render();return u.flags|=1,o!==null&&X?(u.child=pn(u,o.child,null,L),u.child=pn(u,null,we,L)):Fs(o,u,we,L),u.memoizedState=_.state,k&&cl(u,m,!0),u.child}function Hx(o){var u=o.stateNode;u.pendingContext?_u(o,u.pendingContext,u.pendingContext!==u.context):u.context&&_u(o,u.context,!1),bc(o,u.containerInfo)}function Wx(o,u,m,_,k){return lr(),Ot(k),u.flags|=256,Fs(o,u,m,_),u.child}var bm={dehydrated:null,treeContext:null,retryLane:0};function _m(o){return{baseLanes:o,cachePool:null,transitions:null}}function Vx(o,u,m){var _=u.pendingProps,k=qn.current,L=!1,X=(u.flags&128)!==0,we;if((we=X)||(we=o!==null&&o.memoizedState===null?!1:(k&2)!==0),we?(L=!0,u.flags&=-129):(o===null||o.memoizedState!==null)&&(k|=1),on(qn,k&1),o===null)return vr(u),o=u.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(u.mode&1?o.data==="$!"?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(X=_.children,o=_.fallback,L?(_=u.mode,L=u.child,X={mode:"hidden",children:X},!(_&1)&&L!==null?(L.childLanes=0,L.pendingProps=X):L=Ff(X,_,0,null),o=gd(o,_,m,null),L.return=u,o.return=u,L.sibling=o,u.child=L,u.child.memoizedState=_m(m),u.memoizedState=bm,o):ym(u,X));if(k=o.memoizedState,k!==null&&(we=k.dehydrated,we!==null))return w3(o,u,X,_,we,k,m);if(L){L=_.fallback,X=u.mode,k=o.child,we=k.sibling;var Ae={mode:"hidden",children:_.children};return!(X&1)&&u.child!==k?(_=u.child,_.childLanes=0,_.pendingProps=Ae,u.deletions=null):(_=Ru(k,Ae),_.subtreeFlags=k.subtreeFlags&14680064),we!==null?L=Ru(we,L):(L=gd(L,X,m,null),L.flags|=2),L.return=u,_.return=u,_.sibling=L,u.child=_,_=L,L=u.child,X=o.child.memoizedState,X=X===null?_m(m):{baseLanes:X.baseLanes|m,cachePool:null,transitions:X.transitions},L.memoizedState=X,L.childLanes=o.childLanes&~m,u.memoizedState=bm,_}return L=o.child,o=L.sibling,_=Ru(L,{mode:"visible",children:_.children}),!(u.mode&1)&&(_.lanes=m),_.return=u,_.sibling=null,o!==null&&(m=u.deletions,m===null?(u.deletions=[o],u.flags|=16):m.push(o)),u.child=_,u.memoizedState=null,_}function ym(o,u){return u=Ff({mode:"visible",children:u},o.mode,0,null),u.return=o,o.child=u}function yf(o,u,m,_){return _!==null&&Ot(_),pn(u,o.child,null,m),o=ym(u,u.pendingProps.children),o.flags|=2,u.memoizedState=null,o}function w3(o,u,m,_,k,L,X){if(m)return u.flags&256?(u.flags&=-257,_=mm(Error(r(422))),yf(o,u,X,_)):u.memoizedState!==null?(u.child=o.child,u.flags|=128,null):(L=_.fallback,k=u.mode,_=Ff({mode:"visible",children:_.children},k,0,null),L=gd(L,k,X,null),L.flags|=2,_.return=u,L.return=u,_.sibling=L,u.child=_,u.mode&1&&pn(u,o.child,null,X),u.child.memoizedState=_m(X),u.memoizedState=bm,L);if(!(u.mode&1))return yf(o,u,X,null);if(k.data==="$!"){if(_=k.nextSibling&&k.nextSibling.dataset,_)var we=_.dgst;return _=we,L=Error(r(419)),_=mm(L,_,void 0),yf(o,u,X,_)}if(we=(X&o.childLanes)!==0,ro||we){if(_=ki,_!==null){switch(X&-X){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}k=k&(_.suspendedLanes|X)?0:k,k!==0&&k!==L.retryLane&&(L.retryLane=k,Nr(o,k),Hl(_,o,k,-1))}return Dm(),_=mm(Error(r(421))),yf(o,u,X,_)}return k.data==="$?"?(u.flags|=128,u.child=o.child,u=O3.bind(null,o),k._reactRetry=u,null):(o=L.treeContext,Xe=On(k.nextSibling),De=u,Ge=!0,ot=null,o!==null&&(ne[ie++]=ke,ne[ie++]=Me,ne[ie++]=he,ke=o.id,Me=o.overflow,he=u),u=ym(u,_.children),u.flags|=4096,u)}function Gx(o,u,m){o.lanes|=u;var _=o.alternate;_!==null&&(_.lanes|=u),In(o.return,u,m)}function wm(o,u,m,_,k){var L=o.memoizedState;L===null?o.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:_,tail:m,tailMode:k}:(L.isBackwards=u,L.rendering=null,L.renderingStartTime=0,L.last=_,L.tail=m,L.tailMode=k)}function Kx(o,u,m){var _=u.pendingProps,k=_.revealOrder,L=_.tail;if(Fs(o,u,_.children,m),_=qn.current,_&2)_=_&1|2,u.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=u.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&Gx(o,m,u);else if(o.tag===19)Gx(o,m,u);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===u)break e;for(;o.sibling===null;){if(o.return===null||o.return===u)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}_&=1}if(on(qn,_),!(u.mode&1))u.memoizedState=null;else switch(k){case"forwards":for(m=u.child,k=null;m!==null;)o=m.alternate,o!==null&&yc(o)===null&&(k=m),m=m.sibling;m=k,m===null?(k=u.child,u.child=null):(k=m.sibling,m.sibling=null),wm(u,!1,k,m,L);break;case"backwards":for(m=null,k=u.child,u.child=null;k!==null;){if(o=k.alternate,o!==null&&yc(o)===null){u.child=k;break}o=k.sibling,k.sibling=m,m=k,k=o}wm(u,!0,m,null,L);break;case"together":wm(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function wf(o,u){!(u.mode&1)&&o!==null&&(o.alternate=null,u.alternate=null,u.flags|=2)}function Jc(o,u,m){if(o!==null&&(u.dependencies=o.dependencies),hd|=u.lanes,!(m&u.childLanes))return null;if(o!==null&&u.child!==o.child)throw Error(r(153));if(u.child!==null){for(o=u.child,m=Ru(o,o.pendingProps),u.child=m,m.return=u;o.sibling!==null;)o=o.sibling,m=m.sibling=Ru(o,o.pendingProps),m.return=u;m.sibling=null}return u.child}function S3(o,u,m){switch(u.tag){case 3:Hx(u),lr();break;case 5:_c(u);break;case 1:Xr(u.type)&&Kc(u);break;case 4:bc(u,u.stateNode.containerInfo);break;case 10:var _=u.type._context,k=u.memoizedProps.value;on(En,_._currentValue),_._currentValue=k;break;case 13:if(_=u.memoizedState,_!==null)return _.dehydrated!==null?(on(qn,qn.current&1),u.flags|=128,null):m&u.child.childLanes?Vx(o,u,m):(on(qn,qn.current&1),o=Jc(o,u,m),o!==null?o.sibling:null);on(qn,qn.current&1);break;case 19:if(_=(m&u.childLanes)!==0,o.flags&128){if(_)return Kx(o,u,m);u.flags|=128}if(k=u.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),on(qn,qn.current),_)break;return null;case 22:case 23:return u.lanes=0,$x(o,u,m)}return Jc(o,u,m)}var Yx,Sm,Xx,Jx;Yx=function(o,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)o.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},Sm=function(){},Xx=function(o,u,m,_){var k=o.memoizedProps;if(k!==_){o=u.stateNode,Ls(Fa.current);var L=null;switch(m){case"input":k=ft(o,k),_=ft(o,_),L=[];break;case"select":k=je({},k,{value:void 0}),_=je({},_,{value:void 0}),L=[];break;case"textarea":k=Et(o,k),_=Et(o,_),L=[];break;default:typeof k.onClick!="function"&&typeof _.onClick=="function"&&(o.onclick=Lr)}nn(m,_);var X;m=null;for(Ke in k)if(!_.hasOwnProperty(Ke)&&k.hasOwnProperty(Ke)&&k[Ke]!=null)if(Ke==="style"){var we=k[Ke];for(X in we)we.hasOwnProperty(X)&&(m||(m={}),m[X]="")}else Ke!=="dangerouslySetInnerHTML"&&Ke!=="children"&&Ke!=="suppressContentEditableWarning"&&Ke!=="suppressHydrationWarning"&&Ke!=="autoFocus"&&(a.hasOwnProperty(Ke)?L||(L=[]):(L=L||[]).push(Ke,null));for(Ke in _){var Ae=_[Ke];if(we=k!=null?k[Ke]:void 0,_.hasOwnProperty(Ke)&&Ae!==we&&(Ae!=null||we!=null))if(Ke==="style")if(we){for(X in we)!we.hasOwnProperty(X)||Ae&&Ae.hasOwnProperty(X)||(m||(m={}),m[X]="");for(X in Ae)Ae.hasOwnProperty(X)&&we[X]!==Ae[X]&&(m||(m={}),m[X]=Ae[X])}else m||(L||(L=[]),L.push(Ke,m)),m=Ae;else Ke==="dangerouslySetInnerHTML"?(Ae=Ae?Ae.__html:void 0,we=we?we.__html:void 0,Ae!=null&&we!==Ae&&(L=L||[]).push(Ke,Ae)):Ke==="children"?typeof Ae!="string"&&typeof Ae!="number"||(L=L||[]).push(Ke,""+Ae):Ke!=="suppressContentEditableWarning"&&Ke!=="suppressHydrationWarning"&&(a.hasOwnProperty(Ke)?(Ae!=null&&Ke==="onScroll"&&fn("scroll",o),L||we===Ae||(L=[])):(L=L||[]).push(Ke,Ae))}m&&(L=L||[]).push("style",m);var Ke=L;(u.updateQueue=Ke)&&(u.flags|=4)}},Jx=function(o,u,m,_){m!==_&&(u.flags|=4)};function a0(o,u){if(!Ge)switch(o.tailMode){case"hidden":u=o.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var _=null;m!==null;)m.alternate!==null&&(_=m),m=m.sibling;_===null?u||o.tail===null?o.tail=null:o.tail.sibling=null:_.sibling=null}}function ds(o){var u=o.alternate!==null&&o.alternate.child===o.child,m=0,_=0;if(u)for(var k=o.child;k!==null;)m|=k.lanes|k.childLanes,_|=k.subtreeFlags&14680064,_|=k.flags&14680064,k.return=o,k=k.sibling;else for(k=o.child;k!==null;)m|=k.lanes|k.childLanes,_|=k.subtreeFlags,_|=k.flags,k.return=o,k=k.sibling;return o.subtreeFlags|=_,o.childLanes=m,u}function N3(o,u,m){var _=u.pendingProps;switch(Qe(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ds(u),null;case 1:return Xr(u.type)&&Zs(),ds(u),null;case 3:return _=u.stateNode,Ao(),Qr(pa),Qr(Pa),ul(),_.pendingContext&&(_.context=_.pendingContext,_.pendingContext=null),(o===null||o.child===null)&&(Tr(u)?u.flags|=4:o===null||o.memoizedState.isDehydrated&&!(u.flags&256)||(u.flags|=1024,ot!==null&&(Fm(ot),ot=null))),Sm(o,u),ds(u),null;case 5:ld(u);var k=Ls(Kn.current);if(m=u.type,o!==null&&u.stateNode!=null)Xx(o,u,m,_,k),o.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!_){if(u.stateNode===null)throw Error(r(166));return ds(u),null}if(o=Ls(Fa.current),Tr(u)){_=u.stateNode,m=u.type;var L=u.memoizedProps;switch(_[Xs]=u,_[Dl]=L,o=(u.mode&1)!==0,m){case"dialog":fn("cancel",_),fn("close",_);break;case"iframe":case"object":case"embed":fn("load",_);break;case"video":case"audio":for(k=0;k<Ga.length;k++)fn(Ga[k],_);break;case"source":fn("error",_);break;case"img":case"image":case"link":fn("error",_),fn("load",_);break;case"details":fn("toggle",_);break;case"input":le(_,L),fn("invalid",_);break;case"select":_._wrapperState={wasMultiple:!!L.multiple},fn("invalid",_);break;case"textarea":Pt(_,L),fn("invalid",_)}nn(m,L),k=null;for(var X in L)if(L.hasOwnProperty(X)){var we=L[X];X==="children"?typeof we=="string"?_.textContent!==we&&(L.suppressHydrationWarning!==!0&&Vc(_.textContent,we,o),k=["children",we]):typeof we=="number"&&_.textContent!==""+we&&(L.suppressHydrationWarning!==!0&&Vc(_.textContent,we,o),k=["children",""+we]):a.hasOwnProperty(X)&&we!=null&&X==="onScroll"&&fn("scroll",_)}switch(m){case"input":Ye(_),rt(_,L,!0);break;case"textarea":Ye(_),Zt(_);break;case"select":case"option":break;default:typeof L.onClick=="function"&&(_.onclick=Lr)}_=k,u.updateQueue=_,_!==null&&(u.flags|=4)}else{X=k.nodeType===9?k:k.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=Xt(m)),o==="http://www.w3.org/1999/xhtml"?m==="script"?(o=X.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof _.is=="string"?o=X.createElement(m,{is:_.is}):(o=X.createElement(m),m==="select"&&(X=o,_.multiple?X.multiple=!0:_.size&&(X.size=_.size))):o=X.createElementNS(o,m),o[Xs]=u,o[Dl]=_,Yx(o,u,!1,!1),u.stateNode=o;e:{switch(X=Lt(m,_),m){case"dialog":fn("cancel",o),fn("close",o),k=_;break;case"iframe":case"object":case"embed":fn("load",o),k=_;break;case"video":case"audio":for(k=0;k<Ga.length;k++)fn(Ga[k],o);k=_;break;case"source":fn("error",o),k=_;break;case"img":case"image":case"link":fn("error",o),fn("load",o),k=_;break;case"details":fn("toggle",o),k=_;break;case"input":le(o,_),k=ft(o,_),fn("invalid",o);break;case"option":k=_;break;case"select":o._wrapperState={wasMultiple:!!_.multiple},k=je({},_,{value:void 0}),fn("invalid",o);break;case"textarea":Pt(o,_),k=Et(o,_),fn("invalid",o);break;default:k=_}nn(m,k),we=k;for(L in we)if(we.hasOwnProperty(L)){var Ae=we[L];L==="style"?pr(o,Ae):L==="dangerouslySetInnerHTML"?(Ae=Ae?Ae.__html:void 0,Ae!=null&&Ft(o,Ae)):L==="children"?typeof Ae=="string"?(m!=="textarea"||Ae!=="")&&Qt(o,Ae):typeof Ae=="number"&&Qt(o,""+Ae):L!=="suppressContentEditableWarning"&&L!=="suppressHydrationWarning"&&L!=="autoFocus"&&(a.hasOwnProperty(L)?Ae!=null&&L==="onScroll"&&fn("scroll",o):Ae!=null&&T(o,L,Ae,X))}switch(m){case"input":Ye(o),rt(o,_,!1);break;case"textarea":Ye(o),Zt(o);break;case"option":_.value!=null&&o.setAttribute("value",""+be(_.value));break;case"select":o.multiple=!!_.multiple,L=_.value,L!=null?Ze(o,!!_.multiple,L,!1):_.defaultValue!=null&&Ze(o,!!_.multiple,_.defaultValue,!0);break;default:typeof k.onClick=="function"&&(o.onclick=Lr)}switch(m){case"button":case"input":case"select":case"textarea":_=!!_.autoFocus;break e;case"img":_=!0;break e;default:_=!1}}_&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return ds(u),null;case 6:if(o&&u.stateNode!=null)Jx(o,u,o.memoizedProps,_);else{if(typeof _!="string"&&u.stateNode===null)throw Error(r(166));if(m=Ls(Kn.current),Ls(Fa.current),Tr(u)){if(_=u.stateNode,m=u.memoizedProps,_[Xs]=u,(L=_.nodeValue!==m)&&(o=De,o!==null))switch(o.tag){case 3:Vc(_.nodeValue,m,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Vc(_.nodeValue,m,(o.mode&1)!==0)}L&&(u.flags|=4)}else _=(m.nodeType===9?m:m.ownerDocument).createTextNode(_),_[Xs]=u,u.stateNode=_}return ds(u),null;case 13:if(Qr(qn),_=u.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(Ge&&Xe!==null&&u.mode&1&&!(u.flags&128))ia(),lr(),u.flags|=98560,L=!1;else if(L=Tr(u),_!==null&&_.dehydrated!==null){if(o===null){if(!L)throw Error(r(318));if(L=u.memoizedState,L=L!==null?L.dehydrated:null,!L)throw Error(r(317));L[Xs]=u}else lr(),!(u.flags&128)&&(u.memoizedState=null),u.flags|=4;ds(u),L=!1}else ot!==null&&(Fm(ot),ot=null),L=!0;if(!L)return u.flags&65536?u:null}return u.flags&128?(u.lanes=m,u):(_=_!==null,_!==(o!==null&&o.memoizedState!==null)&&_&&(u.child.flags|=8192,u.mode&1&&(o===null||qn.current&1?mi===0&&(mi=3):Dm())),u.updateQueue!==null&&(u.flags|=4),ds(u),null);case 4:return Ao(),Sm(o,u),o===null&&il(u.stateNode.containerInfo),ds(u),null;case 10:return Wr(u.type._context),ds(u),null;case 17:return Xr(u.type)&&Zs(),ds(u),null;case 19:if(Qr(qn),L=u.memoizedState,L===null)return ds(u),null;if(_=(u.flags&128)!==0,X=L.rendering,X===null)if(_)a0(L,!1);else{if(mi!==0||o!==null&&o.flags&128)for(o=u.child;o!==null;){if(X=yc(o),X!==null){for(u.flags|=128,a0(L,!1),_=X.updateQueue,_!==null&&(u.updateQueue=_,u.flags|=4),u.subtreeFlags=0,_=m,m=u.child;m!==null;)L=m,o=_,L.flags&=14680066,X=L.alternate,X===null?(L.childLanes=0,L.lanes=o,L.child=null,L.subtreeFlags=0,L.memoizedProps=null,L.memoizedState=null,L.updateQueue=null,L.dependencies=null,L.stateNode=null):(L.childLanes=X.childLanes,L.lanes=X.lanes,L.child=X.child,L.subtreeFlags=0,L.deletions=null,L.memoizedProps=X.memoizedProps,L.memoizedState=X.memoizedState,L.updateQueue=X.updateQueue,L.type=X.type,o=X.dependencies,L.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),m=m.sibling;return on(qn,qn.current&1|2),u.child}o=o.sibling}L.tail!==null&&pt()>ah&&(u.flags|=128,_=!0,a0(L,!1),u.lanes=4194304)}else{if(!_)if(o=yc(X),o!==null){if(u.flags|=128,_=!0,m=o.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),a0(L,!0),L.tail===null&&L.tailMode==="hidden"&&!X.alternate&&!Ge)return ds(u),null}else 2*pt()-L.renderingStartTime>ah&&m!==1073741824&&(u.flags|=128,_=!0,a0(L,!1),u.lanes=4194304);L.isBackwards?(X.sibling=u.child,u.child=X):(m=L.last,m!==null?m.sibling=X:u.child=X,L.last=X)}return L.tail!==null?(u=L.tail,L.rendering=u,L.tail=u.sibling,L.renderingStartTime=pt(),u.sibling=null,m=qn.current,on(qn,_?m&1|2:m&1),u):(ds(u),null);case 22:case 23:return Im(),_=u.memoizedState!==null,o!==null&&o.memoizedState!==null!==_&&(u.flags|=8192),_&&u.mode&1?Ro&1073741824&&(ds(u),u.subtreeFlags&6&&(u.flags|=8192)):ds(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function j3(o,u){switch(Qe(u),u.tag){case 1:return Xr(u.type)&&Zs(),o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 3:return Ao(),Qr(pa),Qr(Pa),ul(),o=u.flags,o&65536&&!(o&128)?(u.flags=o&-65537|128,u):null;case 5:return ld(u),null;case 13:if(Qr(qn),o=u.memoizedState,o!==null&&o.dehydrated!==null){if(u.alternate===null)throw Error(r(340));lr()}return o=u.flags,o&65536?(u.flags=o&-65537|128,u):null;case 19:return Qr(qn),null;case 4:return Ao(),null;case 10:return Wr(u.type._context),null;case 22:case 23:return Im(),null;case 24:return null;default:return null}}var Sf=!1,hs=!1,E3=typeof WeakSet=="function"?WeakSet:Set,Dt=null;function rh(o,u){var m=o.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(_){_a(o,u,_)}else m.current=null}function Nm(o,u,m){try{m()}catch(_){_a(o,u,_)}}var Zx=!1;function k3(o,u){if(sl=Yo,o=Yr(),$i(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var _=m.getSelection&&m.getSelection();if(_&&_.rangeCount!==0){m=_.anchorNode;var k=_.anchorOffset,L=_.focusNode;_=_.focusOffset;try{m.nodeType,L.nodeType}catch{m=null;break e}var X=0,we=-1,Ae=-1,Ke=0,mt=0,vt=o,ht=null;t:for(;;){for(var Tt;vt!==m||k!==0&&vt.nodeType!==3||(we=X+k),vt!==L||_!==0&&vt.nodeType!==3||(Ae=X+_),vt.nodeType===3&&(X+=vt.nodeValue.length),(Tt=vt.firstChild)!==null;)ht=vt,vt=Tt;for(;;){if(vt===o)break t;if(ht===m&&++Ke===k&&(we=X),ht===L&&++mt===_&&(Ae=X),(Tt=vt.nextSibling)!==null)break;vt=ht,ht=vt.parentNode}vt=Tt}m=we===-1||Ae===-1?null:{start:we,end:Ae}}else m=null}m=m||{start:0,end:0}}else m=null;for(ls={focusedElem:o,selectionRange:m},Yo=!1,Dt=u;Dt!==null;)if(u=Dt,o=u.child,(u.subtreeFlags&1028)!==0&&o!==null)o.return=u,Dt=o;else for(;Dt!==null;){u=Dt;try{var Mt=u.alternate;if(u.flags&1024)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Mt!==null){var Ht=Mt.memoizedProps,Da=Mt.memoizedState,ze=u.stateNode,Re=ze.getSnapshotBeforeUpdate(u.elementType===u.type?Ht:Wi(u.type,Ht),Da);ze.__reactInternalSnapshotBeforeUpdate=Re}break;case 3:var He=u.stateNode.containerInfo;He.nodeType===1?He.textContent="":He.nodeType===9&&He.documentElement&&He.removeChild(He.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(_t){_a(u,u.return,_t)}if(o=u.sibling,o!==null){o.return=u.return,Dt=o;break}Dt=u.return}return Mt=Zx,Zx=!1,Mt}function i0(o,u,m){var _=u.updateQueue;if(_=_!==null?_.lastEffect:null,_!==null){var k=_=_.next;do{if((k.tag&o)===o){var L=k.destroy;k.destroy=void 0,L!==void 0&&Nm(u,m,L)}k=k.next}while(k!==_)}}function Nf(o,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&o)===o){var _=m.create;m.destroy=_()}m=m.next}while(m!==u)}}function jm(o){var u=o.ref;if(u!==null){var m=o.stateNode;switch(o.tag){case 5:o=m;break;default:o=m}typeof u=="function"?u(o):u.current=o}}function Qx(o){var u=o.alternate;u!==null&&(o.alternate=null,Qx(u)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(u=o.stateNode,u!==null&&(delete u[Xs],delete u[Dl],delete u[Ta],delete u[Gc],delete u[Qh])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function ev(o){return o.tag===5||o.tag===3||o.tag===4}function tv(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||ev(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Em(o,u,m){var _=o.tag;if(_===5||_===6)o=o.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(o,u):m.insertBefore(o,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(o,m)):(u=m,u.appendChild(o)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=Lr));else if(_!==4&&(o=o.child,o!==null))for(Em(o,u,m),o=o.sibling;o!==null;)Em(o,u,m),o=o.sibling}function km(o,u,m){var _=o.tag;if(_===5||_===6)o=o.stateNode,u?m.insertBefore(o,u):m.appendChild(o);else if(_!==4&&(o=o.child,o!==null))for(km(o,u,m),o=o.sibling;o!==null;)km(o,u,m),o=o.sibling}var Vi=null,zl=!1;function Au(o,u,m){for(m=m.child;m!==null;)rv(o,u,m),m=m.sibling}function rv(o,u,m){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(Oi,m)}catch{}switch(m.tag){case 5:hs||rh(m,u);case 6:var _=Vi,k=zl;Vi=null,Au(o,u,m),Vi=_,zl=k,Vi!==null&&(zl?(o=Vi,m=m.stateNode,o.nodeType===8?o.parentNode.removeChild(m):o.removeChild(m)):Vi.removeChild(m.stateNode));break;case 18:Vi!==null&&(zl?(o=Vi,m=m.stateNode,o.nodeType===8?vu(o.parentNode,m):o.nodeType===1&&vu(o,m),Nn(o)):vu(Vi,m.stateNode));break;case 4:_=Vi,k=zl,Vi=m.stateNode.containerInfo,zl=!0,Au(o,u,m),Vi=_,zl=k;break;case 0:case 11:case 14:case 15:if(!hs&&(_=m.updateQueue,_!==null&&(_=_.lastEffect,_!==null))){k=_=_.next;do{var L=k,X=L.destroy;L=L.tag,X!==void 0&&(L&2||L&4)&&Nm(m,u,X),k=k.next}while(k!==_)}Au(o,u,m);break;case 1:if(!hs&&(rh(m,u),_=m.stateNode,typeof _.componentWillUnmount=="function"))try{_.props=m.memoizedProps,_.state=m.memoizedState,_.componentWillUnmount()}catch(we){_a(m,u,we)}Au(o,u,m);break;case 21:Au(o,u,m);break;case 22:m.mode&1?(hs=(_=hs)||m.memoizedState!==null,Au(o,u,m),hs=_):Au(o,u,m);break;default:Au(o,u,m)}}function nv(o){var u=o.updateQueue;if(u!==null){o.updateQueue=null;var m=o.stateNode;m===null&&(m=o.stateNode=new E3),u.forEach(function(_){var k=I3.bind(null,o,_);m.has(_)||(m.add(_),_.then(k,k))})}}function ql(o,u){var m=u.deletions;if(m!==null)for(var _=0;_<m.length;_++){var k=m[_];try{var L=o,X=u,we=X;e:for(;we!==null;){switch(we.tag){case 5:Vi=we.stateNode,zl=!1;break e;case 3:Vi=we.stateNode.containerInfo,zl=!0;break e;case 4:Vi=we.stateNode.containerInfo,zl=!0;break e}we=we.return}if(Vi===null)throw Error(r(160));rv(L,X,k),Vi=null,zl=!1;var Ae=k.alternate;Ae!==null&&(Ae.return=null),k.return=null}catch(Ke){_a(k,u,Ke)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)av(u,o),u=u.sibling}function av(o,u){var m=o.alternate,_=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(ql(u,o),jc(o),_&4){try{i0(3,o,o.return),Nf(3,o)}catch(Ht){_a(o,o.return,Ht)}try{i0(5,o,o.return)}catch(Ht){_a(o,o.return,Ht)}}break;case 1:ql(u,o),jc(o),_&512&&m!==null&&rh(m,m.return);break;case 5:if(ql(u,o),jc(o),_&512&&m!==null&&rh(m,m.return),o.flags&32){var k=o.stateNode;try{Qt(k,"")}catch(Ht){_a(o,o.return,Ht)}}if(_&4&&(k=o.stateNode,k!=null)){var L=o.memoizedProps,X=m!==null?m.memoizedProps:L,we=o.type,Ae=o.updateQueue;if(o.updateQueue=null,Ae!==null)try{we==="input"&&L.type==="radio"&&L.name!=null&&dt(k,L),Lt(we,X);var Ke=Lt(we,L);for(X=0;X<Ae.length;X+=2){var mt=Ae[X],vt=Ae[X+1];mt==="style"?pr(k,vt):mt==="dangerouslySetInnerHTML"?Ft(k,vt):mt==="children"?Qt(k,vt):T(k,mt,vt,Ke)}switch(we){case"input":Pe(k,L);break;case"textarea":fr(k,L);break;case"select":var ht=k._wrapperState.wasMultiple;k._wrapperState.wasMultiple=!!L.multiple;var Tt=L.value;Tt!=null?Ze(k,!!L.multiple,Tt,!1):ht!==!!L.multiple&&(L.defaultValue!=null?Ze(k,!!L.multiple,L.defaultValue,!0):Ze(k,!!L.multiple,L.multiple?[]:"",!1))}k[Dl]=L}catch(Ht){_a(o,o.return,Ht)}}break;case 6:if(ql(u,o),jc(o),_&4){if(o.stateNode===null)throw Error(r(162));k=o.stateNode,L=o.memoizedProps;try{k.nodeValue=L}catch(Ht){_a(o,o.return,Ht)}}break;case 3:if(ql(u,o),jc(o),_&4&&m!==null&&m.memoizedState.isDehydrated)try{Nn(u.containerInfo)}catch(Ht){_a(o,o.return,Ht)}break;case 4:ql(u,o),jc(o);break;case 13:ql(u,o),jc(o),k=o.child,k.flags&8192&&(L=k.memoizedState!==null,k.stateNode.isHidden=L,!L||k.alternate!==null&&k.alternate.memoizedState!==null||(Tm=pt())),_&4&&nv(o);break;case 22:if(mt=m!==null&&m.memoizedState!==null,o.mode&1?(hs=(Ke=hs)||mt,ql(u,o),hs=Ke):ql(u,o),jc(o),_&8192){if(Ke=o.memoizedState!==null,(o.stateNode.isHidden=Ke)&&!mt&&o.mode&1)for(Dt=o,mt=o.child;mt!==null;){for(vt=Dt=mt;Dt!==null;){switch(ht=Dt,Tt=ht.child,ht.tag){case 0:case 11:case 14:case 15:i0(4,ht,ht.return);break;case 1:rh(ht,ht.return);var Mt=ht.stateNode;if(typeof Mt.componentWillUnmount=="function"){_=ht,m=ht.return;try{u=_,Mt.props=u.memoizedProps,Mt.state=u.memoizedState,Mt.componentWillUnmount()}catch(Ht){_a(_,m,Ht)}}break;case 5:rh(ht,ht.return);break;case 22:if(ht.memoizedState!==null){ov(vt);continue}}Tt!==null?(Tt.return=ht,Dt=Tt):ov(vt)}mt=mt.sibling}e:for(mt=null,vt=o;;){if(vt.tag===5){if(mt===null){mt=vt;try{k=vt.stateNode,Ke?(L=k.style,typeof L.setProperty=="function"?L.setProperty("display","none","important"):L.display="none"):(we=vt.stateNode,Ae=vt.memoizedProps.style,X=Ae!=null&&Ae.hasOwnProperty("display")?Ae.display:null,we.style.display=Er("display",X))}catch(Ht){_a(o,o.return,Ht)}}}else if(vt.tag===6){if(mt===null)try{vt.stateNode.nodeValue=Ke?"":vt.memoizedProps}catch(Ht){_a(o,o.return,Ht)}}else if((vt.tag!==22&&vt.tag!==23||vt.memoizedState===null||vt===o)&&vt.child!==null){vt.child.return=vt,vt=vt.child;continue}if(vt===o)break e;for(;vt.sibling===null;){if(vt.return===null||vt.return===o)break e;mt===vt&&(mt=null),vt=vt.return}mt===vt&&(mt=null),vt.sibling.return=vt.return,vt=vt.sibling}}break;case 19:ql(u,o),jc(o),_&4&&nv(o);break;case 21:break;default:ql(u,o),jc(o)}}function jc(o){var u=o.flags;if(u&2){try{e:{for(var m=o.return;m!==null;){if(ev(m)){var _=m;break e}m=m.return}throw Error(r(160))}switch(_.tag){case 5:var k=_.stateNode;_.flags&32&&(Qt(k,""),_.flags&=-33);var L=tv(o);km(o,L,k);break;case 3:case 4:var X=_.stateNode.containerInfo,we=tv(o);Em(o,we,X);break;default:throw Error(r(161))}}catch(Ae){_a(o,o.return,Ae)}o.flags&=-3}u&4096&&(o.flags&=-4097)}function A3(o,u,m){Dt=o,iv(o)}function iv(o,u,m){for(var _=(o.mode&1)!==0;Dt!==null;){var k=Dt,L=k.child;if(k.tag===22&&_){var X=k.memoizedState!==null||Sf;if(!X){var we=k.alternate,Ae=we!==null&&we.memoizedState!==null||hs;we=Sf;var Ke=hs;if(Sf=X,(hs=Ae)&&!Ke)for(Dt=k;Dt!==null;)X=Dt,Ae=X.child,X.tag===22&&X.memoizedState!==null?lv(k):Ae!==null?(Ae.return=X,Dt=Ae):lv(k);for(;L!==null;)Dt=L,iv(L),L=L.sibling;Dt=k,Sf=we,hs=Ke}sv(o)}else k.subtreeFlags&8772&&L!==null?(L.return=k,Dt=L):sv(o)}}function sv(o){for(;Dt!==null;){var u=Dt;if(u.flags&8772){var m=u.alternate;try{if(u.flags&8772)switch(u.tag){case 0:case 11:case 15:hs||Nf(5,u);break;case 1:var _=u.stateNode;if(u.flags&4&&!hs)if(m===null)_.componentDidMount();else{var k=u.elementType===u.type?m.memoizedProps:Wi(u.type,m.memoizedProps);_.componentDidUpdate(k,m.memoizedState,_.__reactInternalSnapshotBeforeUpdate)}var L=u.updateQueue;L!==null&&Jr(u,L,_);break;case 3:var X=u.updateQueue;if(X!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}Jr(u,X,m)}break;case 5:var we=u.stateNode;if(m===null&&u.flags&4){m=we;var Ae=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":Ae.autoFocus&&m.focus();break;case"img":Ae.src&&(m.src=Ae.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var Ke=u.alternate;if(Ke!==null){var mt=Ke.memoizedState;if(mt!==null){var vt=mt.dehydrated;vt!==null&&Nn(vt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}hs||u.flags&512&&jm(u)}catch(ht){_a(u,u.return,ht)}}if(u===o){Dt=null;break}if(m=u.sibling,m!==null){m.return=u.return,Dt=m;break}Dt=u.return}}function ov(o){for(;Dt!==null;){var u=Dt;if(u===o){Dt=null;break}var m=u.sibling;if(m!==null){m.return=u.return,Dt=m;break}Dt=u.return}}function lv(o){for(;Dt!==null;){var u=Dt;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{Nf(4,u)}catch(Ae){_a(u,m,Ae)}break;case 1:var _=u.stateNode;if(typeof _.componentDidMount=="function"){var k=u.return;try{_.componentDidMount()}catch(Ae){_a(u,k,Ae)}}var L=u.return;try{jm(u)}catch(Ae){_a(u,L,Ae)}break;case 5:var X=u.return;try{jm(u)}catch(Ae){_a(u,X,Ae)}}}catch(Ae){_a(u,u.return,Ae)}if(u===o){Dt=null;break}var we=u.sibling;if(we!==null){we.return=u.return,Dt=we;break}Dt=u.return}}var C3=Math.ceil,jf=R.ReactCurrentDispatcher,Am=R.ReactCurrentOwner,fl=R.ReactCurrentBatchConfig,tn=0,ki=null,Qa=null,Gi=0,Ro=0,nh=cs(0),mi=0,s0=null,hd=0,Ef=0,Cm=0,o0=null,no=null,Tm=0,ah=1/0,Zc=null,kf=!1,Pm=null,Cu=null,Af=!1,Tu=null,Cf=0,l0=0,Lm=null,Tf=-1,Pf=0;function Os(){return tn&6?pt():Tf!==-1?Tf:Tf=pt()}function Pu(o){return o.mode&1?tn&2&&Gi!==0?Gi&-Gi:jt.transition!==null?(Pf===0&&(Pf=zs()),Pf):(o=zr,o!==0||(o=window.event,o=o===void 0?16:Xo(o.type)),o):1}function Hl(o,u,m,_){if(50<l0)throw l0=0,Lm=null,Error(r(185));Vo(o,m,_),(!(tn&2)||o!==ki)&&(o===ki&&(!(tn&2)&&(Ef|=m),mi===4&&Lu(o,Gi)),ao(o,_),m===1&&tn===0&&!(u.mode&1)&&(ah=pt()+500,yu&&C()))}function ao(o,u){var m=o.callbackNode;la(o,u);var _=$s(o,o===ki?Gi:0);if(_===0)m!==null&&bt(m),o.callbackNode=null,o.callbackPriority=0;else if(u=_&-_,o.callbackPriority!==u){if(m!=null&&bt(m),u===1)o.tag===0?w(uv.bind(null,o)):x(uv.bind(null,o)),Jt(function(){!(tn&6)&&C()}),m=null;else{switch(is(_)){case 1:m=Pr;break;case 4:m=wr;break;case 16:m=dn;break;case 536870912:m=ii;break;default:m=dn}m=vv(m,cv.bind(null,o))}o.callbackPriority=u,o.callbackNode=m}}function cv(o,u){if(Tf=-1,Pf=0,tn&6)throw Error(r(327));var m=o.callbackNode;if(ih()&&o.callbackNode!==m)return null;var _=$s(o,o===ki?Gi:0);if(_===0)return null;if(_&30||_&o.expiredLanes||u)u=Lf(o,_);else{u=_;var k=tn;tn|=2;var L=hv();(ki!==o||Gi!==u)&&(Zc=null,ah=pt()+500,pd(o,u));do try{L3();break}catch(we){dv(o,we)}while(!0);Mr(),jf.current=L,tn=k,Qa!==null?u=0:(ki=null,Gi=0,u=mi)}if(u!==0){if(u===2&&(k=aa(o),k!==0&&(_=k,u=Rm(o,k))),u===1)throw m=s0,pd(o,0),Lu(o,_),ao(o,pt()),m;if(u===6)Lu(o,_);else{if(k=o.current.alternate,!(_&30)&&!T3(k)&&(u=Lf(o,_),u===2&&(L=aa(o),L!==0&&(_=L,u=Rm(o,L))),u===1))throw m=s0,pd(o,0),Lu(o,_),ao(o,pt()),m;switch(o.finishedWork=k,o.finishedLanes=_,u){case 0:case 1:throw Error(r(345));case 2:md(o,no,Zc);break;case 3:if(Lu(o,_),(_&130023424)===_&&(u=Tm+500-pt(),10<u)){if($s(o,0)!==0)break;if(k=o.suspendedLanes,(k&_)!==_){Os(),o.pingedLanes|=o.suspendedLanes&k;break}o.timeoutHandle=Ps(md.bind(null,o,no,Zc),u);break}md(o,no,Zc);break;case 4:if(Lu(o,_),(_&4194240)===_)break;for(u=o.eventTimes,k=-1;0<_;){var X=31-Ar(_);L=1<<X,X=u[X],X>k&&(k=X),_&=~L}if(_=k,_=pt()-_,_=(120>_?120:480>_?480:1080>_?1080:1920>_?1920:3e3>_?3e3:4320>_?4320:1960*C3(_/1960))-_,10<_){o.timeoutHandle=Ps(md.bind(null,o,no,Zc),_);break}md(o,no,Zc);break;case 5:md(o,no,Zc);break;default:throw Error(r(329))}}}return ao(o,pt()),o.callbackNode===m?cv.bind(null,o):null}function Rm(o,u){var m=o0;return o.current.memoizedState.isDehydrated&&(pd(o,u).flags|=256),o=Lf(o,u),o!==2&&(u=no,no=m,u!==null&&Fm(u)),o}function Fm(o){no===null?no=o:no.push.apply(no,o)}function T3(o){for(var u=o;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var _=0;_<m.length;_++){var k=m[_],L=k.getSnapshot;k=k.value;try{if(!Fn(L(),k))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Lu(o,u){for(u&=~Cm,u&=~Ef,o.suspendedLanes|=u,o.pingedLanes&=~u,o=o.expirationTimes;0<u;){var m=31-Ar(u),_=1<<m;o[m]=-1,u&=~_}}function uv(o){if(tn&6)throw Error(r(327));ih();var u=$s(o,0);if(!(u&1))return ao(o,pt()),null;var m=Lf(o,u);if(o.tag!==0&&m===2){var _=aa(o);_!==0&&(u=_,m=Rm(o,_))}if(m===1)throw m=s0,pd(o,0),Lu(o,u),ao(o,pt()),m;if(m===6)throw Error(r(345));return o.finishedWork=o.current.alternate,o.finishedLanes=u,md(o,no,Zc),ao(o,pt()),null}function Om(o,u){var m=tn;tn|=1;try{return o(u)}finally{tn=m,tn===0&&(ah=pt()+500,yu&&C())}}function fd(o){Tu!==null&&Tu.tag===0&&!(tn&6)&&ih();var u=tn;tn|=1;var m=fl.transition,_=zr;try{if(fl.transition=null,zr=1,o)return o()}finally{zr=_,fl.transition=m,tn=u,!(tn&6)&&C()}}function Im(){Ro=nh.current,Qr(nh)}function pd(o,u){o.finishedWork=null,o.finishedLanes=0;var m=o.timeoutHandle;if(m!==-1&&(o.timeoutHandle=-1,Kd(m)),Qa!==null)for(m=Qa.return;m!==null;){var _=m;switch(Qe(_),_.tag){case 1:_=_.type.childContextTypes,_!=null&&Zs();break;case 3:Ao(),Qr(pa),Qr(Pa),ul();break;case 5:ld(_);break;case 4:Ao();break;case 13:Qr(qn);break;case 19:Qr(qn);break;case 10:Wr(_.type._context);break;case 22:case 23:Im()}m=m.return}if(ki=o,Qa=o=Ru(o.current,null),Gi=Ro=u,mi=0,s0=null,Cm=Ef=hd=0,no=o0=null,La!==null){for(u=0;u<La.length;u++)if(m=La[u],_=m.interleaved,_!==null){m.interleaved=null;var k=_.next,L=m.pending;if(L!==null){var X=L.next;L.next=k,_.next=X}m.pending=_}La=null}return o}function dv(o,u){do{var m=Qa;try{if(Mr(),wu.current=dd,Ml){for(var _=wn.memoizedState;_!==null;){var k=_.queue;k!==null&&(k.pending=null),_=_.next}Ml=!1}if(dl=0,sa=Yn=wn=null,Co=!1,To=0,Am.current=null,m===null||m.return===null){mi=1,s0=u,Qa=null;break}e:{var L=o,X=m.return,we=m,Ae=u;if(u=Gi,we.flags|=32768,Ae!==null&&typeof Ae=="object"&&typeof Ae.then=="function"){var Ke=Ae,mt=we,vt=mt.tag;if(!(mt.mode&1)&&(vt===0||vt===11||vt===15)){var ht=mt.alternate;ht?(mt.updateQueue=ht.updateQueue,mt.memoizedState=ht.memoizedState,mt.lanes=ht.lanes):(mt.updateQueue=null,mt.memoizedState=null)}var Tt=Ix(X);if(Tt!==null){Tt.flags&=-257,Dx(Tt,X,we,L,u),Tt.mode&1&&Ox(L,Ke,u),u=Tt,Ae=Ke;var Mt=u.updateQueue;if(Mt===null){var Ht=new Set;Ht.add(Ae),u.updateQueue=Ht}else Mt.add(Ae);break e}else{if(!(u&1)){Ox(L,Ke,u),Dm();break e}Ae=Error(r(426))}}else if(Ge&&we.mode&1){var Da=Ix(X);if(Da!==null){!(Da.flags&65536)&&(Da.flags|=256),Dx(Da,X,we,L,u),Ot(th(Ae,we));break e}}L=Ae=th(Ae,we),mi!==4&&(mi=2),o0===null?o0=[L]:o0.push(L),L=X;do{switch(L.tag){case 3:L.flags|=65536,u&=-u,L.lanes|=u;var ze=Rx(L,Ae,u);ji(L,ze);break e;case 1:we=Ae;var Re=L.type,He=L.stateNode;if(!(L.flags&128)&&(typeof Re.getDerivedStateFromError=="function"||He!==null&&typeof He.componentDidCatch=="function"&&(Cu===null||!Cu.has(He)))){L.flags|=65536,u&=-u,L.lanes|=u;var _t=Fx(L,we,u);ji(L,_t);break e}}L=L.return}while(L!==null)}pv(m)}catch(Vt){u=Vt,Qa===m&&m!==null&&(Qa=m=m.return);continue}break}while(!0)}function hv(){var o=jf.current;return jf.current=dd,o===null?dd:o}function Dm(){(mi===0||mi===3||mi===2)&&(mi=4),ki===null||!(hd&268435455)&&!(Ef&268435455)||Lu(ki,Gi)}function Lf(o,u){var m=tn;tn|=2;var _=hv();(ki!==o||Gi!==u)&&(Zc=null,pd(o,u));do try{P3();break}catch(k){dv(o,k)}while(!0);if(Mr(),tn=m,jf.current=_,Qa!==null)throw Error(r(261));return ki=null,Gi=0,mi}function P3(){for(;Qa!==null;)fv(Qa)}function L3(){for(;Qa!==null&&!Nt();)fv(Qa)}function fv(o){var u=xv(o.alternate,o,Ro);o.memoizedProps=o.pendingProps,u===null?pv(o):Qa=u,Am.current=null}function pv(o){var u=o;do{var m=u.alternate;if(o=u.return,u.flags&32768){if(m=j3(m,u),m!==null){m.flags&=32767,Qa=m;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{mi=6,Qa=null;return}}else if(m=N3(m,u,Ro),m!==null){Qa=m;return}if(u=u.sibling,u!==null){Qa=u;return}Qa=u=o}while(u!==null);mi===0&&(mi=5)}function md(o,u,m){var _=zr,k=fl.transition;try{fl.transition=null,zr=1,R3(o,u,m,_)}finally{fl.transition=k,zr=_}return null}function R3(o,u,m,_){do ih();while(Tu!==null);if(tn&6)throw Error(r(327));m=o.finishedWork;var k=o.finishedLanes;if(m===null)return null;if(o.finishedWork=null,o.finishedLanes=0,m===o.current)throw Error(r(177));o.callbackNode=null,o.callbackPriority=0;var L=m.lanes|m.childLanes;if(ws(o,L),o===ki&&(Qa=ki=null,Gi=0),!(m.subtreeFlags&2064)&&!(m.flags&2064)||Af||(Af=!0,vv(dn,function(){return ih(),null})),L=(m.flags&15990)!==0,m.subtreeFlags&15990||L){L=fl.transition,fl.transition=null;var X=zr;zr=1;var we=tn;tn|=4,Am.current=null,k3(o,m),av(m,o),uc(ls),Yo=!!sl,ls=sl=null,o.current=m,A3(m),gt(),tn=we,zr=X,fl.transition=L}else o.current=m;if(Af&&(Af=!1,Tu=o,Cf=k),L=o.pendingLanes,L===0&&(Cu=null),_s(m.stateNode),ao(o,pt()),u!==null)for(_=o.onRecoverableError,m=0;m<u.length;m++)k=u[m],_(k.value,{componentStack:k.stack,digest:k.digest});if(kf)throw kf=!1,o=Pm,Pm=null,o;return Cf&1&&o.tag!==0&&ih(),L=o.pendingLanes,L&1?o===Lm?l0++:(l0=0,Lm=o):l0=0,C(),null}function ih(){if(Tu!==null){var o=is(Cf),u=fl.transition,m=zr;try{if(fl.transition=null,zr=16>o?16:o,Tu===null)var _=!1;else{if(o=Tu,Tu=null,Cf=0,tn&6)throw Error(r(331));var k=tn;for(tn|=4,Dt=o.current;Dt!==null;){var L=Dt,X=L.child;if(Dt.flags&16){var we=L.deletions;if(we!==null){for(var Ae=0;Ae<we.length;Ae++){var Ke=we[Ae];for(Dt=Ke;Dt!==null;){var mt=Dt;switch(mt.tag){case 0:case 11:case 15:i0(8,mt,L)}var vt=mt.child;if(vt!==null)vt.return=mt,Dt=vt;else for(;Dt!==null;){mt=Dt;var ht=mt.sibling,Tt=mt.return;if(Qx(mt),mt===Ke){Dt=null;break}if(ht!==null){ht.return=Tt,Dt=ht;break}Dt=Tt}}}var Mt=L.alternate;if(Mt!==null){var Ht=Mt.child;if(Ht!==null){Mt.child=null;do{var Da=Ht.sibling;Ht.sibling=null,Ht=Da}while(Ht!==null)}}Dt=L}}if(L.subtreeFlags&2064&&X!==null)X.return=L,Dt=X;else e:for(;Dt!==null;){if(L=Dt,L.flags&2048)switch(L.tag){case 0:case 11:case 15:i0(9,L,L.return)}var ze=L.sibling;if(ze!==null){ze.return=L.return,Dt=ze;break e}Dt=L.return}}var Re=o.current;for(Dt=Re;Dt!==null;){X=Dt;var He=X.child;if(X.subtreeFlags&2064&&He!==null)He.return=X,Dt=He;else e:for(X=Re;Dt!==null;){if(we=Dt,we.flags&2048)try{switch(we.tag){case 0:case 11:case 15:Nf(9,we)}}catch(Vt){_a(we,we.return,Vt)}if(we===X){Dt=null;break e}var _t=we.sibling;if(_t!==null){_t.return=we.return,Dt=_t;break e}Dt=we.return}}if(tn=k,C(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(Oi,o)}catch{}_=!0}return _}finally{zr=m,fl.transition=u}}return!1}function mv(o,u,m){u=th(m,u),u=Rx(o,u,1),o=Gn(o,u,1),u=Os(),o!==null&&(Vo(o,1,u),ao(o,u))}function _a(o,u,m){if(o.tag===3)mv(o,o,m);else for(;u!==null;){if(u.tag===3){mv(u,o,m);break}else if(u.tag===1){var _=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof _.componentDidCatch=="function"&&(Cu===null||!Cu.has(_))){o=th(m,o),o=Fx(u,o,1),u=Gn(u,o,1),o=Os(),u!==null&&(Vo(u,1,o),ao(u,o));break}}u=u.return}}function F3(o,u,m){var _=o.pingCache;_!==null&&_.delete(u),u=Os(),o.pingedLanes|=o.suspendedLanes&m,ki===o&&(Gi&m)===m&&(mi===4||mi===3&&(Gi&130023424)===Gi&&500>pt()-Tm?pd(o,0):Cm|=m),ao(o,u)}function gv(o,u){u===0&&(o.mode&1?(u=vi,vi<<=1,!(vi&130023424)&&(vi=4194304)):u=1);var m=Os();o=Nr(o,u),o!==null&&(Vo(o,u,m),ao(o,m))}function O3(o){var u=o.memoizedState,m=0;u!==null&&(m=u.retryLane),gv(o,m)}function I3(o,u){var m=0;switch(o.tag){case 13:var _=o.stateNode,k=o.memoizedState;k!==null&&(m=k.retryLane);break;case 19:_=o.stateNode;break;default:throw Error(r(314))}_!==null&&_.delete(u),gv(o,m)}var xv;xv=function(o,u,m){if(o!==null)if(o.memoizedProps!==u.pendingProps||pa.current)ro=!0;else{if(!(o.lanes&m)&&!(u.flags&128))return ro=!1,S3(o,u,m);ro=!!(o.flags&131072)}else ro=!1,Ge&&u.flags&1048576&&Ce(u,ee,u.index);switch(u.lanes=0,u.tag){case 2:var _=u.type;wf(o,u),o=u.pendingProps;var k=vc(u,Pa.current);Ur(u,m),k=Su(null,u,_,o,k,m);var L=Yc();return u.flags|=1,typeof k=="object"&&k!==null&&typeof k.render=="function"&&k.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Xr(_)?(L=!0,Kc(u)):L=!1,u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,pi(u),k.updater=n0,u.stateNode=k,k._reactInternals=u,pm(u,_,o,m),u=vm(null,u,_,!0,L,m)):(u.tag=0,Ge&&L&&Ie(u),Fs(null,u,k,m),u=u.child),u;case 16:_=u.elementType;e:{switch(wf(o,u),o=u.pendingProps,k=_._init,_=k(_._payload),u.type=_,k=u.tag=B3(_),o=Wi(_,o),k){case 0:u=xm(null,u,_,o,m);break e;case 1:u=qx(null,u,_,o,m);break e;case 11:u=Bx(null,u,_,o,m);break e;case 14:u=Mx(null,u,_,Wi(_.type,o),m);break e}throw Error(r(306,_,""))}return u;case 0:return _=u.type,k=u.pendingProps,k=u.elementType===_?k:Wi(_,k),xm(o,u,_,k,m);case 1:return _=u.type,k=u.pendingProps,k=u.elementType===_?k:Wi(_,k),qx(o,u,_,k,m);case 3:e:{if(Hx(u),o===null)throw Error(r(387));_=u.pendingProps,L=u.memoizedState,k=L.element,Xa(o,u),en(u,_,null,m);var X=u.memoizedState;if(_=X.element,L.isDehydrated)if(L={element:_,isDehydrated:!1,cache:X.cache,pendingSuspenseBoundaries:X.pendingSuspenseBoundaries,transitions:X.transitions},u.updateQueue.baseState=L,u.memoizedState=L,u.flags&256){k=th(Error(r(423)),u),u=Wx(o,u,_,m,k);break e}else if(_!==k){k=th(Error(r(424)),u),u=Wx(o,u,_,m,k);break e}else for(Xe=On(u.stateNode.containerInfo.firstChild),De=u,Ge=!0,ot=null,m=Ya(u,null,_,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(lr(),_===k){u=Jc(o,u,m);break e}Fs(o,u,_,m)}u=u.child}return u;case 5:return _c(u),o===null&&vr(u),_=u.type,k=u.pendingProps,L=o!==null?o.memoizedProps:null,X=k.children,sd(_,k)?X=null:L!==null&&sd(_,L)&&(u.flags|=32),zx(o,u),Fs(o,u,X,m),u.child;case 6:return o===null&&vr(u),null;case 13:return Vx(o,u,m);case 4:return bc(u,u.stateNode.containerInfo),_=u.pendingProps,o===null?u.child=pn(u,null,_,m):Fs(o,u,_,m),u.child;case 11:return _=u.type,k=u.pendingProps,k=u.elementType===_?k:Wi(_,k),Bx(o,u,_,k,m);case 7:return Fs(o,u,u.pendingProps,m),u.child;case 8:return Fs(o,u,u.pendingProps.children,m),u.child;case 12:return Fs(o,u,u.pendingProps.children,m),u.child;case 10:e:{if(_=u.type._context,k=u.pendingProps,L=u.memoizedProps,X=k.value,on(En,_._currentValue),_._currentValue=X,L!==null)if(Fn(L.value,X)){if(L.children===k.children&&!pa.current){u=Jc(o,u,m);break e}}else for(L=u.child,L!==null&&(L.return=u);L!==null;){var we=L.dependencies;if(we!==null){X=L.child;for(var Ae=we.firstContext;Ae!==null;){if(Ae.context===_){if(L.tag===1){Ae=Qn(-1,m&-m),Ae.tag=2;var Ke=L.updateQueue;if(Ke!==null){Ke=Ke.shared;var mt=Ke.pending;mt===null?Ae.next=Ae:(Ae.next=mt.next,mt.next=Ae),Ke.pending=Ae}}L.lanes|=m,Ae=L.alternate,Ae!==null&&(Ae.lanes|=m),In(L.return,m,u),we.lanes|=m;break}Ae=Ae.next}}else if(L.tag===10)X=L.type===u.type?null:L.child;else if(L.tag===18){if(X=L.return,X===null)throw Error(r(341));X.lanes|=m,we=X.alternate,we!==null&&(we.lanes|=m),In(X,m,u),X=L.sibling}else X=L.child;if(X!==null)X.return=L;else for(X=L;X!==null;){if(X===u){X=null;break}if(L=X.sibling,L!==null){L.return=X.return,X=L;break}X=X.return}L=X}Fs(o,u,k.children,m),u=u.child}return u;case 9:return k=u.type,_=u.pendingProps.children,Ur(u,m),k=ln(k),_=_(k),u.flags|=1,Fs(o,u,_,m),u.child;case 14:return _=u.type,k=Wi(_,u.pendingProps),k=Wi(_.type,k),Mx(o,u,_,k,m);case 15:return Ux(o,u,u.type,u.pendingProps,m);case 17:return _=u.type,k=u.pendingProps,k=u.elementType===_?k:Wi(_,k),wf(o,u),u.tag=1,Xr(_)?(o=!0,Kc(u)):o=!1,Ur(u,m),Px(u,_,k),pm(u,_,k,m),vm(null,u,_,!0,o,m);case 19:return Kx(o,u,m);case 22:return $x(o,u,m)}throw Error(r(156,u.tag))};function vv(o,u){return ct(o,u)}function D3(o,u,m,_){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=_,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pl(o,u,m,_){return new D3(o,u,m,_)}function Bm(o){return o=o.prototype,!(!o||!o.isReactComponent)}function B3(o){if(typeof o=="function")return Bm(o)?1:0;if(o!=null){if(o=o.$$typeof,o===W)return 11;if(o===_e)return 14}return 2}function Ru(o,u){var m=o.alternate;return m===null?(m=pl(o.tag,u,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=u,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&14680064,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,u=o.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m}function Rf(o,u,m,_,k,L){var X=2;if(_=o,typeof o=="function")Bm(o)&&(X=1);else if(typeof o=="string")X=5;else e:switch(o){case G:return gd(m.children,k,L,u);case H:X=8,k|=8;break;case M:return o=pl(12,m,u,k|2),o.elementType=M,o.lanes=L,o;case ae:return o=pl(13,m,u,k),o.elementType=ae,o.lanes=L,o;case ge:return o=pl(19,m,u,k),o.elementType=ge,o.lanes=L,o;case Te:return Ff(m,k,L,u);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case re:X=10;break e;case I:X=9;break e;case W:X=11;break e;case _e:X=14;break e;case Le:X=16,_=null;break e}throw Error(r(130,o==null?o:typeof o,""))}return u=pl(X,m,u,k),u.elementType=o,u.type=_,u.lanes=L,u}function gd(o,u,m,_){return o=pl(7,o,_,u),o.lanes=m,o}function Ff(o,u,m,_){return o=pl(22,o,_,u),o.elementType=Te,o.lanes=m,o.stateNode={isHidden:!1},o}function Mm(o,u,m){return o=pl(6,o,null,u),o.lanes=m,o}function Um(o,u,m){return u=pl(4,o.children!==null?o.children:[],o.key,u),u.lanes=m,u.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},u}function M3(o,u,m,_,k){this.tag=u,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wl(0),this.expirationTimes=wl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wl(0),this.identifierPrefix=_,this.onRecoverableError=k,this.mutableSourceEagerHydrationData=null}function $m(o,u,m,_,k,L,X,we,Ae){return o=new M3(o,u,m,we,Ae),u===1?(u=1,L===!0&&(u|=8)):u=0,L=pl(3,null,null,u),o.current=L,L.stateNode=o,L.memoizedState={element:_,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},pi(L),o}function U3(o,u,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:te,key:_==null?null:""+_,children:o,containerInfo:u,implementation:m}}function bv(o){if(!o)return ko;o=o._reactInternals;e:{if(xe(o)!==o||o.tag!==1)throw Error(r(170));var u=o;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Xr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(o.tag===1){var m=o.type;if(Xr(m))return Yd(o,m,u)}return u}function _v(o,u,m,_,k,L,X,we,Ae){return o=$m(m,_,!0,o,k,L,X,we,Ae),o.context=bv(null),m=o.current,_=Os(),k=Pu(m),L=Qn(_,k),L.callback=u??null,Gn(m,L,k),o.current.lanes=k,Vo(o,k,_),ao(o,_),o}function Of(o,u,m,_){var k=u.current,L=Os(),X=Pu(k);return m=bv(m),u.context===null?u.context=m:u.pendingContext=m,u=Qn(L,X),u.payload={element:o},_=_===void 0?null:_,_!==null&&(u.callback=_),o=Gn(k,u,X),o!==null&&(Hl(o,k,X,L),Ra(o,k,X)),X}function If(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function yv(o,u){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<u?m:u}}function zm(o,u){yv(o,u),(o=o.alternate)&&yv(o,u)}var wv=typeof reportError=="function"?reportError:function(o){console.error(o)};function qm(o){this._internalRoot=o}Df.prototype.render=qm.prototype.render=function(o){var u=this._internalRoot;if(u===null)throw Error(r(409));Of(o,u,null,null)},Df.prototype.unmount=qm.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var u=o.containerInfo;fd(function(){Of(null,o,null,null)}),u[Ka]=null}};function Df(o){this._internalRoot=o}Df.prototype.unstable_scheduleHydration=function(o){if(o){var u=ss();o={blockedOn:null,target:o,priority:u};for(var m=0;m<qa.length&&u!==0&&u<qa[m].priority;m++);qa.splice(m,0,o),m===0&&Hs(o)}};function Hm(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function Bf(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function Sv(){}function $3(o,u,m,_,k){if(k){if(typeof _=="function"){var L=_;_=function(){var Ke=If(X);L.call(Ke)}}var X=_v(u,_,o,0,null,!1,!1,"",Sv);return o._reactRootContainer=X,o[Ka]=X.current,il(o.nodeType===8?o.parentNode:o),fd(),X}for(;k=o.lastChild;)o.removeChild(k);if(typeof _=="function"){var we=_;_=function(){var Ke=If(Ae);we.call(Ke)}}var Ae=$m(o,0,!1,null,null,!1,!1,"",Sv);return o._reactRootContainer=Ae,o[Ka]=Ae.current,il(o.nodeType===8?o.parentNode:o),fd(function(){Of(u,Ae,m,_)}),Ae}function Mf(o,u,m,_,k){var L=m._reactRootContainer;if(L){var X=L;if(typeof k=="function"){var we=k;k=function(){var Ae=If(X);we.call(Ae)}}Of(u,X,o,k)}else X=$3(m,u,o,k,_);return If(X)}fo=function(o){switch(o.tag){case 3:var u=o.stateNode;if(u.current.memoizedState.isDehydrated){var m=ys(u.pendingLanes);m!==0&&(ac(u,m|1),ao(u,pt()),!(tn&6)&&(ah=pt()+500,C()))}break;case 13:fd(function(){var _=Nr(o,1);if(_!==null){var k=Os();Hl(_,o,1,k)}}),zm(o,1)}},Sl=function(o){if(o.tag===13){var u=Nr(o,134217728);if(u!==null){var m=Os();Hl(u,o,134217728,m)}zm(o,134217728)}},Bn=function(o){if(o.tag===13){var u=Pu(o),m=Nr(o,u);if(m!==null){var _=Os();Hl(m,o,u,_)}zm(o,u)}},ss=function(){return zr},po=function(o,u){var m=zr;try{return zr=o,u()}finally{zr=m}},er=function(o,u,m){switch(u){case"input":if(Pe(o,m),u=m.name,m.type==="radio"&&u!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var _=m[u];if(_!==o&&_.form===o.form){var k=Bl(_);if(!k)throw Error(r(90));at(_),Pe(_,k)}}}break;case"textarea":fr(o,m);break;case"select":u=m.value,u!=null&&Ze(o,!!m.multiple,u,!1)}},ra=Om,Fi=fd;var z3={usingClientEntryPoint:!1,Events:[xc,Js,Bl,Rr,as,Om]},c0={findFiberByHostInstance:ol,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},q3={bundleType:c0.bundleType,version:c0.version,rendererPackageName:c0.rendererPackageName,rendererConfig:c0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:R.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=$e(o),o===null?null:o.stateNode},findFiberByHostInstance:c0.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Uf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Uf.isDisabled&&Uf.supportsFiber)try{Oi=Uf.inject(q3),an=Uf}catch{}}return io.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=z3,io.createPortal=function(o,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hm(u))throw Error(r(200));return U3(o,u,null,m)},io.createRoot=function(o,u){if(!Hm(o))throw Error(r(299));var m=!1,_="",k=wv;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(_=u.identifierPrefix),u.onRecoverableError!==void 0&&(k=u.onRecoverableError)),u=$m(o,1,!1,null,null,m,!1,_,k),o[Ka]=u.current,il(o.nodeType===8?o.parentNode:o),new qm(u)},io.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var u=o._reactInternals;if(u===void 0)throw typeof o.render=="function"?Error(r(188)):(o=Object.keys(o).join(","),Error(r(268,o)));return o=$e(u),o=o===null?null:o.stateNode,o},io.flushSync=function(o){return fd(o)},io.hydrate=function(o,u,m){if(!Bf(u))throw Error(r(200));return Mf(null,o,u,!0,m)},io.hydrateRoot=function(o,u,m){if(!Hm(o))throw Error(r(405));var _=m!=null&&m.hydratedSources||null,k=!1,L="",X=wv;if(m!=null&&(m.unstable_strictMode===!0&&(k=!0),m.identifierPrefix!==void 0&&(L=m.identifierPrefix),m.onRecoverableError!==void 0&&(X=m.onRecoverableError)),u=_v(u,null,o,1,m??null,k,!1,L,X),o[Ka]=u.current,il(o),_)for(o=0;o<_.length;o++)m=_[o],k=m._getVersion,k=k(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,k]:u.mutableSourceEagerHydrationData.push(m,k);return new Df(u)},io.render=function(o,u,m){if(!Bf(u))throw Error(r(200));return Mf(null,o,u,!1,m)},io.unmountComponentAtNode=function(o){if(!Bf(o))throw Error(r(40));return o._reactRootContainer?(fd(function(){Mf(null,null,o,!1,function(){o._reactRootContainer=null,o[Ka]=null})}),!0):!1},io.unstable_batchedUpdates=Om,io.unstable_renderSubtreeIntoContainer=function(o,u,m,_){if(!Bf(m))throw Error(r(200));if(o==null||o._reactInternals===void 0)throw Error(r(38));return Mf(o,u,m,!1,_)},io.version="18.3.1-next-f1338f8080-20240426",io}var Pv;function Q3(){if(Pv)return Gm.exports;Pv=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Gm.exports=Z3(),Gm.exports}var Lv;function e4(){if(Lv)return $f;Lv=1;var e=Q3();return $f.createRoot=e.createRoot,$f.hydrateRoot=e.hydrateRoot,$f}var t4=e4(),d0={},Rv;function r4(){if(Rv)return d0;Rv=1,Object.defineProperty(d0,"__esModule",{value:!0}),d0.parse=l,d0.serialize=h;const e=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,t=/^[\u0021-\u003A\u003C-\u007E]*$/,r=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,n=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,i=(()=>{const b=function(){};return b.prototype=Object.create(null),b})();function l(b,g){const S=new i,y=b.length;if(y<2)return S;const N=(g==null?void 0:g.decode)||p;let A=0;do{const P=b.indexOf("=",A);if(P===-1)break;const T=b.indexOf(";",A),R=T===-1?y:T;if(P>R){A=b.lastIndexOf(";",P-1)+1;continue}const q=c(b,A,P),te=d(b,P,q),G=b.slice(q,te);if(S[G]===void 0){let H=c(b,P+1,R),M=d(b,R,H);const re=N(b.slice(H,M));S[G]=re}A=R+1}while(A<y);return S}function c(b,g,S){do{const y=b.charCodeAt(g);if(y!==32&&y!==9)return g}while(++g<S);return S}function d(b,g,S){for(;g>S;){const y=b.charCodeAt(--g);if(y!==32&&y!==9)return g+1}return S}function h(b,g,S){const y=(S==null?void 0:S.encode)||encodeURIComponent;if(!e.test(b))throw new TypeError(`argument name is invalid: ${b}`);const N=y(g);if(!t.test(N))throw new TypeError(`argument val is invalid: ${g}`);let A=b+"="+N;if(!S)return A;if(S.maxAge!==void 0){if(!Number.isInteger(S.maxAge))throw new TypeError(`option maxAge is invalid: ${S.maxAge}`);A+="; Max-Age="+S.maxAge}if(S.domain){if(!r.test(S.domain))throw new TypeError(`option domain is invalid: ${S.domain}`);A+="; Domain="+S.domain}if(S.path){if(!n.test(S.path))throw new TypeError(`option path is invalid: ${S.path}`);A+="; Path="+S.path}if(S.expires){if(!f(S.expires)||!Number.isFinite(S.expires.valueOf()))throw new TypeError(`option expires is invalid: ${S.expires}`);A+="; Expires="+S.expires.toUTCString()}if(S.httpOnly&&(A+="; HttpOnly"),S.secure&&(A+="; Secure"),S.partitioned&&(A+="; Partitioned"),S.priority)switch(typeof S.priority=="string"?S.priority.toLowerCase():void 0){case"low":A+="; Priority=Low";break;case"medium":A+="; Priority=Medium";break;case"high":A+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${S.priority}`)}if(S.sameSite)switch(typeof S.sameSite=="string"?S.sameSite.toLowerCase():S.sameSite){case!0:case"strict":A+="; SameSite=Strict";break;case"lax":A+="; SameSite=Lax";break;case"none":A+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${S.sameSite}`)}return A}function p(b){if(b.indexOf("%")===-1)return b;try{return decodeURIComponent(b)}catch{return b}}function f(b){return a.call(b)==="[object Date]"}return d0}r4();/**
 * react-router v7.1.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Fv="popstate";function n4(e={}){function t(a,i){let{pathname:l="/",search:c="",hash:d=""}=Ud(a.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),Jg("",{pathname:l,search:c,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(a,i){let l=a.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let d=a.location.href,h=d.indexOf("#");c=h===-1?d:d.slice(0,h)}return c+"#"+(typeof i=="string"?i:F0(i))}function n(a,i){ec(a.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(i)})`)}return i4(t,r,n,e)}function xa(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ec(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function a4(){return Math.random().toString(36).substring(2,10)}function Ov(e,t){return{usr:e.state,key:e.key,idx:t}}function Jg(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Ud(t):t,state:r,key:t&&t.key||n||a4()}}function F0({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ud(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function i4(e,t,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,l=a.history,c="POP",d=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function f(){c="POP";let N=p(),A=N==null?null:N-h;h=N,d&&d({action:c,location:y.location,delta:A})}function b(N,A){c="PUSH";let P=Jg(y.location,N,A);r(P,N),h=p()+1;let T=Ov(P,h),R=y.createHref(P);try{l.pushState(T,"",R)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;a.location.assign(R)}i&&d&&d({action:c,location:y.location,delta:1})}function g(N,A){c="REPLACE";let P=Jg(y.location,N,A);r(P,N),h=p();let T=Ov(P,h),R=y.createHref(P);l.replaceState(T,"",R),i&&d&&d({action:c,location:y.location,delta:0})}function S(N){let A=a.location.origin!=="null"?a.location.origin:a.location.href,P=typeof N=="string"?N:F0(N);return P=P.replace(/ $/,"%20"),xa(A,`No window.location.(origin|href) available to create URL for href: ${P}`),new URL(P,A)}let y={get action(){return c},get location(){return e(a,l)},listen(N){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(Fv,f),d=N,()=>{a.removeEventListener(Fv,f),d=null}},createHref(N){return t(a,N)},createURL:S,encodeLocation(N){let A=S(N);return{pathname:A.pathname,search:A.search,hash:A.hash}},push:b,replace:g,go(N){return l.go(N)}};return y}function P_(e,t,r="/"){return s4(e,t,r,!1)}function s4(e,t,r,n){let a=typeof t=="string"?Ud(t):t,i=Yu(a.pathname||"/",r);if(i==null)return null;let l=L_(e);o4(l);let c=null;for(let d=0;c==null&&d<l.length;++d){let h=v4(i);c=g4(l[d],h,n)}return c}function L_(e,t=[],r=[],n=""){let a=(i,l,c)=>{let d={relativePath:c===void 0?i.path||"":c,caseSensitive:i.caseSensitive===!0,childrenIndex:l,route:i};d.relativePath.startsWith("/")&&(xa(d.relativePath.startsWith(n),`Absolute route path "${d.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),d.relativePath=d.relativePath.slice(n.length));let h=iu([n,d.relativePath]),p=r.concat(d);i.children&&i.children.length>0&&(xa(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),L_(i.children,t,p,h)),!(i.path==null&&!i.index)&&t.push({path:h,score:p4(h,i.index),routesMeta:p})};return e.forEach((i,l)=>{var c;if(i.path===""||!((c=i.path)!=null&&c.includes("?")))a(i,l);else for(let d of R_(i.path))a(i,l,d)}),t}function R_(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let l=R_(n.join("/")),c=[];return c.push(...l.map(d=>d===""?i:[i,d].join("/"))),a&&c.push(...l),c.map(d=>e.startsWith("/")&&d===""?"/":d)}function o4(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:m4(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var l4=/^:[\w-]+$/,c4=3,u4=2,d4=1,h4=10,f4=-2,Iv=e=>e==="*";function p4(e,t){let r=e.split("/"),n=r.length;return r.some(Iv)&&(n+=f4),t&&(n+=u4),r.filter(a=>!Iv(a)).reduce((a,i)=>a+(l4.test(i)?c4:i===""?d4:h4),n)}function m4(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function g4(e,t,r=!1){let{routesMeta:n}=e,a={},i="/",l=[];for(let c=0;c<n.length;++c){let d=n[c],h=c===n.length-1,p=i==="/"?t:t.slice(i.length)||"/",f=bp({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},p),b=d.route;if(!f&&h&&r&&!n[n.length-1].route.index&&(f=bp({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},p)),!f)return null;Object.assign(a,f.params),l.push({params:a,pathname:iu([i,f.pathname]),pathnameBase:w4(iu([i,f.pathnameBase])),route:b}),f.pathnameBase!=="/"&&(i=iu([i,f.pathnameBase]))}return l}function bp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=x4(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let i=a[0],l=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:f},b)=>{if(p==="*"){let S=c[b]||"";l=i.slice(0,i.length-S.length).replace(/(.)\/+$/,"$1")}const g=c[b];return f&&!g?h[p]=void 0:h[p]=(g||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:e}}function x4(e,t=!1,r=!0){ec(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function v4(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ec(!1,`The URL path "${e}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Yu(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function b4(e,t="/"){let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Ud(e):e;return{pathname:r?r.startsWith("/")?r:_4(r,t):t,search:S4(n),hash:N4(a)}}function _4(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Xm(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function y4(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function F_(e){let t=y4(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function O_(e,t,r,n=!1){let a;typeof e=="string"?a=Ud(e):(a={...e},xa(!a.pathname||!a.pathname.includes("?"),Xm("?","pathname","search",a)),xa(!a.pathname||!a.pathname.includes("#"),Xm("#","pathname","hash",a)),xa(!a.search||!a.search.includes("#"),Xm("#","search","hash",a)));let i=e===""||a.pathname==="",l=i?"/":a.pathname,c;if(l==null)c=r;else{let f=t.length-1;if(!n&&l.startsWith("..")){let b=l.split("/");for(;b[0]==="..";)b.shift(),f-=1;a.pathname=b.join("/")}c=f>=0?t[f]:"/"}let d=b4(a,c),h=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||p)&&(d.pathname+="/"),d}var iu=e=>e.join("/").replace(/\/\/+/g,"/"),w4=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),S4=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,N4=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function j4(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var I_=["POST","PUT","PATCH","DELETE"];new Set(I_);var E4=["GET",...I_];new Set(E4);var qh=U.createContext(null);qh.displayName="DataRouter";var Kp=U.createContext(null);Kp.displayName="DataRouterState";var D_=U.createContext({isTransitioning:!1});D_.displayName="ViewTransition";var k4=U.createContext(new Map);k4.displayName="Fetchers";var A4=U.createContext(null);A4.displayName="Await";var Bc=U.createContext(null);Bc.displayName="Navigation";var rf=U.createContext(null);rf.displayName="Location";var hu=U.createContext({outlet:null,matches:[],isDataRoute:!1});hu.displayName="Route";var $1=U.createContext(null);$1.displayName="RouteError";function C4(e,{relative:t}={}){xa(nf(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=U.useContext(Bc),{hash:a,pathname:i,search:l}=af(e,{relative:t}),c=i;return r!=="/"&&(c=i==="/"?r:iu([r,i])),n.createHref({pathname:c,search:l,hash:a})}function nf(){return U.useContext(rf)!=null}function ed(){return xa(nf(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(rf).location}var B_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function M_(e){U.useContext(Bc).static||U.useLayoutEffect(e)}function td(){let{isDataRoute:e}=U.useContext(hu);return e?z4():T4()}function T4(){xa(nf(),"useNavigate() may be used only in the context of a <Router> component.");let e=U.useContext(qh),{basename:t,navigator:r}=U.useContext(Bc),{matches:n}=U.useContext(hu),{pathname:a}=ed(),i=JSON.stringify(F_(n)),l=U.useRef(!1);return M_(()=>{l.current=!0}),U.useCallback((d,h={})=>{if(ec(l.current,B_),!l.current)return;if(typeof d=="number"){r.go(d);return}let p=O_(d,JSON.parse(i),a,h.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:iu([t,p.pathname])),(h.replace?r.replace:r.push)(p,h.state,h)},[t,r,i,a,e])}U.createContext(null);function af(e,{relative:t}={}){let{matches:r}=U.useContext(hu),{pathname:n}=ed(),a=JSON.stringify(F_(r));return U.useMemo(()=>O_(e,JSON.parse(a),n,t==="path"),[e,a,n,t])}function P4(e,t){return U_(e,t)}function U_(e,t,r,n){var A;xa(nf(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=U.useContext(Bc),{matches:i}=U.useContext(hu),l=i[i.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let P=p&&p.path||"";$_(d,!p||P.endsWith("*")||P.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${P}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${P}"> to <Route path="${P==="/"?"*":`${P}/*`}">.`)}let f=ed(),b;if(t){let P=typeof t=="string"?Ud(t):t;xa(h==="/"||((A=P.pathname)==null?void 0:A.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${P.pathname}" was given in the \`location\` prop.`),b=P}else b=f;let g=b.pathname||"/",S=g;if(h!=="/"){let P=h.replace(/^\//,"").split("/");S="/"+g.replace(/^\//,"").split("/").slice(P.length).join("/")}let y=P_(e,{pathname:S});ec(p||y!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ec(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=I4(y&&y.map(P=>Object.assign({},P,{params:Object.assign({},c,P.params),pathname:iu([h,a.encodeLocation?a.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?h:iu([h,a.encodeLocation?a.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),i,r,n);return t&&N?U.createElement(rf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function L4(){let e=$4(),t=j4(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",e),l=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:i},"ErrorBoundary")," or"," ",U.createElement("code",{style:i},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},t),r?U.createElement("pre",{style:a},r):null,l)}var R4=U.createElement(L4,null),F4=class extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?U.createElement(hu.Provider,{value:this.props.routeContext},U.createElement($1.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function O4({routeContext:e,match:t,children:r}){let n=U.useContext(qh);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),U.createElement(hu.Provider,{value:e},r)}function I4(e,t=[],r=null,n=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let a=e,i=r==null?void 0:r.errors;if(i!=null){let d=a.findIndex(h=>h.route.id&&(i==null?void 0:i[h.route.id])!==void 0);xa(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:p,errors:f}=r,b=h.route.loader&&!p.hasOwnProperty(h.route.id)&&(!f||f[h.route.id]===void 0);if(h.route.lazy||b){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,p)=>{let f,b=!1,g=null,S=null;r&&(f=i&&h.route.id?i[h.route.id]:void 0,g=h.route.errorElement||R4,l&&(c<0&&p===0?($_("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,S=null):c===p&&(b=!0,S=h.route.hydrateFallbackElement||null)));let y=t.concat(a.slice(0,p+1)),N=()=>{let A;return f?A=g:b?A=S:h.route.Component?A=U.createElement(h.route.Component,null):h.route.element?A=h.route.element:A=d,U.createElement(O4,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:A})};return r&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?U.createElement(F4,{location:r.location,revalidation:r.revalidation,component:g,error:f,children:N(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):N()},null)}function z1(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function D4(e){let t=U.useContext(qh);return xa(t,z1(e)),t}function B4(e){let t=U.useContext(Kp);return xa(t,z1(e)),t}function M4(e){let t=U.useContext(hu);return xa(t,z1(e)),t}function q1(e){let t=M4(e),r=t.matches[t.matches.length-1];return xa(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function U4(){return q1("useRouteId")}function $4(){var n;let e=U.useContext($1),t=B4("useRouteError"),r=q1("useRouteError");return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function z4(){let{router:e}=D4("useNavigate"),t=q1("useNavigate"),r=U.useRef(!1);return M_(()=>{r.current=!0}),U.useCallback(async(a,i={})=>{ec(r.current,B_),r.current&&(typeof a=="number"?e.navigate(a):await e.navigate(a,{fromRouteId:t,...i}))},[e,t])}var Dv={};function $_(e,t,r){!t&&!Dv[e]&&(Dv[e]=!0,ec(!1,r))}U.memo(q4);function q4({routes:e,future:t,state:r}){return U_(e,void 0,r,t)}function kc(e){xa(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function H4({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:a,static:i=!1}){xa(!nf(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=e.replace(/^\/*/,"/"),c=U.useMemo(()=>({basename:l,navigator:a,static:i,future:{}}),[l,a,i]);typeof r=="string"&&(r=Ud(r));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:b="default"}=r,g=U.useMemo(()=>{let S=Yu(d,l);return S==null?null:{location:{pathname:S,search:h,hash:p,state:f,key:b},navigationType:n}},[l,d,h,p,f,b,n]);return ec(g!=null,`<Router basename="${l}"> is not able to match the URL "${d}${h}${p}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:U.createElement(Bc.Provider,{value:c},U.createElement(rf.Provider,{children:t,value:g}))}function W4({children:e,location:t}){return P4(Zg(e),t)}function Zg(e,t=[]){let r=[];return U.Children.forEach(e,(n,a)=>{if(!U.isValidElement(n))return;let i=[...t,a];if(n.type===U.Fragment){r.push.apply(r,Zg(n.props.children,i));return}xa(n.type===kc,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),xa(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Zg(n.props.children,i)),r.push(l)}),r}var up="get",dp="application/x-www-form-urlencoded";function Yp(e){return e!=null&&typeof e.tagName=="string"}function V4(e){return Yp(e)&&e.tagName.toLowerCase()==="button"}function G4(e){return Yp(e)&&e.tagName.toLowerCase()==="form"}function K4(e){return Yp(e)&&e.tagName.toLowerCase()==="input"}function Y4(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function X4(e,t){return e.button===0&&(!t||t==="_self")&&!Y4(e)}var zf=null;function J4(){if(zf===null)try{new FormData(document.createElement("form"),0),zf=!1}catch{zf=!0}return zf}var Z4=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Jm(e){return e!=null&&!Z4.has(e)?(ec(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${dp}"`),null):e}function Q4(e,t){let r,n,a,i,l;if(G4(e)){let c=e.getAttribute("action");n=c?Yu(c,t):null,r=e.getAttribute("method")||up,a=Jm(e.getAttribute("enctype"))||dp,i=new FormData(e)}else if(V4(e)||K4(e)&&(e.type==="submit"||e.type==="image")){let c=e.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=e.getAttribute("formaction")||c.getAttribute("action");if(n=d?Yu(d,t):null,r=e.getAttribute("formmethod")||c.getAttribute("method")||up,a=Jm(e.getAttribute("formenctype"))||Jm(c.getAttribute("enctype"))||dp,i=new FormData(c,e),!J4()){let{name:h,type:p,value:f}=e;if(p==="image"){let b=h?`${h}.`:"";i.append(`${b}x`,"0"),i.append(`${b}y`,"0")}else h&&i.append(h,f)}}else{if(Yp(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=up,n=null,a=dp,l=e}return i&&a==="text/plain"&&(l=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:l}}function H1(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function eS(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function tS(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function rS(e,t,r){let n=await Promise.all(e.map(async a=>{let i=t.routes[a.route.id];if(i){let l=await eS(i,r);return l.links?l.links():[]}return[]}));return sS(n.flat(1).filter(tS).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Bv(e,t,r,n,a,i){let l=(d,h)=>r[h]?d.route.id!==r[h].route.id:!0,c=(d,h)=>{var p;return r[h].pathname!==d.pathname||((p=r[h].route.path)==null?void 0:p.endsWith("*"))&&r[h].params["*"]!==d.params["*"]};return i==="assets"?t.filter((d,h)=>l(d,h)||c(d,h)):i==="data"?t.filter((d,h)=>{var f;let p=n.routes[d.route.id];if(!p||!p.hasLoader)return!1;if(l(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let b=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((f=r[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function nS(e,t){return aS(e.map(r=>{let n=t.routes[r.route.id];if(!n)return[];let a=[n.module];return n.imports&&(a=a.concat(n.imports)),a}).flat(1))}function aS(e){return[...new Set(e)]}function iS(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function sS(e,t){let r=new Set;return new Set(t),e.reduce((n,a)=>{let i=JSON.stringify(iS(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function oS(e){let t=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return t.pathname==="/"?t.pathname="_root.data":t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function lS(){let e=U.useContext(qh);return H1(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function cS(){let e=U.useContext(Kp);return H1(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var W1=U.createContext(void 0);W1.displayName="FrameworkContext";function z_(){let e=U.useContext(W1);return H1(e,"You must render this element inside a <HydratedRouter> element"),e}function uS(e,t){let r=U.useContext(W1),[n,a]=U.useState(!1),[i,l]=U.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:p,onTouchStart:f}=t,b=U.useRef(null);U.useEffect(()=>{if(e==="render"&&l(!0),e==="viewport"){let y=A=>{A.forEach(P=>{l(P.isIntersecting)})},N=new IntersectionObserver(y,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[e]),U.useEffect(()=>{if(n){let y=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(y)}}},[n]);let g=()=>{a(!0)},S=()=>{a(!1),l(!1)};return r?e!=="intent"?[i,b,{}]:[i,b,{onFocus:h0(c,g),onBlur:h0(d,S),onMouseEnter:h0(h,g),onMouseLeave:h0(p,S),onTouchStart:h0(f,g)}]:[!1,b,{}]}function h0(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function dS({page:e,...t}){let{router:r}=lS(),n=U.useMemo(()=>P_(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?U.createElement(fS,{page:e,matches:n,...t}):null}function hS(e){let{manifest:t,routeModules:r}=z_(),[n,a]=U.useState([]);return U.useEffect(()=>{let i=!1;return rS(e,t,r).then(l=>{i||a(l)}),()=>{i=!0}},[e,t,r]),n}function fS({page:e,matches:t,...r}){let n=ed(),{manifest:a,routeModules:i}=z_(),{loaderData:l,matches:c}=cS(),d=U.useMemo(()=>Bv(e,t,c,a,n,"data"),[e,t,c,a,n]),h=U.useMemo(()=>Bv(e,t,c,a,n,"assets"),[e,t,c,a,n]),p=U.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let g=new Set,S=!1;if(t.forEach(N=>{var P;let A=a.routes[N.route.id];!A||!A.hasLoader||(!d.some(T=>T.route.id===N.route.id)&&N.route.id in l&&((P=i[N.route.id])!=null&&P.shouldRevalidate)||A.hasClientLoader?S=!0:g.add(N.route.id))}),g.size===0)return[];let y=oS(e);return S&&g.size>0&&y.searchParams.set("_routes",t.filter(N=>g.has(N.route.id)).map(N=>N.route.id).join(",")),[y.pathname+y.search]},[l,n,a,d,t,e,i]),f=U.useMemo(()=>nS(h,a),[h,a]),b=hS(h);return U.createElement(U.Fragment,null,p.map(g=>U.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...r})),f.map(g=>U.createElement("link",{key:g,rel:"modulepreload",href:g,...r})),b.map(({key:g,link:S})=>U.createElement("link",{key:g,...S})))}function pS(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var q_=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{q_&&(window.__reactRouterVersion="7.1.1")}catch{}function mS({basename:e,children:t,window:r}){let n=U.useRef();n.current==null&&(n.current=n4({window:r,v5Compat:!0}));let a=n.current,[i,l]=U.useState({action:a.action,location:a.location}),c=U.useCallback(d=>{U.startTransition(()=>l(d))},[l]);return U.useLayoutEffect(()=>a.listen(c),[a,c]),U.createElement(H4,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:a})}var H_=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W_=U.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:l,state:c,target:d,to:h,preventScrollReset:p,viewTransition:f,...b},g){let{basename:S}=U.useContext(Bc),y=typeof h=="string"&&H_.test(h),N,A=!1;if(typeof h=="string"&&y&&(N=h,q_))try{let M=new URL(window.location.href),re=h.startsWith("//")?new URL(M.protocol+h):new URL(h),I=Yu(re.pathname,S);re.origin===M.origin&&I!=null?h=I+re.search+re.hash:A=!0}catch{ec(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=C4(h,{relative:a}),[T,R,q]=uS(n,b),te=bS(h,{replace:l,state:c,target:d,preventScrollReset:p,relative:a,viewTransition:f});function G(M){t&&t(M),M.defaultPrevented||te(M)}let H=U.createElement("a",{...b,...q,href:N||P,onClick:A||i?t:G,ref:pS(g,R),target:d,"data-discover":!y&&r==="render"?"true":void 0});return T&&!y?U.createElement(U.Fragment,null,H,U.createElement(dS,{page:P})):H});W_.displayName="Link";var gS=U.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:l,viewTransition:c,children:d,...h},p){let f=af(l,{relative:h.relative}),b=ed(),g=U.useContext(Kp),{navigator:S,basename:y}=U.useContext(Bc),N=g!=null&&NS(f)&&c===!0,A=S.encodeLocation?S.encodeLocation(f).pathname:f.pathname,P=b.pathname,T=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(P=P.toLowerCase(),T=T?T.toLowerCase():null,A=A.toLowerCase()),T&&y&&(T=Yu(T,y)||T);const R=A!=="/"&&A.endsWith("/")?A.length-1:A.length;let q=P===A||!a&&P.startsWith(A)&&P.charAt(R)==="/",te=T!=null&&(T===A||!a&&T.startsWith(A)&&T.charAt(A.length)==="/"),G={isActive:q,isPending:te,isTransitioning:N},H=q?t:void 0,M;typeof n=="function"?M=n(G):M=[n,q?"active":null,te?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let re=typeof i=="function"?i(G):i;return U.createElement(W_,{...h,"aria-current":H,className:M,ref:p,style:re,to:l,viewTransition:c},typeof d=="function"?d(G):d)});gS.displayName="NavLink";var xS=U.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:a,state:i,method:l=up,action:c,onSubmit:d,relative:h,preventScrollReset:p,viewTransition:f,...b},g)=>{let S=wS(),y=SS(c,{relative:h}),N=l.toLowerCase()==="get"?"get":"post",A=typeof c=="string"&&H_.test(c),P=T=>{if(d&&d(T),T.defaultPrevented)return;T.preventDefault();let R=T.nativeEvent.submitter,q=(R==null?void 0:R.getAttribute("formmethod"))||l;S(R||T.currentTarget,{fetcherKey:t,method:q,navigate:r,replace:a,state:i,relative:h,preventScrollReset:p,viewTransition:f})};return U.createElement("form",{ref:g,method:N,action:y,onSubmit:n?d:P,...b,"data-discover":!A&&e==="render"?"true":void 0})});xS.displayName="Form";function vS(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function V_(e){let t=U.useContext(qh);return xa(t,vS(e)),t}function bS(e,{target:t,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:l}={}){let c=td(),d=ed(),h=af(e,{relative:i});return U.useCallback(p=>{if(X4(p,t)){p.preventDefault();let f=r!==void 0?r:F0(d)===F0(h);c(e,{replace:f,state:n,preventScrollReset:a,relative:i,viewTransition:l})}},[d,c,h,r,n,t,e,a,i,l])}var _S=0,yS=()=>`__${String(++_S)}__`;function wS(){let{router:e}=V_("useSubmit"),{basename:t}=U.useContext(Bc),r=U4();return U.useCallback(async(n,a={})=>{let{action:i,method:l,encType:c,formData:d,body:h}=Q4(n,t);if(a.navigate===!1){let p=a.fetcherKey||yS();await e.fetch(p,r,a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||c,flushSync:a.flushSync})}else await e.navigate(a.action||i,{preventScrollReset:a.preventScrollReset,formData:d,body:h,formMethod:a.method||l,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[e,t,r])}function SS(e,{relative:t}={}){let{basename:r}=U.useContext(Bc),n=U.useContext(hu);xa(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...af(e||".",{relative:t})},l=ed();if(e==null){i.search=l.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(p=>p==="")){c.delete("index"),d.filter(f=>f).forEach(f=>c.append("index",f));let p=c.toString();i.search=p?`?${p}`:""}}return(!e||e===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:iu([r,i.pathname])),F0(i)}function NS(e,t={}){let r=U.useContext(D_);xa(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=V_("useViewTransitionState"),a=af(e,{relative:t.relative});if(!r.isTransitioning)return!1;let i=Yu(r.currentLocation.pathname,n)||r.currentLocation.pathname,l=Yu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return bp(a.pathname,l)!=null||bp(a.pathname,i)!=null}new TextEncoder;function Xp(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]]);return r}function jS(e,t,r,n){function a(i){return i instanceof r?i:new r(function(l){l(i)})}return new(r||(r=Promise))(function(i,l){function c(p){try{h(n.next(p))}catch(f){l(f)}}function d(p){try{h(n.throw(p))}catch(f){l(f)}}function h(p){p.done?i(p.value):a(p.value).then(c,d)}h((n=n.apply(e,t||[])).next())})}const ES=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class V1 extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class kS extends V1{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Mv extends V1{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Uv extends V1{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Qg;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Qg||(Qg={}));class AS{constructor(t,{headers:r={},customFetch:n,region:a=Qg.Any}={}){this.url=t,this.headers=r,this.region=a,this.fetch=ES(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return jS(this,arguments,void 0,function*(r,n={}){var a;let i,l;try{const{headers:c,method:d,body:h,signal:p,timeout:f}=n;let b={},{region:g}=n;g||(g=this.region);const S=new URL(`${this.url}/${r}`);g&&g!=="any"&&(b["x-region"]=g,S.searchParams.set("forceFunctionRegion",g));let y;h&&(c&&!Object.prototype.hasOwnProperty.call(c,"Content-Type")||!c)?typeof Blob<"u"&&h instanceof Blob||h instanceof ArrayBuffer?(b["Content-Type"]="application/octet-stream",y=h):typeof h=="string"?(b["Content-Type"]="text/plain",y=h):typeof FormData<"u"&&h instanceof FormData?y=h:(b["Content-Type"]="application/json",y=JSON.stringify(h)):h&&typeof h!="string"&&!(typeof Blob<"u"&&h instanceof Blob)&&!(h instanceof ArrayBuffer)&&!(typeof FormData<"u"&&h instanceof FormData)?y=JSON.stringify(h):y=h;let N=p;f&&(l=new AbortController,i=setTimeout(()=>l.abort(),f),p?(N=l.signal,p.addEventListener("abort",()=>l.abort())):N=l.signal);const A=yield this.fetch(S.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},b),this.headers),c),body:y,signal:N}).catch(q=>{throw new kS(q)}),P=A.headers.get("x-relay-error");if(P&&P==="true")throw new Mv(A);if(!A.ok)throw new Uv(A);let T=((a=A.headers.get("Content-Type"))!==null&&a!==void 0?a:"text/plain").split(";")[0].trim(),R;return T==="application/json"?R=yield A.json():T==="application/octet-stream"||T==="application/pdf"?R=yield A.blob():T==="text/event-stream"?R=A:T==="multipart/form-data"?R=yield A.formData():R=yield A.text(),{data:R,error:null,response:A}}catch(c){return{data:null,error:c,response:c instanceof Uv||c instanceof Mv?c.context:void 0}}finally{i&&clearTimeout(i)}})}}var CS=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},TS=class{constructor(e){var t,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let a=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{let l=null,c=null,d=null,h=i.status,p=i.statusText;if(i.ok){var f,b;if(r.method!=="HEAD"){var g;const A=await i.text();A===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((g=r.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?c=A:c=JSON.parse(A))}const y=(f=r.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),N=(b=i.headers.get("content-range"))===null||b===void 0?void 0:b.split("/");y&&N&&N.length>1&&(d=parseInt(N[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,d=null,h=406,p="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{var S;const y=await i.text();try{l=JSON.parse(y),Array.isArray(l)&&i.status===404&&(c=[],l=null,h=200,p="OK")}catch{i.status===404&&y===""?(h=204,p="No Content"):l={message:y}}if(l&&r.isMaybeSingle&&(!(l==null||(S=l.details)===null||S===void 0)&&S.includes("0 rows"))&&(l=null,h=200,p="OK"),l&&r.shouldThrowOnError)throw new CS(l)}return{error:l,data:c,count:d,status:h,statusText:p}});return this.shouldThrowOnError||(a=a.catch(i=>{var l;let c="";const d=i==null?void 0:i.cause;if(d){var h,p,f,b;const S=(h=d==null?void 0:d.message)!==null&&h!==void 0?h:"",y=(p=d==null?void 0:d.code)!==null&&p!==void 0?p:"";c=`${(f=i==null?void 0:i.name)!==null&&f!==void 0?f:"FetchError"}: ${i==null?void 0:i.message}`,c+=`

Caused by: ${(b=d==null?void 0:d.name)!==null&&b!==void 0?b:"Error"}: ${S}`,y&&(c+=` (${y})`),d!=null&&d.stack&&(c+=`
${d.stack}`)}else{var g;c=(g=i==null?void 0:i.stack)!==null&&g!==void 0?g:""}return{error:{message:`${(l=i==null?void 0:i.name)!==null&&l!==void 0?l:"FetchError"}: ${i==null?void 0:i.message}`,details:c,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),a.then(e,t)}returns(){return this}overrideTypes(){return this}},PS=class extends TS{select(e){let t=!1;const r=(e??"*").split("").map(n=>/\s/.test(n)&&!t?"":(n==='"'&&(t=!t),n)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${e}.${t?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){const n=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){const a=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:i="text"}={}){var l;const c=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),d=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${d}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const $v=new RegExp("[,()]");var bh=class extends PS{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&$v.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){const r=Array.from(new Set(t)).map(n=>typeof n=="string"&&$v.test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let a="";n==="plain"?a="pl":n==="phrase"?a="ph":n==="websearch"&&(a="w");const i=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${a}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([t,r])=>{this.url.searchParams.append(t,`eq.${r}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){const n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},LS=class{constructor(e,{headers:t={},schema:r,fetch:n}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n}select(e,t){const{head:r=!1,count:n}=t??{},a=r?"HEAD":"GET";let i=!1;const l=(e??"*").split("").map(c=>/\s/.test(c)&&!i?"":(c==='"'&&(i=!i),c)).join("");return this.url.searchParams.set("select",l),n&&this.headers.append("Prefer",`count=${n}`),new bh({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;const a="POST";if(t&&this.headers.append("Prefer",`count=${t}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const i=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new bh({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:a=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),t!==void 0&&this.url.searchParams.set("on_conflict",t),n&&this.headers.append("Prefer",`count=${n}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(c.length>0){const d=[...new Set(c)].map(h=>`"${h}"`);this.url.searchParams.set("columns",d.join(","))}}return new bh({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(e,{count:t}={}){var r;const n="PATCH";return t&&this.headers.append("Prefer",`count=${t}`),new bh({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var t;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new bh({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},RS=class G_{constructor(t,{headers:r={},schema:n,fetch:a}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=a}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new LS(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new G_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:a=!1,count:i}={}){var l;let c;const d=new URL(`${this.url}/rpc/${t}`);let h;const p=g=>g!==null&&typeof g=="object"&&(!Array.isArray(g)||g.some(p)),f=n&&Object.values(r).some(p);f?(c="POST",h=r):n||a?(c=n?"HEAD":"GET",Object.entries(r).filter(([g,S])=>S!==void 0).map(([g,S])=>[g,Array.isArray(S)?`{${S.join(",")}}`:`${S}`]).forEach(([g,S])=>{d.searchParams.append(g,S)})):(c="POST",h=r);const b=new Headers(this.headers);return f?b.set("Prefer",i?`count=${i},return=minimal`:"return=minimal"):i&&b.set("Prefer",`count=${i}`),new bh({method:c,url:d,headers:b,schema:this.schemaName,body:h,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}};class FS{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const n=r.versions;if(n&&n.node){const a=n.node,i=parseInt(a.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const OS="2.90.0",IS=`realtime-js/${OS}`,K_="1.0.0",DS="2.0.0",zv=K_,e1=1e4,BS=1e3,MS=100;var Mu;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Mu||(Mu={}));var gi;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(gi||(gi={}));var Xl;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Xl||(Xl={}));var t1;(function(e){e.websocket="websocket"})(t1||(t1={}));var yd;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(yd||(yd={}));class US{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,r){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(t));let n=[t.join_ref,t.ref,t.topic,t.event,t.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(t){var r;return this._isArrayBuffer((r=t.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,a)}_encodeJsonUserBroadcastPush(t){var r,n;const a=(n=(r=t.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},l=new TextEncoder().encode(JSON.stringify(a)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,l)}_encodeUserBroadcastPush(t,r,n){var a,i;const l=t.topic,c=(a=t.ref)!==null&&a!==void 0?a:"",d=(i=t.join_ref)!==null&&i!==void 0?i:"",h=t.payload.event,p=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},f=Object.keys(p).length===0?"":JSON.stringify(p);if(d.length>255)throw new Error(`joinRef length ${d.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`ref length ${c.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`topic length ${l.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`userEvent length ${h.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const b=this.USER_BROADCAST_PUSH_META_LENGTH+d.length+c.length+l.length+h.length+f.length,g=new ArrayBuffer(this.HEADER_LENGTH+b);let S=new DataView(g),y=0;S.setUint8(y++,this.KINDS.userBroadcastPush),S.setUint8(y++,d.length),S.setUint8(y++,c.length),S.setUint8(y++,l.length),S.setUint8(y++,h.length),S.setUint8(y++,f.length),S.setUint8(y++,r),Array.from(d,A=>S.setUint8(y++,A.charCodeAt(0))),Array.from(c,A=>S.setUint8(y++,A.charCodeAt(0))),Array.from(l,A=>S.setUint8(y++,A.charCodeAt(0))),Array.from(h,A=>S.setUint8(y++,A.charCodeAt(0))),Array.from(f,A=>S.setUint8(y++,A.charCodeAt(0)));var N=new Uint8Array(g.byteLength+n.byteLength);return N.set(new Uint8Array(g),0),N.set(new Uint8Array(n),g.byteLength),N.buffer}decode(t,r){if(this._isArrayBuffer(t)){let n=this._binaryDecode(t);return r(n)}if(typeof t=="string"){const n=JSON.parse(t),[a,i,l,c,d]=n;return r({join_ref:a,ref:i,topic:l,event:c,payload:d})}return r({})}_binaryDecode(t){const r=new DataView(t),n=r.getUint8(0),a=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,r,a)}}_decodeUserBroadcast(t,r,n){const a=r.getUint8(1),i=r.getUint8(2),l=r.getUint8(3),c=r.getUint8(4);let d=this.HEADER_LENGTH+4;const h=n.decode(t.slice(d,d+a));d=d+a;const p=n.decode(t.slice(d,d+i));d=d+i;const f=n.decode(t.slice(d,d+l));d=d+l;const b=t.slice(d,t.byteLength),g=c===this.JSON_ENCODING?JSON.parse(n.decode(b)):b,S={type:this.BROADCAST_EVENT,event:p,payload:g};return l>0&&(S.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:h,event:this.BROADCAST_EVENT,payload:S}}_isArrayBuffer(t){var r;return t instanceof ArrayBuffer||((r=t==null?void 0:t.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(t,r){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([n])=>r.includes(n)))}}class Y_{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Xn;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Xn||(Xn={}));const qv=(e,t,r={})=>{var n;const a=(n=r.skipTypes)!==null&&n!==void 0?n:[];return t?Object.keys(t).reduce((i,l)=>(i[l]=$S(l,e,t,a),i),{}):{}},$S=(e,t,r,n)=>{const a=t.find(c=>c.name===e),i=a==null?void 0:a.type,l=r[e];return i&&!n.includes(i)?X_(i,l):r1(l)},X_=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return WS(t,r)}switch(e){case Xn.bool:return zS(t);case Xn.float4:case Xn.float8:case Xn.int2:case Xn.int4:case Xn.int8:case Xn.numeric:case Xn.oid:return qS(t);case Xn.json:case Xn.jsonb:return HS(t);case Xn.timestamp:return VS(t);case Xn.abstime:case Xn.date:case Xn.daterange:case Xn.int4range:case Xn.int8range:case Xn.money:case Xn.reltime:case Xn.text:case Xn.time:case Xn.timestamptz:case Xn.timetz:case Xn.tsrange:case Xn.tstzrange:return r1(t);default:return r1(t)}},r1=e=>e,zS=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},qS=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},HS=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},WS=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let i;const l=e.slice(1,r);try{i=JSON.parse("["+l+"]")}catch{i=l?l.split(","):[]}return i.map(c=>X_(t,c))}return e},VS=e=>typeof e=="string"?e.replace(" ","T"):e,J_=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class Zm{constructor(t,r,n={},a=e1){this.channel=t,this.event=r,this.payload=n,this.timeout=a,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Hv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Hv||(Hv={}));class y0{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},a=>{const{onJoin:i,onLeave:l,onSync:c}=this.caller;this.joinRef=this.channel._joinRef(),this.state=y0.syncState(this.state,a,i,l),this.pendingDiffs.forEach(d=>{this.state=y0.syncDiff(this.state,d,i,l)}),this.pendingDiffs=[],c()}),this.channel._on(n.diff,{},a=>{const{onJoin:i,onLeave:l,onSync:c}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(a):(this.state=y0.syncDiff(this.state,a,i,l),c())}),this.onJoin((a,i,l)=>{this.channel._trigger("presence",{event:"join",key:a,currentPresences:i,newPresences:l})}),this.onLeave((a,i,l)=>{this.channel._trigger("presence",{event:"leave",key:a,currentPresences:i,leftPresences:l})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,a){const i=this.cloneDeep(t),l=this.transformState(r),c={},d={};return this.map(i,(h,p)=>{l[h]||(d[h]=p)}),this.map(l,(h,p)=>{const f=i[h];if(f){const b=p.map(N=>N.presence_ref),g=f.map(N=>N.presence_ref),S=p.filter(N=>g.indexOf(N.presence_ref)<0),y=f.filter(N=>b.indexOf(N.presence_ref)<0);S.length>0&&(c[h]=S),y.length>0&&(d[h]=y)}else c[h]=p}),this.syncDiff(i,{joins:c,leaves:d},n,a)}static syncDiff(t,r,n,a){const{joins:i,leaves:l}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),a||(a=()=>{}),this.map(i,(c,d)=>{var h;const p=(h=t[c])!==null&&h!==void 0?h:[];if(t[c]=this.cloneDeep(d),p.length>0){const f=t[c].map(g=>g.presence_ref),b=p.filter(g=>f.indexOf(g.presence_ref)<0);t[c].unshift(...b)}n(c,p,d)}),this.map(l,(c,d)=>{let h=t[c];if(!h)return;const p=d.map(f=>f.presence_ref);h=h.filter(f=>p.indexOf(f.presence_ref)<0),t[c]=h,a(c,h,d),h.length===0&&delete t[c]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const a=t[n];return"metas"in a?r[n]=a.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=a,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Wv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Wv||(Wv={}));var w0;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(w0||(w0={}));var tu;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(tu||(tu={}));class jh{constructor(t,r={config:{}},n){var a,i;if(this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=gi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Zm(this,Xl.join,this.params,this.timeout),this.rejoinTimer=new Y_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=gi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(l=>l.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=gi.closed,this.socket._remove(this)}),this._onError(l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=gi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=gi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",l=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,l),this.state=gi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Xl.reply,{},(l,c)=>{this._trigger(this._replyEventName(c),l)}),this.presence=new y0(this),this.broadcastEndpointURL=J_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(a=this.params.config)===null||a===void 0?void 0:a.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,r=this.timeout){var n,a,i;if(this.socket.isConnected()||this.socket.connect(),this.state==gi.closed){const{config:{broadcast:l,presence:c,private:d}}=this.params,h=(a=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(g=>g.filter))!==null&&a!==void 0?a:[],p=!!this.bindings[w0.PRESENCE]&&this.bindings[w0.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,f={},b={broadcast:l,presence:Object.assign(Object.assign({},c),{enabled:p}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(g=>t==null?void 0:t(tu.CHANNEL_ERROR,g)),this._onClose(()=>t==null?void 0:t(tu.CLOSED)),this.updateJoinPayload(Object.assign({config:b},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:g})=>{var S;if(this.socket._isManualToken()||this.socket.setAuth(),g===void 0){t==null||t(tu.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,N=(S=y==null?void 0:y.length)!==null&&S!==void 0?S:0,A=[];for(let P=0;P<N;P++){const T=y[P],{filter:{event:R,schema:q,table:te,filter:G}}=T,H=g&&g[P];if(H&&H.event===R&&jh.isFilterValueEqual(H.schema,q)&&jh.isFilterValueEqual(H.table,te)&&jh.isFilterValueEqual(H.filter,G))A.push(Object.assign(Object.assign({},T),{id:H.id}));else{this.unsubscribe(),this.state=gi.errored,t==null||t(tu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=A,t&&t(tu.SUBSCRIBED);return}}).receive("error",g=>{this.state=gi.errored,t==null||t(tu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(g).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(tu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===gi.joined&&t===w0.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,r,n)}async httpSend(t,r,n={}){var a;if(r==null)return Promise.reject("Payload is required for httpSend()");const i={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(i.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:i,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:r,private:this.private}]})},c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(a=n.timeout)!==null&&a!==void 0?a:this.timeout);if(c.status===202)return{success:!0};let d=c.statusText;try{const h=await c.json();d=h.error||h.message||d}catch{}return Promise.reject(new Error(d))}async send(t,r={}){var n,a;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:i,payload:l}=t,c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:l,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((a=h.body)===null||a===void 0?void 0:a.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var l,c,d;const h=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((d=(c=(l=this.params)===null||l===void 0?void 0:l.config)===null||c===void 0?void 0:c.broadcast)===null||d===void 0)&&d.ack)&&i("ok"),h.receive("ok",()=>i("ok")),h.receive("error",()=>i("error")),h.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=gi.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Xl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(a=>{n=new Zm(this,Xl.leave,{},t),n.receive("ok",()=>{r(),a("ok")}).receive("timeout",()=>{r(),a("timed out")}).receive("error",()=>{a("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=gi.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const a=new AbortController,i=setTimeout(()=>a.abort(),n),l=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:a.signal}));return clearTimeout(i),l}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let a=new Zm(this,t,r,n);return this._canPush()?a.send():this._addToPushBuffer(a),a}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>MS){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var a,i;const l=t.toLocaleLowerCase(),{close:c,error:d,leave:h,join:p}=Xl;if(n&&[c,d,h,p].indexOf(l)>=0&&n!==this._joinRef())return;let b=this._onMessage(l,r,n);if(r&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(l)?(a=this.bindings.postgres_changes)===null||a===void 0||a.filter(g=>{var S,y,N;return((S=g.filter)===null||S===void 0?void 0:S.event)==="*"||((N=(y=g.filter)===null||y===void 0?void 0:y.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===l}).map(g=>g.callback(b,n)):(i=this.bindings[l])===null||i===void 0||i.filter(g=>{var S,y,N,A,P,T;if(["broadcast","presence","postgres_changes"].includes(l))if("id"in g){const R=g.id,q=(S=g.filter)===null||S===void 0?void 0:S.event;return R&&((y=r.ids)===null||y===void 0?void 0:y.includes(R))&&(q==="*"||(q==null?void 0:q.toLocaleLowerCase())===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const R=(P=(A=g==null?void 0:g.filter)===null||A===void 0?void 0:A.event)===null||P===void 0?void 0:P.toLocaleLowerCase();return R==="*"||R===((T=r==null?void 0:r.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===l}).map(g=>{if(typeof b=="object"&&"ids"in b){const S=b.data,{schema:y,table:N,commit_timestamp:A,type:P,errors:T}=S;b=Object.assign(Object.assign({},{schema:y,table:N,commit_timestamp:A,eventType:P,new:{},old:{},errors:T}),this._getPayloadRecords(S))}g.callback(b,n)})}_isClosed(){return this.state===gi.closed}_isJoined(){return this.state===gi.joined}_isJoining(){return this.state===gi.joining}_isLeaving(){return this.state===gi.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const a=t.toLocaleLowerCase(),i={type:a,filter:r,callback:n};return this.bindings[a]?this.bindings[a].push(i):this.bindings[a]=[i],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(a=>{var i;return!(((i=a.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&jh.isEqual(a.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}static isFilterValueEqual(t,r){return(t??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Xl.close,{},t)}_onError(t){this._on(Xl.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=gi.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=qv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=qv(t.columns,t.old_record)),r}}const Qm=()=>{},qf={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},GS=[1e3,2e3,5e3,1e4],KS=1e4,YS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class XS{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=e1,this.transport=null,this.heartbeatIntervalMs=qf.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Qm,this.ref=0,this.reconnectTimer=null,this.vsn=zv,this.logger=Qm,this.conn=null,this.sendBuffer=[],this.serializer=new US,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=a=>a?(...i)=>a(...i):(...i)=>fetch(...i),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${t1.websocket}`,this.httpEndpoint=J_(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=FS.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Mu.connecting:return yd.Connecting;case Mu.open:return yd.Open;case Mu.closing:return yd.Closing;default:return yd.Closed}}isConnected(){return this.connectionState()===yd.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,a=this.getChannels().find(i=>i.topic===n);if(a)return a;{const i=new jh(`realtime:${t}`,r,this);return this.channels.push(i),i}}push(t){const{topic:r,event:n,payload:a,ref:i}=t,l=()=>{this.encode(t,c=>{var d;(d=this.conn)===null||d===void 0||d.send(c)})};this.log("push",`${r} ${n} (${i})`,a),this.isConnected()?l():this.sendBuffer.push(l)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(BS,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},qf.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const h=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",h)}catch(p){this.log("error","error in heartbeat callback",p)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:n,event:a,payload:i,ref:l}=r,c=l?`(${l})`:"",d=i.status||"";this.log("receive",`${d} ${n} ${a} ${c}`.trim(),i),this.channels.filter(h=>h._isMember(n)).forEach(h=>h._trigger(a,i,l)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Mu.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Mu.open||this.conn.readyState===Mu.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Xl.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",a=new URLSearchParams(r);return`${t}${n}${a}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([YS],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r,n=!1;if(t)r=t,n=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(a){this.log("error","Error fetching access token from callback",a),r=this.accessTokenValue}else r=this.accessTokenValue;n?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(a=>{const i={access_token:r,version:IS};r&&a.updateJoinPayload(i),a.joinedOnce&&a._isJoined()&&a._push(Xl.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(a){this.log("error",`error in ${t} callback`,a)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Y_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},qf.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,a,i,l,c,d,h,p,f,b,g;switch(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:e1,this.heartbeatIntervalMs=(a=t==null?void 0:t.heartbeatIntervalMs)!==null&&a!==void 0?a:qf.HEARTBEAT_INTERVAL,this.worker=(i=t==null?void 0:t.worker)!==null&&i!==void 0?i:!1,this.accessToken=(l=t==null?void 0:t.accessToken)!==null&&l!==void 0?l:null,this.heartbeatCallback=(c=t==null?void 0:t.heartbeatCallback)!==null&&c!==void 0?c:Qm,this.vsn=(d=t==null?void 0:t.vsn)!==null&&d!==void 0?d:zv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t==null?void 0:t.reconnectAfterMs)!==null&&h!==void 0?h:S=>GS[S-1]||KS,this.vsn){case K_:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:(S,y)=>y(JSON.stringify(S)),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:(S,y)=>y(JSON.parse(S));break;case DS:this.encode=(b=t==null?void 0:t.encode)!==null&&b!==void 0?b:this.serializer.encode.bind(this.serializer),this.decode=(g=t==null?void 0:t.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var O0=class extends Error{constructor(e,t){var r;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((r=t.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function JS(e,t,r){const n=new URL(t,e);if(r)for(const[a,i]of Object.entries(r))i!==void 0&&n.searchParams.set(a,i);return n.toString()}async function ZS(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function QS(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:a,body:i,headers:l}){const c=JS(e.baseUrl,n,a),d=await ZS(e.auth),h=await t(c,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...d,...l},body:i?JSON.stringify(i):void 0}),p=await h.text(),f=(h.headers.get("content-type")||"").includes("application/json"),b=f&&p?JSON.parse(p):p;if(!h.ok){const g=f?b:void 0,S=g==null?void 0:g.error;throw new O0((S==null?void 0:S.message)??`Request failed with status ${h.status}`,{status:h.status,icebergType:S==null?void 0:S.type,icebergCode:S==null?void 0:S.code,details:g})}return{status:h.status,headers:h.headers,data:b}}}}function Hf(e){return e.join("")}var eN=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:Hf(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(e,t){const r={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Hf(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Hf(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Hf(e.namespace)}`}),!0}catch(t){if(t instanceof O0&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(r){if(r instanceof O0&&r.status===409)return;throw r}}};function sh(e){return e.join("")}var tN=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sh(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${sh(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${sh(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${sh(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${sh(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${sh(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(r){if(r instanceof O0&&r.status===404)return!1;throw r}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof O0&&r.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},rN=class{constructor(e){var n;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=QS({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(n=e.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new eN(this.client,t),this.tableOps=new tN(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},Jp=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function ga(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var nN=class extends Jp{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},n1=class extends Jp{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const G1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),aN=()=>Response,a1=e=>{if(Array.isArray(e))return e.map(r=>a1(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const a=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[a]=a1(n)}),t},iN=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},sN=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function I0(e){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I0(e)}function oN(e,t){if(I0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(I0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function lN(e){var t=oN(e,"string");return I0(t)=="symbol"?t:t+""}function cN(e,t,r){return(t=lN(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Vv(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Vv(Object(r),!0).forEach(function(n){cN(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Vv(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const eg=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},uN=async(e,t,r)=>{e instanceof await aN()&&!(r!=null&&r.noResolveJson)?e.json().then(n=>{const a=e.status||500,i=(n==null?void 0:n.statusCode)||a+"";t(new nN(eg(n),a,i))}).catch(n=>{t(new n1(eg(n),n))}):t(new n1(eg(e),e))},dN=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?a:(iN(n)?(a.headers=dr({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,t!=null&&t.duplex&&(a.duplex=t.duplex),dr(dr({},a),r))};async function sf(e,t,r,n,a,i){return new Promise((l,c)=>{e(r,dN(t,n,a,i)).then(d=>{if(!d.ok)throw d;return n!=null&&n.noResolveJson?d:d.json()}).then(d=>l(d)).catch(d=>uN(d,c,n))})}async function D0(e,t,r,n){return sf(e,"GET",t,r,n)}async function Yl(e,t,r,n,a){return sf(e,"POST",t,n,a,r)}async function i1(e,t,r,n,a){return sf(e,"PUT",t,n,a,r)}async function hN(e,t,r,n){return sf(e,"HEAD",t,dr(dr({},r),{},{noResolveJson:!0}),n)}async function K1(e,t,r,n,a){return sf(e,"DELETE",t,n,a,r)}var fN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ga(t))return{data:null,error:t};throw t}}};let Z_;Z_=Symbol.toStringTag;var pN=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[Z_]="BlobDownloadBuilder",this.promise=null}asStream(){return new fN(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(ga(t))return{data:null,error:t};throw t}}};const mN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Gv={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var gN=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=r,this.fetch=G1(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,r,n){var a=this;try{let i;const l=dr(dr({},Gv),n);let c=dr(dr({},a.headers),e==="POST"&&{"x-upsert":String(l.upsert)});const d=l.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",l.cacheControl),d&&i.append("metadata",a.encodeMetadata(d)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.has("cacheControl")||i.append("cacheControl",l.cacheControl),d&&!i.has("metadata")&&i.append("metadata",a.encodeMetadata(d))):(i=r,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType,d&&(c["x-metadata"]=a.toBase64(a.encodeMetadata(d))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!l.duplex&&(l.duplex="half")),n!=null&&n.headers&&(c=dr(dr({},c),n.headers));const h=a._removeEmptyFolders(t),p=a._getFinalPath(h),f=await(e=="PUT"?i1:Yl)(a.fetch,`${a.url}/object/${p}`,i,dr({headers:c},l!=null&&l.duplex?{duplex:l.duplex}:{}));return{data:{path:h,id:f.Id,fullPath:f.Key},error:null}}catch(i){if(a.shouldThrowOnError)throw i;if(ga(i))return{data:null,error:i};throw i}}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var a=this;const i=a._removeEmptyFolders(e),l=a._getFinalPath(i),c=new URL(a.url+`/object/upload/sign/${l}`);c.searchParams.set("token",t);try{let d;const h=dr({upsert:Gv.upsert},n),p=dr(dr({},a.headers),{"x-upsert":String(h.upsert)});return typeof Blob<"u"&&r instanceof Blob?(d=new FormData,d.append("cacheControl",h.cacheControl),d.append("",r)):typeof FormData<"u"&&r instanceof FormData?(d=r,d.append("cacheControl",h.cacheControl)):(d=r,p["cache-control"]=`max-age=${h.cacheControl}`,p["content-type"]=h.contentType),{data:{path:i,fullPath:(await i1(a.fetch,c.toString(),d,{headers:p})).Key},error:null}}catch(d){if(a.shouldThrowOnError)throw d;if(ga(d))return{data:null,error:d};throw d}}async createSignedUploadUrl(e,t){var r=this;try{let n=r._getFinalPath(e);const a=dr({},r.headers);t!=null&&t.upsert&&(a["x-upsert"]="true");const i=await Yl(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:a}),l=new URL(r.url+i.url),c=l.searchParams.get("token");if(!c)throw new Jp("No token returned by API");return{data:{signedUrl:l.toString(),path:e,token:c},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ga(n))return{data:null,error:n};throw n}}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;try{return{data:await Yl(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers}),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ga(a))return{data:null,error:a};throw a}}async copy(e,t,r){var n=this;try{return{data:{path:(await Yl(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:n.headers})).Key},error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ga(a))return{data:null,error:a};throw a}}async createSignedUrl(e,t,r){var n=this;try{let a=n._getFinalPath(e),i=await Yl(n.fetch,`${n.url}/object/sign/${a}`,dr({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:n.headers});const l=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${n.url}${i.signedURL}${l}`)},{data:i,error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ga(a))return{data:null,error:a};throw a}}async createSignedUrls(e,t,r){var n=this;try{const a=await Yl(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:a.map(l=>dr(dr({},l),{},{signedUrl:l.signedURL?encodeURI(`${n.url}${l.signedURL}${i}`):null})),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ga(a))return{data:null,error:a};throw a}}download(e,t){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",n=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=n?`?${n}`:"",i=this._getFinalPath(e),l=()=>D0(this.fetch,`${this.url}/${r}/${i}${a}`,{headers:this.headers,noResolveJson:!0});return new pN(l,this.shouldThrowOnError)}async info(e){var t=this;const r=t._getFinalPath(e);try{return{data:a1(await D0(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ga(n))return{data:null,error:n};throw n}}async exists(e){var t=this;const r=t._getFinalPath(e);try{return await hN(t.fetch,`${t.url}/object/${r}`,{headers:t.headers}),{data:!0,error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(ga(n)&&n instanceof n1){const a=n.originalError;if([400,404].includes(a==null?void 0:a.status))return{data:!1,error:n}}throw n}}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";a!==""&&n.push(a);const i=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&n.push(l);let c=n.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${c}`)}}}async remove(e){var t=this;try{return{data:await K1(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ga(r))return{data:null,error:r};throw r}}async list(e,t,r){var n=this;try{const a=dr(dr(dr({},mN),t),{},{prefix:e||""});return{data:await Yl(n.fetch,`${n.url}/object/list/${n.bucketId}`,a,{headers:n.headers},r),error:null}}catch(a){if(n.shouldThrowOnError)throw a;if(ga(a))return{data:null,error:a};throw a}}async listV2(e,t){var r=this;try{const n=dr({},e);return{data:await Yl(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ga(n))return{data:null,error:n};throw n}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const Q_="2.90.0",ey={"X-Client-Info":`storage-js/${Q_}`};var xN=class{constructor(e,t={},r,n){this.shouldThrowOnError=!1;const a=new URL(e);n!=null&&n.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href.replace(/\/$/,""),this.headers=dr(dr({},ey),t),this.fetch=G1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const r=t.listBucketOptionsToQueryString(e);return{data:await D0(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ga(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await D0(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ga(r))return{data:null,error:r};throw r}}async createBucket(e,t={public:!1}){var r=this;try{return{data:await Yl(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ga(n))return{data:null,error:n};throw n}}async updateBucket(e,t){var r=this;try{return{data:await i1(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if(ga(n))return{data:null,error:n};throw n}}async emptyBucket(e){var t=this;try{return{data:await Yl(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ga(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await K1(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ga(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},vN=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=dr(dr({},ey),t),this.fetch=G1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Yl(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ga(r))return{data:null,error:r};throw r}}async listBuckets(e){var t=this;try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),a=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return{data:await D0(t.fetch,a,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ga(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await K1(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(ga(r))return{data:null,error:r};throw r}}from(e){var t=this;if(!sN(e))throw new Jp("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new rN({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(a,i){const l=a[i];return typeof l!="function"?l:async(...c)=>{try{return{data:await l.apply(a,c),error:null}}catch(d){if(n)throw d;return{data:null,error:d}}}}})}};const Y1={"X-Client-Info":`storage-js/${Q_}`,"Content-Type":"application/json"};var ty=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function $o(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var tg=class extends ty{constructor(e,t,r){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},bN=class extends ty{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const X1=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),_N=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Kv=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),yN=async(e,t,r)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(r!=null&&r.noResolveJson)){const n=e.status||500,a=e;if(typeof a.json=="function")a.json().then(i=>{const l=(i==null?void 0:i.statusCode)||(i==null?void 0:i.code)||n+"";t(new tg(Kv(i),n,l))}).catch(()=>{const i=n+"";t(new tg(a.statusText||`HTTP ${n} error`,n,i))});else{const i=n+"";t(new tg(a.statusText||`HTTP ${n} error`,n,i))}}else t(new bN(Kv(e),e))},wN=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return n?(_N(n)?(a.headers=dr({"Content-Type":"application/json"},t==null?void 0:t.headers),a.body=JSON.stringify(n)):a.body=n,dr(dr({},a),r)):a};async function SN(e,t,r,n,a,i){return new Promise((l,c)=>{e(r,wN(t,n,a,i)).then(d=>{if(!d.ok)throw d;if(n!=null&&n.noResolveJson)return d;const h=d.headers.get("content-type");return!h||!h.includes("application/json")?{}:d.json()}).then(d=>l(d)).catch(d=>yN(d,c,n))})}async function zo(e,t,r,n,a){return SN(e,"POST",t,n,a,r)}var NN=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=dr(dr({},Y1),t),this.fetch=X1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await zo(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($o(r))return{data:null,error:r};throw r}}async getIndex(e,t){var r=this;try{return{data:await zo(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}),error:null}}catch(n){if(r.shouldThrowOnError)throw n;if($o(n))return{data:null,error:n};throw n}}async listIndexes(e){var t=this;try{return{data:await zo(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($o(r))return{data:null,error:r};throw r}}async deleteIndex(e,t){var r=this;try{return{data:await zo(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{},error:null}}catch(n){if(r.shouldThrowOnError)throw n;if($o(n))return{data:null,error:n};throw n}}},jN=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=dr(dr({},Y1),t),this.fetch=X1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await zo(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($o(r))return{data:null,error:r};throw r}}async getVectors(e){var t=this;try{return{data:await zo(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($o(r))return{data:null,error:r};throw r}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await zo(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($o(r))return{data:null,error:r};throw r}}async queryVectors(e){var t=this;try{return{data:await zo(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($o(r))return{data:null,error:r};throw r}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await zo(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($o(r))return{data:null,error:r};throw r}}},EN=class{constructor(e,t={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=dr(dr({},Y1),t),this.fetch=X1(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await zo(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($o(r))return{data:null,error:r};throw r}}async getBucket(e){var t=this;try{return{data:await zo(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($o(r))return{data:null,error:r};throw r}}async listBuckets(e={}){var t=this;try{return{data:await zo(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($o(r))return{data:null,error:r};throw r}}async deleteBucket(e){var t=this;try{return{data:await zo(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(r){if(t.shouldThrowOnError)throw r;if($o(r))return{data:null,error:r};throw r}}},kN=class extends EN{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new AN(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,r=this;return t().call(r,e)}async getBucket(e){var t=()=>super.getBucket,r=this;return t().call(r,e)}async listBuckets(e={}){var t=()=>super.listBuckets,r=this;return t().call(r,e)}async deleteBucket(e){var t=()=>super.deleteBucket,r=this;return t().call(r,e)}},AN=class extends NN{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){var t=()=>super.createIndex,r=this;return t().call(r,dr(dr({},e),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,r=this;return t().call(r,dr(dr({},e),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,r=this;return t().call(r,r.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,r=this;return t().call(r,r.vectorBucketName,e)}index(e){return new CN(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},CN=class extends jN{constructor(e,t,r,n,a){super(e,t,a),this.vectorBucketName=r,this.indexName=n}async putVectors(e){var t=()=>super.putVectors,r=this;return t().call(r,dr(dr({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(e){var t=()=>super.getVectors,r=this;return t().call(r,dr(dr({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,r=this;return t().call(r,dr(dr({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,r=this;return t().call(r,dr(dr({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,r=this;return t().call(r,dr(dr({},e),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},TN=class extends xN{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new gN(this.url,this.headers,e,this.fetch)}get vectors(){return new kN(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new vN(this.url+"/iceberg",this.headers,this.fetch)}};const ry="2.90.0",_h=30*1e3,s1=3,rg=s1*_h,PN="http://localhost:9999",LN="supabase.auth.token",RN={"X-Client-Info":`gotrue-js/${ry}`},o1="X-Supabase-Api-Version",ny={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},FN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ON=10*60*1e3;class B0 extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Kt(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class IN extends B0{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function DN(e){return Kt(e)&&e.name==="AuthApiError"}class wd extends B0{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class fu extends B0{constructor(t,r,n,a){super(t,n,a),this.name=r,this.status=n}}class Oo extends fu{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function BN(e){return Kt(e)&&e.name==="AuthSessionMissingError"}class oh extends fu{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Wf extends fu{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class Vf extends fu{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function MN(e){return Kt(e)&&e.name==="AuthImplicitGrantRedirectError"}class Yv extends fu{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class UN extends fu{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class l1 extends fu{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function ng(e){return Kt(e)&&e.name==="AuthRetryableFetchError"}class Xv extends fu{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class c1 extends fu{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Jv=` 	
\r=`.split(""),$N=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Jv.length;t+=1)e[Jv[t].charCodeAt(0)]=-2;for(let t=0;t<_p.length;t+=1)e[_p[t].charCodeAt(0)]=t;return e})();function Zv(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_p[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(_p[n]),t.queuedBits-=6}}function ay(e,t,r){const n=$N[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Qv(e){const t=[],r=l=>{t.push(String.fromCodePoint(l))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},i=l=>{HN(l,n,r)};for(let l=0;l<e.length;l+=1)ay(e.charCodeAt(l),a,i);return t.join("")}function zN(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function qN(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const a=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|a)+65536,r+=1}zN(n,t)}}function HN(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Ah(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};for(let a=0;a<e.length;a+=1)ay(e.charCodeAt(a),r,n);return new Uint8Array(t)}function WN(e){const t=[];return qN(e,r=>t.push(r)),new Uint8Array(t)}function jd(e){const t=[],r={queue:0,queuedBits:0},n=a=>{t.push(a)};return e.forEach(a=>Zv(a,r,n)),Zv(null,r,n),t.join("")}function VN(e){return Math.round(Date.now()/1e3)+e}function GN(){return Symbol("auth-callback")}const Yi=()=>typeof window<"u"&&typeof document<"u",xd={tested:!1,writable:!1},iy=()=>{if(!Yi())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xd.tested)return xd.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),xd.tested=!0,xd.writable=!0}catch{xd.tested=!0,xd.writable=!1}return xd.writable};function KN(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((a,i)=>{t[i]=a})}catch{}return r.searchParams.forEach((n,a)=>{t[a]=n}),t}const sy=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),YN=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",yh=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},vd=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ki=async(e,t)=>{await e.removeItem(t)};class Zp{constructor(){this.promise=new Zp.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Zp.promiseConstructor=Promise;function ag(e){const t=e.split(".");if(t.length!==3)throw new c1("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!FN.test(t[n]))throw new c1("JWT not in base64url format");return{header:JSON.parse(Qv(t[0])),payload:JSON.parse(Qv(t[1])),signature:Ah(t[2]),raw:{header:t[0],payload:t[1]}}}async function XN(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function JN(e,t){return new Promise((n,a)=>{(async()=>{for(let i=0;i<1/0;i++)try{const l=await e(i);if(!t(i,null,l)){n(l);return}}catch(l){if(!t(i,l)){a(l);return}}})()})}function ZN(e){return("0"+e.toString(16)).substr(-2)}function QN(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let a="";for(let i=0;i<56;i++)a+=r.charAt(Math.floor(Math.random()*n));return a}return crypto.getRandomValues(t),Array.from(t,ZN).join("")}async function ej(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),a=new Uint8Array(n);return Array.from(a).map(i=>String.fromCharCode(i)).join("")}async function tj(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await ej(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function lh(e,t,r=!1){const n=QN();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await yh(e,`${t}-code-verifier`,a);const i=await tj(n);return[i,n===i?"plain":"s256"]}const rj=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function nj(e){const t=e.headers.get(o1);if(!t||!t.match(rj))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function aj(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ij(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const sj=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ch(e){if(!sj.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function ig(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function oj(e,t){return new Proxy(e,{get:(r,n,a)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,a)}return!t.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(r,n,a)}})}function e2(e){return JSON.parse(JSON.stringify(e))}const bd=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lj=[502,503,504];async function t2(e){var t;if(!YN(e))throw new l1(bd(e),0);if(lj.includes(e.status))throw new l1(bd(e),e.status);let r;try{r=await e.json()}catch(i){throw new wd(bd(i),i)}let n;const a=nj(e);if(a&&a.getTime()>=ny["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Xv(bd(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Oo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,l)=>i&&typeof l=="string",!0))throw new Xv(bd(r),e.status,r.weak_password.reasons);throw new IN(bd(r),e.status||500,n)}const cj=(e,t,r,n)=>{const a={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))};async function ur(e,t,r,n){var a;const i=Object.assign({},n==null?void 0:n.headers);i[o1]||(i[o1]=ny["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const l=(a=n==null?void 0:n.query)!==null&&a!==void 0?a:{};n!=null&&n.redirectTo&&(l.redirect_to=n.redirectTo);const c=Object.keys(l).length?"?"+new URLSearchParams(l).toString():"",d=await uj(e,t,r+c,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(d):{data:Object.assign({},d),error:null}}async function uj(e,t,r,n,a,i){const l=cj(t,n,a,i);let c;try{c=await e(r,Object.assign({},l))}catch(d){throw console.error(d),new l1(bd(d),0)}if(c.ok||await t2(c),n!=null&&n.noResolveJson)return c;try{return await c.json()}catch(d){await t2(d)}}function Kl(e){var t;let r=null;fj(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=VN(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function r2(e){const t=Kl(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Uu(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function dj(e){return{data:e,error:null}}function hj(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i}=e,l=Xp(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),c={action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:i},d=Object.assign({},l);return{data:{properties:c,user:d},error:null}}function n2(e){return e}function fj(e){return e.access_token&&e.refresh_token&&e.expires_in}const sg=["global","local","others"];class pj{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=sy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,r=sg[0]){if(sg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${sg.join(", ")}`);try{return await ur(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Kt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await ur(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Uu})}catch(n){if(Kt(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=Xp(t,["options"]),a=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(a.new_email=n==null?void 0:n.newEmail,delete a.newEmail),await ur(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:a,headers:this.headers,xform:hj,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(Kt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await ur(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Uu})}catch(r){if(Kt(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,a,i,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},p=await ur(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:n2});if(p.error)throw p.error;const f=await p.json(),b=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,g=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return g.length>0&&(g.forEach(S=>{const y=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(S.split(";")[1].split("=")[1]);h[`${N}Page`]=y}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},f),h),error:null}}catch(h){if(Kt(h))return{data:{users:[]},error:h};throw h}}async getUserById(t){ch(t);try{return await ur(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Uu})}catch(r){if(Kt(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ch(t);try{return await ur(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Uu})}catch(n){if(Kt(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ch(t);try{return await ur(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Uu})}catch(n){if(Kt(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ch(t.userId);try{const{data:r,error:n}=await ur(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:a=>({data:{factors:a},error:null})});return{data:r,error:n}}catch(r){if(Kt(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ch(t.userId),ch(t.id);try{return{data:await ur(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Kt(r))return{data:null,error:r};throw r}}async _listOAuthClients(t){var r,n,a,i,l,c,d;try{const h={nextPage:null,lastPage:0,total:0},p=await ur(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(a=t==null?void 0:t.perPage)===null||a===void 0?void 0:a.toString())!==null&&i!==void 0?i:""},xform:n2});if(p.error)throw p.error;const f=await p.json(),b=(l=p.headers.get("x-total-count"))!==null&&l!==void 0?l:0,g=(d=(c=p.headers.get("link"))===null||c===void 0?void 0:c.split(","))!==null&&d!==void 0?d:[];return g.length>0&&(g.forEach(S=>{const y=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(S.split(";")[1].split("=")[1]);h[`${N}Page`]=y}),h.total=parseInt(b)),{data:Object.assign(Object.assign({},f),h),error:null}}catch(h){if(Kt(h))return{data:{clients:[]},error:h};throw h}}async _createOAuthClient(t){try{return await ur(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Kt(r))return{data:null,error:r};throw r}}async _getOAuthClient(t){try{return await ur(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Kt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(t,r){try{return await ur(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(Kt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(t){try{return await ur(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(Kt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(t){try{return await ur(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(Kt(r))return{data:null,error:r};throw r}}}function a2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const uh={debug:!!(globalThis&&iy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class oy extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class mj extends oy{}async function gj(e,t,r){uh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),uh.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async a=>{if(a){uh.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,a.name);try{return await r()}finally{uh.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,a.name)}}else{if(t===0)throw uh.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new mj(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(uh.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function xj(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function ly(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function vj(e){return parseInt(e,16)}function bj(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,n=>n.toString(16).padStart(2,"0")).join("")}function _j(e){var t;const{chainId:r,domain:n,expirationTime:a,issuedAt:i=new Date,nonce:l,notBefore:c,requestId:d,resources:h,scheme:p,uri:f,version:b}=e;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(l&&l.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${l}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(b!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${b}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const g=ly(e.address),S=p?`${p}://${n}`:n,y=e.statement?`${e.statement}
`:"",N=`${S} wants you to sign in with your Ethereum account:
${g}

${y}`;let A=`URI: ${f}
Version: ${b}
Chain ID: ${r}${l?`
Nonce: ${l}`:""}
Issued At: ${i.toISOString()}`;if(a&&(A+=`
Expiration Time: ${a.toISOString()}`),c&&(A+=`
Not Before: ${c.toISOString()}`),d&&(A+=`
Request ID: ${d}`),h){let P=`
Resources:`;for(const T of h){if(!T||typeof T!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${T}`);P+=`
- ${T}`}A+=P}return`${N}
${A}`}class ti extends Error{constructor({message:t,code:r,cause:n,name:a}){var i;super(t,{cause:n}),this.__isWebAuthnError=!0,this.name=(i=a??(n instanceof Error?n.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=r}}class yp extends ti{constructor(t,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:t}),this.name="WebAuthnUnknownError",this.originalError=r}}function yj({error:e,options:t}){var r,n,a;const{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ti({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new ti({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((n=i.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new ti({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new ti({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new ti({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new ti({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return i.pubKeyCredParams.filter(c=>c.type==="public-key").length===0?new ti({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new ti({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const l=window.location.hostname;if(cy(l)){if(i.rp.id!==l)return new ti({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ti({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new ti({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new ti({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ti({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function wj({error:e,options:t}){const{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new ti({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new ti({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const n=window.location.hostname;if(cy(n)){if(r.rpId!==n)return new ti({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new ti({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new ti({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new ti({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class Sj{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const Nj=new Sj;function jj(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:r,excludeCredentials:n}=e,a=Xp(e,["challenge","user","excludeCredentials"]),i=Ah(t).buffer,l=Object.assign(Object.assign({},r),{id:Ah(r.id).buffer}),c=Object.assign(Object.assign({},a),{challenge:i,user:l});if(n&&n.length>0){c.excludeCredentials=new Array(n.length);for(let d=0;d<n.length;d++){const h=n[d];c.excludeCredentials[d]=Object.assign(Object.assign({},h),{id:Ah(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function Ej(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:r}=e,n=Xp(e,["challenge","allowCredentials"]),a=Ah(t).buffer,i=Object.assign(Object.assign({},n),{challenge:a});if(r&&r.length>0){i.allowCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];i.allowCredentials[l]=Object.assign(Object.assign({},c),{id:Ah(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return i}function kj(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e;return{id:e.id,rawId:e.id,response:{attestationObject:jd(new Uint8Array(e.response.attestationObject)),clientDataJSON:jd(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Aj(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const r=e,n=e.getClientExtensionResults(),a=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:jd(new Uint8Array(a.authenticatorData)),clientDataJSON:jd(new Uint8Array(a.clientDataJSON)),signature:jd(new Uint8Array(a.signature)),userHandle:a.userHandle?jd(new Uint8Array(a.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(t=r.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function cy(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function i2(){var e,t;return!!(Yi()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Cj(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yp("Browser returned unexpected credential type",t)}:{data:null,error:new yp("Empty credential response",t)}}catch(t){return{data:null,error:yj({error:t,options:e})}}}async function Tj(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new yp("Browser returned unexpected credential type",t)}:{data:null,error:new yp("Empty credential response",t)}}catch(t){return{data:null,error:wj({error:t,options:e})}}}const Pj={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Lj={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wp(...e){const t=a=>a!==null&&typeof a=="object"&&!Array.isArray(a),r=a=>a instanceof ArrayBuffer||ArrayBuffer.isView(a),n={};for(const a of e)if(a)for(const i in a){const l=a[i];if(l!==void 0)if(Array.isArray(l))n[i]=l;else if(r(l))n[i]=l;else if(t(l)){const c=n[i];t(c)?n[i]=wp(c,l):n[i]=wp(l)}else n[i]=l}return n}function Rj(e,t){return wp(Pj,e,t||{})}function Fj(e,t){return wp(Lj,e,t||{})}class Oj{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:r,friendlyName:n,signal:a},i){try{const{data:l,error:c}=await this.client.mfa.challenge({factorId:t,webauthn:r});if(!l)return{data:null,error:c};const d=a??Nj.createNewAbortSignal();if(l.webauthn.type==="create"){const{user:h}=l.webauthn.credential_options.publicKey;h.name||(h.name=`${h.id}:${n}`),h.displayName||(h.displayName=h.name)}switch(l.webauthn.type){case"create":{const h=Rj(l.webauthn.credential_options.publicKey,i==null?void 0:i.create),{data:p,error:f}=await Cj({publicKey:h,signal:d});return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:f}}case"request":{const h=Fj(l.webauthn.credential_options.publicKey,i==null?void 0:i.request),{data:p,error:f}=await Tj(Object.assign(Object.assign({},l.webauthn.credential_options),{publicKey:h,signal:d}));return p?{data:{factorId:t,challengeId:l.id,webauthn:{type:l.webauthn.type,credential_response:p}},error:null}:{data:null,error:f}}}}catch(l){return Kt(l)?{data:null,error:l}:{data:null,error:new wd("Unexpected error in challenge",l)}}}async _verify({challengeId:t,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:t,webauthn:n})}async _authenticate({factorId:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new B0("rpId is required for WebAuthn authentication")};try{if(!i2())return{data:null,error:new wd("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this.challenge({factorId:t,webauthn:{rpId:r,rpOrigins:n},signal:a},{request:i});if(!l)return{data:null,error:c};const{webauthn:d}=l;return this._verify({factorId:t,challengeId:l.challengeId,webauthn:{type:d.type,rpId:r,rpOrigins:n,credential_response:d.credential_response}})}catch(l){return Kt(l)?{data:null,error:l}:{data:null,error:new wd("Unexpected error in authenticate",l)}}}async _register({friendlyName:t,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:a}={}},i){if(!r)return{data:null,error:new B0("rpId is required for WebAuthn registration")};try{if(!i2())return{data:null,error:new wd("Browser does not support WebAuthn",null)};const{data:l,error:c}=await this._enroll({friendlyName:t});if(!l)return await this.client.mfa.listFactors().then(p=>{var f;return(f=p.data)===null||f===void 0?void 0:f.all.find(b=>b.factor_type==="webauthn"&&b.friendly_name===t&&b.status!=="unverified")}).then(p=>p?this.client.mfa.unenroll({factorId:p==null?void 0:p.id}):void 0),{data:null,error:c};const{data:d,error:h}=await this._challenge({factorId:l.id,friendlyName:l.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:a},{create:i});return d?this._verify({factorId:l.id,challengeId:d.challengeId,webauthn:{rpId:r,rpOrigins:n,type:d.webauthn.type,credential_response:d.webauthn.credential_response}}):{data:null,error:h}}catch(l){return Kt(l)?{data:null,error:l}:{data:null,error:new wd("Unexpected error in register",l)}}}}xj();const Ij={url:PN,storageKey:LN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:RN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function s2(e,t,r){return await r()}const dh={};class M0{get jwks(){var t,r;return(r=(t=dh[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){dh[this.storageKey]=Object.assign(Object.assign({},dh[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=dh[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){dh[this.storageKey]=Object.assign(Object.assign({},dh[this.storageKey]),{cachedAt:t})}constructor(t){var r,n,a;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const i=Object.assign(Object.assign({},Ij),t);if(this.storageKey=i.storageKey,this.instanceID=(r=M0.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,M0.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.instanceID>0&&Yi()){const l=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(l),this.logDebugMessages&&console.trace(l)}if(this.persistSession=i.persistSession,this.autoRefreshToken=i.autoRefreshToken,this.admin=new pj({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=sy(i.fetch),this.lock=i.lock||s2,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,this.throwOnError=i.throwOnError,this.lockAcquireTimeout=i.lockAcquireTimeout,i.lock?this.lock=i.lock:this.persistSession&&Yi()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=gj:this.lock=s2,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Oj(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:iy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=a2(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=a2(this.memoryStorage)),Yi()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(a=this.broadcastChannel)===null||a===void 0||a.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ry}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let r={},n="none";if(Yi()&&(r=KN(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Yi()&&this.detectSessionInUrl&&n!=="none"){const{data:a,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),MN(i)){const d=(t=i.details)===null||t===void 0?void 0:t.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:i}}return{error:i}}const{session:l,redirectType:c}=a;return this._debug("#_initialize()","detected session in URL",l,"redirect type",c),await this._saveSession(l),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",l):await this._notifyAllSubscribers("SIGNED_IN",l)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Kt(r)?this._returnResult({error:r}):this._returnResult({error:new wd("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,a;try{const i=await ur(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.captchaToken}},xform:Kl}),{data:l,error:c}=i;if(c||!l)return this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(Kt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signUp(t){var r,n,a;try{let i;if("email"in t){const{email:p,password:f,options:b}=t;let g=null,S=null;this.flowType==="pkce"&&([g,S]=await lh(this.storage,this.storageKey)),i=await ur(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:p,password:f,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:g,code_challenge_method:S},xform:Kl})}else if("phone"in t){const{phone:p,password:f,options:b}=t;i=await ur(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:f,data:(n=b==null?void 0:b.data)!==null&&n!==void 0?n:{},channel:(a=b==null?void 0:b.channel)!==null&&a!==void 0?a:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Kl})}else throw new Wf("You must provide either an email or phone number and a password");const{data:l,error:c}=i;if(c||!l)return await Ki(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});const d=l.session,h=l.user;return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(i){if(await Ki(this.storage,`${this.storageKey}-code-verifier`),Kt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithPassword(t){try{let r;if("email"in t){const{email:i,password:l,options:c}=t;r=await ur(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:r2})}else if("phone"in t){const{phone:i,password:l,options:c}=t;r=await ur(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:l,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},xform:r2})}else throw new Wf("You must provide either an email or phone number and a password");const{data:n,error:a}=r;if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!n||!n.session||!n.user){const i=new oh;return this._returnResult({data:{user:null,session:null},error:i})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:a})}catch(r){if(Kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(t){var r,n,a,i;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(a=t.options)===null||a===void 0?void 0:a.queryParams,skipBrowserRedirect:(i=t.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;switch(r){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(t){var r,n,a,i,l,c,d,h,p,f,b;let g,S;if("message"in t)g=t.message,S=t.signature;else{const{chain:y,wallet:N,statement:A,options:P}=t;let T;if(Yi())if(typeof N=="object")T=N;else{const M=window;if("ethereum"in M&&typeof M.ethereum=="object"&&"request"in M.ethereum&&typeof M.ethereum.request=="function")T=M.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof N!="object"||!(P!=null&&P.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");T=N}const R=new URL((r=P==null?void 0:P.url)!==null&&r!==void 0?r:window.location.href),q=await T.request({method:"eth_requestAccounts"}).then(M=>M).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!q||q.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const te=ly(q[0]);let G=(n=P==null?void 0:P.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!G){const M=await T.request({method:"eth_chainId"});G=vj(M)}const H={domain:R.host,address:te,statement:A,uri:R.href,version:"1",chainId:G,nonce:(a=P==null?void 0:P.signInWithEthereum)===null||a===void 0?void 0:a.nonce,issuedAt:(l=(i=P==null?void 0:P.signInWithEthereum)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date,expirationTime:(c=P==null?void 0:P.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=P==null?void 0:P.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(h=P==null?void 0:P.signInWithEthereum)===null||h===void 0?void 0:h.requestId,resources:(p=P==null?void 0:P.signInWithEthereum)===null||p===void 0?void 0:p.resources};g=_j(H),S=await T.request({method:"personal_sign",params:[bj(g),te]})}try{const{data:y,error:N}=await ur(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:g,signature:S},!((f=t.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:Kl});if(N)throw N;if(!y||!y.session||!y.user){const A=new oh;return this._returnResult({data:{user:null,session:null},error:A})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:N})}catch(y){if(Kt(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var r,n,a,i,l,c,d,h,p,f,b,g;let S,y;if("message"in t)S=t.message,y=t.signature;else{const{chain:N,wallet:A,statement:P,options:T}=t;let R;if(Yi())if(typeof A=="object")R=A;else{const te=window;if("solana"in te&&typeof te.solana=="object"&&("signIn"in te.solana&&typeof te.solana.signIn=="function"||"signMessage"in te.solana&&typeof te.solana.signMessage=="function"))R=te.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=A}const q=new URL((r=T==null?void 0:T.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const te=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:q.host,uri:q.href}),P?{statement:P}:null));let G;if(Array.isArray(te)&&te[0]&&typeof te[0]=="object")G=te[0];else if(te&&typeof te=="object"&&"signedMessage"in te&&"signature"in te)G=te;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in G&&"signature"in G&&(typeof G.signedMessage=="string"||G.signedMessage instanceof Uint8Array)&&G.signature instanceof Uint8Array)S=typeof G.signedMessage=="string"?G.signedMessage:new TextDecoder().decode(G.signedMessage),y=G.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${q.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...P?["",P,""]:[""],"Version: 1",`URI: ${q.href}`,`Issued At: ${(a=(n=T==null?void 0:T.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&a!==void 0?a:new Date().toISOString()}`,...!((i=T==null?void 0:T.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((l=T==null?void 0:T.signInWithSolana)===null||l===void 0)&&l.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((c=T==null?void 0:T.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((d=T==null?void 0:T.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((h=T==null?void 0:T.signInWithSolana)===null||h===void 0)&&h.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((f=(p=T==null?void 0:T.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||f===void 0)&&f.length?["Resources",...T.signInWithSolana.resources.map(G=>`- ${G}`)]:[]].join(`
`);const te=await R.signMessage(new TextEncoder().encode(S),"utf8");if(!te||!(te instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=te}}try{const{data:N,error:A}=await ur(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:jd(y)},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Kl});if(A)throw A;if(!N||!N.session||!N.user){const P=new oh;return this._returnResult({data:{user:null,session:null},error:P})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:A})}catch(N){if(Kt(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async _exchangeCodeForSession(t){const r=await vd(this.storage,`${this.storageKey}-code-verifier`),[n,a]=(r??"").split("/");try{if(!n&&this.flowType==="pkce")throw new UN;const{data:i,error:l}=await ur(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:Kl});if(await Ki(this.storage,`${this.storageKey}-code-verifier`),l)throw l;if(!i||!i.session||!i.user){const c=new oh;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign(Object.assign({},i),{redirectType:a??null}),error:l})}catch(i){if(await Ki(this.storage,`${this.storageKey}-code-verifier`),Kt(i))return this._returnResult({data:{user:null,session:null,redirectType:null},error:i});throw i}}async signInWithIdToken(t){try{const{options:r,provider:n,token:a,access_token:i,nonce:l}=t,c=await ur(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:a,access_token:i,nonce:l,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Kl}),{data:d,error:h}=c;if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!d||!d.session||!d.user){const p=new oh;return this._returnResult({data:{user:null,session:null},error:p})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:h})}catch(r){if(Kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(t){var r,n,a,i,l;try{if("email"in t){const{email:c,options:d}=t;let h=null,p=null;this.flowType==="pkce"&&([h,p]=await lh(this.storage,this.storageKey));const{error:f}=await ur(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=d==null?void 0:d.data)!==null&&r!==void 0?r:{},create_user:(n=d==null?void 0:d.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:h,code_challenge_method:p},redirectTo:d==null?void 0:d.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in t){const{phone:c,options:d}=t,{data:h,error:p}=await ur(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(a=d==null?void 0:d.data)!==null&&a!==void 0?a:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(l=d==null?void 0:d.channel)!==null&&l!==void 0?l:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:p})}throw new Wf("You must provide either an email or phone number.")}catch(c){if(await Ki(this.storage,`${this.storageKey}-code-verifier`),Kt(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(t){var r,n;try{let a,i;"options"in t&&(a=(r=t.options)===null||r===void 0?void 0:r.redirectTo,i=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:l,error:c}=await ur(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:i}}),redirectTo:a,xform:Kl});if(c)throw c;if(!l)throw new Error("An error occurred on token verification.");const d=l.session,h=l.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:h,session:d},error:null})}catch(a){if(Kt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithSSO(t){var r,n,a,i,l;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await lh(this.storage,this.storageKey));const h=await ur(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((a=t==null?void 0:t.options)===null||a===void 0)&&a.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:dj});return!((i=h.data)===null||i===void 0)&&i.url&&Yi()&&!(!((l=t.options)===null||l===void 0)&&l.skipBrowserRedirect)&&window.location.assign(h.data.url),this._returnResult(h)}catch(c){if(await Ki(this.storage,`${this.storageKey}-code-verifier`),Kt(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new Oo;const{error:a}=await ur(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:a})})}catch(t){if(Kt(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:a,options:i}=t,{error:l}=await ur(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:l})}else if("phone"in t){const{phone:n,type:a,options:i}=t,{data:l,error:c}=await ur(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:a,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:l==null?void 0:l.message_id},error:c})}throw new Wf("You must provide either an email or phone number and a type")}catch(r){if(Kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),a=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await a}catch{}})()),a}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const a=[...this.pendingInLock];await Promise.all(a),this.pendingInLock.splice(0,a.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await vd(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<rg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const l=await vd(this.userStorage,this.storageKey+"-user");l!=null&&l.user?t.user=l.user:t.user=ig()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const l={value:this.suppressGetSessionWarning};t.user=oj(t.user,l),l.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{session:null},error:i}):this._returnResult({data:{session:a},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(t){try{return t?await ur(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Uu}):await this._useSession(async r=>{var n,a,i;const{data:l,error:c}=r;if(c)throw c;return!(!((n=l.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Oo}:await ur(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(a=l.session)===null||a===void 0?void 0:a.access_token)!==null&&i!==void 0?i:void 0,xform:Uu})})}catch(r){if(Kt(r))return BN(r)&&(await this._removeSession(),await Ki(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:a,error:i}=n;if(i)throw i;if(!a.session)throw new Oo;const l=a.session;let c=null,d=null;this.flowType==="pkce"&&t.email!=null&&([c,d]=await lh(this.storage,this.storageKey));const{data:h,error:p}=await ur(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:c,code_challenge_method:d}),jwt:l.access_token,xform:Uu});if(p)throw p;return l.user=h.user,await this._saveSession(l),await this._notifyAllSubscribers("USER_UPDATED",l),this._returnResult({data:{user:l.user},error:null})})}catch(n){if(await Ki(this.storage,`${this.storageKey}-code-verifier`),Kt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Oo;const r=Date.now()/1e3;let n=r,a=!0,i=null;const{payload:l}=ag(t.access_token);if(l.exp&&(n=l.exp,a=n<=r),a){const{data:c,error:d}=await this._callRefreshToken(t.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};i=c}else{const{data:c,error:d}=await this._getUser(t.access_token);if(d)throw d;i={access_token:t.access_token,refresh_token:t.refresh_token,user:c.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return this._returnResult({data:{user:i.user,session:i},error:null})}catch(r){if(Kt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:l,error:c}=r;if(c)throw c;t=(n=l.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Oo;const{data:a,error:i}=await this._callRefreshToken(t.refresh_token);return i?this._returnResult({data:{user:null,session:null},error:i}):a?this._returnResult({data:{user:a.user,session:a},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(Kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(t,r){try{if(!Yi())throw new Vf("No browser detected.");if(t.error||t.error_description||t.error_code)throw new Vf(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Yv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vf("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Yv("No code detected.");const{data:P,error:T}=await this._exchangeCodeForSession(t.code);if(T)throw T;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:P.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:a,access_token:i,refresh_token:l,expires_in:c,expires_at:d,token_type:h}=t;if(!i||!c||!l||!h)throw new Vf("No session defined in URL");const p=Math.round(Date.now()/1e3),f=parseInt(c);let b=p+f;d&&(b=parseInt(d));const g=b-p;g*1e3<=_h&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const S=b-f;p-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,b,p):p-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,b,p);const{data:y,error:N}=await this._getUser(i);if(N)throw N;const A={provider_token:n,provider_refresh_token:a,access_token:i,expires_in:f,expires_at:b,refresh_token:l,token_type:h,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:t.type},error:null})}catch(n){if(Kt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await vd(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({error:i});const l=(n=a.session)===null||n===void 0?void 0:n.access_token;if(l){const{error:c}=await this.admin.signOut(l,t);if(c&&!(DN(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return t!=="others"&&(await this._removeSession(),await Ki(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const r=GN(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,a;try{const{data:{session:i},error:l}=r;if(l)throw l;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",t,"session",i)}catch(i){await((a=this.stateChangeEmitters.get(t))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",i),console.error(i)}})}async resetPasswordForEmail(t,r={}){let n=null,a=null;this.flowType==="pkce"&&([n,a]=await lh(this.storage,this.storageKey,!0));try{return await ur(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:a,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(await Ki(this.storage,`${this.storageKey}-code-verifier`),Kt(i))return this._returnResult({data:null,error:i});throw i}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(r){if(Kt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var r;try{const{data:n,error:a}=await this._useSession(async i=>{var l,c,d,h,p;const{data:f,error:b}=i;if(b)throw b;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(l=t.options)===null||l===void 0?void 0:l.redirectTo,scopes:(c=t.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=t.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ur(this.fetch,"GET",g,{headers:this.headers,jwt:(p=(h=f.session)===null||h===void 0?void 0:h.access_token)!==null&&p!==void 0?p:void 0})});if(a)throw a;return Yi()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:t.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(Kt(n))return this._returnResult({data:{provider:t.provider,url:null},error:n});throw n}}async linkIdentityIdToken(t){return await this._useSession(async r=>{var n;try{const{error:a,data:{session:i}}=r;if(a)throw a;const{options:l,provider:c,token:d,access_token:h,nonce:p}=t,f=await ur(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=i==null?void 0:i.access_token)!==null&&n!==void 0?n:void 0,body:{provider:c,id_token:d,access_token:h,nonce:p,link_identity:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Kl}),{data:b,error:g}=f;return g?this._returnResult({data:{user:null,session:null},error:g}):!b||!b.session||!b.user?this._returnResult({data:{user:null,session:null},error:new oh}):(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("USER_UPDATED",b.session)),this._returnResult({data:b,error:g}))}catch(a){if(await Ki(this.storage,`${this.storageKey}-code-verifier`),Kt(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}})}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)throw l;return await ur(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(a=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&a!==void 0?a:void 0})})}catch(r){if(Kt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await JN(async a=>(a>0&&await XN(200*Math.pow(2,a-1)),this._debug(r,"refreshing attempt",a),await ur(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Kl})),(a,i)=>{const l=200*Math.pow(2,a);return i&&ng(i)&&Date.now()+l-n<_h})}catch(n){if(this._debug(r,"error",n),Kt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Yi()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const a=await vd(this.storage,this.storageKey);if(a&&this.userStorage){let l=await vd(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!l&&(l={user:a.user},await yh(this.userStorage,this.storageKey+"-user",l)),a.user=(t=l==null?void 0:l.user)!==null&&t!==void 0?t:ig()}else if(a&&!a.user&&!a.user){const l=await vd(this.storage,this.storageKey+"-user");l&&(l!=null&&l.user)?(a.user=l.user,await Ki(this.storage,this.storageKey+"-user"),await yh(this.storage,this.storageKey,a)):a.user=ig()}if(this._debug(n,"session from storage",a),!this._isValidSession(a)){this._debug(n,"session is not valid"),a!==null&&await this._removeSession();return}const i=((r=a.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<rg;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${rg}s`),i){if(this.autoRefreshToken&&a.refresh_token){const{error:l}=await this._callRefreshToken(a.refresh_token);l&&(console.error(l),ng(l)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",l),await this._removeSession()))}}else if(a.user&&a.user.__isUserNotAvailableProxy===!0)try{const{data:l,error:c}=await this._getUser(a.access_token);!c&&(l!=null&&l.user)?(a.user=l.user,await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(l){console.error("Error getting user data:",l),this._debug(n,"error getting user data, skipping SIGNED_IN notification",l)}else await this._notifyAllSubscribers("SIGNED_IN",a)}catch(a){this._debug(n,"error",a),console.error(a);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new Oo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const a=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{this.refreshingDeferred=new Zp;const{data:i,error:l}=await this._refreshAccessToken(t);if(l)throw l;if(!i.session)throw new Oo;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const c={data:i.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(i){if(this._debug(a,"error",i),Kt(i)){const l={data:null,error:i};return ng(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(l),l}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(a,"end")}}async _notifyAllSubscribers(t,r,n=!0){const a=`#_notifyAllSubscribers(${t})`;this._debug(a,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const i=[],l=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(t,r)}catch(d){i.push(d)}});if(await Promise.all(l),i.length>0){for(let c=0;c<i.length;c+=1)console.error(i[c]);throw i[0]}}finally{this._debug(a,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await Ki(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await yh(this.userStorage,this.storageKey+"-user",{user:r.user});const a=Object.assign({},r);delete a.user;const i=e2(a);await yh(this.storage,this.storageKey,i)}else{const a=e2(r);await yh(this.storage,this.storageKey,a)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Ki(this.storage,this.storageKey),await Ki(this.storage,this.storageKey+"-code-verifier"),await Ki(this.storage,this.storageKey+"-user"),this.userStorage&&await Ki(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Yi()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),_h);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const a=Math.floor((n.expires_at*1e3-t)/_h);this._debug("#_autoRefreshTokenTick()",`access token expires in ${a} ticks, a tick lasts ${_h}ms, refresh threshold is ${s1} ticks`),a<=s1&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof oy)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Yi()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const a=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&a.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&a.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,l]=await lh(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(l)}`});a.push(c.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);a.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&a.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${a.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;return i?this._returnResult({data:null,error:i}):await ur(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Kt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,a;const{data:i,error:l}=r;if(l)return this._returnResult({data:null,error:l});const c=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:d,error:h}=await ur(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return h?this._returnResult({data:null,error:h}):(t.factorType==="totp"&&d.type==="totp"&&(!((a=d==null?void 0:d.totp)===null||a===void 0)&&a.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(r){if(Kt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?kj(t.webauthn.credential_response):Aj(t.webauthn.credential_response)})}:{code:t.code}),{data:c,error:d}=await ur(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(r){if(Kt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var n;const{data:a,error:i}=r;if(i)return this._returnResult({data:null,error:i});const l=await ur(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});if(l.error)return l;const{data:c}=l;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:jj(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Ej(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(Kt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){var t;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const a={all:[],phone:[],totp:[],webauthn:[]};for(const i of(t=r==null?void 0:r.factors)!==null&&t!==void 0?t:[])a.all.push(i),i.status==="verified"&&a[i.factor_type].push(i);return{data:a,error:null}}async _getAuthenticatorAssuranceLevel(){var t,r;const{data:{session:n},error:a}=await this.getSession();if(a)return this._returnResult({data:null,error:a});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=ag(n.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((r=(t=n.user.factors)===null||t===void 0?void 0:t.filter(p=>p.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const h=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:h},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?await ur(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Oo})})}catch(r){if(Kt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Oo});const l=await ur(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&Yi()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Kt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(t,r){try{return await this._useSession(async n=>{const{data:{session:a},error:i}=n;if(i)return this._returnResult({data:null,error:i});if(!a)return this._returnResult({data:null,error:new Oo});const l=await ur(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:a.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return l.data&&l.data.redirect_url&&Yi()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(l.data.redirect_url),l})}catch(n){if(Kt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await ur(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Oo})})}catch(t){if(Kt(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async r=>{const{data:{session:n},error:a}=r;return a?this._returnResult({data:null,error:a}):n?(await ur(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Oo})})}catch(r){if(Kt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(c=>c.kid===t);if(n)return n;const a=Date.now();if(n=this.jwks.keys.find(c=>c.kid===t),n&&this.jwks_cached_at+ON>a)return n;const{data:i,error:l}=await ur(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(l)throw l;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=a,n=i.keys.find(c=>c.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:g,error:S}=await this.getSession();if(S||!g.session)return this._returnResult({data:null,error:S});n=g.session.access_token}const{header:a,payload:i,signature:l,raw:{header:c,payload:d}}=ag(n);r!=null&&r.allowExpired||aj(i.exp);const h=!a.alg||a.alg.startsWith("HS")||!a.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(a.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!h){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:a,signature:l},error:null}}const p=ij(a.alg),f=await crypto.subtle.importKey("jwk",h,p,!0,["verify"]);if(!await crypto.subtle.verify(p,f,l,WN(`${c}.${d}`)))throw new c1("Invalid JWT signature");return{data:{claims:i,header:a,signature:l},error:null}}catch(n){if(Kt(n))return this._returnResult({data:null,error:n});throw n}}}M0.nextInstanceID={};const Dj=M0,Bj="2.90.0";let x0="";typeof Deno<"u"?x0="deno":typeof document<"u"?x0="web":typeof navigator<"u"&&navigator.product==="ReactNative"?x0="react-native":x0="node";const Mj={"X-Client-Info":`supabase-js-${x0}/${Bj}`},Uj={headers:Mj},$j={schema:"public"},zj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},qj={};function U0(e){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U0(e)}function Hj(e,t){if(U0(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(U0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wj(e){var t=Hj(e,"string");return U0(t)=="symbol"?t:t+""}function Vj(e,t,r){return(t=Wj(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),r.push.apply(r,n)}return r}function wa(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){Vj(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}const Gj=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),Kj=()=>Headers,Yj=(e,t,r)=>{const n=Gj(r),a=Kj();return async(i,l)=>{var c;const d=(c=await t())!==null&&c!==void 0?c:e;let h=new a(l==null?void 0:l.headers);return h.has("apikey")||h.set("apikey",e),h.has("Authorization")||h.set("Authorization",`Bearer ${d}`),n(i,wa(wa({},l),{},{headers:h}))}};function Xj(e){return e.endsWith("/")?e:e+"/"}function Jj(e,t){var r,n;const{db:a,auth:i,realtime:l,global:c}=e,{db:d,auth:h,realtime:p,global:f}=t,b={db:wa(wa({},d),a),auth:wa(wa({},h),i),realtime:wa(wa({},p),l),storage:{},global:wa(wa(wa({},f),c),{},{headers:wa(wa({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=c==null?void 0:c.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return e.accessToken?b.accessToken=e.accessToken:delete b.accessToken,b}function Zj(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Xj(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var Qj=class extends Dj{constructor(e){super(e)}},eE=class{constructor(e,t,r){var n,a;this.supabaseUrl=e,this.supabaseKey=t;const i=Zj(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",i),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",i),this.storageUrl=new URL("storage/v1",i),this.functionsUrl=new URL("functions/v1",i);const l=`sb-${i.hostname.split(".")[0]}-auth-token`,c={db:$j,realtime:qj,auth:wa(wa({},zj),{},{storageKey:l}),global:Uj},d=Jj(r??{},c);if(this.storageKey=(n=d.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken)this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(p,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var h;this.auth=this._initSupabaseAuthClient((h=d.auth)!==null&&h!==void 0?h:{},this.headers,d.global.fetch)}this.fetch=Yj(t,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(wa({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(p=>this.realtime.setAuth(p)).catch(p=>console.warn("Failed to set initial Realtime auth token:",p)),this.rest=new RS(new URL("rest/v1",i).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new TN(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new AS(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,r;if(e.accessToken)return await e.accessToken();const{data:n}=await e.auth.getSession();return(t=(r=n.session)===null||r===void 0?void 0:r.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,storageKey:i,flowType:l,lock:c,debug:d,throwOnError:h},p,f){const b={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Qj({url:this.authUrl.href,headers:wa(wa({},b),p),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:a,flowType:l,lock:c,debug:d,throwOnError:h,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(g=>g.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new XS(this.realtimeUrl.href,wa(wa({},e),{},{params:wa(wa({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const tE=(e,t,r)=>new eE(e,t,r);function rE(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const r=t.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}rE()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const nE="https://cxombxhctuwpbhxsdlit.supabase.co",aE="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN4b21ieGhjdHV3cGJoeHNkbGl0Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njg4NDQ4MzYsImV4cCI6MjA4NDQyMDgzNn0.IlT6kg7gziF2GtcaSJUt8Wq6rvHh4bQvHtfq6r6wvJE",ve=tE(nE,aE),iE=({toggleMode:e,toggleAutoMode:t,isLightMode:r,isAutoMode:n,toggleNav:a,isNavActive:i,currentView:l,setCurrentView:c,carrerasOptions:d})=>{U.useState(!1);const[h,p]=U.useState(null),[f,b]=U.useState([]),g=S=>y=>{y.preventDefault(),c(S),a()};return U.useEffect(()=>{(async()=>{const{data:y}=await ve.from("ui_header_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:N}=await ve.from("ui_header_links").select("*").order("order_index",{ascending:!0});p(y||null),b(N||[])})()},[]),s.jsx("header",{className:"header",children:s.jsxs("div",{className:"header-container",children:[s.jsxs("div",{className:"logo-title",children:[s.jsx("img",{src:(h==null?void 0:h.logo_url)||"/images/cbta134.png",alt:"Logo CBTA 134",className:"logo",onClick:()=>c("home"),style:{cursor:"pointer"}}),s.jsx("h1",{className:"site-title",onClick:()=>c("home"),style:{cursor:"pointer"},children:(h==null?void 0:h.title_text)||"Centro de Bachillerato Tecnolgico Agropecuario 134"})]}),s.jsx("nav",{className:`main-nav ${i?"active":""}`,children:f.length>0&&s.jsx("ul",{children:f.map(S=>s.jsx("li",{children:s.jsx("a",{href:S.href,onClick:g(S.path),className:"nav-link",children:S.label})},S.id))})})]})})},sE=()=>{const[e,t]=U.useState(0),[r,n]=U.useState([]),[a,i]=U.useState(!0);return U.useEffect(()=>{let l=!0;return(async()=>{var d;try{const{data:h,error:p}=await ve.from("hero_slides").select("*").order("order_index",{ascending:!0});if(!l)return;p&&(p.name==="AbortError"||(d=p.message)!=null&&d.includes("aborted")?console.warn("Carga de slides abortada, usando fallback..."):console.error("Error fetching slides from DB:",p)),h&&h.length>0?n(h):n([{id:"default-1",image_url:"/images/campus.png",title:"CBTa 134",subtitle:"Excelencia en Educacin Tecnolgica Agropecuaria",overlay_opacity:.4},{id:"default-2",image_url:"/images/valores.png",title:"Calidad Educativa",subtitle:"Formando el futuro del campo mexicano",overlay_opacity:.4}])}catch(h){if(!l)return;console.error("Error fetching slides:",h),n(p=>p.length>0?p:[{id:"default-1",image_url:"/images/campus.png",title:"CBTa 134",subtitle:"Excelencia en Educacin Tecnolgica Agropecuaria",overlay_opacity:.4}])}finally{l&&i(!1)}})(),()=>{l=!1}},[]),U.useEffect(()=>{if(r.length<=1)return;const l=setInterval(()=>{t(c=>(c+1)%r.length)},6e3);return()=>clearInterval(l)},[r.length]),a?s.jsx("div",{className:"h-[60vh] bg-slate-100 animate-pulse flex items-center justify-center",children:s.jsx("div",{className:"text-slate-400",children:"Cargando portada..."})}):s.jsxs("section",{className:"hero-section relative overflow-hidden group",children:[s.jsx("div",{className:"slides-container absolute inset-0",children:r.map((l,c)=>s.jsxs("div",{className:`slide ${c===e?"active":""}`,style:{backgroundImage:`url(${l.image_url})`,backgroundSize:"cover",backgroundPosition:"center",zIndex:c===e?10:0},children:[s.jsx("div",{className:"absolute inset-0 bg-black",style:{opacity:l.overlay_opacity||.4}}),(l.title||l.subtitle||l.button_text)&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-center px-6",children:s.jsxs("div",{className:`max-w-3xl transform transition-all duration-1000 delay-300 ${c===e?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[l.title&&s.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4 drop-shadow-lg",children:l.title}),l.subtitle&&s.jsx("p",{className:"text-lg md:text-xl text-white/90 mb-8 drop-shadow-md max-w-2xl mx-auto",children:l.subtitle}),l.button_text&&s.jsx("a",{href:l.button_link||"#",className:"inline-block px-8 py-3 bg-white text-emerald-800 font-bold rounded-full hover:bg-emerald-50 transition-colors shadow-xl text-lg transform hover:scale-105 active:scale-95",children:l.button_text})]})})]},l.id||c))}),r.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"slides-controls absolute bottom-8 left-1/2 -translate-x-1/2 z-20 flex gap-3",children:r.map((l,c)=>s.jsx("button",{className:`w-3 h-3 rounded-full transition-all duration-300 ${c===e?"bg-white scale-125 w-8":"bg-white/40 hover:bg-white/60"}`,onClick:()=>t(c)},c))}),s.jsx("button",{className:"absolute left-4 top-1/2 -translate-y-1/2 z-20 p-2 text-white opacity-0 group-hover:opacity-100 transition-opacity hidden md:block",onClick:()=>t(l=>(l-1+r.length)%r.length),children:s.jsx("span",{className:"material-symbols-outlined text-4xl",children:"chevron_left"})}),s.jsx("button",{className:"absolute right-4 top-1/2 -translate-y-1/2 z-20 p-2 text-white opacity-0 group-hover:opacity-100 transition-opacity hidden md:block",onClick:()=>t(l=>(l+1)%r.length),children:s.jsx("span",{className:"material-symbols-outlined text-4xl",children:"chevron_right"})})]})]})},oE=()=>{const e=td(),[t,r]=U.useState(null),[n,a]=U.useState([]);return U.useEffect(()=>{(async()=>{const{data:l}=await ve.from("ui_footer_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:c}=await ve.from("ui_footer_links").select("*").order("order_index",{ascending:!0});r(l||null),a(c||[])})()},[]),s.jsxs("footer",{className:"footer",children:[s.jsxs("div",{className:"footer-content",children:[s.jsxs("div",{className:"footer-section",children:[s.jsx("h3",{children:(t==null?void 0:t.school_name)||"CBTA 134"}),s.jsx("p",{children:(t==null?void 0:t.location_text)||"San Francisco Tetlanohcan"}),s.jsx("p",{children:(t==null?void 0:t.tagline_text)||"Educacin de calidad para el futuro"})]}),s.jsxs("div",{className:"footer-section",children:[s.jsx("h3",{children:"Autores"}),s.jsx("p",{children:"Crditos de la pgina"}),s.jsx("a",{href:"#/creditos",className:"footer-link",onClick:i=>{i.preventDefault(),e("/creditos"),window.location.hash="#/creditos"},children:"Ver autores"})]}),s.jsxs("div",{className:"footer-section",children:[s.jsx("h3",{children:"Sguenos"}),s.jsx("div",{className:"social-buttons",children:n.length>0?n.map(i=>s.jsxs("a",{href:i.href,target:"_blank",className:`social-button ${i.style_class||""}`,children:[i.icon_url&&s.jsx("img",{src:i.icon_url,alt:i.label}),i.label]},i.id)):s.jsxs(s.Fragment,{children:[s.jsxs("a",{href:"https://www.facebook.com",target:"_blank",className:"social-button facebook",children:[s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/5/51/Facebook_f_logo_%282019%29.svg",alt:"Facebook"}),"Facebook"]}),s.jsxs("a",{href:"https://maps.google.com",target:"_blank",className:"social-button maps",children:[s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/a/a9/Google_Maps_icon_%282020%29.svg",alt:"Maps"}),"Maps"]})]})})]})]}),s.jsx("div",{className:"footer-bottom",children:s.jsxs("div",{className:"footer-copyright",children:[s.jsx("p",{children:(t==null?void 0:t.copyright_text)||" 2025, Centro de Bachillerato Tecnolgico Agropecuario No. 134."}),s.jsx("p",{children:s.jsx("strong",{children:(t==null?void 0:t.rights_text)||"Todos los derechos reservados."})}),s.jsxs("div",{className:"copyright-details",children:[s.jsx("p",{children:(t==null?void 0:t.legal_text_1)||"El contenido de este sitio, incluyendo textos, imgenes, documentos, logotipos y dems materiales, es propiedad del Centro de Bachillerato Tecnolgico Agropecuario No. 134 y se encuentra protegido por la legislacin nacional e internacional sobre derechos de autor."}),s.jsx("p",{children:(t==null?void 0:t.legal_text_2)||"Queda prohibida la reproduccin, distribucin, comunicacin pblica o modificacin total o parcial de los materiales sin autorizacin previa y por escrito de los responsables del sitio."}),s.jsx("p",{children:(t==null?void 0:t.legal_text_3)||"Este sitio tiene fines acadmicos y de divulgacin estudiantil. Los contenidos compartidos pertenecen a sus autores originales y se citan nicamente con fines educativos."})]})]})})]})},J1=`
  Eres Camalen IA, el asistente virtual del CBTA 134 San Francisco Tetlanohcan. Tu objetivo es proporcionar informacin precisa y til sobre la institucin. Aqu tienes informacin clave:

  - **Nombre completo**: Centro de Bachillerato Tecnolgico Agropecuario No. 134 (CBTA 134).
  - **Ubicacin**: San Francisco Tetlanohcan, Tlaxcala, Mxico.
  - **Misin**: Contribuir activamente a la formacin integral de nuestros estudiantes del Bachillerato Tecnolgico con un enfoque de desarrollo sostenible y emprendedor que los integre plenamente a la sociedad.
  - **Visin**: Ser una institucin de calidad, formadora de lderes del maana.
  - **Lema**: Formar e innovar para transformar.

  **Carreras Tcnicas Ofrecidas**:
  - **Tcnico Agropecuario**: Formacin en agricultura, ganadera y desarrollo rural sustentable.
  - **Soporte y Mantenimiento de Equipos de Cmputo (SPP)**: Especializacin en reparacin y mantenimiento de sistemas informticos.
  - **Ofimtica**: Desarrollo de habilidades en herramientas de oficina y sistemas administrativos.
  - **Programacin**: Formacin en desarrollo de software y aplicaciones.
  - **Contabilidad**: Especializacin en gestin financiera y contable.

  **Servicios y Actividades**:
  - Clubs deportivos y culturales
  - Galera de eventos y actividades
  - Sistema SAETAM para gestin acadmica
  - Proceso de admisin estructurado

  **Valores Institucionales**: Respeto, responsabilidad, honestidad, trabajo en equipo e innovacin.

  Siempre responde en espaol de manera amable y profesional. Si no tienes informacin especfica, sugiere consultar directamente con la institucin o navegar por las secciones del sitio web.
`,u1=(e,t)=>t.some(r=>e instanceof r);let l2,c2;function lE(){return l2||(l2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cE(){return c2||(c2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d1=new WeakMap,og=new WeakMap,Qp=new WeakMap;function uE(e){const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("success",i),e.removeEventListener("error",l)},i=()=>{r(Td(e.result)),a()},l=()=>{n(e.error),a()};e.addEventListener("success",i),e.addEventListener("error",l)});return Qp.set(t,e),t}function dE(e){if(d1.has(e))return;const t=new Promise((r,n)=>{const a=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",l),e.removeEventListener("abort",l)},i=()=>{r(),a()},l=()=>{n(e.error||new DOMException("AbortError","AbortError")),a()};e.addEventListener("complete",i),e.addEventListener("error",l),e.addEventListener("abort",l)});d1.set(e,t)}let h1={get(e,t,r){if(e instanceof IDBTransaction){if(t==="done")return d1.get(e);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Td(e[t])},set(e,t,r){return e[t]=r,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function uy(e){h1=e(h1)}function hE(e){return cE().includes(e)?function(...t){return e.apply(f1(this),t),Td(this.request)}:function(...t){return Td(e.apply(f1(this),t))}}function fE(e){return typeof e=="function"?hE(e):(e instanceof IDBTransaction&&dE(e),u1(e,lE())?new Proxy(e,h1):e)}function Td(e){if(e instanceof IDBRequest)return uE(e);if(og.has(e))return og.get(e);const t=fE(e);return t!==e&&(og.set(e,t),Qp.set(t,e)),t}const f1=e=>Qp.get(e);function pE(e,t,{blocked:r,upgrade:n,blocking:a,terminated:i}={}){const l=indexedDB.open(e,t),c=Td(l);return n&&l.addEventListener("upgradeneeded",d=>{n(Td(l.result),d.oldVersion,d.newVersion,Td(l.transaction),d)}),r&&l.addEventListener("blocked",d=>r(d.oldVersion,d.newVersion,d)),c.then(d=>{i&&d.addEventListener("close",()=>i()),a&&d.addEventListener("versionchange",h=>a(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const mE=["get","getKey","getAll","getAllKeys","count"],gE=["put","add","delete","clear"],lg=new Map;function u2(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(lg.get(t))return lg.get(t);const r=t.replace(/FromIndex$/,""),n=t!==r,a=gE.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(a||mE.includes(r)))return;const i=async function(l,...c){const d=this.transaction(l,a?"readwrite":"readonly");let h=d.store;return n&&(h=h.index(c.shift())),(await Promise.all([h[r](...c),a&&d.done]))[0]};return lg.set(t,i),i}uy(e=>({...e,get:(t,r,n)=>u2(t,r)||e.get(t,r,n),has:(t,r)=>!!u2(t,r)||e.has(t,r)}));const xE=["continue","continuePrimaryKey","advance"],d2={},p1=new WeakMap,dy=new WeakMap,vE={get(e,t){if(!xE.includes(t))return e[t];let r=d2[t];return r||(r=d2[t]=function(...n){p1.set(this,dy.get(this)[t](...n))}),r}};async function*bE(...e){let t=this;if(t instanceof IDBCursor||(t=await t.openCursor(...e)),!t)return;t=t;const r=new Proxy(t,vE);for(dy.set(r,t),Qp.set(r,f1(t));t;)yield r,t=await(p1.get(r)||t.continue()),p1.delete(r)}function h2(e,t){return t===Symbol.asyncIterator&&u1(e,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&u1(e,[IDBIndex,IDBObjectStore])}uy(e=>({...e,get(t,r,n){return h2(t,r)?bE:e.get(t,r,n)},has(t,r){return h2(t,r)||e.has(t,r)}}));const _E="cbta-chatbot",Sp="kv",hy="chat_state_v1",fy=()=>pE(_E,1,{upgrade(e){e.objectStoreNames.contains(Sp)||e.createObjectStore(Sp)}}),py=async()=>await(await fy()).get(Sp,hy)||{conversations:[],activeId:null},Np=async e=>{await(await fy()).put(Sp,e,hy)},m1=(e="Nueva conversacin")=>({id:`${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:e,createdAt:new Date().toISOString(),messages:[]}),Pc=e=>e.conversations.find(t=>t.id===e.activeId)||null,yE=(e,t)=>({...e,activeId:t}),Ed=(e,t)=>{const n=e.conversations.find(a=>a.id===t.id)?e.conversations.map(a=>a.id===t.id?t:a):[t,...e.conversations];return{...e,conversations:n}},wE=()=>{var P;const e=td(),[t,r]=U.useState(""),[n,a]=U.useState({conversations:[],activeId:null}),[i,l]=U.useState(!1),[c,d]=U.useState(null),[h,p]=U.useState(()=>{const T=localStorage.getItem("isChatOpen");return T?JSON.parse(T):!1}),f=U.useRef({value:null,timestamp:0});U.useEffect(()=>{(async()=>{const R=await py();if(!R.conversations.length){const q={id:`msg-${Date.now()}`,text:"Hola! Soy **Camalen IA**, tu asistente virtual del CBTA 134. Estoy aqu para ayudarte con informacin sobre nuestra institucin, carreras, clubs y ms. En qu puedo ayudarte hoy?",sender:"bot",createdAt:new Date().toISOString()},te=m1("Camalen IA");te.messages.push(q);const G={conversations:[te],activeId:te.id};a(G),await Np(G);return}a(R)})()},[]),U.useEffect(()=>{n.conversations.length&&Np(n)},[n]),U.useEffect(()=>{localStorage.setItem("isChatOpen",JSON.stringify(h))},[h]),U.useEffect(()=>{(async()=>{const{data:R,error:q}=await ve.from("chatbot_config").select("*").order("updated_at",{ascending:!1}).limit(1).maybeSingle();q||d(R||null)})()},[]);const b=T=>(T=T.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>"),T=T.replace(/\*(.*?)\*/g,"<em>$1</em>"),T=T.replace(/\n/g,"<br />"),T),g=T=>T.replace(/<[^>]*>/g,""),S=(T,R)=>R?R.replace(/\/$/,""):T==="groq"?"https://api.groq.com/openai/v1":T==="gemini"?"https://generativelanguage.googleapis.com/v1beta":"https://api.groq.com/openai/v1",y=T=>T==="groq"?(c==null?void 0:c.groq_api_key)||(c==null?void 0:c.api_key)||"":T==="gemini"?(c==null?void 0:c.gemini_api_key)||(c==null?void 0:c.api_key)||"":(c==null?void 0:c.api_key)||"",N=async()=>{if(!(c!=null&&c.enable_db_context))return"";const T=Date.now(),R=5*60*1e3;if(f.current.value&&T-f.current.timestamp<R)return f.current.value;const{data:q,error:te}=await ve.rpc("get_chatbot_context");if(te)return console.warn("No se pudo cargar contexto de BD:",te.message),"";const G=JSON.stringify(q||{},null,2);return f.current={value:G,timestamp:T},G},A=async T=>{if(T.preventDefault(),!t.trim())return;if(c&&c.enabled===!1){const q={text:"El chatbot est deshabilitado temporalmente.",sender:"bot"};a(te=>{const G=Pc(te);if(!G)return te;const H={...G,messages:[...G.messages,{...q,id:`msg-${Date.now()}`,createdAt:new Date().toISOString()}]};return Ed(te,H)});return}const R={id:`msg-${Date.now()}`,text:t,sender:"user",createdAt:new Date().toISOString()};try{await ve.from("chatbot_questions").insert([{question_text:t,source_page:window.location.pathname,conversation_id:n.activeId||null,user_agent:navigator.userAgent}])}catch{}a(q=>{const te=Pc(q);if(!te)return q;const G={...te,messages:[...te.messages,R]};return Ed(q,G)}),r(""),l(!0);try{const q=await N(),te=((c==null?void 0:c.system_prompt)||J1).trim(),G=q?`${te}

Contexto de la base de datos (JSON):
${q}`:te,H=Pc(n),M=((H==null?void 0:H.messages)||[]).slice(-10).map(Q=>({role:Q.sender==="user"?"user":"assistant",content:g(Q.text)})),re=async Q=>{var D,Z,pe,be;const ye=y(Q);if(!ye)throw new Error(`No hay API key configurada para ${Q}.`);const je=S(Q,(c==null?void 0:c.base_url)||""),oe=(c==null?void 0:c.model)||(Q==="gemini"?"gemini-3.0-flash":"llama-3.1-8b-instant"),j=Q==="gemini"?`${je}/models/${oe}:generateContent?key=${ye}`:`${je}/chat/completions`,B=await fetch(j,{method:"POST",headers:{"Content-Type":"application/json",...Q==="gemini"?{}:{Authorization:`Bearer ${ye}`}},body:JSON.stringify(Q==="gemini"?{contents:[{parts:[{text:`${G}

Historial de la conversacin:
${M.map(Se=>`${Se.role==="user"?"Usuario":"Chatbot"}: ${Se.content}`).join(`
`)}


Usuario: ${t}`}]}]}:{model:oe,messages:[{role:"system",content:G},...M,{role:"user",content:t}],temperature:.3})});if(!B.ok){const Se=await B.text();throw new Error(`Error de la API (${Q}): ${B.status} - ${Se}`)}const O=await B.json();if(Q==="gemini"&&O.candidates&&((be=(pe=(Z=(D=O.candidates[0])==null?void 0:D.content)==null?void 0:Z.parts)==null?void 0:pe[0])!=null&&be.text))return O.candidates[0].content.parts[0].text;if(O.choices&&O.choices[0]&&O.choices[0].message)return O.choices[0].message.content;throw O.error?new Error(O.error.message):new Error("Respuesta no vlida del proveedor.")},I=((c==null?void 0:c.provider)||"groq").toLowerCase(),W=((c==null?void 0:c.primary_provider)||I||"groq").toLowerCase(),ae=(c==null?void 0:c.fallback_enabled)===!0,ge=W==="groq"?"gemini":"groq";let _e=null;try{_e=await re(ae?W:I)}catch(Q){if(ae)_e=await re(ge);else throw Q}const Le=b(_e),Te={id:`msg-${Date.now()}`,text:Le,sender:"bot",createdAt:new Date().toISOString()};a(Q=>{const ye=Pc(Q);if(!ye)return Q;const je={...ye,messages:[...ye.messages,Te]};return Ed(Q,je)})}catch(q){const te={text:`Error al conectar con Camalen IA: ${q.message}. Verifica tu conexin a internet e intenta de nuevo.`,sender:"bot"};a(G=>{const H=Pc(G);if(!H)return G;const M={...H,messages:[...H.messages,{...te,id:`msg-${Date.now()}`,createdAt:new Date().toISOString()}]};return Ed(G,M)})}l(!1)};return s.jsxs("div",{className:`chatbot-container ${h?"open":""}`,children:[s.jsxs("div",{className:"chatbot-bubble-wrapper",children:[s.jsx("div",{className:"chatbot-bubble",onClick:()=>p(!h),children:s.jsx("img",{src:"/images/camaleonicono.jpg",alt:"Camalen IA",className:"camaleon-icon"})}),s.jsx("p",{className:"chatbot-label",children:"Camalen IA"})]}),h&&s.jsxs("div",{className:"chatbot-window",children:[s.jsxs("div",{className:"chatbot-header",children:[s.jsx("h3",{children:"Camalen IA"}),s.jsx("button",{className:"open-full-btn",onClick:()=>{e("/chatbot"),window.location.hash="#/chatbot"},title:"Abrir en pantalla completa",type:"button",children:""}),s.jsx("button",{className:"close-btn",onClick:()=>p(!1),children:""})]}),s.jsxs("div",{className:"chatbot-messages",children:[(P=Pc(n))==null?void 0:P.messages.map(T=>s.jsx("div",{className:`message ${T.sender}`,children:s.jsx("div",{dangerouslySetInnerHTML:{__html:b(T.text)}})},T.id)),i&&s.jsx("div",{className:"message bot",children:"Escribiendo..."})]}),s.jsxs("form",{onSubmit:A,className:"chatbot-input",children:[s.jsx("input",{type:"text",value:t,onChange:T=>r(T.target.value),placeholder:"Escribe tu mensaje...",disabled:i}),s.jsx("button",{type:"submit",disabled:i,children:i?"Enviando...":"Enviar"})]})]})]})},bl=({onClick:e,onBack:t,text:r="Volver al inicio"})=>{const n={position:"fixed",top:"80px",left:"20px",padding:"12px 20px",backgroundColor:"#28a745",color:"white",border:"none",borderRadius:"25px",cursor:"pointer",fontSize:"14px",fontWeight:"bold",boxShadow:"0 4px 15px rgba(40, 167, 69, 0.3)",transition:"all 0.3s ease",zIndex:999,display:"flex",alignItems:"center",gap:"8px",maxWidth:"200px"},a=c=>{const d=c.currentTarget;d.style.backgroundColor="#218838",d.style.transform="translateY(-2px)",d.style.boxShadow="0 6px 20px rgba(33, 136, 56, 0.4)"},i=c=>{const d=c.currentTarget;d.style.backgroundColor="#28a745",d.style.transform="translateY(0)",d.style.boxShadow="0 4px 15px rgba(40, 167, 69, 0.3)"},l=c=>{if(typeof t=="function")return t(c);if(typeof e=="function")return e(c)};return s.jsxs("button",{style:n,onClick:l,onMouseEnter:a,onMouseLeave:i,"aria-label":r,children:[s.jsx("span",{children:""}),r]})},SE="_container_p3oqj_2",NE="_title_p3oqj_20",jE="_text_p3oqj_29",EE="_mision_p3oqj_42",kE="_vision_p3oqj_43",AE="_slogan_p3oqj_44",CE="_backButton_p3oqj_64",Ou={container:SE,title:NE,text:jE,mision:EE,vision:kE,slogan:AE,backButton:CE},TE=({onBack:e})=>s.jsxs("div",{className:Ou.container,children:[s.jsx("h2",{className:Ou.title,children:"Valores Institucionales"}),s.jsx("p",{className:Ou.mision,children:s.jsx("strong",{children:"Misin:"})}),s.jsx("p",{className:Ou.text,children:"Contribuir activamente a la formacin integral de nuestros estudiantes del Bachillerato Tecnolgico con un enfoque de desarrollo sostenible y emprendedor que los integre plenamente a la sociedad."}),s.jsx("p",{className:Ou.vision,children:s.jsx("strong",{children:"Visin:"})}),s.jsx("p",{className:Ou.text,children:"Ser una institucin de calidad, formadora de lderes del maana."}),s.jsx("p",{className:Ou.slogan,children:s.jsx("strong",{children:"Lema:"})}),s.jsx("p",{className:Ou.text,children:"Formar e innovar para transformar."}),s.jsx(bl,{onClick:e,text:"Regresar al Men Principal"})]}),PE=({onBack:e})=>{const[t,r]=U.useState(null),[n,a]=U.useState([]);U.useEffect(()=>{(async()=>{const{data:R}=await ve.from("about_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:q}=await ve.from("about_values").select("*").order("order_index",{ascending:!0});r(R||null),a(q||[])})()},[]);const i={minHeight:"100vh",paddingTop:"80px",padding:"80px 20px 40px",backgroundColor:"#ffffff"},l={background:"rgba(255, 255, 255, 0.95)",borderRadius:"20px",padding:"30px",maxWidth:"1000px",width:"100%",margin:"0 auto",boxShadow:"0 15px 35px rgba(0, 0, 0, 0.1)",overflow:"hidden"},c={fontSize:"2.5rem",fontWeight:"bold",textAlign:"center",marginBottom:"40px",color:"#28a745"},d={marginBottom:"40px",padding:"20px",borderRadius:"15px",backgroundColor:"#f8f9fa",border:"1px solid #28a745"},h={fontSize:"1.8rem",fontWeight:"bold",color:"#28a745",marginBottom:"20px",textAlign:"center"},p={backgroundColor:"#ffffff",borderRadius:"10px",padding:"20px",marginBottom:"20px",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.05)"},f={fontSize:"1.3rem",fontWeight:"bold",color:"#28a745",marginBottom:"10px",display:"flex",alignItems:"center",gap:"10px"},b={fontSize:"1rem",color:"#555",lineHeight:"1.8",textAlign:"justify",marginBottom:"0"},g={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginTop:"20px"},S={backgroundColor:"#ffffff",borderRadius:"10px",padding:"20px",textAlign:"center",boxShadow:"0 2px 10px rgba(0, 0, 0, 0.05)",transition:"transform 0.3s ease"},y={textAlign:"center",marginBottom:"30px"},N={textAlign:"center",marginBottom:"30px"},A={width:"100%",maxWidth:"900px",borderRadius:"15px",border:"2px solid #28a745",boxShadow:"0 8px 20px rgba(0, 0, 0, 0.12)"},P={width:"120px",height:"120px",borderRadius:"50%",border:"4px solid #28a745",marginBottom:"15px"};return s.jsxs("div",{style:i,children:[s.jsx(bl,{onBack:e}),s.jsxs("div",{style:l,children:[(t==null?void 0:t.croquis_image_url)&&s.jsx("div",{style:N,children:s.jsx("img",{src:t.croquis_image_url,alt:"Croquis CBTa 134",style:A})}),s.jsxs("div",{style:y,children:[s.jsx("img",{src:(t==null?void 0:t.logo_url)||"/images/cbta134.png",alt:"Logo CBTa 134",style:P}),s.jsx("h1",{style:c,children:(t==null?void 0:t.title)||"Acerca de CBTa 134"})]}),s.jsxs("div",{style:d,children:[s.jsx("h2",{style:h,children:" Historia e Identidad Institucional"}),s.jsxs("div",{style:p,children:[s.jsx("h3",{style:f,children:" Nuestra Historia"}),s.jsx("p",{style:b,children:(t==null?void 0:t.history_text)||"El Centro de Bachillerato Tecnolgico Agropecuario No. 134 es una institucin educativa que ha forjado su prestigio a travs de dcadas de excelencia acadmica. Fundado con el propsito de brindar educacin tcnica de calidad en el rea agropecuaria, hemos evolucionado para convertirnos en un referente educativo que forma profesionales competentes y ciudadanos comprometidos con el desarrollo de nuestra comunidad."})]}),s.jsxs("div",{style:p,children:[s.jsx("h3",{style:f,children:" Misin"}),s.jsx("p",{style:b,children:(t==null?void 0:t.mission_text)||"Contribuir activamente a la formacin integral de nuestros estudiantes del Bachillerato Tecnolgico, con un enfoque de desarrollo sostenible y emprendedor que los integre plenamente a la sociedad, proporcionando herramientas acadmicas y tcnicas que les permitan enfrentar los retos del mundo moderno con competencia y valores slidos."})]}),s.jsxs("div",{style:p,children:[s.jsx("h3",{style:f,children:" Visin"}),s.jsx("p",{style:b,children:(t==null?void 0:t.vision_text)||"Ser una institucin de calidad, formadora de lderes del maana, reconocida por su excelencia educativa, innovacin tecnolgica y compromiso con el desarrollo sustentable, que contribuya al progreso social y econmico de la regin."})]}),s.jsxs("div",{style:p,children:[s.jsx("h3",{style:f,children:" Lema Institucional"}),s.jsx("p",{style:{...b,fontSize:"1.2rem",fontWeight:"bold",color:"#28a745",textAlign:"center"},children:(t==null?void 0:t.lema_text)||'"Formar e innovar para transformar"'})]})]}),s.jsxs("div",{style:d,children:[s.jsx("h2",{style:h,children:" Nuestros Valores"}),s.jsx("div",{style:g,children:n.map(T=>s.jsxs("div",{style:S,children:[s.jsxs("h3",{style:{...f,justifyContent:"center"},children:[T.icon," ",T.title]}),s.jsx("p",{style:{...b,textAlign:"center",fontSize:"0.95rem"},children:T.description})]},T.id))})]}),s.jsxs("div",{style:d,children:[s.jsx("h2",{style:h,children:" Nuestro Compromiso"}),s.jsxs("div",{style:p,children:[s.jsx("p",{style:b,children:(t==null?void 0:t.commitment_text_1)||"El CBTa 134 se compromete a formar ciudadanos integrales que contribuyan al desarrollo sustentable de su comunidad. Nuestro enfoque educativo combina la excelencia acadmica con la formacin en valores, preparando a nuestros estudiantes para ser agentes de cambio positivo en la sociedad."}),s.jsx("p",{style:b,children:(t==null?void 0:t.commitment_text_2)||"A travs de nuestros programas tcnicos especializados, fomentamos el emprendimiento, la innovacin tecnolgica y el cuidado del medio ambiente, formando profesionales competentes que respondan a las necesidades del mercado laboral actual."})]})]})]})]})},LE=()=>{try{return typeof document<"u"&&document.body.classList.contains("dark-mode")}catch{return!1}},RE=({onBack:e})=>{const t=LE(),r={...so.container,backgroundColor:t?"#07111a":so.container.backgroundColor,color:t?"#d6dbe3":void 0},n={...so.content,background:t?"rgba(255,255,255,0.03)":so.content.background,boxShadow:t?"0 10px 30px rgba(2,6,23,0.7)":so.content.boxShadow,color:t?"#c8cdd3":void 0};({...so.header,backgroundColor:t||so.header.backgroundColor});const a={...so.contactInfo,backgroundColor:t?"rgba(76,175,80,0.08)":so.contactInfo.backgroundColor};return s.jsxs("div",{style:r,children:[s.jsxs("header",{style:so.header,children:[s.jsx("h1",{children:"Centro de Bachillerato Tecnolgico Agropecuario No. 134"}),s.jsx("h2",{children:'"Efram Hernndez Xolocotzi"'})]}),s.jsxs("div",{style:n,children:[s.jsx("h2",{children:"Prepa Abierta"}),s.jsx("p",{children:"Estudia tu bachillerato y una carrera tcnica en el rea agropecuaria, los das sbado."}),s.jsx("h3",{children:"Requisitos:"}),s.jsxs("ul",{style:so.list,children:[s.jsx("li",{children:"Ser mayor de 18 aos"}),s.jsx("li",{children:"Certificado de secundaria (original y 1 copia)"}),s.jsx("li",{children:"Acta de nacimiento reciente (original y 1 copia)"}),s.jsx("li",{children:"6 fotografas tamao infantil, blanco y negro (en papel mate, no instantneas)"}),s.jsx("li",{children:"Credencial de elector (original para cotejar y 1 copia)"}),s.jsx("li",{children:"CURP (reciente)"}),s.jsx("li",{children:"Comprobante de domicilio (original para cotejar y 1 copia)"}),s.jsx("li",{children:"Nmero de seguridad social (IMSS)"})]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Nota:"})," La apertura de esta modalidad depender del nmero de interesados en inscribirse."]}),s.jsxs("div",{style:a,children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Direccin:"})," Calle Josefa Ortiz de Domnguez s/n, Barrio de Jess Xolalpan, San Francisco Tetlanohcan, Tlax."]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Telfono:"})," 246 467 42 37"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Ms informacin:"})," ",s.jsx("a",{href:"http://www.cbta134.edu.mx",style:so.link,children:"www.cbta134.edu.mx"})]}),s.jsxs("p",{children:["Sguenos en redes sociales:"," ",s.jsx("a",{href:"https://www.facebook.com/micbta134",style:so.link,children:"Facebook"})]})]})]}),s.jsx("footer",{style:so.footer,children:s.jsx("p",{children:" 2025 CBTa 134 - Secretara de Educacin Pblica"})}),s.jsx(bl,{onBack:e,text:"Regresar al Men Principal"})]})},so={container:{fontFamily:"Arial, sans-serif",margin:0,padding:0,paddingTop:"80px",backgroundColor:"#f9f9f9",minHeight:"100vh"},header:{backgroundColor:"#4caf50",color:"white",textAlign:"center",padding:"10px 0"},content:{maxWidth:"800px",margin:"20px auto",background:"white",padding:"20px",borderRadius:"10px",boxShadow:"0 2px 5px rgba(0, 0, 0, 0.2)"},list:{listStyleType:"disc",marginLeft:"20px"},contactInfo:{backgroundColor:"#4caf50",color:"white",padding:"10px",borderRadius:"5px",textAlign:"center"},link:{color:"white",textDecoration:"underline"},footer:{textAlign:"center",marginTop:"20px",fontSize:"0.9em",color:"#666"}},FE=()=>{try{return typeof document<"u"&&document.body.classList.contains("dark-mode")}catch{return!1}},OE=()=>{const e=td(),t=()=>e("/"),[r,n]=U.useState(null),[a,i]=U.useState([]);U.useEffect(()=>{(async()=>{const{data:q}=await ve.from("teachers_config").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:te}=await ve.from("teachers_links").select("*").order("order_index",{ascending:!0});n(q||null),i((te||[]).filter(G=>G.is_active!==!1))})()},[]);const l=a,c=FE(),d={padding:0,minHeight:"100vh",backgroundColor:c?"#0f1720":"#f8f9fa",fontFamily:"'Inter', sans-serif"},h={height:"400px",backgroundImage:`url("${(r==null?void 0:r.hero_image_url)||"/images/maestros-hero.png"}")`,backgroundSize:"cover",backgroundPosition:"center",position:"relative",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",marginBottom:"40px"},p={position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(30, 60, 114, 0.7)",zIndex:1},f={fontSize:"32px",fontWeight:"bold",color:c?"#e6eef8":"#1e3c72",textAlign:"center",marginBottom:"20px"},b={fontSize:"18px",color:c?"#bfc7cf":"#666",textAlign:"center",marginBottom:"40px"},g={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"25px",maxWidth:"1200px",margin:"0 auto"},S={backgroundColor:c?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",overflow:"hidden",boxShadow:c?"0 12px 40px rgba(2,6,23,0.7)":"0 8px 25px rgba(0,0,0,0.1)",transition:"transform 0.3s ease, box-shadow 0.3s ease",cursor:"pointer",textDecoration:"none",color:"inherit"},y={padding:"25px"},N={fontSize:"20px",fontWeight:"bold",marginBottom:"10px",display:"flex",alignItems:"center",gap:"10px"},A={fontSize:"16px",color:c?"#c8cdd3":"#666",lineHeight:"1.6",marginBottom:"20px"},P={color:"white",border:"none",padding:"12px 24px",borderRadius:"8px",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"all 0.3s ease",width:"100%",textDecoration:"none",display:"block",textAlign:"center"},T=R=>{window.open(R,"_blank","noopener,noreferrer")};return s.jsxs("div",{style:d,children:[s.jsxs("div",{style:h,children:[s.jsx("div",{style:p}),s.jsxs("div",{style:{position:"relative",zIndex:2,textAlign:"center",padding:"0 20px"},children:[s.jsx("h1",{style:{...f,color:"white",marginBottom:"10px"},children:(r==null?void 0:r.title)||" Portal Docente"}),s.jsx("p",{style:{...b,color:"rgba(255,255,255,0.9)",marginBottom:"20px"},children:(r==null?void 0:r.subtitle)||"Gestiona los recursos educativos y el control de alumnos de la institucin."}),s.jsx("button",{onClick:()=>e("/maestros/admin"),style:{padding:"12px 24px",backgroundColor:"#e67e22",color:"white",border:"none",borderRadius:"8px",fontWeight:"bold",cursor:"pointer",fontSize:"16px",boxShadow:"0 4px 15px rgba(0,0,0,0.2)"},children:(r==null?void 0:r.cta_label)||" Panel Administrativo (Ingresar)"})]})]}),s.jsxs("div",{style:{padding:"0 20px"},children:[s.jsx("div",{style:g,children:l.map((R,q)=>s.jsx("div",{style:S,onMouseEnter:te=>{te.currentTarget.style.transform="translateY(-5px)",te.currentTarget.style.boxShadow="0 12px 35px rgba(0,0,0,0.15)"},onMouseLeave:te=>{te.currentTarget.style.transform="translateY(0)",te.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.1)"},onClick:()=>T(R.url),children:s.jsxs("div",{style:y,children:[s.jsxs("h3",{style:{...N,color:R.color},children:[s.jsx("span",{style:{fontSize:"24px"},children:R.icon}),R.name]}),s.jsx("p",{style:A,children:R.description}),s.jsx("button",{style:{...P,backgroundColor:"var(--primary-color)"},onMouseEnter:te=>{te.target.style.transform="scale(1.05)",te.target.style.boxShadow="0 4px 15px rgba(0,0,0,0.2)"},onMouseLeave:te=>{te.target.style.transform="scale(1)",te.target.style.boxShadow="none"},children:"Acceder al Portal "})]})},q))}),s.jsxs("div",{style:{background:c?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",padding:"25px",marginTop:"40px",boxShadow:c?"0 12px 35px rgba(2,6,23,0.7)":"0 8px 25px rgba(0,0,0,0.1)",maxWidth:"800px",margin:"40px auto 0 auto"},children:[s.jsx("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#1e3c72",marginBottom:"15px",textAlign:"center"},children:" Informacin Importante"}),s.jsxs("div",{style:{background:c?"rgba(30,60,114,0.12)":"#e3f2fd",padding:"20px",borderRadius:"10px",borderLeft:"4px solid #1e3c72"},children:[s.jsxs("p",{style:{fontSize:"16px",color:"#555",lineHeight:"1.6",marginBottom:"10px"},children:[s.jsx("strong",{children:" Nota:"})," Todos los enlaces externos se abrirn en una nueva ventana para tu comodidad."]}),s.jsxs("p",{style:{fontSize:"16px",color:"#555",lineHeight:"1.6",marginBottom:"10px"},children:[s.jsx("strong",{children:" Acceso:"})," Algunos portales requieren credenciales especficas proporcionadas por la institucin."]}),s.jsxs("p",{style:{fontSize:"16px",color:"#555",lineHeight:"1.6",marginBottom:"0"},children:[s.jsx("strong",{children:" Soporte:"})," Para problemas tcnicos, contacta al departamento de TI del CBTa 134."]})]})]}),s.jsx(bl,{onBack:t,text:"Regresar al Men Principal"})]})]})},IE=({onBack:e})=>{const t={minHeight:"100vh",paddingTop:"80px",padding:"80px 20px 40px",backgroundColor:"#f8f9fa"},r={backgroundColor:"white",borderRadius:"20px",padding:"20px",maxWidth:"100%",width:"100%",margin:"0 auto",boxShadow:"0 15px 35px rgba(0, 0, 0, 0.1)",overflow:"hidden"},n={fontSize:"2.5rem",fontWeight:"bold",color:"#28a745",textAlign:"center",marginBottom:"30px"};return s.jsx("div",{className:"noticias-container",style:t,children:s.jsxs("div",{className:"noticias-card",style:r,children:[s.jsx(bl,{onClick:e}),s.jsx("h1",{style:n,children:" Noticias CBTA 134"}),s.jsxs("div",{style:{backgroundColor:"#e9f7ef",padding:"15px",borderRadius:"10px",marginBottom:"20px",borderLeft:"4px solid #28a745",color:"#155724"},children:[s.jsx("strong",{children:" Mantente al da:"})," Aqu puedes ver todas las publicaciones y noticias importantes de nuestra escuela directamente desde nuestra pgina oficial de Facebook."]}),s.jsxs("div",{className:"facebook-container",style:{width:"100%",display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"20px",backgroundColor:"white",borderRadius:"10px",padding:"10px",boxShadow:"0 4px 15px rgba(0, 0, 0, 0.1)",position:"relative",overflow:"hidden"},children:[s.jsx("iframe",{src:"https://www.facebook.com/plugins/page.php?href=https%3A%2F%2Fwww.facebook.com%2Fmicbta134&tabs=timeline&width=500&height=700&small_header=false&adapt_container_width=true&hide_cover=false&show_facepile=true&appId",style:{border:"none",borderRadius:"8px",width:"100%",maxWidth:"600px",height:"70vh",minHeight:"500px",maxHeight:"800px",margin:"0 auto",display:"block"},scrolling:"no",frameBorder:"0",allowFullScreen:!0,title:"Noticias CBTA 134 Facebook",onError:a=>{console.log("Error cargando Facebook iframe"),a.target.style.display="none",a.target.nextElementSibling.style.display="block"}}),s.jsxs("div",{style:{display:"none",padding:"40px",textAlign:"center",backgroundColor:"#f8f9fa",borderRadius:"8px",border:"2px dashed #28a745",width:"100%",maxWidth:"600px",margin:"0 auto"},children:[s.jsx("h3",{style:{color:"#28a745",marginBottom:"15px"},children:" Sguenos en Facebook"}),s.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Visita nuestra pgina oficial para ver las ltimas noticias y actualizaciones."}),s.jsx("a",{href:"https://www.facebook.com/micbta134",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",padding:"12px 24px",backgroundColor:"#28a745",color:"white",textDecoration:"none",borderRadius:"8px",fontWeight:"bold",transition:"all 0.3s ease"},onMouseEnter:a=>{a.target.style.transform="translateY(-2px)",a.target.style.boxShadow="0 4px 12px rgba(40, 167, 69, 0.4)"},onMouseLeave:a=>{a.target.style.transform="translateY(0)",a.target.style.boxShadow="none"},children:" Visitar Pgina de Facebook"})]})]}),s.jsx("div",{style:{textAlign:"center",marginBottom:"20px",color:"#666",fontSize:"0.9rem",fontStyle:"italic"},children:"Las publicaciones se actualizan automticamente desde nuestra pgina oficial de Facebook."}),s.jsxs("div",{style:{backgroundColor:"#28a745",borderRadius:"15px",padding:"20px",textAlign:"center",color:"white"},children:[s.jsx("h3",{style:{margin:"0 0 10px 0"},children:" Sguenos en Redes Sociales"}),s.jsx("p",{style:{margin:0,fontSize:"0.95rem"},children:"No te pierdas ninguna novedad, evento o actividad del CBTA 134. nete a nuestra comunidad!"})]})]})})},DE=()=>{var Te;const e=td(),[t,r]=U.useState(null),[n,a]=U.useState(null),[i,l]=U.useState({nombre:"",apellidos:"",curp:"",grado:"",grupo:"",numero_control:"",carrera_id:""}),[c,d]=U.useState(!0),[h,p]=U.useState(!1),[f,b]=U.useState(!1),[g,S]=U.useState(""),[y,N]=U.useState([]),[A,P]=U.useState([]),[T,R]=U.useState([]),[q,te]=U.useState(null);U.useEffect(()=>{re(),M(),G();const{data:{subscription:Q}}=ve.auth.onAuthStateChange(async(ye,je)=>{je?await H(je.user.email)?(r(je.user),I(je.user.id),b(!1)):(b(!0),r(je.user)):(r(null),a(null),b(!1))});return()=>Q.unsubscribe()},[]);const G=async()=>{const{data:Q}=await ve.from("access_config").select("*").eq("config_key","alumno_domain").single();Q&&S(Q.config_value)},H=async Q=>{if(!Q)return!1;const{data:ye}=await ve.from("access_config").select("config_value").eq("config_key","alumno_domain").single();if(!ye||!ye.config_value)return!0;const je=ye.config_value.toLowerCase();return Q.toLowerCase().endsWith(je)},M=async()=>{const{data:Q}=await ve.from("carreras_tecnicas").select("*").order("nombre",{ascending:!0});N(Q||[])},re=async()=>{var Q;try{const{data:{session:ye},error:je}=await ve.auth.getSession();if(je){if(je.name==="AbortError"||(Q=je.message)!=null&&Q.includes("aborted"))return;throw je}ye&&(await H(ye.user.email)?(r(ye.user),await I(ye.user.id,ye.user.email),b(!1)):(b(!0),r(ye.user)))}catch(ye){console.error("Error checking user session:",ye)}finally{d(!1)}},I=async(Q,ye)=>{let{data:je,error:oe}=await ve.from("profiles").select("*").eq("id",Q).maybeSingle();if(!je||!je.rol){const{data:j,error:B}=await ve.from("profiles").upsert({id:Q,rol:"alumno",email:ye||null}).select().maybeSingle();B&&console.error("Error creando perfil:",B),je=j}je&&!je.email&&ye&&(await ve.from("profiles").update({email:ye}).eq("id",Q),je={...je,email:ye}),a(je),je&&je.rol==="alumno"&&(te(je.grado||1),W(Q,je.grado||1))},W=async(Q,ye)=>{const{data:je}=await ve.from("calificaciones").select("*").eq("alumno_id",Q).eq("semestre",ye);P(je||[]);const{data:oe}=await ve.from("publicaciones_globales").select("*").order("created_at",{ascending:!1});R(oe||[])},ae=async Q=>{if(Q.preventDefault(),i.numero_control.length!==14){alert("El nmero de control debe tener exactamente 14 dgitos.");return}const{error:ye}=await ve.from("profiles").update({nombre:i.nombre,apellidos:i.apellidos,curp:i.curp,numero_control:i.numero_control,grado:parseInt(i.grado),grupo:i.grupo.toUpperCase(),carrera_id:i.carrera_id?parseInt(i.carrera_id):null,updated_at:new Date().toISOString()}).eq("id",t.id);ye?(console.error(ye),alert("Error al guardar datos. Verifica tu conexin.")):(re(),p(!1))},ge=()=>{p(!0),l({nombre:n.nombre||"",apellidos:n.apellidos||"",curp:n.curp||"",numero_control:n.numero_control||"",grado:n.grado||"",grupo:n.grupo||"",carrera_id:n.carrera_id||""})},_e=async()=>{const{error:Q}=await ve.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/alumnos"}});Q&&(console.error("Error en login:",Q.message),alert("No se pudo iniciar sesin: "+Q.message))},Le=async()=>{await ve.auth.signOut()};return s.jsxs("div",{className:"alumnos-container",children:[s.jsxs("div",{className:"alumnos-header",children:[s.jsxs("button",{className:"back-button-alumnos",onClick:()=>e("/"),children:[s.jsx("span",{className:"back-icon",children:""})," Volver al Inicio"]}),s.jsx("h1",{className:"alumnos-title",children:"Portal Estudiantil"})]}),s.jsx("div",{className:"alumnos-content",children:s.jsxs("div",{className:"login-card-premium",children:[s.jsx("div",{className:"login-visual-new",style:{backgroundImage:'url("/images/alumnos-hero.png")',backgroundSize:"cover",backgroundPosition:"center",flex:"1",minHeight:"300px",position:"relative"},children:s.jsx("div",{className:"overlay-green",style:{position:"absolute",inset:0,background:"linear-gradient(to bottom, rgba(46, 204, 113, 0.2), rgba(39, 174, 96, 0.4))"}})}),s.jsxs("div",{className:"login-details",children:[f?s.jsxs("div",{style:{textAlign:"center",padding:"40px 20px"},children:[s.jsx("div",{style:{fontSize:"60px",marginBottom:"20px"},children:""}),s.jsx("h2",{style:{color:"#e74c3c",marginBottom:"15px"},children:"Acceso Denegado"}),s.jsx("p",{style:{color:"#666",marginBottom:"10px"},children:"Solo se permiten cuentas con el dominio:"}),s.jsx("p",{style:{fontWeight:"bold",color:"#2ecc71",fontSize:"18px",background:"#f0fff4",padding:"10px 20px",borderRadius:"8px",display:"inline-block",marginBottom:"15px"},children:g||"@cbta134.edu.mx"}),s.jsxs("p",{style:{color:"#888",fontSize:"14px",marginBottom:"20px"},children:["Tu correo: ",s.jsx("strong",{children:t==null?void 0:t.email})]}),s.jsx("button",{onClick:Le,style:{background:"#e74c3c",color:"white",border:"none",padding:"12px 30px",borderRadius:"25px",cursor:"pointer",fontSize:"16px"},children:"Cerrar Sesin"})]}):t?!(n!=null&&n.curp)||h?s.jsxs("div",{className:"registration-form",children:[s.jsx("h2",{children:h?"Actualizar Datos":"Completa tu Perfil"}),s.jsx("p",{children:"Asegrate de que tus datos sean correctos."}),s.jsxs("form",{onSubmit:ae,children:[s.jsx("input",{type:"text",placeholder:"Nombre(s)",value:i.nombre,onChange:Q=>l({...i,nombre:Q.target.value}),required:!0}),s.jsx("input",{type:"text",placeholder:"Apellidos Completos",value:i.apellidos,onChange:Q=>l({...i,apellidos:Q.target.value}),required:!0}),s.jsx("input",{type:"text",placeholder:"No. Control (14 dgitos)",value:i.numero_control,maxLength:14,onChange:Q=>{const ye=Q.target.value.replace(/[^0-9]/g,"");l({...i,numero_control:ye})},required:!0,title:"Debes ingresar exactamente 14 nmeros"}),s.jsx("input",{type:"text",placeholder:"CURP (18 caracteres)",maxLength:"18",value:i.curp,onChange:Q=>l({...i,curp:Q.target.value.toUpperCase()}),required:!0}),s.jsxs("div",{className:"form-row",children:[s.jsxs("select",{value:i.grado,onChange:Q=>l({...i,grado:Q.target.value}),required:!0,children:[s.jsx("option",{value:"",children:"Grado"}),s.jsx("option",{value:"1",children:"1 Semestre"}),s.jsx("option",{value:"2",children:"2 Semestre"}),s.jsx("option",{value:"3",children:"3 Semestre"}),s.jsx("option",{value:"4",children:"4 Semestre"}),s.jsx("option",{value:"5",children:"5 Semestre"}),s.jsx("option",{value:"6",children:"6 Semestre"})]}),s.jsxs("select",{value:i.grupo,onChange:Q=>l({...i,grupo:Q.target.value}),required:!0,children:[s.jsx("option",{value:"",children:"Grupo"}),s.jsx("option",{value:"A",children:"A"}),s.jsx("option",{value:"B",children:"B"}),s.jsx("option",{value:"C",children:"C"}),s.jsx("option",{value:"D",children:"D"}),s.jsx("option",{value:"E",children:"E"}),s.jsx("option",{value:"F",children:"F"}),s.jsx("option",{value:"G",children:"G"})]})]}),s.jsx("div",{className:"form-row",style:{marginTop:"10px"},children:s.jsxs("select",{value:i.carrera_id||"",onChange:Q=>l({...i,carrera_id:Q.target.value}),required:!0,style:{width:"100%"},children:[s.jsx("option",{value:"",children:"Selecciona tu Carrera Tcnica"}),y.map(Q=>s.jsx("option",{value:Q.id,children:Q.nombre},Q.id))]})}),s.jsxs("div",{style:{display:"flex",gap:"10px"},children:[s.jsx("button",{type:"submit",className:"google-login-btn",children:"Guardar Datos"}),h&&s.jsx("button",{type:"button",className:"google-login-btn cancel-btn",onClick:()=>p(!1),style:{background:"#f1f1f1",border:"1px solid #ccc"},children:"Cancelar"})]})]})]}):s.jsxs(s.Fragment,{children:[s.jsxs("h2",{children:["Hola, ",n.nombre,"!"]}),s.jsxs("div",{className:"profile-info-mini",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Correo:"})," ",(t==null?void 0:t.email)||(n==null?void 0:n.email)||"No disponible"]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Matrcula/CURP:"})," ",n.curp]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Grado y Grupo:"})," ",n.grado,"",n.grupo]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Carrera:"})," ",((Te=y.find(Q=>Q.id===n.carrera_id))==null?void 0:Te.nombre)||"Sin Asignar"]}),s.jsx("button",{onClick:ge,style:{background:"none",border:"none",color:"#27ae60",textDecoration:"underline",cursor:"pointer",fontSize:"0.9rem",marginTop:"5px",padding:0},children:"Editar mis datos"})]}),s.jsx("p",{children:"Ya puedes consultar tu informacin acadmica. El administrador subir tus calificaciones pronto."}),s.jsxs("div",{className:"student-dashboard",children:[s.jsxs("section",{className:"dashboard-section",children:[s.jsx("h3",{children:" Tablero de Avisos"}),T.length===0?s.jsx("p",{style:{fontStyle:"italic",color:"#999"},children:"No hay avisos recientes."}):s.jsx("div",{className:"announcements-list",children:T.map(Q=>s.jsxs("div",{className:"announcement-card",children:[s.jsx("h4",{children:Q.titulo}),s.jsx("p",{children:Q.contenido}),Q.media_url&&s.jsx("div",{className:"announcement-media",style:{marginTop:"1rem"},children:Q.media_type==="video"?s.jsx("video",{src:Q.media_url,controls:!0,style:{width:"100%",borderRadius:"8px"}}):s.jsx("img",{src:Q.media_url,alt:"Aviso",style:{width:"100%",borderRadius:"8px"}})}),s.jsx("small",{children:new Date(Q.created_at).toLocaleDateString()})]},Q.id))})]}),s.jsxs("section",{className:"dashboard-section",children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"},children:[s.jsx("h3",{children:" Boleta de Calificaciones"}),s.jsx("select",{value:q,onChange:Q=>{const ye=parseInt(Q.target.value);te(ye),W(t.id,ye)},className:"semester-selector",style:{padding:"5px",borderRadius:"5px",border:"1px solid #ddd"},children:[1,2,3,4,5,6].map(Q=>s.jsxs("option",{value:Q,children:[Q," Semestre"]},Q))})]}),A.length===0?s.jsx("p",{style:{textAlign:"center",padding:"2rem",background:"#f8f9fa",borderRadius:"8px"},children:"No hay calificaciones registradas para este semestre."}):s.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[s.jsxs("div",{children:[s.jsx("h4",{style:{color:"#2c3e50",borderBottom:"2px solid #3498db",paddingBottom:"0.5rem",marginBottom:"1rem",display:"inline-block"},children:" Formacin Bsica"}),s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{className:"student-grades-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Materia"}),s.jsx("th",{style:{textAlign:"center"},children:"P1"}),s.jsx("th",{style:{textAlign:"center"},children:"P2"}),s.jsx("th",{style:{textAlign:"center"},children:"P3"}),s.jsx("th",{style:{textAlign:"center"},children:"Promedio"})]})}),s.jsxs("tbody",{children:[A.filter(Q=>Q.tipo_materia!=="especialidad").map(Q=>s.jsxs("tr",{children:[s.jsx("td",{children:Q.materia}),s.jsx("td",{style:{textAlign:"center"},children:Q.parcial1||"-"}),s.jsx("td",{style:{textAlign:"center"},children:Q.parcial2||"-"}),s.jsx("td",{style:{textAlign:"center"},children:Q.parcial3||"-"}),s.jsx("td",{style:{textAlign:"center"},children:Q.promedio_final?s.jsx("span",{className:`grade-badge ${Q.promedio_final>=9?"excellent":Q.promedio_final>=7?"good":"bad"}`,children:Q.promedio_final}):"-"})]},Q.id)),A.filter(Q=>Q.tipo_materia!=="especialidad").length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:"5",style:{textAlign:"center",color:"#999"},children:"No hay materias bsicas registradas."})})]})]})})]}),s.jsxs("div",{children:[s.jsx("h4",{style:{color:"#8e44ad",borderBottom:"2px solid #9b59b6",paddingBottom:"0.5rem",marginBottom:"1rem",display:"inline-block"},children:" Formacin Profesional"}),A.filter(Q=>Q.tipo_materia==="especialidad").length>0?s.jsx("div",{style:{overflowX:"auto"},children:s.jsxs("table",{className:"student-grades-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Materia"}),s.jsx("th",{style:{textAlign:"center"},children:"P1"}),s.jsx("th",{style:{textAlign:"center"},children:"P2"}),s.jsx("th",{style:{textAlign:"center"},children:"P3"}),s.jsx("th",{style:{textAlign:"center"},children:"Promedio"})]})}),s.jsx("tbody",{children:A.filter(Q=>Q.tipo_materia==="especialidad").map(Q=>s.jsxs("tr",{children:[s.jsxs("td",{children:[Q.materia,s.jsx("span",{style:{display:"block",fontSize:"0.75rem",color:"#8e44ad"},children:"Especialidad"})]}),s.jsx("td",{style:{textAlign:"center"},children:Q.parcial1||"-"}),s.jsx("td",{style:{textAlign:"center"},children:Q.parcial2||"-"}),s.jsx("td",{style:{textAlign:"center"},children:Q.parcial3||"-"}),s.jsx("td",{style:{textAlign:"center"},children:Q.promedio_final?s.jsx("span",{className:`grade-badge ${Q.promedio_final>=9?"excellent":Q.promedio_final>=7?"good":"bad"}`,children:Q.promedio_final}):"-"})]},Q.id))})]})}):s.jsx("div",{style:{padding:"1rem",background:"#fdf2fa",border:"1px dashed #e5b0ea",borderRadius:"8px",color:"#8e44ad"},children:"No tienes materias de especialidad registradas en este semestre."})]})]})]})]}),s.jsx("div",{className:"auth-methods",style:{marginTop:"2rem"},children:s.jsx("button",{className:"google-login-btn logout-btn",onClick:Le,children:s.jsx("span",{children:"Cerrar Sesin"})})})]}):s.jsxs(s.Fragment,{children:[s.jsx("h2",{children:"Bienvenido, Alumno!"}),s.jsx("p",{children:"Accede a tus calificaciones, horarios y recursos acadmicos de manera segura."}),s.jsx("div",{className:"auth-methods",children:s.jsxs("button",{className:"google-login-btn",onClick:_e,children:[s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg",alt:"Google"}),s.jsx("span",{children:"Iniciar sesin con Google"})]})})]}),s.jsx("div",{className:"login-footer",children:s.jsxs("p",{children:["Tienes problemas para entrar? ",s.jsx("a",{href:"#contacto",children:"Contacta a soporte"})]})})]})]})})]})},BE=({isOpen:e,onClose:t,onClubAdded:r,clubToEdit:n=null})=>{const[a,i]=U.useState({nombre:"",categoria:"Deportivo",descripcion:"",beneficios:"",tipoVisual:"emoji",icono:"",color:"#4a90e2",foto:null,link:""}),[l,c]=U.useState(!1),[d,h]=U.useState(null);if(U.useEffect(()=>{i(n?{nombre:n.nombre||"",categoria:n.categoria||"Deportivo",descripcion:n.descripcion||"",beneficios:n.beneficios||"",tipoVisual:n.foto_url?"foto":"emoji",icono:n.icono||"",color:n.color||"#4a90e2",foto:null,link:n.link||"",existingFotoUrl:n.foto_url}:{nombre:"",categoria:"Deportivo",descripcion:"",beneficios:"",tipoVisual:"emoji",icono:"",color:"#4a90e2",foto:null,link:""})},[n,e]),!e)return null;const p=R=>{const{name:q,value:te}=R.target;i(G=>({...G,[q]:te}))},f=R=>{R.target.files&&R.target.files[0]&&i(q=>({...q,foto:R.target.files[0]}))},b=async R=>{R.preventDefault(),c(!0),h(null);try{let q=a.existingFotoUrl;if(a.tipoVisual==="foto"&&a.foto){const M=a.foto.name.split(".").pop(),I=`${`${Math.random()}.${M}`}`,{error:W}=await ve.storage.from("clubs_media").upload(I,a.foto);if(W)throw W;const{data:ae}=ve.storage.from("clubs_media").getPublicUrl(I);q=ae.publicUrl}else a.tipoVisual==="emoji"&&(q=null);const te={nombre:a.nombre,categoria:a.categoria,descripcion:a.descripcion,beneficios:a.beneficios,foto_url:q,icono:a.tipoVisual==="emoji"?a.icono:null,color:a.tipoVisual==="emoji"?a.color:null,link:a.link||null};let G;n?G=ve.from("clubs").update(te).eq("id",n.id):G=ve.from("clubs").insert([te]);const{error:H}=await G;if(H)throw H;r(),t()}catch(q){console.error("Error saving club:",q),h(q.message||"Error al guardar el club")}finally{c(!1)}},g={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},S={backgroundColor:"#fff",padding:"30px",borderRadius:"15px",width:"90%",maxWidth:"500px",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 10px 40px rgba(0,0,0,0.3)",color:"#333"},y={marginBottom:"15px"},N={display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"14px",color:"#555"},A={width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ddd",fontSize:"14px"},P={padding:"10px 20px",borderRadius:"5px",border:"none",cursor:"pointer",fontWeight:"bold",marginTop:"10px"},T=["#4a90e2","#e74c3c","#2ecc71","#f1c40f","#9b59b6","#e67e22","#1abc9c","#34495e"];return s.jsx("div",{style:g,children:s.jsxs("div",{style:S,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[s.jsx("h2",{style:{margin:0,color:"#2c3e50"},children:n?"Editar Club":"Agregar Nuevo Club"}),s.jsx("button",{onClick:t,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#999"},children:""})]}),d&&s.jsx("div",{style:{backgroundColor:"#ffebee",color:"#c62828",padding:"10px",borderRadius:"5px",marginBottom:"15px",fontSize:"14px"},children:d}),s.jsxs("form",{onSubmit:b,children:[s.jsxs("div",{style:y,children:[s.jsx("label",{style:N,children:"Nombre del Club"}),s.jsx("input",{required:!0,type:"text",name:"nombre",value:a.nombre,onChange:p,style:A,placeholder:"Ej. Ftbol Varonil"})]}),s.jsxs("div",{style:y,children:[s.jsx("label",{style:N,children:"Categora"}),s.jsxs("select",{name:"categoria",value:a.categoria,onChange:p,style:A,children:[s.jsx("option",{value:"Deportivo",children:"Deportivo"}),s.jsx("option",{value:"Cultural",children:"Cultural"}),s.jsx("option",{value:"Academico",children:"Acadmico"})]})]}),s.jsxs("div",{style:y,children:[s.jsx("label",{style:N,children:"Descripcin"}),s.jsx("textarea",{required:!0,name:"descripcion",value:a.descripcion,onChange:p,style:{...A,minHeight:"80px",fontFamily:"inherit"},placeholder:"Breve descripcin de las actividades..."})]}),s.jsxs("div",{style:y,children:[s.jsx("label",{style:N,children:"Beneficios (separados por )"}),s.jsx("input",{type:"text",name:"beneficios",value:a.beneficios,onChange:p,style:A,placeholder:"Ej. Salud  Disciplina  Diversin"})]}),s.jsxs("div",{style:y,children:[s.jsx("label",{style:N,children:"Link de Redireccin (Opcional)"}),s.jsx("input",{type:"url",name:"link",value:a.link,onChange:p,style:A,placeholder:"https://pagina-externa.com"})]}),s.jsxs("div",{style:y,children:[s.jsx("label",{style:N,children:"Apariencia"}),s.jsxs("div",{style:{display:"flex",gap:"10px",marginBottom:"15px"},children:[s.jsx("button",{type:"button",onClick:()=>i(R=>({...R,tipoVisual:"emoji"})),style:{...P,backgroundColor:a.tipoVisual==="emoji"?"#3498db":"#f0f2f5",color:a.tipoVisual==="emoji"?"white":"#7f8c8d",marginTop:0,flex:1},children:"Emoji + Color"}),s.jsx("button",{type:"button",onClick:()=>i(R=>({...R,tipoVisual:"foto"})),style:{...P,backgroundColor:a.tipoVisual==="foto"?"#3498db":"#f0f2f5",color:a.tipoVisual==="foto"?"white":"#7f8c8d",marginTop:0,flex:1},children:"Foto Personalizada"})]}),a.tipoVisual==="emoji"?s.jsxs("div",{style:{background:"#f8f9fa",padding:"15px",borderRadius:"8px"},children:[s.jsxs("div",{style:{marginBottom:"10px"},children:[s.jsx("label",{style:{...N,fontSize:"13px"},children:"Emoji:"}),s.jsx("input",{type:"text",name:"icono",value:a.icono,onChange:p,style:{...A,fontSize:"24px",textAlign:"center",width:"60px"},placeholder:""})]}),s.jsxs("div",{children:[s.jsx("label",{style:{...N,fontSize:"13px"},children:"Color de Fondo:"}),s.jsxs("div",{style:{display:"flex",gap:"8px",flexWrap:"wrap",marginBottom:"10px"},children:[T.map(R=>s.jsx("button",{type:"button",onClick:()=>i(q=>({...q,color:R})),style:{width:"30px",height:"30px",borderRadius:"50%",backgroundColor:R,border:a.color===R?"2px solid #333":"2px solid transparent",cursor:"pointer",padding:0}},R)),s.jsx("input",{type:"color",name:"color",value:a.color,onChange:p,style:{width:"32px",height:"32px",padding:0,border:"none",background:"none",cursor:"pointer"}})]})]}),s.jsxs("div",{style:{marginTop:"10px",textAlign:"center"},children:[s.jsx("label",{style:{...N,fontSize:"12px",marginBottom:"5px"},children:"Vista Previa:"}),s.jsx("div",{style:{width:"100%",height:"80px",backgroundColor:a.color,borderRadius:"10px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"32px",color:"white",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"},children:a.icono})]})]}):s.jsxs("div",{style:{textAlign:"center",padding:"20px",border:"2px dashed #ddd",borderRadius:"8px"},children:[a.existingFotoUrl&&s.jsxs("div",{style:{marginBottom:"10px"},children:[s.jsx("img",{src:a.existingFotoUrl,alt:"Preview",style:{height:"60px",borderRadius:"5px"}}),s.jsx("p",{style:{fontSize:"11px",margin:"2px 0 10px 0"},children:"Imagen actual (subir otra para cambiar)"})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:f,style:{...A,border:"none"}}),s.jsx("p",{style:{fontSize:"12px",color:"#999",margin:"5px 0 0 0"},children:"Formatos: JPG, PNG, WEBP"})]})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[s.jsx("button",{type:"button",onClick:t,style:{...P,backgroundColor:"#eceff1",color:"#546e7a"},disabled:l,children:"Cancelar"}),s.jsx("button",{type:"submit",style:{...P,backgroundColor:"#28a745",color:"white"},disabled:l,children:l?"Guardando...":n?"Actualizar Club":"Crear Club"})]})]})]})})},ME=({isOpen:e,onClose:t,onCareerAdded:r,careerToEdit:n=null})=>{const[a,i]=U.useState({nombre:"",descripcion:"",programa_competencia:"",justificacion:"",perfil_egreso:"",area_especializacion:"",habilidades_socioemocionales:"",oportunidades_profesionales:"",imagenFile:null,pdfFile:null,pdf_start_page:1}),[l,c]=U.useState(!1),[d,h]=U.useState(null);if(U.useEffect(()=>{i(n?{nombre:n.nombre||"",descripcion:n.descripcion||"",programa_competencia:n.programa_competencia||"",justificacion:n.justificacion||"",perfil_egreso:n.perfil_egreso||"",area_especializacion:n.area_especializacion||"",habilidades_socioemocionales:n.habilidades_socioemocionales||"",oportunidades_profesionales:n.oportunidades_profesionales||"",imagenFile:null,pdfFile:null,pdf_start_page:n.pdf_start_page||1,existingImagenUrl:n.imagen_url,existingPdfUrl:n.plan_estudios_url}:{nombre:"",descripcion:"",programa_competencia:"",justificacion:"",perfil_egreso:"",area_especializacion:"",habilidades_socioemocionales:"",oportunidades_profesionales:"",imagenFile:null,pdfFile:null,pdf_start_page:1})},[n,e]),!e)return null;const p=R=>{const{name:q,value:te}=R.target;i(G=>({...G,[q]:te}))},f=(R,q)=>{R.target.files&&R.target.files[0]&&i(te=>({...te,[q]:R.target.files[0]}))},b=async(R,q)=>{const te=R.name.split(".").pop(),G=`${q}/${Math.random()}.${te}`,{error:H}=await ve.storage.from("carreras_media").upload(G,R);if(H)throw H;const{data:M}=ve.storage.from("carreras_media").getPublicUrl(G);return M.publicUrl},g=async R=>{var q;R.preventDefault(),c(!0),h(null);try{let te=a.existingImagenUrl,G=a.existingPdfUrl;if(a.imagenFile&&(te=await b(a.imagenFile,"images")),a.pdfFile&&(G=await b(a.pdfFile,"pdfs")),!te)throw new Error("La imagen es obligatoria");const H={nombre:a.nombre,descripcion:a.descripcion,imagen_url:te,programa_competencia:a.programa_competencia,justificacion:a.justificacion,perfil_egreso:a.perfil_egreso,area_especializacion:a.area_especializacion,habilidades_socioemocionales:a.habilidades_socioemocionales,oportunidades_profesionales:a.oportunidades_profesionales,plan_estudios_url:G||null,pdf_start_page:parseInt(a.pdf_start_page)||1};let M;n?M=ve.from("carreras_tecnicas").update(H).eq("id",n.id):M=ve.from("carreras_tecnicas").insert([H]);const{error:re}=await M;if(re)throw re;r(),t()}catch(te){console.error("Error saving career:",te);let G=te.message||"Error al guardar la carrera tcnica";(q=te.message)!=null&&q.includes("Bucket not found")&&(G='Error: No se encontr el bucket de almacenamiento. Por favor, ejecuta el script "supabase_storage_setup.sql" en el Editor SQL de Supabase para crearlo.'),h(G)}finally{c(!1)}},S={position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.7)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},y={backgroundColor:"#fff",padding:"30px",borderRadius:"15px",width:"90%",maxWidth:"700px",maxHeight:"90vh",overflowY:"auto",position:"relative",boxShadow:"0 10px 40px rgba(0,0,0,0.3)",color:"#333"},N={marginBottom:"15px"},A={display:"block",marginBottom:"5px",fontWeight:"bold",fontSize:"14px",color:"#555"},P={width:"100%",padding:"10px",borderRadius:"5px",border:"1px solid #ddd",fontSize:"14px"},T={padding:"10px 20px",borderRadius:"5px",border:"none",cursor:"pointer",fontWeight:"bold",marginTop:"10px"};return s.jsx("div",{style:S,children:s.jsxs("div",{style:y,children:[s.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[s.jsx("h2",{style:{margin:0,color:"#2c3e50"},children:n?"Editar Carrera Tcnica":"Agregar Nueva Carrera Tcnica"}),s.jsx("button",{onClick:t,style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#999"},children:""})]}),d&&s.jsx("div",{style:{backgroundColor:"#ffebee",color:"#c62828",padding:"10px",borderRadius:"5px",marginBottom:"15px",fontSize:"14px"},children:d}),s.jsxs("form",{onSubmit:g,children:[s.jsxs("div",{style:N,children:[s.jsx("label",{style:A,children:"Nombre de la Carrera*"}),s.jsx("input",{required:!0,type:"text",name:"nombre",value:a.nombre,onChange:p,style:P,placeholder:"Ej. Tcnico en Programacin"})]}),s.jsxs("div",{style:N,children:[s.jsx("label",{style:A,children:"Descripcin"}),s.jsx("textarea",{name:"descripcion",value:a.descripcion,onChange:p,style:{...P,minHeight:"80px",fontFamily:"inherit"},placeholder:"Descripcin general de la carrera..."})]}),s.jsxs("div",{style:N,children:[s.jsx("label",{style:A,children:"Imagen de la Carrera*"}),a.existingImagenUrl&&s.jsxs("div",{style:{marginBottom:"10px"},children:[s.jsx("img",{src:a.existingImagenUrl,alt:"Preview",style:{height:"60px",borderRadius:"5px"}}),s.jsx("p",{style:{fontSize:"11px",margin:"2px 0 10px 0"},children:"Imagen actual (subir otra para cambiar)"})]}),s.jsx("input",{type:"file",accept:"image/*",onChange:R=>f(R,"imagenFile"),style:{...P,border:"none"},required:!a.existingImagenUrl}),s.jsx("p",{style:{fontSize:"12px",color:"#999",margin:"5px 0 0 0"},children:"Formatos: JPG, PNG, WEBP"})]}),s.jsxs("div",{style:N,children:[s.jsx("label",{style:A,children:"Programa de Competencias"}),s.jsx("textarea",{name:"programa_competencia",value:a.programa_competencia,onChange:p,style:{...P,minHeight:"100px",fontFamily:"inherit"},placeholder:"Descripcin del programa de competencias..."})]}),s.jsxs("div",{style:N,children:[s.jsx("label",{style:A,children:"Justificacin"}),s.jsx("textarea",{name:"justificacion",value:a.justificacion,onChange:p,style:{...P,minHeight:"100px",fontFamily:"inherit"},placeholder:"Justificacin de la carrera..."})]}),s.jsxs("div",{style:N,children:[s.jsx("label",{style:A,children:"Perfil de Egreso"}),s.jsx("textarea",{name:"perfil_egreso",value:a.perfil_egreso,onChange:p,style:{...P,minHeight:"100px",fontFamily:"inherit"},placeholder:"Perfil del egresado..."})]}),s.jsxs("div",{style:N,children:[s.jsx("label",{style:A,children:"rea de Especializacin"}),s.jsx("input",{type:"text",name:"area_especializacion",value:a.area_especializacion,onChange:p,style:P,placeholder:"Ej. Tecnologas de la Informacin"})]}),s.jsxs("div",{style:N,children:[s.jsx("label",{style:A,children:"Habilidades Socioemocionales"}),s.jsx("textarea",{name:"habilidades_socioemocionales",value:a.habilidades_socioemocionales,onChange:p,style:{...P,minHeight:"80px",fontFamily:"inherit"},placeholder:"Habilidades socioemocionales desarrolladas..."})]}),s.jsxs("div",{style:N,children:[s.jsx("label",{style:A,children:"Oportunidades Profesionales"}),s.jsx("textarea",{name:"oportunidades_profesionales",value:a.oportunidades_profesionales,onChange:p,style:{...P,minHeight:"80px",fontFamily:"inherit"},placeholder:"Campo laboral y oportunidades..."})]}),s.jsxs("div",{style:N,children:[s.jsx("label",{style:A,children:"Plan de Estudios (PDF)"}),a.existingPdfUrl&&s.jsxs("div",{style:{marginBottom:"10px"},children:[s.jsx("a",{href:a.existingPdfUrl,target:"_blank",rel:"noopener noreferrer",style:{color:"#3498db",fontSize:"12px"},children:" Ver PDF actual"}),s.jsx("p",{style:{fontSize:"11px",margin:"2px 0 10px 0"},children:"Subir otro para reemplazar"})]}),s.jsx("input",{type:"file",accept:"application/pdf",onChange:R=>f(R,"pdfFile"),style:{...P,border:"none"}}),s.jsx("p",{style:{fontSize:"12px",color:"#999",margin:"5px 0 0 0"},children:"Formato: PDF"})]}),s.jsxs("div",{style:N,children:[s.jsx("label",{style:A,children:"Pgina Inicial del PDF (opcional)"}),s.jsx("input",{type:"number",name:"pdf_start_page",min:"1",value:a.pdf_start_page,onChange:p,style:{...P,maxWidth:"150px"},placeholder:"1"}),s.jsx("p",{style:{fontSize:"12px",color:"#999",margin:"5px 0 0 0"},children:"Especifica qu pgina se mostrar primero en la vista pblica (ej: 2, 8, 12)"})]}),s.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px",marginTop:"20px"},children:[s.jsx("button",{type:"button",onClick:t,style:{...T,backgroundColor:"#eceff1",color:"#546e7a"},disabled:l,children:"Cancelar"}),s.jsx("button",{type:"submit",style:{...T,backgroundColor:"#28a745",color:"white"},disabled:l,children:l?"Guardando...":n?"Actualizar Carrera":"Crear Carrera"})]})]})]})})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var jp={};jp.version="0.18.5";var my=1252,UE=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],gy=function(e){UE.indexOf(e)!=-1&&(my=e)};function $E(){gy(1252)}var $0=function(e){gy(e)};function zE(){$0(1200),$E()}var Gf=function(t){return String.fromCharCode(t)},f2=function(t){return String.fromCharCode(t)},Ep,zu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function z0(e){for(var t="",r=0,n=0,a=0,i=0,l=0,c=0,d=0,h=0;h<e.length;)r=e.charCodeAt(h++),i=r>>2,n=e.charCodeAt(h++),l=(r&3)<<4|n>>4,a=e.charCodeAt(h++),c=(n&15)<<2|a>>6,d=a&63,isNaN(n)?c=d=64:isNaN(a)&&(d=64),t+=zu.charAt(i)+zu.charAt(l)+zu.charAt(c)+zu.charAt(d);return t}function cu(e){var t="",r=0,n=0,a=0,i=0,l=0,c=0,d=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var h=0;h<e.length;)i=zu.indexOf(e.charAt(h++)),l=zu.indexOf(e.charAt(h++)),r=i<<2|l>>4,t+=String.fromCharCode(r),c=zu.indexOf(e.charAt(h++)),n=(l&15)<<4|c>>2,c!==64&&(t+=String.fromCharCode(n)),d=zu.indexOf(e.charAt(h++)),a=(c&3)<<6|d,d!==64&&(t+=String.fromCharCode(a));return t}var vn=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),pu=function(){if(typeof Buffer<"u"){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch{e=!0}return e?function(t,r){return r?new Buffer(t,r):new Buffer(t)}:Buffer.from.bind(Buffer)}return function(){}}();function Rd(e){return vn?Buffer.alloc?Buffer.alloc(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}function p2(e){return vn?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):typeof Uint8Array<"u"?new Uint8Array(e):new Array(e)}var Jl=function(t){return vn?pu(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)&255})};function em(e){if(typeof ArrayBuffer>"u")return Jl(e);for(var t=new ArrayBuffer(e.length),r=new Uint8Array(t),n=0;n!=e.length;++n)r[n]=e.charCodeAt(n)&255;return t}function of(e){if(Array.isArray(e))return e.map(function(n){return String.fromCharCode(n)}).join("");for(var t=[],r=0;r<e.length;++r)t[r]=String.fromCharCode(e[r]);return t.join("")}function qE(e){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(e)}var es=vn?function(e){return Buffer.concat(e.map(function(t){return Buffer.isBuffer(t)?t:pu(t)}))}:function(e){if(typeof Uint8Array<"u"){var t=0,r=0;for(t=0;t<e.length;++t)r+=e[t].length;var n=new Uint8Array(r),a=0;for(t=0,r=0;t<e.length;r+=a,++t)if(a=e[t].length,e[t]instanceof Uint8Array)n.set(e[t],r);else{if(typeof e[t]=="string")throw"wtf";n.set(new Uint8Array(e[t]),r)}return n}return[].concat.apply([],e.map(function(i){return Array.isArray(i)?i:[].slice.call(i)}))};function HE(e){for(var t=[],r=0,n=e.length+250,a=Rd(e.length+255),i=0;i<e.length;++i){var l=e.charCodeAt(i);if(l<128)a[r++]=l;else if(l<2048)a[r++]=192|l>>6&31,a[r++]=128|l&63;else if(l>=55296&&l<57344){l=(l&1023)+64;var c=e.charCodeAt(++i)&1023;a[r++]=240|l>>8&7,a[r++]=128|l>>2&63,a[r++]=128|c>>6&15|(l&3)<<4,a[r++]=128|c&63}else a[r++]=224|l>>12&15,a[r++]=128|l>>6&63,a[r++]=128|l&63;r>n&&(t.push(a.slice(0,r)),r=0,a=Rd(65535),n=65530)}return t.push(a.slice(0,r)),es(t)}var S0=/\u0000/g,Kf=/[\u0001-\u0006]/g;function Ch(e){for(var t="",r=e.length-1;r>=0;)t+=e.charAt(r--);return t}function Zl(e,t){var r=""+e;return r.length>=t?r:Sa("0",t-r.length)+r}function Z1(e,t){var r=""+e;return r.length>=t?r:Sa(" ",t-r.length)+r}function kp(e,t){var r=""+e;return r.length>=t?r:r+Sa(" ",t-r.length)}function WE(e,t){var r=""+Math.round(e);return r.length>=t?r:Sa("0",t-r.length)+r}function VE(e,t){var r=""+e;return r.length>=t?r:Sa("0",t-r.length)+r}var m2=Math.pow(2,32);function hh(e,t){if(e>m2||e<-m2)return WE(e,t);var r=Math.round(e);return VE(r,t)}function Ap(e,t){return t=t||0,e.length>=7+t&&(e.charCodeAt(t)|32)===103&&(e.charCodeAt(t+1)|32)===101&&(e.charCodeAt(t+2)|32)===110&&(e.charCodeAt(t+3)|32)===101&&(e.charCodeAt(t+4)|32)===114&&(e.charCodeAt(t+5)|32)===97&&(e.charCodeAt(t+6)|32)===108}var g2=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],cg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function GE(e){return e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"/ "hh""mm""ss" "',e}var Na={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},x2={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},KE={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Cp(e,t,r){for(var n=e<0?-1:1,a=e*n,i=0,l=1,c=0,d=1,h=0,p=0,f=Math.floor(a);h<t&&(f=Math.floor(a),c=f*l+i,p=f*h+d,!(a-f<5e-8));)a=1/(a-f),i=l,l=c,d=h,h=p;if(p>t&&(h>t?(p=d,c=i):(p=h,c=l)),!r)return[0,n*c,p];var b=Math.floor(n*c/p);return[b,n*c-b*p,p]}function Yf(e,t,r){if(e>2958465||e<0)return null;var n=e|0,a=Math.floor(86400*(e-n)),i=0,l=[],c={D:n,T:a,u:86400*(e-n)-a,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(c.u)<1e-6&&(c.u=0),t&&t.date1904&&(n+=1462),c.u>.9999&&(c.u=0,++a==86400&&(c.T=a=0,++n,++c.D)),n===60)l=r?[1317,10,29]:[1900,2,29],i=3;else if(n===0)l=r?[1317,8,29]:[1900,1,0],i=6;else{n>60&&--n;var d=new Date(1900,0,1);d.setDate(d.getDate()+n-1),l=[d.getFullYear(),d.getMonth()+1,d.getDate()],i=d.getDay(),n<60&&(i=(i+6)%7),r&&(i=t6(d,l))}return c.y=l[0],c.m=l[1],c.d=l[2],c.S=a%60,a=Math.floor(a/60),c.M=a%60,a=Math.floor(a/60),c.H=a,c.q=i,c}var xy=new Date(1899,11,31,0,0,0),YE=xy.getTime(),XE=new Date(1900,2,1,0,0,0);function vy(e,t){var r=e.getTime();return t?r-=1461*24*60*60*1e3:e>=XE&&(r+=24*60*60*1e3),(r-(YE+(e.getTimezoneOffset()-xy.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function Q1(e){return e.indexOf(".")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function JE(e){return e.indexOf("E")==-1?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function ZE(e){var t=e<0?12:11,r=Q1(e.toFixed(12));return r.length<=t||(r=e.toPrecision(10),r.length<=t)?r:e.toExponential(5)}function QE(e){var t=Q1(e.toFixed(11));return t.length>(e<0?12:11)||t==="0"||t==="-0"?e.toPrecision(6):t}function e6(e){var t=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),r;return t>=-4&&t<=-1?r=e.toPrecision(10+t):Math.abs(t)<=9?r=ZE(e):t===10?r=e.toFixed(10).substr(0,12):r=QE(e),Q1(JE(r.toUpperCase()))}function g1(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(e|0)===e?e.toString(10):e6(e);case"undefined":return"";case"object":if(e==null)return"";if(e instanceof Date)return Xu(14,vy(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function t6(e,t){t[0]-=581;var r=e.getDay();return e<60&&(r=(r+6)%7),r}function r6(e,t,r,n){var a="",i=0,l=0,c=r.y,d,h=0;switch(e){case 98:c=r.y+543;case 121:switch(t.length){case 1:case 2:d=c%100,h=2;break;default:d=c%1e4,h=4;break}break;case 109:switch(t.length){case 1:case 2:d=r.m,h=t.length;break;case 3:return cg[r.m-1][1];case 5:return cg[r.m-1][0];default:return cg[r.m-1][2]}break;case 100:switch(t.length){case 1:case 2:d=r.d,h=t.length;break;case 3:return g2[r.q][0];default:return g2[r.q][1]}break;case 104:switch(t.length){case 1:case 2:d=1+(r.H+11)%12,h=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:d=r.H,h=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:d=r.M,h=t.length;break;default:throw"bad minute format: "+t}break;case 115:if(t!="s"&&t!="ss"&&t!=".0"&&t!=".00"&&t!=".000")throw"bad second format: "+t;return r.u===0&&(t=="s"||t=="ss")?Zl(r.S,t.length):(n>=2?l=n===3?1e3:100:l=n===1?10:1,i=Math.round(l*(r.S+r.u)),i>=60*l&&(i=0),t==="s"?i===0?"0":""+i/l:(a=Zl(i,2+n),t==="ss"?a.substr(0,2):"."+a.substr(2,t.length-1)));case 90:switch(t){case"[h]":case"[hh]":d=r.D*24+r.H;break;case"[m]":case"[mm]":d=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":d=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+t}h=t.length===3?1:2;break;case 101:d=c,h=1;break}var p=h>0?Zl(d,h):"";return p}function qu(e){var t=3;if(e.length<=t)return e;for(var r=e.length%t,n=e.substr(0,r);r!=e.length;r+=t)n+=(n.length>0?",":"")+e.substr(r,t);return n}var by=/%/g;function n6(e,t,r){var n=t.replace(by,""),a=t.length-n.length;return su(e,n,r*Math.pow(10,2*a))+Sa("%",a)}function a6(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return su(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function _y(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+_y(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),r.indexOf("e")===-1){var l=Math.floor(Math.log(t)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,a)+"."+r.substr(2+a),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,h,p){return d+h+p.substr(0,(a+i)%a)+"."+p.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var yy=/# (\?+)( ?)\/( ?)(\d+)/;function i6(e,t,r){var n=parseInt(e[4],10),a=Math.round(t*n),i=Math.floor(a/n),l=a-i*n,c=n;return r+(i===0?"":""+i)+" "+(l===0?Sa(" ",e[1].length+1+e[4].length):Z1(l,e[1].length)+e[2]+"/"+e[3]+Zl(c,e[4].length))}function s6(e,t,r){return r+(t===0?"":""+t)+Sa(" ",e[1].length+2+e[4].length)}var wy=/^#*0*\.([0#]+)/,Sy=/\).*[0#]/,Ny=/\(###\) ###\\?-####/;function Is(e){for(var t="",r,n=0;n!=e.length;++n)switch(r=e.charCodeAt(n)){case 35:break;case 63:t+=" ";break;case 48:t+="0";break;default:t+=String.fromCharCode(r)}return t}function v2(e,t){var r=Math.pow(10,t);return""+Math.round(e*r)/r}function b2(e,t){var r=e-Math.floor(e),n=Math.pow(10,t);return t<(""+Math.round(r*n)).length?0:Math.round(r*n)}function o6(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}function l6(e){return e<2147483647&&e>-2147483648?""+(e>=0?e|0:e-1|0):""+Math.floor(e)}function ml(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Sy)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ml("n",n,r):"("+ml("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return a6(e,t,r);if(t.indexOf("%")!==-1)return n6(e,t,r);if(t.indexOf("E")!==-1)return _y(t,r);if(t.charCodeAt(0)===36)return"$"+ml(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,l,c,d=Math.abs(r),h=r<0?"-":"";if(t.match(/^00+$/))return h+hh(d,t.length);if(t.match(/^[#?]+$/))return a=hh(r,0),a==="0"&&(a=""),a.length>t.length?a:Is(t.substr(0,t.length-a.length))+a;if(i=t.match(yy))return i6(i,d,h);if(t.match(/^#+0+$/))return h+hh(d,t.length-t.indexOf("0"));if(i=t.match(wy))return a=v2(r,i[1].length).replace(/^([^\.]+)$/,"$1."+Is(i[1])).replace(/\.$/,"."+Is(i[1])).replace(/\.(\d*)$/,function(S,y){return"."+y+Sa("0",Is(i[1]).length-y.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return h+v2(d,i[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return h+qu(hh(d,0));if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ml(e,t,-r):qu(""+(Math.floor(r)+o6(r,i[1].length)))+"."+Zl(b2(r,i[1].length),i[1].length);if(i=t.match(/^#,#*,#0/))return ml(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Ch(ml(e,t.replace(/[\\-]/g,""),r)),l=0,Ch(Ch(t.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<a.length?a.charAt(l++):S==="0"?"0":""}));if(t.match(Ny))return a=ml(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var p="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),c=Cp(d,Math.pow(10,l)-1,!1),a=""+h,p=su("n",i[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),a+=p+i[2]+"/"+i[3],p=kp(c[2],l),p.length<i[4].length&&(p=Is(i[4].substr(i[4].length-p.length))+p),a+=p,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),c=Cp(d,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Z1(c[1],l)+i[2]+"/"+i[3]+kp(c[2],l):Sa(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=hh(r,0),t.length<=a.length?a:Is(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0?]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var f=t.indexOf(".")-l,b=t.length-a.length-f;return Is(t.substr(0,f)+a+t.substr(t.length-b))}if(i=t.match(/^00,000\.([#0]*0)$/))return l=b2(r,i[1].length),r<0?"-"+ml(e,t,-r):qu(l6(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Zl(0,3-S.length):"")+S})+"."+Zl(l,i[1].length);switch(t){case"###,##0.00":return ml(e,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var g=qu(hh(d,0));return g!=="0"?h+g:"";case"###,###.00":return ml(e,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ml(e,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function c6(e,t,r){for(var n=t.length-1;t.charCodeAt(n-1)===44;)--n;return su(e,t.substr(0,n),r/Math.pow(10,3*(t.length-n)))}function u6(e,t,r){var n=t.replace(by,""),a=t.length-n.length;return su(e,n,r*Math.pow(10,2*a))+Sa("%",a)}function jy(e,t){var r,n=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(t==0)return"0.0E+0";if(t<0)return"-"+jy(e,-t);var a=e.indexOf(".");a===-1&&(a=e.indexOf("E"));var i=Math.floor(Math.log(t)*Math.LOG10E)%a;if(i<0&&(i+=a),r=(t/Math.pow(10,i)).toPrecision(n+1+(a+i)%a),!r.match(/[Ee]/)){var l=Math.floor(Math.log(t)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(l-r.length+i):r+="E+"+(l-i),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(c,d,h,p){return d+h+p.substr(0,(a+i)%a)+"."+p.substr(i)+"E"})}else r=t.toExponential(n);return e.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),e.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ac(e,t,r){if(e.charCodeAt(0)===40&&!t.match(Sy)){var n=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ac("n",n,r):"("+Ac("n",n,-r)+")"}if(t.charCodeAt(t.length-1)===44)return c6(e,t,r);if(t.indexOf("%")!==-1)return u6(e,t,r);if(t.indexOf("E")!==-1)return jy(t,r);if(t.charCodeAt(0)===36)return"$"+Ac(e,t.substr(t.charAt(1)==" "?2:1),r);var a,i,l,c,d=Math.abs(r),h=r<0?"-":"";if(t.match(/^00+$/))return h+Zl(d,t.length);if(t.match(/^[#?]+$/))return a=""+r,r===0&&(a=""),a.length>t.length?a:Is(t.substr(0,t.length-a.length))+a;if(i=t.match(yy))return s6(i,d,h);if(t.match(/^#+0+$/))return h+Zl(d,t.length-t.indexOf("0"));if(i=t.match(wy))return a=(""+r).replace(/^([^\.]+)$/,"$1."+Is(i[1])).replace(/\.$/,"."+Is(i[1])),a=a.replace(/\.(\d*)$/,function(S,y){return"."+y+Sa("0",Is(i[1]).length-y.length)}),t.indexOf("0.")!==-1?a:a.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),i=t.match(/^(0*)\.(#*)$/))return h+(""+d).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,i[1].length?"0.":".");if(i=t.match(/^#{1,3},##0(\.?)$/))return h+qu(""+d);if(i=t.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ac(e,t,-r):qu(""+r)+"."+Sa("0",i[1].length);if(i=t.match(/^#,#*,#0/))return Ac(e,t.replace(/^#,#*,/,""),r);if(i=t.match(/^([0#]+)(\\?-([0#]+))+$/))return a=Ch(Ac(e,t.replace(/[\\-]/g,""),r)),l=0,Ch(Ch(t.replace(/\\/g,"")).replace(/[0#]/g,function(S){return l<a.length?a.charAt(l++):S==="0"?"0":""}));if(t.match(Ny))return a=Ac(e,"##########",r),"("+a.substr(0,3)+") "+a.substr(3,3)+"-"+a.substr(6);var p="";if(i=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(i[4].length,7),c=Cp(d,Math.pow(10,l)-1,!1),a=""+h,p=su("n",i[1],c[1]),p.charAt(p.length-1)==" "&&(p=p.substr(0,p.length-1)+"0"),a+=p+i[2]+"/"+i[3],p=kp(c[2],l),p.length<i[4].length&&(p=Is(i[4].substr(i[4].length-p.length))+p),a+=p,a;if(i=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return l=Math.min(Math.max(i[1].length,i[4].length),7),c=Cp(d,Math.pow(10,l)-1,!0),h+(c[0]||(c[1]?"":"0"))+" "+(c[1]?Z1(c[1],l)+i[2]+"/"+i[3]+kp(c[2],l):Sa(" ",2*l+1+i[2].length+i[3].length));if(i=t.match(/^[#0?]+$/))return a=""+r,t.length<=a.length?a:Is(t.substr(0,t.length-a.length))+a;if(i=t.match(/^([#0]+)\.([#0]+)$/)){a=""+r.toFixed(Math.min(i[2].length,10)).replace(/([^0])0+$/,"$1"),l=a.indexOf(".");var f=t.indexOf(".")-l,b=t.length-a.length-f;return Is(t.substr(0,f)+a+t.substr(t.length-b))}if(i=t.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ac(e,t,-r):qu(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(S){return"00,"+(S.length<3?Zl(0,3-S.length):"")+S})+"."+Zl(0,i[1].length);switch(t){case"###,###":case"##,###":case"#,###":var g=qu(""+d);return g!=="0"?h+g:"";default:if(t.match(/\.[0#?]*$/))return Ac(e,t.slice(0,t.lastIndexOf(".")),r)+Is(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function su(e,t,r){return(r|0)===r?Ac(e,t,r):ml(e,t,r)}function d6(e){for(var t=[],r=!1,n=0,a=0;n<e.length;++n)switch(e.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:t[t.length]=e.substr(a,n-a),a=n+1}if(t[t.length]=e.substr(a),r===!0)throw new Error("Format |"+e+"| unterminated string ");return t}var Ey=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function ky(e){for(var t=0,r="",n="";t<e.length;)switch(r=e.charAt(t)){case"G":Ap(e,t)&&(t+=6),t++;break;case'"':for(;e.charCodeAt(++t)!==34&&t<e.length;);++t;break;case"\\":t+=2;break;case"_":t+=2;break;case"@":++t;break;case"B":case"b":if(e.charAt(t+1)==="1"||e.charAt(t+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(e.substr(t,3).toUpperCase()==="A/P"||e.substr(t,5).toUpperCase()==="AM/PM"||e.substr(t,5).toUpperCase()==="/")return!0;++t;break;case"[":for(n=r;e.charAt(t++)!=="]"&&t<e.length;)n+=e.charAt(t);if(n.match(Ey))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(r=e.charAt(++t))>-1||r=="\\"&&e.charAt(t+1)=="-"&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===r;);break;case"*":++t,(e.charAt(t)==" "||e.charAt(t)=="*")&&++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;case" ":++t;break;default:++t;break}return!1}function h6(e,t,r,n){for(var a=[],i="",l=0,c="",d="t",h,p,f,b="H";l<e.length;)switch(c=e.charAt(l)){case"G":if(!Ap(e,l))throw new Error("unrecognized character "+c+" in "+e);a[a.length]={t:"G",v:"General"},l+=7;break;case'"':for(i="";(f=e.charCodeAt(++l))!==34&&l<e.length;)i+=String.fromCharCode(f);a[a.length]={t:"t",v:i},++l;break;case"\\":var g=e.charAt(++l),S=g==="("||g===")"?g:"t";a[a.length]={t:S,v:g},++l;break;case"_":a[a.length]={t:"t",v:" "},l+=2;break;case"@":a[a.length]={t:"T",v:t},++l;break;case"B":case"b":if(e.charAt(l+1)==="1"||e.charAt(l+1)==="2"){if(h==null&&(h=Yf(t,r,e.charAt(l+1)==="2"),h==null))return"";a[a.length]={t:"X",v:e.substr(l,2)},d=c,l+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":c=c.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0||h==null&&(h=Yf(t,r),h==null))return"";for(i=c;++l<e.length&&e.charAt(l).toLowerCase()===c;)i+=c;c==="m"&&d.toLowerCase()==="h"&&(c="M"),c==="h"&&(c=b),a[a.length]={t:c,v:i},d=c;break;case"A":case"a":case"":var y={t:c,v:c};if(h==null&&(h=Yf(t,r)),e.substr(l,3).toUpperCase()==="A/P"?(h!=null&&(y.v=h.H>=12?"P":"A"),y.t="T",b="h",l+=3):e.substr(l,5).toUpperCase()==="AM/PM"?(h!=null&&(y.v=h.H>=12?"PM":"AM"),y.t="T",l+=5,b="h"):e.substr(l,5).toUpperCase()==="/"?(h!=null&&(y.v=h.H>=12?"":""),y.t="T",l+=5,b="h"):(y.t="t",++l),h==null&&y.t==="T")return"";a[a.length]=y,d=c;break;case"[":for(i=c;e.charAt(l++)!=="]"&&l<e.length;)i+=e.charAt(l);if(i.slice(-1)!=="]")throw'unterminated "[" block: |'+i+"|";if(i.match(Ey)){if(h==null&&(h=Yf(t,r),h==null))return"";a[a.length]={t:"Z",v:i.toLowerCase()},d=i.charAt(1)}else i.indexOf("$")>-1&&(i=(i.match(/\$([^-\[\]]*)/)||[])[1]||"$",ky(e)||(a[a.length]={t:"t",v:i}));break;case".":if(h!=null){for(i=c;++l<e.length&&(c=e.charAt(l))==="0";)i+=c;a[a.length]={t:"s",v:i};break}case"0":case"#":for(i=c;++l<e.length&&"0#?.,E+-%".indexOf(c=e.charAt(l))>-1;)i+=c;a[a.length]={t:"n",v:i};break;case"?":for(i=c;e.charAt(++l)===c;)i+=c;a[a.length]={t:c,v:i},d=c;break;case"*":++l,(e.charAt(l)==" "||e.charAt(l)=="*")&&++l;break;case"(":case")":a[a.length]={t:n===1?"t":c,v:c},++l;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(i=c;l<e.length&&"0123456789".indexOf(e.charAt(++l))>-1;)i+=e.charAt(l);a[a.length]={t:"D",v:i};break;case" ":a[a.length]={t:c,v:c},++l;break;case"$":a[a.length]={t:"t",v:"$"},++l;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(c)===-1)throw new Error("unrecognized character "+c+" in "+e);a[a.length]={t:"t",v:c},++l;break}var N=0,A=0,P;for(l=a.length-1,d="t";l>=0;--l)switch(a[l].t){case"h":case"H":a[l].t=b,d="h",N<1&&(N=1);break;case"s":(P=a[l].v.match(/\.0+$/))&&(A=Math.max(A,P[0].length-1)),N<3&&(N=3);case"d":case"y":case"M":case"e":d=a[l].t;break;case"m":d==="s"&&(a[l].t="M",N<2&&(N=2));break;case"X":break;case"Z":N<1&&a[l].v.match(/[Hh]/)&&(N=1),N<2&&a[l].v.match(/[Mm]/)&&(N=2),N<3&&a[l].v.match(/[Ss]/)&&(N=3)}switch(N){case 0:break;case 1:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M),h.M>=60&&(h.M=0,++h.H);break;case 2:h.u>=.5&&(h.u=0,++h.S),h.S>=60&&(h.S=0,++h.M);break}var T="",R;for(l=0;l<a.length;++l)switch(a[l].t){case"t":case"T":case" ":case"D":break;case"X":a[l].v="",a[l].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":a[l].v=r6(a[l].t.charCodeAt(0),a[l].v,h,A),a[l].t="t";break;case"n":case"?":for(R=l+1;a[R]!=null&&((c=a[R].t)==="?"||c==="D"||(c===" "||c==="t")&&a[R+1]!=null&&(a[R+1].t==="?"||a[R+1].t==="t"&&a[R+1].v==="/")||a[l].t==="("&&(c===" "||c==="n"||c===")")||c==="t"&&(a[R].v==="/"||a[R].v===" "&&a[R+1]!=null&&a[R+1].t=="?"));)a[l].v+=a[R].v,a[R]={v:"",t:";"},++R;T+=a[l].v,l=R-1;break;case"G":a[l].t="t",a[l].v=g1(t,r);break}var q="",te,G;if(T.length>0){T.charCodeAt(0)==40?(te=t<0&&T.charCodeAt(0)===45?-t:t,G=su("n",T,te)):(te=t<0&&n>1?-t:t,G=su("n",T,te),te<0&&a[0]&&a[0].t=="t"&&(G=G.substr(1),a[0].v="-"+a[0].v)),R=G.length-1;var H=a.length;for(l=0;l<a.length;++l)if(a[l]!=null&&a[l].t!="t"&&a[l].v.indexOf(".")>-1){H=l;break}var M=a.length;if(H===a.length&&G.indexOf("E")===-1){for(l=a.length-1;l>=0;--l)a[l]==null||"n?".indexOf(a[l].t)===-1||(R>=a[l].v.length-1?(R-=a[l].v.length,a[l].v=G.substr(R+1,a[l].v.length)):R<0?a[l].v="":(a[l].v=G.substr(0,R+1),R=-1),a[l].t="t",M=l);R>=0&&M<a.length&&(a[M].v=G.substr(0,R+1)+a[M].v)}else if(H!==a.length&&G.indexOf("E")===-1){for(R=G.indexOf(".")-1,l=H;l>=0;--l)if(!(a[l]==null||"n?".indexOf(a[l].t)===-1)){for(p=a[l].v.indexOf(".")>-1&&l===H?a[l].v.indexOf(".")-1:a[l].v.length-1,q=a[l].v.substr(p+1);p>=0;--p)R>=0&&(a[l].v.charAt(p)==="0"||a[l].v.charAt(p)==="#")&&(q=G.charAt(R--)+q);a[l].v=q,a[l].t="t",M=l}for(R>=0&&M<a.length&&(a[M].v=G.substr(0,R+1)+a[M].v),R=G.indexOf(".")+1,l=H;l<a.length;++l)if(!(a[l]==null||"n?(".indexOf(a[l].t)===-1&&l!==H)){for(p=a[l].v.indexOf(".")>-1&&l===H?a[l].v.indexOf(".")+1:0,q=a[l].v.substr(0,p);p<a[l].v.length;++p)R<G.length&&(q+=G.charAt(R++));a[l].v=q,a[l].t="t",M=l}}}for(l=0;l<a.length;++l)a[l]!=null&&"n?".indexOf(a[l].t)>-1&&(te=n>1&&t<0&&l>0&&a[l-1].v==="-"?-t:t,a[l].v=su(a[l].t,a[l].v,te),a[l].t="t");var re="";for(l=0;l!==a.length;++l)a[l]!=null&&(re+=a[l].v);return re}var _2=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function y2(e,t){if(t==null)return!1;var r=parseFloat(t[2]);switch(t[1]){case"=":if(e==r)return!0;break;case">":if(e>r)return!0;break;case"<":if(e<r)return!0;break;case"<>":if(e!=r)return!0;break;case">=":if(e>=r)return!0;break;case"<=":if(e<=r)return!0;break}return!1}function f6(e,t){var r=d6(e),n=r.length,a=r[n-1].indexOf("@");if(n<4&&a>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof t!="number")return[4,r.length===4||a>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=a>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=a>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=a>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var i=t>0?r[0]:t<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,i];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var l=r[0].match(_2),c=r[1].match(_2);return y2(t,l)?[n,r[0]]:y2(t,c)?[n,r[1]]:[n,r[l!=null&&c!=null?2:1]]}return[n,i]}function Xu(e,t,r){r==null&&(r={});var n="";switch(typeof e){case"string":e=="m/d/yy"&&r.dateNF?n=r.dateNF:n=e;break;case"number":e==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Na)[e],n==null&&(n=r.table&&r.table[x2[e]]||Na[x2[e]]),n==null&&(n=KE[e]||"General");break}if(Ap(n,0))return g1(t,r);t instanceof Date&&(t=vy(t,r.date1904));var a=f6(n,t);if(Ap(a[1]))return g1(t,r);if(t===!0)t="TRUE";else if(t===!1)t="FALSE";else if(t===""||t==null)return"";return h6(a[1],t,r,a[0])}function Ay(e,t){if(typeof t!="number"){t=+t||-1;for(var r=0;r<392;++r){if(Na[r]==null){t<0&&(t=r);continue}if(Na[r]==e){t=r;break}}t<0&&(t=391)}return Na[t]=e,t}function tm(e){for(var t=0;t!=392;++t)e[t]!==void 0&&Ay(e[t],t)}function rm(){Na=GE()}var Cy=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function p6(e){var t=typeof e=="number"?Na[e]:e;return t=t.replace(Cy,"(\\d+)"),new RegExp("^"+t+"$")}function m6(e,t,r){var n=-1,a=-1,i=-1,l=-1,c=-1,d=-1;(t.match(Cy)||[]).forEach(function(f,b){var g=parseInt(r[b+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=g;break;case"d":i=g;break;case"h":l=g;break;case"s":d=g;break;case"m":l>=0?c=g:a=g;break}}),d>=0&&c==-1&&a>=0&&(c=a,a=-1);var h=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(a>=1?a:1)).slice(-2)+"-"+("00"+(i>=1?i:1)).slice(-2);h.length==7&&(h="0"+h),h.length==8&&(h="20"+h);var p=("00"+(l>=0?l:0)).slice(-2)+":"+("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2);return l==-1&&c==-1&&d==-1?h:n==-1&&a==-1&&i==-1?p:h+"T"+p}var g6=function(){var e={};e.version="1.2.0";function t(){for(var G=0,H=new Array(256),M=0;M!=256;++M)G=M,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,G=G&1?-306674912^G>>>1:G>>>1,H[M]=G;return typeof Int32Array<"u"?new Int32Array(H):H}var r=t();function n(G){var H=0,M=0,re=0,I=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(re=0;re!=256;++re)I[re]=G[re];for(re=0;re!=256;++re)for(M=G[re],H=256+re;H<4096;H+=256)M=I[H]=M>>>8^G[M&255];var W=[];for(re=1;re!=16;++re)W[re-1]=typeof Int32Array<"u"?I.subarray(re*256,re*256+256):I.slice(re*256,re*256+256);return W}var a=n(r),i=a[0],l=a[1],c=a[2],d=a[3],h=a[4],p=a[5],f=a[6],b=a[7],g=a[8],S=a[9],y=a[10],N=a[11],A=a[12],P=a[13],T=a[14];function R(G,H){for(var M=H^-1,re=0,I=G.length;re<I;)M=M>>>8^r[(M^G.charCodeAt(re++))&255];return~M}function q(G,H){for(var M=H^-1,re=G.length-15,I=0;I<re;)M=T[G[I++]^M&255]^P[G[I++]^M>>8&255]^A[G[I++]^M>>16&255]^N[G[I++]^M>>>24]^y[G[I++]]^S[G[I++]]^g[G[I++]]^b[G[I++]]^f[G[I++]]^p[G[I++]]^h[G[I++]]^d[G[I++]]^c[G[I++]]^l[G[I++]]^i[G[I++]]^r[G[I++]];for(re+=15;I<re;)M=M>>>8^r[(M^G[I++])&255];return~M}function te(G,H){for(var M=H^-1,re=0,I=G.length,W=0,ae=0;re<I;)W=G.charCodeAt(re++),W<128?M=M>>>8^r[(M^W)&255]:W<2048?(M=M>>>8^r[(M^(192|W>>6&31))&255],M=M>>>8^r[(M^(128|W&63))&255]):W>=55296&&W<57344?(W=(W&1023)+64,ae=G.charCodeAt(re++)&1023,M=M>>>8^r[(M^(240|W>>8&7))&255],M=M>>>8^r[(M^(128|W>>2&63))&255],M=M>>>8^r[(M^(128|ae>>6&15|(W&3)<<4))&255],M=M>>>8^r[(M^(128|ae&63))&255]):(M=M>>>8^r[(M^(224|W>>12&15))&255],M=M>>>8^r[(M^(128|W>>6&63))&255],M=M>>>8^r[(M^(128|W&63))&255]);return~M}return e.table=r,e.bstr=R,e.buf=q,e.str=te,e}(),Dn=function(){var t={};t.version="1.2.1";function r(Y,ue){for(var se=Y.split("/"),ce=ue.split("/"),me=0,xe=0,Ue=Math.min(se.length,ce.length);me<Ue;++me){if(xe=se[me].length-ce[me].length)return xe;if(se[me]!=ce[me])return se[me]<ce[me]?-1:1}return se.length-ce.length}function n(Y){if(Y.charAt(Y.length-1)=="/")return Y.slice(0,-1).indexOf("/")===-1?Y:n(Y.slice(0,-1));var ue=Y.lastIndexOf("/");return ue===-1?Y:Y.slice(0,ue+1)}function a(Y){if(Y.charAt(Y.length-1)=="/")return a(Y.slice(0,-1));var ue=Y.lastIndexOf("/");return ue===-1?Y:Y.slice(ue+1)}function i(Y,ue){typeof ue=="string"&&(ue=new Date(ue));var se=ue.getHours();se=se<<6|ue.getMinutes(),se=se<<5|ue.getSeconds()>>>1,Y.write_shift(2,se);var ce=ue.getFullYear()-1980;ce=ce<<4|ue.getMonth()+1,ce=ce<<5|ue.getDate(),Y.write_shift(2,ce)}function l(Y){var ue=Y.read_shift(2)&65535,se=Y.read_shift(2)&65535,ce=new Date,me=se&31;se>>>=5;var xe=se&15;se>>>=4,ce.setMilliseconds(0),ce.setFullYear(se+1980),ce.setMonth(xe-1),ce.setDate(me);var Ue=ue&31;ue>>>=5;var Ve=ue&63;return ue>>>=6,ce.setHours(ue),ce.setMinutes(Ve),ce.setSeconds(Ue<<1),ce}function c(Y){Bo(Y,0);for(var ue={},se=0;Y.l<=Y.length-4;){var ce=Y.read_shift(2),me=Y.read_shift(2),xe=Y.l+me,Ue={};switch(ce){case 21589:se=Y.read_shift(1),se&1&&(Ue.mtime=Y.read_shift(4)),me>5&&(se&2&&(Ue.atime=Y.read_shift(4)),se&4&&(Ue.ctime=Y.read_shift(4))),Ue.mtime&&(Ue.mt=new Date(Ue.mtime*1e3));break}Y.l=xe,ue[ce]=Ue}return ue}var d;function h(){return d||(d={})}function p(Y,ue){if(Y[0]==80&&Y[1]==75)return er(Y,ue);if((Y[0]|32)==109&&(Y[1]|32)==105)return Gt(Y,ue);if(Y.length<512)throw new Error("CFB file size "+Y.length+" < 512");var se=3,ce=512,me=0,xe=0,Ue=0,Ve=0,Be=0,$e=[],qe=Y.slice(0,512);Bo(qe,0);var ct=f(qe);switch(se=ct[0],se){case 3:ce=512;break;case 4:ce=4096;break;case 0:if(ct[1]==0)return er(Y,ue);default:throw new Error("Major Version: Expected 3 or 4 saw "+se)}ce!==512&&(qe=Y.slice(0,ce),Bo(qe,28));var bt=Y.slice(0,ce);b(qe,se);var Nt=qe.read_shift(4,"i");if(se===3&&Nt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Nt);qe.l+=4,Ue=qe.read_shift(4,"i"),qe.l+=4,qe.chk("00100000","Mini Stream Cutoff Size: "),Ve=qe.read_shift(4,"i"),me=qe.read_shift(4,"i"),Be=qe.read_shift(4,"i"),xe=qe.read_shift(4,"i");for(var gt=-1,pt=0;pt<109&&(gt=qe.read_shift(4,"i"),!(gt<0));++pt)$e[pt]=gt;var ar=g(Y,ce);N(Be,xe,ar,ce,$e);var Pr=P(ar,Ue,$e,ce);Pr[Ue].name="!Directory",me>0&&Ve!==ae&&(Pr[Ve].name="!MiniFAT"),Pr[$e[0]].name="!FAT",Pr.fat_addrs=$e,Pr.ssz=ce;var wr={},dn=[],bs=[],ii=[];T(Ue,Pr,ar,dn,me,wr,bs,Ve),S(bs,ii,dn),dn.shift();var Oi={FileIndex:bs,FullPaths:ii};return ue&&ue.raw&&(Oi.raw={header:bt,sectors:ar}),Oi}function f(Y){if(Y[Y.l]==80&&Y[Y.l+1]==75)return[0,0];Y.chk(ge,"Header Signature: "),Y.l+=16;var ue=Y.read_shift(2,"u");return[Y.read_shift(2,"u"),ue]}function b(Y,ue){var se=9;switch(Y.l+=2,se=Y.read_shift(2)){case 9:if(ue!=3)throw new Error("Sector Shift: Expected 9 saw "+se);break;case 12:if(ue!=4)throw new Error("Sector Shift: Expected 12 saw "+se);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+se)}Y.chk("0600","Mini Sector Shift: "),Y.chk("000000000000","Reserved: ")}function g(Y,ue){for(var se=Math.ceil(Y.length/ue)-1,ce=[],me=1;me<se;++me)ce[me-1]=Y.slice(me*ue,(me+1)*ue);return ce[se-1]=Y.slice(se*ue),ce}function S(Y,ue,se){for(var ce=0,me=0,xe=0,Ue=0,Ve=0,Be=se.length,$e=[],qe=[];ce<Be;++ce)$e[ce]=qe[ce]=ce,ue[ce]=se[ce];for(;Ve<qe.length;++Ve)ce=qe[Ve],me=Y[ce].L,xe=Y[ce].R,Ue=Y[ce].C,$e[ce]===ce&&(me!==-1&&$e[me]!==me&&($e[ce]=$e[me]),xe!==-1&&$e[xe]!==xe&&($e[ce]=$e[xe])),Ue!==-1&&($e[Ue]=ce),me!==-1&&ce!=$e[ce]&&($e[me]=$e[ce],qe.lastIndexOf(me)<Ve&&qe.push(me)),xe!==-1&&ce!=$e[ce]&&($e[xe]=$e[ce],qe.lastIndexOf(xe)<Ve&&qe.push(xe));for(ce=1;ce<Be;++ce)$e[ce]===ce&&(xe!==-1&&$e[xe]!==xe?$e[ce]=$e[xe]:me!==-1&&$e[me]!==me&&($e[ce]=$e[me]));for(ce=1;ce<Be;++ce)if(Y[ce].type!==0){if(Ve=ce,Ve!=$e[Ve])do Ve=$e[Ve],ue[ce]=ue[Ve]+"/"+ue[ce];while(Ve!==0&&$e[Ve]!==-1&&Ve!=$e[Ve]);$e[ce]=-1}for(ue[0]+="/",ce=1;ce<Be;++ce)Y[ce].type!==2&&(ue[ce]+="/")}function y(Y,ue,se){for(var ce=Y.start,me=Y.size,xe=[],Ue=ce;se&&me>0&&Ue>=0;)xe.push(ue.slice(Ue*W,Ue*W+W)),me-=W,Ue=Sd(se,Ue*4);return xe.length===0?tt(0):es(xe).slice(0,Y.size)}function N(Y,ue,se,ce,me){var xe=ae;if(Y===ae){if(ue!==0)throw new Error("DIFAT chain shorter than expected")}else if(Y!==-1){var Ue=se[Y],Ve=(ce>>>2)-1;if(!Ue)return;for(var Be=0;Be<Ve&&(xe=Sd(Ue,Be*4))!==ae;++Be)me.push(xe);N(Sd(Ue,ce-4),ue-1,se,ce,me)}}function A(Y,ue,se,ce,me){var xe=[],Ue=[];me||(me=[]);var Ve=ce-1,Be=0,$e=0;for(Be=ue;Be>=0;){me[Be]=!0,xe[xe.length]=Be,Ue.push(Y[Be]);var qe=se[Math.floor(Be*4/ce)];if($e=Be*4&Ve,ce<4+$e)throw new Error("FAT boundary crossed: "+Be+" 4 "+ce);if(!Y[qe])break;Be=Sd(Y[qe],$e)}return{nodes:xe,data:C2([Ue])}}function P(Y,ue,se,ce){var me=Y.length,xe=[],Ue=[],Ve=[],Be=[],$e=ce-1,qe=0,ct=0,bt=0,Nt=0;for(qe=0;qe<me;++qe)if(Ve=[],bt=qe+ue,bt>=me&&(bt-=me),!Ue[bt]){Be=[];var gt=[];for(ct=bt;ct>=0;){gt[ct]=!0,Ue[ct]=!0,Ve[Ve.length]=ct,Be.push(Y[ct]);var pt=se[Math.floor(ct*4/ce)];if(Nt=ct*4&$e,ce<4+Nt)throw new Error("FAT boundary crossed: "+ct+" 4 "+ce);if(!Y[pt]||(ct=Sd(Y[pt],Nt),gt[ct]))break}xe[bt]={nodes:Ve,data:C2([Be])}}return xe}function T(Y,ue,se,ce,me,xe,Ue,Ve){for(var Be=0,$e=ce.length?2:0,qe=ue[Y].data,ct=0,bt=0,Nt;ct<qe.length;ct+=128){var gt=qe.slice(ct,ct+128);Bo(gt,64),bt=gt.read_shift(2),Nt=ax(gt,0,bt-$e),ce.push(Nt);var pt={name:Nt,type:gt.read_shift(1),color:gt.read_shift(1),L:gt.read_shift(4,"i"),R:gt.read_shift(4,"i"),C:gt.read_shift(4,"i"),clsid:gt.read_shift(16),state:gt.read_shift(4,"i"),start:0,size:0},ar=gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2);ar!==0&&(pt.ct=R(gt,gt.l-8));var Pr=gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2)+gt.read_shift(2);Pr!==0&&(pt.mt=R(gt,gt.l-8)),pt.start=gt.read_shift(4,"i"),pt.size=gt.read_shift(4,"i"),pt.size<0&&pt.start<0&&(pt.size=pt.type=0,pt.start=ae,pt.name=""),pt.type===5?(Be=pt.start,me>0&&Be!==ae&&(ue[Be].name="!StreamData")):pt.size>=4096?(pt.storage="fat",ue[pt.start]===void 0&&(ue[pt.start]=A(se,pt.start,ue.fat_addrs,ue.ssz)),ue[pt.start].name=pt.name,pt.content=ue[pt.start].data.slice(0,pt.size)):(pt.storage="minifat",pt.size<0?pt.size=0:Be!==ae&&pt.start!==ae&&ue[Be]&&(pt.content=y(pt,ue[Be].data,(ue[Ve]||{}).data))),pt.content&&Bo(pt.content,0),xe[Nt]=pt,Ue.push(pt)}}function R(Y,ue){return new Date((Uo(Y,ue+4)/1e7*Math.pow(2,32)+Uo(Y,ue)/1e7-11644473600)*1e3)}function q(Y,ue){return h(),p(d.readFileSync(Y),ue)}function te(Y,ue){var se=ue&&ue.type;switch(se||vn&&Buffer.isBuffer(Y)&&(se="buffer"),se||"base64"){case"file":return q(Y,ue);case"base64":return p(Jl(cu(Y)),ue);case"binary":return p(Jl(Y),ue)}return p(Y,ue)}function G(Y,ue){var se=ue||{},ce=se.root||"Root Entry";if(Y.FullPaths||(Y.FullPaths=[]),Y.FileIndex||(Y.FileIndex=[]),Y.FullPaths.length!==Y.FileIndex.length)throw new Error("inconsistent CFB structure");Y.FullPaths.length===0&&(Y.FullPaths[0]=ce+"/",Y.FileIndex[0]={name:ce,type:5}),se.CLSID&&(Y.FileIndex[0].clsid=se.CLSID),H(Y)}function H(Y){var ue="Sh33tJ5";if(!Dn.find(Y,"/"+ue)){var se=tt(4);se[0]=55,se[1]=se[3]=50,se[2]=54,Y.FileIndex.push({name:ue,type:2,content:se,size:4,L:69,R:69,C:69}),Y.FullPaths.push(Y.FullPaths[0]+ue),M(Y)}}function M(Y,ue){G(Y);for(var se=!1,ce=!1,me=Y.FullPaths.length-1;me>=0;--me){var xe=Y.FileIndex[me];switch(xe.type){case 0:ce?se=!0:(Y.FileIndex.pop(),Y.FullPaths.pop());break;case 1:case 2:case 5:ce=!0,isNaN(xe.R*xe.L*xe.C)&&(se=!0),xe.R>-1&&xe.L>-1&&xe.R==xe.L&&(se=!0);break;default:se=!0;break}}if(!(!se&&!ue)){var Ue=new Date(1987,1,19),Ve=0,Be=Object.create?Object.create(null):{},$e=[];for(me=0;me<Y.FullPaths.length;++me)Be[Y.FullPaths[me]]=!0,Y.FileIndex[me].type!==0&&$e.push([Y.FullPaths[me],Y.FileIndex[me]]);for(me=0;me<$e.length;++me){var qe=n($e[me][0]);ce=Be[qe],ce||($e.push([qe,{name:a(qe).replace("/",""),type:1,clsid:Le,ct:Ue,mt:Ue,content:null}]),Be[qe]=!0)}for($e.sort(function(Nt,gt){return r(Nt[0],gt[0])}),Y.FullPaths=[],Y.FileIndex=[],me=0;me<$e.length;++me)Y.FullPaths[me]=$e[me][0],Y.FileIndex[me]=$e[me][1];for(me=0;me<$e.length;++me){var ct=Y.FileIndex[me],bt=Y.FullPaths[me];if(ct.name=a(bt).replace("/",""),ct.L=ct.R=ct.C=-(ct.color=1),ct.size=ct.content?ct.content.length:0,ct.start=0,ct.clsid=ct.clsid||Le,me===0)ct.C=$e.length>1?1:-1,ct.size=0,ct.type=5;else if(bt.slice(-1)=="/"){for(Ve=me+1;Ve<$e.length&&n(Y.FullPaths[Ve])!=bt;++Ve);for(ct.C=Ve>=$e.length?-1:Ve,Ve=me+1;Ve<$e.length&&n(Y.FullPaths[Ve])!=n(bt);++Ve);ct.R=Ve>=$e.length?-1:Ve,ct.type=1}else n(Y.FullPaths[me+1]||"")==n(bt)&&(ct.R=me+1),ct.type=2}}}function re(Y,ue){var se=ue||{};if(se.fileType=="mad")return $a(Y,se);switch(M(Y),se.fileType){case"zip":return hr(Y,se)}var ce=function(Nt){for(var gt=0,pt=0,ar=0;ar<Nt.FileIndex.length;++ar){var Pr=Nt.FileIndex[ar];if(Pr.content){var wr=Pr.content.length;wr>0&&(wr<4096?gt+=wr+63>>6:pt+=wr+511>>9)}}for(var dn=Nt.FullPaths.length+3>>2,bs=gt+7>>3,ii=gt+127>>7,Oi=bs+pt+dn+ii,an=Oi+127>>7,_s=an<=109?0:Math.ceil((an-109)/127);Oi+an+_s+127>>7>an;)_s=++an<=109?0:Math.ceil((an-109)/127);var Ar=[1,_s,an,ii,dn,pt,gt,0];return Nt.FileIndex[0].size=gt<<6,Ar[7]=(Nt.FileIndex[0].start=Ar[0]+Ar[1]+Ar[2]+Ar[3]+Ar[4]+Ar[5])+(Ar[6]+7>>3),Ar}(Y),me=tt(ce[7]<<9),xe=0,Ue=0;{for(xe=0;xe<8;++xe)me.write_shift(1,_e[xe]);for(xe=0;xe<8;++xe)me.write_shift(2,0);for(me.write_shift(2,62),me.write_shift(2,3),me.write_shift(2,65534),me.write_shift(2,9),me.write_shift(2,6),xe=0;xe<3;++xe)me.write_shift(2,0);for(me.write_shift(4,0),me.write_shift(4,ce[2]),me.write_shift(4,ce[0]+ce[1]+ce[2]+ce[3]-1),me.write_shift(4,0),me.write_shift(4,4096),me.write_shift(4,ce[3]?ce[0]+ce[1]+ce[2]-1:ae),me.write_shift(4,ce[3]),me.write_shift(-4,ce[1]?ce[0]-1:ae),me.write_shift(4,ce[1]),xe=0;xe<109;++xe)me.write_shift(-4,xe<ce[2]?ce[1]+xe:-1)}if(ce[1])for(Ue=0;Ue<ce[1];++Ue){for(;xe<236+Ue*127;++xe)me.write_shift(-4,xe<ce[2]?ce[1]+xe:-1);me.write_shift(-4,Ue===ce[1]-1?ae:Ue+1)}var Ve=function(Nt){for(Ue+=Nt;xe<Ue-1;++xe)me.write_shift(-4,xe+1);Nt&&(++xe,me.write_shift(-4,ae))};for(Ue=xe=0,Ue+=ce[1];xe<Ue;++xe)me.write_shift(-4,Te.DIFSECT);for(Ue+=ce[2];xe<Ue;++xe)me.write_shift(-4,Te.FATSECT);Ve(ce[3]),Ve(ce[4]);for(var Be=0,$e=0,qe=Y.FileIndex[0];Be<Y.FileIndex.length;++Be)qe=Y.FileIndex[Be],qe.content&&($e=qe.content.length,!($e<4096)&&(qe.start=Ue,Ve($e+511>>9)));for(Ve(ce[6]+7>>3);me.l&511;)me.write_shift(-4,Te.ENDOFCHAIN);for(Ue=xe=0,Be=0;Be<Y.FileIndex.length;++Be)qe=Y.FileIndex[Be],qe.content&&($e=qe.content.length,!(!$e||$e>=4096)&&(qe.start=Ue,Ve($e+63>>6)));for(;me.l&511;)me.write_shift(-4,Te.ENDOFCHAIN);for(xe=0;xe<ce[4]<<2;++xe){var ct=Y.FullPaths[xe];if(!ct||ct.length===0){for(Be=0;Be<17;++Be)me.write_shift(4,0);for(Be=0;Be<3;++Be)me.write_shift(4,-1);for(Be=0;Be<12;++Be)me.write_shift(4,0);continue}qe=Y.FileIndex[xe],xe===0&&(qe.start=qe.size?qe.start-1:ae);var bt=xe===0&&se.root||qe.name;if($e=2*(bt.length+1),me.write_shift(64,bt,"utf16le"),me.write_shift(2,$e),me.write_shift(1,qe.type),me.write_shift(1,qe.color),me.write_shift(-4,qe.L),me.write_shift(-4,qe.R),me.write_shift(-4,qe.C),qe.clsid)me.write_shift(16,qe.clsid,"hex");else for(Be=0;Be<4;++Be)me.write_shift(4,0);me.write_shift(4,qe.state||0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,0),me.write_shift(4,qe.start),me.write_shift(4,qe.size),me.write_shift(4,0)}for(xe=1;xe<Y.FileIndex.length;++xe)if(qe=Y.FileIndex[xe],qe.size>=4096)if(me.l=qe.start+1<<9,vn&&Buffer.isBuffer(qe.content))qe.content.copy(me,me.l,0,qe.size),me.l+=qe.size+511&-512;else{for(Be=0;Be<qe.size;++Be)me.write_shift(1,qe.content[Be]);for(;Be&511;++Be)me.write_shift(1,0)}for(xe=1;xe<Y.FileIndex.length;++xe)if(qe=Y.FileIndex[xe],qe.size>0&&qe.size<4096)if(vn&&Buffer.isBuffer(qe.content))qe.content.copy(me,me.l,0,qe.size),me.l+=qe.size+63&-64;else{for(Be=0;Be<qe.size;++Be)me.write_shift(1,qe.content[Be]);for(;Be&63;++Be)me.write_shift(1,0)}if(vn)me.l=me.length;else for(;me.l<me.length;)me.write_shift(1,0);return me}function I(Y,ue){var se=Y.FullPaths.map(function(Be){return Be.toUpperCase()}),ce=se.map(function(Be){var $e=Be.split("/");return $e[$e.length-(Be.slice(-1)=="/"?2:1)]}),me=!1;ue.charCodeAt(0)===47?(me=!0,ue=se[0].slice(0,-1)+ue):me=ue.indexOf("/")!==-1;var xe=ue.toUpperCase(),Ue=me===!0?se.indexOf(xe):ce.indexOf(xe);if(Ue!==-1)return Y.FileIndex[Ue];var Ve=!xe.match(Kf);for(xe=xe.replace(S0,""),Ve&&(xe=xe.replace(Kf,"!")),Ue=0;Ue<se.length;++Ue)if((Ve?se[Ue].replace(Kf,"!"):se[Ue]).replace(S0,"")==xe||(Ve?ce[Ue].replace(Kf,"!"):ce[Ue]).replace(S0,"")==xe)return Y.FileIndex[Ue];return null}var W=64,ae=-2,ge="d0cf11e0a1b11ae1",_e=[208,207,17,224,161,177,26,225],Le="00000000000000000000000000000000",Te={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:ae,FREESECT:-1,HEADER_SIGNATURE:ge,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Le,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function Q(Y,ue,se){h();var ce=re(Y,se);d.writeFileSync(ue,ce)}function ye(Y){for(var ue=new Array(Y.length),se=0;se<Y.length;++se)ue[se]=String.fromCharCode(Y[se]);return ue.join("")}function je(Y,ue){var se=re(Y,ue);switch(ue&&ue.type||"buffer"){case"file":return h(),d.writeFileSync(ue.filename,se),se;case"binary":return typeof se=="string"?se:ye(se);case"base64":return z0(typeof se=="string"?se:ye(se));case"buffer":if(vn)return Buffer.isBuffer(se)?se:pu(se);case"array":return typeof se=="string"?Jl(se):se}return se}var oe;function j(Y){try{var ue=Y.InflateRaw,se=new ue;if(se._processChunk(new Uint8Array([3,0]),se._finishFlushFlag),se.bytesRead)oe=Y;else throw new Error("zlib does not expose bytesRead")}catch(ce){console.error("cannot use native zlib: "+(ce.message||ce))}}function B(Y,ue){if(!oe)return Or(Y,ue);var se=oe.InflateRaw,ce=new se,me=ce._processChunk(Y.slice(Y.l),ce._finishFlushFlag);return Y.l+=ce.bytesRead,me}function O(Y){return oe?oe.deflateRawSync(Y):Qt(Y)}var D=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Z=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],pe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function be(Y){var ue=(Y<<1|Y<<11)&139536|(Y<<5|Y<<15)&558144;return(ue>>16|ue>>8|ue)&255}for(var Se=typeof Uint8Array<"u",Ee=Se?new Uint8Array(256):[],Ye=0;Ye<256;++Ye)Ee[Ye]=be(Ye);function at(Y,ue){var se=Ee[Y&255];return ue<=8?se>>>8-ue:(se=se<<8|Ee[Y>>8&255],ue<=16?se>>>16-ue:(se=se<<8|Ee[Y>>16&255],se>>>24-ue))}function st(Y,ue){var se=ue&7,ce=ue>>>3;return(Y[ce]|(se<=6?0:Y[ce+1]<<8))>>>se&3}function ft(Y,ue){var se=ue&7,ce=ue>>>3;return(Y[ce]|(se<=5?0:Y[ce+1]<<8))>>>se&7}function le(Y,ue){var se=ue&7,ce=ue>>>3;return(Y[ce]|(se<=4?0:Y[ce+1]<<8))>>>se&15}function dt(Y,ue){var se=ue&7,ce=ue>>>3;return(Y[ce]|(se<=3?0:Y[ce+1]<<8))>>>se&31}function Pe(Y,ue){var se=ue&7,ce=ue>>>3;return(Y[ce]|(se<=1?0:Y[ce+1]<<8))>>>se&127}function rt(Y,ue,se){var ce=ue&7,me=ue>>>3,xe=(1<<se)-1,Ue=Y[me]>>>ce;return se<8-ce||(Ue|=Y[me+1]<<8-ce,se<16-ce)||(Ue|=Y[me+2]<<16-ce,se<24-ce)||(Ue|=Y[me+3]<<24-ce),Ue&xe}function Je(Y,ue,se){var ce=ue&7,me=ue>>>3;return ce<=5?Y[me]|=(se&7)<<ce:(Y[me]|=se<<ce&255,Y[me+1]=(se&7)>>8-ce),ue+3}function kt(Y,ue,se){var ce=ue&7,me=ue>>>3;return se=(se&1)<<ce,Y[me]|=se,ue+1}function Ze(Y,ue,se){var ce=ue&7,me=ue>>>3;return se<<=ce,Y[me]|=se&255,se>>>=8,Y[me+1]=se,ue+8}function Et(Y,ue,se){var ce=ue&7,me=ue>>>3;return se<<=ce,Y[me]|=se&255,se>>>=8,Y[me+1]=se&255,Y[me+2]=se>>>8,ue+16}function Pt(Y,ue){var se=Y.length,ce=2*se>ue?2*se:ue+5,me=0;if(se>=ue)return Y;if(vn){var xe=p2(ce);if(Y.copy)Y.copy(xe);else for(;me<Y.length;++me)xe[me]=Y[me];return xe}else if(Se){var Ue=new Uint8Array(ce);if(Ue.set)Ue.set(Y);else for(;me<se;++me)Ue[me]=Y[me];return Ue}return Y.length=ce,Y}function fr(Y){for(var ue=new Array(Y),se=0;se<Y;++se)ue[se]=0;return ue}function Zt(Y,ue,se){var ce=1,me=0,xe=0,Ue=0,Ve=0,Be=Y.length,$e=Se?new Uint16Array(32):fr(32);for(xe=0;xe<32;++xe)$e[xe]=0;for(xe=Be;xe<se;++xe)Y[xe]=0;Be=Y.length;var qe=Se?new Uint16Array(Be):fr(Be);for(xe=0;xe<Be;++xe)$e[me=Y[xe]]++,ce<me&&(ce=me),qe[xe]=0;for($e[0]=0,xe=1;xe<=ce;++xe)$e[xe+16]=Ve=Ve+$e[xe-1]<<1;for(xe=0;xe<Be;++xe)Ve=Y[xe],Ve!=0&&(qe[xe]=$e[Ve+16]++);var ct=0;for(xe=0;xe<Be;++xe)if(ct=Y[xe],ct!=0)for(Ve=at(qe[xe],ce)>>ce-ct,Ue=(1<<ce+4-ct)-1;Ue>=0;--Ue)ue[Ve|Ue<<ct]=ct&15|xe<<4;return ce}var Xt=Se?new Uint16Array(512):fr(512),gr=Se?new Uint16Array(32):fr(32);if(!Se){for(var nr=0;nr<512;++nr)Xt[nr]=0;for(nr=0;nr<32;++nr)gr[nr]=0}(function(){for(var Y=[],ue=0;ue<32;ue++)Y.push(5);Zt(Y,gr,32);var se=[];for(ue=0;ue<=143;ue++)se.push(8);for(;ue<=255;ue++)se.push(9);for(;ue<=279;ue++)se.push(7);for(;ue<=287;ue++)se.push(8);Zt(se,Xt,288)})();var Ft=function(){for(var ue=Se?new Uint8Array(32768):[],se=0,ce=0;se<pe.length-1;++se)for(;ce<pe[se+1];++ce)ue[ce]=se;for(;ce<32768;++ce)ue[ce]=29;var me=Se?new Uint8Array(259):[];for(se=0,ce=0;se<Z.length-1;++se)for(;ce<Z[se+1];++ce)me[ce]=se;function xe(Ve,Be){for(var $e=0;$e<Ve.length;){var qe=Math.min(65535,Ve.length-$e),ct=$e+qe==Ve.length;for(Be.write_shift(1,+ct),Be.write_shift(2,qe),Be.write_shift(2,~qe&65535);qe-- >0;)Be[Be.l++]=Ve[$e++]}return Be.l}function Ue(Ve,Be){for(var $e=0,qe=0,ct=Se?new Uint16Array(32768):[];qe<Ve.length;){var bt=Math.min(65535,Ve.length-qe);if(bt<10){for($e=Je(Be,$e,+(qe+bt==Ve.length)),$e&7&&($e+=8-($e&7)),Be.l=$e/8|0,Be.write_shift(2,bt),Be.write_shift(2,~bt&65535);bt-- >0;)Be[Be.l++]=Ve[qe++];$e=Be.l*8;continue}$e=Je(Be,$e,+(qe+bt==Ve.length)+2);for(var Nt=0;bt-- >0;){var gt=Ve[qe];Nt=(Nt<<5^gt)&32767;var pt=-1,ar=0;if((pt=ct[Nt])&&(pt|=qe&-32768,pt>qe&&(pt-=32768),pt<qe))for(;Ve[pt+ar]==Ve[qe+ar]&&ar<250;)++ar;if(ar>2){gt=me[ar],gt<=22?$e=Ze(Be,$e,Ee[gt+1]>>1)-1:(Ze(Be,$e,3),$e+=5,Ze(Be,$e,Ee[gt-23]>>5),$e+=3);var Pr=gt<8?0:gt-4>>2;Pr>0&&(Et(Be,$e,ar-Z[gt]),$e+=Pr),gt=ue[qe-pt],$e=Ze(Be,$e,Ee[gt]>>3),$e-=3;var wr=gt<4?0:gt-2>>1;wr>0&&(Et(Be,$e,qe-pt-pe[gt]),$e+=wr);for(var dn=0;dn<ar;++dn)ct[Nt]=qe&32767,Nt=(Nt<<5^Ve[qe])&32767,++qe;bt-=ar-1}else gt<=143?gt=gt+48:$e=kt(Be,$e,1),$e=Ze(Be,$e,Ee[gt]),ct[Nt]=qe&32767,++qe}$e=Ze(Be,$e,0)-1}return Be.l=($e+7)/8|0,Be.l}return function(Be,$e){return Be.length<8?xe(Be,$e):Ue(Be,$e)}}();function Qt(Y){var ue=tt(50+Math.floor(Y.length*1.1)),se=Ft(Y,ue);return ue.slice(0,se)}var Ct=Se?new Uint16Array(32768):fr(32768),rn=Se?new Uint16Array(32768):fr(32768),Er=Se?new Uint16Array(128):fr(128),pr=1,xr=1;function nn(Y,ue){var se=dt(Y,ue)+257;ue+=5;var ce=dt(Y,ue)+1;ue+=5;var me=le(Y,ue)+4;ue+=4;for(var xe=0,Ue=Se?new Uint8Array(19):fr(19),Ve=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Be=1,$e=Se?new Uint8Array(8):fr(8),qe=Se?new Uint8Array(8):fr(8),ct=Ue.length,bt=0;bt<me;++bt)Ue[D[bt]]=xe=ft(Y,ue),Be<xe&&(Be=xe),$e[xe]++,ue+=3;var Nt=0;for($e[0]=0,bt=1;bt<=Be;++bt)qe[bt]=Nt=Nt+$e[bt-1]<<1;for(bt=0;bt<ct;++bt)(Nt=Ue[bt])!=0&&(Ve[bt]=qe[Nt]++);var gt=0;for(bt=0;bt<ct;++bt)if(gt=Ue[bt],gt!=0){Nt=Ee[Ve[bt]]>>8-gt;for(var pt=(1<<7-gt)-1;pt>=0;--pt)Er[Nt|pt<<gt]=gt&7|bt<<3}var ar=[];for(Be=1;ar.length<se+ce;)switch(Nt=Er[Pe(Y,ue)],ue+=Nt&7,Nt>>>=3){case 16:for(xe=3+st(Y,ue),ue+=2,Nt=ar[ar.length-1];xe-- >0;)ar.push(Nt);break;case 17:for(xe=3+ft(Y,ue),ue+=3;xe-- >0;)ar.push(0);break;case 18:for(xe=11+Pe(Y,ue),ue+=7;xe-- >0;)ar.push(0);break;default:ar.push(Nt),Be<Nt&&(Be=Nt);break}var Pr=ar.slice(0,se),wr=ar.slice(se);for(bt=se;bt<286;++bt)Pr[bt]=0;for(bt=ce;bt<30;++bt)wr[bt]=0;return pr=Zt(Pr,Ct,286),xr=Zt(wr,rn,30),ue}function Lt(Y,ue){if(Y[0]==3&&!(Y[1]&3))return[Rd(ue),2];for(var se=0,ce=0,me=p2(ue||1<<18),xe=0,Ue=me.length>>>0,Ve=0,Be=0;!(ce&1);){if(ce=ft(Y,se),se+=3,ce>>>1)ce>>1==1?(Ve=9,Be=5):(se=nn(Y,se),Ve=pr,Be=xr);else{se&7&&(se+=8-(se&7));var $e=Y[se>>>3]|Y[(se>>>3)+1]<<8;if(se+=32,$e>0)for(!ue&&Ue<xe+$e&&(me=Pt(me,xe+$e),Ue=me.length);$e-- >0;)me[xe++]=Y[se>>>3],se+=8;continue}for(;;){!ue&&Ue<xe+32767&&(me=Pt(me,xe+32767),Ue=me.length);var qe=rt(Y,se,Ve),ct=ce>>>1==1?Xt[qe]:Ct[qe];if(se+=ct&15,ct>>>=4,!(ct>>>8&255))me[xe++]=ct;else{if(ct==256)break;ct-=257;var bt=ct<8?0:ct-4>>2;bt>5&&(bt=0);var Nt=xe+Z[ct];bt>0&&(Nt+=rt(Y,se,bt),se+=bt),qe=rt(Y,se,Be),ct=ce>>>1==1?gr[qe]:rn[qe],se+=ct&15,ct>>>=4;var gt=ct<4?0:ct-2>>1,pt=pe[ct];for(gt>0&&(pt+=rt(Y,se,gt),se+=gt),!ue&&Ue<Nt&&(me=Pt(me,Nt+100),Ue=me.length);xe<Nt;)me[xe]=me[xe-pt],++xe}}}return ue?[me,se+7>>>3]:[me.slice(0,xe),se+7>>>3]}function Or(Y,ue){var se=Y.slice(Y.l||0),ce=Lt(se,ue);return Y.l+=ce[1],ce[0]}function Wt(Y,ue){if(Y)typeof console<"u"&&console.error(ue);else throw new Error(ue)}function er(Y,ue){var se=Y;Bo(se,0);var ce=[],me=[],xe={FileIndex:ce,FullPaths:me};G(xe,{root:ue.root});for(var Ue=se.length-4;(se[Ue]!=80||se[Ue+1]!=75||se[Ue+2]!=5||se[Ue+3]!=6)&&Ue>=0;)--Ue;se.l=Ue+4,se.l+=4;var Ve=se.read_shift(2);se.l+=6;var Be=se.read_shift(4);for(se.l=Be,Ue=0;Ue<Ve;++Ue){se.l+=20;var $e=se.read_shift(4),qe=se.read_shift(4),ct=se.read_shift(2),bt=se.read_shift(2),Nt=se.read_shift(2);se.l+=8;var gt=se.read_shift(4),pt=c(se.slice(se.l+ct,se.l+ct+bt));se.l+=ct+bt+Nt;var ar=se.l;se.l=gt+4,Hr(se,$e,qe,xe,pt),se.l=ar}return xe}function Hr(Y,ue,se,ce,me){Y.l+=2;var xe=Y.read_shift(2),Ue=Y.read_shift(2),Ve=l(Y);if(xe&8257)throw new Error("Unsupported ZIP encryption");for(var Be=Y.read_shift(4),$e=Y.read_shift(4),qe=Y.read_shift(4),ct=Y.read_shift(2),bt=Y.read_shift(2),Nt="",gt=0;gt<ct;++gt)Nt+=String.fromCharCode(Y[Y.l++]);if(bt){var pt=c(Y.slice(Y.l,Y.l+bt));(pt[21589]||{}).mt&&(Ve=pt[21589].mt),((me||{})[21589]||{}).mt&&(Ve=me[21589].mt)}Y.l+=bt;var ar=Y.slice(Y.l,Y.l+$e);switch(Ue){case 8:ar=B(Y,qe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+Ue)}var Pr=!1;xe&8&&(Be=Y.read_shift(4),Be==134695760&&(Be=Y.read_shift(4),Pr=!0),$e=Y.read_shift(4),qe=Y.read_shift(4)),$e!=ue&&Wt(Pr,"Bad compressed size: "+ue+" != "+$e),qe!=se&&Wt(Pr,"Bad uncompressed size: "+se+" != "+qe),na(ce,Nt,ar,{unsafe:!0,mt:Ve})}function hr(Y,ue){var se=ue||{},ce=[],me=[],xe=tt(1),Ue=se.compression?8:0,Ve=0,Be=0,$e=0,qe=0,ct=0,bt=Y.FullPaths[0],Nt=bt,gt=Y.FileIndex[0],pt=[],ar=0;for(Be=1;Be<Y.FullPaths.length;++Be)if(Nt=Y.FullPaths[Be].slice(bt.length),gt=Y.FileIndex[Be],!(!gt.size||!gt.content||Nt=="Sh33tJ5")){var Pr=qe,wr=tt(Nt.length);for($e=0;$e<Nt.length;++$e)wr.write_shift(1,Nt.charCodeAt($e)&127);wr=wr.slice(0,wr.l),pt[ct]=g6.buf(gt.content,0);var dn=gt.content;Ue==8&&(dn=O(dn)),xe=tt(30),xe.write_shift(4,67324752),xe.write_shift(2,20),xe.write_shift(2,Ve),xe.write_shift(2,Ue),gt.mt?i(xe,gt.mt):xe.write_shift(4,0),xe.write_shift(-4,pt[ct]),xe.write_shift(4,dn.length),xe.write_shift(4,gt.content.length),xe.write_shift(2,wr.length),xe.write_shift(2,0),qe+=xe.length,ce.push(xe),qe+=wr.length,ce.push(wr),qe+=dn.length,ce.push(dn),xe=tt(46),xe.write_shift(4,33639248),xe.write_shift(2,0),xe.write_shift(2,20),xe.write_shift(2,Ve),xe.write_shift(2,Ue),xe.write_shift(4,0),xe.write_shift(-4,pt[ct]),xe.write_shift(4,dn.length),xe.write_shift(4,gt.content.length),xe.write_shift(2,wr.length),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(4,0),xe.write_shift(4,Pr),ar+=xe.l,me.push(xe),ar+=wr.length,me.push(wr),++ct}return xe=tt(22),xe.write_shift(4,101010256),xe.write_shift(2,0),xe.write_shift(2,0),xe.write_shift(2,ct),xe.write_shift(2,ct),xe.write_shift(4,ar),xe.write_shift(4,qe),xe.write_shift(2,0),es([es(ce),es(me),xe])}var $t={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Rr(Y,ue){if(Y.ctype)return Y.ctype;var se=Y.name||"",ce=se.match(/\.([^\.]+)$/);return ce&&$t[ce[1]]||ue&&(ce=(se=ue).match(/[\.\\]([^\.\\])+$/),ce&&$t[ce[1]])?$t[ce[1]]:"application/octet-stream"}function as(Y){for(var ue=z0(Y),se=[],ce=0;ce<ue.length;ce+=76)se.push(ue.slice(ce,ce+76));return se.join(`\r
`)+`\r
`}function ra(Y){var ue=Y.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function($e){var qe=$e.charCodeAt(0).toString(16).toUpperCase();return"="+(qe.length==1?"0"+qe:qe)});ue=ue.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ue.charAt(0)==`
`&&(ue="=0D"+ue.slice(1)),ue=ue.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var se=[],ce=ue.split(`\r
`),me=0;me<ce.length;++me){var xe=ce[me];if(xe.length==0){se.push("");continue}for(var Ue=0;Ue<xe.length;){var Ve=76,Be=xe.slice(Ue,Ue+Ve);Be.charAt(Ve-1)=="="?Ve--:Be.charAt(Ve-2)=="="?Ve-=2:Be.charAt(Ve-3)=="="&&(Ve-=3),Be=xe.slice(Ue,Ue+Ve),Ue+=Ve,Ue<xe.length&&(Be+="="),se.push(Be)}}return se.join(`\r
`)}function Fi(Y){for(var ue=[],se=0;se<Y.length;++se){for(var ce=Y[se];se<=Y.length&&ce.charAt(ce.length-1)=="=";)ce=ce.slice(0,ce.length-1)+Y[++se];ue.push(ce)}for(var me=0;me<ue.length;++me)ue[me]=ue[me].replace(/[=][0-9A-Fa-f]{2}/g,function(xe){return String.fromCharCode(parseInt(xe.slice(1),16))});return Jl(ue.join(`\r
`))}function ai(Y,ue,se){for(var ce="",me="",xe="",Ue,Ve=0;Ve<10;++Ve){var Be=ue[Ve];if(!Be||Be.match(/^\s*$/))break;var $e=Be.match(/^(.*?):\s*([^\s].*)$/);if($e)switch($e[1].toLowerCase()){case"content-location":ce=$e[2].trim();break;case"content-type":xe=$e[2].trim();break;case"content-transfer-encoding":me=$e[2].trim();break}}switch(++Ve,me.toLowerCase()){case"base64":Ue=Jl(cu(ue.slice(Ve).join("")));break;case"quoted-printable":Ue=Fi(ue.slice(Ve));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+me)}var qe=na(Y,ce.slice(se.length),Ue,{unsafe:!0});xe&&(qe.ctype=xe)}function Gt(Y,ue){if(ye(Y.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var se=ue&&ue.root||"",ce=(vn&&Buffer.isBuffer(Y)?Y.toString("binary"):ye(Y)).split(`\r
`),me=0,xe="";for(me=0;me<ce.length;++me)if(xe=ce[me],!!/^Content-Location:/i.test(xe)&&(xe=xe.slice(xe.indexOf("file")),se||(se=xe.slice(0,xe.lastIndexOf("/")+1)),xe.slice(0,se.length)!=se))for(;se.length>0&&(se=se.slice(0,se.length-1),se=se.slice(0,se.lastIndexOf("/")+1),xe.slice(0,se.length)!=se););var Ue=(ce[1]||"").match(/boundary="(.*?)"/);if(!Ue)throw new Error("MAD cannot find boundary");var Ve="--"+(Ue[1]||""),Be=[],$e=[],qe={FileIndex:Be,FullPaths:$e};G(qe);var ct,bt=0;for(me=0;me<ce.length;++me){var Nt=ce[me];Nt!==Ve&&Nt!==Ve+"--"||(bt++&&ai(qe,ce.slice(ct,me),se),ct=me)}return qe}function $a(Y,ue){var se=ue||{},ce=se.boundary||"SheetJS";ce="------="+ce;for(var me=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ce.slice(2)+'"',"","",""],xe=Y.FullPaths[0],Ue=xe,Ve=Y.FileIndex[0],Be=1;Be<Y.FullPaths.length;++Be)if(Ue=Y.FullPaths[Be].slice(xe.length),Ve=Y.FileIndex[Be],!(!Ve.size||!Ve.content||Ue=="Sh33tJ5")){Ue=Ue.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(ar){return"_x"+ar.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(ar){return"_u"+ar.charCodeAt(0).toString(16)+"_"});for(var $e=Ve.content,qe=vn&&Buffer.isBuffer($e)?$e.toString("binary"):ye($e),ct=0,bt=Math.min(1024,qe.length),Nt=0,gt=0;gt<=bt;++gt)(Nt=qe.charCodeAt(gt))>=32&&Nt<128&&++ct;var pt=ct>=bt*4/5;me.push(ce),me.push("Content-Location: "+(se.root||"file:///C:/SheetJS/")+Ue),me.push("Content-Transfer-Encoding: "+(pt?"quoted-printable":"base64")),me.push("Content-Type: "+Rr(Ve,Ue)),me.push(""),me.push(pt?ra(qe):as(qe))}return me.push(ce+`--\r
`),me.join(`\r
`)}function za(Y){var ue={};return G(ue,Y),ue}function na(Y,ue,se,ce){var me=ce&&ce.unsafe;me||G(Y);var xe=!me&&Dn.find(Y,ue);if(!xe){var Ue=Y.FullPaths[0];ue.slice(0,Ue.length)==Ue?Ue=ue:(Ue.slice(-1)!="/"&&(Ue+="/"),Ue=(Ue+ue).replace("//","/")),xe={name:a(ue),type:2},Y.FileIndex.push(xe),Y.FullPaths.push(Ue),me||Dn.utils.cfb_gc(Y)}return xe.content=se,xe.size=se?se.length:0,ce&&(ce.CLSID&&(xe.clsid=ce.CLSID),ce.mt&&(xe.mt=ce.mt),ce.ct&&(xe.ct=ce.ct)),xe}function Ir(Y,ue){G(Y);var se=Dn.find(Y,ue);if(se){for(var ce=0;ce<Y.FileIndex.length;++ce)if(Y.FileIndex[ce]==se)return Y.FileIndex.splice(ce,1),Y.FullPaths.splice(ce,1),!0}return!1}function kr(Y,ue,se){G(Y);var ce=Dn.find(Y,ue);if(ce){for(var me=0;me<Y.FileIndex.length;++me)if(Y.FileIndex[me]==ce)return Y.FileIndex[me].name=a(se),Y.FullPaths[me]=se,!0}return!1}function Rn(Y){M(Y,!0)}return t.find=I,t.read=te,t.parse=p,t.write=je,t.writeFile=Q,t.utils={cfb_new:za,cfb_add:na,cfb_del:Ir,cfb_mov:kr,cfb_gc:Rn,ReadShift:j0,CheckField:Gy,prep_blob:Bo,bconcat:es,use_zlib:j,_deflateRaw:Qt,_inflateRaw:Or,consts:Te},t}();function x6(e){return typeof e=="string"?em(e):Array.isArray(e)?qE(e):e}function lf(e,t,r){if(typeof Deno<"u"){if(r&&typeof t=="string")switch(r){case"utf8":t=new TextEncoder(r).encode(t);break;case"binary":t=em(t);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(e,t)}var n=r=="utf8"?H0(t):t;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,e);if(typeof Blob<"u"){var a=new Blob([x6(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(a,e);if(typeof saveAs<"u")return saveAs(a,e);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var i=URL.createObjectURL(a);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),chrome.downloads.download({url:i,filename:e,saveAs:!0});var l=document.createElement("a");if(l.download!=null)return l.download=e,l.href=i,document.body.appendChild(l),l.click(),document.body.removeChild(l),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(i)},6e4),i}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var c=File(e);return c.open("w"),c.encoding="binary",Array.isArray(t)&&(t=of(t)),c.write(t),c.close(),t}catch(d){if(!d.message||!d.message.match(/onstruct/))throw d}throw new Error("cannot save file "+e)}function ns(e){for(var t=Object.keys(e),r=[],n=0;n<t.length;++n)Object.prototype.hasOwnProperty.call(e,t[n])&&r.push(t[n]);return r}function w2(e,t){for(var r=[],n=ns(e),a=0;a!==n.length;++a)r[e[n[a]][t]]==null&&(r[e[n[a]][t]]=n[a]);return r}function ex(e){for(var t=[],r=ns(e),n=0;n!==r.length;++n)t[e[r[n]]]=r[n];return t}function nm(e){for(var t=[],r=ns(e),n=0;n!==r.length;++n)t[e[r[n]]]=parseInt(r[n],10);return t}function v6(e){for(var t=[],r=ns(e),n=0;n!==r.length;++n)t[e[r[n]]]==null&&(t[e[r[n]]]=[]),t[e[r[n]]].push(r[n]);return t}var Tp=new Date(1899,11,30,0,0,0);function co(e,t){var r=e.getTime(),n=Tp.getTime()+(e.getTimezoneOffset()-Tp.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var Ty=new Date,b6=Tp.getTime()+(Ty.getTimezoneOffset()-Tp.getTimezoneOffset())*6e4,S2=Ty.getTimezoneOffset();function Py(e){var t=new Date;return t.setTime(e*24*60*60*1e3+b6),t.getTimezoneOffset()!==S2&&t.setTime(t.getTime()+(t.getTimezoneOffset()-S2)*6e4),t}var N2=new Date("2017-02-19T19:06:09.000Z"),Ly=isNaN(N2.getFullYear())?new Date("2/19/17"):N2,_6=Ly.getFullYear()==2017;function Ms(e,t){var r=new Date(e);if(_6)return t>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):t<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(e instanceof Date)return e;if(Ly.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return e.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var a=e.match(/\d+/g)||["2017","2","19","0","0","0"],i=new Date(+a[0],+a[1]-1,+a[2],+a[3]||0,+a[4]||0,+a[5]||0);return e.indexOf("Z")>-1&&(i=new Date(i.getTime()-i.getTimezoneOffset()*60*1e3)),i}function am(e,t){if(vn&&Buffer.isBuffer(e))return e.toString("binary");if(typeof TextDecoder<"u")try{var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[]/g,function(i){return r[i]||i})}catch{}for(var n=[],a=0;a!=e.length;++a)n.push(String.fromCharCode(e[a]));return n.join("")}function uo(e){if(typeof JSON<"u"&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if(typeof e!="object"||e==null)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=uo(e[r]));return t}function Sa(e,t){for(var r="";r.length<t;)r+=e;return r}function ou(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var r=1,n=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(t=Number(n))||(n=n.replace(/[(](.*)[)]/,function(a,i){return r=-r,i}),!isNaN(t=Number(n)))?t/r:t}var y6=["january","february","march","april","may","june","july","august","september","october","november","december"];function q0(e){var t=new Date(e),r=new Date(NaN),n=t.getYear(),a=t.getMonth(),i=t.getDate();if(isNaN(i))return r;var l=e.toLowerCase();if(l.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(l=l.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),l.length>3&&y6.indexOf(l)==-1)return r}else if(l.match(/[a-z]/))return r;return n<0||n>8099?r:(a>0||i>1)&&n!=101?t:e.match(/[^-0-9:,\/\\]/)?r:t}function Fr(e,t,r){if(e.FullPaths){if(typeof r=="string"){var n;return vn?n=pu(r):n=HE(r),Dn.utils.cfb_add(e,t,n)}Dn.utils.cfb_add(e,t,r)}else e.file(t,r)}function tx(){return Dn.utils.cfb_new()}var ni=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,w6={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},rx=ex(w6),nx=/[&<>'"]/g,S6=/[\u0000-\u0008\u000b-\u001f]/g;function Pn(e){var t=e+"";return t.replace(nx,function(r){return rx[r]}).replace(S6,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function j2(e){return Pn(e).replace(/ /g,"_x0020_")}var Ry=/[\u0000-\u001f]/g;function N6(e){var t=e+"";return t.replace(nx,function(r){return rx[r]}).replace(/\n/g,"<br/>").replace(Ry,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function j6(e){var t=e+"";return t.replace(nx,function(r){return rx[r]}).replace(Ry,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function E6(e){return e.replace(/(\r\n|[\r\n])/g,"&#10;")}function k6(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function ug(e){for(var t="",r=0,n=0,a=0,i=0,l=0,c=0;r<e.length;){if(n=e.charCodeAt(r++),n<128){t+=String.fromCharCode(n);continue}if(a=e.charCodeAt(r++),n>191&&n<224){l=(n&31)<<6,l|=a&63,t+=String.fromCharCode(l);continue}if(i=e.charCodeAt(r++),n<240){t+=String.fromCharCode((n&15)<<12|(a&63)<<6|i&63);continue}l=e.charCodeAt(r++),c=((n&7)<<18|(a&63)<<12|(i&63)<<6|l&63)-65536,t+=String.fromCharCode(55296+(c>>>10&1023)),t+=String.fromCharCode(56320+(c&1023))}return t}function E2(e){var t=Rd(2*e.length),r,n,a=1,i=0,l=0,c;for(n=0;n<e.length;n+=a)a=1,(c=e.charCodeAt(n))<128?r=c:c<224?(r=(c&31)*64+(e.charCodeAt(n+1)&63),a=2):c<240?(r=(c&15)*4096+(e.charCodeAt(n+1)&63)*64+(e.charCodeAt(n+2)&63),a=3):(a=4,r=(c&7)*262144+(e.charCodeAt(n+1)&63)*4096+(e.charCodeAt(n+2)&63)*64+(e.charCodeAt(n+3)&63),r-=65536,l=55296+(r>>>10&1023),r=56320+(r&1023)),l!==0&&(t[i++]=l&255,t[i++]=l>>>8,l=0),t[i++]=r%256,t[i++]=r>>>8;return t.slice(0,i).toString("ucs2")}function k2(e){return pu(e,"binary").toString("utf8")}var Xf="foo bar baz",N0=vn&&(k2(Xf)==ug(Xf)&&k2||E2(Xf)==ug(Xf)&&E2)||ug,H0=vn?function(e){return pu(e,"utf8").toString("binary")}:function(e){for(var t=[],r=0,n=0,a=0;r<e.length;)switch(n=e.charCodeAt(r++),!0){case n<128:t.push(String.fromCharCode(n));break;case n<2048:t.push(String.fromCharCode(192+(n>>6))),t.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,a=e.charCodeAt(r++)-56320+(n<<10),t.push(String.fromCharCode(240+(a>>18&7))),t.push(String.fromCharCode(144+(a>>12&63))),t.push(String.fromCharCode(128+(a>>6&63))),t.push(String.fromCharCode(128+(a&63)));break;default:t.push(String.fromCharCode(224+(n>>12))),t.push(String.fromCharCode(128+(n>>6&63))),t.push(String.fromCharCode(128+(n&63)))}return t.join("")},A6=function(){var e=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(t){return[new RegExp("&"+t[0]+";","ig"),t[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),a=0;a<e.length;++a)n=n.replace(e[a][0],e[a][1]);return n}}(),Fy=/(^\s|\s$|\n)/;function ts(e,t){return"<"+e+(t.match(Fy)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function W0(e){return ns(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function wt(e,t,r){return"<"+e+(r!=null?W0(r):"")+(t!=null?(t.match(Fy)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function x1(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(r){if(t)throw r}return""}function C6(e,t){switch(typeof e){case"string":var r=wt("vt:lpwstr",Pn(e));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return wt((e|0)==e?"vt:i4":"vt:r8",Pn(String(e)));case"boolean":return wt("vt:bool",e?"true":"false")}if(e instanceof Date)return wt("vt:filetime",x1(e));throw new Error("Unable to serialize "+e)}var Pi={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",mx:"http://schemas.microsoft.com/office/mac/excel/2008/main",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",sjs:"http://schemas.openxmlformats.org/package/2006/sheetjs/core-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Hh=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Mo={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function T6(e,t){for(var r=1-2*(e[t+7]>>>7),n=((e[t+7]&127)<<4)+(e[t+6]>>>4&15),a=e[t+6]&15,i=5;i>=0;--i)a=a*256+e[t+i];return n==2047?a==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,a+=Math.pow(2,52)),r*Math.pow(2,n-52)*a)}function P6(e,t,r){var n=(t<0||1/t==-1/0?1:0)<<7,a=0,i=0,l=n?-t:t;isFinite(l)?l==0?a=i=0:(a=Math.floor(Math.log(l)/Math.LN2),i=l*Math.pow(2,52-a),a<=-1023&&(!isFinite(i)||i<Math.pow(2,52))?a=-1022:(i-=Math.pow(2,52),a+=1023)):(a=2047,i=isNaN(t)?26985:0);for(var c=0;c<=5;++c,i/=256)e[r+c]=i&255;e[r+6]=(a&15)<<4|i&15,e[r+7]=a>>4|n}var A2=function(e){for(var t=[],r=10240,n=0;n<e[0].length;++n)if(e[0][n])for(var a=0,i=e[0][n].length;a<i;a+=r)t.push.apply(t,e[0][n].slice(a,a+r));return t},C2=vn?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(t){return Buffer.isBuffer(t)?t:pu(t)})):A2(e)}:A2,T2=function(e,t,r){for(var n=[],a=t;a<r;a+=2)n.push(String.fromCharCode(v0(e,a)));return n.join("").replace(S0,"")},ax=vn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf16le",t,r).replace(S0,""):T2(e,t,r)}:T2,P2=function(e,t,r){for(var n=[],a=t;a<t+r;++a)n.push(("0"+e[a].toString(16)).slice(-2));return n.join("")},Oy=vn?function(e,t,r){return Buffer.isBuffer(e)?e.toString("hex",t,t+r):P2(e,t,r)}:P2,L2=function(e,t,r){for(var n=[],a=t;a<r;a++)n.push(String.fromCharCode(wh(e,a)));return n.join("")},cf=vn?function(t,r,n){return Buffer.isBuffer(t)?t.toString("utf8",r,n):L2(t,r,n)}:L2,Iy=function(e,t){var r=Uo(e,t);return r>0?cf(e,t+4,t+4+r-1):""},Dy=Iy,By=function(e,t){var r=Uo(e,t);return r>0?cf(e,t+4,t+4+r-1):""},My=By,Uy=function(e,t){var r=2*Uo(e,t);return r>0?cf(e,t+4,t+4+r-1):""},$y=Uy,zy=function(t,r){var n=Uo(t,r);return n>0?ax(t,r+4,r+4+n):""},qy=zy,Hy=function(e,t){var r=Uo(e,t);return r>0?cf(e,t+4,t+4+r):""},Wy=Hy,Vy=function(e,t){return T6(e,t)},Pp=Vy,ix=function(t){return Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array};vn&&(Dy=function(t,r){if(!Buffer.isBuffer(t))return Iy(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},My=function(t,r){if(!Buffer.isBuffer(t))return By(t,r);var n=t.readUInt32LE(r);return n>0?t.toString("utf8",r+4,r+4+n-1):""},$y=function(t,r){if(!Buffer.isBuffer(t))return Uy(t,r);var n=2*t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n-1)},qy=function(t,r){if(!Buffer.isBuffer(t))return zy(t,r);var n=t.readUInt32LE(r);return t.toString("utf16le",r+4,r+4+n)},Wy=function(t,r){if(!Buffer.isBuffer(t))return Hy(t,r);var n=t.readUInt32LE(r);return t.toString("utf8",r+4,r+4+n)},Pp=function(t,r){return Buffer.isBuffer(t)?t.readDoubleLE(r):Vy(t,r)},ix=function(t){return Buffer.isBuffer(t)||Array.isArray(t)||typeof Uint8Array<"u"&&t instanceof Uint8Array});var wh=function(e,t){return e[t]},v0=function(e,t){return e[t+1]*256+e[t]},L6=function(e,t){var r=e[t+1]*256+e[t];return r<32768?r:(65535-r+1)*-1},Uo=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},Sd=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},R6=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function j0(e,t){var r="",n,a,i=[],l,c,d,h;switch(t){case"dbcs":if(h=this.l,vn&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*e).toString("utf16le");else for(d=0;d<e;++d)r+=String.fromCharCode(v0(this,h)),h+=2;e*=2;break;case"utf8":r=cf(this,this.l,this.l+e);break;case"utf16le":e*=2,r=ax(this,this.l,this.l+e);break;case"wstr":return j0.call(this,e,"dbcs");case"lpstr-ansi":r=Dy(this,this.l),e=4+Uo(this,this.l);break;case"lpstr-cp":r=My(this,this.l),e=4+Uo(this,this.l);break;case"lpwstr":r=$y(this,this.l),e=4+2*Uo(this,this.l);break;case"lpp4":e=4+Uo(this,this.l),r=qy(this,this.l),e&2&&(e+=2);break;case"8lpp4":e=4+Uo(this,this.l),r=Wy(this,this.l),e&3&&(e+=4-(e&3));break;case"cstr":for(e=0,r="";(l=wh(this,this.l+e++))!==0;)i.push(Gf(l));r=i.join("");break;case"_wstr":for(e=0,r="";(l=v0(this,this.l+e))!==0;)i.push(Gf(l)),e+=2;e+=2,r=i.join("");break;case"dbcs-cont":for(r="",h=this.l,d=0;d<e;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return l=wh(this,h),this.l=h+1,c=j0.call(this,e-d,l?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(Gf(v0(this,h))),h+=2}r=i.join(""),e*=2;break;case"cpstr":case"sbcs-cont":for(r="",h=this.l,d=0;d!=e;++d){if(this.lens&&this.lens.indexOf(h)!==-1)return l=wh(this,h),this.l=h+1,c=j0.call(this,e-d,l?"dbcs-cont":"sbcs-cont"),i.join("")+c;i.push(Gf(wh(this,h))),h+=1}r=i.join("");break;default:switch(e){case 1:return n=wh(this,this.l),this.l++,n;case 2:return n=(t==="i"?L6:v0)(this,this.l),this.l+=2,n;case 4:case-4:return t==="i"||!(this[this.l+3]&128)?(n=(e>0?Sd:R6)(this,this.l),this.l+=4,n):(a=Uo(this,this.l),this.l+=4,a);case 8:case-8:if(t==="f")return e==8?a=Pp(this,this.l):a=Pp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,a;e=8;case 16:r=Oy(this,this.l,e);break}}return this.l+=e,r}var F6=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24&255},O6=function(e,t,r){e[r]=t&255,e[r+1]=t>>8&255,e[r+2]=t>>16&255,e[r+3]=t>>24&255},I6=function(e,t,r){e[r]=t&255,e[r+1]=t>>>8&255};function D6(e,t,r){var n=0,a=0;if(r==="dbcs"){for(a=0;a!=t.length;++a)I6(this,t.charCodeAt(a),this.l+2*a);n=2*t.length}else if(r==="sbcs"){for(t=t.replace(/[^\x00-\x7F]/g,"_"),a=0;a!=t.length;++a)this[this.l+a]=t.charCodeAt(a)&255;n=t.length}else if(r==="hex"){for(;a<e;++a)this[this.l++]=parseInt(t.slice(2*a,2*a+2),16)||0;return this}else if(r==="utf16le"){var i=Math.min(this.l+e,this.length);for(a=0;a<Math.min(t.length,e);++a){var l=t.charCodeAt(a);this[this.l++]=l&255,this[this.l++]=l>>8}for(;this.l<i;)this[this.l++]=0;return this}else switch(e){case 1:n=1,this[this.l]=t&255;break;case 2:n=2,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255;break;case 3:n=3,this[this.l]=t&255,t>>>=8,this[this.l+1]=t&255,t>>>=8,this[this.l+2]=t&255;break;case 4:n=4,F6(this,t,this.l);break;case 8:if(n=8,r==="f"){P6(this,t,this.l);break}case 16:break;case-4:n=4,O6(this,t,this.l);break}return this.l+=n,this}function Gy(e,t){var r=Oy(this,this.l,e.length>>1);if(r!==e)throw new Error(t+"Expected "+e+" saw "+r);this.l+=e.length>>1}function Bo(e,t){e.l=t,e.read_shift=j0,e.chk=Gy,e.write_shift=D6}function Dc(e,t){e.l+=t}function tt(e){var t=Rd(e);return Bo(t,0),t}function lo(){var e=[],t=vn?256:2048,r=function(h){var p=tt(h);return Bo(p,0),p},n=r(t),a=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&e.push(n),n=null)},i=function(h){return n&&h<n.length-n.l?n:(a(),n=r(Math.max(h+1,t)))},l=function(){return a(),es(e)},c=function(h){a(),n=h,n.l==null&&(n.l=n.length),i(t)};return{next:i,push:c,end:l,_bufs:e}}function ut(e,t,r,n){var a=+t,i;if(!isNaN(a)){n||(n=T7[a].p||(r||[]).length||0),i=1+(a>=128?1:0)+1,n>=128&&++i,n>=16384&&++i,n>=2097152&&++i;var l=e.next(i);a<=127?l.write_shift(1,a):(l.write_shift(1,(a&127)+128),l.write_shift(1,a>>7));for(var c=0;c!=4;++c)if(n>=128)l.write_shift(1,(n&127)+128),n>>=7;else{l.write_shift(1,n);break}n>0&&ix(r)&&e.push(r)}}function E0(e,t,r){var n=uo(e);if(t.s?(n.cRel&&(n.c+=t.s.c),n.rRel&&(n.r+=t.s.r)):(n.cRel&&(n.c+=t.c),n.rRel&&(n.r+=t.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function R2(e,t,r){var n=uo(e);return n.s=E0(n.s,t.s,r),n.e=E0(n.e,t.s,r),n}function k0(e,t){if(e.cRel&&e.c<0)for(e=uo(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=uo(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var r=Ln(e);return!e.cRel&&e.cRel!=null&&(r=U6(r)),!e.rRel&&e.rRel!=null&&(r=B6(r)),r}function dg(e,t){return e.s.r==0&&!e.s.rRel&&e.e.r==(t.biff>=12?1048575:t.biff>=8?65536:16384)&&!e.e.rRel?(e.s.cRel?"":"$")+xs(e.s.c)+":"+(e.e.cRel?"":"$")+xs(e.e.c):e.s.c==0&&!e.s.cRel&&e.e.c==(t.biff>=12?16383:255)&&!e.e.cRel?(e.s.rRel?"":"$")+rs(e.s.r)+":"+(e.e.rRel?"":"$")+rs(e.e.r):k0(e.s,t.biff)+":"+k0(e.e,t.biff)}function sx(e){return parseInt(M6(e),10)-1}function rs(e){return""+(e+1)}function B6(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function M6(e){return e.replace(/\$(\d+)$/,"$1")}function ox(e){for(var t=$6(e),r=0,n=0;n!==t.length;++n)r=26*r+t.charCodeAt(n)-64;return r-1}function xs(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function U6(e){return e.replace(/^([A-Z])/,"$$$1")}function $6(e){return e.replace(/^\$([A-Z])/,"$1")}function z6(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Li(e){for(var t=0,r=0,n=0;n<e.length;++n){var a=e.charCodeAt(n);a>=48&&a<=57?t=10*t+(a-48):a>=65&&a<=90&&(r=26*r+(a-64))}return{c:r-1,r:t-1}}function Ln(e){for(var t=e.c+1,r="";t;t=(t-1)/26|0)r=String.fromCharCode((t-1)%26+65)+r;return r+(e.r+1)}function Wo(e){var t=e.indexOf(":");return t==-1?{s:Li(e),e:Li(e)}:{s:Li(e.slice(0,t)),e:Li(e.slice(t+1))}}function ri(e,t){return typeof t>"u"||typeof t=="number"?ri(e.s,e.e):(typeof e!="string"&&(e=Ln(e)),typeof t!="string"&&(t=Ln(t)),e==t?e:e+":"+t)}function ta(e){var t={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,a=0,i=e.length;for(r=0;n<i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.s.c=--r,r=0;n<i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;if(t.s.r=--r,n===i||a!=10)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++n,r=0;n!=i&&!((a=e.charCodeAt(n)-64)<1||a>26);++n)r=26*r+a;for(t.e.c=--r,r=0;n!=i&&!((a=e.charCodeAt(n)-48)<0||a>9);++n)r=10*r+a;return t.e.r=--r,t}function F2(e,t){var r=e.t=="d"&&t instanceof Date;if(e.z!=null)try{return e.w=Xu(e.z,r?co(t):t)}catch{}try{return e.w=Xu((e.XF||{}).numFmtId||(r?14:0),r?co(t):t)}catch{return""+t}}function uu(e,t,r){return e==null||e.t==null||e.t=="z"?"":e.w!==void 0?e.w:(e.t=="d"&&!e.z&&r&&r.dateNF&&(e.z=r.dateNF),e.t=="e"?uf[e.v]||e.v:t==null?F2(e,e.v):F2(e,t))}function $d(e,t){var r=t&&t.sheet?t.sheet:"Sheet1",n={};return n[r]=e,{SheetNames:[r],Sheets:n}}function Ky(e,t,r){var n=r||{},a=e?Array.isArray(e):n.dense,i=e||(a?[]:{}),l=0,c=0;if(i&&n.origin!=null){if(typeof n.origin=="number")l=n.origin;else{var d=typeof n.origin=="string"?Li(n.origin):n.origin;l=d.r,c=d.c}i["!ref"]||(i["!ref"]="A1:A1")}var h={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(i["!ref"]){var p=ta(i["!ref"]);h.s.c=p.s.c,h.s.r=p.s.r,h.e.c=Math.max(h.e.c,p.e.c),h.e.r=Math.max(h.e.r,p.e.r),l==-1&&(h.e.r=l=p.e.r+1)}for(var f=0;f!=t.length;++f)if(t[f]){if(!Array.isArray(t[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var b=0;b!=t[f].length;++b)if(!(typeof t[f][b]>"u")){var g={v:t[f][b]},S=l+f,y=c+b;if(h.s.r>S&&(h.s.r=S),h.s.c>y&&(h.s.c=y),h.e.r<S&&(h.e.r=S),h.e.c<y&&(h.e.c=y),t[f][b]&&typeof t[f][b]=="object"&&!Array.isArray(t[f][b])&&!(t[f][b]instanceof Date))g=t[f][b];else if(Array.isArray(g.v)&&(g.f=t[f][b][1],g.v=g.v[0]),g.v===null)if(g.f)g.t="n";else if(n.nullError)g.t="e",g.v=0;else if(n.sheetStubs)g.t="z";else continue;else typeof g.v=="number"?g.t="n":typeof g.v=="boolean"?g.t="b":g.v instanceof Date?(g.z=n.dateNF||Na[14],n.cellDates?(g.t="d",g.w=Xu(g.z,co(g.v))):(g.t="n",g.v=co(g.v),g.w=Xu(g.z,g.v))):g.t="s";if(a)i[S]||(i[S]=[]),i[S][y]&&i[S][y].z&&(g.z=i[S][y].z),i[S][y]=g;else{var N=Ln({c:y,r:S});i[N]&&i[N].z&&(g.z=i[N].z),i[N]=g}}}return h.s.c<1e7&&(i["!ref"]=ri(h)),i}function Wh(e,t){return Ky(null,e,t)}function q6(e){return e.read_shift(4,"i")}function Ql(e,t){return t||(t=tt(4)),t.write_shift(4,e),t}function vs(e){var t=e.read_shift(4);return t===0?"":e.read_shift(t,"dbcs")}function Ri(e,t){var r=!1;return t==null&&(r=!0,t=tt(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}function H6(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function W6(e,t){return t||(t=tt(4)),t.write_shift(2,0),t.write_shift(2,0),t}function lx(e,t){var r=e.l,n=e.read_shift(1),a=vs(e),i=[],l={t:a,h:a};if(n&1){for(var c=e.read_shift(4),d=0;d!=c;++d)i.push(H6(e));l.r=i}else l.r=[{ich:0,ifnt:0}];return e.l=r+t,l}function V6(e,t){var r=!1;return t==null&&(r=!0,t=tt(15+4*e.t.length)),t.write_shift(1,0),Ri(e.t,t),r?t.slice(0,t.l):t}var G6=lx;function K6(e,t){var r=!1;return t==null&&(r=!0,t=tt(23+4*e.t.length)),t.write_shift(1,1),Ri(e.t,t),t.write_shift(4,1),W6({ich:0,ifnt:0},t),r?t.slice(0,t.l):t}function _l(e){var t=e.read_shift(4),r=e.read_shift(2);return r+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:r}}function zd(e,t){return t==null&&(t=tt(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function qd(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function Hd(e,t){return t==null&&(t=tt(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var Y6=vs,Yy=Ri;function cx(e){var t=e.read_shift(4);return t===0||t===4294967295?"":e.read_shift(t,"dbcs")}function Lp(e,t){var r=!1;return t==null&&(r=!0,t=tt(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),r?t.slice(0,t.l):t}var X6=vs,v1=cx,ux=Lp;function Xy(e){var t=e.slice(e.l,e.l+4),r=t[0]&1,n=t[0]&2;e.l+=4;var a=n===0?Pp([0,0,0,0,t[0]&252,t[1],t[2],t[3]],0):Sd(t,0)>>2;return r?a/100:a}function Jy(e,t){t==null&&(t=tt(4));var r=0,n=0,a=e*100;if(e==(e|0)&&e>=-(1<<29)&&e<1<<29?n=1:a==(a|0)&&a>=-(1<<29)&&a<1<<29&&(n=1,r=1),n)t.write_shift(-4,((r?a:e)<<2)+(r+2));else throw new Error("unsupported RkNumber "+e)}function Zy(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}function J6(e,t){return t||(t=tt(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t}var Wd=Zy,Vh=J6;function Gh(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function Fd(e,t){return(t||tt(8)).write_shift(8,e,"f")}function Z6(e){var t={},r=e.read_shift(1),n=r>>>1,a=e.read_shift(1),i=e.read_shift(2,"i"),l=e.read_shift(1),c=e.read_shift(1),d=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=a;var h=ok[a];h&&(t.rgb=W2(h));break;case 2:t.rgb=W2([l,c,d]);break;case 3:t.theme=a;break}return i!=0&&(t.tint=i>0?i/32767:i/32768),t}function Rp(e,t){if(t||(t=tt(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;e.index!=null?(t.write_shift(1,2),t.write_shift(1,e.index)):e.theme!=null?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var r=e.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),t.write_shift(2,r),!e.rgb||e.theme!=null)t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);else{var n=e.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),t.write_shift(1,parseInt(n.slice(0,2),16)),t.write_shift(1,parseInt(n.slice(2,4),16)),t.write_shift(1,parseInt(n.slice(4,6),16)),t.write_shift(1,255)}return t}function Q6(e){var t=e.read_shift(1);e.l++;var r={fBold:t&1,fItalic:t&2,fUnderline:t&4,fStrikeout:t&8,fOutline:t&16,fShadow:t&32,fCondense:t&64,fExtend:t&128};return r}function ek(e,t){t||(t=tt(2));var r=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);return t.write_shift(1,r),t.write_shift(1,0),t}var Qy=2,Do=3,Jf=11,Fp=19,Zf=64,tk=65,rk=71,nk=4108,ak=4126,Qi=80,O2={1:{n:"CodePage",t:Qy},2:{n:"Category",t:Qi},3:{n:"PresentationFormat",t:Qi},4:{n:"ByteCount",t:Do},5:{n:"LineCount",t:Do},6:{n:"ParagraphCount",t:Do},7:{n:"SlideCount",t:Do},8:{n:"NoteCount",t:Do},9:{n:"HiddenCount",t:Do},10:{n:"MultimediaClipCount",t:Do},11:{n:"ScaleCrop",t:Jf},12:{n:"HeadingPairs",t:nk},13:{n:"TitlesOfParts",t:ak},14:{n:"Manager",t:Qi},15:{n:"Company",t:Qi},16:{n:"LinksUpToDate",t:Jf},17:{n:"CharacterCount",t:Do},19:{n:"SharedDoc",t:Jf},22:{n:"HyperlinksChanged",t:Jf},23:{n:"AppVersion",t:Do,p:"version"},24:{n:"DigSig",t:tk},26:{n:"ContentType",t:Qi},27:{n:"ContentStatus",t:Qi},28:{n:"Language",t:Qi},29:{n:"Version",t:Qi},255:{},2147483648:{n:"Locale",t:Fp},2147483651:{n:"Behavior",t:Fp},1919054434:{}},I2={1:{n:"CodePage",t:Qy},2:{n:"Title",t:Qi},3:{n:"Subject",t:Qi},4:{n:"Author",t:Qi},5:{n:"Keywords",t:Qi},6:{n:"Comments",t:Qi},7:{n:"Template",t:Qi},8:{n:"LastAuthor",t:Qi},9:{n:"RevNumber",t:Qi},10:{n:"EditTime",t:Zf},11:{n:"LastPrinted",t:Zf},12:{n:"CreatedDate",t:Zf},13:{n:"ModifiedDate",t:Zf},14:{n:"PageCount",t:Do},15:{n:"WordCount",t:Do},16:{n:"CharCount",t:Do},17:{n:"Thumbnail",t:rk},18:{n:"Application",t:Qi},19:{n:"DocSecurity",t:Do},255:{},2147483648:{n:"Locale",t:Fp},2147483651:{n:"Behavior",t:Fp},1919054434:{}};function ik(e){return e.map(function(t){return[t>>16&255,t>>8&255,t&255]})}var sk=ik([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),ok=uo(sk),uf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},lk={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Qf={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function ew(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function tw(e,t){var r=v6(lk),n=[],a;n[n.length]=ni,n[n.length]=wt("Types",null,{xmlns:Pi.CT,"xmlns:xsd":Pi.xsd,"xmlns:xsi":Pi.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(d){return wt("Default",null,{Extension:d[0],ContentType:d[1]})}));var i=function(d){e[d]&&e[d].length>0&&(a=e[d][0],n[n.length]=wt("Override",null,{PartName:(a[0]=="/"?"":"/")+a,ContentType:Qf[d][t.bookType]||Qf[d].xlsx}))},l=function(d){(e[d]||[]).forEach(function(h){n[n.length]=wt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:Qf[d][t.bookType]||Qf[d].xlsx})})},c=function(d){(e[d]||[]).forEach(function(h){n[n.length]=wt("Override",null,{PartName:(h[0]=="/"?"":"/")+h,ContentType:r[d][0]})})};return i("workbooks"),l("sheets"),l("charts"),c("themes"),["strs","styles"].forEach(i),["coreprops","extprops","custprops"].forEach(c),c("vba"),c("comments"),c("threadedcomments"),c("drawings"),l("metadata"),c("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var un={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function rw(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Th(e){var t=[ni,wt("Relationships",null,{xmlns:Pi.RELS})];return ns(e["!id"]).forEach(function(r){t[t.length]=wt("Relationship",null,e["!id"][r])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Cn(e,t,r,n,a,i){if(a||(a={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,a.Id="rId"+t,a.Type=n,a.Target=r,[un.HLINK,un.XPATH,un.XMISS].indexOf(a.Type)>-1&&(a.TargetMode="External"),e["!id"][a.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][a.Id]=a,e[("/"+a.Target).replace("//","/")]=a,t}function ck(e){var t=[ni];t.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),t.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<e.length;++r)t.push('  <manifest:file-entry manifest:full-path="'+e[r][0]+'" manifest:media-type="'+e[r][1]+`"/>
`);return t.push("</manifest:manifest>"),t.join("")}function D2(e,t,r){return['  <rdf:Description rdf:about="'+e+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+t+`"/>
`,`  </rdf:Description>
`].join("")}function uk(e,t){return['  <rdf:Description rdf:about="'+e+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+`"/>
`,`  </rdf:Description>
`].join("")}function dk(e){var t=[ni];t.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=e.length;++r)t.push(D2(e[r][0],e[r][1])),t.push(uk("",e[r][0]));return t.push(D2("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}function nw(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+jp.version+"</meta:generator></office:meta></office:document-meta>"}var Pd=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function hg(e,t,r,n,a){a[e]!=null||t==null||t===""||(a[e]=t,t=Pn(t),n[n.length]=r?wt(e,t,r):ts(e,t))}function aw(e,t){var r=t||{},n=[ni,wt("cp:coreProperties",null,{"xmlns:cp":Pi.CORE_PROPS,"xmlns:dc":Pi.dc,"xmlns:dcterms":Pi.dcterms,"xmlns:dcmitype":Pi.dcmitype,"xmlns:xsi":Pi.xsi})],a={};if(!e&&!r.Props)return n.join("");e&&(e.CreatedDate!=null&&hg("dcterms:created",typeof e.CreatedDate=="string"?e.CreatedDate:x1(e.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a),e.ModifiedDate!=null&&hg("dcterms:modified",typeof e.ModifiedDate=="string"?e.ModifiedDate:x1(e.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,a));for(var i=0;i!=Pd.length;++i){var l=Pd[i],c=r.Props&&r.Props[l[1]]!=null?r.Props[l[1]]:e?e[l[1]]:null;c===!0?c="1":c===!1?c="0":typeof c=="number"&&(c=String(c)),c!=null&&hg(l[0],c,null,n,a)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Ph=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],iw=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function sw(e){var t=[],r=wt;return e||(e={}),e.Application="SheetJS",t[t.length]=ni,t[t.length]=wt("Properties",null,{xmlns:Pi.EXT_PROPS,"xmlns:vt":Pi.vt}),Ph.forEach(function(n){if(e[n[1]]!==void 0){var a;switch(n[2]){case"string":a=Pn(String(e[n[1]]));break;case"bool":a=e[n[1]]?"true":"false";break}a!==void 0&&(t[t.length]=r(n[0],a))}}),t[t.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=r("TitlesOfParts",r("vt:vector",e.SheetNames.map(function(n){return"<vt:lpstr>"+Pn(n)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function ow(e){var t=[ni,wt("Properties",null,{xmlns:Pi.CUST_PROPS,"xmlns:vt":Pi.vt})];if(!e)return t.join("");var r=1;return ns(e).forEach(function(a){++r,t[t.length]=wt("property",C6(e[a]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:Pn(a)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var B2={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function hk(e,t){var r=[];return ns(B2).map(function(n){for(var a=0;a<Pd.length;++a)if(Pd[a][1]==n)return Pd[a];for(a=0;a<Ph.length;++a)if(Ph[a][1]==n)return Ph[a];throw n}).forEach(function(n){if(e[n[1]]!=null){var a=t&&t.Props&&t.Props[n[1]]!=null?t.Props[n[1]]:e[n[1]];switch(n[2]){case"date":a=new Date(a).toISOString().replace(/\.\d*Z/,"Z");break}typeof a=="number"?a=String(a):a===!0||a===!1?a=a?"1":"0":a instanceof Date&&(a=new Date(a).toISOString().replace(/\.\d*Z/,"")),r.push(ts(B2[n[1]]||n[1],a))}}),wt("DocumentProperties",r.join(""),{xmlns:Mo.o})}function fk(e,t){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",a=[];return e&&ns(e).forEach(function(i){if(Object.prototype.hasOwnProperty.call(e,i)){for(var l=0;l<Pd.length;++l)if(i==Pd[l][1])return;for(l=0;l<Ph.length;++l)if(i==Ph[l][1])return;for(l=0;l<r.length;++l)if(i==r[l])return;var c=e[i],d="string";typeof c=="number"?(d="float",c=String(c)):c===!0||c===!1?(d="boolean",c=c?"1":"0"):c=String(c),a.push(wt(j2(i),c,{"dt:dt":d}))}}),t&&ns(t).forEach(function(i){if(Object.prototype.hasOwnProperty.call(t,i)&&!(e&&Object.prototype.hasOwnProperty.call(e,i))){var l=t[i],c="string";typeof l=="number"?(c="float",l=String(l)):l===!0||l===!1?(c="boolean",l=l?"1":"0"):l instanceof Date?(c="dateTime.tz",l=l.toISOString()):l=String(l),a.push(wt(j2(i),l,{"dt:dt":c}))}}),"<"+n+' xmlns="'+Mo.o+'">'+a.join("")+"</"+n+">"}function pk(e){var t=typeof e=="string"?new Date(Date.parse(e)):e,r=t.getTime()/1e3+11644473600,n=r%Math.pow(2,32),a=(r-n)/Math.pow(2,32);n*=1e7,a*=1e7;var i=n/Math.pow(2,32)|0;i>0&&(n=n%Math.pow(2,32),a+=i);var l=tt(8);return l.write_shift(4,n),l.write_shift(4,a),l}function M2(e,t){var r=tt(4),n=tt(4);switch(r.write_shift(4,e==80?31:e),e){case 3:n.write_shift(-4,t);break;case 5:n=tt(8),n.write_shift(8,t,"f");break;case 11:n.write_shift(4,t?1:0);break;case 64:n=pk(t);break;case 31:case 80:for(n=tt(4+2*(t.length+1)+(t.length%2?0:2)),n.write_shift(4,t.length+1),n.write_shift(0,t,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return es([r,n])}var lw=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function mk(e){switch(typeof e){case"boolean":return 11;case"number":return(e|0)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64;break}return-1}function U2(e,t,r){var n=tt(8),a=[],i=[],l=8,c=0,d=tt(8),h=tt(8);if(d.write_shift(4,2),d.write_shift(4,1200),h.write_shift(4,1),i.push(d),a.push(h),l+=8+d.length,!t){h=tt(8),h.write_shift(4,0),a.unshift(h);var p=[tt(4)];for(p[0].write_shift(4,e.length),c=0;c<e.length;++c){var f=e[c][0];for(d=tt(8+2*(f.length+1)+(f.length%2?0:2)),d.write_shift(4,c+2),d.write_shift(4,f.length+1),d.write_shift(0,f,"dbcs");d.l!=d.length;)d.write_shift(1,0);p.push(d)}d=es(p),i.unshift(d),l+=8+d.length}for(c=0;c<e.length;++c)if(!(t&&!t[e[c][0]])&&!(lw.indexOf(e[c][0])>-1||iw.indexOf(e[c][0])>-1)&&e[c][1]!=null){var b=e[c][1],g=0;if(t){g=+t[e[c][0]];var S=r[g];if(S.p=="version"&&typeof b=="string"){var y=b.split(".");b=(+y[0]<<16)+(+y[1]||0)}d=M2(S.t,b)}else{var N=mk(b);N==-1&&(N=31,b=String(b)),d=M2(N,b)}i.push(d),h=tt(8),h.write_shift(4,t?g:2+c),a.push(h),l+=8+d.length}var A=8*(i.length+1);for(c=0;c<i.length;++c)a[c].write_shift(4,A),A+=i[c].length;return n.write_shift(4,l),n.write_shift(4,i.length),es([n].concat(a).concat(i))}function $2(e,t,r,n,a,i){var l=tt(a?68:48),c=[l];l.write_shift(2,65534),l.write_shift(2,0),l.write_shift(4,842412599),l.write_shift(16,Dn.utils.consts.HEADER_CLSID,"hex"),l.write_shift(4,a?2:1),l.write_shift(16,t,"hex"),l.write_shift(4,a?68:48);var d=U2(e,r,n);if(c.push(d),a){var h=U2(a,null,null);l.write_shift(16,i,"hex"),l.write_shift(4,68+d.length),c.push(h)}return es(c)}function gk(e,t){t||(t=tt(e));for(var r=0;r<e;++r)t.write_shift(1,0);return t}function xk(e,t){return e.read_shift(t)===1}function Ds(e,t){return t||(t=tt(2)),t.write_shift(2,+!!e),t}function cw(e){return e.read_shift(2,"u")}function gl(e,t){return t||(t=tt(2)),t.write_shift(2,e),t}function uw(e,t,r){return r||(r=tt(2)),r.write_shift(1,t=="e"?+e:+!!e),r.write_shift(1,t=="e"?1:0),r}function dw(e,t,r){var n=e.read_shift(r&&r.biff>=12?2:1),a="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var i=e.read_shift(1);i&&(a="dbcs-cont")}else r.biff==12&&(a="wstr");r.biff>=2&&r.biff<=5&&(a="cpstr");var l=n?e.read_shift(n,a):"";return l}function vk(e){var t=e.t||"",r=tt(3);r.write_shift(2,t.length),r.write_shift(1,1);var n=tt(2*t.length);n.write_shift(2*t.length,t,"utf16le");var a=[r,n];return es(a)}function bk(e,t,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return e.read_shift(t,"cpstr");if(r.biff>=12)return e.read_shift(t,"dbcs-cont")}var a=e.read_shift(1);return a===0?n=e.read_shift(t,"sbcs-cont"):n=e.read_shift(t,"dbcs-cont"),n}function _k(e,t,r){var n=e.read_shift(r&&r.biff==2?1:2);return n===0?(e.l++,""):bk(e,n,r)}function yk(e,t,r){if(r.biff>5)return _k(e,t,r);var n=e.read_shift(1);return n===0?(e.l++,""):e.read_shift(n,r.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function hw(e,t,r){return r||(r=tt(3+2*e.length)),r.write_shift(2,e.length),r.write_shift(1,1),r.write_shift(31,e,"utf16le"),r}function z2(e,t){t||(t=tt(6+e.length*2)),t.write_shift(4,1+e.length);for(var r=0;r<e.length;++r)t.write_shift(2,e.charCodeAt(r));return t.write_shift(2,0),t}function wk(e){var t=tt(512),r=0,n=e.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var a=n.indexOf("#"),i=a>-1?31:23;switch(n.charAt(0)){case"#":i=28;break;case".":i&=-3;break}t.write_shift(4,2),t.write_shift(4,i);var l=[8,6815827,6619237,4849780,83];for(r=0;r<l.length;++r)t.write_shift(4,l[r]);if(i==28)n=n.slice(1),z2(n,t);else if(i&2){for(l="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));var c=a>-1?n.slice(0,a):n;for(t.write_shift(4,2*(c.length+1)),r=0;r<c.length;++r)t.write_shift(2,c.charCodeAt(r));t.write_shift(2,0),i&8&&z2(a>-1?n.slice(a+1):"",t)}else{for(l="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<l.length;++r)t.write_shift(1,parseInt(l[r],16));for(var d=0;n.slice(d*3,d*3+3)=="../"||n.slice(d*3,d*3+3)=="..\\";)++d;for(t.write_shift(2,d),t.write_shift(4,n.length-3*d+1),r=0;r<n.length-3*d;++r)t.write_shift(1,n.charCodeAt(r+3*d)&255);for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),r=0;r<6;++r)t.write_shift(4,0)}return t.slice(0,t.l)}function Od(e,t,r,n){return n||(n=tt(6)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,r||0),n}function Sk(e,t,r){var n=r.biff>8?4:2,a=e.read_shift(n),i=e.read_shift(n,"i"),l=e.read_shift(n,"i");return[a,i,l]}function Nk(e){var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(2),a=e.read_shift(2);return{s:{c:n,r:t},e:{c:a,r}}}function fw(e,t){return t||(t=tt(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function dx(e,t,r){var n=1536,a=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,a=8;break;case"biff4":n=4,a=6;break;case"biff3":n=3,a=6;break;case"biff2":n=2,a=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var i=tt(a);return i.write_shift(2,n),i.write_shift(2,t),a>4&&i.write_shift(2,29282),a>6&&i.write_shift(2,1997),a>8&&(i.write_shift(2,49161),i.write_shift(2,1),i.write_shift(2,1798),i.write_shift(2,0)),i}function jk(e,t){var r=!t||t.biff==8,n=tt(r?112:54);for(n.write_shift(t.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Ek(e,t){var r=!t||t.biff>=8?2:1,n=tt(8+r*e.name.length);n.write_shift(4,e.pos),n.write_shift(1,e.hs||0),n.write_shift(1,e.dt),n.write_shift(1,e.name.length),t.biff>=8&&n.write_shift(1,1),n.write_shift(r*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var a=n.slice(0,n.l);return a.l=n.l,a}function kk(e,t){var r=tt(8);r.write_shift(4,e.Count),r.write_shift(4,e.Unique);for(var n=[],a=0;a<e.length;++a)n[a]=vk(e[a]);var i=es([r].concat(n));return i.parts=[r.length].concat(n.map(function(l){return l.length})),i}function Ak(){var e=tt(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}function Ck(e){var t=tt(18),r=1718;return e&&e.RTL&&(r|=64),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}function Tk(e,t){var r=e.name||"Arial",n=t.biff==5,a=n?15+r.length:16+2*r.length,i=tt(a);return i.write_shift(2,(e.sz||12)*20),i.write_shift(4,0),i.write_shift(2,400),i.write_shift(4,0),i.write_shift(2,0),i.write_shift(1,r.length),n||i.write_shift(1,1),i.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),i}function Pk(e,t,r,n){var a=tt(10);return Od(e,t,n,a),a.write_shift(4,r),a}function Lk(e,t,r,n,a){var i=!a||a.biff==8,l=tt(8+ +i+(1+i)*r.length);return Od(e,t,n,l),l.write_shift(2,r.length),i&&l.write_shift(1,1),l.write_shift((1+i)*r.length,r,i?"utf16le":"sbcs"),l}function Rk(e,t,r,n){var a=r.biff==5;n||(n=tt(a?3+t.length:5+2*t.length)),n.write_shift(2,e),n.write_shift(a?1:2,t.length),a||n.write_shift(1,1),n.write_shift((a?1:2)*t.length,t,a?"sbcs":"utf16le");var i=n.length>n.l?n.slice(0,n.l):n;return i.l==null&&(i.l=i.length),i}function Fk(e,t){var r=t.biff==8||!t.biff?4:2,n=tt(2*r+6);return n.write_shift(r,e.s.r),n.write_shift(r,e.e.r+1),n.write_shift(2,e.s.c),n.write_shift(2,e.e.c+1),n.write_shift(2,0),n}function q2(e,t,r,n){var a=r.biff==5;n||(n=tt(a?16:20)),n.write_shift(2,0),e.style?(n.write_shift(2,e.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,e.numFmtId||0),n.write_shift(2,t<<4));var i=0;return e.numFmtId>0&&a&&(i|=1024),n.write_shift(4,i),n.write_shift(4,0),a||n.write_shift(4,0),n.write_shift(2,0),n}function Ok(e){var t=tt(8);return t.write_shift(4,0),t.write_shift(2,0),t.write_shift(2,0),t}function Ik(e,t,r,n,a,i){var l=tt(8);return Od(e,t,n,l),uw(r,i,l),l}function Dk(e,t,r,n){var a=tt(14);return Od(e,t,n,a),Fd(r,a),a}function Bk(e,t,r){if(r.biff<8)return Mk(e,t,r);for(var n=[],a=e.l+t,i=e.read_shift(r.biff>8?4:2);i--!==0;)n.push(Sk(e,r.biff>8?12:6,r));if(e.l!=a)throw new Error("Bad ExternSheet: "+e.l+" != "+a);return n}function Mk(e,t,r){e[e.l+1]==3&&e[e.l]++;var n=dw(e,t,r);return n.charCodeAt(0)==3?n.slice(1):n}function Uk(e){var t=tt(2+e.length*8);t.write_shift(2,e.length);for(var r=0;r<e.length;++r)fw(e[r],t);return t}function $k(e){var t=tt(24),r=Li(e[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),a=0;a<16;++a)t.write_shift(1,parseInt(n[a],16));return es([t,wk(e[1])])}function zk(e){var t=e[1].Tooltip,r=tt(10+2*(t.length+1));r.write_shift(2,2048);var n=Li(e[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var a=0;a<t.length;++a)r.write_shift(2,t.charCodeAt(a));return r.write_shift(2,0),r}function qk(e){return e||(e=tt(4)),e.write_shift(2,1),e.write_shift(2,1),e}function Hk(e,t,r){if(!r.cellStyles)return Dc(e,t);var n=r&&r.biff>=12?4:2,a=e.read_shift(n),i=e.read_shift(n),l=e.read_shift(n),c=e.read_shift(n),d=e.read_shift(2);n==2&&(e.l+=2);var h={s:a,e:i,w:l,ixfe:c,flags:d};return(r.biff>=5||!r.biff)&&(h.level=d>>8&7),h}function Wk(e,t){var r=tt(12);r.write_shift(2,t),r.write_shift(2,t),r.write_shift(2,e.width*256),r.write_shift(2,0);var n=0;return e.hidden&&(n|=1),r.write_shift(1,n),n=e.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function Vk(e){for(var t=tt(2*e),r=0;r<e;++r)t.write_shift(2,r+1);return t}function Gk(e,t,r){var n=tt(15);return hf(n,e,t),n.write_shift(8,r,"f"),n}function Kk(e,t,r){var n=tt(9);return hf(n,e,t),n.write_shift(2,r),n}var Yk=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=ex({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(c,d){var h=[],p=Rd(1);switch(d.type){case"base64":p=Jl(cu(c));break;case"binary":p=Jl(c);break;case"buffer":case"array":p=c;break}Bo(p,0);var f=p.read_shift(1),b=!!(f&136),g=!1,S=!1;switch(f){case 2:break;case 3:break;case 48:g=!0,b=!0;break;case 49:g=!0,b=!0;break;case 131:break;case 139:break;case 140:S=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var y=0,N=521;f==2&&(y=p.read_shift(2)),p.l+=3,f!=2&&(y=p.read_shift(4)),y>1048576&&(y=1e6),f!=2&&(N=p.read_shift(2));var A=p.read_shift(2),P=d.codepage||1252;f!=2&&(p.l+=16,p.read_shift(1),p[p.l]!==0&&(P=e[p[p.l]]),p.l+=1,p.l+=2),S&&(p.l+=36);for(var T=[],R={},q=Math.min(p.length,f==2?521:N-10-(g?264:0)),te=S?32:11;p.l<q&&p[p.l]!=13;)switch(R={},R.name=Ep.utils.decode(P,p.slice(p.l,p.l+te)).replace(/[\u0000\r\n].*$/g,""),p.l+=te,R.type=String.fromCharCode(p.read_shift(1)),f!=2&&!S&&(R.offset=p.read_shift(4)),R.len=p.read_shift(1),f==2&&(R.offset=p.read_shift(2)),R.dec=p.read_shift(1),R.name.length&&T.push(R),f!=2&&(p.l+=S?13:14),R.type){case"B":(!g||R.len!=8)&&d.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"G":case"P":d.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+R.type)}if(p[p.l]!==13&&(p.l=N-1),p.read_shift(1)!==13)throw new Error("DBF Terminator not found "+p.l+" "+p[p.l]);p.l=N;var G=0,H=0;for(h[0]=[],H=0;H!=T.length;++H)h[0][H]=T[H].name;for(;y-- >0;){if(p[p.l]===42){p.l+=A;continue}for(++p.l,h[++G]=[],H=0,H=0;H!=T.length;++H){var M=p.slice(p.l,p.l+T[H].len);p.l+=T[H].len,Bo(M,0);var re=Ep.utils.decode(P,M);switch(T[H].type){case"C":re.trim().length&&(h[G][H]=re.replace(/\s+$/,""));break;case"D":re.length===8?h[G][H]=new Date(+re.slice(0,4),+re.slice(4,6)-1,+re.slice(6,8)):h[G][H]=re;break;case"F":h[G][H]=parseFloat(re.trim());break;case"+":case"I":h[G][H]=S?M.read_shift(-4,"i")^2147483648:M.read_shift(4,"i");break;case"L":switch(re.trim().toUpperCase()){case"Y":case"T":h[G][H]=!0;break;case"N":case"F":h[G][H]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+re+"|")}break;case"M":if(!b)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));h[G][H]="##MEMO##"+(S?parseInt(re.trim(),10):M.read_shift(4));break;case"N":re=re.replace(/\u0000/g,"").trim(),re&&re!="."&&(h[G][H]=+re||0);break;case"@":h[G][H]=new Date(M.read_shift(-8,"f")-621356832e5);break;case"T":h[G][H]=new Date((M.read_shift(4)-2440588)*864e5+M.read_shift(4));break;case"Y":h[G][H]=M.read_shift(4,"i")/1e4+M.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":h[G][H]=-M.read_shift(-8,"f");break;case"B":if(g&&T[H].len==8){h[G][H]=M.read_shift(8,"f");break}case"G":case"P":M.l+=T[H].len;break;case"0":if(T[H].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+T[H].type)}}}if(f!=2&&p.l<p.length&&p[p.l++]!=26)throw new Error("DBF EOF Marker missing "+(p.l-1)+" of "+p.length+" "+p[p.l-1].toString(16));return d.sheetRows&&(h=h.slice(0,d.sheetRows)),d.DBF=T,h}function n(c,d){var h=d||{};h.dateNF||(h.dateNF="yyyymmdd");var p=Wh(r(c,h),h);return p["!cols"]=h.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete h.DBF,p}function a(c,d){try{return $d(n(c,d),d)}catch(h){if(d&&d.WTF)throw h}return{SheetNames:[],Sheets:{}}}var i={B:8,C:250,L:1,D:8,"?":0,"":0};function l(c,d){var h=d||{};if(+h.codepage>=0&&$0(+h.codepage),h.type=="string")throw new Error("Cannot write DBF to JS string");var p=lo(),f=Mp(c,{header:1,raw:!0,cellDates:!0}),b=f[0],g=f.slice(1),S=c["!cols"]||[],y=0,N=0,A=0,P=1;for(y=0;y<b.length;++y){if(((S[y]||{}).DBF||{}).name){b[y]=S[y].DBF.name,++A;continue}if(b[y]!=null){if(++A,typeof b[y]=="number"&&(b[y]=b[y].toString(10)),typeof b[y]!="string")throw new Error("DBF Invalid column name "+b[y]+" |"+typeof b[y]+"|");if(b.indexOf(b[y])!==y){for(N=0;N<1024;++N)if(b.indexOf(b[y]+"_"+N)==-1){b[y]+="_"+N;break}}}}var T=ta(c["!ref"]),R=[],q=[],te=[];for(y=0;y<=T.e.c-T.s.c;++y){var G="",H="",M=0,re=[];for(N=0;N<g.length;++N)g[N][y]!=null&&re.push(g[N][y]);if(re.length==0||b[y]==null){R[y]="?";continue}for(N=0;N<re.length;++N){switch(typeof re[N]){case"number":H="B";break;case"string":H="C";break;case"boolean":H="L";break;case"object":H=re[N]instanceof Date?"D":"C";break;default:H="C"}M=Math.max(M,String(re[N]).length),G=G&&G!=H?"C":H}M>250&&(M=250),H=((S[y]||{}).DBF||{}).type,H=="C"&&S[y].DBF.len>M&&(M=S[y].DBF.len),G=="B"&&H=="N"&&(G="N",te[y]=S[y].DBF.dec,M=S[y].DBF.len),q[y]=G=="C"||H=="N"?M:i[G]||0,P+=q[y],R[y]=G}var I=p.next(32);for(I.write_shift(4,318902576),I.write_shift(4,g.length),I.write_shift(2,296+32*A),I.write_shift(2,P),y=0;y<4;++y)I.write_shift(4,0);for(I.write_shift(4,0|(+t[my]||3)<<8),y=0,N=0;y<b.length;++y)if(b[y]!=null){var W=p.next(32),ae=(b[y].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);W.write_shift(1,ae,"sbcs"),W.write_shift(1,R[y]=="?"?"C":R[y],"sbcs"),W.write_shift(4,N),W.write_shift(1,q[y]||i[R[y]]||0),W.write_shift(1,te[y]||0),W.write_shift(1,2),W.write_shift(4,0),W.write_shift(1,0),W.write_shift(4,0),W.write_shift(4,0),N+=q[y]||i[R[y]]||0}var ge=p.next(264);for(ge.write_shift(4,13),y=0;y<65;++y)ge.write_shift(4,0);for(y=0;y<g.length;++y){var _e=p.next(P);for(_e.write_shift(1,0),N=0;N<b.length;++N)if(b[N]!=null)switch(R[N]){case"L":_e.write_shift(1,g[y][N]==null?63:g[y][N]?84:70);break;case"B":_e.write_shift(8,g[y][N]||0,"f");break;case"N":var Le="0";for(typeof g[y][N]=="number"&&(Le=g[y][N].toFixed(te[N]||0)),A=0;A<q[N]-Le.length;++A)_e.write_shift(1,32);_e.write_shift(1,Le,"sbcs");break;case"D":g[y][N]?(_e.write_shift(4,("0000"+g[y][N].getFullYear()).slice(-4),"sbcs"),_e.write_shift(2,("00"+(g[y][N].getMonth()+1)).slice(-2),"sbcs"),_e.write_shift(2,("00"+g[y][N].getDate()).slice(-2),"sbcs")):_e.write_shift(8,"00000000","sbcs");break;case"C":var Te=String(g[y][N]!=null?g[y][N]:"").slice(0,q[N]);for(_e.write_shift(1,Te,"sbcs"),A=0;A<q[N]-Te.length;++A)_e.write_shift(1,32);break}}return p.next(1).write_shift(1,26),p.end()}return{to_workbook:a,to_sheet:n,from_sheet:l}}(),Xk=function(){var e={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1BN("+ns(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(b,g){var S=e[g];return typeof S=="number"?f2(S):S},n=function(b,g,S){var y=g.charCodeAt(0)-32<<4|S.charCodeAt(0)-48;return y==59?b:f2(y)};e["|"]=254;function a(b,g){switch(g.type){case"base64":return i(cu(b),g);case"binary":return i(b,g);case"buffer":return i(vn&&Buffer.isBuffer(b)?b.toString("binary"):of(b),g);case"array":return i(am(b),g)}throw new Error("Unrecognized type "+g.type)}function i(b,g){var S=b.split(/[\n\r]+/),y=-1,N=-1,A=0,P=0,T=[],R=[],q=null,te={},G=[],H=[],M=[],re=0,I;for(+g.codepage>=0&&$0(+g.codepage);A!==S.length;++A){re=0;var W=S[A].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(t,r),ae=W.replace(/;;/g,"\0").split(";").map(function(D){return D.replace(/\u0000/g,";")}),ge=ae[0],_e;if(W.length>0)switch(ge){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":ae[1].charAt(0)=="P"&&R.push(W.slice(3).replace(/;;/g,";"));break;case"C":var Le=!1,Te=!1,Q=!1,ye=!1,je=-1,oe=-1;for(P=1;P<ae.length;++P)switch(ae[P].charAt(0)){case"A":break;case"X":N=parseInt(ae[P].slice(1))-1,Te=!0;break;case"Y":for(y=parseInt(ae[P].slice(1))-1,Te||(N=0),I=T.length;I<=y;++I)T[I]=[];break;case"K":_e=ae[P].slice(1),_e.charAt(0)==='"'?_e=_e.slice(1,_e.length-1):_e==="TRUE"?_e=!0:_e==="FALSE"?_e=!1:isNaN(ou(_e))?isNaN(q0(_e).getDate())||(_e=Ms(_e)):(_e=ou(_e),q!==null&&ky(q)&&(_e=Py(_e))),Le=!0;break;case"E":ye=!0;var j=KA(ae[P].slice(1),{r:y,c:N});T[y][N]=[T[y][N],j];break;case"S":Q=!0,T[y][N]=[T[y][N],"S5S"];break;case"G":break;case"R":je=parseInt(ae[P].slice(1))-1;break;case"C":oe=parseInt(ae[P].slice(1))-1;break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+W)}if(Le&&(T[y][N]&&T[y][N].length==2?T[y][N][0]=_e:T[y][N]=_e,q=null),Q){if(ye)throw new Error("SYLK shared formula cannot have own formula");var B=je>-1&&T[je][oe];if(!B||!B[1])throw new Error("SYLK shared formula cannot find base");T[y][N][1]=YA(B[1],{r:y-je,c:N-oe})}break;case"F":var O=0;for(P=1;P<ae.length;++P)switch(ae[P].charAt(0)){case"X":N=parseInt(ae[P].slice(1))-1,++O;break;case"Y":for(y=parseInt(ae[P].slice(1))-1,I=T.length;I<=y;++I)T[I]=[];break;case"M":re=parseInt(ae[P].slice(1))/20;break;case"F":break;case"G":break;case"P":q=R[parseInt(ae[P].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(M=ae[P].slice(1).split(" "),I=parseInt(M[0],10);I<=parseInt(M[1],10);++I)re=parseInt(M[2],10),H[I-1]=re===0?{hidden:!0}:{wch:re},hx(H[I-1]);break;case"C":N=parseInt(ae[P].slice(1))-1,H[N]||(H[N]={});break;case"R":y=parseInt(ae[P].slice(1))-1,G[y]||(G[y]={}),re>0?(G[y].hpt=re,G[y].hpx=vw(re)):re===0&&(G[y].hidden=!0);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+W)}O<1&&(q=null);break;default:if(g&&g.WTF)throw new Error("SYLK bad record "+W)}}return G.length>0&&(te["!rows"]=G),H.length>0&&(te["!cols"]=H),g&&g.sheetRows&&(T=T.slice(0,g.sheetRows)),[T,te]}function l(b,g){var S=a(b,g),y=S[0],N=S[1],A=Wh(y,g);return ns(N).forEach(function(P){A[P]=N[P]}),A}function c(b,g){return $d(l(b,g),g)}function d(b,g,S,y){var N="C;Y"+(S+1)+";X"+(y+1)+";K";switch(b.t){case"n":N+=b.v||0,b.f&&!b.F&&(N+=";E"+px(b.f,{r:S,c:y}));break;case"b":N+=b.v?"TRUE":"FALSE";break;case"e":N+=b.w||b.v;break;case"d":N+='"'+(b.w||b.v)+'"';break;case"s":N+='"'+b.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return N}function h(b,g){g.forEach(function(S,y){var N="F;W"+(y+1)+" "+(y+1)+" ";S.hidden?N+="0":(typeof S.width=="number"&&!S.wpx&&(S.wpx=Op(S.width)),typeof S.wpx=="number"&&!S.wch&&(S.wch=Ip(S.wpx)),typeof S.wch=="number"&&(N+=Math.round(S.wch))),N.charAt(N.length-1)!=" "&&b.push(N)})}function p(b,g){g.forEach(function(S,y){var N="F;";S.hidden?N+="M0;":S.hpt?N+="M"+20*S.hpt+";":S.hpx&&(N+="M"+20*Dp(S.hpx)+";"),N.length>2&&b.push(N+"R"+(y+1))})}function f(b,g){var S=["ID;PWXL;N;E"],y=[],N=ta(b["!ref"]),A,P=Array.isArray(b),T=`\r
`;S.push("P;PGeneral"),S.push("F;P0;DG0G8;M255"),b["!cols"]&&h(S,b["!cols"]),b["!rows"]&&p(S,b["!rows"]),S.push("B;Y"+(N.e.r-N.s.r+1)+";X"+(N.e.c-N.s.c+1)+";D"+[N.s.c,N.s.r,N.e.c,N.e.r].join(" "));for(var R=N.s.r;R<=N.e.r;++R)for(var q=N.s.c;q<=N.e.c;++q){var te=Ln({r:R,c:q});A=P?(b[R]||[])[q]:b[te],!(!A||A.v==null&&(!A.f||A.F))&&y.push(d(A,b,R,q))}return S.join(T)+T+y.join(T)+T+"E"+T}return{to_workbook:c,to_sheet:l,from_sheet:f}}(),Jk=function(){function e(i,l){switch(l.type){case"base64":return t(cu(i),l);case"binary":return t(i,l);case"buffer":return t(vn&&Buffer.isBuffer(i)?i.toString("binary"):of(i),l);case"array":return t(am(i),l)}throw new Error("Unrecognized type "+l.type)}function t(i,l){for(var c=i.split(`
`),d=-1,h=-1,p=0,f=[];p!==c.length;++p){if(c[p].trim()==="BOT"){f[++d]=[],h=0;continue}if(!(d<0)){var b=c[p].trim().split(","),g=b[0],S=b[1];++p;for(var y=c[p]||"";(y.match(/["]/g)||[]).length&1&&p<c.length-1;)y+=`
`+c[++p];switch(y=y.trim(),+g){case-1:if(y==="BOT"){f[++d]=[],h=0;continue}else if(y!=="EOD")throw new Error("Unrecognized DIF special command "+y);break;case 0:y==="TRUE"?f[d][h]=!0:y==="FALSE"?f[d][h]=!1:isNaN(ou(S))?isNaN(q0(S).getDate())?f[d][h]=S:f[d][h]=Ms(S):f[d][h]=ou(S),++h;break;case 1:y=y.slice(1,y.length-1),y=y.replace(/""/g,'"'),y&&y.match(/^=".*"$/)&&(y=y.slice(2,-1)),f[d][h++]=y!==""?y:null;break}if(y==="EOD")break}}return l&&l.sheetRows&&(f=f.slice(0,l.sheetRows)),f}function r(i,l){return Wh(e(i,l),l)}function n(i,l){return $d(r(i,l),l)}var a=function(){var i=function(d,h,p,f,b){d.push(h),d.push(p+","+f),d.push('"'+b.replace(/"/g,'""')+'"')},l=function(d,h,p,f){d.push(h+","+p),d.push(h==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(d){var h=[],p=ta(d["!ref"]),f,b=Array.isArray(d);i(h,"TABLE",0,1,"sheetjs"),i(h,"VECTORS",0,p.e.r-p.s.r+1,""),i(h,"TUPLES",0,p.e.c-p.s.c+1,""),i(h,"DATA",0,0,"");for(var g=p.s.r;g<=p.e.r;++g){l(h,-1,0,"BOT");for(var S=p.s.c;S<=p.e.c;++S){var y=Ln({r:g,c:S});if(f=b?(d[g]||[])[S]:d[y],!f){l(h,1,0,"");continue}switch(f.t){case"n":var N=f.w;!N&&f.v!=null&&(N=f.v),N==null?f.f&&!f.F?l(h,1,0,"="+f.f):l(h,1,0,""):l(h,0,N,"V");break;case"b":l(h,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":l(h,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Xu(f.z||Na[14],co(Ms(f.v)))),l(h,0,f.w,"V");break;default:l(h,1,0,"")}}}l(h,-1,0,"EOD");var A=`\r
`,P=h.join(A);return P}}();return{to_workbook:n,to_sheet:r,from_sheet:a}}(),pw=function(){function e(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function t(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,b){for(var g=f.split(`
`),S=-1,y=-1,N=0,A=[];N!==g.length;++N){var P=g[N].trim().split(":");if(P[0]==="cell"){var T=Li(P[1]);if(A.length<=T.r)for(S=A.length;S<=T.r;++S)A[S]||(A[S]=[]);switch(S=T.r,y=T.c,P[2]){case"t":A[S][y]=e(P[3]);break;case"v":A[S][y]=+P[3];break;case"vtf":var R=P[P.length-1];case"vtc":switch(P[3]){case"nl":A[S][y]=!!+P[4];break;default:A[S][y]=+P[4];break}P[2]=="vtf"&&(A[S][y]=[A[S][y],R])}}}return b&&b.sheetRows&&(A=A.slice(0,b.sheetRows)),A}function n(f,b){return Wh(r(f,b),b)}function a(f,b){return $d(n(f,b),b)}var i=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),l=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,c=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),d="--SocialCalcSpreadsheetControlSave--";function h(f){if(!f||!f["!ref"])return"";for(var b=[],g=[],S,y="",N=Wo(f["!ref"]),A=Array.isArray(f),P=N.s.r;P<=N.e.r;++P)for(var T=N.s.c;T<=N.e.c;++T)if(y=Ln({r:P,c:T}),S=A?(f[P]||[])[T]:f[y],!(!S||S.v==null||S.t==="z")){switch(g=["cell",y,"t"],S.t){case"s":case"str":g.push(t(S.v));break;case"n":S.f?(g[2]="vtf",g[3]="n",g[4]=S.v,g[5]=t(S.f)):(g[2]="v",g[3]=S.v);break;case"b":g[2]="vt"+(S.f?"f":"c"),g[3]="nl",g[4]=S.v?"1":"0",g[5]=t(S.f||(S.v?"TRUE":"FALSE"));break;case"d":var R=co(Ms(S.v));g[2]="vtc",g[3]="nd",g[4]=""+R,g[5]=S.w||Xu(S.z||Na[14],R);break;case"e":continue}b.push(g.join(":"))}return b.push("sheet:c:"+(N.e.c-N.s.c+1)+":r:"+(N.e.r-N.s.r+1)+":tvf:1"),b.push("valueformat:1:text-wiki"),b.join(`
`)}function p(f){return[i,l,c,l,h(f),d].join(`
`)}return{to_workbook:a,to_sheet:n,from_sheet:p}}(),Zk=function(){function e(p,f,b,g,S){S.raw?f[b][g]=p:p===""||(p==="TRUE"?f[b][g]=!0:p==="FALSE"?f[b][g]=!1:isNaN(ou(p))?isNaN(q0(p).getDate())?f[b][g]=p:f[b][g]=Ms(p):f[b][g]=ou(p))}function t(p,f){var b=f||{},g=[];if(!p||p.length===0)return g;for(var S=p.split(/[\r\n]/),y=S.length-1;y>=0&&S[y].length===0;)--y;for(var N=10,A=0,P=0;P<=y;++P)A=S[P].indexOf(" "),A==-1?A=S[P].length:A++,N=Math.max(N,A);for(P=0;P<=y;++P){g[P]=[];var T=0;for(e(S[P].slice(0,N).trim(),g,P,T,b),T=1;T<=(S[P].length-N)/10+1;++T)e(S[P].slice(N+(T-1)*10,N+T*10).trim(),g,P,T,b)}return b.sheetRows&&(g=g.slice(0,b.sheetRows)),g}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function a(p){for(var f={},b=!1,g=0,S=0;g<p.length;++g)(S=p.charCodeAt(g))==34?b=!b:!b&&S in r&&(f[S]=(f[S]||0)+1);S=[];for(g in f)Object.prototype.hasOwnProperty.call(f,g)&&S.push([f[g],g]);if(!S.length){f=n;for(g in f)Object.prototype.hasOwnProperty.call(f,g)&&S.push([f[g],g])}return S.sort(function(y,N){return y[0]-N[0]||n[y[1]]-n[N[1]]}),r[S.pop()[1]]||44}function i(p,f){var b=f||{},g="",S=b.dense?[]:{},y={s:{c:0,r:0},e:{c:0,r:0}};p.slice(0,4)=="sep="?p.charCodeAt(5)==13&&p.charCodeAt(6)==10?(g=p.charAt(4),p=p.slice(7)):p.charCodeAt(5)==13||p.charCodeAt(5)==10?(g=p.charAt(4),p=p.slice(6)):g=a(p.slice(0,1024)):b.FS?g=b.FS:g=a(p.slice(0,1024));var N=0,A=0,P=0,T=0,R=0,q=g.charCodeAt(0),te=!1,G=0,H=p.charCodeAt(0);p=p.replace(/\r\n/mg,`
`);var M=b.dateNF!=null?p6(b.dateNF):null;function re(){var I=p.slice(T,R),W={};if(I.charAt(0)=='"'&&I.charAt(I.length-1)=='"'&&(I=I.slice(1,-1).replace(/""/g,'"')),I.length===0)W.t="z";else if(b.raw)W.t="s",W.v=I;else if(I.trim().length===0)W.t="s",W.v=I;else if(I.charCodeAt(0)==61)I.charCodeAt(1)==34&&I.charCodeAt(I.length-1)==34?(W.t="s",W.v=I.slice(2,-1).replace(/""/g,'"')):XA(I)?(W.t="n",W.f=I.slice(1)):(W.t="s",W.v=I);else if(I=="TRUE")W.t="b",W.v=!0;else if(I=="FALSE")W.t="b",W.v=!1;else if(!isNaN(P=ou(I)))W.t="n",b.cellText!==!1&&(W.w=I),W.v=P;else if(!isNaN(q0(I).getDate())||M&&I.match(M)){W.z=b.dateNF||Na[14];var ae=0;M&&I.match(M)&&(I=m6(I,b.dateNF,I.match(M)||[]),ae=1),b.cellDates?(W.t="d",W.v=Ms(I,ae)):(W.t="n",W.v=co(Ms(I,ae))),b.cellText!==!1&&(W.w=Xu(W.z,W.v instanceof Date?co(W.v):W.v)),b.cellNF||delete W.z}else W.t="s",W.v=I;if(W.t=="z"||(b.dense?(S[N]||(S[N]=[]),S[N][A]=W):S[Ln({c:A,r:N})]=W),T=R+1,H=p.charCodeAt(T),y.e.c<A&&(y.e.c=A),y.e.r<N&&(y.e.r=N),G==q)++A;else if(A=0,++N,b.sheetRows&&b.sheetRows<=N)return!0}e:for(;R<p.length;++R)switch(G=p.charCodeAt(R)){case 34:H===34&&(te=!te);break;case q:case 10:case 13:if(!te&&re())break e;break}return R-T>0&&re(),S["!ref"]=ri(y),S}function l(p,f){return!(f&&f.PRN)||f.FS||p.slice(0,4)=="sep="||p.indexOf("	")>=0||p.indexOf(",")>=0||p.indexOf(";")>=0?i(p,f):Wh(t(p,f),f)}function c(p,f){var b="",g=f.type=="string"?[0,0,0,0]:uP(p,f);switch(f.type){case"base64":b=cu(p);break;case"binary":b=p;break;case"buffer":f.codepage==65001?b=p.toString("utf8"):f.codepage&&typeof Ep<"u"||(b=vn&&Buffer.isBuffer(p)?p.toString("binary"):of(p));break;case"array":b=am(p);break;case"string":b=p;break;default:throw new Error("Unrecognized type "+f.type)}return g[0]==239&&g[1]==187&&g[2]==191?b=N0(b.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?b=N0(b):f.type=="binary"&&typeof Ep<"u",b.slice(0,19)=="socialcalc:version:"?pw.to_sheet(f.type=="string"?b:N0(b),f):l(b,f)}function d(p,f){return $d(c(p,f),f)}function h(p){for(var f=[],b=ta(p["!ref"]),g,S=Array.isArray(p),y=b.s.r;y<=b.e.r;++y){for(var N=[],A=b.s.c;A<=b.e.c;++A){var P=Ln({r:y,c:A});if(g=S?(p[y]||[])[A]:p[P],!g||g.v==null){N.push("          ");continue}for(var T=(g.w||(uu(g),g.w)||"").slice(0,10);T.length<10;)T+=" ";N.push(T+(A===0?" ":""))}f.push(N.join(""))}return f.join(`
`)}return{to_workbook:d,to_sheet:c,from_sheet:h}}(),H2=function(){function e(j,B,O){if(j){Bo(j,j.l||0);for(var D=O.Enum||je;j.l<j.length;){var Z=j.read_shift(2),pe=D[Z]||D[65535],be=j.read_shift(2),Se=j.l+be,Ee=pe.f&&pe.f(j,be,O);if(j.l=Se,B(Ee,pe,Z))return}}}function t(j,B){switch(B.type){case"base64":return r(Jl(cu(j)),B);case"binary":return r(Jl(j),B);case"buffer":case"array":return r(j,B)}throw"Unsupported type "+B.type}function r(j,B){if(!j)return j;var O=B||{},D=O.dense?[]:{},Z="Sheet1",pe="",be=0,Se={},Ee=[],Ye=[],at={s:{r:0,c:0},e:{r:0,c:0}},st=O.sheetRows||0;if(j[2]==0&&(j[3]==8||j[3]==9)&&j.length>=16&&j[14]==5&&j[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(j[2]==2)O.Enum=je,e(j,function(Pe,rt,Je){switch(Je){case 0:O.vers=Pe,Pe>=4096&&(O.qpro=!0);break;case 6:at=Pe;break;case 204:Pe&&(pe=Pe);break;case 222:pe=Pe;break;case 15:case 51:O.qpro||(Pe[1].v=Pe[1].v.slice(1));case 13:case 14:case 16:Je==14&&(Pe[2]&112)==112&&(Pe[2]&15)>1&&(Pe[2]&15)<15&&(Pe[1].z=O.dateNF||Na[14],O.cellDates&&(Pe[1].t="d",Pe[1].v=Py(Pe[1].v))),O.qpro&&Pe[3]>be&&(D["!ref"]=ri(at),Se[Z]=D,Ee.push(Z),D=O.dense?[]:{},at={s:{r:0,c:0},e:{r:0,c:0}},be=Pe[3],Z=pe||"Sheet"+(be+1),pe="");var kt=O.dense?(D[Pe[0].r]||[])[Pe[0].c]:D[Ln(Pe[0])];if(kt){kt.t=Pe[1].t,kt.v=Pe[1].v,Pe[1].z!=null&&(kt.z=Pe[1].z),Pe[1].f!=null&&(kt.f=Pe[1].f);break}O.dense?(D[Pe[0].r]||(D[Pe[0].r]=[]),D[Pe[0].r][Pe[0].c]=Pe[1]):D[Ln(Pe[0])]=Pe[1];break}},O);else if(j[2]==26||j[2]==14)O.Enum=oe,j[2]==14&&(O.qpro=!0,j.l=0),e(j,function(Pe,rt,Je){switch(Je){case 204:Z=Pe;break;case 22:Pe[1].v=Pe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Pe[3]>be&&(D["!ref"]=ri(at),Se[Z]=D,Ee.push(Z),D=O.dense?[]:{},at={s:{r:0,c:0},e:{r:0,c:0}},be=Pe[3],Z="Sheet"+(be+1)),st>0&&Pe[0].r>=st)break;O.dense?(D[Pe[0].r]||(D[Pe[0].r]=[]),D[Pe[0].r][Pe[0].c]=Pe[1]):D[Ln(Pe[0])]=Pe[1],at.e.c<Pe[0].c&&(at.e.c=Pe[0].c),at.e.r<Pe[0].r&&(at.e.r=Pe[0].r);break;case 27:Pe[14e3]&&(Ye[Pe[14e3][0]]=Pe[14e3][1]);break;case 1537:Ye[Pe[0]]=Pe[1],Pe[0]==be&&(Z=Pe[1]);break}},O);else throw new Error("Unrecognized LOTUS BOF "+j[2]);if(D["!ref"]=ri(at),Se[pe||Z]=D,Ee.push(pe||Z),!Ye.length)return{SheetNames:Ee,Sheets:Se};for(var ft={},le=[],dt=0;dt<Ye.length;++dt)Se[Ee[dt]]?(le.push(Ye[dt]||Ee[dt]),ft[Ye[dt]]=Se[Ye[dt]]||Se[Ee[dt]]):(le.push(Ye[dt]),ft[Ye[dt]]={"!ref":"A1"});return{SheetNames:le,Sheets:ft}}function n(j,B){var O=B||{};if(+O.codepage>=0&&$0(+O.codepage),O.type=="string")throw new Error("Cannot write WK1 to JS string");var D=lo(),Z=ta(j["!ref"]),pe=Array.isArray(j),be=[];St(D,0,i(1030)),St(D,6,d(Z));for(var Se=Math.min(Z.e.r,8191),Ee=Z.s.r;Ee<=Se;++Ee)for(var Ye=rs(Ee),at=Z.s.c;at<=Z.e.c;++at){Ee===Z.s.r&&(be[at]=xs(at));var st=be[at]+Ye,ft=pe?(j[Ee]||[])[at]:j[st];if(!(!ft||ft.t=="z"))if(ft.t=="n")(ft.v|0)==ft.v&&ft.v>=-32768&&ft.v<=32767?St(D,13,g(Ee,at,ft.v)):St(D,14,y(Ee,at,ft.v));else{var le=uu(ft);St(D,15,f(Ee,at,le.slice(0,239)))}}return St(D,1),D.end()}function a(j,B){var O=B||{};if(+O.codepage>=0&&$0(+O.codepage),O.type=="string")throw new Error("Cannot write WK3 to JS string");var D=lo();St(D,0,l(j));for(var Z=0,pe=0;Z<j.SheetNames.length;++Z)(j.Sheets[j.SheetNames[Z]]||{})["!ref"]&&St(D,27,ye(j.SheetNames[Z],pe++));var be=0;for(Z=0;Z<j.SheetNames.length;++Z){var Se=j.Sheets[j.SheetNames[Z]];if(!(!Se||!Se["!ref"])){for(var Ee=ta(Se["!ref"]),Ye=Array.isArray(Se),at=[],st=Math.min(Ee.e.r,8191),ft=Ee.s.r;ft<=st;++ft)for(var le=rs(ft),dt=Ee.s.c;dt<=Ee.e.c;++dt){ft===Ee.s.r&&(at[dt]=xs(dt));var Pe=at[dt]+le,rt=Ye?(Se[ft]||[])[dt]:Se[Pe];if(!(!rt||rt.t=="z"))if(rt.t=="n")St(D,23,re(ft,dt,be,rt.v));else{var Je=uu(rt);St(D,22,G(ft,dt,be,Je.slice(0,239)))}}++be}}return St(D,1),D.end()}function i(j){var B=tt(2);return B.write_shift(2,j),B}function l(j){var B=tt(26);B.write_shift(2,4096),B.write_shift(2,4),B.write_shift(4,0);for(var O=0,D=0,Z=0,pe=0;pe<j.SheetNames.length;++pe){var be=j.SheetNames[pe],Se=j.Sheets[be];if(!(!Se||!Se["!ref"])){++Z;var Ee=Wo(Se["!ref"]);O<Ee.e.r&&(O=Ee.e.r),D<Ee.e.c&&(D=Ee.e.c)}}return O>8191&&(O=8191),B.write_shift(2,O),B.write_shift(1,Z),B.write_shift(1,D),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(1,1),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(4,0),B}function c(j,B,O){var D={s:{c:0,r:0},e:{c:0,r:0}};return B==8&&O.qpro?(D.s.c=j.read_shift(1),j.l++,D.s.r=j.read_shift(2),D.e.c=j.read_shift(1),j.l++,D.e.r=j.read_shift(2),D):(D.s.c=j.read_shift(2),D.s.r=j.read_shift(2),B==12&&O.qpro&&(j.l+=2),D.e.c=j.read_shift(2),D.e.r=j.read_shift(2),B==12&&O.qpro&&(j.l+=2),D.s.c==65535&&(D.s.c=D.e.c=D.s.r=D.e.r=0),D)}function d(j){var B=tt(8);return B.write_shift(2,j.s.c),B.write_shift(2,j.s.r),B.write_shift(2,j.e.c),B.write_shift(2,j.e.r),B}function h(j,B,O){var D=[{c:0,r:0},{t:"n",v:0},0,0];return O.qpro&&O.vers!=20768?(D[0].c=j.read_shift(1),D[3]=j.read_shift(1),D[0].r=j.read_shift(2),j.l+=2):(D[2]=j.read_shift(1),D[0].c=j.read_shift(2),D[0].r=j.read_shift(2)),D}function p(j,B,O){var D=j.l+B,Z=h(j,B,O);if(Z[1].t="s",O.vers==20768){j.l++;var pe=j.read_shift(1);return Z[1].v=j.read_shift(pe,"utf8"),Z}return O.qpro&&j.l++,Z[1].v=j.read_shift(D-j.l,"cstr"),Z}function f(j,B,O){var D=tt(7+O.length);D.write_shift(1,255),D.write_shift(2,B),D.write_shift(2,j),D.write_shift(1,39);for(var Z=0;Z<D.length;++Z){var pe=O.charCodeAt(Z);D.write_shift(1,pe>=128?95:pe)}return D.write_shift(1,0),D}function b(j,B,O){var D=h(j,B,O);return D[1].v=j.read_shift(2,"i"),D}function g(j,B,O){var D=tt(7);return D.write_shift(1,255),D.write_shift(2,B),D.write_shift(2,j),D.write_shift(2,O,"i"),D}function S(j,B,O){var D=h(j,B,O);return D[1].v=j.read_shift(8,"f"),D}function y(j,B,O){var D=tt(13);return D.write_shift(1,255),D.write_shift(2,B),D.write_shift(2,j),D.write_shift(8,O,"f"),D}function N(j,B,O){var D=j.l+B,Z=h(j,B,O);if(Z[1].v=j.read_shift(8,"f"),O.qpro)j.l=D;else{var pe=j.read_shift(2);R(j.slice(j.l,j.l+pe),Z),j.l+=pe}return Z}function A(j,B,O){var D=B&32768;return B&=-32769,B=(D?j:0)+(B>=8192?B-16384:B),(D?"":"$")+(O?xs(B):rs(B))}var P={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},T=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function R(j,B){Bo(j,0);for(var O=[],D=0,Z="",pe="",be="",Se="";j.l<j.length;){var Ee=j[j.l++];switch(Ee){case 0:O.push(j.read_shift(8,"f"));break;case 1:pe=A(B[0].c,j.read_shift(2),!0),Z=A(B[0].r,j.read_shift(2),!1),O.push(pe+Z);break;case 2:{var Ye=A(B[0].c,j.read_shift(2),!0),at=A(B[0].r,j.read_shift(2),!1);pe=A(B[0].c,j.read_shift(2),!0),Z=A(B[0].r,j.read_shift(2),!1),O.push(Ye+at+":"+pe+Z)}break;case 3:if(j.l<j.length){console.error("WK1 premature formula end");return}break;case 4:O.push("("+O.pop()+")");break;case 5:O.push(j.read_shift(2));break;case 6:{for(var st="";Ee=j[j.l++];)st+=String.fromCharCode(Ee);O.push('"'+st.replace(/"/g,'""')+'"')}break;case 8:O.push("-"+O.pop());break;case 23:O.push("+"+O.pop());break;case 22:O.push("NOT("+O.pop()+")");break;case 20:case 21:Se=O.pop(),be=O.pop(),O.push(["AND","OR"][Ee-20]+"("+be+","+Se+")");break;default:if(Ee<32&&T[Ee])Se=O.pop(),be=O.pop(),O.push(be+T[Ee]+Se);else if(P[Ee]){if(D=P[Ee][1],D==69&&(D=j[j.l++]),D>O.length){console.error("WK1 bad formula parse 0x"+Ee.toString(16)+":|"+O.join("|")+"|");return}var ft=O.slice(-D);O.length-=D,O.push(P[Ee][0]+"("+ft.join(",")+")")}else return Ee<=7?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=24?console.error("WK1 unsupported op "+Ee.toString(16)):Ee<=30?console.error("WK1 invalid opcode "+Ee.toString(16)):Ee<=115?console.error("WK1 unsupported function opcode "+Ee.toString(16)):console.error("WK1 unrecognized opcode "+Ee.toString(16))}}O.length==1?B[1].f=""+O[0]:console.error("WK1 bad formula parse |"+O.join("|")+"|")}function q(j){var B=[{c:0,r:0},{t:"n",v:0},0];return B[0].r=j.read_shift(2),B[3]=j[j.l++],B[0].c=j[j.l++],B}function te(j,B){var O=q(j);return O[1].t="s",O[1].v=j.read_shift(B-4,"cstr"),O}function G(j,B,O,D){var Z=tt(6+D.length);Z.write_shift(2,j),Z.write_shift(1,O),Z.write_shift(1,B),Z.write_shift(1,39);for(var pe=0;pe<D.length;++pe){var be=D.charCodeAt(pe);Z.write_shift(1,be>=128?95:be)}return Z.write_shift(1,0),Z}function H(j,B){var O=q(j);O[1].v=j.read_shift(2);var D=O[1].v>>1;if(O[1].v&1)switch(D&7){case 0:D=(D>>3)*5e3;break;case 1:D=(D>>3)*500;break;case 2:D=(D>>3)/20;break;case 3:D=(D>>3)/200;break;case 4:D=(D>>3)/2e3;break;case 5:D=(D>>3)/2e4;break;case 6:D=(D>>3)/16;break;case 7:D=(D>>3)/64;break}return O[1].v=D,O}function M(j,B){var O=q(j),D=j.read_shift(4),Z=j.read_shift(4),pe=j.read_shift(2);if(pe==65535)return D===0&&Z===3221225472?(O[1].t="e",O[1].v=15):D===0&&Z===3489660928?(O[1].t="e",O[1].v=42):O[1].v=0,O;var be=pe&32768;return pe=(pe&32767)-16446,O[1].v=(1-be*2)*(Z*Math.pow(2,pe+32)+D*Math.pow(2,pe)),O}function re(j,B,O,D){var Z=tt(14);if(Z.write_shift(2,j),Z.write_shift(1,O),Z.write_shift(1,B),D==0)return Z.write_shift(4,0),Z.write_shift(4,0),Z.write_shift(2,65535),Z;var pe=0,be=0,Se=0,Ee=0;return D<0&&(pe=1,D=-D),be=Math.log2(D)|0,D/=Math.pow(2,be-31),Ee=D>>>0,Ee&2147483648||(D/=2,++be,Ee=D>>>0),D-=Ee,Ee|=2147483648,Ee>>>=0,D*=Math.pow(2,32),Se=D>>>0,Z.write_shift(4,Se),Z.write_shift(4,Ee),be+=16383+(pe?32768:0),Z.write_shift(2,be),Z}function I(j,B){var O=M(j);return j.l+=B-14,O}function W(j,B){var O=q(j),D=j.read_shift(4);return O[1].v=D>>6,O}function ae(j,B){var O=q(j),D=j.read_shift(8,"f");return O[1].v=D,O}function ge(j,B){var O=ae(j);return j.l+=B-10,O}function _e(j,B){return j[j.l+B-1]==0?j.read_shift(B,"cstr"):""}function Le(j,B){var O=j[j.l++];O>B-1&&(O=B-1);for(var D="";D.length<O;)D+=String.fromCharCode(j[j.l++]);return D}function Te(j,B,O){if(!(!O.qpro||B<21)){var D=j.read_shift(1);j.l+=17,j.l+=1,j.l+=2;var Z=j.read_shift(B-21,"cstr");return[D,Z]}}function Q(j,B){for(var O={},D=j.l+B;j.l<D;){var Z=j.read_shift(2);if(Z==14e3){for(O[Z]=[0,""],O[Z][0]=j.read_shift(2);j[j.l];)O[Z][1]+=String.fromCharCode(j[j.l]),j.l++;j.l++}}return O}function ye(j,B){var O=tt(5+j.length);O.write_shift(2,14e3),O.write_shift(2,B);for(var D=0;D<j.length;++D){var Z=j.charCodeAt(D);O[O.l++]=Z>127?95:Z}return O[O.l++]=0,O}var je={0:{n:"BOF",f:cw},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:c},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:b},14:{n:"NUMBER",f:S},15:{n:"LABEL",f:p},16:{n:"FORMULA",f:N},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:p},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:_e},222:{n:"SHEETNAMELP",f:Le},65535:{n:""}},oe={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:te},23:{n:"NUMBER17",f:M},24:{n:"NUMBER18",f:H},25:{n:"FORMULA19",f:I},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:Q},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:W},38:{n:"??"},39:{n:"NUMBER27",f:ae},40:{n:"FORMULA28",f:ge},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:_e},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Te},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:a,to_workbook:t}}(),Qk=/^\s|\s$|[\t\n\r]/;function mw(e,t){if(!t.bookSST)return"";var r=[ni];r[r.length]=wt("sst",null,{xmlns:Hh[0],count:e.Count,uniqueCount:e.Unique});for(var n=0;n!=e.length;++n)if(e[n]!=null){var a=e[n],i="<si>";a.r?i+=a.r:(i+="<t",a.t||(a.t=""),a.t.match(Qk)&&(i+=' xml:space="preserve"'),i+=">"+Pn(a.t)+"</t>"),i+="</si>",r[r.length]=i}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function eA(e){return[e.read_shift(4),e.read_shift(4)]}function tA(e,t){return t||(t=tt(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}var rA=V6;function nA(e){var t=lo();ut(t,159,tA(e));for(var r=0;r<e.length;++r)ut(t,19,rA(e[r]));return ut(t,160),t.end()}function aA(e){for(var t=[],r=e.split(""),n=0;n<r.length;++n)t[n]=r[n].charCodeAt(0);return t}function gw(e){var t=0,r,n=aA(e),a=n.length+1,i,l,c,d,h;for(r=Rd(a),r[0]=n.length,i=1;i!=a;++i)r[i]=n[i-1];for(i=a-1;i>=0;--i)l=r[i],c=t&16384?1:0,d=t<<1&32767,h=c|d,t=h^l;return t^52811}var iA=function(){function e(a,i){switch(i.type){case"base64":return t(cu(a),i);case"binary":return t(a,i);case"buffer":return t(vn&&Buffer.isBuffer(a)?a.toString("binary"):of(a),i);case"array":return t(am(a),i)}throw new Error("Unrecognized type "+i.type)}function t(a,i){var l=i||{},c=l.dense?[]:{},d=a.match(/\\trowd.*?\\row\b/g);if(!d.length)throw new Error("RTF missing table");var h={s:{c:0,r:0},e:{c:0,r:d.length-1}};return d.forEach(function(p,f){Array.isArray(c)&&(c[f]=[]);for(var b=/\\\w+\b/g,g=0,S,y=-1;S=b.exec(p);){switch(S[0]){case"\\cell":var N=p.slice(g,b.lastIndex-S[0].length);if(N[0]==" "&&(N=N.slice(1)),++y,N.length){var A={v:N,t:"s"};Array.isArray(c)?c[f][y]=A:c[Ln({r:f,c:y})]=A}break}g=b.lastIndex}y>h.e.c&&(h.e.c=y)}),c["!ref"]=ri(h),c}function r(a,i){return $d(e(a,i),i)}function n(a){for(var i=["{\\rtf1\\ansi"],l=ta(a["!ref"]),c,d=Array.isArray(a),h=l.s.r;h<=l.e.r;++h){i.push("\\trowd\\trautofit1");for(var p=l.s.c;p<=l.e.c;++p)i.push("\\cellx"+(p+1));for(i.push("\\pard\\intbl"),p=l.s.c;p<=l.e.c;++p){var f=Ln({r:h,c:p});c=d?(a[h]||[])[p]:a[f],!(!c||c.v==null&&(!c.f||c.F))&&(i.push(" "+(c.w||(uu(c),c.w))),i.push("\\cell"))}i.push("\\pard\\intbl\\row")}return i.join("")+"}"}return{to_workbook:r,to_sheet:e,from_sheet:n}}();function W2(e){for(var t=0,r=1;t!=3;++t)r=r*256+(e[t]>255?255:e[t]<0?0:e[t]);return r.toString(16).toUpperCase().slice(1)}var sA=6,lu=sA;function Op(e){return Math.floor((e+Math.round(128/lu)/256)*lu)}function Ip(e){return Math.floor((e-5)/lu*100+.5)/100}function b1(e){return Math.round((e*lu+5)/lu*256)/256}function hx(e){e.width?(e.wpx=Op(e.width),e.wch=Ip(e.wpx),e.MDW=lu):e.wpx?(e.wch=Ip(e.wpx),e.width=b1(e.wch),e.MDW=lu):typeof e.wch=="number"&&(e.width=b1(e.wch),e.wpx=Op(e.width),e.MDW=lu),e.customWidth&&delete e.customWidth}var oA=96,xw=oA;function Dp(e){return e*96/xw}function vw(e){return e*xw/96}function lA(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)e[n]!=null&&(t[t.length]=wt("numFmt",null,{numFmtId:n,formatCode:Pn(e[n])}))}),t.length===1?"":(t[t.length]="</numFmts>",t[0]=wt("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function cA(e){var t=[];return t[t.length]=wt("cellXfs",null),e.forEach(function(r){t[t.length]=wt("xf",null,r)}),t[t.length]="</cellXfs>",t.length===2?"":(t[0]=wt("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}function bw(e,t){var r=[ni,wt("styleSheet",null,{xmlns:Hh[0],"xmlns:vt":Pi.vt})],n;return e.SSF&&(n=lA(e.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=cA(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function uA(e,t){var r=e.read_shift(2),n=vs(e);return[r,n]}function dA(e,t,r){r||(r=tt(6+4*t.length)),r.write_shift(2,e),Ri(t,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function hA(e,t,r){var n={};n.sz=e.read_shift(2)/20;var a=Q6(e);a.fItalic&&(n.italic=1),a.fCondense&&(n.condense=1),a.fExtend&&(n.extend=1),a.fShadow&&(n.shadow=1),a.fOutline&&(n.outline=1),a.fStrikeout&&(n.strike=1);var i=e.read_shift(2);switch(i===700&&(n.bold=1),e.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var l=e.read_shift(1);l!=0&&(n.underline=l);var c=e.read_shift(1);c>0&&(n.family=c);var d=e.read_shift(1);switch(d>0&&(n.charset=d),e.l++,n.color=Z6(e),e.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=vs(e),n}function fA(e,t){t||(t=tt(25+4*32)),t.write_shift(2,e.sz*20),ek(e,t),t.write_shift(2,e.bold?700:400);var r=0;e.vertAlign=="superscript"?r=1:e.vertAlign=="subscript"&&(r=2),t.write_shift(2,r),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Rp(e.color,t);var n=0;return e.scheme=="major"&&(n=1),e.scheme=="minor"&&(n=2),t.write_shift(1,n),Ri(e.name,t),t.length>t.l?t.slice(0,t.l):t}var pA=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],fg,mA=Dc;function V2(e,t){t||(t=tt(4*3+8*7+16*1)),fg||(fg=ex(pA));var r=fg[e.patternType];r==null&&(r=40),t.write_shift(4,r);var n=0;if(r!=40)for(Rp({auto:1},t),Rp({auto:1},t);n<12;++n)t.write_shift(4,0);else{for(;n<4;++n)t.write_shift(4,0);for(;n<12;++n)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function gA(e,t){var r=e.l+t,n=e.read_shift(2),a=e.read_shift(2);return e.l=r,{ixfe:n,numFmtId:a}}function _w(e,t,r){r||(r=tt(16)),r.write_shift(2,t||0),r.write_shift(2,e.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function f0(e,t){return t||(t=tt(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var xA=Dc;function vA(e,t){return t||(t=tt(51)),t.write_shift(1,0),f0(null,t),f0(null,t),f0(null,t),f0(null,t),f0(null,t),t.length>t.l?t.slice(0,t.l):t}function bA(e,t){return t||(t=tt(12+4*10)),t.write_shift(4,e.xfId),t.write_shift(2,1),t.write_shift(1,+e.builtinId),t.write_shift(1,0),Lp(e.name||"",t),t.length>t.l?t.slice(0,t.l):t}function _A(e,t,r){var n=tt(2052);return n.write_shift(4,e),Lp(t,n),Lp(r,n),n.length>n.l?n.slice(0,n.l):n}function yA(e,t){if(t){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&++r}),r!=0&&(ut(e,615,Ql(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&ut(e,44,dA(a,t[a]))}),ut(e,616))}}function wA(e){var t=1;ut(e,611,Ql(t)),ut(e,43,fA({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),ut(e,612)}function SA(e){var t=2;ut(e,603,Ql(t)),ut(e,45,V2({patternType:"none"})),ut(e,45,V2({patternType:"gray125"})),ut(e,604)}function NA(e){var t=1;ut(e,613,Ql(t)),ut(e,46,vA()),ut(e,614)}function jA(e){var t=1;ut(e,626,Ql(t)),ut(e,47,_w({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),ut(e,627)}function EA(e,t){ut(e,617,Ql(t.length)),t.forEach(function(r){ut(e,47,_w(r,0))}),ut(e,618)}function kA(e){var t=1;ut(e,619,Ql(t)),ut(e,48,bA({xfId:0,builtinId:0,name:"Normal"})),ut(e,620)}function AA(e){var t=0;ut(e,505,Ql(t)),ut(e,506)}function CA(e){var t=0;ut(e,508,_A(t,"TableStyleMedium9","PivotStyleMedium4")),ut(e,509)}function TA(e,t){var r=lo();return ut(r,278),yA(r,e.SSF),wA(r),SA(r),NA(r),jA(r),EA(r,t.cellXfs),kA(r),AA(r),CA(r),ut(r,279),r.end()}function yw(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&typeof e.raw=="string")return e.raw;var r=[ni];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function PA(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:vs(e)}}function LA(e){var t=tt(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),Ri(e.name,t),t.slice(0,t.l)}function RA(e){for(var t=[],r=e.read_shift(4);r-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}function FA(e){var t=tt(4+8*e.length);t.write_shift(4,e.length);for(var r=0;r<e.length;++r)t.write_shift(4,e[r][0]),t.write_shift(4,e[r][1]);return t}function OA(e,t){var r=tt(8+2*t.length);return r.write_shift(4,e),Ri(t,r),r.slice(0,r.l)}function IA(e){return e.l+=4,e.read_shift(4)!=0}function DA(e,t){var r=tt(8);return r.write_shift(4,e),r.write_shift(4,1),r}function BA(){var e=lo();return ut(e,332),ut(e,334,Ql(1)),ut(e,335,LA({name:"XLDAPR",version:12e4,flags:3496657072})),ut(e,336),ut(e,339,OA(1,"XLDAPR")),ut(e,52),ut(e,35,Ql(514)),ut(e,4096,Ql(0)),ut(e,4097,gl(1)),ut(e,36),ut(e,53),ut(e,340),ut(e,337,DA(1)),ut(e,51,FA([[1,0]])),ut(e,338),ut(e,333),e.end()}function ww(){var e=[ni];return e.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),e.join("")}function MA(e){var t={};t.i=e.read_shift(4);var r={};r.r=e.read_shift(4),r.c=e.read_shift(4),t.r=Ln(r);var n=e.read_shift(1);return n&2&&(t.l="1"),n&8&&(t.a="1"),t}var Eh=1024;function Sw(e,t){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),a=[wt("xml",null,{"xmlns:v":Mo.v,"xmlns:o":Mo.o,"xmlns:x":Mo.x,"xmlns:mv":Mo.mv}).replace(/\/>/,">"),wt("o:shapelayout",wt("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),wt("v:shapetype",[wt("v:stroke",null,{joinstyle:"miter"}),wt("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Eh<e*1e3;)Eh+=1e3;return t.forEach(function(i){var l=Li(i[0]),c={color2:"#BEFF82",type:"gradient"};c.type=="gradient"&&(c.angle="-180");var d=c.type=="gradient"?wt("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,h=wt("v:fill",d,c),p={on:"t",obscured:"t"};++Eh,a=a.concat(["<v:shape"+W0({id:"_x0000_s"+Eh,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(i[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",h,wt("v:shadow",null,p),wt("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ts("x:Anchor",[l.c+1,0,l.r+1,0,l.c+3,20,l.r+5,20].join(",")),ts("x:AutoFill","False"),ts("x:Row",String(l.r)),ts("x:Column",String(l.c)),i[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),a.push("</xml>"),a.join("")}function Nw(e){var t=[ni,wt("comments",null,{xmlns:Hh[0]})],r=[];return t.push("<authors>"),e.forEach(function(n){n[1].forEach(function(a){var i=Pn(a.a);r.indexOf(i)==-1&&(r.push(i),t.push("<author>"+i+"</author>")),a.T&&a.ID&&r.indexOf("tc="+a.ID)==-1&&(r.push("tc="+a.ID),t.push("<author>tc="+a.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(n){var a=0,i=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?a=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(d){d.a&&(a=r.indexOf(Pn(d.a))),i.push(d.t||"")}),t.push('<comment ref="'+n[0]+'" authorId="'+a+'"><text>'),i.length<=1)t.push(ts("t",Pn(i[0]||"")));else{for(var l=`Comment:
    `+i[0]+`
`,c=1;c<i.length;++c)l+=`Reply:
    `+i[c]+`
`;t.push(ts("t",Pn(l)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function UA(e,t,r){var n=[ni,wt("ThreadedComments",null,{xmlns:Pi.TCMNT}).replace(/[\/]>/,">")];return e.forEach(function(a){var i="";(a[1]||[]).forEach(function(l,c){if(!l.T){delete l.ID;return}l.a&&t.indexOf(l.a)==-1&&t.push(l.a);var d={ref:a[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};c==0?i=d.id:d.parentId=i,l.ID=d.id,l.a&&(d.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(l.a)).slice(-12)+"}"),n.push(wt("threadedComment",ts("text",l.t||""),d))})}),n.push("</ThreadedComments>"),n.join("")}function $A(e){var t=[ni,wt("personList",null,{xmlns:Pi.TCMNT,"xmlns:x":Hh[0]}).replace(/[\/]>/,">")];return e.forEach(function(r,n){t.push(wt("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),t.push("</personList>"),t.join("")}function zA(e){var t={};t.iauthor=e.read_shift(4);var r=Wd(e);return t.rfx=r.s,t.ref=Ln(r.s),e.l+=16,t}function qA(e,t){return t==null&&(t=tt(36)),t.write_shift(4,e[1].iauthor),Vh(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}var HA=vs;function WA(e){return Ri(e.slice(0,54))}function VA(e){var t=lo(),r=[];return ut(t,628),ut(t,630),e.forEach(function(n){n[1].forEach(function(a){r.indexOf(a.a)>-1||(r.push(a.a.slice(0,54)),ut(t,632,WA(a.a)))})}),ut(t,631),ut(t,633),e.forEach(function(n){n[1].forEach(function(a){a.iauthor=r.indexOf(a.a);var i={s:Li(n[0]),e:Li(n[0])};ut(t,635,qA([i,a])),a.t&&a.t.length>0&&ut(t,637,K6(a)),ut(t,636),delete a.iauthor})}),ut(t,634),ut(t,629),t.end()}function GA(e,t){t.FullPaths.forEach(function(r,n){if(n!=0){var a=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");a.slice(-1)!=="/"&&Dn.utils.cfb_add(e,a,t.FileIndex[n].content)}})}var jw=["xlsb","xlsm","xlam","biff8","xla"],KA=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function r(n,a,i,l){var c=!1,d=!1;i.length==0?d=!0:i.charAt(0)=="["&&(d=!0,i=i.slice(1,-1)),l.length==0?c=!0:l.charAt(0)=="["&&(c=!0,l=l.slice(1,-1));var h=i.length>0?parseInt(i,10)|0:0,p=l.length>0?parseInt(l,10)|0:0;return c?p+=t.c:--p,d?h+=t.r:--h,a+(c?"":"$")+xs(p)+(d?"":"$")+rs(h)}return function(a,i){return t=i,a.replace(e,r)}}(),fx=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,px=function(){return function(t,r){return t.replace(fx,function(n,a,i,l,c,d){var h=ox(l)-(i?0:r.c),p=sx(d)-(c?0:r.r),f=p==0?"":c?p+1:"["+p+"]",b=h==0?"":i?h+1:"["+h+"]";return a+"R"+f+"C"+b})}}();function YA(e,t){return e.replace(fx,function(r,n,a,i,l,c){return n+(a=="$"?a+i:xs(ox(i)+t.c))+(l=="$"?l+c:rs(sx(c)+t.r))})}function XA(e){return e.length!=1}function ei(e){e.l+=1}function Ju(e,t){var r=e.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function Ew(e,t,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return kw(e);r.biff==12&&(n=4)}var a=e.read_shift(n),i=e.read_shift(n),l=Ju(e),c=Ju(e);return{s:{r:a,c:l[0],cRel:l[1],rRel:l[2]},e:{r:i,c:c[0],cRel:c[1],rRel:c[2]}}}function kw(e){var t=Ju(e),r=Ju(e),n=e.read_shift(1),a=e.read_shift(1);return{s:{r:t[0],c:n,cRel:t[1],rRel:t[2]},e:{r:r[0],c:a,cRel:r[1],rRel:r[2]}}}function JA(e,t,r){if(r.biff<8)return kw(e);var n=e.read_shift(r.biff==12?4:2),a=e.read_shift(r.biff==12?4:2),i=Ju(e),l=Ju(e);return{s:{r:n,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:l[0],cRel:l[1],rRel:l[2]}}}function Aw(e,t,r){if(r&&r.biff>=2&&r.biff<=5)return ZA(e);var n=e.read_shift(r&&r.biff==12?4:2),a=Ju(e);return{r:n,c:a[0],cRel:a[1],rRel:a[2]}}function ZA(e){var t=Ju(e),r=e.read_shift(1);return{r:t[0],c:r,cRel:t[1],rRel:t[2]}}function QA(e){var t=e.read_shift(2),r=e.read_shift(2);return{r:t,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function eC(e,t,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return tC(e);var a=e.read_shift(n>=12?4:2),i=e.read_shift(2),l=(i&16384)>>14,c=(i&32768)>>15;if(i&=16383,c==1)for(;a>524287;)a-=1048576;if(l==1)for(;i>8191;)i=i-16384;return{r:a,c:i,cRel:l,rRel:c}}function tC(e){var t=e.read_shift(2),r=e.read_shift(1),n=(t&32768)>>15,a=(t&16384)>>14;return t&=16383,n==1&&t>=8192&&(t=t-16384),a==1&&r>=128&&(r=r-256),{r:t,c:r,cRel:a,rRel:n}}function rC(e,t,r){var n=(e[e.l++]&96)>>5,a=Ew(e,r.biff>=2&&r.biff<=5?6:8,r);return[n,a]}function nC(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2,"i"),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}var l=Ew(e,i,r);return[n,a,l]}function aC(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function iC(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=8;if(r)switch(r.biff){case 5:e.l+=12,i=6;break;case 12:i=12;break}return e.l+=i,[n,a]}function sC(e,t,r){var n=(e[e.l++]&96)>>5,a=JA(e,t-1,r);return[n,a]}function oC(e,t,r){var n=(e[e.l++]&96)>>5;return e.l+=r.biff==2?6:r.biff==12?14:7,[n]}function G2(e){var t=e[e.l+1]&1,r=1;return e.l+=4,[t,r]}function lC(e,t,r){e.l+=2;for(var n=e.read_shift(r&&r.biff==2?1:2),a=[],i=0;i<=n;++i)a.push(e.read_shift(r&&r.biff==2?1:2));return a}function cC(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function uC(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=2,[n,e.read_shift(r&&r.biff==2?1:2)]}function dC(e){var t=e[e.l+1]&255?1:0;return e.l+=2,[t,e.read_shift(2)]}function hC(e,t,r){var n=e[e.l+1]&255?1:0;return e.l+=r&&r.biff==2?3:4,[n]}function Cw(e){var t=e.read_shift(1),r=e.read_shift(1);return[t,r]}function fC(e){return e.read_shift(2),Cw(e)}function pC(e){return e.read_shift(2),Cw(e)}function mC(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=Aw(e,0,r);return[n,a]}function gC(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=eC(e,0,r);return[n,a]}function xC(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(2);r&&r.biff==5&&(e.l+=12);var i=Aw(e,0,r);return[n,a,i]}function vC(e,t,r){var n=(e[e.l]&96)>>5;e.l+=1;var a=e.read_shift(r&&r.biff<=3?1:2);return[v8[a],Lw[a],n]}function bC(e,t,r){var n=e[e.l++],a=e.read_shift(1),i=r&&r.biff<=3?[n==88?-1:0,e.read_shift(1)]:_C(e);return[a,(i[0]===0?Lw:x8)[i[1]]]}function _C(e){return[e[e.l+1]>>7,e.read_shift(2)&32767]}function yC(e,t,r){e.l+=r&&r.biff==2?3:4}function wC(e,t,r){if(e.l++,r&&r.biff==12)return[e.read_shift(4,"i"),0];var n=e.read_shift(2),a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function SC(e){return e.l++,uf[e.read_shift(1)]}function NC(e){return e.l++,e.read_shift(2)}function jC(e){return e.l++,e.read_shift(1)!==0}function EC(e){return e.l++,Gh(e)}function kC(e,t,r){return e.l++,dw(e,t-1,r)}function AC(e,t){var r=[e.read_shift(1)];if(t==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=xk(e,1)?"TRUE":"FALSE",t!=12&&(e.l+=7);break;case 37:case 16:r[1]=uf[e[e.l]],e.l+=t==12?4:8;break;case 0:e.l+=8;break;case 1:r[1]=Gh(e);break;case 2:r[1]=yk(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function CC(e,t,r){for(var n=e.read_shift(r.biff==12?4:2),a=[],i=0;i!=n;++i)a.push((r.biff==12?Wd:Nk)(e));return a}function TC(e,t,r){var n=0,a=0;r.biff==12?(n=e.read_shift(4),a=e.read_shift(4)):(a=1+e.read_shift(1),n=1+e.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--a==0&&(a=256));for(var i=0,l=[];i!=n&&(l[i]=[]);++i)for(var c=0;c!=a;++c)l[i][c]=AC(e,r.biff);return l}function PC(e,t,r){var n=e.read_shift(1)>>>5&3,a=!r||r.biff>=8?4:2,i=e.read_shift(a);switch(r.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12;break}return[n,0,i]}function LC(e,t,r){if(r.biff==5)return RC(e);var n=e.read_shift(1)>>>5&3,a=e.read_shift(2),i=e.read_shift(4);return[n,a,i]}function RC(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2,"i");e.l+=8;var n=e.read_shift(2);return e.l+=12,[t,r,n]}function FC(e,t,r){var n=e.read_shift(1)>>>5&3;e.l+=r&&r.biff==2?3:4;var a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function OC(e,t,r){var n=e.read_shift(1)>>>5&3,a=e.read_shift(r&&r.biff==2?1:2);return[n,a]}function IC(e,t,r){var n=e.read_shift(1)>>>5&3;return e.l+=4,r.biff<8&&e.l--,r.biff==12&&(e.l+=2),[n]}function DC(e,t,r){var n=(e[e.l++]&96)>>5,a=e.read_shift(2),i=4;if(r)switch(r.biff){case 5:i=15;break;case 12:i=6;break}return e.l+=i,[n,a]}var BC=Dc,MC=Dc,UC=Dc;function df(e,t,r){return e.l+=2,[QA(e)]}function mx(e){return e.l+=6,[]}var $C=df,zC=mx,qC=mx,HC=df;function Tw(e){return e.l+=2,[cw(e),e.read_shift(2)&1]}var WC=df,VC=Tw,GC=mx,KC=df,YC=df,XC=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function JC(e){e.l+=2;var t=e.read_shift(2),r=e.read_shift(2),n=e.read_shift(4),a=e.read_shift(2),i=e.read_shift(2),l=XC[r>>2&31];return{ixti:t,coltype:r&3,rt:l,idx:n,c:a,C:i}}function ZC(e){return e.l+=2,[e.read_shift(4)]}function QC(e,t,r){return e.l+=5,e.l+=2,e.l+=r.biff==2?1:4,["PTGSHEET"]}function e8(e,t,r){return e.l+=r.biff==2?4:5,["PTGENDSHEET"]}function t8(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function r8(e){var t=e.read_shift(1)>>>5&3,r=e.read_shift(2);return[t,r]}function n8(e){return e.l+=4,[0,0]}var K2={1:{n:"PtgExp",f:wC},2:{n:"PtgTbl",f:UC},3:{n:"PtgAdd",f:ei},4:{n:"PtgSub",f:ei},5:{n:"PtgMul",f:ei},6:{n:"PtgDiv",f:ei},7:{n:"PtgPower",f:ei},8:{n:"PtgConcat",f:ei},9:{n:"PtgLt",f:ei},10:{n:"PtgLe",f:ei},11:{n:"PtgEq",f:ei},12:{n:"PtgGe",f:ei},13:{n:"PtgGt",f:ei},14:{n:"PtgNe",f:ei},15:{n:"PtgIsect",f:ei},16:{n:"PtgUnion",f:ei},17:{n:"PtgRange",f:ei},18:{n:"PtgUplus",f:ei},19:{n:"PtgUminus",f:ei},20:{n:"PtgPercent",f:ei},21:{n:"PtgParen",f:ei},22:{n:"PtgMissArg",f:ei},23:{n:"PtgStr",f:kC},26:{n:"PtgSheet",f:QC},27:{n:"PtgEndSheet",f:e8},28:{n:"PtgErr",f:SC},29:{n:"PtgBool",f:jC},30:{n:"PtgInt",f:NC},31:{n:"PtgNum",f:EC},32:{n:"PtgArray",f:oC},33:{n:"PtgFunc",f:vC},34:{n:"PtgFuncVar",f:bC},35:{n:"PtgName",f:PC},36:{n:"PtgRef",f:mC},37:{n:"PtgArea",f:rC},38:{n:"PtgMemArea",f:FC},39:{n:"PtgMemErr",f:BC},40:{n:"PtgMemNoMem",f:MC},41:{n:"PtgMemFunc",f:OC},42:{n:"PtgRefErr",f:IC},43:{n:"PtgAreaErr",f:aC},44:{n:"PtgRefN",f:gC},45:{n:"PtgAreaN",f:sC},46:{n:"PtgMemAreaN",f:t8},47:{n:"PtgMemNoMemN",f:r8},57:{n:"PtgNameX",f:LC},58:{n:"PtgRef3d",f:xC},59:{n:"PtgArea3d",f:nC},60:{n:"PtgRefErr3d",f:DC},61:{n:"PtgAreaErr3d",f:iC},255:{}},a8={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},i8={1:{n:"PtgElfLel",f:Tw},2:{n:"PtgElfRw",f:KC},3:{n:"PtgElfCol",f:$C},6:{n:"PtgElfRwV",f:YC},7:{n:"PtgElfColV",f:HC},10:{n:"PtgElfRadical",f:WC},11:{n:"PtgElfRadicalS",f:GC},13:{n:"PtgElfColS",f:zC},15:{n:"PtgElfColSV",f:qC},16:{n:"PtgElfRadicalLel",f:VC},25:{n:"PtgList",f:JC},29:{n:"PtgSxName",f:ZC},255:{}},s8={0:{n:"PtgAttrNoop",f:n8},1:{n:"PtgAttrSemi",f:hC},2:{n:"PtgAttrIf",f:uC},4:{n:"PtgAttrChoose",f:lC},8:{n:"PtgAttrGoto",f:cC},16:{n:"PtgAttrSum",f:yC},32:{n:"PtgAttrBaxcel",f:G2},33:{n:"PtgAttrBaxcel",f:G2},64:{n:"PtgAttrSpace",f:fC},65:{n:"PtgAttrSpaceSemi",f:pC},128:{n:"PtgAttrIfError",f:dC},255:{}};function o8(e,t,r,n){if(n.biff<8)return Dc(e,t);for(var a=e.l+t,i=[],l=0;l!==r.length;++l)switch(r[l][0]){case"PtgArray":r[l][1]=TC(e,0,n),i.push(r[l][1]);break;case"PtgMemArea":r[l][2]=CC(e,r[l][1],n),i.push(r[l][2]);break;case"PtgExp":n&&n.biff==12&&(r[l][1][1]=e.read_shift(4),i.push(r[l][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[l][0]}return t=a-e.l,t!==0&&i.push(Dc(e,t)),i}function l8(e,t,r){for(var n=e.l+t,a,i,l=[];n!=e.l;)t=n-e.l,i=e[e.l],a=K2[i]||K2[a8[i]],(i===24||i===25)&&(a=(i===24?i8:s8)[e[e.l+1]]),!a||!a.f?Dc(e,t):l.push([a.n,a.f(e,t,r)]);return l}function c8(e){for(var t=[],r=0;r<e.length;++r){for(var n=e[r],a=[],i=0;i<n.length;++i){var l=n[i];if(l)switch(l[0]){case 2:a.push('"'+l[1].replace(/"/g,'""')+'"');break;default:a.push(l[1])}else a.push("")}t.push(a.join(","))}return t.join(";")}var u8={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function d8(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}function Pw(e,t,r){if(!e)return"SH33TJSERR0";if(r.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var n=e.XTI[t];if(r.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),t==0?"":e.XTI[t-1];if(!n)return"SH33TJSERR1";var a="";if(r.biff>8)switch(e[n[0]][0]){case 357:return a=n[1]==-1?"#REF":e.SheetNames[n[1]],n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 358:return r.SID!=null?e.SheetNames[r.SID]:"SH33TJSSAME"+e[n[0]][0];case 355:default:return"SH33TJSSRC"+e[n[0]][0]}switch(e[n[0]][0][0]){case 1025:return a=n[1]==-1?"#REF":e.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?a:a+":"+e.SheetNames[n[2]];case 14849:return e[n[0]].slice(1).map(function(i){return i.Name}).join(";;");default:return e[n[0]][0][3]?(a=n[1]==-1?"#REF":e[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?a:a+":"+e[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Y2(e,t,r){var n=Pw(e,t,r);return n=="#REF"?n:d8(n,r)}function Mh(e,t,r,n,a){var i=a&&a.biff||8,l={s:{c:0,r:0},e:{c:0,r:0}},c=[],d,h,p,f=0,b=0,g,S="";if(!e[0]||!e[0][0])return"";for(var y=-1,N="",A=0,P=e[0].length;A<P;++A){var T=e[0][A];switch(T[0]){case"PtgUminus":c.push("-"+c.pop());break;case"PtgUplus":c.push("+"+c.pop());break;case"PtgPercent":c.push(c.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(d=c.pop(),h=c.pop(),y>=0){switch(e[0][y][1][0]){case 0:N=Sa(" ",e[0][y][1][1]);break;case 1:N=Sa("\r",e[0][y][1][1]);break;default:if(N="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}h=h+N,y=-1}c.push(h+u8[T[0]]+d);break;case"PtgIsect":d=c.pop(),h=c.pop(),c.push(h+" "+d);break;case"PtgUnion":d=c.pop(),h=c.pop(),c.push(h+","+d);break;case"PtgRange":d=c.pop(),h=c.pop(),c.push(h+":"+d);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":p=E0(T[1][1],l,a),c.push(k0(p,i));break;case"PtgRefN":p=r?E0(T[1][1],r,a):T[1][1],c.push(k0(p,i));break;case"PtgRef3d":f=T[1][1],p=E0(T[1][2],l,a),S=Y2(n,f,a),c.push(S+"!"+k0(p,i));break;case"PtgFunc":case"PtgFuncVar":var R=T[1][0],q=T[1][1];R||(R=0),R&=127;var te=R==0?[]:c.slice(-R);c.length-=R,q==="User"&&(q=te.shift()),c.push(q+"("+te.join(",")+")");break;case"PtgBool":c.push(T[1]?"TRUE":"FALSE");break;case"PtgInt":c.push(T[1]);break;case"PtgNum":c.push(String(T[1]));break;case"PtgStr":c.push('"'+T[1].replace(/"/g,'""')+'"');break;case"PtgErr":c.push(T[1]);break;case"PtgAreaN":g=R2(T[1][1],r?{s:r}:l,a),c.push(dg(g,a));break;case"PtgArea":g=R2(T[1][1],l,a),c.push(dg(g,a));break;case"PtgArea3d":f=T[1][1],g=T[1][2],S=Y2(n,f,a),c.push(S+"!"+dg(g,a));break;case"PtgAttrSum":c.push("SUM("+c.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":b=T[1][2];var G=(n.names||[])[b-1]||(n[0]||[])[b],H=G?G.Name:"SH33TJSNAME"+String(b);H&&H.slice(0,6)=="_xlfn."&&!a.xlfn&&(H=H.slice(6)),c.push(H);break;case"PtgNameX":var M=T[1][1];b=T[1][2];var re;if(a.biff<=5)M<0&&(M=-M),n[M]&&(re=n[M][b]);else{var I="";if(((n[M]||[])[0]||[])[0]==14849||(((n[M]||[])[0]||[])[0]==1025?n[M][b]&&n[M][b].itab>0&&(I=n.SheetNames[n[M][b].itab-1]+"!"):I=n.SheetNames[b-1]+"!"),n[M]&&n[M][b])I+=n[M][b].Name;else if(n[0]&&n[0][b])I+=n[0][b].Name;else{var W=(Pw(n,M,a)||"").split(";;");W[b-1]?I=W[b-1]:I+="SH33TJSERRX"}c.push(I);break}re||(re={Name:"SH33TJSERRY"}),c.push(re.Name);break;case"PtgParen":var ae="(",ge=")";if(y>=0){switch(N="",e[0][y][1][0]){case 2:ae=Sa(" ",e[0][y][1][1])+ae;break;case 3:ae=Sa("\r",e[0][y][1][1])+ae;break;case 4:ge=Sa(" ",e[0][y][1][1])+ge;break;case 5:ge=Sa("\r",e[0][y][1][1])+ge;break;default:if(a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][y][1][0])}y=-1}c.push(ae+c.pop()+ge);break;case"PtgRefErr":c.push("#REF!");break;case"PtgRefErr3d":c.push("#REF!");break;case"PtgExp":p={c:T[1][1],r:T[1][0]};var _e={c:r.c,r:r.r};if(n.sharedf[Ln(p)]){var Le=n.sharedf[Ln(p)];c.push(Mh(Le,l,_e,n,a))}else{var Te=!1;for(d=0;d!=n.arrayf.length;++d)if(h=n.arrayf[d],!(p.c<h[0].s.c||p.c>h[0].e.c)&&!(p.r<h[0].s.r||p.r>h[0].e.r)){c.push(Mh(h[1],l,_e,n,a)),Te=!0;break}Te||c.push(T[1])}break;case"PtgArray":c.push("{"+c8(T[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":y=A;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":c.push("");break;case"PtgAreaErr":c.push("#REF!");break;case"PtgAreaErr3d":c.push("#REF!");break;case"PtgList":c.push("Table"+T[1].idx+"[#"+T[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(T));default:throw new Error("Unrecognized Formula Token: "+String(T))}var Q=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(a.biff!=3&&y>=0&&Q.indexOf(e[0][A][0])==-1){T=e[0][y];var ye=!0;switch(T[1][0]){case 4:ye=!1;case 0:N=Sa(" ",T[1][1]);break;case 5:ye=!1;case 1:N=Sa("\r",T[1][1]);break;default:if(N="",a.WTF)throw new Error("Unexpected PtgAttrSpaceType "+T[1][0])}c.push((ye?N:"")+c.pop()+(ye?"":N)),y=-1}}if(c.length>1&&a.WTF)throw new Error("bad formula stack");return c[0]}function h8(e){if(e==null){var t=tt(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}else if(typeof e=="number")return Fd(e);return Fd(0)}function f8(e,t,r,n,a){var i=Od(t,r,a),l=h8(e.v),c=tt(6),d=33;c.write_shift(2,d),c.write_shift(4,0);for(var h=tt(e.bf.length),p=0;p<e.bf.length;++p)h[p]=e.bf[p];var f=es([i,l,c,h]);return f}function im(e,t,r){var n=e.read_shift(4),a=l8(e,n,r),i=e.read_shift(4),l=i>0?o8(e,i,a,r):null;return[a,l]}var p8=im,sm=im,m8=im,g8=im,x8={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Lw={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},v8={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function b8(e){var t="of:="+e.replace(fx,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return t.replace(/;/g,"|").replace(/,/g,";")}function _8(e){return e.replace(/\./,"!")}var A0=typeof Map<"u";function gx(e,t,r){var n=0,a=e.length;if(r){if(A0?r.has(t):Object.prototype.hasOwnProperty.call(r,t)){for(var i=A0?r.get(t):r[t];n<i.length;++n)if(e[i[n]].t===t)return e.Count++,i[n]}}else for(;n<a;++n)if(e[n].t===t)return e.Count++,n;return e[a]={t},e.Count++,e.Unique++,r&&(A0?(r.has(t)||r.set(t,[]),r.get(t).push(a)):(Object.prototype.hasOwnProperty.call(r,t)||(r[t]=[]),r[t].push(a))),a}function om(e,t){var r={min:e+1,max:e+1},n=-1;return t.MDW&&(lu=t.MDW),t.width!=null?r.customWidth=1:t.wpx!=null?n=Ip(t.wpx):t.wch!=null&&(n=t.wch),n>-1?(r.width=b1(n),r.customWidth=1):t.width!=null&&(r.width=t.width),t.hidden&&(r.hidden=!0),t.level!=null&&(r.outlineLevel=r.level=t.level),r}function Rw(e,t){if(e){var r=[.7,.7,.75,.75,.3,.3];e.left==null&&(e.left=r[0]),e.right==null&&(e.right=r[1]),e.top==null&&(e.top=r[2]),e.bottom==null&&(e.bottom=r[3]),e.header==null&&(e.header=r[4]),e.footer==null&&(e.footer=r[5])}}function rd(e,t,r){var n=r.revssf[t.z!=null?t.z:"General"],a=60,i=e.length;if(n==null&&r.ssf){for(;a<392;++a)if(r.ssf[a]==null){Ay(t.z,a),r.ssf[a]=t.z,r.revssf[t.z]=n=a;break}}for(a=0;a!=i;++a)if(e[a].numFmtId===n)return a;return e[i]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},i}function y8(e,t,r){if(e&&e["!ref"]){var n=ta(e["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+e["!ref"])}}function w8(e){if(e.length===0)return"";for(var t='<mergeCells count="'+e.length+'">',r=0;r!=e.length;++r)t+='<mergeCell ref="'+ri(e[r])+'"/>';return t+"</mergeCells>"}function S8(e,t,r,n,a){var i=!1,l={},c=null;if(n.bookType!=="xlsx"&&t.vbaraw){var d=t.SheetNames[r];try{t.Workbook&&(d=t.Workbook.Sheets[r].CodeName||d)}catch{}i=!0,l.codeName=H0(Pn(d))}if(e&&e["!outline"]){var h={summaryBelow:1,summaryRight:1};e["!outline"].above&&(h.summaryBelow=0),e["!outline"].left&&(h.summaryRight=0),c=(c||"")+wt("outlinePr",null,h)}!i&&!c||(a[a.length]=wt("sheetPr",c,l))}var N8=["objects","scenarios","selectLockedCells","selectUnlockedCells"],j8=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function E8(e){var t={sheet:1};return N8.forEach(function(r){e[r]!=null&&e[r]&&(t[r]="1")}),j8.forEach(function(r){e[r]!=null&&!e[r]&&(t[r]="0")}),e.password&&(t.password=gw(e.password).toString(16).toUpperCase()),wt("sheetProtection",null,t)}function k8(e){return Rw(e),wt("pageMargins",null,e)}function A8(e,t){for(var r=["<cols>"],n,a=0;a!=t.length;++a)(n=t[a])&&(r[r.length]=wt("col",null,om(a,n)));return r[r.length]="</cols>",r.join("")}function C8(e,t,r,n){var a=typeof e.ref=="string"?e.ref:ri(e.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var i=r.Workbook.Names,l=Wo(a);l.s.r==l.e.r&&(l.e.r=Wo(t["!ref"]).e.r,a=ri(l));for(var c=0;c<i.length;++c){var d=i[c];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==n){d.Ref="'"+r.SheetNames[n]+"'!"+a;break}}return c==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+a}),wt("autoFilter",null,{ref:a})}function T8(e,t,r,n){var a={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(a.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),wt("sheetViews",wt("sheetView",null,a),{})}function P8(e,t,r,n){if(e.c&&r["!comments"].push([t,e.c]),e.v===void 0&&typeof e.f!="string"||e.t==="z"&&!e.f)return"";var a="",i=e.t,l=e.v;if(e.t!=="z")switch(e.t){case"b":a=e.v?"1":"0";break;case"n":a=""+e.v;break;case"e":a=uf[e.v];break;case"d":n&&n.cellDates?a=Ms(e.v,-1).toISOString():(e=uo(e),e.t="n",a=""+(e.v=co(Ms(e.v)))),typeof e.z>"u"&&(e.z=Na[14]);break;default:a=e.v;break}var c=ts("v",Pn(a)),d={r:t},h=rd(n.cellXfs,e,n);switch(h!==0&&(d.s=h),e.t){case"n":break;case"d":d.t="d";break;case"b":d.t="b";break;case"e":d.t="e";break;case"z":break;default:if(e.v==null){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){c=ts("v",""+gx(n.Strings,e.v,n.revStrings)),d.t="s";break}d.t="str";break}if(e.t!=i&&(e.t=i,e.v=l),typeof e.f=="string"&&e.f){var p=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;c=wt("f",Pn(e.f),p)+(e.v!=null?c:"")}return e.l&&r["!links"].push([t,e.l]),e.D&&(d.cm=1),wt("c",c,d)}function L8(e,t,r,n){var a=[],i=[],l=ta(e["!ref"]),c="",d,h="",p=[],f=0,b=0,g=e["!rows"],S=Array.isArray(e),y={r:h},N,A=-1;for(b=l.s.c;b<=l.e.c;++b)p[b]=xs(b);for(f=l.s.r;f<=l.e.r;++f){for(i=[],h=rs(f),b=l.s.c;b<=l.e.c;++b){d=p[b]+h;var P=S?(e[f]||[])[b]:e[d];P!==void 0&&(c=P8(P,d,e,t))!=null&&i.push(c)}(i.length>0||g&&g[f])&&(y={r:h},g&&g[f]&&(N=g[f],N.hidden&&(y.hidden=1),A=-1,N.hpx?A=Dp(N.hpx):N.hpt&&(A=N.hpt),A>-1&&(y.ht=A,y.customHeight=1),N.level&&(y.outlineLevel=N.level)),a[a.length]=wt("row",i.join(""),y))}if(g)for(;f<g.length;++f)g&&g[f]&&(y={r:f+1},N=g[f],N.hidden&&(y.hidden=1),A=-1,N.hpx?A=Dp(N.hpx):N.hpt&&(A=N.hpt),A>-1&&(y.ht=A,y.customHeight=1),N.level&&(y.outlineLevel=N.level),a[a.length]=wt("row","",y));return a.join("")}function Fw(e,t,r,n){var a=[ni,wt("worksheet",null,{xmlns:Hh[0],"xmlns:r":Pi.r})],i=r.SheetNames[e],l=0,c="",d=r.Sheets[i];d==null&&(d={});var h=d["!ref"]||"A1",p=ta(h);if(p.e.c>16383||p.e.r>1048575){if(t.WTF)throw new Error("Range "+h+" exceeds format limit A1:XFD1048576");p.e.c=Math.min(p.e.c,16383),p.e.r=Math.min(p.e.c,1048575),h=ri(p)}n||(n={}),d["!comments"]=[];var f=[];S8(d,r,e,t,a),a[a.length]=wt("dimension",null,{ref:h}),a[a.length]=T8(d,t,e,r),t.sheetFormat&&(a[a.length]=wt("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),d["!cols"]!=null&&d["!cols"].length>0&&(a[a.length]=A8(d,d["!cols"])),a[l=a.length]="<sheetData/>",d["!links"]=[],d["!ref"]!=null&&(c=L8(d,t),c.length>0&&(a[a.length]=c)),a.length>l+1&&(a[a.length]="</sheetData>",a[l]=a[l].replace("/>",">")),d["!protect"]&&(a[a.length]=E8(d["!protect"])),d["!autofilter"]!=null&&(a[a.length]=C8(d["!autofilter"],d,r,e)),d["!merges"]!=null&&d["!merges"].length>0&&(a[a.length]=w8(d["!merges"]));var b=-1,g,S=-1;return d["!links"].length>0&&(a[a.length]="<hyperlinks>",d["!links"].forEach(function(y){y[1].Target&&(g={ref:y[0]},y[1].Target.charAt(0)!="#"&&(S=Cn(n,-1,Pn(y[1].Target).replace(/#.*$/,""),un.HLINK),g["r:id"]="rId"+S),(b=y[1].Target.indexOf("#"))>-1&&(g.location=Pn(y[1].Target.slice(b+1))),y[1].Tooltip&&(g.tooltip=Pn(y[1].Tooltip)),a[a.length]=wt("hyperlink",null,g))}),a[a.length]="</hyperlinks>"),delete d["!links"],d["!margins"]!=null&&(a[a.length]=k8(d["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&(a[a.length]=ts("ignoredErrors",wt("ignoredError",null,{numberStoredAsText:1,sqref:h}))),f.length>0&&(S=Cn(n,-1,"../drawings/drawing"+(e+1)+".xml",un.DRAW),a[a.length]=wt("drawing",null,{"r:id":"rId"+S}),d["!drawing"]=f),d["!comments"].length>0&&(S=Cn(n,-1,"../drawings/vmlDrawing"+(e+1)+".vml",un.VML),a[a.length]=wt("legacyDrawing",null,{"r:id":"rId"+S}),d["!legacy"]=S),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function R8(e,t){var r={},n=e.l+t;r.r=e.read_shift(4),e.l+=4;var a=e.read_shift(2);e.l+=1;var i=e.read_shift(1);return e.l=n,i&7&&(r.level=i&7),i&16&&(r.hidden=!0),i&32&&(r.hpt=a/20),r}function F8(e,t,r){var n=tt(145),a=(r["!rows"]||[])[e]||{};n.write_shift(4,e),n.write_shift(4,0);var i=320;a.hpx?i=Dp(a.hpx)*20:a.hpt&&(i=a.hpt*20),n.write_shift(2,i),n.write_shift(1,0);var l=0;a.level&&(l|=a.level),a.hidden&&(l|=16),(a.hpx||a.hpt)&&(l|=32),n.write_shift(1,l),n.write_shift(1,0);var c=0,d=n.l;n.l+=4;for(var h={r:e,c:0},p=0;p<16;++p)if(!(t.s.c>p+1<<10||t.e.c<p<<10)){for(var f=-1,b=-1,g=p<<10;g<p+1<<10;++g){h.c=g;var S=Array.isArray(r)?(r[h.r]||[])[h.c]:r[Ln(h)];S&&(f<0&&(f=g),b=g)}f<0||(++c,n.write_shift(4,f),n.write_shift(4,b))}var y=n.l;return n.l=d,n.write_shift(4,c),n.l=y,n.length>n.l?n.slice(0,n.l):n}function O8(e,t,r,n){var a=F8(n,r,t);(a.length>17||(t["!rows"]||[])[n])&&ut(e,0,a)}var I8=Wd,D8=Vh;function B8(){}function M8(e,t){var r={},n=e[e.l];return++e.l,r.above=!(n&64),r.left=!(n&128),e.l+=18,r.name=Y6(e),r}function U8(e,t,r){r==null&&(r=tt(84+4*e.length));var n=192;t&&(t.above&&(n&=-65),t.left&&(n&=-129)),r.write_shift(1,n);for(var a=1;a<3;++a)r.write_shift(1,0);return Rp({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Yy(e,r),r.slice(0,r.l)}function $8(e){var t=_l(e);return[t]}function z8(e,t,r){return r==null&&(r=tt(8)),zd(t,r)}function q8(e){var t=qd(e);return[t]}function H8(e,t,r){return r==null&&(r=tt(4)),Hd(t,r)}function W8(e){var t=_l(e),r=e.read_shift(1);return[t,r,"b"]}function V8(e,t,r){return r==null&&(r=tt(9)),zd(t,r),r.write_shift(1,e.v?1:0),r}function G8(e){var t=qd(e),r=e.read_shift(1);return[t,r,"b"]}function K8(e,t,r){return r==null&&(r=tt(5)),Hd(t,r),r.write_shift(1,e.v?1:0),r}function Y8(e){var t=_l(e),r=e.read_shift(1);return[t,r,"e"]}function X8(e,t,r){return r==null&&(r=tt(9)),zd(t,r),r.write_shift(1,e.v),r}function J8(e){var t=qd(e),r=e.read_shift(1);return[t,r,"e"]}function Z8(e,t,r){return r==null&&(r=tt(8)),Hd(t,r),r.write_shift(1,e.v),r.write_shift(2,0),r.write_shift(1,0),r}function Q8(e){var t=_l(e),r=e.read_shift(4);return[t,r,"s"]}function eT(e,t,r){return r==null&&(r=tt(12)),zd(t,r),r.write_shift(4,t.v),r}function tT(e){var t=qd(e),r=e.read_shift(4);return[t,r,"s"]}function rT(e,t,r){return r==null&&(r=tt(8)),Hd(t,r),r.write_shift(4,t.v),r}function nT(e){var t=_l(e),r=Gh(e);return[t,r,"n"]}function aT(e,t,r){return r==null&&(r=tt(16)),zd(t,r),Fd(e.v,r),r}function iT(e){var t=qd(e),r=Gh(e);return[t,r,"n"]}function sT(e,t,r){return r==null&&(r=tt(12)),Hd(t,r),Fd(e.v,r),r}function oT(e){var t=_l(e),r=Xy(e);return[t,r,"n"]}function lT(e,t,r){return r==null&&(r=tt(12)),zd(t,r),Jy(e.v,r),r}function cT(e){var t=qd(e),r=Xy(e);return[t,r,"n"]}function uT(e,t,r){return r==null&&(r=tt(8)),Hd(t,r),Jy(e.v,r),r}function dT(e){var t=_l(e),r=lx(e);return[t,r,"is"]}function hT(e){var t=_l(e),r=vs(e);return[t,r,"str"]}function fT(e,t,r){return r==null&&(r=tt(12+4*e.v.length)),zd(t,r),Ri(e.v,r),r.length>r.l?r.slice(0,r.l):r}function pT(e){var t=qd(e),r=vs(e);return[t,r,"str"]}function mT(e,t,r){return r==null&&(r=tt(8+4*e.v.length)),Hd(t,r),Ri(e.v,r),r.length>r.l?r.slice(0,r.l):r}function gT(e,t,r){var n=e.l+t,a=_l(e);a.r=r["!row"];var i=e.read_shift(1),l=[a,i,"b"];if(r.cellFormula){e.l+=2;var c=sm(e,n-e.l,r);l[3]=Mh(c,null,a,r.supbooks,r)}else e.l=n;return l}function xT(e,t,r){var n=e.l+t,a=_l(e);a.r=r["!row"];var i=e.read_shift(1),l=[a,i,"e"];if(r.cellFormula){e.l+=2;var c=sm(e,n-e.l,r);l[3]=Mh(c,null,a,r.supbooks,r)}else e.l=n;return l}function vT(e,t,r){var n=e.l+t,a=_l(e);a.r=r["!row"];var i=Gh(e),l=[a,i,"n"];if(r.cellFormula){e.l+=2;var c=sm(e,n-e.l,r);l[3]=Mh(c,null,a,r.supbooks,r)}else e.l=n;return l}function bT(e,t,r){var n=e.l+t,a=_l(e);a.r=r["!row"];var i=vs(e),l=[a,i,"str"];if(r.cellFormula){e.l+=2;var c=sm(e,n-e.l,r);l[3]=Mh(c,null,a,r.supbooks,r)}else e.l=n;return l}var _T=Wd,yT=Vh;function wT(e,t){return t==null&&(t=tt(4)),t.write_shift(4,e),t}function ST(e,t){var r=e.l+t,n=Wd(e),a=cx(e),i=vs(e),l=vs(e),c=vs(e);e.l=r;var d={rfx:n,relId:a,loc:i,display:c};return l&&(d.Tooltip=l),d}function NT(e,t){var r=tt(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));Vh({s:Li(e[0]),e:Li(e[0])},r),ux("rId"+t,r);var n=e[1].Target.indexOf("#"),a=n==-1?"":e[1].Target.slice(n+1);return Ri(a||"",r),Ri(e[1].Tooltip||"",r),Ri("",r),r.slice(0,r.l)}function jT(){}function ET(e,t,r){var n=e.l+t,a=Zy(e),i=e.read_shift(1),l=[a];if(l[2]=i,r.cellFormula){var c=p8(e,n-e.l,r);l[1]=c}else e.l=n;return l}function kT(e,t,r){var n=e.l+t,a=Wd(e),i=[a];if(r.cellFormula){var l=g8(e,n-e.l,r);i[1]=l,e.l=n}else e.l=n;return i}function AT(e,t,r){r==null&&(r=tt(18));var n=om(e,t);r.write_shift(-4,e),r.write_shift(-4,e),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var a=0;return t.hidden&&(a|=1),typeof n.width=="number"&&(a|=2),t.level&&(a|=t.level<<8),r.write_shift(2,a),r}var Ow=["left","right","top","bottom","header","footer"];function CT(e){var t={};return Ow.forEach(function(r){t[r]=Gh(e)}),t}function TT(e,t){return t==null&&(t=tt(6*8)),Rw(e),Ow.forEach(function(r){Fd(e[r],t)}),t}function PT(e){var t=e.read_shift(2);return e.l+=28,{RTL:t&32}}function LT(e,t,r){r==null&&(r=tt(30));var n=924;return(((t||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function RT(e){var t=tt(24);return t.write_shift(4,4),t.write_shift(4,1),Vh(e,t),t}function FT(e,t){return t==null&&(t=tt(16*4+2)),t.write_shift(2,e.password?gw(e.password):0),t.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?t.write_shift(4,e[r[0]]!=null&&!e[r[0]]?1:0):t.write_shift(4,e[r[0]]!=null&&e[r[0]]?0:1)}),t}function OT(){}function IT(){}function DT(e,t,r,n,a,i,l){if(t.v===void 0)return!1;var c="";switch(t.t){case"b":c=t.v?"1":"0";break;case"d":t=uo(t),t.z=t.z||Na[14],t.v=co(Ms(t.v)),t.t="n";break;case"n":case"e":c=""+t.v;break;default:c=t.v;break}var d={r,c:n};switch(d.s=rd(a.cellXfs,t,a),t.l&&i["!links"].push([Ln(d),t.l]),t.c&&i["!comments"].push([Ln(d),t.c]),t.t){case"s":case"str":return a.bookSST?(c=gx(a.Strings,t.v,a.revStrings),d.t="s",d.v=c,l?ut(e,18,rT(t,d)):ut(e,7,eT(t,d))):(d.t="str",l?ut(e,17,mT(t,d)):ut(e,6,fT(t,d))),!0;case"n":return t.v==(t.v|0)&&t.v>-1e3&&t.v<1e3?l?ut(e,13,uT(t,d)):ut(e,2,lT(t,d)):l?ut(e,16,sT(t,d)):ut(e,5,aT(t,d)),!0;case"b":return d.t="b",l?ut(e,15,K8(t,d)):ut(e,4,V8(t,d)),!0;case"e":return d.t="e",l?ut(e,14,Z8(t,d)):ut(e,3,X8(t,d)),!0}return l?ut(e,12,H8(t,d)):ut(e,1,z8(t,d)),!0}function BT(e,t,r,n){var a=ta(t["!ref"]||"A1"),i,l="",c=[];ut(e,145);var d=Array.isArray(t),h=a.e.r;t["!rows"]&&(h=Math.max(a.e.r,t["!rows"].length-1));for(var p=a.s.r;p<=h;++p){l=rs(p),O8(e,t,a,p);var f=!1;if(p<=a.e.r)for(var b=a.s.c;b<=a.e.c;++b){p===a.s.r&&(c[b]=xs(b)),i=c[b]+l;var g=d?(t[p]||[])[b]:t[i];if(!g){f=!1;continue}f=DT(e,g,p,b,n,t,f)}}ut(e,146)}function MT(e,t){!t||!t["!merges"]||(ut(e,177,wT(t["!merges"].length)),t["!merges"].forEach(function(r){ut(e,176,yT(r))}),ut(e,178))}function UT(e,t){!t||!t["!cols"]||(ut(e,390),t["!cols"].forEach(function(r,n){r&&ut(e,60,AT(n,r))}),ut(e,391))}function $T(e,t){!t||!t["!ref"]||(ut(e,648),ut(e,649,RT(ta(t["!ref"]))),ut(e,650))}function zT(e,t,r){t["!links"].forEach(function(n){if(n[1].Target){var a=Cn(r,-1,n[1].Target.replace(/#.*$/,""),un.HLINK);ut(e,494,NT(n,a))}}),delete t["!links"]}function qT(e,t,r,n){if(t["!comments"].length>0){var a=Cn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",un.VML);ut(e,551,ux("rId"+a)),t["!legacy"]=a}}function HT(e,t,r,n){if(t["!autofilter"]){var a=t["!autofilter"],i=typeof a.ref=="string"?a.ref:ri(a.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var l=r.Workbook.Names,c=Wo(i);c.s.r==c.e.r&&(c.e.r=Wo(t["!ref"]).e.r,i=ri(c));for(var d=0;d<l.length;++d){var h=l[d];if(h.Name=="_xlnm._FilterDatabase"&&h.Sheet==n){h.Ref="'"+r.SheetNames[n]+"'!"+i;break}}d==l.length&&l.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),ut(e,161,Vh(ta(i))),ut(e,162)}}function WT(e,t,r){ut(e,133),ut(e,137,LT(t,r)),ut(e,138),ut(e,134)}function VT(e,t){t["!protect"]&&ut(e,535,FT(t["!protect"]))}function GT(e,t,r,n){var a=lo(),i=r.SheetNames[e],l=r.Sheets[i]||{},c=i;try{r&&r.Workbook&&(c=r.Workbook.Sheets[e].CodeName||c)}catch{}var d=ta(l["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+(l["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return l["!links"]=[],l["!comments"]=[],ut(a,129),(r.vbaraw||l["!outline"])&&ut(a,147,U8(c,l["!outline"])),ut(a,148,D8(d)),WT(a,l,r.Workbook),UT(a,l),BT(a,l,e,t),VT(a,l),HT(a,l,r,e),MT(a,l),zT(a,l,n),l["!margins"]&&ut(a,476,TT(l["!margins"])),(!t||t.ignoreEC||t.ignoreEC==null)&&$T(a,l),qT(a,l,e,n),ut(a,130),a.end()}function KT(e,t){e.l+=10;var r=vs(e);return{name:r}}var YT=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function XT(e){return!e.Workbook||!e.Workbook.WBProps?"false":k6(e.Workbook.WBProps.date1904)?"true":"false"}var JT="][*?/\\".split("");function Iw(e,t){if(e.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return JT.forEach(function(n){if(e.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function ZT(e,t,r){e.forEach(function(n,a){Iw(n);for(var i=0;i<a;++i)if(n==e[i])throw new Error("Duplicate Sheet Name: "+n);if(r){var l=t[a]&&t[a].CodeName||n;if(l.charCodeAt(0)==95&&l.length>22)throw new Error("Bad Code Name: Worksheet"+l)}})}function QT(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];ZT(e.SheetNames,t,!!e.vbaraw);for(var r=0;r<e.SheetNames.length;++r)y8(e.Sheets[e.SheetNames[r]],e.SheetNames[r],r)}function Dw(e){var t=[ni];t[t.length]=wt("workbook",null,{xmlns:Hh[0],"xmlns:r":Pi.r});var r=e.Workbook&&(e.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(YT.forEach(function(c){e.Workbook.WBProps[c[0]]!=null&&e.Workbook.WBProps[c[0]]!=c[1]&&(n[c[0]]=e.Workbook.WBProps[c[0]])}),e.Workbook.WBProps.CodeName&&(n.codeName=e.Workbook.WBProps.CodeName,delete n.CodeName)),t[t.length]=wt("workbookPr",null,n);var a=e.Workbook&&e.Workbook.Sheets||[],i=0;if(a[0]&&a[0].Hidden){for(t[t.length]="<bookViews>",i=0;i!=e.SheetNames.length&&!(!a[i]||!a[i].Hidden);++i);i==e.SheetNames.length&&(i=0),t[t.length]='<workbookView firstSheet="'+i+'" activeTab="'+i+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",i=0;i!=e.SheetNames.length;++i){var l={name:Pn(e.SheetNames[i].slice(0,31))};if(l.sheetId=""+(i+1),l["r:id"]="rId"+(i+1),a[i])switch(a[i].Hidden){case 1:l.state="hidden";break;case 2:l.state="veryHidden";break}t[t.length]=wt("sheet",null,l)}return t[t.length]="</sheets>",r&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(c){var d={name:c.Name};c.Comment&&(d.comment=c.Comment),c.Sheet!=null&&(d.localSheetId=""+c.Sheet),c.Hidden&&(d.hidden="1"),c.Ref&&(t[t.length]=wt("definedName",Pn(c.Ref),d))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function e7(e,t){var r={};return r.Hidden=e.read_shift(4),r.iTabID=e.read_shift(4),r.strRelID=v1(e),r.name=vs(e),r}function t7(e,t){return t||(t=tt(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),ux(e.strRelID,t),Ri(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function r7(e,t){var r={},n=e.read_shift(4);r.defaultThemeVersion=e.read_shift(4);var a=t>8?vs(e):"";return a.length>0&&(r.CodeName=a),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function n7(e,t){t||(t=tt(72));var r=0;return e&&e.filterPrivacy&&(r|=8),t.write_shift(4,r),t.write_shift(4,0),Yy(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}function a7(e,t,r){var n=e.l+t;e.l+=4,e.l+=1;var a=e.read_shift(4),i=X6(e),l=m8(e,0,r),c=cx(e);e.l=n;var d={Name:i,Ptg:l};return a<268435455&&(d.Sheet=a),c&&(d.Comment=c),d}function i7(e,t){ut(e,143);for(var r=0;r!=t.SheetNames.length;++r){var n=t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[r]&&t.Workbook.Sheets[r].Hidden||0,a={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:t.SheetNames[r]};ut(e,156,t7(a))}ut(e,144)}function s7(e,t){t||(t=tt(127));for(var r=0;r!=4;++r)t.write_shift(4,0);return Ri("SheetJS",t),Ri(jp.version,t),Ri(jp.version,t),Ri("7262",t),t.length>t.l?t.slice(0,t.l):t}function o7(e,t){t||(t=tt(29)),t.write_shift(-4,0),t.write_shift(-4,460),t.write_shift(4,28800),t.write_shift(4,17600),t.write_shift(4,500),t.write_shift(4,e),t.write_shift(4,e);var r=120;return t.write_shift(1,r),t.length>t.l?t.slice(0,t.l):t}function l7(e,t){if(!(!t.Workbook||!t.Workbook.Sheets)){for(var r=t.Workbook.Sheets,n=0,a=-1,i=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&a==-1?a=n:r[n].Hidden==1&&i==-1&&(i=n);i>a||(ut(e,135),ut(e,158,o7(a)),ut(e,136))}}function c7(e,t){var r=lo();return ut(r,131),ut(r,128,s7()),ut(r,153,n7(e.Workbook&&e.Workbook.WBProps||null)),l7(r,e),i7(r,e),ut(r,132),r.end()}function u7(e,t,r){return(t.slice(-4)===".bin"?c7:Dw)(e)}function d7(e,t,r,n,a){return(t.slice(-4)===".bin"?GT:Fw)(e,r,n,a)}function h7(e,t,r){return(t.slice(-4)===".bin"?TA:bw)(e,r)}function f7(e,t,r){return(t.slice(-4)===".bin"?nA:mw)(e,r)}function p7(e,t,r){return(t.slice(-4)===".bin"?VA:Nw)(e)}function m7(e){return(e.slice(-4)===".bin"?BA:ww)()}function g7(e,t){var r=[];return e.Props&&r.push(hk(e.Props,t)),e.Custprops&&r.push(fk(e.Props,e.Custprops)),r.join("")}function x7(){return""}function v7(e,t){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(n,a){var i=[];i.push(wt("NumberFormat",null,{"ss:Format":Pn(Na[n.numFmtId])}));var l={"ss:ID":"s"+(21+a)};r.push(wt("Style",i.join(""),l))}),wt("Styles",r.join(""))}function Bw(e){return wt("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+px(e.Ref,{r:0,c:0})})}function b7(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,r=[],n=0;n<t.length;++n){var a=t[n];a.Sheet==null&&(a.Name.match(/^_xlfn\./)||r.push(Bw(a)))}return wt("Names",r.join(""))}function _7(e,t,r,n){if(!e||!((n||{}).Workbook||{}).Names)return"";for(var a=n.Workbook.Names,i=[],l=0;l<a.length;++l){var c=a[l];c.Sheet==r&&(c.Name.match(/^_xlfn\./)||i.push(Bw(c)))}return i.join("")}function y7(e,t,r,n){if(!e)return"";var a=[];if(e["!margins"]&&(a.push("<PageSetup>"),e["!margins"].header&&a.push(wt("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&a.push(wt("Footer",null,{"x:Margin":e["!margins"].footer})),a.push(wt("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),a.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)a.push(wt("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var i=0;i<r&&!(n.Workbook.Sheets[i]&&!n.Workbook.Sheets[i].Hidden);++i);i==r&&a.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&a.push("<DisplayRightToLeft/>"),e["!protect"]&&(a.push(ts("ProtectContents","True")),e["!protect"].objects&&a.push(ts("ProtectObjects","True")),e["!protect"].scenarios&&a.push(ts("ProtectScenarios","True")),e["!protect"].selectLockedCells!=null&&!e["!protect"].selectLockedCells?a.push(ts("EnableSelection","NoSelection")):e["!protect"].selectUnlockedCells!=null&&!e["!protect"].selectUnlockedCells&&a.push(ts("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(l){e["!protect"][l[0]]&&a.push("<"+l[1]+"/>")})),a.length==0?"":wt("WorksheetOptions",a.join(""),{xmlns:Mo.x})}function w7(e){return e.map(function(t){var r=E6(t.t||""),n=wt("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return wt("Comment",n,{"ss:Author":t.a})}).join("")}function S7(e,t,r,n,a,i,l){if(!e||e.v==null&&e.f==null)return"";var c={};if(e.f&&(c["ss:Formula"]="="+Pn(px(e.f,l))),e.F&&e.F.slice(0,t.length)==t){var d=Li(e.F.slice(t.length+1));c["ss:ArrayRange"]="RC:R"+(d.r==l.r?"":"["+(d.r-l.r)+"]")+"C"+(d.c==l.c?"":"["+(d.c-l.c)+"]")}if(e.l&&e.l.Target&&(c["ss:HRef"]=Pn(e.l.Target),e.l.Tooltip&&(c["x:HRefScreenTip"]=Pn(e.l.Tooltip))),r["!merges"])for(var h=r["!merges"],p=0;p!=h.length;++p)h[p].s.c!=l.c||h[p].s.r!=l.r||(h[p].e.c>h[p].s.c&&(c["ss:MergeAcross"]=h[p].e.c-h[p].s.c),h[p].e.r>h[p].s.r&&(c["ss:MergeDown"]=h[p].e.r-h[p].s.r));var f="",b="";switch(e.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",b=String(e.v);break;case"b":f="Boolean",b=e.v?"1":"0";break;case"e":f="Error",b=uf[e.v];break;case"d":f="DateTime",b=new Date(e.v).toISOString(),e.z==null&&(e.z=e.z||Na[14]);break;case"s":f="String",b=j6(e.v||"");break}var g=rd(n.cellXfs,e,n);c["ss:StyleID"]="s"+(21+g),c["ss:Index"]=l.c+1;var S=e.v!=null?b:"",y=e.t=="z"?"":'<Data ss:Type="'+f+'">'+S+"</Data>";return(e.c||[]).length>0&&(y+=w7(e.c)),wt("Cell",y,c)}function N7(e,t){var r='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=vw(t.hpt)),t.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(r+=' ss:Hidden="1"')),r+">"}function j7(e,t,r,n){if(!e["!ref"])return"";var a=ta(e["!ref"]),i=e["!merges"]||[],l=0,c=[];e["!cols"]&&e["!cols"].forEach(function(N,A){hx(N);var P=!!N.width,T=om(A,N),R={"ss:Index":A+1};P&&(R["ss:Width"]=Op(T.width)),N.hidden&&(R["ss:Hidden"]="1"),c.push(wt("Column",null,R))});for(var d=Array.isArray(e),h=a.s.r;h<=a.e.r;++h){for(var p=[N7(h,(e["!rows"]||[])[h])],f=a.s.c;f<=a.e.c;++f){var b=!1;for(l=0;l!=i.length;++l)if(!(i[l].s.c>f)&&!(i[l].s.r>h)&&!(i[l].e.c<f)&&!(i[l].e.r<h)){(i[l].s.c!=f||i[l].s.r!=h)&&(b=!0);break}if(!b){var g={r:h,c:f},S=Ln(g),y=d?(e[h]||[])[f]:e[S];p.push(S7(y,S,e,t,r,n,g))}}p.push("</Row>"),p.length>2&&c.push(p.join(""))}return c.join("")}function E7(e,t,r){var n=[],a=r.SheetNames[e],i=r.Sheets[a],l=i?_7(i,t,e,r):"";return l.length>0&&n.push("<Names>"+l+"</Names>"),l=i?j7(i,t,e,r):"",l.length>0&&n.push("<Table>"+l+"</Table>"),n.push(y7(i,t,e,r)),n.join("")}function k7(e,t){t||(t={}),e.SSF||(e.SSF=uo(Na)),e.SSF&&(rm(),tm(e.SSF),t.revssf=nm(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],rd(t.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(g7(e,t)),r.push(x7()),r.push(""),r.push("");for(var n=0;n<e.SheetNames.length;++n)r.push(wt("Worksheet",E7(n,t,e),{"ss:Name":Pn(e.SheetNames[n])}));return r[2]=v7(e,t),r[3]=b7(e),ni+wt("Workbook",r.join(""),{xmlns:Mo.ss,"xmlns:o":Mo.o,"xmlns:x":Mo.x,"xmlns:ss":Mo.ss,"xmlns:dt":Mo.dt,"xmlns:html":Mo.html})}var pg={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function A7(e,t){var r=[],n=[],a=[],i=0,l,c=w2(O2,"n"),d=w2(I2,"n");if(e.Props)for(l=ns(e.Props),i=0;i<l.length;++i)(Object.prototype.hasOwnProperty.call(c,l[i])?r:Object.prototype.hasOwnProperty.call(d,l[i])?n:a).push([l[i],e.Props[l[i]]]);if(e.Custprops)for(l=ns(e.Custprops),i=0;i<l.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},l[i])||(Object.prototype.hasOwnProperty.call(c,l[i])?r:Object.prototype.hasOwnProperty.call(d,l[i])?n:a).push([l[i],e.Custprops[l[i]]]);var h=[];for(i=0;i<a.length;++i)lw.indexOf(a[i][0])>-1||iw.indexOf(a[i][0])>-1||a[i][1]!=null&&h.push(a[i]);n.length&&Dn.utils.cfb_add(t,"/SummaryInformation",$2(n,pg.SI,d,I2)),(r.length||h.length)&&Dn.utils.cfb_add(t,"/DocumentSummaryInformation",$2(r,pg.DSI,c,O2,h.length?h:null,pg.UDI))}function C7(e,t){var r=t,n=Dn.utils.cfb_new({root:"R"}),a="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":a="/Workbook",r.biff=8;break;case"biff5":a="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Dn.utils.cfb_add(n,a,Mw(e,r)),r.biff==8&&(e.Props||e.Custprops)&&A7(e,n),r.biff==8&&e.vbaraw&&GA(n,Dn.read(e.vbaraw,{type:typeof e.vbaraw=="string"?"binary":"buffer"})),n}var T7={0:{f:R8},1:{f:$8},2:{f:oT},3:{f:Y8},4:{f:W8},5:{f:nT},6:{f:hT},7:{f:Q8},8:{f:bT},9:{f:vT},10:{f:gT},11:{f:xT},12:{f:q8},13:{f:cT},14:{f:J8},15:{f:G8},16:{f:iT},17:{f:pT},18:{f:tT},19:{f:lx},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:a7},40:{},42:{},43:{f:hA},44:{f:uA},45:{f:mA},46:{f:xA},47:{f:gA},48:{},49:{f:q6},50:{},51:{f:RA},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Hk},62:{f:dT},63:{f:MA},64:{f:OT},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Dc,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:PT},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:M8},148:{f:I8,p:16},151:{f:jT},152:{},153:{f:r7},154:{},155:{},156:{f:e7},157:{},158:{},159:{T:1,f:eA},160:{T:-1},161:{T:1,f:Wd},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:_T},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:PA},336:{T:-1},337:{f:IA,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:v1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Bk},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:ET},427:{f:kT},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:CT},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:B8},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:ST},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:v1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:HA},633:{T:1},634:{T:-1},635:{T:1,f:zA},636:{T:-1},637:{f:G6},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:KT},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:IT},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function St(e,t,r,n){var a=t;if(!isNaN(a)){var i=n||(r||[]).length||0,l=e.next(4);l.write_shift(2,a),l.write_shift(2,i),i>0&&ix(r)&&e.push(r)}}function P7(e,t,r,n){var a=(r||[]).length||0;if(a<=8224)return St(e,t,r,a);var i=t;if(!isNaN(i)){for(var l=r.parts||[],c=0,d=0,h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;var p=e.next(4);for(p.write_shift(2,i),p.write_shift(2,h),e.push(r.slice(d,d+h)),d+=h;d<a;){for(p=e.next(4),p.write_shift(2,60),h=0;h+(l[c]||8224)<=8224;)h+=l[c]||8224,c++;p.write_shift(2,h),e.push(r.slice(d,d+h)),d+=h}}}function hf(e,t,r){return e||(e=tt(7)),e.write_shift(2,t),e.write_shift(2,r),e.write_shift(2,0),e.write_shift(1,0),e}function L7(e,t,r,n){var a=tt(9);return hf(a,e,t),uw(r,n||"b",a),a}function R7(e,t,r){var n=tt(8+2*r.length);return hf(n,e,t),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function F7(e,t,r,n){if(t.v!=null)switch(t.t){case"d":case"n":var a=t.t=="d"?co(Ms(t.v)):t.v;a==(a|0)&&a>=0&&a<65536?St(e,2,Kk(r,n,a)):St(e,3,Gk(r,n,a));return;case"b":case"e":St(e,5,L7(r,n,t.v,t.t));return;case"s":case"str":St(e,4,R7(r,n,(t.v||"").slice(0,255)));return}St(e,1,hf(null,r,n))}function O7(e,t,r,n){var a=Array.isArray(t),i=ta(t["!ref"]||"A1"),l,c="",d=[];if(i.e.c>255||i.e.r>16383){if(n.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),l=ri(i)}for(var h=i.s.r;h<=i.e.r;++h){c=rs(h);for(var p=i.s.c;p<=i.e.c;++p){h===i.s.r&&(d[p]=xs(p)),l=d[p]+c;var f=a?(t[h]||[])[p]:t[l];f&&F7(e,f,h,p)}}}function I7(e,t){for(var r=t||{},n=lo(),a=0,i=0;i<e.SheetNames.length;++i)e.SheetNames[i]==r.sheet&&(a=i);if(a==0&&r.sheet&&e.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return St(n,r.biff==4?1033:r.biff==3?521:9,dx(e,16,r)),O7(n,e.Sheets[e.SheetNames[a]],a,r),St(n,10),n.end()}function D7(e,t,r){St(e,49,Tk({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},r))}function B7(e,t,r){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var a=n[0];a<=n[1];++a)t[a]!=null&&St(e,1054,Rk(a,t[a],r))})}function M7(e,t){var r=tt(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),St(e,2151,r),r=tt(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),fw(ta(t["!ref"]||"A1"),r),r.write_shift(4,4),St(e,2152,r)}function U7(e,t){for(var r=0;r<16;++r)St(e,224,q2({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){St(e,224,q2(n,0,t))})}function $7(e,t){for(var r=0;r<t["!links"].length;++r){var n=t["!links"][r];St(e,440,$k(n)),n[1].Tooltip&&St(e,2048,zk(n))}delete t["!links"]}function z7(e,t){if(t){var r=0;t.forEach(function(n,a){++r<=256&&n&&St(e,125,Wk(om(a,n),a))})}}function q7(e,t,r,n,a){var i=16+rd(a.cellXfs,t,a);if(t.v==null&&!t.bf){St(e,513,Od(r,n,i));return}if(t.bf)St(e,6,f8(t,r,n,a,i));else switch(t.t){case"d":case"n":var l=t.t=="d"?co(Ms(t.v)):t.v;St(e,515,Dk(r,n,l,i));break;case"b":case"e":St(e,517,Ik(r,n,t.v,i,a,t.t));break;case"s":case"str":if(a.bookSST){var c=gx(a.Strings,t.v,a.revStrings);St(e,253,Pk(r,n,c,i))}else St(e,516,Lk(r,n,(t.v||"").slice(0,255),i,a));break;default:St(e,513,Od(r,n,i))}}function H7(e,t,r){var n=lo(),a=r.SheetNames[e],i=r.Sheets[a]||{},l=(r||{}).Workbook||{},c=(l.Sheets||[])[e]||{},d=Array.isArray(i),h=t.biff==8,p,f="",b=[],g=ta(i["!ref"]||"A1"),S=h?65536:16384;if(g.e.c>255||g.e.r>=S){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");g.e.c=Math.min(g.e.c,255),g.e.r=Math.min(g.e.c,S-1)}St(n,2057,dx(r,16,t)),St(n,13,gl(1)),St(n,12,gl(100)),St(n,15,Ds(!0)),St(n,17,Ds(!1)),St(n,16,Fd(.001)),St(n,95,Ds(!0)),St(n,42,Ds(!1)),St(n,43,Ds(!1)),St(n,130,gl(1)),St(n,128,Ok()),St(n,131,Ds(!1)),St(n,132,Ds(!1)),h&&z7(n,i["!cols"]),St(n,512,Fk(g,t)),h&&(i["!links"]=[]);for(var y=g.s.r;y<=g.e.r;++y){f=rs(y);for(var N=g.s.c;N<=g.e.c;++N){y===g.s.r&&(b[N]=xs(N)),p=b[N]+f;var A=d?(i[y]||[])[N]:i[p];A&&(q7(n,A,y,N,t),h&&A.l&&i["!links"].push([p,A.l]))}}var P=c.CodeName||c.name||a;return h&&St(n,574,Ck((l.Views||[])[0])),h&&(i["!merges"]||[]).length&&St(n,229,Uk(i["!merges"])),h&&$7(n,i),St(n,442,hw(P)),h&&M7(n,i),St(n,10),n.end()}function W7(e,t,r){var n=lo(),a=(e||{}).Workbook||{},i=a.Sheets||[],l=a.WBProps||{},c=r.biff==8,d=r.biff==5;if(St(n,2057,dx(e,5,r)),r.bookType=="xla"&&St(n,135),St(n,225,c?gl(1200):null),St(n,193,gk(2)),d&&St(n,191),d&&St(n,192),St(n,226),St(n,92,jk("SheetJS",r)),St(n,66,gl(c?1200:1252)),c&&St(n,353,gl(0)),c&&St(n,448),St(n,317,Vk(e.SheetNames.length)),c&&e.vbaraw&&St(n,211),c&&e.vbaraw){var h=l.CodeName||"ThisWorkbook";St(n,442,hw(h))}St(n,156,gl(17)),St(n,25,Ds(!1)),St(n,18,Ds(!1)),St(n,19,gl(0)),c&&St(n,431,Ds(!1)),c&&St(n,444,gl(0)),St(n,61,Ak()),St(n,64,Ds(!1)),St(n,141,gl(0)),St(n,34,Ds(XT(e)=="true")),St(n,14,Ds(!0)),c&&St(n,439,Ds(!1)),St(n,218,gl(0)),D7(n,e,r),B7(n,e.SSF,r),U7(n,r),c&&St(n,352,Ds(!1));var p=n.end(),f=lo();c&&St(f,140,qk()),c&&r.Strings&&P7(f,252,kk(r.Strings)),St(f,10);var b=f.end(),g=lo(),S=0,y=0;for(y=0;y<e.SheetNames.length;++y)S+=(c?12:11)+(c?2:1)*e.SheetNames[y].length;var N=p.length+S+b.length;for(y=0;y<e.SheetNames.length;++y){var A=i[y]||{};St(g,133,Ek({pos:N,hs:A.Hidden||0,dt:0,name:e.SheetNames[y]},r)),N+=t[y].length}var P=g.end();if(S!=P.length)throw new Error("BS8 "+S+" != "+P.length);var T=[];return p.length&&T.push(p),P.length&&T.push(P),b.length&&T.push(b),es(T)}function V7(e,t){var r=t||{},n=[];e&&!e.SSF&&(e.SSF=uo(Na)),e&&e.SSF&&(rm(),tm(e.SSF),r.revssf=nm(e.SSF),r.revssf[e.SSF[65535]]=0,r.ssf=e.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,xx(r),r.cellXfs=[],rd(r.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var a=0;a<e.SheetNames.length;++a)n[n.length]=H7(a,r,e);return n.unshift(W7(e,n,r)),es(n)}function Mw(e,t){for(var r=0;r<=e.SheetNames.length;++r){var n=e.Sheets[e.SheetNames[r]];if(!(!n||!n["!ref"])){var a=Wo(n["!ref"]);a.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+e.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var i=t||{};switch(i.biff||2){case 8:case 5:return V7(e,t);case 4:case 3:case 2:return I7(e,t)}throw new Error("invalid type "+i.bookType+" for BIFF")}function G7(e,t,r,n){for(var a=e["!merges"]||[],i=[],l=t.s.c;l<=t.e.c;++l){for(var c=0,d=0,h=0;h<a.length;++h)if(!(a[h].s.r>r||a[h].s.c>l)&&!(a[h].e.r<r||a[h].e.c<l)){if(a[h].s.r<r||a[h].s.c<l){c=-1;break}c=a[h].e.r-a[h].s.r+1,d=a[h].e.c-a[h].s.c+1;break}if(!(c<0)){var p=Ln({r,c:l}),f=n.dense?(e[r]||[])[l]:e[p],b=f&&f.v!=null&&(f.h||N6(f.w||(uu(f),f.w)||""))||"",g={};c>1&&(g.rowspan=c),d>1&&(g.colspan=d),n.editable?b='<span contenteditable="true">'+b+"</span>":f&&(g["data-t"]=f&&f.t||"z",f.v!=null&&(g["data-v"]=f.v),f.z!=null&&(g["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(b='<a href="'+f.l.Target+'">'+b+"</a>")),g.id=(n.id||"sjs")+"-"+p,i.push(wt("td",b,g))}}var S="<tr>";return S+i.join("")+"</tr>"}var K7='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Y7="</body></html>";function X7(e,t,r){var n=[];return n.join("")+"<table"+(r.id?' id="'+r.id+'"':"")+">"}function Uw(e,t){var r=t||{},n=r.header!=null?r.header:K7,a=r.footer!=null?r.footer:Y7,i=[n],l=Wo(e["!ref"]);r.dense=Array.isArray(e),i.push(X7(e,l,r));for(var c=l.s.r;c<=l.e.r;++c)i.push(G7(e,l,c,r));return i.push("</table>"+a),i.join("")}function $w(e,t,r){var n=r||{},a=0,i=0;if(n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Li(n.origin):n.origin;a=l.r,i=l.c}var c=t.getElementsByTagName("tr"),d=Math.min(n.sheetRows||1e7,c.length),h={s:{r:0,c:0},e:{r:a,c:i}};if(e["!ref"]){var p=Wo(e["!ref"]);h.s.r=Math.min(h.s.r,p.s.r),h.s.c=Math.min(h.s.c,p.s.c),h.e.r=Math.max(h.e.r,p.e.r),h.e.c=Math.max(h.e.c,p.e.c),a==-1&&(h.e.r=a=p.e.r+1)}var f=[],b=0,g=e["!rows"]||(e["!rows"]=[]),S=0,y=0,N=0,A=0,P=0,T=0;for(e["!cols"]||(e["!cols"]=[]);S<c.length&&y<d;++S){var R=c[S];if(X2(R)){if(n.display)continue;g[y]={hidden:!0}}var q=R.children;for(N=A=0;N<q.length;++N){var te=q[N];if(!(n.display&&X2(te))){var G=te.hasAttribute("data-v")?te.getAttribute("data-v"):te.hasAttribute("v")?te.getAttribute("v"):A6(te.innerHTML),H=te.getAttribute("data-z")||te.getAttribute("z");for(b=0;b<f.length;++b){var M=f[b];M.s.c==A+i&&M.s.r<y+a&&y+a<=M.e.r&&(A=M.e.c+1-i,b=-1)}T=+te.getAttribute("colspan")||1,((P=+te.getAttribute("rowspan")||1)>1||T>1)&&f.push({s:{r:y+a,c:A+i},e:{r:y+a+(P||1)-1,c:A+i+(T||1)-1}});var re={t:"s",v:G},I=te.getAttribute("data-t")||te.getAttribute("t")||"";G!=null&&(G.length==0?re.t=I||"z":n.raw||G.trim().length==0||I=="s"||(G==="TRUE"?re={t:"b",v:!0}:G==="FALSE"?re={t:"b",v:!1}:isNaN(ou(G))?isNaN(q0(G).getDate())||(re={t:"d",v:Ms(G)},n.cellDates||(re={t:"n",v:co(re.v)}),re.z=n.dateNF||Na[14]):re={t:"n",v:ou(G)})),re.z===void 0&&H!=null&&(re.z=H);var W="",ae=te.getElementsByTagName("A");if(ae&&ae.length)for(var ge=0;ge<ae.length&&!(ae[ge].hasAttribute("href")&&(W=ae[ge].getAttribute("href"),W.charAt(0)!="#"));++ge);W&&W.charAt(0)!="#"&&(re.l={Target:W}),n.dense?(e[y+a]||(e[y+a]=[]),e[y+a][A+i]=re):e[Ln({c:A+i,r:y+a})]=re,h.e.c<A+i&&(h.e.c=A+i),A+=T}}++y}return f.length&&(e["!merges"]=(e["!merges"]||[]).concat(f)),h.e.r=Math.max(h.e.r,y-1+a),e["!ref"]=ri(h),y>=d&&(e["!fullref"]=ri((h.e.r=c.length-S+y-1+a,h))),e}function zw(e,t){var r=t||{},n=r.dense?[]:{};return $w(n,e,t)}function J7(e,t){return $d(zw(e,t),t)}function X2(e){var t="",r=Z7(e);return r&&(t=r(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),t==="none"}function Z7(e){return e.ownerDocument.defaultView&&typeof e.ownerDocument.defaultView.getComputedStyle=="function"?e.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Q7=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+W0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return ni+t}}(),J2=function(){var e=function(i){return Pn(i).replace(/  +/g,function(l){return'<text:s text:c="'+l.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(i,l,c){var d=[];d.push('      <table:table table:name="'+Pn(l.SheetNames[c])+`" table:style-name="ta1">
`);var h=0,p=0,f=Wo(i["!ref"]||"A1"),b=i["!merges"]||[],g=0,S=Array.isArray(i);if(i["!cols"])for(p=0;p<=f.e.c;++p)d.push("        <table:table-column"+(i["!cols"][p]?' table:style-name="co'+i["!cols"][p].ods+'"':"")+`></table:table-column>
`);var y="",N=i["!rows"]||[];for(h=0;h<f.s.r;++h)y=N[h]?' table:style-name="ro'+N[h].ods+'"':"",d.push("        <table:table-row"+y+`></table:table-row>
`);for(;h<=f.e.r;++h){for(y=N[h]?' table:style-name="ro'+N[h].ods+'"':"",d.push("        <table:table-row"+y+`>
`),p=0;p<f.s.c;++p)d.push(t);for(;p<=f.e.c;++p){var A=!1,P={},T="";for(g=0;g!=b.length;++g)if(!(b[g].s.c>p)&&!(b[g].s.r>h)&&!(b[g].e.c<p)&&!(b[g].e.r<h)){(b[g].s.c!=p||b[g].s.r!=h)&&(A=!0),P["table:number-columns-spanned"]=b[g].e.c-b[g].s.c+1,P["table:number-rows-spanned"]=b[g].e.r-b[g].s.r+1;break}if(A){d.push(r);continue}var R=Ln({r:h,c:p}),q=S?(i[h]||[])[p]:i[R];if(q&&q.f&&(P["table:formula"]=Pn(b8(q.f)),q.F&&q.F.slice(0,R.length)==R)){var te=Wo(q.F);P["table:number-matrix-columns-spanned"]=te.e.c-te.s.c+1,P["table:number-matrix-rows-spanned"]=te.e.r-te.s.r+1}if(!q){d.push(t);continue}switch(q.t){case"b":T=q.v?"TRUE":"FALSE",P["office:value-type"]="boolean",P["office:boolean-value"]=q.v?"true":"false";break;case"n":T=q.w||String(q.v||0),P["office:value-type"]="float",P["office:value"]=q.v||0;break;case"s":case"str":T=q.v==null?"":q.v,P["office:value-type"]="string";break;case"d":T=q.w||Ms(q.v).toISOString(),P["office:value-type"]="date",P["office:date-value"]=Ms(q.v).toISOString(),P["table:style-name"]="ce1";break;default:d.push(t);continue}var G=e(T);if(q.l&&q.l.Target){var H=q.l.Target;H=H.charAt(0)=="#"?"#"+_8(H.slice(1)):H,H.charAt(0)!="#"&&!H.match(/^\w+:/)&&(H="../"+H),G=wt("text:a",G,{"xlink:href":H.replace(/&/g,"&amp;")})}d.push("          "+wt("table:table-cell",wt("text:p",G,{}),P)+`
`)}d.push(`        </table:table-row>
`)}return d.push(`      </table:table>
`),d.join("")},a=function(i,l){i.push(` <office:automatic-styles>
`),i.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),i.push(`   <number:month number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:day number:style="long"/>
`),i.push(`   <number:text>/</number:text>
`),i.push(`   <number:year/>
`),i.push(`  </number:date-style>
`);var c=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!cols"]){for(var p=0;p<h["!cols"].length;++p)if(h["!cols"][p]){var f=h["!cols"][p];if(f.width==null&&f.wpx==null&&f.wch==null)continue;hx(f),f.ods=c;var b=h["!cols"][p].wpx+"px";i.push('  <style:style style:name="co'+c+`" style:family="table-column">
`),i.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+b+`"/>
`),i.push(`  </style:style>
`),++c}}});var d=0;l.SheetNames.map(function(h){return l.Sheets[h]}).forEach(function(h){if(h&&h["!rows"]){for(var p=0;p<h["!rows"].length;++p)if(h["!rows"][p]){h["!rows"][p].ods=d;var f=h["!rows"][p].hpx+"px";i.push('  <style:style style:name="ro'+d+`" style:family="table-row">
`),i.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),i.push(`  </style:style>
`),++d}}}),i.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),i.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),i.push(`  </style:style>
`),i.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),i.push(` </office:automatic-styles>
`)};return function(l,c){var d=[ni],h=W0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),p=W0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});c.bookType=="fods"?(d.push("<office:document"+h+p+`>
`),d.push(nw().replace(/office:document-meta/g,"office:meta"))):d.push("<office:document-content"+h+`>
`),a(d,l),d.push(`  <office:body>
`),d.push(`    <office:spreadsheet>
`);for(var f=0;f!=l.SheetNames.length;++f)d.push(n(l.Sheets[l.SheetNames[f]],l,f));return d.push(`    </office:spreadsheet>
`),d.push(`  </office:body>
`),c.bookType=="fods"?d.push("</office:document>"):d.push("</office:document-content>"),d.join("")}}();function qw(e,t){if(t.bookType=="fods")return J2(e,t);var r=tx(),n="",a=[],i=[];return n="mimetype",Fr(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Fr(r,n,J2(e,t)),a.push([n,"text/xml"]),i.push([n,"ContentFile"]),n="styles.xml",Fr(r,n,Q7(e,t)),a.push([n,"text/xml"]),i.push([n,"StylesFile"]),n="meta.xml",Fr(r,n,ni+nw()),a.push([n,"text/xml"]),i.push([n,"MetadataFile"]),n="manifest.rdf",Fr(r,n,dk(i)),a.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Fr(r,n,ck(a)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Bp(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function eP(e){return typeof TextEncoder<"u"?new TextEncoder().encode(e):Jl(H0(e))}function tP(e,t){e:for(var r=0;r<=e.length-t.length;++r){for(var n=0;n<t.length;++n)if(e[r+n]!=t[n])continue e;return!0}return!1}function Zu(e){var t=e.reduce(function(a,i){return a+i.length},0),r=new Uint8Array(t),n=0;return e.forEach(function(a){r.set(a,n),n+=a.length}),r}function rP(e,t,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,a=r/Math.pow(10,n-6176);e[t+15]|=n>>7,e[t+14]|=(n&127)<<1;for(var i=0;a>=1;++i,a/=256)e[t+i]=a&255;e[t+15]|=r>=0?0:128}function V0(e,t){var r=t?t[0]:0,n=e[r]&127;e:if(e[r++]>=128&&(n|=(e[r]&127)<<7,e[r++]<128||(n|=(e[r]&127)<<14,e[r++]<128)||(n|=(e[r]&127)<<21,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,28),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,35),++r,e[r++]<128)||(n+=(e[r]&127)*Math.pow(2,42),++r,e[r++]<128)))break e;return t&&(t[0]=r),n}function An(e){var t=new Uint8Array(7);t[0]=e&127;var r=1;e:if(e>127){if(t[r-1]|=128,t[r]=e>>7&127,++r,e<=16383||(t[r-1]|=128,t[r]=e>>14&127,++r,e<=2097151)||(t[r-1]|=128,t[r]=e>>21&127,++r,e<=268435455)||(t[r-1]|=128,t[r]=e/256>>>21&127,++r,e<=34359738367)||(t[r-1]|=128,t[r]=e/65536>>>21&127,++r,e<=4398046511103))break e;t[r-1]|=128,t[r]=e/16777216>>>21&127,++r}return t.slice(0,r)}function Lh(e){var t=0,r=e[t]&127;e:if(e[t++]>=128){if(r|=(e[t]&127)<<7,e[t++]<128||(r|=(e[t]&127)<<14,e[t++]<128)||(r|=(e[t]&127)<<21,e[t++]<128))break e;r|=(e[t]&127)<<28}return r}function xi(e){for(var t=[],r=[0];r[0]<e.length;){var n=r[0],a=V0(e,r),i=a&7;a=Math.floor(a/8);var l=0,c;if(a==0)break;switch(i){case 0:{for(var d=r[0];e[r[0]++]>=128;);c=e.slice(d,r[0])}break;case 5:l=4,c=e.slice(r[0],r[0]+l),r[0]+=l;break;case 1:l=8,c=e.slice(r[0],r[0]+l),r[0]+=l;break;case 2:l=V0(e,r),c=e.slice(r[0],r[0]+l),r[0]+=l;break;case 3:case 4:default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(n))}var h={data:c,type:i};t[a]==null?t[a]=[h]:t[a].push(h)}return t}function Xi(e){var t=[];return e.forEach(function(r,n){r.forEach(function(a){a.data&&(t.push(An(n*8+a.type)),a.type==2&&t.push(An(a.data.length)),t.push(a.data))})}),Zu(t)}function Wl(e){for(var t,r=[],n=[0];n[0]<e.length;){var a=V0(e,n),i=xi(e.slice(n[0],n[0]+a));n[0]+=a;var l={id:Lh(i[1][0].data),messages:[]};i[2].forEach(function(c){var d=xi(c.data),h=Lh(d[3][0].data);l.messages.push({meta:d,data:e.slice(n[0],n[0]+h)}),n[0]+=h}),(t=i[3])!=null&&t[0]&&(l.merge=Lh(i[3][0].data)>>>0>0),r.push(l)}return r}function fh(e){var t=[];return e.forEach(function(r){var n=[];n[1]=[{data:An(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:An(+!!r.merge),type:0}]);var a=[];r.messages.forEach(function(l){a.push(l.data),l.meta[3]=[{type:0,data:An(l.data.length)}],n[2].push({data:Xi(l.meta),type:2})});var i=Xi(n);t.push(An(i.length)),t.push(i),a.forEach(function(l){return t.push(l)})}),Zu(t)}function nP(e,t){if(e!=0)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var r=[0],n=V0(t,r),a=[];r[0]<t.length;){var i=t[r[0]]&3;if(i==0){var l=t[r[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[r[0]],c>1&&(l|=t[r[0]+1]<<8),c>2&&(l|=t[r[0]+2]<<16),c>3&&(l|=t[r[0]+3]<<24),l>>>=0,l++,r[0]+=c}a.push(t.slice(r[0],r[0]+l)),r[0]+=l;continue}else{var d=0,h=0;if(i==1?(h=(t[r[0]]>>2&7)+4,d=(t[r[0]++]&224)<<3,d|=t[r[0]++]):(h=(t[r[0]++]>>2)+1,i==2?(d=t[r[0]]|t[r[0]+1]<<8,r[0]+=2):(d=(t[r[0]]|t[r[0]+1]<<8|t[r[0]+2]<<16|t[r[0]+3]<<24)>>>0,r[0]+=4)),a=[Zu(a)],d==0)throw new Error("Invalid offset 0");if(d>a[0].length)throw new Error("Invalid offset beyond length");if(h>=d)for(a.push(a[0].slice(-d)),h-=d;h>=a[a.length-1].length;)a.push(a[a.length-1]),h-=a[a.length-1].length;a.push(a[0].slice(-d,-d+h))}}var p=Zu(a);if(p.length!=n)throw new Error("Unexpected length: ".concat(p.length," != ").concat(n));return p}function Vl(e){for(var t=[],r=0;r<e.length;){var n=e[r++],a=e[r]|e[r+1]<<8|e[r+2]<<16;r+=3,t.push(nP(n,e.slice(r,r+a))),r+=a}if(r!==e.length)throw new Error("data is not a valid framed stream!");return Zu(t)}function ph(e){for(var t=[],r=0;r<e.length;){var n=Math.min(e.length-r,268435455),a=new Uint8Array(4);t.push(a);var i=An(n),l=i.length;t.push(i),n<=60?(l++,t.push(new Uint8Array([n-1<<2]))):n<=256?(l+=2,t.push(new Uint8Array([240,n-1&255]))):n<=65536?(l+=3,t.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(l+=4,t.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(l+=5,t.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),t.push(e.slice(r,r+n)),l+=n,a[0]=0,a[1]=l&255,a[2]=l>>8&255,a[3]=l>>16&255,r+=n}return Zu(t)}function mg(e,t){var r=new Uint8Array(32),n=Bp(r),a=12,i=0;switch(r[0]=5,e.t){case"n":r[1]=2,rP(r,a,e.v),i|=1,a+=16;break;case"b":r[1]=6,n.setFloat64(a,e.v?1:0,!0),i|=2,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[1]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=8,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(8,i,!0),r.slice(0,a)}function gg(e,t){var r=new Uint8Array(32),n=Bp(r),a=12,i=0;switch(r[0]=3,e.t){case"n":r[2]=2,n.setFloat64(a,e.v,!0),i|=32,a+=8;break;case"b":r[2]=6,n.setFloat64(a,e.v?1:0,!0),i|=32,a+=8;break;case"s":if(t.indexOf(e.v)==-1)throw new Error("Value ".concat(e.v," missing from SST!"));r[2]=3,n.setUint32(a,t.indexOf(e.v),!0),i|=16,a+=4;break;default:throw"unsupported cell type "+e.t}return n.setUint32(4,i,!0),r.slice(0,a)}function Iu(e){var t=xi(e);return V0(t[1][0].data)}function aP(e,t,r){var n,a,i,l;if(!((n=e[6])!=null&&n[0])||!((a=e[7])!=null&&a[0]))throw"Mutation only works on post-BNC storages!";var c=((l=(i=e[8])==null?void 0:i[0])==null?void 0:l.data)&&Lh(e[8][0].data)>0||!1;if(c)throw"Math only works with normal offsets";for(var d=0,h=Bp(e[7][0].data),p=0,f=[],b=Bp(e[4][0].data),g=0,S=[],y=0;y<t.length;++y){if(t[y]==null){h.setUint16(y*2,65535,!0),b.setUint16(y*2,65535);continue}h.setUint16(y*2,p,!0),b.setUint16(y*2,g,!0);var N,A;switch(typeof t[y]){case"string":N=mg({t:"s",v:t[y]},r),A=gg({t:"s",v:t[y]},r);break;case"number":N=mg({t:"n",v:t[y]},r),A=gg({t:"n",v:t[y]},r);break;case"boolean":N=mg({t:"b",v:t[y]},r),A=gg({t:"b",v:t[y]},r);break;default:throw new Error("Unsupported value "+t[y])}f.push(N),p+=N.length,S.push(A),g+=A.length,++d}for(e[2][0].data=An(d);y<e[7][0].data.length/2;++y)h.setUint16(y*2,65535,!0),b.setUint16(y*2,65535,!0);return e[6][0].data=Zu(f),e[3][0].data=Zu(S),d}function iP(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=Wo(r["!ref"]);n.s.r=n.s.c=0;var a=!1;n.e.c>9&&(a=!0,n.e.c=9),n.e.r>49&&(a=!0,n.e.r=49),a&&console.error("The Numbers writer is currently limited to ".concat(ri(n)));var i=Mp(r,{range:n,header:1}),l=["~Sh33tJ5~"];i.forEach(function(B){return B.forEach(function(O){typeof O=="string"&&l.push(O)})});var c={},d=[],h=Dn.read(t.numbers,{type:"base64"});h.FileIndex.map(function(B,O){return[B,h.FullPaths[O]]}).forEach(function(B){var O=B[0],D=B[1];if(O.type==2&&O.name.match(/\.iwa/)){var Z=O.content,pe=Vl(Z),be=Wl(pe);be.forEach(function(Se){d.push(Se.id),c[Se.id]={deps:[],location:D,type:Lh(Se.messages[0].meta[1][0].data)}})}}),d.sort(function(B,O){return B-O});var p=d.filter(function(B){return B>1}).map(function(B){return[B,An(B)]});h.FileIndex.map(function(B,O){return[B,h.FullPaths[O]]}).forEach(function(B){var O=B[0];if(B[1],!!O.name.match(/\.iwa/)){var D=Wl(Vl(O.content));D.forEach(function(Z){Z.messages.forEach(function(pe){p.forEach(function(be){Z.messages.some(function(Se){return Lh(Se.meta[1][0].data)!=11006&&tP(Se.data,be[1])})&&c[be[0]].deps.push(Z.id)})})})}});for(var f=Dn.find(h,c[1].location),b=Wl(Vl(f.content)),g,S=0;S<b.length;++S){var y=b[S];y.id==1&&(g=y)}var N=Iu(xi(g.messages[0].data)[1][0].data);for(f=Dn.find(h,c[N].location),b=Wl(Vl(f.content)),S=0;S<b.length;++S)y=b[S],y.id==N&&(g=y);for(N=Iu(xi(g.messages[0].data)[2][0].data),f=Dn.find(h,c[N].location),b=Wl(Vl(f.content)),S=0;S<b.length;++S)y=b[S],y.id==N&&(g=y);for(N=Iu(xi(g.messages[0].data)[2][0].data),f=Dn.find(h,c[N].location),b=Wl(Vl(f.content)),S=0;S<b.length;++S)y=b[S],y.id==N&&(g=y);var A=xi(g.messages[0].data);{A[6][0].data=An(n.e.r+1),A[7][0].data=An(n.e.c+1);var P=Iu(A[46][0].data),T=Dn.find(h,c[P].location),R=Wl(Vl(T.content));{for(var q=0;q<R.length&&R[q].id!=P;++q);if(R[q].id!=P)throw"Bad ColumnRowUIDMapArchive";var te=xi(R[q].messages[0].data);te[1]=[],te[2]=[],te[3]=[];for(var G=0;G<=n.e.c;++G){var H=[];H[1]=H[2]=[{type:0,data:An(G+420690)}],te[1].push({type:2,data:Xi(H)}),te[2].push({type:0,data:An(G)}),te[3].push({type:0,data:An(G)})}te[4]=[],te[5]=[],te[6]=[];for(var M=0;M<=n.e.r;++M)H=[],H[1]=H[2]=[{type:0,data:An(M+726270)}],te[4].push({type:2,data:Xi(H)}),te[5].push({type:0,data:An(M)}),te[6].push({type:0,data:An(M)});R[q].messages[0].data=Xi(te)}T.content=ph(fh(R)),T.size=T.content.length,delete A[46];var re=xi(A[4][0].data);{re[7][0].data=An(n.e.r+1);var I=xi(re[1][0].data),W=Iu(I[2][0].data);T=Dn.find(h,c[W].location),R=Wl(Vl(T.content));{if(R[0].id!=W)throw"Bad HeaderStorageBucket";var ae=xi(R[0].messages[0].data);for(M=0;M<i.length;++M){var ge=xi(ae[2][0].data);ge[1][0].data=An(M),ge[4][0].data=An(i[M].length),ae[2][M]={type:ae[2][0].type,data:Xi(ge)}}R[0].messages[0].data=Xi(ae)}T.content=ph(fh(R)),T.size=T.content.length;var _e=Iu(re[2][0].data);T=Dn.find(h,c[_e].location),R=Wl(Vl(T.content));{if(R[0].id!=_e)throw"Bad HeaderStorageBucket";for(ae=xi(R[0].messages[0].data),G=0;G<=n.e.c;++G)ge=xi(ae[2][0].data),ge[1][0].data=An(G),ge[4][0].data=An(n.e.r+1),ae[2][G]={type:ae[2][0].type,data:Xi(ge)};R[0].messages[0].data=Xi(ae)}T.content=ph(fh(R)),T.size=T.content.length;var Le=Iu(re[4][0].data);(function(){for(var B=Dn.find(h,c[Le].location),O=Wl(Vl(B.content)),D,Z=0;Z<O.length;++Z){var pe=O[Z];pe.id==Le&&(D=pe)}var be=xi(D.messages[0].data);{be[3]=[];var Se=[];l.forEach(function(at,st){Se[1]=[{type:0,data:An(st)}],Se[2]=[{type:0,data:An(1)}],Se[3]=[{type:2,data:eP(at)}],be[3].push({type:2,data:Xi(Se)})})}D.messages[0].data=Xi(be);var Ee=fh(O),Ye=ph(Ee);B.content=Ye,B.size=B.content.length})();var Te=xi(re[3][0].data);{var Q=Te[1][0];delete Te[2];var ye=xi(Q.data);{var je=Iu(ye[2][0].data);(function(){for(var B=Dn.find(h,c[je].location),O=Wl(Vl(B.content)),D,Z=0;Z<O.length;++Z){var pe=O[Z];pe.id==je&&(D=pe)}var be=xi(D.messages[0].data);{delete be[6],delete Te[7];var Se=new Uint8Array(be[5][0].data);be[5]=[];for(var Ee=0,Ye=0;Ye<=n.e.r;++Ye){var at=xi(Se);Ee+=aP(at,i[Ye],l),at[1][0].data=An(Ye),be[5].push({data:Xi(at),type:2})}be[1]=[{type:0,data:An(n.e.c+1)}],be[2]=[{type:0,data:An(n.e.r+1)}],be[3]=[{type:0,data:An(Ee)}],be[4]=[{type:0,data:An(n.e.r+1)}]}D.messages[0].data=Xi(be);var st=fh(O),ft=ph(st);B.content=ft,B.size=B.content.length})()}Q.data=Xi(ye)}re[3][0].data=Xi(Te)}A[4][0].data=Xi(re)}g.messages[0].data=Xi(A);var oe=fh(b),j=ph(oe);return f.content=j,f.size=f.content.length,h}function sP(e){return function(r){for(var n=0;n!=e.length;++n){var a=e[n];r[a[0]]===void 0&&(r[a[0]]=a[1]),a[2]==="n"&&(r[a[0]]=Number(r[a[0]]))}}}function xx(e){sP([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function oP(e,t){return t.bookType=="ods"?qw(e,t):t.bookType=="numbers"?iP(e,t):t.bookType=="xlsb"?lP(e,t):cP(e,t)}function lP(e,t){Eh=1024,e&&!e.SSF&&(e.SSF=uo(Na)),e&&e.SSF&&(rm(),tm(e.SSF),t.revssf=nm(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,A0?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r=t.bookType=="xlsb"?"bin":"xml",n=jw.indexOf(t.bookType)>-1,a=ew();xx(t=t||{});var i=tx(),l="",c=0;if(t.cellXfs=[],rd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Fr(i,l,aw(e.Props,t)),a.coreprops.push(l),Cn(t.rels,2,l,un.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],h=0;h<e.SheetNames.length;++h)(e.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(e.SheetNames[h]);e.Props.SheetNames=d}for(e.Props.Worksheets=e.Props.SheetNames.length,Fr(i,l,sw(e.Props)),a.extprops.push(l),Cn(t.rels,3,l,un.EXT_PROPS),e.Custprops!==e.Props&&ns(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Fr(i,l,ow(e.Custprops)),a.custprops.push(l),Cn(t.rels,4,l,un.CUST_PROPS)),c=1;c<=e.SheetNames.length;++c){var p={"!id":{}},f=e.Sheets[e.SheetNames[c-1]],b=(f||{})["!type"]||"sheet";switch(b){case"chart":default:l="xl/worksheets/sheet"+c+"."+r,Fr(i,l,d7(c-1,l,t,e,p)),a.sheets.push(l),Cn(t.wbrels,-1,"worksheets/sheet"+c+"."+r,un.WS[0])}if(f){var g=f["!comments"],S=!1,y="";g&&g.length>0&&(y="xl/comments"+c+"."+r,Fr(i,y,p7(g,y)),a.comments.push(y),Cn(p,-1,"../comments"+c+"."+r,un.CMNT),S=!0),f["!legacy"]&&S&&Fr(i,"xl/drawings/vmlDrawing"+c+".vml",Sw(c,f["!comments"])),delete f["!comments"],delete f["!legacy"]}p["!id"].rId1&&Fr(i,rw(l),Th(p))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,Fr(i,l,f7(t.Strings,l,t)),a.strs.push(l),Cn(t.wbrels,-1,"sharedStrings."+r,un.SST)),l="xl/workbook."+r,Fr(i,l,u7(e,l)),a.workbooks.push(l),Cn(t.rels,1,l,un.WB),l="xl/theme/theme1.xml",Fr(i,l,yw(e.Themes,t)),a.themes.push(l),Cn(t.wbrels,-1,"theme/theme1.xml",un.THEME),l="xl/styles."+r,Fr(i,l,h7(e,l,t)),a.styles.push(l),Cn(t.wbrels,-1,"styles."+r,un.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",Fr(i,l,e.vbaraw),a.vba.push(l),Cn(t.wbrels,-1,"vbaProject.bin",un.VBA)),l="xl/metadata."+r,Fr(i,l,m7(l)),a.metadata.push(l),Cn(t.wbrels,-1,"metadata."+r,un.XLMETA),Fr(i,"[Content_Types].xml",tw(a,t)),Fr(i,"_rels/.rels",Th(t.rels)),Fr(i,"xl/_rels/workbook."+r+".rels",Th(t.wbrels)),delete t.revssf,delete t.ssf,i}function cP(e,t){Eh=1024,e&&!e.SSF&&(e.SSF=uo(Na)),e&&e.SSF&&(rm(),tm(e.SSF),t.revssf=nm(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,A0?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var r="xml",n=jw.indexOf(t.bookType)>-1,a=ew();xx(t=t||{});var i=tx(),l="",c=0;if(t.cellXfs=[],rd(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),l="docProps/core.xml",Fr(i,l,aw(e.Props,t)),a.coreprops.push(l),Cn(t.rels,2,l,un.CORE_PROPS),l="docProps/app.xml",!(e.Props&&e.Props.SheetNames))if(!e.Workbook||!e.Workbook.Sheets)e.Props.SheetNames=e.SheetNames;else{for(var d=[],h=0;h<e.SheetNames.length;++h)(e.Workbook.Sheets[h]||{}).Hidden!=2&&d.push(e.SheetNames[h]);e.Props.SheetNames=d}e.Props.Worksheets=e.Props.SheetNames.length,Fr(i,l,sw(e.Props)),a.extprops.push(l),Cn(t.rels,3,l,un.EXT_PROPS),e.Custprops!==e.Props&&ns(e.Custprops||{}).length>0&&(l="docProps/custom.xml",Fr(i,l,ow(e.Custprops)),a.custprops.push(l),Cn(t.rels,4,l,un.CUST_PROPS));var p=["SheetJ5"];for(t.tcid=0,c=1;c<=e.SheetNames.length;++c){var f={"!id":{}},b=e.Sheets[e.SheetNames[c-1]],g=(b||{})["!type"]||"sheet";switch(g){case"chart":default:l="xl/worksheets/sheet"+c+"."+r,Fr(i,l,Fw(c-1,t,e,f)),a.sheets.push(l),Cn(t.wbrels,-1,"worksheets/sheet"+c+"."+r,un.WS[0])}if(b){var S=b["!comments"],y=!1,N="";if(S&&S.length>0){var A=!1;S.forEach(function(P){P[1].forEach(function(T){T.T==!0&&(A=!0)})}),A&&(N="xl/threadedComments/threadedComment"+c+"."+r,Fr(i,N,UA(S,p,t)),a.threadedcomments.push(N),Cn(f,-1,"../threadedComments/threadedComment"+c+"."+r,un.TCMNT)),N="xl/comments"+c+"."+r,Fr(i,N,Nw(S)),a.comments.push(N),Cn(f,-1,"../comments"+c+"."+r,un.CMNT),y=!0}b["!legacy"]&&y&&Fr(i,"xl/drawings/vmlDrawing"+c+".vml",Sw(c,b["!comments"])),delete b["!comments"],delete b["!legacy"]}f["!id"].rId1&&Fr(i,rw(l),Th(f))}return t.Strings!=null&&t.Strings.length>0&&(l="xl/sharedStrings."+r,Fr(i,l,mw(t.Strings,t)),a.strs.push(l),Cn(t.wbrels,-1,"sharedStrings."+r,un.SST)),l="xl/workbook."+r,Fr(i,l,Dw(e)),a.workbooks.push(l),Cn(t.rels,1,l,un.WB),l="xl/theme/theme1.xml",Fr(i,l,yw(e.Themes,t)),a.themes.push(l),Cn(t.wbrels,-1,"theme/theme1.xml",un.THEME),l="xl/styles."+r,Fr(i,l,bw(e,t)),a.styles.push(l),Cn(t.wbrels,-1,"styles."+r,un.STY),e.vbaraw&&n&&(l="xl/vbaProject.bin",Fr(i,l,e.vbaraw),a.vba.push(l),Cn(t.wbrels,-1,"vbaProject.bin",un.VBA)),l="xl/metadata."+r,Fr(i,l,ww()),a.metadata.push(l),Cn(t.wbrels,-1,"metadata."+r,un.XLMETA),p.length>1&&(l="xl/persons/person.xml",Fr(i,l,$A(p)),a.people.push(l),Cn(t.wbrels,-1,"persons/person.xml",un.PEOPLE)),Fr(i,"[Content_Types].xml",tw(a,t)),Fr(i,"_rels/.rels",Th(t.rels)),Fr(i,"xl/_rels/workbook."+r+".rels",Th(t.wbrels)),delete t.revssf,delete t.ssf,i}function uP(e,t){var r="";switch((t||{}).type||"base64"){case"buffer":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":r=cu(e.slice(0,12));break;case"binary":r=e;break;case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Hw(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return lf(t.file,Dn.write(e,{type:vn?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Dn.write(e,t)}function dP(e,t){var r=uo(t||{}),n=oP(e,r);return hP(n,r)}function hP(e,t){var r={},n=vn?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(t.compression&&(r.compression="DEFLATE"),t.password)r.type=n;else switch(t.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+t.type)}var a=e.FullPaths?Dn.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!t.compression}):e.generate(r);if(typeof Deno<"u"&&typeof a=="string"){if(t.type=="binary"||t.type=="base64")return a;a=new Uint8Array(em(a))}return t.password&&typeof encrypt_agile<"u"?Hw(encrypt_agile(a,t.password),t):t.type==="file"?lf(t.file,a):t.type=="string"?N0(a):a}function fP(e,t){var r=t||{},n=C7(e,r);return Hw(n,r)}function Cc(e,t,r){r||(r="");var n=r+e;switch(t.type){case"base64":return z0(H0(n));case"binary":return H0(n);case"string":return e;case"file":return lf(t.file,n,"utf8");case"buffer":return vn?pu(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Cc(n,{type:"binary"}).split("").map(function(a){return a.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function pP(e,t){switch(t.type){case"base64":return z0(e);case"binary":return e;case"string":return e;case"file":return lf(t.file,e,"binary");case"buffer":return vn?pu(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function ep(e,t){switch(t.type){case"string":case"base64":case"binary":for(var r="",n=0;n<e.length;++n)r+=String.fromCharCode(e[n]);return t.type=="base64"?z0(r):t.type=="string"?N0(r):r;case"file":return lf(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function Ww(e,t){zE(),QT(e);var r=uo(t||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=Ww(e,r);return r.type="array",em(n)}var a=0;if(r.sheet&&(typeof r.sheet=="number"?a=r.sheet:a=e.SheetNames.indexOf(r.sheet),!e.SheetNames[a]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Cc(k7(e,r),r);case"slk":case"sylk":return Cc(Xk.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"htm":case"html":return Cc(Uw(e.Sheets[e.SheetNames[a]],r),r);case"txt":return pP(Vw(e.Sheets[e.SheetNames[a]],r),r);case"csv":return Cc(vx(e.Sheets[e.SheetNames[a]],r),r,"\uFEFF");case"dif":return Cc(Jk.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"dbf":return ep(Yk.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"prn":return Cc(Zk.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"rtf":return Cc(iA.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"eth":return Cc(pw.from_sheet(e.Sheets[e.SheetNames[a]],r),r);case"fods":return Cc(qw(e,r),r);case"wk1":return ep(H2.sheet_to_wk1(e.Sheets[e.SheetNames[a]],r),r);case"wk3":return ep(H2.book_to_wk3(e,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),ep(Mw(e,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),fP(e,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return dP(e,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function mP(e){if(!e.bookType){var t={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(e.bookType=r.slice(1)),e.bookType=t[e.bookType]||e.bookType}}function gP(e,t,r){var n={};return n.type="file",n.file=t,mP(n),Ww(e,n)}function xP(e,t,r,n,a,i,l,c){var d=rs(r),h=c.defval,p=c.raw||!Object.prototype.hasOwnProperty.call(c,"raw"),f=!0,b=a===1?[]:{};if(a!==1)if(Object.defineProperty)try{Object.defineProperty(b,"__rowNum__",{value:r,enumerable:!1})}catch{b.__rowNum__=r}else b.__rowNum__=r;if(!l||e[r])for(var g=t.s.c;g<=t.e.c;++g){var S=l?e[r][g]:e[n[g]+d];if(S===void 0||S.t===void 0){if(h===void 0)continue;i[g]!=null&&(b[i[g]]=h);continue}var y=S.v;switch(S.t){case"z":if(y==null)break;continue;case"e":y=y==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+S.t)}if(i[g]!=null){if(y==null)if(S.t=="e"&&y===null)b[i[g]]=null;else if(h!==void 0)b[i[g]]=h;else if(p&&y===null)b[i[g]]=null;else continue;else b[i[g]]=p&&(S.t!=="n"||S.t==="n"&&c.rawNumbers!==!1)?y:uu(S,y,c);y!=null&&(f=!1)}}return{row:b,isempty:f}}function Mp(e,t){if(e==null||e["!ref"]==null)return[];var r={t:"n",v:0},n=0,a=1,i=[],l=0,c="",d={s:{r:0,c:0},e:{r:0,c:0}},h=t||{},p=h.range!=null?h.range:e["!ref"];switch(h.header===1?n=1:h.header==="A"?n=2:Array.isArray(h.header)?n=3:h.header==null&&(n=0),typeof p){case"string":d=ta(p);break;case"number":d=ta(e["!ref"]),d.s.r=p;break;default:d=p}n>0&&(a=0);var f=rs(d.s.r),b=[],g=[],S=0,y=0,N=Array.isArray(e),A=d.s.r,P=0,T={};N&&!e[A]&&(e[A]=[]);var R=h.skipHidden&&e["!cols"]||[],q=h.skipHidden&&e["!rows"]||[];for(P=d.s.c;P<=d.e.c;++P)if(!(R[P]||{}).hidden)switch(b[P]=xs(P),r=N?e[A][P]:e[b[P]+f],n){case 1:i[P]=P-d.s.c;break;case 2:i[P]=b[P];break;case 3:i[P]=h.header[P-d.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),c=l=uu(r,null,h),y=T[l]||0,!y)T[l]=1;else{do c=l+"_"+y++;while(T[c]);T[l]=y,T[c]=1}i[P]=c}for(A=d.s.r+a;A<=d.e.r;++A)if(!(q[A]||{}).hidden){var te=xP(e,d,A,b,n,i,N,h);(te.isempty===!1||(n===1?h.blankrows!==!1:h.blankrows))&&(g[S++]=te.row)}return g.length=S,g}var Z2=/"/g;function vP(e,t,r,n,a,i,l,c){for(var d=!0,h=[],p="",f=rs(r),b=t.s.c;b<=t.e.c;++b)if(n[b]){var g=c.dense?(e[r]||[])[b]:e[n[b]+f];if(g==null)p="";else if(g.v!=null){d=!1,p=""+(c.rawNumbers&&g.t=="n"?g.v:uu(g,null,c));for(var S=0,y=0;S!==p.length;++S)if((y=p.charCodeAt(S))===a||y===i||y===34||c.forceQuotes){p='"'+p.replace(Z2,'""')+'"';break}p=="ID"&&(p='"ID"')}else g.f!=null&&!g.F?(d=!1,p="="+g.f,p.indexOf(",")>=0&&(p='"'+p.replace(Z2,'""')+'"')):p="";h.push(p)}return c.blankrows===!1&&d?null:h.join(l)}function vx(e,t){var r=[],n=t??{};if(e==null||e["!ref"]==null)return"";var a=ta(e["!ref"]),i=n.FS!==void 0?n.FS:",",l=i.charCodeAt(0),c=n.RS!==void 0?n.RS:`
`,d=c.charCodeAt(0),h=new RegExp((i=="|"?"\\|":i)+"+$"),p="",f=[];n.dense=Array.isArray(e);for(var b=n.skipHidden&&e["!cols"]||[],g=n.skipHidden&&e["!rows"]||[],S=a.s.c;S<=a.e.c;++S)(b[S]||{}).hidden||(f[S]=xs(S));for(var y=0,N=a.s.r;N<=a.e.r;++N)(g[N]||{}).hidden||(p=vP(e,a,N,f,l,d,i,n),p!=null&&(n.strip&&(p=p.replace(h,"")),(p||n.blankrows!==!1)&&r.push((y++?c:"")+p)));return delete n.dense,r.join("")}function Vw(e,t){t||(t={}),t.FS="	",t.RS=`
`;var r=vx(e,t);return r}function bP(e){var t="",r,n="";if(e==null||e["!ref"]==null)return[];var a=ta(e["!ref"]),i="",l=[],c,d=[],h=Array.isArray(e);for(c=a.s.c;c<=a.e.c;++c)l[c]=xs(c);for(var p=a.s.r;p<=a.e.r;++p)for(i=rs(p),c=a.s.c;c<=a.e.c;++c)if(t=l[c]+i,r=h?(e[p]||[])[c]:e[t],n="",r!==void 0){if(r.F!=null){if(t=r.F,!r.f)continue;n=r.f,t.indexOf(":")==-1&&(t=t+":"+t)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}d[d.length]=t+"="+n}return d}function Gw(e,t,r){var n=r||{},a=+!n.skipHeader,i=e||{},l=0,c=0;if(i&&n.origin!=null)if(typeof n.origin=="number")l=n.origin;else{var d=typeof n.origin=="string"?Li(n.origin):n.origin;l=d.r,c=d.c}var h,p={s:{c:0,r:0},e:{c,r:l+t.length-1+a}};if(i["!ref"]){var f=ta(i["!ref"]);p.e.c=Math.max(p.e.c,f.e.c),p.e.r=Math.max(p.e.r,f.e.r),l==-1&&(l=f.e.r+1,p.e.r=l+t.length-1+a)}else l==-1&&(l=0,p.e.r=t.length-1+a);var b=n.header||[],g=0;t.forEach(function(y,N){ns(y).forEach(function(A){(g=b.indexOf(A))==-1&&(b[g=b.length]=A);var P=y[A],T="z",R="",q=Ln({c:c+g,r:l+N+a});h=G0(i,q),P&&typeof P=="object"&&!(P instanceof Date)?i[q]=P:(typeof P=="number"?T="n":typeof P=="boolean"?T="b":typeof P=="string"?T="s":P instanceof Date?(T="d",n.cellDates||(T="n",P=co(P)),R=n.dateNF||Na[14]):P===null&&n.nullError&&(T="e",P=0),h?(h.t=T,h.v=P,delete h.w,delete h.R,R&&(h.z=R)):i[q]=h={t:T,v:P},R&&(h.z=R))})}),p.e.c=Math.max(p.e.c,c+b.length-1);var S=rs(l);if(a)for(g=0;g<b.length;++g)i[xs(g+c)+S]={t:"s",v:b[g]};return i["!ref"]=ri(p),i}function _P(e,t){return Gw(null,e,t)}function G0(e,t,r){if(typeof t=="string"){if(Array.isArray(e)){var n=Li(t);return e[n.r]||(e[n.r]=[]),e[n.r][n.c]||(e[n.r][n.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return typeof t!="number"?G0(e,Ln(t)):G0(e,Ln({r:t,c:r||0}))}function yP(e,t){if(typeof t=="number"){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}else if(typeof t=="string"){var r=e.SheetNames.indexOf(t);if(r>-1)return r;throw new Error("Cannot find sheet name |"+t+"|")}else throw new Error("Cannot find sheet |"+t+"|")}function wP(){return{SheetNames:[],Sheets:{}}}function SP(e,t,r,n){var a=1;if(!r)for(;a<=65535&&e.SheetNames.indexOf(r="Sheet"+a)!=-1;++a,r=void 0);if(!r||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&e.SheetNames.indexOf(r)>=0){var i=r.match(/(^.*?)(\d+)$/);a=i&&+i[2]||0;var l=i&&i[1]||r;for(++a;a<=65535&&e.SheetNames.indexOf(r=l+a)!=-1;++a);}if(Iw(r),e.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return e.SheetNames.push(r),e.Sheets[r]=t,r}function NP(e,t,r){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var n=yP(e,t);switch(e.Workbook.Sheets[n]||(e.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}e.Workbook.Sheets[n].Hidden=r}function jP(e,t){return e.z=t,e}function Kw(e,t,r){return t?(e.l={Target:t},r&&(e.l.Tooltip=r)):delete e.l,e}function EP(e,t,r){return Kw(e,"#"+t,r)}function kP(e,t,r){e.c||(e.c=[]),e.c.push({t,a:r||"SheetJS"})}function AP(e,t,r,n){for(var a=typeof t!="string"?t:ta(t),i=typeof t=="string"?t:ri(t),l=a.s.r;l<=a.e.r;++l)for(var c=a.s.c;c<=a.e.c;++c){var d=G0(e,l,c);d.t="n",d.F=i,delete d.v,l==a.s.r&&c==a.s.c&&(d.f=r,n&&(d.D=!0))}return e}var xg={encode_col:xs,encode_row:rs,encode_cell:Ln,encode_range:ri,decode_col:ox,decode_row:sx,split_cell:z6,decode_cell:Li,decode_range:Wo,format_cell:uu,sheet_add_aoa:Ky,sheet_add_json:Gw,sheet_add_dom:$w,aoa_to_sheet:Wh,json_to_sheet:_P,table_to_sheet:zw,table_to_book:J7,sheet_to_csv:vx,sheet_to_txt:Vw,sheet_to_json:Mp,sheet_to_html:Uw,sheet_to_formulae:bP,sheet_to_row_object_array:Mp,sheet_get_cell:G0,book_new:wP,book_append_sheet:SP,book_set_sheet_visibility:NP,cell_set_number_format:jP,cell_set_hyperlink:Kw,cell_set_internal_link:EP,cell_add_comment:kP,sheet_set_array_formula:AP,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const Q2=[{image_url:"/images/valores.png",title:"Acerca de CBTa 134",description:"Conoce nuestra historia, misin, visin y valores que nos definen como institucin.",path:"acerca",button_text:"Ver ms",is_locked:!0,is_visible:!0,order_index:1},{image_url:"/images/programacion.jpg",title:"Carreras Tcnicas",description:"Descubre nuestras especialidades tcnicas y elige tu futuro profesional.",path:"carreras",button_text:"Ver carreras",is_locked:!0,is_visible:!0,order_index:2},{image_url:"/images/galeria.png",title:"Galera",description:"Explora nuestra coleccin de fotos y eventos destacados.",path:"galeria",button_text:"Ver galera",is_locked:!1,is_visible:!0,order_index:3},{image_url:"/images/proceso de admincion.jpg",title:"Proceso de Admisin",description:"Informacin sobre requisitos y pasos para formar parte de nuestra institucin.",path:"admission",button_text:"Saber ms",is_locked:!1,is_visible:!0,order_index:4},{image_url:"/images/campus.png",title:"Clubs Estudiantiles",description:"nete a nuestros clubs deportivos, culturales y acadmicos.",path:"clubs",button_text:"Ver clubs",is_locked:!1,is_visible:!0,order_index:5},{image_url:"/images/ofimatica.jpg",title:"Contacto",description:"Informacin de contacto y ubicacin de nuestra institucin.",path:"contacto",button_text:"Contactarnos",is_locked:!1,is_visible:!0,order_index:6},{image_url:"/images/baetam.jpg",title:"BAETAM",description:"Bachillerato Autoplaneado - Educacin flexible para adultos.",path:"baetam",button_text:"Conocer BAETAM",is_locked:!1,is_visible:!0,order_index:7},{image_url:"/images/maestros-hero.png",title:"Maestros",description:"Recursos y enlaces tiles para el personal docente.",path:"maestros",button_text:"Portal Maestros",is_locked:!1,is_visible:!0,order_index:8},{image_url:"/images/alumnos-hero.png",title:"Alumnos",description:"Portal de alumnos para acceso a calificaciones y servicios.",path:"alumnos",button_text:"Portal Alumnos",is_locked:!1,is_visible:!0,order_index:9},{image_url:"/images/proceso de admincion.jpg",title:"Pre-Registro",description:"Realiza tu pre-registro como aspirante de nuevo ingreso y obtn tu ficha.",path:"preregistro",button_text:"Pre-Registrarme",is_locked:!1,is_visible:!0,order_index:10}];function CP({card:e,idx:t,total:r,darkMode:n,onSave:a,onToggleVisibility:i,onDelete:l,onMove:c,onDuplicate:d,onCreatePost:h}){const[p,f]=U.useState(!1),[b,g]=U.useState({title:e.title,description:e.description||"",path:e.path,button_text:e.button_text||"Ver ms",image_url:e.image_url,is_locked:e.is_locked,is_visible:e.is_visible!==!1,external_url:e.external_url||"",post_id:e.post_id||""}),[S,y]=U.useState(!1),[N,A]=U.useState(!1),P=`px-3 py-2 rounded-xl border text-sm ${n?"bg-slate-900 border-slate-700 text-white placeholder-slate-500":"bg-white border-slate-200"} w-full focus:ring-2 focus:ring-blue-500 outline-none transition`,T=async q=>{var ae;const te=(ae=q.target.files)==null?void 0:ae[0];if(!te)return;y(!0);const G=te.name.split(".").pop(),H=`option-${Date.now()}.${G}`,{error:M}=await ve.storage.from("ui_media").upload(H,te,{upsert:!0});if(M){alert("Error subiendo: "+M.message),y(!1);return}const{data:re}=ve.storage.from("ui_media").getPublicUrl(H);let I=re.publicUrl;I&&!I.includes("/object/public/")&&(I=I.replace("/object/","/object/public/"));const W={...b,image_url:I};g(W),await a(e.id,W),y(!1)},R=async()=>{A(!0),await a(e.id,b),A(!1),f(!1)};return s.jsx("div",{className:`rounded-2xl border overflow-hidden transition-all duration-200 ${e.is_visible===!1?"opacity-60":""} ${n?"bg-slate-900 border-slate-700":"bg-white border-slate-200 shadow-sm"}`,children:p?s.jsxs("div",{className:`p-4 space-y-3 ${n?"bg-slate-800":"bg-blue-50/40"}`,children:[s.jsxs("p",{className:"text-xs font-bold uppercase tracking-wider text-blue-500",children:[" Editando: ",e.title]}),s.jsxs("div",{className:"flex gap-3 items-start",children:[s.jsxs("div",{className:"relative w-24 h-20 flex-shrink-0 rounded-xl overflow-hidden border-2 border-blue-300",children:[s.jsx("img",{src:b.image_url,alt:"preview",className:"w-full h-full object-cover",onError:q=>{q.target.src="https://placehold.co/200x120?text=Sin+imagen"}}),S&&s.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs",children:"Subiendo..."})})]}),s.jsxs("div",{className:"flex-1 space-y-1",children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Reemplazar imagen"}),s.jsx("input",{type:"file",accept:"image/*",onChange:T,disabled:S,className:`${P} cursor-pointer text-xs`}),s.jsx("input",{type:"text",placeholder:"O pega URL de imagen",value:b.image_url,onChange:q=>g(te=>({...te,image_url:q.target.value})),className:`${P} text-xs`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"Ttulo"}),s.jsx("input",{type:"text",value:b.title,onChange:q=>g(te=>({...te,title:q.target.value})),className:P})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"Texto del botn"}),s.jsx("input",{type:"text",placeholder:"Ver ms",value:b.button_text,onChange:q=>g(te=>({...te,button_text:q.target.value})),className:P})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"Descripcin"}),s.jsx("textarea",{value:b.description,onChange:q=>g(te=>({...te,description:q.target.value})),rows:2,className:P})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"Ruta interna (Path)"}),s.jsx("input",{type:"text",placeholder:"maestros",value:b.path,onChange:q=>g(te=>({...te,path:q.target.value})),className:P})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"URL Externa (Opcional)"}),s.jsx("input",{type:"text",placeholder:"https://...",value:b.external_url,onChange:q=>g(te=>({...te,external_url:q.target.value})),className:P})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"ID de Publicacin (Post ID)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",placeholder:"Ej: 42",value:b.post_id,onChange:q=>g(te=>({...te,post_id:q.target.value})),className:P}),s.jsx("button",{type:"button",onClick:async()=>{const q=await h(b.title);q&&g({...b,post_id:q})},className:"px-3 py-2 bg-purple-100 text-purple-700 rounded-xl text-xs font-bold hover:bg-purple-200 transition whitespace-nowrap",children:"+ Crear Post"})]})]}),s.jsxs("div",{className:"flex flex-col gap-2 justify-end",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:b.is_visible,onChange:q=>g(te=>({...te,is_visible:q.target.checked})),className:"w-4 h-4 rounded"}),s.jsx("span",{children:" Visible en el inicio"})]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:b.is_locked,onChange:q=>g(te=>({...te,is_locked:q.target.checked})),className:"w-4 h-4 rounded"}),s.jsx("span",{children:" Proteger tarjeta"})]})]})]}),s.jsxs("div",{className:"flex gap-2 pt-1",children:[s.jsx("button",{onClick:R,disabled:N||S,className:"px-5 py-2 bg-blue-700 hover:bg-blue-800 text-white font-bold rounded-xl text-sm disabled:opacity-60 transition",children:N?" Guardando...":" Guardar cambios"}),s.jsx("button",{onClick:()=>{f(!1),g({title:e.title,description:e.description||"",path:e.path,button_text:e.button_text||"Ver ms",image_url:e.image_url,is_locked:e.is_locked,is_visible:e.is_visible!==!1})},className:`px-4 py-2 rounded-xl text-sm font-semibold transition ${n?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-200 text-slate-700 hover:bg-slate-300"}`,children:"Cancelar"})]})]}):s.jsxs("div",{className:"flex gap-0",children:[s.jsxs("div",{className:"relative w-28 md:w-36 flex-shrink-0",children:[s.jsx("img",{src:e.image_url,alt:e.title,className:"w-full h-full object-cover",style:{minHeight:"90px"},onError:q=>{q.target.src="https://placehold.co/200x120?text=Sin+imagen"}}),e.is_visible===!1&&s.jsx("div",{className:"absolute inset-0 bg-black/60 flex items-center justify-center",children:s.jsx("span",{className:"text-white text-xs font-bold",children:"OCULTA"})}),e.is_locked&&s.jsx("span",{className:"absolute top-1 right-1 bg-orange-500 text-white text-xs rounded px-1 py-0.5",children:""})]}),s.jsx("div",{className:"flex-1 p-3 min-w-0",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"min-w-0",children:[s.jsx("p",{className:"font-bold text-sm truncate",children:e.title}),s.jsx("p",{className:`text-xs mt-0.5 line-clamp-2 ${n?"text-slate-400":"text-slate-500"}`,children:e.description}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-1.5",children:[s.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full font-mono ${n?"bg-slate-800 text-slate-400":"bg-slate-100 text-slate-500"}`,children:["/",e.path]}),s.jsxs("span",{className:`text-xs px-2 py-0.5 rounded-full ${n?"bg-blue-900/40 text-blue-400":"bg-blue-50 text-blue-600"}`,children:['Btn: "',e.button_text||"Ver ms",'"']}),e.is_visible===!1&&s.jsx("span",{className:"text-xs px-2 py-0.5 rounded-full bg-orange-100 text-orange-600 font-semibold",children:"Oculta"})]})]}),s.jsxs("div",{className:"flex flex-col gap-1 flex-shrink-0",children:[s.jsxs("div",{className:"flex gap-1 mb-1",children:[s.jsx("button",{onClick:()=>c(e,-1),disabled:t===0,title:"Mover arriba",className:`p-1.5 rounded-lg transition ${t===0?"opacity-30 cursor-not-allowed":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_upward"})}),s.jsx("button",{onClick:()=>c(e,1),disabled:t===r-1,title:"Mover abajo",className:`p-1.5 rounded-lg transition ${t===r-1?"opacity-30 cursor-not-allowed":"hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_downward"})}),s.jsx("button",{onClick:()=>d(e),title:"Duplicar tarjeta",className:"p-1.5 rounded-lg hover:bg-slate-200 dark:hover:bg-slate-700 transition",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"content_copy"})})]}),s.jsx("button",{onClick:()=>f(!0),className:"text-xs px-3 py-1.5 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition whitespace-nowrap",children:" Editar"}),s.jsx("button",{onClick:()=>i(e),className:`text-xs px-3 py-1.5 rounded-lg font-semibold transition whitespace-nowrap ${e.is_visible===!1?"bg-green-100 text-green-700 hover:bg-green-200":"bg-orange-100 text-orange-600 hover:bg-orange-200"}`,children:e.is_visible===!1?"":""}),!e.is_locked&&s.jsx("button",{onClick:()=>l(e),className:"text-xs px-3 py-1.5 bg-red-100 text-red-600 rounded-lg font-semibold hover:bg-red-200 transition",children:""})]})]})})]})})}function TP({slide:e,idx:t,darkMode:r,onUpdate:n,onDelete:a}){const[i,l]=U.useState(!1),[c,d]=U.useState(!1),[h,p]=U.useState(""),[f,b]=U.useState(null),[g,S]=U.useState(!1),[y,N]=U.useState(!1),[A,P]=U.useState({title:e.title||"",subtitle:e.subtitle||"",button_text:e.button_text||"",button_link:e.button_link||"",overlay_opacity:e.overlay_opacity||.4}),T=`p-2.5 rounded-xl border text-sm ${r?"bg-slate-900 border-slate-700 text-white placeholder-slate-500":"bg-white border-slate-200"} w-full focus:ring-2 focus:ring-blue-500 outline-none transition`,R=async()=>{if(!f)return;S(!0);const H=f.name.split(".").pop(),M=`hero-${Date.now()}.${H}`,{error:re}=await ve.storage.from("ui_media").upload(M,f,{upsert:!0});if(re){alert("Error subiendo: "+re.message),S(!1);return}const{data:I}=ve.storage.from("ui_media").getPublicUrl(M);let W=I.publicUrl;W&&!W.includes("/object/public/")&&(W=W.replace("/object/","/object/public/"));const{error:ae}=await ve.from("hero_slides").update({image_url:W}).eq("id",e.id);ae?alert("Error al actualizar base de datos: "+ae.message):(await n(),l(!1),b(null)),S(!1)},q=async()=>{N(!0);const{error:H}=await ve.from("hero_slides").update({image_url:h.trim()||e.image_url,...A}).eq("id",e.id);H?alert("Error: "+H.message):(await n(),l(!1),d(!1),p("")),N(!1)},te=async()=>{if(e.is_locked){alert("Este slide est protegido. Desprotgelo primero.");return}if(!window.confirm(`Eliminar el slide #${t+1}?`))return;const{error:H}=await ve.from("hero_slides").delete().eq("id",e.id);H?alert("Error: "+H.message):await n()},G=async()=>{const{error:H}=await ve.from("hero_slides").update({is_locked:!e.is_locked}).eq("id",e.id);H?alert("Error: "+H.message):await n()};return s.jsxs("div",{className:`rounded-2xl border overflow-hidden ${r?"bg-slate-900 border-slate-700":"bg-white border-slate-200 shadow-sm"}`,children:[s.jsxs("div",{className:"flex gap-0",children:[s.jsxs("div",{className:"relative flex-shrink-0 w-40 md:w-52",style:{minHeight:"110px"},children:[s.jsx("img",{src:e.image_url,alt:`Slide ${t+1}`,className:"w-full h-full object-cover",style:{minHeight:"110px"},onError:H=>{H.target.src="https://placehold.co/300x110?text=Sin+imagen"}}),s.jsxs("span",{className:"absolute top-2 left-2 bg-black/70 text-white text-xs font-bold rounded-full px-2 py-0.5",children:["#",t+1]}),e.is_locked&&s.jsx("span",{className:"absolute top-2 right-2 bg-orange-500 text-white text-xs rounded-full px-1.5 py-0.5",children:""})]}),s.jsxs("div",{className:"flex-1 p-3 flex flex-col justify-between min-w-0",children:[s.jsxs("div",{children:[s.jsx("p",{className:"font-bold text-sm truncate",children:e.title||`Slide #${t+1}`}),s.jsx("p",{className:`text-xs truncate ${r?"text-slate-400":"text-slate-500"}`,children:e.subtitle||e.image_url})]}),s.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[s.jsx("button",{onClick:()=>{d(H=>!H),l(!1)},className:`text-xs px-3 py-1.5 rounded-lg font-semibold transition ${c?"bg-blue-700 text-white":"bg-blue-600 text-white hover:bg-blue-700"}`,children:c?" Cerrar":" Editar contenido"}),s.jsx("button",{onClick:()=>{l(H=>!H),d(!1),p(""),b(null)},className:`text-xs px-3 py-1.5 rounded-lg font-semibold transition ${i?r?"bg-slate-700 text-slate-300":"bg-slate-200 text-slate-700":r?"bg-slate-800 text-slate-300 hover:bg-slate-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:i?" Cancelar":" Cambiar imagen"}),s.jsx("button",{onClick:G,className:`text-xs px-3 py-1.5 rounded-lg font-semibold transition ${e.is_locked?"bg-orange-100 text-orange-700":r?"bg-slate-800 text-slate-400":"bg-slate-100 text-slate-500"}`,children:e.is_locked?"":""}),!e.is_locked&&s.jsx("button",{onClick:te,className:"text-xs px-3 py-1.5 bg-red-100 text-red-600 rounded-lg hover:bg-red-200 transition",children:""})]})]})]}),c&&s.jsxs("div",{className:`border-t p-4 space-y-4 ${r?"border-slate-700 bg-slate-800/30":"border-slate-100 bg-slate-50"}`,children:[s.jsx("p",{className:"text-xs font-bold text-blue-600 uppercase",children:" Contenido del Slide"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"Ttulo principal"}),s.jsx("input",{type:"text",placeholder:"Ej: Bienvenidos al CBTa!",value:A.title,onChange:H=>P({...A,title:H.target.value}),className:T})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"Subttulo / Descripcin"}),s.jsx("textarea",{placeholder:"Breve mensaje sobre la imagen...",rows:1,value:A.subtitle,onChange:H=>P({...A,subtitle:H.target.value}),className:T})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"Texto del botn (Opcional)"}),s.jsx("input",{type:"text",placeholder:"Ej: Ver noticias",value:A.button_text,onChange:H=>P({...A,button_text:H.target.value}),className:T})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"Enlace del botn"}),s.jsx("input",{type:"text",placeholder:"Ej: /noticias o https://...",value:A.button_link,onChange:H=>P({...A,button_link:H.target.value}),className:T})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase",children:"Opacidad de fondo (legibilidad)"}),s.jsxs("span",{className:"text-xs font-bold text-blue-600",children:[(A.overlay_opacity*100).toFixed(0),"%"]})]}),s.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:A.overlay_opacity,onChange:H=>P({...A,overlay_opacity:parseFloat(H.target.value)}),className:"w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"})]})]}),s.jsx("button",{onClick:q,disabled:y,className:"w-full py-2.5 bg-blue-700 hover:bg-blue-800 text-white font-bold rounded-xl transition shadow-lg shadow-blue-700/20",children:y?" Guardando...":" Guardar Contenido"})]}),i&&s.jsxs("div",{className:`border-t p-4 space-y-3 ${r?"border-slate-700 bg-slate-800/50":"border-slate-100 bg-blue-50/40"}`,children:[s.jsxs("p",{className:"text-xs font-bold text-blue-500 uppercase",children:[" Reemplazar imagen del slide #",t+1]}),h&&s.jsxs("div",{className:"flex gap-3 items-center",children:[s.jsx("div",{className:"w-24 h-14 rounded-xl overflow-hidden border-2 border-blue-400 flex-shrink-0",children:s.jsx("img",{src:h,alt:"nueva",className:"w-full h-full object-cover",onError:H=>H.target.src="https://placehold.co/200?text=Error"})}),s.jsx("p",{className:"text-xs text-green-600 font-semibold",children:" Nueva imagen lista para guardar"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-2 items-end",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"Subir archivo"}),s.jsx("input",{type:"file",accept:"image/*",onChange:H=>{var M;return b(((M=H.target.files)==null?void 0:M[0])||null)},className:`${T} cursor-pointer`})]}),s.jsx("button",{type:"button",onClick:R,disabled:g||!f,className:"py-2.5 bg-green-600 hover:bg-green-700 text-white text-sm font-semibold rounded-xl disabled:opacity-50 transition",children:g?" Subiendo...":" Subir"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"O pegar URL directamente"}),s.jsx("input",{type:"text",placeholder:"https://ejemplo.com/imagen.jpg",value:h,onChange:H=>p(H.target.value),className:T})]}),s.jsx("button",{onClick:q,disabled:y||!h,className:"px-5 py-2.5 bg-blue-700 hover:bg-blue-800 text-white font-bold rounded-xl text-sm disabled:opacity-60 transition",children:y?" Guardando...":" Guardar nueva imagen"})]})]})}function PP({darkMode:e}){const[t,r]=U.useState([]),[n,a]=U.useState(!0),[i,l]=U.useState({image_url:"",title:"",subtitle:"",button_text:"",button_link:"",is_locked:!1}),[c,d]=U.useState(null),[h,p]=U.useState(!1),[f,b]=U.useState(!1),[g,S]=U.useState(!1),y=`rounded-[2rem] p-6 md:p-8 border ${e?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,N=`p-3 rounded-xl border ${e?"bg-slate-900 border-slate-700 text-white placeholder-slate-500":"bg-slate-50 border-slate-200"} w-full focus:ring-2 focus:ring-blue-500 outline-none transition`,A=async()=>{a(!0);const{data:R,error:q}=await ve.from("hero_slides").select("*").order("order_index",{ascending:!0});!q&&R&&r(R),a(!1)};U.useEffect(()=>{A()},[]);const P=async()=>{if(!c)return;p(!0);const R=c.name.split(".").pop(),q=`hero-${Date.now()}.${R}`,{error:te}=await ve.storage.from("ui_media").upload(q,c,{upsert:!0});if(te){alert("Error subiendo: "+te.message),p(!1);return}const{data:G}=ve.storage.from("ui_media").getPublicUrl(q);let H=G.publicUrl;H&&!H.includes("/object/public/")&&(H=H.replace("/object/","/object/public/")),l(M=>({...M,image_url:H})),d(null),p(!1)},T=async R=>{if(R.preventDefault(),!i.image_url.trim()){alert("Ingresa o sube una imagen primero.");return}b(!0);const{error:q}=await ve.from("hero_slides").insert([{...i,order_index:t.length}]);q?alert("Error: "+q.message):(l({image_url:"",title:"",subtitle:"",button_text:"",button_link:"",is_locked:!1}),d(null),S(!1),await A()),b(!1)};return s.jsxs("section",{className:y,children:[s.jsxs("h3",{className:"text-xl font-bold mb-1 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-purple-600",children:"slideshow"}),"Carrusel Hero",t.length>0&&s.jsxs("span",{className:"ml-1 text-sm font-normal bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full",children:[t.length," imagen",t.length!==1?"es":""]})]}),s.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6",children:[s.jsx("p",{className:"text-sm text-slate-400",children:"Controla la portada del sitio. Puedes aadir ttulos y botones sobre las imgenes para destacar contenido importante."}),s.jsx("button",{onClick:()=>S(!g),className:"px-4 py-2 bg-purple-600 text-white font-bold rounded-xl text-sm hover:bg-purple-700 transition flex-shrink-0",children:g?" Cancelar":"+ Nuevo Slide"})]}),n&&s.jsxs("div",{className:"flex items-center gap-3 py-8 text-slate-400",children:[s.jsx("span",{className:"material-symbols-outlined animate-spin",children:"refresh"}),"Cargando imgenes del carrusel..."]}),!n&&t.length===0&&s.jsxs("div",{className:`p-8 rounded-2xl text-center border-2 border-dashed mb-6 ${e?"border-slate-700 text-slate-500":"border-slate-200 text-slate-400"}`,children:[s.jsx("span",{className:"material-symbols-outlined text-5xl mb-2 block",children:"slideshow"}),s.jsx("p",{className:"font-semibold mb-1",children:"Sin imgenes en el carrusel"}),s.jsx("p",{className:"text-sm",children:"Agrega la primera imagen usando el formulario de abajo."})]}),!n&&t.length>0&&s.jsx("div",{className:"space-y-3 mb-8",children:t.map((R,q)=>s.jsx(TP,{slide:R,idx:q,darkMode:e,onUpdate:A},R.id))}),g&&s.jsxs("div",{className:`rounded-2xl border-2 border-dashed p-6 space-y-4 mb-8 ${e?"border-purple-600 bg-purple-900/10":"border-purple-200 bg-purple-50/40"}`,children:[s.jsxs("p",{className:"text-sm font-bold text-purple-600 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-base",children:"add_photo_alternate"}),"Configurar nueva portada"]}),s.jsxs("form",{onSubmit:T,className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4 items-start",children:[s.jsx("div",{className:"w-full md:w-48 h-28 bg-slate-200 rounded-xl overflow-hidden border-2 border-slate-300 flex-shrink-0",children:i.image_url?s.jsx("img",{src:i.image_url,alt:"preview",className:"w-full h-full object-cover"}):s.jsxs("div",{className:"w-full h-full flex items-center justify-center text-slate-400 text-xs text-center p-2",children:["Subir imagen",s.jsx("br",{}),"para vista previa"]})}),s.jsxs("div",{className:"flex-1 space-y-3 w-full",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"Subir archivo"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:R=>{var q;return d(((q=R.target.files)==null?void 0:q[0])||null)},className:`${N} cursor-pointer`}),s.jsx("button",{type:"button",onClick:P,disabled:h||!c,className:"px-4 py-2 bg-green-600 text-white font-bold rounded-xl disabled:opacity-50 text-xs",children:h?"":"Subir"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"O URL directa"}),s.jsx("input",{type:"text",placeholder:"/images/...",value:i.image_url,onChange:R=>l({...i,image_url:R.target.value}),className:N})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 pt-4 border-t border-purple-100 dark:border-purple-900/30",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"Ttulo principal (Opcional)"}),s.jsx("input",{type:"text",placeholder:"Ej: Inscripciones Abiertas",value:i.title,onChange:R=>l({...i,title:R.target.value}),className:N})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"Subttulo / Bajada"}),s.jsx("input",{type:"text",placeholder:"Ej: Ven y forma parte de nuestra comunidad",value:i.subtitle,onChange:R=>l({...i,subtitle:R.target.value}),className:N})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"Texto del botn"}),s.jsx("input",{type:"text",placeholder:"Ej: Ver requisitos",value:i.button_text,onChange:R=>l({...i,button_text:R.target.value}),className:N})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"Enlace del botn"}),s.jsx("input",{type:"text",placeholder:"Ej: /admission",value:i.button_link,onChange:R=>l({...i,button_link:R.target.value}),className:N})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:i.is_locked,onChange:R=>l({...i,is_locked:R.target.checked}),className:"w-4 h-4 rounded"}),s.jsx("span",{children:" Proteger contra eliminacin"})]}),s.jsx("button",{type:"submit",disabled:f||!i.image_url,className:"px-8 py-3 bg-purple-700 hover:bg-purple-800 text-white font-bold rounded-xl transition disabled:opacity-60 shadow-lg shadow-purple-700/20",children:f?" Creando...":" Crear Portada"})]})]})]})]})}function LP({darkMode:e,uiHeaderForm:t,setUiHeaderForm:r,handleSaveUiHeader:n,uiHeaderLinks:a,uiHeaderLinkForm:i,setUiHeaderLinkForm:l,editingHeaderLink:c,setEditingHeaderLink:d,handleSaveHeaderLink:h,handleDeleteHeaderLink:p}){const f=`rounded-[2rem] p-6 md:p-8 border ${e?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,b=`p-3 rounded-xl border ${e?"bg-slate-900 border-slate-700 text-white placeholder-slate-500":"bg-slate-50 border-slate-200"} w-full focus:ring-2 focus:ring-blue-500 outline-none transition`;return s.jsxs("section",{className:f,children:[s.jsxs("h3",{className:"text-xl font-bold mb-1 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-600",children:"web_asset"}),"Header del Sitio"]}),s.jsx("p",{className:"text-sm text-slate-400 mb-6",children:"Edita el logo y ttulo que aparecen en la barra superior."}),s.jsxs("form",{onSubmit:n,className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1 uppercase",children:"URL del Logo"}),s.jsx("input",{type:"text",placeholder:"/images/logo.png",value:t.logo_url,onChange:g=>r({...t,logo_url:g.target.value}),className:b}),t.logo_url&&s.jsx("img",{src:t.logo_url,alt:"Logo",className:"mt-2 h-10 object-contain rounded border",onError:g=>g.target.style.display="none"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1 uppercase",children:"Ttulo del Sitio"}),s.jsx("input",{type:"text",placeholder:"CBTa 134",value:t.title_text,onChange:g=>r({...t,title_text:g.target.value}),className:b})]})]}),s.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-blue-700 hover:bg-blue-800 text-white font-bold rounded-xl transition",children:" Guardar Header"})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700",children:[s.jsx("h4",{className:"font-bold mb-3",children:"Links de navegacin"}),s.jsxs("form",{onSubmit:h,className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-4",children:[s.jsx("input",{type:"text",placeholder:"Label (ej: Noticias)",value:i.label,onChange:g=>l({...i,label:g.target.value}),className:b}),s.jsx("input",{type:"text",placeholder:"Path (ej: noticias)",value:i.path,onChange:g=>l({...i,path:g.target.value}),className:b}),s.jsx("input",{type:"text",placeholder:"Href (ej: /noticias)",value:i.href,onChange:g=>l({...i,href:g.target.value}),className:b}),s.jsxs("div",{className:"md:col-span-3 flex gap-2",children:[s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-700 text-white font-semibold rounded-xl text-sm hover:bg-blue-800 transition",children:c?" Actualizar":"+ Agregar Link"}),c&&s.jsx("button",{type:"button",onClick:()=>{d(null),l({label:"",href:"",path:""})},className:`px-4 py-2.5 rounded-xl text-sm ${e?"bg-slate-700 text-slate-300":"bg-slate-200 text-slate-700"}`,children:"Cancelar"})]})]}),s.jsxs("div",{className:"space-y-2",children:[a.map(g=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${e?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-sm",children:g.label}),s.jsxs("span",{className:"text-xs text-slate-400 ml-2",children:[" /",g.path]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{d(g),l({label:g.label,path:g.path,href:g.href||""})},className:"text-xs px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg font-semibold",children:"Editar"}),s.jsx("button",{onClick:()=>p(g.id),className:"text-xs px-3 py-1.5 bg-red-100 text-red-600 rounded-lg font-semibold",children:"Eliminar"})]})]},g.id)),a.length===0&&s.jsx("p",{className:"text-sm text-slate-400 italic",children:"Sin links configurados."})]})]})]})}function RP({darkMode:e,uiFooterForm:t,setUiFooterForm:r,handleSaveUiFooter:n,uiFooterLinks:a,uiFooterLinkForm:i,setUiFooterLinkForm:l,editingFooterLink:c,setEditingFooterLink:d,handleSaveFooterLink:h,handleDeleteFooterLink:p}){const f=`rounded-[2rem] p-6 md:p-8 border ${e?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,b=`p-3 rounded-xl border ${e?"bg-slate-900 border-slate-700 text-white placeholder-slate-500":"bg-slate-50 border-slate-200"} w-full focus:ring-2 focus:ring-blue-500 outline-none transition`;return s.jsxs("section",{className:f,children:[s.jsxs("h3",{className:"text-xl font-bold mb-1 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-600",children:"bottom_navigation"}),"Footer del Sitio"]}),s.jsx("p",{className:"text-sm text-slate-400 mb-6",children:"Edita los textos del pie de pgina."}),s.jsxs("form",{onSubmit:n,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[[{key:"school_name",label:"Nombre del plantel",placeholder:"CBTa 134"},{key:"location_text",label:"Ubicacin",placeholder:"Tetela del Volcn, Morelos"},{key:"tagline_text",label:"Tagline / lema",placeholder:"Educacin que transforma"},{key:"copyright_text",label:"Copyright",placeholder:" 2025 CBTa 134"},{key:"rights_text",label:"Derechos reservados",placeholder:"Todos los derechos reservados"}].map(({key:g,label:S,placeholder:y})=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1 uppercase",children:S}),s.jsx("input",{type:"text",placeholder:y,value:t[g]||"",onChange:N=>r({...t,[g]:N.target.value}),className:b})]},g)),[{key:"legal_text_1",label:"Texto legal 1"},{key:"legal_text_2",label:"Texto legal 2"},{key:"legal_text_3",label:"Texto legal 3"}].map(({key:g,label:S})=>s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"block text-xs font-semibold text-slate-500 mb-1 uppercase",children:S}),s.jsx("textarea",{rows:2,value:t[g]||"",onChange:y=>r({...t,[g]:y.target.value}),className:b})]},g)),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-2.5 bg-blue-700 hover:bg-blue-800 text-white font-bold rounded-xl transition",children:" Guardar Footer"})})]}),s.jsxs("div",{className:"mt-6 pt-6 border-t border-slate-100 dark:border-slate-700",children:[s.jsx("h4",{className:"font-bold mb-3",children:"Links del Footer"}),s.jsxs("form",{onSubmit:h,className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:[[{key:"label",placeholder:"Label"},{key:"href",placeholder:"URL"},{key:"icon_url",placeholder:"Icon URL"},{key:"style_class",placeholder:"Clase CSS"}].map(({key:g,placeholder:S})=>s.jsx("input",{type:"text",placeholder:S,value:i[g]||"",onChange:y=>l({...i,[g]:y.target.value}),className:b},g)),s.jsxs("div",{className:"md:col-span-2 flex gap-2",children:[s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-700 text-white font-semibold rounded-xl text-sm",children:c?" Actualizar":"+ Agregar Link"}),c&&s.jsx("button",{type:"button",onClick:()=>{d(null),l({label:"",href:"",icon_url:"",style_class:""})},className:`px-4 py-2.5 rounded-xl text-sm ${e?"bg-slate-700 text-slate-300":"bg-slate-200 text-slate-700"}`,children:"Cancelar"})]})]}),s.jsxs("div",{className:"space-y-2",children:[a.map(g=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${e?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsx("span",{className:"font-semibold text-sm",children:g.label}),s.jsx("span",{className:"text-xs text-slate-400 ml-2",children:g.href})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{d(g),l({label:g.label,href:g.href,icon_url:g.icon_url||"",style_class:g.style_class||""})},className:"text-xs px-3 py-1.5 bg-blue-100 text-blue-700 rounded-lg font-semibold",children:"Editar"}),s.jsx("button",{onClick:()=>p(g.id),className:"text-xs px-3 py-1.5 bg-red-100 text-red-600 rounded-lg font-semibold",children:"Eliminar"})]})]},g.id)),a.length===0&&s.jsx("p",{className:"text-sm text-slate-400 italic",children:"Sin links configurados."})]})]})]})}const FP=({darkMode:e,uiHeaderForm:t,setUiHeaderForm:r,handleSaveUiHeader:n,uiHeaderLinks:a,uiHeaderLinkForm:i,setUiHeaderLinkForm:l,editingHeaderLink:c,setEditingHeaderLink:d,handleSaveHeaderLink:h,handleDeleteHeaderLink:p,uiFooterForm:f,setUiFooterForm:b,handleSaveUiFooter:g,uiFooterLinks:S,uiFooterLinkForm:y,setUiFooterLinkForm:N,editingFooterLink:A,setEditingFooterLink:P,handleSaveFooterLink:T,handleDeleteFooterLink:R})=>{const[q,te]=U.useState("tarjetas"),[G,H]=U.useState([]),[M,re]=U.useState(!0),[I,W]=U.useState(!1),[ae,ge]=U.useState(!1),[_e,Le]=U.useState({image_url:"",title:"",description:"",path:"",button_text:"Ver ms",is_locked:!1,is_visible:!0,external_url:"",post_id:""}),[Te,Q]=U.useState(null),[ye,je]=U.useState(!1),[oe,j]=U.useState(!1),B=async()=>{re(!0);const{data:Pe,error:rt}=await ve.from("home_options").select("*").order("order_index",{ascending:!0});!rt&&Pe&&H(Pe),re(!1)};U.useEffect(()=>{B()},[]);const O=async()=>{if(window.confirm("Cargar las tarjetas por defecto a la base de datos? Esto solo agregar si no existen.")){W(!0);try{const{error:Pe}=await ve.from("home_options").insert(Q2);if(Pe)for(const rt of Q2)await ve.from("home_options").upsert(rt,{onConflict:"path"});await B()}catch(Pe){alert("Error al sembrar: "+Pe.message)}finally{W(!1)}}},D=async(Pe,rt)=>{const{error:Je}=await ve.from("home_options").update({title:rt.title,description:rt.description,path:rt.path,button_text:rt.button_text||"Ver ms",image_url:rt.image_url,is_locked:rt.is_locked,is_visible:rt.is_visible!==!1,external_url:rt.external_url||null,post_id:rt.post_id||null}).eq("id",Pe);if(Je){alert("Error al guardar: "+Je.message);return}await B()},Z=async Pe=>{const rt=Pe.is_visible===!1,{error:Je}=await ve.from("home_options").update({is_visible:rt}).eq("id",Pe.id);Je?alert("Error: "+Je.message):await B()},pe=async Pe=>{if(Pe.is_locked){alert("Esta tarjeta est protegida. Desprotgela antes de eliminar.");return}if(!window.confirm(`Eliminar la tarjeta "${Pe.title}"?`))return;const{error:rt}=await ve.from("home_options").delete().eq("id",Pe.id);rt?alert("Error: "+rt.message):await B()},be=async(Pe,rt)=>{const kt=G.findIndex(fr=>fr.id===Pe.id)+rt;if(kt<0||kt>=G.length)return;const Ze=G[kt],{error:Et}=await ve.from("home_options").update({order_index:Ze.order_index}).eq("id",Pe.id),{error:Pt}=await ve.from("home_options").update({order_index:Pe.order_index}).eq("id",Ze.id);Et||Pt?alert("Error al reordenar"):await B()},Se=async Pe=>{if(!window.confirm(`Quieres crear un nuevo Aviso Global con el ttulo "${Pe}" y vincularlo?`))return null;const{data:Je,error:kt}=await ve.from("publicaciones_globales").insert([{titulo:Pe,subtitulo:"Nueva publicacin desde tarjeta",contenido:"Escribe aqu el contenido detallado...",tipo:"general",fecha:new Date().toISOString().split("T")[0],is_visible:!0}]).select();return kt?(alert("Error: "+kt.message),null):Je[0].id},Ee=async Pe=>{const{id:rt,created_at:Je,...kt}=Pe,Ze=Math.max(...G.map(Pt=>Pt.order_index),0),{error:Et}=await ve.from("home_options").insert([{...kt,title:`${Pe.title} (Copia)`,is_locked:!1,order_index:Ze+1}]);Et?alert("Error al duplicar: "+Et.message):await B()},Ye=async()=>{if(!Te)return;je(!0);const Pe=Te.name.split(".").pop(),rt=`option-${Date.now()}.${Pe}`,{error:Je}=await ve.storage.from("ui_media").upload(rt,Te,{upsert:!0});if(Je){alert("Error: "+Je.message),je(!1);return}const{data:kt}=ve.storage.from("ui_media").getPublicUrl(rt);let Ze=kt.publicUrl;Ze&&!Ze.includes("/object/public/")&&(Ze=Ze.replace("/object/","/object/public/")),Le(Et=>({...Et,image_url:Ze})),Q(null),je(!1)},at=async Pe=>{if(Pe.preventDefault(),!_e.title||!_e.path||!_e.image_url){alert("Completa al menos ttulo, path e imagen.");return}j(!0);const rt=Math.max(...G.map(kt=>kt.order_index),0),{error:Je}=await ve.from("home_options").insert([{..._e,button_text:_e.button_text||"Ver ms",is_visible:_e.is_visible!==!1,order_index:rt+1}]);Je?alert("Error: "+Je.message):(Le({image_url:"",title:"",description:"",path:"",button_text:"Ver ms",is_locked:!1,is_visible:!0}),ge(!1),await B()),j(!1)},st=e,ft=`p-3 rounded-xl border text-sm ${st?"bg-slate-900 border-slate-700 text-white placeholder-slate-500":"bg-slate-50 border-slate-200"} w-full focus:ring-2 focus:ring-blue-500 outline-none transition`,le=`rounded-[2rem] p-6 md:p-8 border ${st?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,dt=[{id:"tarjetas",label:"Tarjetas Inicio",icon:"grid_view"},{id:"carrusel",label:"Carrusel",icon:"slideshow"},{id:"header",label:"Header",icon:"web_asset"},{id:"footer",label:"Footer",icon:"bottom_navigation"}];return s.jsxs("div",{className:"max-w-6xl mx-auto space-y-6",children:[s.jsx("div",{className:`flex gap-2 flex-wrap p-2 rounded-2xl ${st?"bg-slate-800":"bg-white shadow-sm"}`,children:dt.map(Pe=>s.jsxs("button",{onClick:()=>te(Pe.id),className:`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold transition-all ${q===Pe.id?"bg-blue-700 text-white shadow-md":st?"text-slate-400 hover:bg-slate-700":"text-slate-600 hover:bg-slate-100"}`,children:[s.jsx("span",{className:"material-symbols-outlined text-base",children:Pe.icon}),Pe.label,Pe.id==="tarjetas"&&G.length>0&&s.jsx("span",{className:`text-xs rounded-full px-1.5 py-0.5 ${q===Pe.id?"bg-white/20 text-white":"bg-blue-100 text-blue-700"}`,children:G.length})]},Pe.id))}),q==="tarjetas"&&s.jsxs("section",{className:le,children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-green-600",children:"grid_view"}),"Tarjetas de Inicio"]}),s.jsx("p",{className:"text-sm text-slate-400 mt-1",children:'Edita las tarjetas que aparecen en la pgina principal. Haz clic en "Editar" en cualquier tarjeta para modificarla.'})]}),s.jsx("button",{onClick:()=>ge(Pe=>!Pe),className:"px-4 py-2 bg-blue-700 text-white font-bold rounded-xl text-sm hover:bg-blue-800 transition flex-shrink-0",children:ae?" Cancelar":"+ Nueva tarjeta"})]}),ae&&s.jsxs("div",{className:`mb-6 p-5 rounded-2xl border-2 border-dashed border-blue-400 ${st?"bg-blue-900/10":"bg-blue-50/40"}`,children:[s.jsx("p",{className:"text-sm font-bold text-blue-600 mb-3",children:" Agregar nueva tarjeta"}),s.jsxs("form",{onSubmit:at,className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"Ttulo *"}),s.jsx("input",{type:"text",value:_e.title,onChange:Pe=>Le(rt=>({...rt,title:Pe.target.value})),className:ft,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"Texto del botn"}),s.jsx("input",{type:"text",placeholder:"Ver ms",value:_e.button_text,onChange:Pe=>Le(rt=>({...rt,button_text:Pe.target.value})),className:ft})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"Descripcin"}),s.jsx("textarea",{value:_e.description,onChange:Pe=>Le(rt=>({...rt,description:Pe.target.value})),rows:2,className:ft})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"Path (ruta) *"}),s.jsx("input",{type:"text",placeholder:"ej: maestros",value:_e.path,onChange:Pe=>Le(rt=>({...rt,path:Pe.target.value})),className:ft,required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"URL Externa"}),s.jsx("input",{type:"text",placeholder:"https://...",value:_e.external_url,onChange:Pe=>Le(rt=>({...rt,external_url:Pe.target.value})),className:ft})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"ID de Aviso (Post ID) - Opcional"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"number",placeholder:"Vincular a una publicacin global especfica",value:_e.post_id,onChange:Pe=>Le(rt=>({...rt,post_id:Pe.target.value})),className:ft}),s.jsx("button",{type:"button",onClick:async()=>{const Pe=await Se(_e.title||"Nueva Publicacin");Pe&&Le({..._e,post_id:Pe})},className:"px-3 py-2 bg-purple-100 text-purple-700 rounded-xl text-xs font-bold hover:bg-purple-200 transition whitespace-nowrap",children:"+ Crear Nuevo Contenido"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"URL de imagen *"}),s.jsx("input",{type:"text",placeholder:"/images/...",value:_e.image_url,onChange:Pe=>Le(rt=>({...rt,image_url:Pe.target.value})),className:ft})]}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-3 gap-2 items-end",children:[s.jsxs("div",{className:"col-span-2",children:[s.jsx("label",{className:"text-xs font-semibold text-slate-500 uppercase block mb-1",children:"Subir imagen"}),s.jsx("input",{type:"file",accept:"image/*",onChange:Pe=>{var rt;return Q(((rt=Pe.target.files)==null?void 0:rt[0])||null)},className:`${ft} cursor-pointer`})]}),s.jsx("button",{type:"button",onClick:Ye,disabled:ye||!Te,className:"py-3 bg-green-600 text-white rounded-xl text-sm font-semibold disabled:opacity-50",children:ye?"...":" Subir"})]}),_e.image_url&&s.jsx("div",{className:"md:col-span-2",children:s.jsx("img",{src:_e.image_url,alt:"preview",className:"h-20 rounded-xl object-cover border",onError:Pe=>Pe.target.style.display="none"})}),s.jsx("div",{className:"md:col-span-2 flex gap-3",children:s.jsx("button",{type:"submit",disabled:oe,className:"px-6 py-2.5 bg-blue-700 text-white font-bold rounded-xl transition disabled:opacity-60",children:oe?" Guardando...":" Agregar tarjeta"})})]})]}),M&&s.jsx("div",{className:"flex items-center justify-center py-16",children:s.jsxs("div",{className:"flex items-center gap-3 text-slate-400",children:[s.jsx("span",{className:"material-symbols-outlined animate-spin",children:"refresh"}),"Cargando tarjetas desde la base de datos..."]})}),!M&&G.length===0&&s.jsxs("div",{className:`py-12 text-center rounded-2xl border-2 border-dashed ${st?"border-slate-700":"border-slate-200"}`,children:[s.jsx("span",{className:"material-symbols-outlined text-5xl text-slate-300 block mb-3",children:"grid_view"}),s.jsx("p",{className:"font-bold text-lg mb-1",children:"No hay tarjetas en la base de datos"}),s.jsx("p",{className:"text-sm text-slate-400 mb-5",children:"Carga las tarjetas iniciales para comenzar a editarlas."}),s.jsxs("div",{className:"flex flex-col gap-3 items-center",children:[s.jsxs("button",{onClick:O,disabled:I,className:"px-6 py-3 bg-blue-700 hover:bg-blue-800 text-white font-bold rounded-xl transition disabled:opacity-60 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined",children:I?"refresh":"download"}),I?"Cargando...":"Cargar tarjetas por defecto (10 tarjetas)"]}),s.jsxs("p",{className:"text-xs text-slate-400",children:[" Tambin asegrate de ejecutar ",s.jsx("span",{className:"font-mono bg-slate-100 dark:bg-slate-700 px-1 rounded",children:"supabase_ui_update.sql"})," en Supabase para agregar los campos nuevos."]})]})]}),!M&&G.length>0&&s.jsxs("div",{className:"space-y-3 mt-4",children:[s.jsxs("div",{className:"flex gap-3 flex-wrap mb-2",children:[s.jsxs("div",{className:`text-xs px-3 py-1.5 rounded-lg font-semibold ${st?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:["Total: ",G.length," tarjetas"]}),s.jsxs("div",{className:`text-xs px-3 py-1.5 rounded-lg font-semibold ${st?"bg-green-900/40 text-green-400":"bg-green-50 text-green-700"}`,children:[" Visibles: ",G.filter(Pe=>Pe.is_visible!==!1).length]}),G.filter(Pe=>Pe.is_visible===!1).length>0&&s.jsxs("div",{className:`text-xs px-3 py-1.5 rounded-lg font-semibold ${st?"bg-orange-900/40 text-orange-400":"bg-orange-50 text-orange-700"}`,children:[" Ocultas: ",G.filter(Pe=>Pe.is_visible===!1).length]})]}),G.map((Pe,rt)=>s.jsx(CP,{card:Pe,idx:rt,total:G.length,darkMode:st,onSave:D,onToggleVisibility:Z,onDelete:pe,onMove:be,onDuplicate:Ee,onCreatePost:Se},Pe.id))]})]}),q==="carrusel"&&s.jsx(PP,{darkMode:st}),q==="header"&&s.jsx(LP,{darkMode:st,uiHeaderForm:t,setUiHeaderForm:r,handleSaveUiHeader:n,uiHeaderLinks:a,uiHeaderLinkForm:i,setUiHeaderLinkForm:l,editingHeaderLink:c,setEditingHeaderLink:d,handleSaveHeaderLink:h,handleDeleteHeaderLink:p}),q==="footer"&&s.jsx(RP,{darkMode:st,uiFooterForm:f,setUiFooterForm:b,handleSaveUiFooter:g,uiFooterLinks:S,uiFooterLinkForm:y,setUiFooterLinkForm:N,editingFooterLink:A,setEditingFooterLink:P,handleSaveFooterLink:T,handleDeleteFooterLink:R})]})},OP=({darkMode:e})=>{const[t,r]=U.useState("semesters"),[n,a]=U.useState(null),[i,l]=U.useState(null),[c,d]=U.useState(""),[h,p]=U.useState([]),[f,b]=U.useState(!1),[g,S]=U.useState(null),[y,N]=U.useState({nombre:"",apellidos:"",numero_control:"",curp:"",semestre:"",grupo:"",carrera_tecnica:"",estatus:"Regular"}),[A,P]=U.useState(!1),[T,R]=U.useState(null),[q,te]=U.useState([]),[G,H]=U.useState(!1),[M,re]=U.useState({materia:"",calificacion:""}),I=async()=>{b(!0);const{data:j,error:B}=await ve.from("profiles").select("*").eq("rol","alumno").order("apellidos",{ascending:!0});!B&&j&&p(j),b(!1)};U.useEffect(()=>{I()},[]);const W=j=>{const B=h.filter(O=>O.grado===j&&O.grupo).map(O=>O.grupo);return[...new Set(B)].sort()},ae=()=>h.filter(j=>{var pe,be;const B=n?j.grado===n:!0,O=i?j.grupo===i:!0,Z=`${j.nombre} ${j.apellidos}`.toLowerCase().includes(c.toLowerCase())||((pe=j.curp)==null?void 0:pe.toLowerCase().includes(c.toLowerCase()))||((be=j.numero_control)==null?void 0:be.toLowerCase().includes(c.toLowerCase()));return t==="students"?B&&O&&Z:Z}),ge=j=>{S(j),N({nombre:j.nombre||"",apellidos:j.apellidos||"",numero_control:j.numero_control||"",curp:j.curp||"",semestre:j.grado||"",grupo:j.grupo||"",carrera_tecnica:j.carrera_tecnica||"",estatus:j.estatus||"Regular"})},_e=async j=>{j.preventDefault(),P(!0);const{error:B}=await ve.from("profiles").update({nombre:y.nombre,apellidos:y.apellidos,numero_control:y.numero_control,curp:y.curp,grado:y.semestre,grupo:y.grupo}).eq("id",g.id);B?alert("Error al actualizar perfil: "+B.message):(S(null),I()),P(!1)},Le=async j=>{if(!window.confirm("Ests seguro de eliminar a este alumno? Esta accin no se puede deshacer."))return;const{error:B}=await ve.from("profiles").delete().eq("id",j);B?alert("Error: "+B.message):I()},Te=async j=>{R(j),Q(j.id,j.grado)},Q=async(j,B)=>{H(!0);const{data:O,error:D}=await ve.from("calificaciones").select("*").eq("alumno_id",j).eq("semestre",B);!D&&O&&te(O),H(!1)},ye=async(j,B,O)=>{const{error:D}=await ve.from("calificaciones").update({[B]:O}).eq("id",j);D&&alert("Error al guardar calificacin: "+D.message)},je=async()=>{if(!M.materia)return;const{error:j}=await ve.from("calificaciones").insert([{alumno_id:T.id,semestre:T.grado,materia:M.materia,parcial1:M.calificacion||null}]);j?alert("Error al agregar materia: "+j.message):(re({materia:"",calificacion:""}),Q(T.id,T.grado))},oe=`w-full p-3 rounded-xl border ${e?"bg-slate-900 border-slate-700 text-white placeholder-slate-500":"bg-slate-50 border-slate-200"} focus:ring-2 focus:ring-blue-500 outline-none transition-all`;return s.jsxs("div",{className:"space-y-8",children:[s.jsx("div",{className:`p-4 rounded-3xl border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"material-symbols-outlined absolute left-4 top-1/2 -translate-y-1/2 text-slate-400",children:"search"}),s.jsx("input",{type:"text",placeholder:"Buscar por nombre, CURP o No. Control...",value:c,onChange:j=>{d(j.target.value),j.target.value&&r("students")},className:`w-full pl-12 pr-4 py-3 rounded-2xl border-none ring-1 ${e?"bg-slate-900 ring-slate-700 text-white":"bg-slate-50 ring-slate-200"} focus:ring-2 focus:ring-blue-500 transition-all`})]})}),t==="semesters"&&s.jsxs("section",{"animate-in":"fade",children:[s.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-600",children:"layers"})," Gestin por Semestre"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[1,2,3,4,5,6].map(j=>s.jsxs("div",{onClick:()=>{a(j),r("groups")},className:`group p-6 rounded-3xl shadow-sm border cursor-pointer transition-all text-center ${e?"bg-slate-800 border-slate-700 hover:border-blue-400":"bg-white border-slate-100 hover:border-blue-800 shadow-xl shadow-slate-200/50"}`,children:[s.jsxs("div",{className:`text-4xl font-black mb-1 ${e?"text-blue-400":"text-blue-800"}`,children:[j,""]}),s.jsx("div",{className:"text-[10px] uppercase font-bold tracking-wider text-slate-400",children:"Semestre"})]},j))})]}),t==="groups"&&n&&s.jsxs("section",{children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-bold",children:["Grupos - ",n," Semestre"]}),s.jsx("button",{onClick:()=>{r("semesters"),a(null)},className:"text-sm text-blue-500 hover:underline",children:" Volver a semestres"})]})}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[W(n).map(j=>s.jsxs("div",{onClick:()=>{l(j),r("students")},className:`p-6 rounded-3xl border-l-4 border-l-green-500 cursor-pointer transition-all text-center ${e?"bg-slate-800 border border-slate-700 hover:border-green-400":"bg-white border border-slate-100 hover:border-green-500 shadow-sm"}`,children:[s.jsx("div",{className:"text-4xl font-black text-green-500 mb-1",children:j}),s.jsx("div",{className:"text-xs uppercase font-bold tracking-wider text-slate-400",children:"Grupo"})]},j)),W(n).length===0&&s.jsx("p",{className:"col-span-full py-12 text-center text-slate-400 italic",children:"No hay grupos registrados en este semestre."})]})]}),(t==="students"||c)&&s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg font-bold",children:c?"Resultados de bsqueda":`Alumnos - ${n} ${i}`}),!c&&s.jsx("button",{onClick:()=>{r("groups"),l(null)},className:"text-sm text-blue-500 hover:underline",children:" Volver a grupos"})]}),s.jsxs("div",{className:"text-xs font-bold text-slate-400 uppercase tracking-widest",children:[ae().length," alumnos"]})]}),s.jsx("div",{className:`rounded-3xl overflow-hidden border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:e?"bg-slate-900/50":"bg-slate-50",children:[s.jsx("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Nombre del Alumno"}),s.jsx("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Control / CURP"}),s.jsx("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase tracking-wider",children:"Estatus"}),s.jsx("th",{className:"p-4 text-xs font-bold text-slate-500 uppercase tracking-wider text-right",children:"Acciones"})]})}),s.jsxs("tbody",{children:[ae().map(j=>s.jsxs("tr",{className:`border-t ${e?"border-slate-700 hover:bg-slate-700/30":"border-slate-50 hover:bg-slate-50/50"} transition-colors`,children:[s.jsxs("td",{className:"p-4",children:[s.jsxs("div",{className:"font-bold",children:[j.apellidos," ",j.nombre]}),s.jsx("div",{className:"text-xs text-slate-400",children:j.carrera_tecnica||"Carrera no asignada"})]}),s.jsxs("td",{className:"p-4",children:[s.jsx("div",{className:"text-sm font-mono",children:j.numero_control||"S/N"}),s.jsx("div",{className:"text-[10px] text-slate-400",children:j.curp})]}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:`text-[10px] font-bold px-2 py-1 rounded-full uppercase ${j.estatus==="Baja"?"bg-red-100 text-red-600":"bg-green-100 text-green-600"}`,children:j.estatus||"Regular"})}),s.jsx("td",{className:"p-4 text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx("button",{onClick:()=>Te(j),className:"p-2 bg-blue-50 text-blue-600 rounded-xl hover:bg-blue-100 transition-colors",title:"Calificaciones",children:""}),s.jsx("button",{onClick:()=>ge(j),className:"p-2 bg-slate-50 text-slate-600 rounded-xl hover:bg-slate-100 transition-colors",title:"Editar Perfil",children:""}),s.jsx("button",{onClick:()=>Le(j.id),className:"p-2 bg-red-50 text-red-600 rounded-xl hover:bg-red-100 transition-colors",title:"Eliminar",children:""})]})})]},j.id)),ae().length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:"4",className:"p-12 text-center text-slate-400 italic",children:"No se encontraron alumnos con los criterios actuales."})})]})]})})})]}),T&&s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm shadow-2xl",onClick:()=>R(null)}),s.jsx("div",{className:`relative w-full max-w-2xl rounded-[2.5rem] shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 ${e?"bg-slate-800":"bg-white"}`,children:s.jsxs("div",{className:"p-8",children:[s.jsxs("div",{className:"flex items-start justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"text-2xl font-black",children:"Calificaciones"}),s.jsxs("p",{className:"text-slate-500",children:[T.nombre," ",T.apellidos,"  ",T.semestre," ",T.grupo]})]}),s.jsx("button",{onClick:()=>R(null),className:"p-2 rounded-full hover:bg-slate-100 text-slate-400",children:""})]}),s.jsxs("div",{className:"space-y-4 max-h-[50vh] overflow-y-auto pr-2 custom-scrollbar",children:[G?s.jsx("div",{className:"py-8 text-center text-slate-400 animate-pulse",children:"Cargando materias..."}):q.map(j=>s.jsxs("div",{className:`p-4 rounded-2xl border flex items-center justify-between ${e?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-100"}`,children:[s.jsx("span",{className:"font-bold text-sm truncate pr-4",children:j.materia}),s.jsx("input",{type:"number",defaultValue:j.calificacion,onBlur:B=>ye(j.id,"calificacion",B.target.value),className:`w-20 p-2 text-center font-bold rounded-xl border ${e?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,placeholder:"0.0",step:"0.1",min:"0",max:"10"})]},j.id)),!G&&q.length===0&&s.jsx("p",{className:"py-8 text-center text-slate-400 italic text-sm",children:"No hay materias registradas para este semestre."})]}),s.jsxs("div",{className:`mt-8 p-6 rounded-3xl border-2 border-dashed ${e?"border-slate-700 bg-slate-900/40":"border-blue-100 bg-blue-50/30"}`,children:[s.jsx("p",{className:"text-xs font-bold text-blue-600 uppercase mb-3 px-1",children:"Nueva materia"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",placeholder:"Ej: Matemticas",value:M.materia,onChange:j=>re({...M,materia:j.target.value}),className:oe}),s.jsx("button",{onClick:je,className:"px-6 bg-blue-700 text-white font-bold rounded-xl hover:bg-blue-800 transition-colors",children:"Aadir"})]})]})]})})]}),g&&s.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center p-4",children:[s.jsx("div",{className:"absolute inset-0 bg-slate-900/60 backdrop-blur-sm",onClick:()=>S(null)}),s.jsx("div",{className:`relative w-full max-w-3xl rounded-[2.5rem] shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-200 ${e?"bg-slate-800":"bg-white"}`,children:s.jsxs("div",{className:"p-8 max-h-[90vh] overflow-y-auto",children:[s.jsx("h4",{className:"text-2xl font-black mb-6",children:" Editar Perfil del Alumno"}),s.jsxs("form",{onSubmit:_e,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold uppercase text-slate-500 ml-1",children:"Nombre(s)"}),s.jsx("input",{type:"text",value:y.nombre,onChange:j=>N({...y,nombre:j.target.value}),className:oe,required:!0})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold uppercase text-slate-500 ml-1",children:"Apellidos"}),s.jsx("input",{type:"text",value:y.apellidos,onChange:j=>N({...y,apellidos:j.target.value}),className:oe,required:!0})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold uppercase text-slate-500 ml-1",children:"No. de Control"}),s.jsx("input",{type:"text",value:y.numero_control,onChange:j=>N({...y,numero_control:j.target.value}),className:oe})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold uppercase text-slate-500 ml-1",children:"CURP"}),s.jsx("input",{type:"text",value:y.curp,onChange:j=>N({...y,curp:j.target.value}),className:oe})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold uppercase text-slate-500 ml-1",children:"Semestre"}),s.jsx("select",{value:y.semestre,onChange:j=>N({...y,semestre:parseInt(j.target.value)}),className:oe,children:[1,2,3,4,5,6].map(j=>s.jsxs("option",{value:j,children:[j," Semestre"]},j))})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold uppercase text-slate-500 ml-1",children:"Grupo"}),s.jsx("input",{type:"text",value:y.grupo,onChange:j=>N({...y,grupo:j.target.value.toUpperCase()}),className:oe,placeholder:"A, B, C..."})]}),s.jsxs("div",{className:"md:col-span-2 space-y-1",children:[s.jsx("label",{className:"text-[10px] font-bold uppercase text-slate-500 ml-1",children:"Carrera Tcnica"}),s.jsx("input",{type:"text",value:y.carrera_tecnica,onChange:j=>N({...y,carrera_tecnica:j.target.value}),className:oe})]}),s.jsxs("div",{className:"md:col-span-2 flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>S(null),className:`px-6 py-3 rounded-2xl font-bold transition-all ${e?"bg-slate-900 border border-slate-700 text-slate-400 hover:text-white":"bg-slate-100 text-slate-500 hover:bg-slate-200"}`,children:"Cancelar"}),s.jsx("button",{type:"submit",disabled:A,className:"px-8 py-3 bg-blue-800 text-white font-bold rounded-2xl shadow-lg shadow-blue-200 dark:shadow-none hover:scale-105 transition-all disabled:opacity-50",children:A?"Guardando...":"Guardar Cambios"})]})]})]})})]})]})},IP=()=>{var $l;const e=td(),[t,r]=U.useState(null),[n,a]=U.useState(null),[i,l]=U.useState([]),[c,d]=U.useState(!0),[h,p]=U.useState({titulo:"",contenido:""}),[f,b]=U.useState(!1),[g,S]=U.useState(!1),[y,N]=U.useState("dashboard"),[A,P]=U.useState([]),[T,R]=U.useState(!1),[q,te]=U.useState(null),[G,H]=U.useState([]),[M,re]=U.useState(!1),[I,W]=U.useState(null),[ae,ge]=U.useState(null),[_e,Le]=U.useState({target_date:"",countdown_message:"",header_title:"",header_subtitle:""}),[Te,Q]=U.useState([]),[ye,je]=U.useState({title:"",date_range:"",subtitle:""}),[oe,j]=U.useState(null),[B,O]=U.useState([]),[D,Z]=U.useState({requirement:""}),[pe,be]=U.useState(null),[Se,Ee]=U.useState([]),[Ye,at]=U.useState({emoji:"",name:"",description:""}),[st,ft]=U.useState(null),[le,dt]=U.useState(null),[Pe,rt]=U.useState({address:"",phone_label:"",phone_value:"",email_label:"",email_value:"",website_label:"",website_value:"",schedule:""}),[Je,kt]=U.useState(null),[Ze,Et]=U.useState({hero_image_url:"",title:"",subtitle:"",target_date:"",countdown_label:"",countdown_date_text:"",inscriptions_title:"",inscriptions_period_title:"",inscriptions_period_description:"",requirements_title:"",advantages_title:"",contact_title:"",contact_description:""}),[Pt,fr]=U.useState([]),[Zt,Xt]=U.useState({title:"",description:""}),[gr,nr]=U.useState(null),[Ft,Qt]=U.useState([]),[Ct,rn]=U.useState({icon:"",text:""}),[Er,pr]=U.useState(null),[xr,nn]=U.useState([]),[Lt,Or]=U.useState({title:"",description:""}),[Wt,er]=U.useState(null),[Hr,hr]=U.useState([]),[$t,Rr]=U.useState({line_text:""}),[as,ra]=U.useState(null),[Fi,ai]=U.useState(!1),[Gt,$a]=U.useState(!1),[za,na]=U.useState(null),[Ir,kr]=U.useState({address_line1:"",address_line2:"",address_line3:"",phone:"",email:"",website:"",rating_text:"",status_text:"",hours_line1:"",hours_line2:""}),[Rn,Y]=U.useState([]),[ue,se]=U.useState({icon:"",title:"",detail:""}),[ce,me]=U.useState(null),[xe,Ue]=U.useState([]),[Ve,Be]=U.useState({icon:"",name:"",url:"",description:""}),[$e,qe]=U.useState(null),[ct,bt]=U.useState(null),[Nt,gt]=U.useState({address_text:"",map_embed_url:""}),[pt,ar]=U.useState([]),[Pr,wr]=U.useState({question:"",answer:""}),[dn,bs]=U.useState(null),[ii,Oi]=U.useState(null),[an,_s]=U.useState({title:"",description:"",highlight_text:""}),[Ar,yl]=U.useState(null),[Sn,Gr]=U.useState({title:"",logo_url:"",croquis_image_url:"",history_text:"",mission_text:"",vision_text:"",lema_text:"",commitment_text_1:"",commitment_text_2:""}),[Us,vi]=U.useState(null),[ys,$s]=U.useState(!1),[Ii,la]=U.useState([]),[aa,zs]=U.useState({icon:"",title:"",description:""}),[wl,Vo]=U.useState(null),[ws,ac]=U.useState([]),[zr,is]=U.useState(!1),[fo,Sl]=U.useState(""),[Bn,ss]=U.useState({section:"instalaciones",title:"",description:"",image_url:"",is_locked:!1}),[po,Go]=U.useState(null),[ja,Ss]=U.useState(null),[si,oi]=U.useState(!1),[qs,tr]=U.useState(null),[qa,ic]=U.useState({logo_url:"",title_text:""}),[sc,Di]=U.useState([]),[ca,Hs]=U.useState({label:"",href:"",path:""}),[mo,go]=U.useState(null),[Ko,Ns]=U.useState(null),[Nn,Mn]=U.useState({school_name:"",location_text:"",tagline_text:"",copyright_text:"",rights_text:"",legal_text_1:"",legal_text_2:"",legal_text_3:""}),[Yo,Uc]=U.useState([]),[Ea,Bi]=U.useState({label:"",href:"",icon_url:"",style_class:""}),[li,xo]=U.useState(null),[Xo,os]=U.useState([]),[ua,Mi]=U.useState({image_url:"",is_locked:!1}),[Nl,Jo]=U.useState(null),[ci,js]=U.useState(null),[ka,bi]=U.useState(!1),[jl,E]=U.useState([]),[z,de]=U.useState({image_url:"",title:"",description:"",path:"",button_text:"Ver ms",is_locked:!1,is_visible:!0}),[Ne,Oe]=U.useState(null),[et,it]=U.useState(null),[Rt,Bt]=U.useState(!1),[rr,mr]=U.useState(null),[Sr,hn]=U.useState({title:"",subtitle:"",hero_image_url:"",cta_label:""}),[Jn,bn]=U.useState([]),[yr,Kr]=U.useState({name:"",description:"",icon:"",url:"",color:"",order_index:"",is_active:!0}),[da,Ws]=U.useState(null),[_i,vo]=U.useState(null),[Ha,Vs]=U.useState({title:"",subtitle:"",license_title:"",license_text:""}),[bo,El]=U.useState([]),[Wn,ui]=U.useState({full_name:"",career:"",description:"",photo_url:""}),[ha,Zo]=U.useState(null),[Gs,oc]=U.useState(null),[lc,Aa]=U.useState(!1),[va,Ks]=U.useState(null),[ir,Vn]=U.useState({provider:"groq",base_url:"",api_key:"",groq_api_key:"",gemini_api_key:"",model:"",system_prompt:"",enable_db_context:!0,enabled:!0,fallback_enabled:!1,primary_provider:"groq"}),[_o,kl]=U.useState(!1),[Al,yo]=U.useState([]),[fa,di]=U.useState({provider:"groq",name:""}),[Wa,Qo]=U.useState(""),[Es,ks]=U.useState(""),[Ys,As]=U.useState(!1),[Un,Cl]=U.useState(!1),[Cs,Ts]=U.useState([]),[wo,Tl]=U.useState(!1),[cc,Pl]=U.useState(!1),[Ca,So]=U.useState(null),[el,tl]=U.useState(!1),[Zr,Ui]=U.useState({subject:"",messageHtml:"",messageText:"",sendToAll:!1,grados:[],grupos:[]}),[Fn,hi]=U.useState(!1),[qr,Cr]=U.useState(null),[sn,Yr]=U.useState(!1),[$i,uc]=U.useState(!1),[rl,ba]=U.useState(null),[$c,zi]=U.useState(null),[mu,dc]=U.useState(!1),[yi,nl]=U.useState({user:"",password:""}),[al,Ll]=U.useState(""),[hc,gu]=U.useState(!1),[fc,nd]=U.useState([]),[ad,zc]=U.useState(!1),[id,wi]=U.useState(!1),[No,Va]=U.useState(""),[qi,qc]=U.useState(!1),[Ga,Hc]=U.useState({alumno_domain:"",maestro_user:"",maestro_password:""}),[pc,mc]=U.useState(!1),[fn,gc]=U.useState(!1),[jo,il]=U.useState(null),[Rl,Fl]=U.useState([]),[Ol,xu]=U.useState(1),[$n,Il]=U.useState({materia:"",parcial1:"",parcial2:"",parcial3:"",tipo:"basica"});U.useState("semesters"),U.useState(null),U.useState(null);const[Wc,Jh]=U.useState([]),[Zh,Vc]=U.useState(!1),[Lr,sl]=U.useState(null),[ls,sd]=U.useState("");U.useState("Todos");const[Ps,Kd]=U.useState("Todos"),[nt,Jt]=U.useState({habilitado:!0,titulo_header:"",subtitulo_header:"",badge_texto:"",cta_texto:"",cta_subtexto:"",fecha_cierre:"",mensaje_cierre:"",card_titulo:"",card_descripcion:"",card_checklist_json:[],card_boton_texto:"",pasos_titulo:"",pasos_subtitulo:"",pasos_json:[],carreras_titulo:"",carreras_subtitulo:"",requisitos_titulo:"",requisitos_subtitulo:"",requisitos_json:[],cta_final_titulo:"",cta_final_subtitulo:"",cta_final_boton:"",cta_final_boton_sub:"",cerrada_badge:"",cerrada_titulo:"",cerrada_mensaje:"",form_badge:"",form_titulo:"",form_subtitulo:"",indicaciones_ficha:"",home_badge:"",home_titulo:"",home_descripcion:"",home_boton:"",home_icono:"",form_titulo_paso1:"",form_titulo_paso2:"",form_desc_paso2:"",form_titulo_paso3:"",form_desc_paso3:"",form_titulo_paso4:"",form_desc_paso4:"",form_titulo_paso5:"",form_desc_paso5:"",stepper_json:[],exito_icono:"",exito_titulo:"",exito_mensaje:"",exito_btn_pdf:"",exito_btn_inicio:""}),[od,vu]=U.useState(!1),[On,Si]=U.useState(!1);U.useEffect(()=>{const{data:{subscription:v}}=ve.auth.onAuthStateChange((K,Fe)=>{var xt,qt,mn;console.log("Auth event:",K,"Provider token:",Fe!=null&&Fe.provider_token?"presente":"ausente"),(K==="SIGNED_IN"||K==="INITIAL_SESSION"||K==="TOKEN_REFRESHED")&&(Fe!=null&&Fe.provider_token)&&(localStorage.setItem("gmail_provider_token",Fe.provider_token),localStorage.setItem("gmail_user_email",((xt=Fe.user)==null?void 0:xt.email)||""),console.log(" Token de Gmail guardado para:",(qt=Fe.user)==null?void 0:qt.email),ba(Fe.provider_token),zi(((mn=Fe.user)==null?void 0:mn.email)||null),Yr(!0)),K==="SIGNED_OUT"&&(localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),ba(null),zi(null),Yr(!1))});return()=>v.unsubscribe()},[]),U.useEffect(()=>{Ni(),_u(),ne(),ke(),Ce(),yt(),pn(),Br(),Nr(),Gn(),Jr(),ul(),Yn(),sa(),Gc(),bu();const v=localStorage.getItem("gmail_provider_token"),K=localStorage.getItem("gmail_user_email");v&&(ba(v),zi(K),Yr(!0))},[]),U.useEffect(()=>{y==="gmail"&&ju(),y==="access"&&(Dl(),Ta())},[y]);const Ni=async()=>{var v;try{const{data:{session:K},error:Fe}=await ve.auth.getSession();if(Fe){if(Fe.name==="AbortError"||(v=Fe.message)!=null&&v.includes("aborted"))return;throw Fe}if(!K){d(!1);return}r(K.user);try{const{data:qt,error:mn}=await ve.from("edupanel_allowed_accounts").select("*").eq("email",K.user.email.toLowerCase()).maybeSingle();if(mn)console.warn("Tabla edupanel_allowed_accounts no existe o error:",mn.message),wi(!1),zc(!0);else if(qt)zc(qt.is_master===!0),wi(!1);else{wi(!0),d(!1);return}}catch(qt){console.warn("Error verificando cuentas permitidas:",qt),wi(!1),zc(!0)}const We=sessionStorage.getItem("maestro_security_verified");We==="true"&&dc(!0);let{data:xt}=await ve.from("profiles").select("*").eq("id",K.user.id).single();if(!xt||xt.rol!=="maestro"){const{data:qt}=await ve.from("profiles").upsert({id:K.user.id,rol:"maestro",nombre:K.user.user_metadata.full_name,avatar_url:K.user.user_metadata.avatar_url}).select().single();xt=qt}a(xt),We==="true"&&pa()}catch(K){console.error("Error in checkUser:",K)}finally{d(!1)}},Xs=async v=>{var K,Fe;v.preventDefault(),Ll(""),gu(!0);try{const{data:We,error:xt}=await ve.from("access_config").select("config_key, config_value").in("config_key",["maestro_user","maestro_password"]);if(xt){console.warn("Tabla access_config no existe, usando credenciales por defecto"),yi.user==="cbta"&&yi.password==="cbta134#pagina"?(dc(!0),sessionStorage.setItem("maestro_security_verified","true"),pa()):Ll("Usuario o contrasea incorrectos.");return}if(!We||We.length<2){yi.user==="cbta"&&yi.password==="cbta134#pagina"?(dc(!0),sessionStorage.setItem("maestro_security_verified","true"),pa()):Ll("Usuario o contrasea incorrectos.");return}const qt=(K=We.find(At=>At.config_key==="maestro_user"))==null?void 0:K.config_value,mn=(Fe=We.find(At=>At.config_key==="maestro_password"))==null?void 0:Fe.config_value;yi.user===qt&&yi.password===mn?(dc(!0),sessionStorage.setItem("maestro_security_verified","true"),pa()):Ll("Usuario o contrasea incorrectos.")}catch{Ll("Error al verificar. Intenta de nuevo.")}finally{gu(!1)}},Dl=async()=>{const{data:v}=await ve.from("access_config").select("*");if(v){const K={};v.forEach(Fe=>{K[Fe.config_key]=Fe.config_value}),Hc({alumno_domain:K.alumno_domain||"",maestro_user:K.maestro_user||"",maestro_password:K.maestro_password||""})}},Ka=async()=>{mc(!0),gc(!1);try{const v=[{config_key:"alumno_domain",config_value:Ga.alumno_domain,description:"Dominio de correo permitido para alumnos"},{config_key:"maestro_user",config_value:Ga.maestro_user,description:"Usuario de seguridad para maestros"},{config_key:"maestro_password",config_value:Ga.maestro_password,description:"Contrasea de seguridad para maestros"}];for(const K of v)await ve.from("access_config").update({config_value:K.config_value,updated_at:new Date().toISOString()}).eq("config_key",K.config_key);gc(!0),setTimeout(()=>gc(!1),3e3)}catch(v){console.error("Error saving access config:",v)}finally{mc(!1)}},Ta=async()=>{const{data:v}=await ve.from("edupanel_allowed_accounts").select("*").order("created_at",{ascending:!0});nd(v||[])},Gc=async()=>{Vc(!0);const{data:v,error:K}=await ve.from("preregistros").select("*").order("created_at",{ascending:!1});K||Jh(v||[]),Vc(!1)},Qh=async(v,K)=>{const{error:Fe}=await ve.from("preregistros").update({estado_registro:K}).eq("id",v);Fe||(Gc(),Lr&&Lr.id===v&&sl({...Lr,estado_registro:K}))},ol=async v=>{if(!window.confirm("Ests seguro de eliminar este pre-registro? Esta accin no se puede deshacer."))return;const{error:K}=await ve.from("preregistros").delete().eq("id",v);K||(Gc(),sl(null))},xc=()=>Wc.map(K=>new Date(K.created_at).getFullYear()).filter((K,Fe,We)=>We.indexOf(K)===Fe).sort((K,Fe)=>Fe-K),Js=()=>Wc.filter(v=>{const K=(v.nombre+" "+v.apellido_paterno+" "+v.apellido_materno+" "+v.folio+" "+v.curp).toLowerCase().includes(ls.toLowerCase()),Fe=Ps==="Todos"||new Date(v.created_at).getFullYear().toString()===Ps;return K&&Fe}),Bl=()=>{const v=Js();if(v.length===0){alert("No hay pre-registros para exportar con los filtros seleccionados.");return}const K=v.map((At,gn)=>({"No.":gn+1,Folio:At.folio||"","Fecha de Registro":At.created_at?new Date(At.created_at).toLocaleDateString("es-MX",{year:"numeric",month:"2-digit",day:"2-digit"}):"",Nombre:At.nombre||"","Apellido Paterno":At.apellido_paterno||"","Apellido Materno":At.apellido_materno||"",CURP:At.curp||"",Sexo:At.sexo||"","Fecha de Nacimiento":At.fecha_nacimiento||"","Estado Civil":At.estado_civil||"",Correo:At.correo||"",Telfono:At.telefono||"","Lugar de Nacimiento":At.lugar_nacimiento||"",Domicilio:At.domicilio||"",Colonia:At.colonia||"",Municipio:At.municipio||"","Cdigo Postal":At.codigo_postal||"","1 Opcin Carrera":At.carrera_nombre||"","2 Opcin Carrera":At.segunda_opcion_carrera||"","3 Opcin Carrera":At.tercera_opcion_carrera||"","Tipo Escuela":At.escuela_tipo||"","Nombre Escuela":At.escuela_nombre||"","Municipio Escuela":At.escuela_municipio||"","Promedio General":At.promedio_general||"","Tutor Nombre":At.tutor_nombre||"","Tutor Parentesco":At.tutor_parentesco||"","Tutor CURP":At.tutor_curp||"","Tutor Ocupacin":At.tutor_ocupacion||"","Tutor Grado Estudios":At.tutor_grado_estudios||"","Tutor Telfono":At.tutor_telefono||"",Estado:At.estado_registro||"Pendiente"})),Fe=xg.json_to_sheet(K),We=Object.keys(K[0]).map(At=>({wch:Math.max(At.length+2,...K.map(gn=>String(gn[At]||"").length+2))}));Fe["!cols"]=We;const xt=xg.book_new(),qt=Ps==="Todos"?"Todos":Ps;xg.book_append_sheet(xt,Fe,`PreRegistros ${qt}`);const mn=`PreRegistros_${qt}_${new Date().toISOString().split("T")[0]}.xlsx`;gP(xt,mn)},bu=async()=>{const{data:v,error:K}=await ve.from("preregistro_config").select("*").eq("id",1).single();!K&&v&&Jt({...v,fecha_cierre:v.fecha_cierre?v.fecha_cierre.split("T")[0]:"",card_checklist_json:v.card_checklist_json||[],requisitos_json:v.requisitos_json||[],pasos_json:v.pasos_json||[]})},Eo=async v=>{v&&v.preventDefault(),vu(!0);const K={...nt,updated_at:new Date().toISOString()};K.fecha_cierre?K.fecha_cierre=new Date(K.fecha_cierre).toISOString():K.fecha_cierre=null,delete K.id;const{error:Fe}=await ve.from("preregistro_config").update(K).eq("id",1);Fe?alert("Error al guardar: "+Fe.message):(alert("Configuracin de pre-registro actualizada"),bu()),vu(!1)},cs=()=>s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:`p-5 rounded-3xl border ${nt.habilitado?"border-green-100 bg-green-50/50":"border-red-100 bg-red-50/50"}`,children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-xl flex items-center justify-center ${nt.habilitado?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:s.jsx("span",{className:"material-symbols-outlined",children:nt.habilitado?"check_circle":"cancel"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-bold",children:"Estatus del Mdulo"}),s.jsx("p",{className:"text-xs opacity-70",children:'Si se desactiva, la landing muestra "Convocatoria Cerrada"'})]})]}),s.jsx("button",{onClick:()=>Jt({...nt,habilitado:!nt.habilitado}),className:`px-5 py-2 rounded-xl font-bold text-sm transition-all ${nt.habilitado?"bg-red-600 text-white":"bg-green-600 text-white"}`,children:nt.habilitado?"Desactivar":"Activar"})]})}),s.jsxs("form",{onSubmit:Eo,className:"space-y-6",children:[s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-blue-600 text-white rounded-lg",children:" Hero / Encabezado"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Badge (insignia superior)"}),s.jsx("input",{type:"text",value:nt.badge_texto||"",onChange:v=>Jt({...nt,badge_texto:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:" Convocatoria Abierta  Ciclo 20252026"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo principal"}),s.jsx("input",{type:"text",value:nt.titulo_header||"",onChange:v=>Jt({...nt,titulo_header:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Subttulo"}),s.jsx("input",{type:"text",value:nt.subtitulo_header||"",onChange:v=>Jt({...nt,subtitulo_header:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Texto del botn CTA"}),s.jsx("input",{type:"text",value:nt.cta_texto||"",onChange:v=>Jt({...nt,cta_texto:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Pre-Regstrate Ahora!"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Subtexto del botn CTA"}),s.jsx("input",{type:"text",value:nt.cta_subtexto||"",onChange:v=>Jt({...nt,cta_subtexto:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Es rpido, gratuito y 100% en lnea"})]})]})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-orange-500 text-white rounded-lg",children:" Vigencia"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Fecha de cierre"}),s.jsx("input",{type:"date",value:nt.fecha_cierre||"",onChange:v=>Jt({...nt,fecha_cierre:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Texto del contador"}),s.jsx("input",{type:"text",value:nt.mensaje_cierre||"",onChange:v=>Jt({...nt,mensaje_cierre:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Cierre de convocatoria en:"})]})]})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-green-600 text-white rounded-lg",children:" Tarjeta Principal"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo de la tarjeta"}),s.jsx("input",{type:"text",value:nt.card_titulo||"",onChange:v=>Jt({...nt,card_titulo:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Pre-Regstrate"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Texto del botn"}),s.jsx("input",{type:"text",value:nt.card_boton_texto||"",onChange:v=>Jt({...nt,card_boton_texto:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Iniciar Pre-Registro "})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Descripcin"}),s.jsx("textarea",{value:nt.card_descripcion||"",onChange:v=>Jt({...nt,card_descripcion:v.target.value}),rows:3,className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Checklist (un tem por lnea)"}),s.jsx("textarea",{value:Array.isArray(nt.card_checklist_json)?nt.card_checklist_json.join(`
`):"",onChange:v=>Jt({...nt,card_checklist_json:v.target.value.split(`
`).filter(K=>K.trim())}),rows:5,className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:`Datos personales y de contacto
Eleccin de carrera tcnica
etc.`})]})]})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-purple-600 text-white rounded-lg",children:" Seccin Pasos"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo de seccin"}),s.jsx("input",{type:"text",value:nt.pasos_titulo||"",onChange:v=>Jt({...nt,pasos_titulo:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Cmo funciona?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Subttulo de seccin"}),s.jsx("input",{type:"text",value:nt.pasos_subtitulo||"",onChange:v=>Jt({...nt,pasos_subtitulo:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]})]}),s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 block",children:"Pasos (agrega/edita)"}),(nt.pasos_json||[]).map((v,K)=>s.jsxs("div",{className:`p-3 rounded-xl border flex flex-col md:flex-row gap-2 ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[s.jsx("input",{type:"text",value:v.num,onChange:Fe=>{const We=[...nt.pasos_json];We[K]={...We[K],num:Fe.target.value},Jt({...nt,pasos_json:We})},className:`w-16 p-2 text-center rounded-lg border ${f?"bg-slate-900 border-slate-600 text-white":"bg-slate-50 border-slate-200"}`,placeholder:"#"}),s.jsx("input",{type:"text",value:v.titulo,onChange:Fe=>{const We=[...nt.pasos_json];We[K]={...We[K],titulo:Fe.target.value},Jt({...nt,pasos_json:We})},className:`flex-1 p-2 rounded-lg border ${f?"bg-slate-900 border-slate-600 text-white":"bg-slate-50 border-slate-200"}`,placeholder:"Ttulo del paso"}),s.jsx("input",{type:"text",value:v.desc,onChange:Fe=>{const We=[...nt.pasos_json];We[K]={...We[K],desc:Fe.target.value},Jt({...nt,pasos_json:We})},className:`flex-1 p-2 rounded-lg border ${f?"bg-slate-900 border-slate-600 text-white":"bg-slate-50 border-slate-200"}`,placeholder:"Descripcin"}),s.jsx("button",{type:"button",onClick:()=>{const Fe=nt.pasos_json.filter((We,xt)=>xt!==K);Jt({...nt,pasos_json:Fe})},className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete"})})]},K)),s.jsx("button",{type:"button",onClick:()=>{var v;return Jt({...nt,pasos_json:[...nt.pasos_json||[],{num:String((((v=nt.pasos_json)==null?void 0:v.length)||0)+1).padStart(2,"0"),titulo:"",desc:""}]})},className:"px-4 py-2 rounded-xl bg-purple-100 text-purple-700 font-bold text-sm hover:bg-purple-200 transition-colors",children:"+ Agregar Paso"})]})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-cyan-600 text-white rounded-lg",children:" Seccin Carreras"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo de seccin"}),s.jsx("input",{type:"text",value:nt.carreras_titulo||"",onChange:v=>Jt({...nt,carreras_titulo:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Carreras Tcnicas Disponibles"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Subttulo de seccin"}),s.jsx("input",{type:"text",value:nt.carreras_subtitulo||"",onChange:v=>Jt({...nt,carreras_subtitulo:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]})]}),s.jsx("p",{className:`mt-3 text-xs ${f?"text-slate-400":"text-slate-500"}`,children:' Las carreras se gestionan desde la seccin "Carreras" del panel principal.'})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-amber-500 text-white rounded-lg",children:" Seccin Requisitos"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo de seccin"}),s.jsx("input",{type:"text",value:nt.requisitos_titulo||"",onChange:v=>Jt({...nt,requisitos_titulo:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Subttulo de seccin"}),s.jsx("input",{type:"text",value:nt.requisitos_subtitulo||"",onChange:v=>Jt({...nt,requisitos_subtitulo:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]})]}),s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 block",children:"Requisitos (agrega/edita)"}),(nt.requisitos_json||[]).map((v,K)=>s.jsxs("div",{className:`p-3 rounded-xl border flex gap-2 items-center ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[s.jsx("input",{type:"text",value:v.icon,onChange:Fe=>{const We=[...nt.requisitos_json];We[K]={...We[K],icon:Fe.target.value},Jt({...nt,requisitos_json:We})},className:`w-14 p-2 text-center rounded-lg border ${f?"bg-slate-900 border-slate-600 text-white":"bg-slate-50 border-slate-200"}`,placeholder:""}),s.jsx("input",{type:"text",value:v.txt,onChange:Fe=>{const We=[...nt.requisitos_json];We[K]={...We[K],txt:Fe.target.value},Jt({...nt,requisitos_json:We})},className:`flex-1 p-2 rounded-lg border ${f?"bg-slate-900 border-slate-600 text-white":"bg-white border-slate-200"}`,placeholder:"Texto del requisito"}),s.jsx("button",{type:"button",onClick:()=>{const Fe=nt.requisitos_json.filter((We,xt)=>xt!==K);Jt({...nt,requisitos_json:Fe})},className:"p-2 text-red-500 hover:bg-red-50 rounded-lg",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete"})})]},K)),s.jsx("button",{type:"button",onClick:()=>Jt({...nt,requisitos_json:[...nt.requisitos_json||[],{icon:"",txt:""}]}),className:"px-4 py-2 rounded-xl bg-amber-100 text-amber-700 font-bold text-sm hover:bg-amber-200 transition-colors",children:"+ Agregar Requisito"})]})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-emerald-600 text-white rounded-lg",children:" CTA Final"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mt-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo"}),s.jsx("input",{type:"text",value:nt.cta_final_titulo||"",onChange:v=>Jt({...nt,cta_final_titulo:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Listo para unirte al CBTa 134?"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Subttulo"}),s.jsx("input",{type:"text",value:nt.cta_final_subtitulo||"",onChange:v=>Jt({...nt,cta_final_subtitulo:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Texto del botn"}),s.jsx("input",{type:"text",value:nt.cta_final_boton||"",onChange:v=>Jt({...nt,cta_final_boton:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Comenzar Pre-Registro"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Subtexto del botn"}),s.jsx("input",{type:"text",value:nt.cta_final_boton_sub||"",onChange:v=>Jt({...nt,cta_final_boton_sub:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Formulario en lnea  Ficha PDF inmediata"})]})]})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900/50":"border-red-50 bg-red-50/30"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-red-600 text-white rounded-lg",children:" Pgina Cerrada"}),s.jsx("p",{className:`text-xs mb-3 ${f?"text-slate-400":"text-slate-500"}`,children:"Textos que se muestran cuando el mdulo est desactivado"}),s.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Badge"}),s.jsx("input",{type:"text",value:nt.cerrada_badge||"",onChange:v=>Jt({...nt,cerrada_badge:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:" Convocatoria Cerrada"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo"}),s.jsx("input",{type:"text",value:nt.cerrada_titulo||"",onChange:v=>Jt({...nt,cerrada_titulo:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"El proceso de pre-registro ha finalizado"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Mensaje"}),s.jsx("textarea",{value:nt.cerrada_mensaje||"",onChange:v=>Jt({...nt,cerrada_mensaje:v.target.value}),rows:2,className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]})]})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-indigo-600 text-white rounded-lg",children:" Formulario"}),s.jsx("p",{className:`text-xs mb-3 ${f?"text-slate-400":"text-slate-500"}`,children:"Textos que se muestran en el formulario de pre-registro"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Badge del formulario"}),s.jsx("input",{type:"text",value:nt.form_badge||"",onChange:v=>Jt({...nt,form_badge:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Nuevo Ingreso 20252026"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo del formulario"}),s.jsx("input",{type:"text",value:nt.form_titulo||"",onChange:v=>Jt({...nt,form_titulo:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Pre-Registro de Aspirantes"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Subttulo del formulario"}),s.jsx("input",{type:"text",value:nt.form_subtitulo||"",onChange:v=>Jt({...nt,form_subtitulo:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Indicaciones en la Ficha PDF"}),s.jsx("input",{type:"text",value:nt.indicaciones_ficha||"",onChange:v=>Jt({...nt,indicaciones_ficha:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Acude con tu ficha impresa en las fechas indicadas."})]})]})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-pink-600 text-white rounded-lg",children:" Tarjeta en Pgina Principal"}),s.jsx("p",{className:`text-xs mb-3 ${f?"text-slate-400":"text-slate-500"}`,children:"La tarjeta que aparece en la pgina de inicio cuando el mdulo est activo"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Badge"}),s.jsx("input",{type:"text",value:nt.home_badge||"",onChange:v=>Jt({...nt,home_badge:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"NUEVO INGRESO 2025"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"cono / Emoji"}),s.jsx("input",{type:"text",value:nt.home_icono||"",onChange:v=>Jt({...nt,home_icono:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo"}),s.jsx("input",{type:"text",value:nt.home_titulo||"",onChange:v=>Jt({...nt,home_titulo:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Pre-Regstrate Hoy!"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Texto del Botn"}),s.jsx("input",{type:"text",value:nt.home_boton||"",onChange:v=>Jt({...nt,home_boton:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Ir al Pre-Registro "})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Descripcin"}),s.jsx("textarea",{value:nt.home_descripcion||"",onChange:v=>Jt({...nt,home_descripcion:v.target.value}),rows:2,className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`})]})]})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-violet-600 text-white rounded-lg",children:" Ttulos de Pasos del Formulario"}),s.jsx("p",{className:`text-xs mb-3 ${f?"text-slate-400":"text-slate-500"}`,children:"Los ttulos y emojis de cada seccin del formulario. Puedes incluir emojis al inicio."}),s.jsx("div",{className:"space-y-3",children:[{key:"form_titulo_paso1",label:"Paso 1  Ttulo",ph:" Datos del Aspirante"},{key:"form_titulo_paso2",label:"Paso 2  Ttulo",ph:" Carrera Tcnica"},{key:"form_desc_paso2",label:"Paso 2  Descripcin",ph:"Selecciona la carrera..."},{key:"form_titulo_paso3",label:"Paso 3  Ttulo",ph:" Escuela de Procedencia"},{key:"form_desc_paso3",label:"Paso 3  Descripcin",ph:"Proporciona los datos..."},{key:"form_titulo_paso4",label:"Paso 4  Ttulo",ph:" Datos del Tutor"},{key:"form_desc_paso4",label:"Paso 4  Descripcin",ph:"Proporciona los datos..."},{key:"form_titulo_paso5",label:"Paso 5  Ttulo",ph:" Confirmacin de Datos"},{key:"form_desc_paso5",label:"Paso 5  Descripcin",ph:"Revisa que todos tus datos..."}].map(v=>s.jsxs("div",{className:"flex gap-2 items-center",children:[s.jsx("span",{className:`text-xs font-bold w-36 shrink-0 ${f?"text-slate-300":"text-slate-600"}`,children:v.label}),s.jsx("input",{type:"text",value:nt[v.key]||"",onChange:K=>Jt({...nt,[v.key]:K.target.value}),className:`w-full p-2 rounded-lg border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:v.ph})]},v.key))})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-teal-600 text-white rounded-lg",children:" Stepper (Barra de Progreso)"}),s.jsx("p",{className:`text-xs mb-3 ${f?"text-slate-400":"text-slate-500"}`,children:"Los pasos que se muestran en la barra de progreso del formulario"}),s.jsx("div",{className:"space-y-2",children:(nt.stepper_json||[]).map((v,K)=>s.jsxs("div",{className:`p-2 rounded-xl border flex gap-2 items-center ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-200"}`,children:[s.jsx("input",{type:"text",value:v.icon,onChange:Fe=>{const We=[...nt.stepper_json||[]];We[K]={...We[K],icon:Fe.target.value},Jt({...nt,stepper_json:We})},className:`w-12 p-2 text-center rounded-lg border ${f?"bg-slate-900 border-slate-600 text-white":"bg-slate-50 border-slate-200"}`,placeholder:""}),s.jsx("input",{type:"text",value:v.label,onChange:Fe=>{const We=[...nt.stepper_json||[]];We[K]={...We[K],label:Fe.target.value},Jt({...nt,stepper_json:We})},className:`flex-1 p-2 rounded-lg border ${f?"bg-slate-900 border-slate-600 text-white":"bg-slate-50 border-slate-200"}`,placeholder:"Nombre del paso"})]},K))})]}),s.jsxs("fieldset",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900/50":"border-slate-200 bg-slate-50/50"}`,children:[s.jsx("legend",{className:"px-3 py-1 text-xs font-bold uppercase tracking-wider bg-lime-600 text-white rounded-lg",children:" Pgina de xito"}),s.jsx("p",{className:`text-xs mb-3 ${f?"text-slate-400":"text-slate-500"}`,children:"Textos que se muestran cuando el aspirante completa su pre-registro"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"cono / Emoji"}),s.jsx("input",{type:"text",value:nt.exito_icono||"",onChange:v=>Jt({...nt,exito_icono:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:""})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Ttulo"}),s.jsx("input",{type:"text",value:nt.exito_titulo||"",onChange:v=>Jt({...nt,exito_titulo:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Pre-Registro Exitoso!"})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Mensaje"}),s.jsx("input",{type:"text",value:nt.exito_mensaje||"",onChange:v=>Jt({...nt,exito_mensaje:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Tu pre-registro ha sido recibido..."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Texto del botn PDF"}),s.jsx("input",{type:"text",value:nt.exito_btn_pdf||"",onChange:v=>Jt({...nt,exito_btn_pdf:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:" Descargar Ficha PDF"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs font-bold opacity-60 mb-1 block",children:"Texto del botn Inicio"}),s.jsx("input",{type:"text",value:nt.exito_btn_inicio||"",onChange:v=>Jt({...nt,exito_btn_inicio:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,placeholder:"Ir al Inicio"})]})]})]}),s.jsx("div",{className:"flex justify-end pt-4 pb-10",children:s.jsxs("button",{type:"submit",disabled:od,className:`px-10 py-4 rounded-2xl font-bold flex items-center gap-2 shadow-xl hover:scale-105 active:scale-95 transition-all ${f?"bg-blue-600 text-white":"bg-blue-800 text-white"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:od?"sync":"save"}),od?"Guardando cambios...":"Guardar Toda la Configuracin"]})})]})]}),Qr=async()=>{if(No.trim()){qc(!0);try{const{error:v}=await ve.from("edupanel_allowed_accounts").insert({email:No.toLowerCase().trim(),is_master:!1,added_by:(t==null?void 0:t.email)||"desconocido"});v?v.code==="23505"?alert("Este correo ya est en la lista."):(console.error("Error adding account:",v),alert("Error al agregar cuenta.")):(Va(""),Ta())}finally{qc(!1)}}},on=async(v,K,Fe)=>{const We=fc.filter(qt=>qt.is_master).length;if(Fe){if(We<=1){alert("No puedes eliminar la nica cuenta maestra. Primero asigna otra cuenta como maestra.");return}if(!window.confirm(` ATENCIN: "${K}" es una cuenta maestra.

Ests seguro de que deseas eliminarla?`))return}else if(!window.confirm(`Eliminar acceso para ${K}?`))return;const{error:xt}=await ve.from("edupanel_allowed_accounts").delete().eq("id",v);xt?(console.error("Error eliminando cuenta:",xt),alert(xt.message||"Error al eliminar la cuenta.")):Ta()},ko=async(v,K,Fe)=>{const We=fc.filter(qt=>qt.is_master).length;if(Fe){if(We<=1){alert("No puedes quitar el rol de maestra a la nica cuenta maestra.");return}if(!window.confirm(`Quitar rol de cuenta maestra a "${K}"?`))return}else{if(We>=10){alert("Ya hay 10 cuentas maestras (mximo permitido).");return}if(!window.confirm(`Hacer "${K}" cuenta maestra?

Las cuentas maestras pueden gestionar el acceso de otras cuentas.`))return}const{error:xt}=await ve.from("edupanel_allowed_accounts").update({is_master:!Fe}).eq("id",v);xt?(console.error("Error actualizando estado:",xt),alert(xt.message||"Error al actualizar el estado de la cuenta.")):Ta()},Pa=async()=>{await ve.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/maestros/admin",scopes:"https://www.googleapis.com/auth/gmail.send",queryParams:{access_type:"offline",prompt:"consent"}}})},pa=async()=>{d(!0);const{data:v,error:K}=await ve.from("profiles").select("*").eq("rol","alumno").order("grado",{ascending:!0}).order("grupo",{ascending:!0});K||l(v),d(!1)},[ll,vc]=U.useState([]),[Xr,Zs]=U.useState(null),_u=async()=>{const{data:v}=await ve.from("publicaciones_globales").select("*").order("created_at",{ascending:!1});vc(v||[])},Yd=async v=>{if(window.confirm("Eliminar este aviso?")){const{error:K}=await ve.from("publicaciones_globales").delete().eq("id",v);K||_u()}},Kc=async v=>{v.preventDefault();const{error:K}=await ve.from("profiles").update({nombre:Xr.nombre,apellidos:Xr.apellidos,email:Xr.email,curp:Xr.curp,numero_control:Xr.numero_control}).eq("id",Xr.id);K||(Zs(null),pa())},[cl,Qs]=U.useState(null),yu=v=>{Qs(v),p({titulo:v.titulo,contenido:v.contenido})},[eo,x]=U.useState(null),[w,C]=U.useState(!1),F=async v=>{v.preventDefault(),C(!0);let K=null,Fe=null;if(eo){const qt=eo.name.split(".").pop(),At=`${`${Math.random()}.${qt}`}`,{error:gn}=await ve.storage.from("posts_media").upload(At,eo);if(gn){alert("Error subiendo archivo: "+gn.message),C(!1);return}const{data:{publicUrl:Ia}}=ve.storage.from("posts_media").getPublicUrl(At);K=Ia,Fe=eo.type.startsWith("video/")?"video":"image"}const We={titulo:h.titulo,contenido:h.contenido,media_url:K,media_type:Fe};let xt;if(cl){const{error:qt}=await ve.from("publicaciones_globales").update(eo?We:{titulo:h.titulo,contenido:h.contenido}).eq("id",cl.id);xt=qt}else{const{error:qt}=await ve.from("publicaciones_globales").insert([{...We,autor_id:t.id}]);xt=qt}xt?alert("Error al guardar publicacin: "+xt.message):(alert(cl?"Aviso actualizado":"Aviso publicado"),p({titulo:"",contenido:""}),x(null),Qs(null),_u()),C(!1)},V=async(v,K)=>{const{data:Fe,error:We}=await ve.from("calificaciones").select("*").eq("alumno_id",v).eq("semestre",K);We||Fl(Fe||[])},J=async(v,K,Fe)=>{const We=Fe===""?null:parseFloat(Fe),{error:xt}=await ve.from("calificaciones").update({[K]:We}).eq("id",v);xt||Fl(Rl.map(qt=>qt.id===v?{...qt,[K]:We}:qt))},ee=async()=>{if(!$n.materia)return;if($n.tipo==="especialidad"&&Ol<2){alert("Las materias de especialidad solo pueden asignarse a partir del 2do semestre.");return}const{data:v,error:K}=await ve.from("calificaciones").insert([{alumno_id:jo.id,semestre:Ol,materia:$n.materia,tipo_materia:$n.tipo,parcial1:$n.parcial1||null,parcial2:$n.parcial2||null,parcial3:$n.parcial3||null}]).select();!K&&v?(Fl([...Rl,v[0]]),Il({materia:"",parcial1:"",parcial2:"",parcial3:"",tipo:"basica"})):alert("Error al agregar materia: "+((K==null?void 0:K.message)||"Error desconocido"))},ne=async()=>{const{data:v}=await ve.from("carreras_tecnicas").select("*").order("created_at",{ascending:!1});P(v||[])},ie=v=>{te(v),R(!0)},he=async v=>{if(window.confirm("Eliminar esta carrera tcnica? Esto podra afectar a los alumnos inscritos.")){const{error:K}=await ve.from("carreras_tecnicas").delete().eq("id",v);K||ne()}},ke=async()=>{const{data:v}=await ve.from("clubs").select("*").order("created_at",{ascending:!1});H(v||[])},Me=v=>{W(v),re(!0)},fe=async v=>{if(window.confirm("Eliminar este club?")){const{error:K}=await ve.from("clubs").delete().eq("id",v);K||ke()}},Ce=async()=>{const{data:v}=await ve.from("admission_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:K}=await ve.from("admission_dates").select("*").order("order_index",{ascending:!0}),{data:Fe}=await ve.from("admission_requirements").select("*").order("order_index",{ascending:!0}),{data:We}=await ve.from("admission_specialties").select("*").order("order_index",{ascending:!0}),{data:xt}=await ve.from("admission_contact").select("*").order("created_at",{ascending:!1}).limit(1).single();ge(v||null),Q(K||[]),O(Fe||[]),Ee(We||[]),dt(xt||null),v&&Le({target_date:v.target_date?v.target_date.split("T")[0]:"",countdown_message:v.countdown_message||"",header_title:v.header_title||"",header_subtitle:v.header_subtitle||""}),xt&&rt({address:xt.address||"",phone_label:xt.phone_label||"",phone_value:xt.phone_value||"",email_label:xt.email_label||"",email_value:xt.email_value||"",website_label:xt.website_label||"",website_value:xt.website_value||"",schedule:xt.schedule||""})},Ie=async v=>{v.preventDefault();const K={target_date:_e.target_date?new Date(_e.target_date).toISOString():null,countdown_message:_e.countdown_message,header_title:_e.header_title,header_subtitle:_e.header_subtitle};if(ae!=null&&ae.id){const{error:Fe}=await ve.from("admission_config").update(K).eq("id",ae.id);Fe||Ce()}else{const{error:Fe}=await ve.from("admission_config").insert([K]);Fe||Ce()}},Qe=async v=>{if(v.preventDefault(),!(!ye.title||!ye.date_range))if(oe){const{error:K}=await ve.from("admission_dates").update(ye).eq("id",oe.id);K||(j(null),je({title:"",date_range:"",subtitle:""}),Ce())}else{const{error:K}=await ve.from("admission_dates").insert([{...ye,order_index:Te.length+1}]);K||(je({title:"",date_range:"",subtitle:""}),Ce())}},De=async v=>{if(window.confirm("Eliminar esta fecha?")){const{error:K}=await ve.from("admission_dates").delete().eq("id",v);K||Ce()}},Xe=async v=>{if(v.preventDefault(),!!D.requirement)if(pe){const{error:K}=await ve.from("admission_requirements").update(D).eq("id",pe.id);K||(be(null),Z({requirement:""}),Ce())}else{const{error:K}=await ve.from("admission_requirements").insert([{...D,order_index:B.length+1}]);K||(Z({requirement:""}),Ce())}},Ge=async v=>{if(window.confirm("Eliminar este requisito?")){const{error:K}=await ve.from("admission_requirements").delete().eq("id",v);K||Ce()}},ot=async v=>{if(v.preventDefault(),!!Ye.name)if(st){const{error:K}=await ve.from("admission_specialties").update(Ye).eq("id",st.id);K||(ft(null),at({emoji:"",name:"",description:""}),Ce())}else{const{error:K}=await ve.from("admission_specialties").insert([{...Ye,order_index:Se.length+1}]);K||(at({emoji:"",name:"",description:""}),Ce())}},lt=async v=>{if(window.confirm("Eliminar esta especialidad?")){const{error:K}=await ve.from("admission_specialties").delete().eq("id",v);K||Ce()}},zt=async v=>{if(v.preventDefault(),le!=null&&le.id){const{error:K}=await ve.from("admission_contact").update(Pe).eq("id",le.id);K||Ce()}else{const{error:K}=await ve.from("admission_contact").insert([Pe]);K||Ce()}},yt=async()=>{const{data:v}=await ve.from("baetam_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:K}=await ve.from("baetam_info_cards").select("*").order("order_index",{ascending:!0}),{data:Fe}=await ve.from("baetam_requirements").select("*").order("order_index",{ascending:!0}),{data:We}=await ve.from("baetam_advantages").select("*").order("order_index",{ascending:!0}),{data:xt}=await ve.from("baetam_contact_lines").select("*").order("order_index",{ascending:!0});kt(v||null),fr(K||[]),Qt(Fe||[]),nn(We||[]),hr(xt||[]),v&&Et({hero_image_url:v.hero_image_url||"",title:v.title||"",subtitle:v.subtitle||"",target_date:v.target_date?v.target_date.split("T")[0]:"",countdown_label:v.countdown_label||"",countdown_date_text:v.countdown_date_text||"",inscriptions_title:v.inscriptions_title||"",inscriptions_period_title:v.inscriptions_period_title||"",inscriptions_period_description:v.inscriptions_period_description||"",requirements_title:v.requirements_title||"",advantages_title:v.advantages_title||"",contact_title:v.contact_title||"",contact_description:v.contact_description||""})},vr=async()=>{if(window.confirm("Quieres cargar la informacin REAL de CBTA 134 Tlaxcala para BAETAM? Esto sobrescribir la configuracin actual.")){$a(!0);try{const v={hero_image_url:"https://images.unsplash.com/photo-1541339907198-e08756ebafe3?q=80&w=2070",title:"BAETAM CBTa 134",subtitle:"Bachillerato Autoplaneado de Educacin Tecnolgica Agropecuaria y del Mar - Plantel San Francisco Tetlanohcan, Tlaxcala.",target_date:"2026-08-15T08:00:00.000Z",countdown_label:" Prximo ciclo de inscripciones:",countdown_date_text:"Agosto 2026",inscriptions_title:"Unidad de Educacin Autoplaneada (Tlaxcala)",inscriptions_period_title:" Inscripciones Abiertas",inscriptions_period_description:"Inicia tu bachillerato bivalente en nuestra modalidad sabatina. Especial para personas que trabajan.",requirements_title:"Documentacin para Ingreso",advantages_title:"Por qu elegir nuestra modalidad?",contact_title:"Atencin a Estudiantes",contact_description:"Vistanos en nuestras oficinas para una atencin personalizada."};Je!=null&&Je.id?await ve.from("baetam_config").update(v).eq("id",Je.id):await ve.from("baetam_config").insert([v]),await ve.from("baetam_info_cards").delete().neq("id","00000000-0000-0000-0000-000000000000"),await ve.from("baetam_info_cards").insert([{title:"Educacin para Adultos",description:"Para mayores de 18 aos con validez oficial.",order_index:1},{title:"Sistema Sabatino",description:"Asistencia nicamente los sbados.",order_index:2},{title:"Doble Titulacin",description:"Certificado de Bachillerato y Ttulo Tcnico.",order_index:3}]),await ve.from("baetam_requirements").delete().neq("id","00000000-0000-0000-0000-000000000000"),await ve.from("baetam_requirements").insert([{icon:"",text:"Acta de Nacimiento (Original y 3 copias)",order_index:1},{icon:"",text:"Certificado de Secundaria (Original y 3 copias)",order_index:2},{icon:"",text:"CURP actualizado",order_index:3},{icon:"",text:"6 Fotografas tamao infantil B/N",order_index:4}]),await ve.from("baetam_advantages").delete().neq("id","00000000-0000-0000-0000-000000000000"),await ve.from("baetam_advantages").insert([{title:"Sin examen de admisin",description:"Acceso directo con documentacin completa.",order_index:1},{title:"Validez ante la SEP",description:"Certificado nacional para cualquier universidad.",order_index:2}]),await ve.from("baetam_contact_lines").delete().neq("id","00000000-0000-0000-0000-000000000000"),await ve.from("baetam_contact_lines").insert([{line_text:" Carr. a San Pedro Tlalcuapan s/n, Tetlanohcan, Tlaxcala.",order_index:1},{line_text:" Tel: (246) 464 1234",order_index:2},{line_text:" Sbados de 8:00 AM a 3:00 PM",order_index:3}]),alert(" Datos de Tlaxcala cargados con xito."),yt()}catch(v){alert("Error cargando datos: "+v.message)}finally{$a(!1)}}},It=async v=>{var Fe;const K=(Fe=v.target.files)==null?void 0:Fe[0];if(K){ai(!0);try{const We=K.name.split(".").pop(),xt=`baetam-hero-${Date.now()}.${We}`,{error:qt}=await ve.storage.from("ui_media").upload(xt,K,{upsert:!0});if(qt)throw qt;const{data:{publicUrl:mn}}=ve.storage.from("ui_media").getPublicUrl(xt);Et({...Ze,hero_image_url:mn})}catch(We){alert("Error al subir imagen: "+We.message)}finally{ai(!1)}}},Tr=async v=>{v.preventDefault();const K={hero_image_url:Ze.hero_image_url,title:Ze.title,subtitle:Ze.subtitle,target_date:Ze.target_date?new Date(Ze.target_date).toISOString():null,countdown_label:Ze.countdown_label,countdown_date_text:Ze.countdown_date_text,inscriptions_title:Ze.inscriptions_title,inscriptions_period_title:Ze.inscriptions_period_title,inscriptions_period_description:Ze.inscriptions_period_description,requirements_title:Ze.requirements_title,advantages_title:Ze.advantages_title,contact_title:Ze.contact_title,contact_description:Ze.contact_description};if(Je!=null&&Je.id){const{error:Fe}=await ve.from("baetam_config").update(K).eq("id",Je.id);Fe||yt()}else{const{error:Fe}=await ve.from("baetam_config").insert([K]);Fe||yt()}},ia=async v=>{if(v.preventDefault(),!(!Zt.title||!Zt.description))if(gr){const{error:K}=await ve.from("baetam_info_cards").update(Zt).eq("id",gr.id);K||(nr(null),Xt({title:"",description:""}),yt())}else{const{error:K}=await ve.from("baetam_info_cards").insert([{...Zt,order_index:Pt.length+1}]);K||(Xt({title:"",description:""}),yt())}},lr=async v=>{if(window.confirm("Eliminar esta tarjeta?")){const{error:K}=await ve.from("baetam_info_cards").delete().eq("id",v);K||yt()}},Ot=async v=>{if(v.preventDefault(),!!Ct.text)if(Er){const{error:K}=await ve.from("baetam_requirements").update(Ct).eq("id",Er.id);K||(pr(null),rn({icon:"",text:""}),yt())}else{const{error:K}=await ve.from("baetam_requirements").insert([{...Ct,order_index:Ft.length+1}]);K||(rn({icon:"",text:""}),yt())}},jt=async v=>{if(window.confirm("Eliminar este requisito?")){const{error:K}=await ve.from("baetam_requirements").delete().eq("id",v);K||yt()}},jn=async v=>{if(v.preventDefault(),!(!Lt.title||!Lt.description))if(Wt){const{error:K}=await ve.from("baetam_advantages").update(Lt).eq("id",Wt.id);K||(er(null),Or({title:"",description:""}),yt())}else{const{error:K}=await ve.from("baetam_advantages").insert([{...Lt,order_index:xr.length+1}]);K||(Or({title:"",description:""}),yt())}},cr=async v=>{if(window.confirm("Eliminar esta ventaja?")){const{error:K}=await ve.from("baetam_advantages").delete().eq("id",v);K||yt()}},Dr=async v=>{if(v.preventDefault(),!!$t.line_text)if(as){const{error:K}=await ve.from("baetam_contact_lines").update($t).eq("id",as.id);K||(ra(null),Rr({line_text:""}),yt())}else{const{error:K}=await ve.from("baetam_contact_lines").insert([{...$t,order_index:Hr.length+1}]);K||(Rr({line_text:""}),yt())}},_n=async v=>{if(window.confirm("Eliminar esta lnea?")){const{error:K}=await ve.from("baetam_contact_lines").delete().eq("id",v);K||yt()}},pn=async()=>{const{data:v}=await ve.from("teachers_config").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:K}=await ve.from("teachers_links").select("*").order("order_index",{ascending:!0});mr(v||null),hn({title:(v==null?void 0:v.title)||"",subtitle:(v==null?void 0:v.subtitle)||"",hero_image_url:(v==null?void 0:v.hero_image_url)||"",cta_label:(v==null?void 0:v.cta_label)||""}),bn(K||[])},Ya=async v=>{v.preventDefault();const K={...Sr};if(rr!=null&&rr.id){const{error:Fe}=await ve.from("teachers_config").update(K).eq("id",rr.id);Fe||pn()}else{const{error:Fe}=await ve.from("teachers_config").insert([K]);Fe||pn()}},En=async v=>{if(v.preventDefault(),!yr.name||!yr.url)return;const K=yr.order_index?parseInt(yr.order_index,10):Jn.length+1,Fe={name:yr.name,description:yr.description,icon:yr.icon,url:yr.url,color:yr.color,order_index:K,is_active:yr.is_active};if(da){const{error:We}=await ve.from("teachers_links").update(Fe).eq("id",da.id);We||(Ws(null),Kr({name:"",description:"",icon:"",url:"",color:"",order_index:"",is_active:!0}),pn())}else{const{error:We}=await ve.from("teachers_links").insert([Fe]);We||(Kr({name:"",description:"",icon:"",url:"",color:"",order_index:"",is_active:!0}),pn())}},ma=async v=>{if(window.confirm("Eliminar este recurso?")){const{error:K}=await ve.from("teachers_links").delete().eq("id",v);K||pn()}},Br=async()=>{const{data:v}=await ve.from("contact_main").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:K}=await ve.from("contact_directory").select("*").order("order_index",{ascending:!0}),{data:Fe}=await ve.from("contact_social").select("*").order("order_index",{ascending:!0}),{data:We}=await ve.from("contact_location").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:xt}=await ve.from("contact_faq").select("*").order("order_index",{ascending:!0}),{data:qt}=await ve.from("contact_cta").select("*").order("created_at",{ascending:!1}).limit(1).single();na(v||null),Y(K||[]),Ue(Fe||[]),bt(We||null),ar(xt||[]),Oi(qt||null),v&&kr({address_line1:v.address_line1||"",address_line2:v.address_line2||"",address_line3:v.address_line3||"",phone:v.phone||"",email:v.email||"",website:v.website||"",rating_text:v.rating_text||"",status_text:v.status_text||"",hours_line1:v.hours_line1||"",hours_line2:v.hours_line2||""}),We&&gt({address_text:We.address_text||"",map_embed_url:We.map_embed_url||""}),qt&&_s({title:qt.title||"",description:qt.description||"",highlight_text:qt.highlight_text||""})},Zn=async v=>{if(v.preventDefault(),za!=null&&za.id){const{error:K}=await ve.from("contact_main").update(Ir).eq("id",za.id);K||Br()}else{const{error:K}=await ve.from("contact_main").insert([Ir]);K||Br()}},Mr=async v=>{if(v.preventDefault(),!(!ue.title||!ue.detail))if(ce){const{error:K}=await ve.from("contact_directory").update(ue).eq("id",ce.id);K||(me(null),se({icon:"",title:"",detail:""}),Br())}else{const{error:K}=await ve.from("contact_directory").insert([{...ue,order_index:Rn.length+1}]);K||(se({icon:"",title:"",detail:""}),Br())}},Wr=async v=>{if(window.confirm("Eliminar este elemento del directorio?")){const{error:K}=await ve.from("contact_directory").delete().eq("id",v);K||Br()}},In=async v=>{if(v.preventDefault(),!(!Ve.name||!Ve.url))if($e){const{error:K}=await ve.from("contact_social").update(Ve).eq("id",$e.id);K||(qe(null),Be({icon:"",name:"",url:"",description:""}),Br())}else{const{error:K}=await ve.from("contact_social").insert([{...Ve,order_index:xe.length+1}]);K||(Be({icon:"",name:"",url:"",description:""}),Br())}},Ur=async v=>{if(window.confirm("Eliminar esta red social?")){const{error:K}=await ve.from("contact_social").delete().eq("id",v);K||Br()}},ln=async v=>{if(v.preventDefault(),ct!=null&&ct.id){const{error:K}=await ve.from("contact_location").update(Nt).eq("id",ct.id);K||Br()}else{const{error:K}=await ve.from("contact_location").insert([Nt]);K||Br()}},La=async v=>{if(v.preventDefault(),!(!Pr.question||!Pr.answer))if(dn){const{error:K}=await ve.from("contact_faq").update(Pr).eq("id",dn.id);K||(bs(null),wr({question:"",answer:""}),Br())}else{const{error:K}=await ve.from("contact_faq").insert([{...Pr,order_index:pt.length+1}]);K||(wr({question:"",answer:""}),Br())}},zn=async v=>{if(window.confirm("Eliminar esta pregunta?")){const{error:K}=await ve.from("contact_faq").delete().eq("id",v);K||Br()}},fi=async v=>{if(v.preventDefault(),ii!=null&&ii.id){const{error:K}=await ve.from("contact_cta").update(an).eq("id",ii.id);K||Br()}else{const{error:K}=await ve.from("contact_cta").insert([an]);K||Br()}},Nr=async()=>{const{data:v}=await ve.from("about_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:K}=await ve.from("about_values").select("*").order("order_index",{ascending:!0});yl(v||null),la(K||[]),v&&Gr({title:v.title||"",logo_url:v.logo_url||"",croquis_image_url:v.croquis_image_url||"",history_text:v.history_text||"",mission_text:v.mission_text||"",vision_text:v.vision_text||"",lema_text:v.lema_text||"",commitment_text_1:v.commitment_text_1||"",commitment_text_2:v.commitment_text_2||""})},yn=async v=>{if(v.preventDefault(),Ar!=null&&Ar.id){const{error:K}=await ve.from("about_config").update(Sn).eq("id",Ar.id);K||Nr()}else{const{error:K}=await ve.from("about_config").insert([Sn]);K||Nr()}},pi=async()=>{if(!Us)return;if(!(Ar!=null&&Ar.id)){alert("Primero guarda la informacin de Acerca para poder asociar el croquis.");return}$s(!0);const v=Us.name.split(".").pop(),K=`croquis-${Date.now()}.${v}`,{error:Fe}=await ve.storage.from("about_media").upload(K,Us,{upsert:!0});if(Fe){alert("Error subiendo croquis: "+Fe.message),$s(!1);return}const{data:{publicUrl:We}}=ve.storage.from("about_media").getPublicUrl(K),{error:xt}=await ve.from("about_config").update({croquis_image_url:We}).eq("id",Ar.id);if(xt){alert("Error guardando croquis: "+xt.message),$s(!1);return}Gr({...Sn,croquis_image_url:We}),yl({...Ar,croquis_image_url:We}),vi(null),$s(!1)},Xa=async v=>{if(v.preventDefault(),!(!aa.title||!aa.description))if(wl){const{error:K}=await ve.from("about_values").update(aa).eq("id",wl.id);K||(Vo(null),zs({icon:"",title:"",description:""}),Nr())}else{const{error:K}=await ve.from("about_values").insert([{...aa,order_index:Ii.length+1}]);K||(zs({icon:"",title:"",description:""}),Nr())}},Qn=async v=>{if(window.confirm("Eliminar este valor?")){const{error:K}=await ve.from("about_values").delete().eq("id",v);K||Nr()}},Gn=async()=>{var v;try{const{data:K,error:Fe}=await ve.from("gallery_items").select("*").order("order_index",{ascending:!0});if(Fe){if(Fe.name==="AbortError"||(v=Fe.message)!=null&&v.includes("aborted"))return;console.error("Error fetching gallery:",Fe)}ac(K||[])}catch(K){console.warn("Silent catch in gallery fetch:",K)}},Ra=async()=>{if(!ja)return;oi(!0);const v=ja.name.split(".").pop(),K=`gallery-${Date.now()}.${v}`;try{const{error:Fe}=await ve.storage.from("gallery_media").upload(K,ja,{upsert:!0});if(Fe){alert("Error subiendo imagen: "+Fe.message),oi(!1);return}const{data:We}=ve.storage.from("gallery_media").getPublicUrl(K);let xt=We.publicUrl;xt&&!xt.includes("/object/public/")&&(xt=xt.replace("/object/","/object/public/")),console.log(" Imagen subida con xito. URL:",xt),ss({...Bn,image_url:xt}),Ss(null),oi(!1)}catch(Fe){console.error("Excepcin en upload:",Fe),alert("Error inesperado al subir imagen."),oi(!1)}},ji=async v=>{v.preventDefault();const K=zr?fo.trim():Bn.section;if(!K){alert("Por favor selecciona o especifica una seccin.");return}if(!Bn.title||!Bn.image_url){alert("El ttulo y la imagen son obligatorios.");return}const Fe={section:K,title:Bn.title,description:Bn.description,image_url:Bn.image_url,is_locked:Bn.is_locked};try{if(po){const{error:We}=await ve.from("gallery_items").update(Fe).eq("id",po.id);if(We)throw We;alert(" Elemento actualizado correctamente.")}else{const{error:We}=await ve.from("gallery_items").insert([{...Fe,order_index:ws.length+1}]);if(We)throw We;alert(" Elemento creado correctamente.")}Go(null),ss({section:"instalaciones",title:"",description:"",image_url:"",is_locked:!1}),Sl(""),is(!1),Gn()}catch(We){console.error("Error al guardar galera:",We),alert(" Error al guardar datos: "+(We.message||"Error desconocido"))}},en=async v=>{if(v.is_locked){alert("Esta imagen est bloqueada y no se puede eliminar.");return}if(window.confirm("Eliminar esta imagen?")){const{error:K}=await ve.from("gallery_items").delete().eq("id",v.id);K||Gn()}},Jr=async()=>{const{data:v}=await ve.from("ui_header_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:K}=await ve.from("ui_header_links").select("*").order("order_index",{ascending:!0}),{data:Fe}=await ve.from("ui_footer_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:We}=await ve.from("ui_footer_links").select("*").order("order_index",{ascending:!0}),{data:xt}=await ve.from("hero_slides").select("*").order("order_index",{ascending:!0}),{data:qt}=await ve.from("home_options").select("*").order("order_index",{ascending:!0});tr(v||null),Di(K||[]),Ns(Fe||null),Uc(We||[]),os(xt||[]),E(qt||[]),v&&ic({logo_url:v.logo_url||"",title_text:v.title_text||""}),Fe&&Mn({school_name:Fe.school_name||"",location_text:Fe.location_text||"",tagline_text:Fe.tagline_text||"",copyright_text:Fe.copyright_text||"",rights_text:Fe.rights_text||"",legal_text_1:Fe.legal_text_1||"",legal_text_2:Fe.legal_text_2||"",legal_text_3:Fe.legal_text_3||""})},Ja=async v=>{if(v.preventDefault(),qs!=null&&qs.id){const{error:K}=await ve.from("ui_header_config").update(qa).eq("id",qs.id);K||Jr()}else{const{error:K}=await ve.from("ui_header_config").insert([qa]);K||Jr()}},Fa=async v=>{if(v.preventDefault(),!(!ca.label||!ca.path))if(mo){const{error:K}=await ve.from("ui_header_links").update(ca).eq("id",mo.id);K||(go(null),Hs({label:"",href:"",path:""}),Jr())}else{const{error:K}=await ve.from("ui_header_links").insert([{...ca,order_index:sc.length+1}]);K||(Hs({label:"",href:"",path:""}),Jr())}},Ei=async v=>{if(window.confirm("Eliminar este link?")){const{error:K}=await ve.from("ui_header_links").delete().eq("id",v);K||Jr()}},Kn=async v=>{if(v.preventDefault(),Ko!=null&&Ko.id){const{error:K}=await ve.from("ui_footer_config").update(Nn).eq("id",Ko.id);K||Jr()}else{const{error:K}=await ve.from("ui_footer_config").insert([Nn]);K||Jr()}},Ls=async v=>{if(v.preventDefault(),!(!Ea.label||!Ea.href))if(li){const{error:K}=await ve.from("ui_footer_links").update(Ea).eq("id",li.id);K||(xo(null),Bi({label:"",href:"",icon_url:"",style_class:""}),Jr())}else{const{error:K}=await ve.from("ui_footer_links").insert([{...Ea,order_index:Yo.length+1}]);K||(Bi({label:"",href:"",icon_url:"",style_class:""}),Jr())}},bc=async v=>{if(window.confirm("Eliminar este link?")){const{error:K}=await ve.from("ui_footer_links").delete().eq("id",v);K||Jr()}},Ao=async()=>{if(!ci)return;bi(!0);const v=ci.name.split(".").pop(),K=`hero-${Date.now()}.${v}`,{error:Fe}=await ve.storage.from("ui_media").upload(K,ci,{upsert:!0});if(Fe){alert("Error subiendo imagen: "+Fe.message),bi(!1);return}const{data:{publicUrl:We}}=ve.storage.from("ui_media").getPublicUrl(K);Mi({...ua,image_url:We}),js(null),bi(!1)},_c=async v=>{if(v.preventDefault(),!!ua.image_url)if(Nl){const{error:K}=await ve.from("hero_slides").update({image_url:ua.image_url}).eq("id",Nl.id);K||(Jo(null),Mi({image_url:"",is_locked:!1}),Jr())}else{const{error:K}=await ve.from("hero_slides").insert([{image_url:ua.image_url,is_locked:ua.is_locked,order_index:Xo.length+1}]);K||(Mi({image_url:"",is_locked:!1}),Jr())}},ld=async v=>{if(v.is_locked){alert("Este slide est bloqueado.");return}if(window.confirm("Eliminar esta imagen?")){const{error:K}=await ve.from("hero_slides").delete().eq("id",v.id);K||Jr()}},qn=async()=>{if(!et)return;Bt(!0);const v=et.name.split(".").pop(),K=`option-${Date.now()}.${v}`,{error:Fe}=await ve.storage.from("ui_media").upload(K,et,{upsert:!0});if(Fe){alert("Error subiendo imagen: "+Fe.message),Bt(!1);return}const{data:{publicUrl:We}}=ve.storage.from("ui_media").getPublicUrl(K);de({...z,image_url:We}),it(null),Bt(!1)},yc=async v=>{if(v.preventDefault(),!(!z.title||!z.path||!z.image_url))if(Ne){const{error:K}=await ve.from("home_options").update({title:z.title,description:z.description,path:z.path,image_url:z.image_url,button_text:z.button_text||"Ver ms",is_visible:z.is_visible!==!1,is_locked:z.is_locked}).eq("id",Ne.id);K||(Oe(null),de({image_url:"",title:"",description:"",path:"",button_text:"Ver ms",is_locked:!1,is_visible:!0}),Jr())}else{const{error:K}=await ve.from("home_options").insert([{...z,button_text:z.button_text||"Ver ms",is_visible:z.is_visible!==!1,order_index:jl.length+1}]);K||(de({image_url:"",title:"",description:"",path:"",button_text:"Ver ms",is_locked:!1,is_visible:!0}),Jr())}},to=async v=>{if(v.is_locked){alert("Esta opcin est bloqueada.");return}if(window.confirm("Eliminar esta opcin?")){const{error:K}=await ve.from("home_options").delete().eq("id",v.id);K||Jr()}},ul=async()=>{const{data:v}=await ve.from("credits_config").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:K}=await ve.from("credits_authors").select("*").order("order_index",{ascending:!0});vo(v||null),El(K||[]),v&&Vs({title:v.title||"",subtitle:v.subtitle||"",license_title:v.license_title||"",license_text:v.license_text||""})},wu=async v=>{if(v.preventDefault(),_i!=null&&_i.id){const{error:K}=await ve.from("credits_config").update(Ha).eq("id",_i.id);K||ul()}else{const{error:K}=await ve.from("credits_config").insert([Ha]);K||ul()}},cd=async()=>{if(!Gs)return;Aa(!0);const v=Gs.name.split(".").pop(),K=`credits-${Date.now()}.${v}`,{error:Fe}=await ve.storage.from("credits_media").upload(K,Gs,{upsert:!0});if(Fe){alert("Error subiendo imagen: "+Fe.message),Aa(!1);return}const{data:{publicUrl:We}}=ve.storage.from("credits_media").getPublicUrl(K);ui({...Wn,photo_url:We}),oc(null),Aa(!1)},dl=async v=>{if(v.preventDefault(),!(!Wn.full_name||!Wn.career))if(ha){const{error:K}=await ve.from("credits_authors").update(Wn).eq("id",ha.id);K||(Zo(null),ui({full_name:"",career:"",description:"",photo_url:""}),ul())}else{const{error:K}=await ve.from("credits_authors").insert([{...Wn,order_index:bo.length+1}]);K||(ui({full_name:"",career:"",description:"",photo_url:""}),ul())}},wn=async v=>{if(window.confirm("Eliminar este autor?")){const{error:K}=await ve.from("credits_authors").delete().eq("id",v);K||ul()}},Yn=async()=>{const{data:v,error:K}=await ve.from("chatbot_config").select("*").order("updated_at",{ascending:!1}).limit(1).maybeSingle();K||(Ks(v||null),v&&Vn({provider:v.provider||"groq",base_url:v.base_url||"",api_key:v.api_key||"",groq_api_key:v.groq_api_key||"",gemini_api_key:v.gemini_api_key||"",model:v.model||"",system_prompt:v.system_prompt||"",enable_db_context:v.enable_db_context??!0,enabled:v.enabled??!0,fallback_enabled:v.fallback_enabled??!1,primary_provider:v.primary_provider||v.provider||"groq"}))},sa=async()=>{const{data:v,error:K}=await ve.from("ai_models").select("*").order("order_index",{ascending:!0});K||yo(v||[])},Ml=async v=>{if(v.preventDefault(),!fa.name.trim())return;const{error:K}=await ve.from("ai_models").insert([{provider:fa.provider,name:fa.name.trim(),order_index:Al.length+1,is_active:!0}]);K||(di({provider:fa.provider,name:""}),sa())},Co=async()=>{Pl(!0);const{data:v,error:K}=await ve.from("chatbot_questions").select("*").order("created_at",{ascending:!1}).limit(200);K||Ts(v||[]),Pl(!1)},To=async v=>{const{error:K}=await ve.from("chatbot_questions").delete().eq("id",v);K||Co()},Xd=async()=>{if(!window.confirm("Eliminar todas las preguntas?"))return;const{error:v}=await ve.from("chatbot_questions").delete().neq("id",0);v||Co()},Za=async()=>{tl(!0);const{data:v,error:K}=await ve.rpc("refresh_storage_usage");if(!K&&v)So(v);else{const{data:Fe,error:We}=await ve.rpc("get_storage_usage_overview");We||So(Fe||null)}tl(!1)},wc=v=>{Ui(K=>{const We=K.grados.includes(v)?K.grados.filter(xt=>xt!==v):[...K.grados,v];return{...K,grados:We}})},Su=v=>{Ui(K=>{const We=K.grupos.includes(v)?K.grupos.filter(xt=>xt!==v):[...K.grupos,v];return{...K,grupos:We}})},Yc=v=>btoa(unescape(encodeURIComponent(v))).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/g,""),Oa=({from:v,to:K,subject:Fe,html:We,text:xt})=>{const qt=We||xt||"",mn=v?`"CBTa 134" <${v}>`:"me",At=We?'text/html; charset="UTF-8"':'text/plain; charset="UTF-8"',Ia=[`From: ${mn}`,`To: <${K}>`,`Subject: ${Fe||"(sin asunto)"}`,"MIME-Version: 1.0",`Content-Type: ${At}`,"",qt].join(`\r
`);return Yc(Ia)},Hi=(v,K)=>{let Fe=i;if(!Zr.sendToAll&&(Zr.grados.length&&(Fe=Fe.filter(At=>Zr.grados.includes(Number(At.grado)))),Zr.grupos.length)){const At=Zr.grupos.map(gn=>String(gn).toUpperCase());Fe=Fe.filter(gn=>At.includes(String(gn.grupo||"").toUpperCase()))}v&&(Fe=Fe.filter(At=>At.id!==v));const We=Fe.map(At=>At.email||At.correo||At.email_address).map(At=>At?String(At).trim():"").filter(At=>!!At),xt=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;let qt=We.filter(At=>xt.test(At));if(K){const At=K.toLowerCase();qt=qt.filter(gn=>gn.toLowerCase()!==At)}const mn=We.length-qt.length;return{emails:[...new Set(qt)],filteredCount:Fe.length,missingEmailsCount:Fe.length-We.length,invalidEmailsCount:mn}},Sc=async()=>{var v,K;if(Cr(null),!rl){Cr({type:"error",message:"Gmail no est conectado. Cierra sesin e inicia sesin nuevamente con Google para autorizar Gmail."});return}if(!Zr.subject||!Zr.messageHtml&&!Zr.messageText){Cr({type:"error",message:"Escribe un asunto y contenido."});return}hi(!0);try{const{data:{session:Fe},error:We}=await ve.auth.getSession();We&&We.name!=="AbortError"&&console.error("Auth error in gmail:",We);const xt=($c||((v=Fe==null?void 0:Fe.user)==null?void 0:v.email)||(t==null?void 0:t.email)||localStorage.getItem("gmail_user_email")||"").trim(),{emails:qt,filteredCount:mn,missingEmailsCount:At,invalidEmailsCount:gn}=Hi(((K=Fe==null?void 0:Fe.user)==null?void 0:K.id)||(t==null?void 0:t.id),xt);if(!qt.length){const Po=mn?`Se encontraron ${mn} alumnos, ${At} sin correo y ${gn} con correo invlido.`:"No hay alumnos que coincidan con el filtro seleccionado.",Lo=xt?" El correo del maestro fue excluido.":"";throw new Error(`No hay correos disponibles. ${Po}${Lo}`)}let Ia=0,us=0;const hl=[];for(let Po=0;Po<qt.length;Po++){const Lo=qt[Po],Eu=Oa({from:xt||void 0,to:Lo,subject:Zr.subject,html:Zr.messageHtml||void 0,text:Zr.messageText||void 0});try{const Rs=await fetch("https://gmail.googleapis.com/gmail/v1/users/me/messages/send",{method:"POST",headers:{Authorization:`Bearer ${rl}`,"Content-Type":"application/json"},body:JSON.stringify({raw:Eu})});if(Rs.ok)Ia++;else{const ku=await Rs.text().catch(()=>"");if(console.error(`Gmail API error para ${Lo}:`,Rs.status,ku),Rs.status===401||Rs.status===403)throw Yr(!1),ba(null),localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),new Error("El token de Gmail no es vlido o no tiene permisos. Cierra sesin e inicia sesin nuevamente con Google.");Rs.status===429?(await new Promise(eh=>setTimeout(eh,2e3)),(await fetch("https://gmail.googleapis.com/gmail/v1/users/me/messages/send",{method:"POST",headers:{Authorization:`Bearer ${rl}`,"Content-Type":"application/json"},body:JSON.stringify({raw:Eu})})).ok?Ia++:(us++,hl.push(Lo))):(us++,hl.push(Lo))}}catch(Rs){if(Rs.message.includes("token"))throw Rs;us++,hl.push(Lo)}Po<qt.length-1&&await new Promise(Rs=>setTimeout(Rs,150))}if(us===0)Cr({type:"success",message:` Enviados ${Ia} correos exitosamente.`});else if(Ia>0)Cr({type:"warning",message:` Enviados ${Ia} correos. Fallaron ${us}: ${hl.slice(0,3).join(", ")}${hl.length>3?"...":""}`});else throw new Error(`No se pudieron enviar los correos. Fallaron todos (${us}).`);Ia>0&&Ui({...Zr,subject:"",messageHtml:"",messageText:""})}catch(Fe){Cr({type:"error",message:Fe.message||"Error al enviar correos."})}finally{hi(!1)}},Nc=(v=0)=>{if(!v)return"0 B";const K=["B","KB","MB","GB","TB"],Fe=Math.floor(Math.log(v)/Math.log(1024));return`${(v/Math.pow(1024,Fe)).toFixed(2)} ${K[Fe]}`},Nu=(v,K)=>K?K.replace(/\/$/,""):v==="gemini"?"https://generativelanguage.googleapis.com/v1beta":"https://api.groq.com/openai/v1",Ul=async v=>{if(v.preventDefault(),!!Wa.trim()){As(!0),ks("");try{const K=(ir.provider||"groq").toLowerCase(),Fe=(ir.primary_provider||K).toLowerCase(),We=ir.fallback_enabled===!0,xt=Fe==="groq"?"gemini":"groq",qt=gn=>gn==="groq"?ir.groq_api_key||ir.api_key||"":gn==="gemini"?ir.gemini_api_key||ir.api_key||"":ir.api_key||"",mn=async gn=>{var eh,e0,t0,r0,dd,xf,vf,bf;const Ia=qt(gn);if(!Ia)throw new Error(`Falta configurar la API key para ${gn}.`);const us=Nu(gn,ir.base_url||""),hl=ir.model||(gn==="gemini"?"gemini-3.0-flash":"llama-3.1-8b-instant");let Po="";if(ir.enable_db_context){const{data:Wi,error:Xc}=await ve.rpc("get_chatbot_context");Xc||(Po=JSON.stringify(Wi||{},null,2))}const Lo=(ir.system_prompt||J1).trim(),Eu=Po?`${Lo}

Contexto de la base de datos (JSON):
${Po}`:Lo;if(gn==="gemini"){const Wi=`${us}/models/${hl}:generateContent?key=${Ia}`,Xc=await fetch(Wi,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({contents:[{parts:[{text:`${Eu}

Usuario: ${Wa}`}]}]})});if(!Xc.ok){const _f=await Xc.text();throw new Error(_f)}return((dd=(r0=(t0=(e0=(eh=(await Xc.json()).candidates)==null?void 0:eh[0])==null?void 0:e0.content)==null?void 0:t0.parts)==null?void 0:r0[0])==null?void 0:dd.text)||"Sin respuesta."}const Rs=`${us}/chat/completions`,ku=await fetch(Rs,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ia}`},body:JSON.stringify({model:hl,messages:[{role:"system",content:Eu},{role:"user",content:Wa}],temperature:.3})});if(!ku.ok){const Wi=await ku.text();throw new Error(Wi)}return((bf=(vf=(xf=(await ku.json()).choices)==null?void 0:xf[0])==null?void 0:vf.message)==null?void 0:bf.content)||"Sin respuesta."};let At="";try{At=await mn(We?Fe:K)}catch(gn){if(We)At=await mn(xt);else throw gn}ks(At)}catch(K){ks(`Error: ${K.message}`)}As(!1)}},Jd=async v=>{v.preventDefault(),kl(!0);const K={provider:ir.provider,base_url:ir.base_url||null,api_key:ir.api_key,groq_api_key:ir.groq_api_key,gemini_api_key:ir.gemini_api_key,model:ir.model,system_prompt:ir.system_prompt,enable_db_context:ir.enable_db_context,enabled:ir.enabled,fallback_enabled:ir.fallback_enabled,primary_provider:ir.primary_provider,updated_at:new Date().toISOString(),created_by:(va==null?void 0:va.created_by)||(t==null?void 0:t.id)||null};if(va!=null&&va.id){const{error:Fe}=await ve.from("chatbot_config").update(K).eq("id",va.id);Fe||await Yn()}else{const{error:Fe}=await ve.from("chatbot_config").insert([K]);Fe||await Yn()}kl(!1)},ud=()=>{b(!f)},Zd=async()=>{localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),await ve.auth.signOut(),e("/maestros")},ju=async()=>{var v;uc(!0);try{let K=localStorage.getItem("gmail_provider_token"),Fe=localStorage.getItem("gmail_user_email");if(!K)try{const{data:{session:We},error:xt}=await ve.auth.getSession();We!=null&&We.provider_token&&(K=We.provider_token,Fe=((v=We.user)==null?void 0:v.email)||"",localStorage.setItem("gmail_provider_token",K),localStorage.setItem("gmail_user_email",Fe))}catch(We){console.warn("Silent auth check error in gmail status:",We)}if(!K){Yr(!1),ba(null),zi(null),Cr({type:"error",message:"No hay acceso a Gmail. Cierra sesin e inicia sesin nuevamente con Google para autorizar Gmail."});return}try{const We=await fetch(`https://www.googleapis.com/oauth2/v3/tokeninfo?access_token=${encodeURIComponent(K)}`);if(We.ok){const xt=await We.json();if(!((xt==null?void 0:xt.scope)||"").includes("https://www.googleapis.com/auth/gmail.send")){localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),Yr(!1),ba(null),zi(null),Cr({type:"error",message:"Tu sesin de Google no tiene permisos de Gmail. Cierra sesin e inicia sesin nuevamente con Google para autorizar Gmail."});return}const At=(xt==null?void 0:xt.email)||Fe;Yr(!0),ba(K),zi(At),Cr({type:"success",message:`Gmail conectado como ${At||"tu cuenta"}`})}else localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),Yr(!1),ba(null),zi(null),Cr({type:"error",message:"La sesin de Gmail ha expirado o es invlida. Cierra sesin e inicia sesin nuevamente con Google."})}catch(We){console.warn("Error verificando token de Google:",We),Yr(!1)}}catch(K){Yr(!1),ba(null),Cr({type:"error",message:"Error al verificar Gmail: "+(K.message||"desconocido")})}finally{uc(!1)}},Qd=async()=>{window.confirm("Para conectar/reconectar Gmail, necesitas cerrar sesin e iniciar sesin nuevamente con Google. Deseas continuar?")&&(localStorage.removeItem("gmail_provider_token"),localStorage.removeItem("gmail_user_email"),ba(null),zi(null),Yr(!1),await ve.auth.signOut(),Pa())};return c?s.jsx("div",{className:`min-h-screen flex items-center justify-center ${f?"bg-slate-900":"bg-slate-100"}`,children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-600 border-t-transparent"})}):t?t&&id?s.jsx("div",{className:`min-h-screen flex items-center justify-center ${f?"bg-slate-900":"bg-slate-100"}`,children:s.jsxs("div",{className:`p-8 rounded-3xl shadow-xl max-w-md w-full mx-4 ${f?"bg-slate-800":"bg-white"}`,children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"bg-red-500 p-3 rounded-2xl inline-block mb-4",children:s.jsx("span",{className:"material-symbols-outlined text-white text-3xl",children:"block"})}),s.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-900"}`,children:"Acceso Denegado"}),s.jsx("p",{className:`mt-2 ${f?"text-slate-400":"text-slate-500"}`,children:"Tu cuenta no tiene permiso para acceder al EduPanel."}),s.jsx("div",{className:`mt-4 p-3 rounded-xl ${f?"bg-slate-700":"bg-slate-100"}`,children:s.jsxs("p",{className:`text-sm ${f?"text-slate-300":"text-slate-600"}`,children:["Cuenta: ",s.jsx("strong",{children:t.email})]})}),s.jsx("p",{className:`mt-4 text-sm ${f?"text-slate-500":"text-slate-400"}`,children:"Contacta al administrador para solicitar acceso."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:async()=>{await ve.auth.signOut(),wi(!1)},className:"flex-1 py-3 bg-red-500 text-white rounded-xl font-medium hover:bg-red-600 transition-colors",children:"Cerrar Sesin"}),s.jsx("button",{onClick:()=>e("/maestros"),className:"flex-1 py-3 text-slate-500 hover:text-slate-700 transition-colors font-medium border rounded-xl",children:" Regresar"})]})]})}):t&&!mu?s.jsx("div",{className:`min-h-screen flex items-center justify-center ${f?"bg-slate-900":"bg-slate-100"}`,children:s.jsxs("div",{className:`p-8 rounded-3xl shadow-xl max-w-md w-full mx-4 ${f?"bg-slate-800":"bg-white"}`,children:[s.jsxs("div",{className:"text-center mb-6",children:[s.jsx("div",{className:"bg-orange-500 p-3 rounded-2xl inline-block mb-4",children:s.jsx("span",{className:"material-symbols-outlined text-white text-3xl",children:"lock"})}),s.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-900"}`,children:"Verificacin de Seguridad"}),s.jsx("p",{className:`mt-2 ${f?"text-slate-400":"text-slate-500"}`,children:"Ingresa el cdigo de acceso para maestros."}),s.jsxs("p",{className:`mt-1 text-sm ${f?"text-slate-500":"text-slate-400"}`,children:["Sesin iniciada como: ",s.jsx("strong",{children:t.email})]})]}),s.jsxs("form",{onSubmit:Xs,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Usuario"}),s.jsx("input",{type:"text",value:yi.user,onChange:v=>nl({...yi,user:v.target.value}),className:`w-full px-4 py-3 rounded-xl border ${f?"bg-slate-700 border-slate-600 text-white":"bg-slate-50 border-slate-200"}`,placeholder:"Usuario de seguridad",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Contrasea"}),s.jsx("input",{type:"password",value:yi.password,onChange:v=>nl({...yi,password:v.target.value}),className:`w-full px-4 py-3 rounded-xl border ${f?"bg-slate-700 border-slate-600 text-white":"bg-slate-50 border-slate-200"}`,placeholder:"Contrasea de seguridad",required:!0})]}),al&&s.jsx("div",{className:"bg-red-100 text-red-700 px-4 py-3 rounded-xl text-sm",children:al}),s.jsx("button",{type:"submit",disabled:hc,className:"w-full py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50",children:hc?"Verificando...":"Verificar Acceso"})]}),s.jsxs("div",{className:"mt-4 flex gap-2",children:[s.jsx("button",{onClick:async()=>{sessionStorage.removeItem("maestro_security_verified"),await ve.auth.signOut()},className:"flex-1 py-3 text-slate-500 hover:text-slate-700 transition-colors font-medium text-sm",children:"Cerrar Sesin"}),s.jsx("button",{onClick:()=>e("/maestros"),className:"flex-1 py-3 text-slate-500 hover:text-slate-700 transition-colors font-medium text-sm",children:" Regresar"})]})]})}):s.jsxs("div",{className:`min-h-screen transition-colors duration-200 ${f?"bg-slate-900 text-slate-100":"bg-slate-100 text-slate-900"}`,children:[s.jsxs("header",{className:`lg:hidden sticky top-0 z-30 flex items-center justify-between px-4 py-3 ${f?"bg-slate-900 border-slate-800":"bg-white border-slate-200"} border-b`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"bg-blue-800 p-1.5 rounded-lg",children:s.jsx("span",{className:"material-symbols-outlined text-white text-xl",children:"school"})}),s.jsx("h1",{className:`text-lg font-bold tracking-tight ${f?"text-blue-400":"text-blue-800"}`,children:"EduPanel"})]}),s.jsx("button",{className:`p-2 ${f?"text-slate-400":"text-slate-600"}`,onClick:()=>S(!g),children:s.jsx("span",{className:"material-symbols-outlined",children:"menu"})})]}),g&&s.jsx("div",{className:"lg:hidden fixed inset-0 bg-black/50 z-30",onClick:()=>S(!1)}),s.jsxs("aside",{className:`fixed inset-y-0 left-0 w-64 ${f?"bg-slate-900 border-slate-800":"bg-white border-slate-200"} border-r transform ${g?"translate-x-0":"-translate-x-full"} lg:translate-x-0 transition-transform duration-300 ease-in-out z-40 flex flex-col overflow-hidden`,children:[s.jsx("div",{className:"p-6 hidden lg:block flex-shrink-0",children:s.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[s.jsx("div",{className:"bg-blue-800 p-2 rounded-lg",children:s.jsx("span",{className:"material-symbols-outlined text-white",children:"school"})}),s.jsx("h1",{className:`text-xl font-bold tracking-tight ${f?"text-blue-400":"text-blue-800"}`,children:"EduPanel"})]})}),s.jsxs("nav",{className:"flex-1 px-4 space-y-1 mt-4 lg:mt-0 overflow-y-auto overscroll-contain pb-10",children:[s.jsxs("button",{onClick:()=>{N("dashboard"),S(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl font-semibold transition-all ${y==="dashboard"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"dashboard"})," Panel Principal"]}),s.jsxs("button",{onClick:()=>{N("gallery"),S(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${y==="gallery"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"photo_library"})," Galera"]}),s.jsxs("button",{onClick:()=>{N("admission"),S(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${y==="admission"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"assignment_ind"})," Admisin y Pre-Registro"]}),s.jsxs("button",{onClick:()=>{N("maestros"),S(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${y==="maestros"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"co_present"})," Maestros"]}),s.jsxs("button",{onClick:()=>{N("alumnos"),S(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${y==="alumnos"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"group"})," Alumnos"]}),s.jsxs("button",{onClick:()=>{N("avisos"),S(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${y==="avisos"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"campaign"})," Avisos"]}),s.jsxs("button",{onClick:()=>{N("clubes"),S(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${y==="clubes"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"sports_esports"})," Clubes"]}),s.jsxs("button",{onClick:()=>{N("carreras"),S(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${y==="carreras"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"engineering"})," Carreras"]}),s.jsxs("button",{onClick:()=>{N("baetam"),S(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${y==="baetam"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"school"})," BAETAM"]}),s.jsxs("button",{onClick:()=>{N("contacto"),S(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${y==="contacto"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"contact_mail"})," Contacto"]}),s.jsxs("button",{onClick:()=>{N("about"),S(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${y==="about"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"info"})," Acerca"]}),s.jsxs("button",{onClick:()=>{N("preregistros"),S(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${y==="preregistros"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"how_to_reg"})," Pre-Registros"]}),s.jsxs("button",{onClick:()=>{N("ui"),S(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${y==="ui"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"dashboard_customize"})," Interfaz"]}),s.jsxs("button",{onClick:()=>{N("creditos"),S(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${y==="creditos"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"badge"})," Crditos"]}),s.jsxs("button",{onClick:()=>{N("chatbot"),S(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${y==="chatbot"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"smart_toy"})," IA Chatbot"]}),s.jsxs("button",{onClick:()=>{N("gmail"),S(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${y==="gmail"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"mail"})," Notificaciones Gmail"]}),s.jsxs("button",{onClick:()=>{N("storage"),S(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${y==="storage"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"storage"})," Almacenamiento"]}),s.jsxs("button",{onClick:()=>{N("access"),S(!1)},className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${y==="access"?f?"bg-blue-900/20 text-blue-400":"bg-blue-50 text-blue-800":f?"text-slate-400 hover:bg-slate-800":"text-slate-600 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:"security"})," Acceso a la Pgina"]})]}),s.jsxs("div",{className:`p-4 border-t flex-shrink-0 ${f?"border-slate-800":"border-slate-100"}`,children:[s.jsxs("button",{onClick:ud,className:`w-full flex items-center justify-between p-3 rounded-xl ${f?"bg-slate-800 text-slate-300":"bg-slate-100 text-slate-600"}`,children:[s.jsx("span",{className:"text-sm font-medium",children:"Modo Oscuro"}),s.jsx("span",{className:"material-symbols-outlined",children:"dark_mode"})]}),s.jsxs("button",{onClick:Zd,className:`w-full mt-2 flex items-center justify-center gap-2 p-3 rounded-xl ${f?"bg-red-900/30 text-red-300 hover:bg-red-900/40":"bg-red-50 text-red-600 hover:bg-red-100"} transition-colors`,children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"logout"}),s.jsx("span",{className:"text-sm font-medium",children:"Cerrar sesin"})]}),s.jsxs("button",{onClick:()=>e("/maestros"),className:`w-full mt-2 flex items-center justify-center gap-2 p-3 rounded-xl ${f?"bg-slate-800 text-slate-300 hover:bg-slate-700":"bg-slate-100 text-slate-600 hover:bg-slate-200"} transition-colors`,children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"arrow_back"}),s.jsx("span",{className:"text-sm font-medium",children:"Regresar"})]})]})]}),g&&s.jsx("div",{className:"fixed inset-0 bg-black/20 backdrop-blur-sm z-30 lg:hidden",onClick:()=>S(!1)}),s.jsxs("main",{className:"lg:ml-64 p-4 md:p-8 lg:p-10 min-h-screen",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-6 mb-10",children:[s.jsxs("div",{children:[s.jsx("h2",{className:`text-2xl md:text-3xl font-extrabold ${f?"text-white":"text-slate-900"}`,children:"Panel Docente"}),s.jsxs("p",{className:f?"text-slate-400":"text-slate-500",children:["Bienvenido, ",s.jsx("span",{className:`font-bold ${f?"text-blue-400":"text-blue-800"}`,children:(n==null?void 0:n.nombre)||"Maestro"})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative flex-1 md:flex-none",children:[s.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"search"}),s.jsx("input",{type:"text",placeholder:"Buscar...",className:`w-full md:w-64 pl-10 pr-4 py-2.5 border-none rounded-2xl shadow-sm ring-1 ${f?"bg-slate-800 ring-slate-700 text-white":"bg-white ring-slate-200"} focus:ring-2 focus:ring-blue-800 transition-all`})]}),s.jsx("button",{className:"bg-blue-800 text-white p-2.5 rounded-2xl shadow-lg shadow-blue-200 dark:shadow-none hover:opacity-90 transition-opacity",children:s.jsx("span",{className:"material-symbols-outlined",children:"notifications"})})]})]}),y==="admission"&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[s.jsx("section",{children:s.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"assignment"})," Configuracin de Admisin"]}),s.jsxs("form",{onSubmit:Ie,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"date",value:_e.target_date,onChange:v=>Le({..._e,target_date:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Mensaje del contador",value:_e.countdown_message,onChange:v=>Le({..._e,countdown_message:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ttulo de cabecera",value:_e.header_title,onChange:v=>Le({..._e,header_title:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Subttulo de cabecera",value:_e.header_subtitle,onChange:v=>Le({..._e,header_subtitle:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Configuracin"})})]})]})}),s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2 text-blue-600",children:[s.jsx("span",{className:"material-symbols-outlined",children:"assignment_ind"})," Alumnos Pre-Registrados (Aspirantes)"]}),s.jsx("p",{className:`text-sm ${f?"text-slate-400":"text-slate-500"}`,children:"Lista de alumnos que han completado su pre-registro para nuevo ingreso."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:Gc,className:"p-2 rounded-xl bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors",title:"Actualizar lista",children:s.jsx("span",{className:"material-symbols-outlined",children:"refresh"})}),s.jsx("button",{onClick:Bl,className:"p-2 rounded-xl bg-green-50 text-green-600 hover:bg-green-100 transition-colors",title:"Descargar Excel",children:s.jsx("span",{className:"material-symbols-outlined",children:"download"})}),s.jsx("button",{onClick:()=>Si(!On),className:`p-2 rounded-xl transition-all border ${On?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,title:On?"Cerrar Configuracin":"Configurar Landing de Pre-Registro",children:s.jsx("span",{className:"material-symbols-outlined",children:On?"visibility":"settings"})})]})]}),On&&s.jsxs("div",{className:"mb-8 p-6 rounded-3xl border border-blue-100 bg-blue-50/10 space-y-6 animate-in fade-in slide-in-from-top-4 duration-300",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsxs("h4",{className:"font-bold text-blue-800 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined",children:"settings"})," Configuracin del Mdulo de Pre-Registro"]}),s.jsx("button",{onClick:()=>Si(!1),className:"text-slate-400 hover:text-red-500 transition-colors",children:s.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),cs()]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:`border-b ${f?"border-slate-700":"border-slate-100"}`,children:[s.jsx("th",{className:"py-4 px-2 font-bold text-sm",children:"Folio"}),s.jsx("th",{className:"py-4 px-2 font-bold text-sm",children:"Nombre Completo"}),s.jsx("th",{className:"py-4 px-2 font-bold text-sm",children:"CURP"}),s.jsx("th",{className:"py-4 px-2 font-bold text-sm",children:"Carrera"}),s.jsx("th",{className:"py-4 px-2 font-bold text-sm",children:"Estatus"}),s.jsx("th",{className:"py-4 px-2 font-bold text-sm",children:"Acciones"})]})}),s.jsx("tbody",{children:Wc.length===0?s.jsx("tr",{children:s.jsx("td",{colSpan:"6",className:"py-10 text-center opacity-50 italic",children:"No hay registros de aspirantes an."})}):Wc.map(v=>s.jsxs("tr",{className:`border-b ${f?"border-slate-800/50":"border-slate-50"}`,children:[s.jsx("td",{className:"py-4 px-2 text-sm font-mono text-blue-600",children:v.folio}),s.jsxs("td",{className:"py-4 px-2 text-sm",children:[s.jsxs("div",{className:"font-bold",children:[v.nombre," ",v.apellido_paterno," ",v.apellido_materno]}),s.jsxs("div",{className:"text-xs opacity-50",children:[v.email,"  ",v.telefono]})]}),s.jsx("td",{className:"py-4 px-2 text-sm font-mono uppercase",children:v.curp}),s.jsx("td",{className:"py-4 px-2 text-sm",children:v.carrera_opcion1}),s.jsx("td",{className:"py-4 px-2 text-sm",children:s.jsx("span",{className:`px-3 py-1 rounded-full text-[10px] font-bold uppercase ${v.status==="completado"?"bg-green-100 text-green-700":v.status==="pendiente"?"bg-yellow-100 text-yellow-700":"bg-slate-100"}`,children:v.status||"Pendiente"})}),s.jsx("td",{className:"py-4 px-2 text-sm",children:s.jsx("button",{className:"text-blue-500 hover:underline",children:"Ver ficha"})})]},v.id))})]})})]}),s.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Fechas Importantes"}),s.jsxs("form",{onSubmit:Qe,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Ttulo",value:ye.title,onChange:v=>je({...ye,title:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Rango de fecha",value:ye.date_range,onChange:v=>je({...ye,date_range:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Subttulo",value:ye.subtitle,onChange:v=>je({...ye,subtitle:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:oe?"Actualizar":"Agregar"})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Te.map(v=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:v.title}),s.jsxs("div",{className:"text-xs text-slate-500",children:[v.date_range,"  ",v.subtitle]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{j(v),je({title:v.title,date_range:v.date_range,subtitle:v.subtitle})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>De(v.id),className:"text-red-500",children:"Eliminar"})]})]},v.id))})]}),s.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Requisitos"}),s.jsxs("form",{onSubmit:Xe,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Requisito",value:D.requirement,onChange:v=>Z({requirement:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:pe?"Actualizar":"Agregar"})]}),s.jsx("div",{className:"mt-4 space-y-2",children:B.map(v=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[s.jsx("div",{className:"font-semibold",children:v.requirement}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{be(v),Z({requirement:v.requirement})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>Ge(v.id),className:"text-red-500",children:"Eliminar"})]})]},v.id))})]})]}),s.jsxs("section",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Especialidades"}),s.jsxs("form",{onSubmit:ot,className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx("input",{type:"text",placeholder:"Emoji",value:Ye.emoji,onChange:v=>at({...Ye,emoji:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Nombre",value:Ye.name,onChange:v=>at({...Ye,name:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:Ye.description,onChange:v=>at({...Ye,description:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-3",children:s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:st?"Actualizar":"Agregar"})})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Se.map(v=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold",children:[v.emoji," ",v.name]}),s.jsx("div",{className:"text-xs text-slate-500",children:v.description})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{ft(v),at({emoji:v.emoji,name:v.name,description:v.description})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>lt(v.id),className:"text-red-500",children:"Eliminar"})]})]},v.id))})]}),s.jsxs("section",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Contacto"}),s.jsxs("form",{onSubmit:zt,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Direccin",value:Pe.address,onChange:v=>rt({...Pe,address:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Etiqueta Telfono",value:Pe.phone_label,onChange:v=>rt({...Pe,phone_label:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Telfono",value:Pe.phone_value,onChange:v=>rt({...Pe,phone_value:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Etiqueta Correo",value:Pe.email_label,onChange:v=>rt({...Pe,email_label:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Correo",value:Pe.email_value,onChange:v=>rt({...Pe,email_value:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Etiqueta Sitio Web",value:Pe.website_label,onChange:v=>rt({...Pe,website_label:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Sitio Web",value:Pe.website_value,onChange:v=>rt({...Pe,website_value:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Horario",value:Pe.schedule,onChange:v=>rt({...Pe,schedule:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Contacto"})})]})]})]}),y==="baetam"&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[s.jsx("section",{children:s.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"school"})," Configuracin BAETAM"]}),s.jsxs("button",{type:"button",onClick:vr,disabled:Gt,className:"px-4 py-2 bg-purple-100 text-purple-700 hover:bg-purple-200 font-bold rounded-xl text-xs transition flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:Gt?"sync":"database"}),Gt?"Cargando...":"Cargar Datos Tlaxcala"]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mb-8",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest pl-1",children:"Imagen de Cabecera"}),s.jsxs("div",{className:"relative group rounded-3xl overflow-hidden aspect-[16/9] shadow-lg border-2 border-slate-100 dark:border-slate-700 bg-slate-100",children:[Ze.hero_image_url?s.jsx("img",{src:Ze.hero_image_url,alt:"Hero",className:"w-full h-full object-cover"}):s.jsxs("div",{className:"w-full h-full flex flex-col items-center justify-center text-slate-400 italic text-xs p-4 text-center",children:[s.jsx("span",{className:"material-symbols-outlined text-3xl mb-2",children:"image"}),"Sin imagen configurada"]}),s.jsx("div",{className:"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center",children:s.jsxs("label",{className:"cursor-pointer bg-white text-blue-800 px-4 py-2 rounded-xl text-xs font-bold shadow-2xl hover:scale-105 transition flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"upload"}),Fi?"Subiendo...":"Cambiar Imagen",s.jsx("input",{type:"file",onChange:It,className:"hidden",accept:"image/*",disabled:Fi})]})})]})]}),s.jsx("div",{className:"lg:col-span-2 space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest pl-1",children:"URL de la Imagen (o subir arriba)"}),s.jsx("input",{type:"text",placeholder:"https://...",value:Ze.hero_image_url,onChange:v=>Et({...Ze,hero_image_url:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"} text-xs font-mono`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest pl-1",children:"Ttulo Principal"}),s.jsx("input",{type:"text",placeholder:"Ttulo de la seccin",value:Ze.title,onChange:v=>Et({...Ze,title:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest pl-1",children:"Subttulo Informativo"}),s.jsx("input",{type:"text",placeholder:"Descripcin corta",value:Ze.subtitle,onChange:v=>Et({...Ze,subtitle:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]})]})})]}),s.jsxs("form",{onSubmit:Tr,className:"space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 p-6 rounded-3xl bg-blue-50/30 dark:bg-blue-900/10 border border-blue-100 dark:border-blue-800/30",children:[s.jsx("div",{className:"md:col-span-3",children:s.jsxs("h4",{className:"text-sm font-bold text-blue-800 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-base",children:"event_note"})," Gestin del Contador y Periodos"]})}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest pl-1",children:"Fecha Lmite (Countdown)"}),s.jsx("input",{type:"date",value:Ze.target_date,onChange:v=>Et({...Ze,target_date:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest pl-1",children:"Etiqueta del Contador"}),s.jsx("input",{type:"text",placeholder:"Ej: Inscripciones abiertas en:",value:Ze.countdown_label,onChange:v=>Et({...Ze,countdown_label:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-[10px] font-bold text-slate-500 uppercase tracking-widest pl-1",children:"Mes de Referencia"}),s.jsx("input",{type:"text",placeholder:"Ej: Agosto 2026",value:Ze.countdown_date_text,onChange:v=>Et({...Ze,countdown_date_text:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Seccin de Inscripciones"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Ttulo del bloque de inscripciones",value:Ze.inscriptions_title,onChange:v=>Et({...Ze,inscriptions_title:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ttulo del periodo (Ej: Proceso Sabatino)",value:Ze.inscriptions_period_title,onChange:v=>Et({...Ze,inscriptions_period_title:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("textarea",{placeholder:"Descripcin del periodo",rows:3,value:Ze.inscriptions_period_description,onChange:v=>Et({...Ze,inscriptions_period_description:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h4",{className:"text-sm font-bold text-slate-700 dark:text-slate-300",children:"Ttulos de Subsecciones"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Ttulo Requisitos",value:Ze.requirements_title,onChange:v=>Et({...Ze,requirements_title:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ttulo Ventajas",value:Ze.advantages_title,onChange:v=>Et({...Ze,advantages_title:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ttulo Contacto",value:Ze.contact_title,onChange:v=>Et({...Ze,contact_title:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin Contacto",value:Ze.contact_description,onChange:v=>Et({...Ze,contact_description:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]})]})]}),s.jsx("div",{className:"flex justify-end pt-4 border-t border-slate-100 dark:border-slate-700",children:s.jsxs("button",{type:"submit",className:"px-8 py-4 bg-blue-800 hover:bg-blue-900 text-white font-black rounded-2xl shadow-xl hover:shadow-blue-200/50 transition-all active:scale-95 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined",children:"save"})," Guardar Cambios en BAETAM"]})})]})]})}),s.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Tarjetas Informativas"}),s.jsxs("form",{onSubmit:ia,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Ttulo",value:Zt.title,onChange:v=>Xt({...Zt,title:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:Zt.description,onChange:v=>Xt({...Zt,description:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:gr?"Actualizar":"Agregar"})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Pt.map(v=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:v.title}),s.jsx("div",{className:"text-xs text-slate-500",children:v.description})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{nr(v),Xt({title:v.title,description:v.description})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>lr(v.id),className:"text-red-500",children:"Eliminar"})]})]},v.id))})]}),s.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Requisitos"}),s.jsxs("form",{onSubmit:Ot,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Icono (emoji)",value:Ct.icon,onChange:v=>rn({...Ct,icon:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Texto",value:Ct.text,onChange:v=>rn({...Ct,text:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:Er?"Actualizar":"Agregar"})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Ft.map(v=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{className:"font-semibold",children:[v.icon," ",v.text]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{pr(v),rn({icon:v.icon,text:v.text})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>jt(v.id),className:"text-red-500",children:"Eliminar"})]})]},v.id))})]})]}),s.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Ventajas"}),s.jsxs("form",{onSubmit:jn,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Ttulo",value:Lt.title,onChange:v=>Or({...Lt,title:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:Lt.description,onChange:v=>Or({...Lt,description:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:Wt?"Actualizar":"Agregar"})]}),s.jsx("div",{className:"mt-4 space-y-2",children:xr.map(v=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:v.title}),s.jsx("div",{className:"text-xs text-slate-500",children:v.description})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{er(v),Or({title:v.title,description:v.description})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>cr(v.id),className:"text-red-500",children:"Eliminar"})]})]},v.id))})]}),s.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Contacto"}),s.jsxs("form",{onSubmit:Dr,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Lnea de contacto",value:$t.line_text,onChange:v=>Rr({line_text:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:as?"Actualizar":"Agregar"})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Hr.map(v=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[s.jsx("div",{className:"font-semibold",children:v.line_text}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{ra(v),Rr({line_text:v.line_text})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>_n(v.id),className:"text-red-500",children:"Eliminar"})]})]},v.id))})]})]})]}),y==="contacto"&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[s.jsx("section",{children:s.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"contact_mail"})," Informacin Principal"]}),s.jsxs("form",{onSubmit:Zn,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Direccin lnea 1",value:Ir.address_line1,onChange:v=>kr({...Ir,address_line1:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Direccin lnea 2",value:Ir.address_line2,onChange:v=>kr({...Ir,address_line2:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Direccin lnea 3",value:Ir.address_line3,onChange:v=>kr({...Ir,address_line3:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Telfono",value:Ir.phone,onChange:v=>kr({...Ir,phone:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Correo",value:Ir.email,onChange:v=>kr({...Ir,email:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Sitio web",value:Ir.website,onChange:v=>kr({...Ir,website:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Texto calificacin",value:Ir.rating_text,onChange:v=>kr({...Ir,rating_text:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Estado",value:Ir.status_text,onChange:v=>kr({...Ir,status_text:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Horario lnea 1",value:Ir.hours_line1,onChange:v=>kr({...Ir,hours_line1:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Horario lnea 2",value:Ir.hours_line2,onChange:v=>kr({...Ir,hours_line2:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Informacin"})})]})]})}),s.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Directorio"}),s.jsxs("form",{onSubmit:Mr,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Icono",value:ue.icon,onChange:v=>se({...ue,icon:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ttulo",value:ue.title,onChange:v=>se({...ue,title:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Detalle",value:ue.detail,onChange:v=>se({...ue,detail:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:ce?"Actualizar":"Agregar"})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Rn.map(v=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold",children:[v.icon," ",v.title]}),s.jsx("div",{className:"text-xs text-slate-500",children:v.detail})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{me(v),se({icon:v.icon||"",title:v.title,detail:v.detail})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>Wr(v.id),className:"text-red-500",children:"Eliminar"})]})]},v.id))})]}),s.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Redes Sociales"}),s.jsxs("form",{onSubmit:In,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Icono",value:Ve.icon,onChange:v=>Be({...Ve,icon:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Nombre",value:Ve.name,onChange:v=>Be({...Ve,name:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"URL",value:Ve.url,onChange:v=>Be({...Ve,url:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:Ve.description,onChange:v=>Be({...Ve,description:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:$e?"Actualizar":"Agregar"})]}),s.jsx("div",{className:"mt-4 space-y-2",children:xe.map(v=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold",children:[v.icon," ",v.name]}),s.jsx("div",{className:"text-xs text-slate-500",children:v.url})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{qe(v),Be({icon:v.icon||"",name:v.name,url:v.url,description:v.description})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>Ur(v.id),className:"text-red-500",children:"Eliminar"})]})]},v.id))})]})]}),s.jsxs("section",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Ubicacin"}),s.jsxs("form",{onSubmit:ln,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Texto de direccin",value:Nt.address_text,onChange:v=>gt({...Nt,address_text:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"URL iframe mapa",value:Nt.map_embed_url,onChange:v=>gt({...Nt,map_embed_url:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:"Guardar Ubicacin"})]})]}),s.jsxs("div",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"CTA Final"}),s.jsxs("form",{onSubmit:fi,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Ttulo",value:an.title,onChange:v=>_s({...an,title:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:an.description,onChange:v=>_s({...an,description:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Texto destacado",value:an.highlight_text,onChange:v=>_s({...an,highlight_text:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:"Guardar CTA"})]})]})]}),s.jsxs("section",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Preguntas Frecuentes"}),s.jsxs("form",{onSubmit:La,className:"space-y-3",children:[s.jsx("input",{type:"text",placeholder:"Pregunta",value:Pr.question,onChange:v=>wr({...Pr,question:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Respuesta",value:Pr.answer,onChange:v=>wr({...Pr,answer:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:dn?"Actualizar":"Agregar"})]}),s.jsx("div",{className:"mt-4 space-y-2",children:pt.map(v=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:v.question}),s.jsx("div",{className:"text-xs text-slate-500",children:v.answer})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{bs(v),wr({question:v.question,answer:v.answer})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>zn(v.id),className:"text-red-500",children:"Eliminar"})]})]},v.id))})]})]}),y==="about"&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[s.jsx("section",{children:s.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"info"})," Acerca de CBTa"]}),s.jsxs("form",{onSubmit:yn,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Ttulo",value:Sn.title,onChange:v=>Gr({...Sn,title:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"URL Logo",value:Sn.logo_url,onChange:v=>Gr({...Sn,logo_url:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"URL Croquis",value:Sn.croquis_image_url,onChange:v=>Gr({...Sn,croquis_image_url:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-3 items-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:v=>{var K;return vi(((K=v.target.files)==null?void 0:K[0])||null)},className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"button",onClick:pi,disabled:ys||!Us,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:ys?"Subiendo...":"Subir croquis"}),Sn.croquis_image_url&&s.jsx("a",{href:Sn.croquis_image_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500",children:"Ver imagen"})]}),s.jsx("textarea",{placeholder:"Historia",value:Sn.history_text,onChange:v=>Gr({...Sn,history_text:v.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("textarea",{placeholder:"Misin",value:Sn.mission_text,onChange:v=>Gr({...Sn,mission_text:v.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("textarea",{placeholder:"Visin",value:Sn.vision_text,onChange:v=>Gr({...Sn,vision_text:v.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Lema",value:Sn.lema_text,onChange:v=>Gr({...Sn,lema_text:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("textarea",{placeholder:"Compromiso texto 1",value:Sn.commitment_text_1,onChange:v=>Gr({...Sn,commitment_text_1:v.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("textarea",{placeholder:"Compromiso texto 2",value:Sn.commitment_text_2,onChange:v=>Gr({...Sn,commitment_text_2:v.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Acerca"})})]})]})}),s.jsxs("section",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Valores"}),s.jsxs("form",{onSubmit:Xa,className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx("input",{type:"text",placeholder:"Icono",value:aa.icon,onChange:v=>zs({...aa,icon:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ttulo",value:aa.title,onChange:v=>zs({...aa,title:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:aa.description,onChange:v=>zs({...aa,description:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-3",children:s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:wl?"Actualizar":"Agregar"})})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Ii.map(v=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold",children:[v.icon," ",v.title]}),s.jsx("div",{className:"text-xs text-slate-500",children:v.description})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{Vo(v),zs({icon:v.icon||"",title:v.title,description:v.description})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>Qn(v.id),className:"text-red-500",children:"Eliminar"})]})]},v.id))})]})]}),y==="gallery"&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[s.jsx("section",{children:s.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"photo_library"})," Galera"]}),s.jsxs("form",{onSubmit:ji,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-xs font-bold uppercase text-slate-500",children:"Seccin / Apartado"}),zr?s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",placeholder:"Nombre de la nueva seccin",value:fo,onChange:v=>Sl(v.target.value),className:`flex-1 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"button",onClick:()=>is(!1),className:"px-3 bg-slate-200 rounded-xl text-xs font-bold",children:"Lista"})]}):s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:Bn.section,onChange:v=>ss({...Bn,section:v.target.value}),className:`flex-1 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,children:[s.jsx("option",{value:"instalaciones",children:"Instalaciones"}),s.jsx("option",{value:"actividades",children:"Actividades"}),s.jsx("option",{value:"clubs",children:"Clubs"}),s.jsx("option",{value:"cbta",children:"CBTa 134"}),s.jsx("option",{value:"galeria",children:"Galera General"})]}),s.jsx("button",{type:"button",onClick:()=>is(!0),className:"px-3 bg-blue-100 text-blue-700 rounded-xl text-xs font-bold",children:"Nueva"})]})]}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsx("label",{className:"text-xs font-bold uppercase text-slate-500",children:"Ttulo de la imagen"}),s.jsx("input",{type:"text",placeholder:"Ttulo",value:Bn.title,onChange:v=>ss({...Bn,title:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{className:"md:col-span-2 flex flex-col gap-2",children:[s.jsx("label",{className:"text-xs font-bold uppercase text-slate-500",children:"Descripcin detallada"}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:Bn.description,onChange:v=>ss({...Bn,description:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{className:"md:col-span-2 flex flex-col gap-2",children:[s.jsx("label",{className:"text-xs font-bold uppercase text-slate-500",children:"URL de imagen (o sube una abajo)"}),s.jsx("input",{type:"text",placeholder:"URL de imagen",value:Bn.image_url,onChange:v=>ss({...Bn,image_url:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-3 items-center mt-2",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:v=>{var K;return Ss(((K=v.target.files)==null?void 0:K[0])||null)},className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"button",onClick:Ra,disabled:si||!ja,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:si?"Subiendo...":"Subir imagen"}),Bn.image_url&&s.jsxs("a",{href:Bn.image_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500 font-bold flex items-center gap-1",children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"open_in_new"}),"Ver imagen"]})]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm mt-2",children:[s.jsx("input",{type:"checkbox",checked:Bn.is_locked,onChange:v=>ss({...Bn,is_locked:v.target.checked}),className:"w-4 h-4 rounded"}),"Bloquear (no se puede eliminar esta imagen)"]}),s.jsxs("div",{className:"md:col-span-2 flex gap-3 mt-4",children:[s.jsx("button",{type:"submit",className:"px-8 py-3 bg-blue-800 text-white font-bold rounded-xl shadow-lg shadow-blue-800/20",children:po?" Guardar Cambios":" Agregar a Galera"}),po&&s.jsx("button",{type:"button",onClick:()=>{Go(null),ss({section:"instalaciones",title:"",description:"",image_url:"",is_locked:!1}),is(!1)},className:"px-6 py-3 bg-slate-200 text-slate-700 font-bold rounded-xl",children:"Cancelar"})]})]})]})}),s.jsxs("section",{className:`rounded-[2rem] p-6 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-lg font-bold mb-4",children:"Imgenes Actuales"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ws.map(v=>s.jsxs("div",{className:`p-4 rounded-2xl flex items-center justify-between ${f?"bg-slate-900 border border-slate-700":"bg-slate-50 border border-slate-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative group",children:[s.jsx("img",{src:v.image_url,alt:v.title,className:"w-16 h-16 rounded-xl object-cover shadow-md"}),v.is_locked&&s.jsx("div",{className:"absolute -top-2 -right-2 bg-orange-500 text-white p-1 rounded-full flex items-center justify-center border-2 border-white shadow-sm",children:s.jsx("span",{className:"material-symbols-outlined text-[10px]",children:"lock"})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"font-bold text-sm md:text-base",children:v.title}),s.jsxs("div",{className:"text-[10px] md:text-xs flex items-center gap-2 mt-1 flex-wrap",children:[s.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full font-bold uppercase",children:v.section}),s.jsx("span",{className:"text-slate-500 line-clamp-1",children:v.description})]})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{const Fe=!["instalaciones","actividades","clubs","cbta","galeria"].includes(v.section);Go(v),ss({section:v.section,title:v.title,description:v.description||"",image_url:v.image_url,is_locked:v.is_locked}),Fe?(is(!0),Sl(v.section)):is(!1),window.scrollTo({top:0,behavior:"smooth"})},className:"p-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition",title:"Editar",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"edit"})}),s.jsx("button",{onClick:()=>en(v),className:`p-2 rounded-lg transition ${v.is_locked?"bg-slate-200 text-slate-400 cursor-not-allowed":"bg-red-100 text-red-600 hover:bg-red-200"}`,disabled:v.is_locked,title:v.is_locked?"Bloqueado":"Eliminar",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete"})})]})]},v.id))})]})]}),y==="ui"&&s.jsx(FP,{darkMode:f,uiHeaderForm:qa,setUiHeaderForm:ic,handleSaveUiHeader:Ja,uiHeaderLinks:sc,uiHeaderLinkForm:ca,setUiHeaderLinkForm:Hs,editingHeaderLink:mo,setEditingHeaderLink:go,handleSaveHeaderLink:Fa,handleDeleteHeaderLink:Ei,uiFooterForm:Nn,setUiFooterForm:Mn,handleSaveUiFooter:Kn,uiFooterLinks:Yo,uiFooterLinkForm:Ea,setUiFooterLinkForm:Bi,editingFooterLink:li,setEditingFooterLink:xo,handleSaveFooterLink:Ls,handleDeleteFooterLink:bc}),y==="ui_OLD_REMOVED"&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-xl font-bold mb-6",children:"Header"}),s.jsxs("form",{onSubmit:Ja,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"URL Logo",value:qa.logo_url,onChange:v=>ic({...qa,logo_url:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ttulo",value:qa.title_text,onChange:v=>ic({...qa,title_text:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Header"})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"font-bold mb-3",children:"Links Header"}),s.jsxs("form",{onSubmit:Fa,className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsx("input",{type:"text",placeholder:"Label",value:ca.label,onChange:v=>Hs({...ca,label:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Path (ej: noticias)",value:ca.path,onChange:v=>Hs({...ca,path:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Href (ej: /noticias)",value:ca.href,onChange:v=>Hs({...ca,href:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-3",children:s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:mo?"Actualizar":"Agregar"})})]}),s.jsx("div",{className:"mt-4 space-y-2",children:sc.map(v=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{className:"font-semibold",children:[v.label,"  ",v.path]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{go(v),Hs({label:v.label,path:v.path,href:v.href||""})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>Ei(v.id),className:"text-red-500",children:"Eliminar"})]})]},v.id))})]})]}),s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-xl font-bold mb-6",children:"Carrusel (Hero)"}),s.jsxs("form",{onSubmit:_c,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"URL de imagen",value:ua.image_url,onChange:v=>Mi({...ua,image_url:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 items-center md:col-span-2",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:v=>{var K;return js(((K=v.target.files)==null?void 0:K[0])||null)},className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"button",onClick:Ao,disabled:ka||!ci,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:ka?"Subiendo...":"Subir imagen"}),ua.image_url&&s.jsx("a",{href:ua.image_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500",children:"Ver imagen"})]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:ua.is_locked,onChange:v=>Mi({...ua,is_locked:v.target.checked})}),"Bloquear"]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:Nl?"Actualizar":"Agregar"})})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Xo.map(v=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:v.image_url,alt:"slide",className:"w-14 h-14 rounded-lg object-cover"}),s.jsx("span",{className:"text-xs",children:v.image_url})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{Jo(v),Mi({image_url:v.image_url,is_locked:v.is_locked})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>ld(v),className:`text-red-500 ${v.is_locked?"opacity-50 cursor-not-allowed":""}`,disabled:v.is_locked,children:"Eliminar"})]})]},v.id))})]}),s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-xl font-bold mb-6",children:"Opciones de Inicio"}),s.jsxs("form",{onSubmit:yc,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Ttulo",value:z.title,onChange:v=>de({...z,title:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:z.description,onChange:v=>de({...z,description:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Path (ej: noticias)",value:z.path,onChange:v=>de({...z,path:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"URL de imagen",value:z.image_url,onChange:v=>de({...z,image_url:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-3 items-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:v=>{var K;return it(((K=v.target.files)==null?void 0:K[0])||null)},className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"button",onClick:qn,disabled:Rt||!et,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:Rt?"Subiendo...":"Subir imagen"}),z.image_url&&s.jsx("a",{href:z.image_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500",children:"Ver imagen"})]}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:z.is_locked,onChange:v=>de({...z,is_locked:v.target.checked})}),"Bloquear"]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:Ne?"Actualizar":"Agregar"})})]}),s.jsx("div",{className:"mt-4 space-y-2",children:jl.map(v=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:v.image_url,alt:v.title,className:"w-14 h-14 rounded-lg object-cover"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:v.title}),s.jsx("div",{className:"text-xs text-slate-500",children:v.path})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{Oe(v),de({image_url:v.image_url,title:v.title,description:v.description||"",path:v.path,is_locked:v.is_locked})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>to(v),className:`text-red-500 ${v.is_locked?"opacity-50 cursor-not-allowed":""}`,disabled:v.is_locked,children:"Eliminar"})]})]},v.id))})]}),s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-xl font-bold mb-6",children:"Footer"}),s.jsxs("form",{onSubmit:Kn,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Nombre",value:Nn.school_name,onChange:v=>Mn({...Nn,school_name:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ubicacin",value:Nn.location_text,onChange:v=>Mn({...Nn,location_text:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Tagline",value:Nn.tagline_text,onChange:v=>Mn({...Nn,tagline_text:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Copyright",value:Nn.copyright_text,onChange:v=>Mn({...Nn,copyright_text:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Derechos",value:Nn.rights_text,onChange:v=>Mn({...Nn,rights_text:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("textarea",{placeholder:"Legal 1",value:Nn.legal_text_1,onChange:v=>Mn({...Nn,legal_text_1:v.target.value}),className:`p-3 rounded-xl border min-h-[100px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("textarea",{placeholder:"Legal 2",value:Nn.legal_text_2,onChange:v=>Mn({...Nn,legal_text_2:v.target.value}),className:`p-3 rounded-xl border min-h-[100px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("textarea",{placeholder:"Legal 3",value:Nn.legal_text_3,onChange:v=>Mn({...Nn,legal_text_3:v.target.value}),className:`p-3 rounded-xl border min-h-[100px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Footer"})})]}),s.jsxs("div",{className:"mt-6",children:[s.jsx("h4",{className:"font-bold mb-3",children:"Links Footer"}),s.jsxs("form",{onSubmit:Ls,className:"grid grid-cols-1 md:grid-cols-4 gap-3",children:[s.jsx("input",{type:"text",placeholder:"Label",value:Ea.label,onChange:v=>Bi({...Ea,label:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"URL",value:Ea.href,onChange:v=>Bi({...Ea,href:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Icon URL",value:Ea.icon_url,onChange:v=>Bi({...Ea,icon_url:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Clase (facebook/maps)",value:Ea.style_class,onChange:v=>Bi({...Ea,style_class:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-4",children:s.jsx("button",{type:"submit",className:"px-5 py-2.5 bg-blue-800 text-white font-semibold rounded-xl",children:li?"Actualizar":"Agregar"})})]}),s.jsx("div",{className:"mt-4 space-y-2",children:Yo.map(v=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{className:"font-semibold",children:[v.label,"  ",v.href]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{xo(v),Bi({label:v.label,href:v.href,icon_url:v.icon_url||"",style_class:v.style_class||""})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>bc(v.id),className:"text-red-500",children:"Eliminar"})]})]},v.id))})]})]})]}),y==="creditos"&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-xl font-bold mb-6",children:"Configuracin Crditos"}),s.jsxs("form",{onSubmit:wu,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Ttulo",value:Ha.title,onChange:v=>Vs({...Ha,title:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Subttulo",value:Ha.subtitle,onChange:v=>Vs({...Ha,subtitle:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Ttulo licencia (opcional)",value:Ha.license_title,onChange:v=>Vs({...Ha,license_title:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("textarea",{placeholder:"Texto licencia (opcional)",value:Ha.license_text,onChange:v=>Vs({...Ha,license_text:v.target.value}),className:`p-3 rounded-xl border min-h-[120px] ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Crditos"})})]})]}),s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-xl font-bold mb-6",children:"Autores"}),s.jsxs("form",{onSubmit:dl,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Nombre completo",value:Wn.full_name,onChange:v=>ui({...Wn,full_name:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Carrera",value:Wn.career,onChange:v=>ui({...Wn,career:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:Wn.description,onChange:v=>ui({...Wn,description:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"URL foto",value:Wn.photo_url,onChange:v=>ui({...Wn,photo_url:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsxs("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-3 gap-3 items-center",children:[s.jsx("input",{type:"file",accept:"image/*",onChange:v=>{var K;return oc(((K=v.target.files)==null?void 0:K[0])||null)},className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"button",onClick:cd,disabled:lc||!Gs,className:"px-5 py-2.5 bg-green-600 text-white font-semibold rounded-xl disabled:opacity-50",children:lc?"Subiendo...":"Subir foto"}),Wn.photo_url&&s.jsx("a",{href:Wn.photo_url,target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-500",children:"Ver foto"})]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:ha?"Actualizar":"Agregar"})})]}),s.jsx("div",{className:"mt-4 space-y-2",children:bo.map(v=>s.jsxs("div",{className:`p-3 rounded-xl flex items-center justify-between ${f?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:v.photo_url,alt:v.full_name,className:"w-14 h-14 rounded-lg object-cover"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-semibold",children:v.full_name}),s.jsx("div",{className:"text-xs text-slate-500",children:v.career})]})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>{Zo(v),ui({full_name:v.full_name,career:v.career,description:v.description||"",photo_url:v.photo_url||""})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>wn(v.id),className:"text-red-500",children:"Eliminar"})]})]},v.id))})]})]}),(y==="dashboard"||y==="alumnos"||y==="avisos"||y==="clubes"||y==="carreras"||y==="maestros"||y==="chatbot"||y==="gmail"||y==="storage"||y==="access"||y==="preregistros")&&s.jsxs("div",{className:"max-w-6xl mx-auto space-y-10",children:[y==="dashboard"&&s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Panel principal"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[{key:"avisos",label:"Avisos",icon:"campaign"},{key:"clubes",label:"Clubes",icon:"sports_esports"},{key:"carreras",label:"Carreras",icon:"engineering"},{key:"maestros",label:"Maestros",icon:"co_present"},{key:"alumnos",label:"Alumnos",icon:"group"},{key:"chatbot",label:"IA Chatbot",icon:"smart_toy"},{key:"gmail",label:"Notificaciones Gmail",icon:"mail"},{key:"storage",label:"Almacenamiento",icon:"storage"}].map(v=>s.jsxs("button",{onClick:()=>N(v.key),className:`p-6 rounded-3xl text-left border ${f?"bg-slate-900 border-slate-700 hover:border-blue-400":"bg-white border-slate-100 hover:border-blue-800"} transition-all`,children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800 text-2xl",children:v.icon}),s.jsx("div",{className:"mt-2 font-bold",children:v.label})]},v.key))})]}),y==="alumnos"&&s.jsx(OP,{darkMode:f}),y==="avisos"&&s.jsxs(s.Fragment,{children:[s.jsx("section",{children:s.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 shadow-xl border ${f?"bg-slate-800 border-slate-700 shadow-none":"bg-white border-white shadow-slate-200/50"}`,children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"add_circle"})," Nuevo Aviso Global"]}),s.jsxs("form",{onSubmit:F,className:"space-y-4",children:[s.jsx("input",{type:"text",value:h.titulo,onChange:v=>p({...h,titulo:v.target.value}),placeholder:"Qu quieres anunciar hoy?",className:`w-full text-lg border-none rounded-2xl p-4 focus:ring-2 focus:ring-blue-800/20 transition-all ${f?"bg-slate-900 text-white placeholder-slate-500":"bg-slate-50"}`,required:!0}),s.jsx("textarea",{value:h.contenido,onChange:v=>p({...h,contenido:v.target.value}),placeholder:"Describe el aviso detalladamente...",rows:"3",className:`w-full border-none rounded-2xl p-4 focus:ring-2 focus:ring-blue-800/20 transition-all ${f?"bg-slate-900 text-white placeholder-slate-500":"bg-slate-50"}`,required:!0}),s.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 pt-2",children:[s.jsx("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:s.jsxs("label",{className:`flex items-center justify-center gap-2 px-4 py-2.5 rounded-xl cursor-pointer transition-colors w-full sm:w-auto ${f?"bg-slate-700 text-slate-300 hover:bg-slate-600":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[s.jsx("span",{className:"material-symbols-outlined text-xl",children:"image"}),s.jsx("span",{className:"text-sm font-semibold",children:"Imagen/Video"}),s.jsx("input",{type:"file",accept:"image/*,video/*",onChange:v=>x(v.target.files[0]),className:"hidden"})]})}),s.jsx("button",{type:"submit",disabled:w,className:"w-full sm:w-auto px-8 py-3 bg-blue-800 text-white font-bold rounded-2xl shadow-lg shadow-blue-200 hover:scale-[1.02] active:scale-95 transition-all disabled:opacity-50",children:w?"Subiendo...":cl?"Actualizar":"Publicar Ahora"})]}),eo&&s.jsxs("p",{className:`text-sm ${f?"text-slate-400":"text-slate-500"}`,children:[" ",eo.name]})]})]})}),s.jsxs("section",{children:[s.jsx("div",{className:"flex items-center justify-between mb-6",children:s.jsx("h3",{className:"text-lg font-bold",children:"Avisos Activos"})}),s.jsx("div",{className:"space-y-4",children:ll.length===0?s.jsxs("div",{className:`p-8 rounded-3xl text-center ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100"} border`,children:[s.jsx("span",{className:"material-symbols-outlined text-4xl text-slate-400 mb-2",children:"notifications_off"}),s.jsx("p",{className:"text-slate-500",children:"No hay avisos publicados."})]}):ll.map(v=>s.jsxs("div",{className:`p-5 rounded-3xl border shadow-sm flex flex-col md:flex-row gap-5 ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[v.media_url&&s.jsx("div",{className:`w-full md:w-48 h-32 flex-shrink-0 rounded-2xl overflow-hidden ${f?"bg-slate-900":"bg-slate-100"}`,children:v.media_type==="video"?s.jsx("video",{src:v.media_url,className:"w-full h-full object-cover"}):s.jsx("img",{src:v.media_url,alt:"Announcement",className:"w-full h-full object-cover"})}),s.jsxs("div",{className:"flex-1 flex flex-col justify-between",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h4",{className:"font-bold text-lg leading-tight",children:v.titulo}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>yu(v),className:`p-1.5 transition-colors ${f?"text-slate-400 hover:text-blue-400":"text-slate-400 hover:text-blue-800"}`,children:s.jsx("span",{className:"material-symbols-outlined text-xl",children:"edit"})}),s.jsx("button",{onClick:()=>Yd(v.id),className:"p-1.5 text-slate-400 hover:text-red-500 transition-colors",children:s.jsx("span",{className:"material-symbols-outlined text-xl",children:"delete"})})]})]}),s.jsx("p",{className:`text-sm line-clamp-2 ${f?"text-slate-400":"text-slate-500"}`,children:v.contenido})]}),s.jsxs("div",{className:"mt-4 flex items-center justify-between text-xs font-bold uppercase tracking-widest text-slate-400",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"schedule"}),new Date(v.created_at).toLocaleDateString()]}),s.jsx("span",{className:`px-2.5 py-1 rounded-lg ${f?"bg-blue-900/30 text-blue-400":"bg-blue-50 text-blue-800"}`,children:"Acadmico"})]})]})]},v.id))})]})]}),y==="maestros"&&s.jsxs(s.Fragment,{children:[s.jsx("section",{children:s.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"co_present"})," Configuracin Portal Docente"]}),s.jsxs("form",{onSubmit:Ya,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Ttulo",value:Sr.title,onChange:v=>hn({...Sr,title:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Subttulo",value:Sr.subtitle,onChange:v=>hn({...Sr,subtitle:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"URL de imagen principal",value:Sr.hero_image_url,onChange:v=>hn({...Sr,hero_image_url:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Texto del botn",value:Sr.cta_label,onChange:v=>hn({...Sr,cta_label:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:"Guardar Configuracin"})})]})]})}),s.jsx("section",{children:s.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-white shadow-slate-200/50 shadow-xl"}`,children:[s.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"link"})," Recursos Docentes"]}),s.jsxs("form",{onSubmit:En,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx("input",{type:"text",placeholder:"Nombre",value:yr.name,onChange:v=>Kr({...yr,name:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"url",placeholder:"URL",value:yr.url,onChange:v=>Kr({...yr,url:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Descripcin",value:yr.description,onChange:v=>Kr({...yr,description:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Icono (emoji)",value:yr.icon,onChange:v=>Kr({...yr,icon:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"text",placeholder:"Color (hex o nombre)",value:yr.color,onChange:v=>Kr({...yr,color:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("input",{type:"number",placeholder:"Orden (opcional)",value:yr.order_index,onChange:v=>Kr({...yr,order_index:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[s.jsx("input",{type:"checkbox",checked:yr.is_active,onChange:v=>Kr({...yr,is_active:v.target.checked})}),"Visible en el portal"]}),s.jsx("div",{className:"md:col-span-2",children:s.jsx("button",{type:"submit",className:"px-6 py-3 bg-blue-800 text-white font-bold rounded-xl",children:da?"Actualizar":"Agregar"})})]}),s.jsx("div",{className:"mt-6 space-y-3",children:Jn.map(v=>s.jsxs("div",{className:`p-4 rounded-2xl flex flex-col md:flex-row md:items-center md:justify-between gap-4 ${f?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{children:[s.jsxs("div",{className:"font-semibold flex items-center gap-2",children:[s.jsx("span",{children:v.icon||""}),s.jsx("span",{children:v.name}),!v.is_active&&s.jsx("span",{className:"text-xs text-slate-500",children:"(oculto)"})]}),s.jsx("div",{className:"text-sm text-slate-500",children:v.description}),s.jsx("a",{href:v.url,target:"_blank",rel:"noopener noreferrer",className:"text-xs text-blue-500",children:v.url})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("button",{onClick:()=>{Ws(v),Kr({name:v.name||"",description:v.description||"",icon:v.icon||"",url:v.url||"",color:v.color||"",order_index:v.order_index||"",is_active:v.is_active!==!1})},className:"text-blue-500",children:"Editar"}),s.jsx("button",{onClick:()=>ma(v.id),className:"text-red-500",children:"Eliminar"})]})]},v.id))})]})})]}),y==="clubes"&&s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Clubes Escolares"}),s.jsx("button",{onClick:()=>{W(null),re(!0)},className:`p-1.5 rounded-lg ${f?"bg-slate-700":"bg-slate-200"}`,children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"add"})})]}),s.jsx("div",{className:"grid grid-cols-1 gap-3",children:G.length===0?s.jsx("p",{className:"text-center text-slate-500 py-4",children:"No hay clubes registrados."}):G.map(v=>s.jsxs("div",{className:`flex items-center gap-4 p-4 rounded-2xl border shadow-sm ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100"}`,children:[s.jsx("div",{className:`w-12 h-12 flex-shrink-0 text-2xl flex items-center justify-center rounded-xl ${f?"bg-purple-900/30":"bg-purple-100"}`,children:v.icono||""}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold text-sm",children:v.nombre}),s.jsx("p",{className:"text-xs text-slate-500",children:v.categoria})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:()=>Me(v),className:"p-1 text-slate-400 hover:text-blue-500",children:s.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),s.jsx("button",{onClick:()=>fe(v.id),className:"p-1 text-slate-400 hover:text-red-500",children:s.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})]},v.id))})]}),y==="carreras"&&s.jsxs("section",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Carreras Tcnicas"}),s.jsx("button",{onClick:()=>{te(null),R(!0)},className:`p-1.5 rounded-lg ${f?"bg-slate-700":"bg-slate-200"}`,children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"add"})})]}),s.jsx("div",{className:"space-y-3",children:A.length===0?s.jsx("p",{className:"text-center text-slate-500 py-4",children:"No hay carreras registradas."}):A.map(v=>{var K;return s.jsxs("div",{className:`p-5 rounded-3xl border shadow-sm group cursor-pointer transition-colors ${f?"bg-slate-800 border-slate-700 hover:border-blue-400":"bg-white border-slate-100 hover:border-blue-800"}`,children:[s.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-2xl bg-slate-900 flex items-center justify-center overflow-hidden",children:v.imagen_url?s.jsx("img",{src:v.imagen_url,alt:v.nombre,className:"w-full h-full object-cover"}):s.jsx("span",{className:"text-white text-2xl",children:""})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h4",{className:"font-bold",children:v.nombre}),s.jsx("p",{className:`text-xs uppercase font-bold tracking-tighter ${f?"text-slate-500":"text-slate-400"}`,children:((K=v.descripcion)==null?void 0:K.substring(0,30))||"Sin descripcin"})]}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("button",{onClick:Fe=>{Fe.stopPropagation(),ie(v)},className:"p-1 text-slate-400 hover:text-blue-500",children:s.jsx("span",{className:"material-symbols-outlined text-lg",children:"edit"})}),s.jsx("button",{onClick:Fe=>{Fe.stopPropagation(),he(v.id)},className:"p-1 text-slate-400 hover:text-red-500",children:s.jsx("span",{className:"material-symbols-outlined text-lg",children:"delete"})})]})]}),v.plan_estudios_url&&s.jsxs("div",{className:`flex items-center justify-between pt-4 border-t ${f?"border-slate-700":"border-slate-50"}`,children:[s.jsx("a",{href:v.plan_estudios_url,target:"_blank",rel:"noopener noreferrer",className:`text-xs font-bold ${f?"text-blue-400":"text-blue-800"}`,children:"Ver Plan de Estudios"}),s.jsx("span",{className:"material-symbols-outlined text-blue-800 text-lg",children:"arrow_forward"})]})]},v.id)})})]}),y==="chatbot"&&s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"smart_toy"})," IA Chatbot"]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${f?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:ir.enabled?"Activo":"Desactivado"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[s.jsx("p",{className:"text-sm font-semibold",children:"Estado"}),s.jsx("p",{className:`text-sm mt-1 ${f?"text-slate-400":"text-slate-500"}`,children:va?"Configurado":"Sin configurar"})]}),s.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[s.jsx("p",{className:"text-sm font-semibold",children:"Proveedor"}),s.jsx("p",{className:`text-sm mt-1 ${f?"text-slate-400":"text-slate-500"}`,children:(ir.provider||"grok").toUpperCase()})]}),s.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[s.jsx("p",{className:"text-sm font-semibold",children:"Modelo"}),s.jsx("p",{className:`text-sm mt-1 ${f?"text-slate-400":"text-slate-500"}`,children:ir.model||"No definido"})]})]}),s.jsxs("form",{onSubmit:Jd,className:"mt-6 space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold",children:"Proveedor"}),s.jsxs("select",{value:ir.provider,onChange:v=>Vn({...ir,provider:v.target.value}),className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,children:[s.jsx("option",{value:"groq",children:"Groq"}),s.jsx("option",{value:"gemini",children:"Gemini"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold",children:"API Key"}),s.jsx("input",{type:"password",value:ir.api_key,onChange:v=>Vn({...ir,api_key:v.target.value}),placeholder:"Ingresa tu API Key",className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold",children:"Modelo"}),s.jsxs("select",{value:ir.model,onChange:v=>Vn({...ir,model:v.target.value}),className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,children:[s.jsx("option",{value:"",children:"Selecciona un modelo"}),Al.filter(v=>v.provider===ir.provider&&v.is_active!==!1).map(v=>s.jsx("option",{value:v.name,children:v.name},v.id))]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold",children:"Prompt de sistema"}),s.jsx("textarea",{value:ir.system_prompt,onChange:v=>Vn({...ir,system_prompt:v.target.value}),rows:"6",placeholder:"Instrucciones del sistema para el chatbot",className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs("label",{className:`flex items-center gap-2 text-sm ${f?"text-slate-300":"text-slate-600"}`,children:[s.jsx("input",{type:"checkbox",checked:ir.enable_db_context,onChange:v=>Vn({...ir,enable_db_context:v.target.checked})}),"Permitir contexto de la base de datos"]}),s.jsxs("label",{className:`flex items-center gap-2 text-sm ${f?"text-slate-300":"text-slate-600"}`,children:[s.jsx("input",{type:"checkbox",checked:ir.enabled,onChange:v=>Vn({...ir,enabled:v.target.checked})}),"Activar chatbot en el sitio"]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx("button",{type:"submit",disabled:_o,className:"px-5 py-3 rounded-2xl bg-blue-800 text-white font-bold shadow hover:scale-[1.01] transition-all disabled:opacity-60",children:_o?"Guardando...":"Guardar configuracin"}),s.jsx("button",{type:"button",onClick:()=>window.open("/","_blank"),className:`px-5 py-3 rounded-2xl font-semibold ${f?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:"Ver en sitio"})]}),s.jsx("p",{className:`text-xs ${f?"text-slate-500":"text-slate-400"}`,children:"La informacin de la base de datos se agrega como contexto al prompt. Evita incluir datos sensibles."})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("h4",{className:"text-md font-bold mb-3",children:"Probar chatbot"}),s.jsxs("form",{onSubmit:Ul,className:"space-y-3",children:[s.jsx("textarea",{value:Wa,onChange:v=>Qo(v.target.value),rows:"3",placeholder:"Escribe un mensaje de prueba...",className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`}),s.jsx("button",{type:"submit",disabled:Ys,className:"px-5 py-3 rounded-2xl bg-blue-800 text-white font-bold shadow disabled:opacity-60",children:Ys?"Probando...":"Probar ahora"})]}),Es&&s.jsx("div",{className:`mt-4 p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700 text-slate-200":"bg-white border-slate-100 text-slate-600"}`,children:s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:Es})})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("button",{type:"button",onClick:()=>{const v=!wo;Tl(v),v&&Co()},className:`px-5 py-3 rounded-2xl text-sm font-semibold ${f?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:wo?"Ocultar preguntas realizadas":"Preguntas realizadas por usuarios"}),wo&&s.jsxs("div",{className:"mt-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h4",{className:"text-md font-bold",children:"Preguntas recientes"}),s.jsx("button",{type:"button",onClick:Xd,className:"text-sm text-red-500",children:"Eliminar todas"})]}),cc?s.jsx("p",{className:"text-sm text-slate-500",children:"Cargando..."}):Cs.length===0?s.jsx("p",{className:"text-sm text-slate-500",children:"No hay preguntas registradas."}):s.jsx("div",{className:"space-y-2",children:Cs.map(v=>s.jsxs("div",{className:`p-4 rounded-2xl border flex items-start justify-between gap-3 ${f?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[s.jsxs("div",{children:[s.jsx("p",{className:`text-sm ${f?"text-slate-200":"text-slate-700"}`,children:v.question_text}),s.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:[new Date(v.created_at).toLocaleString(),"  Ruta: ",v.source_page||"N/D"]})]}),s.jsx("button",{type:"button",onClick:()=>To(v.id),className:"text-sm text-red-500",children:"Eliminar"})]},v.id))})]})]}),s.jsxs("div",{className:"mt-8",children:[s.jsx("button",{type:"button",onClick:()=>Cl(!Un),className:`px-5 py-3 rounded-2xl text-sm font-semibold ${f?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:Un?"Ocultar ms configuraciones":"Ms configuraciones"}),Un&&s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold",children:"Base URL (opcional)"}),s.jsx("input",{type:"text",value:ir.base_url,onChange:v=>Vn({...ir,base_url:v.target.value}),placeholder:"https://api.groq.com/openai/v1",className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]})}),s.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[s.jsx("p",{className:"text-sm font-semibold mb-3",children:"Configuracin hbrida"}),s.jsxs("label",{className:`flex items-center gap-2 text-sm ${f?"text-slate-300":"text-slate-600"}`,children:[s.jsx("input",{type:"checkbox",checked:ir.fallback_enabled,onChange:v=>Vn({...ir,fallback_enabled:v.target.checked})}),"Usar segunda API si la principal falla"]}),s.jsxs("div",{className:"mt-3",children:[s.jsx("label",{className:"text-sm font-semibold",children:"Proveedor principal"}),s.jsxs("select",{value:ir.primary_provider,onChange:v=>Vn({...ir,primary_provider:v.target.value}),className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-white border-slate-200"}`,children:[s.jsx("option",{value:"groq",children:"Groq"}),s.jsx("option",{value:"gemini",children:"Gemini"})]}),s.jsx("p",{className:`text-xs mt-2 ${f?"text-slate-500":"text-slate-400"}`,children:"La secundaria ser la otra API."})]})]}),s.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[s.jsx("p",{className:"text-sm font-semibold mb-3",children:"Agregar modelo"}),s.jsxs("form",{onSubmit:Ml,className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[s.jsxs("select",{value:fa.provider,onChange:v=>di({...fa,provider:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-white border-slate-200"}`,children:[s.jsx("option",{value:"groq",children:"Groq"}),s.jsx("option",{value:"gemini",children:"Gemini"})]}),s.jsx("input",{type:"text",value:fa.name,onChange:v=>di({...fa,name:v.target.value}),placeholder:"llama-3.1-70b, gemini-3.0-flash",className:`p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-white border-slate-200"}`}),s.jsx("button",{type:"submit",className:"px-4 py-3 rounded-xl bg-blue-800 text-white font-bold",children:"Agregar modelo"})]})]})]})]})]}),y==="gmail"&&s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"mail"})," Notificaciones Gmail"]}),s.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${sn?f?"bg-emerald-900 text-emerald-300":"bg-emerald-100 text-emerald-700":f?"bg-red-900 text-red-300":"bg-red-100 text-red-700"}`,children:$i?"Verificando...":sn?` ${$c||"Conectado"}`:"No conectado"})]}),s.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-100"}`,children:[s.jsx("p",{className:"text-sm font-semibold mb-2",children:" Enva correos usando tu cuenta de Google"}),s.jsx("p",{className:`text-sm ${f?"text-slate-400":"text-slate-500"}`,children:sn?"Gmail est conectado. Puedes enviar correos a los alumnos por grado/grupo.":"Para usar Gmail, cierra sesin e inicia sesin nuevamente con Google. El sistema pedir permiso para enviar correos en tu nombre."})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold",children:"Asunto"}),s.jsx("input",{type:"text",value:Zr.subject,onChange:v=>Ui({...Zr,subject:v.target.value}),placeholder:"Aviso importante",className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold",children:"Enviar a todos"}),s.jsxs("div",{className:`mt-2 p-3 rounded-xl border flex items-center gap-3 ${f?"bg-slate-900 border-slate-700":"bg-slate-50 border-slate-200"}`,children:[s.jsx("input",{type:"checkbox",checked:Zr.sendToAll,onChange:v=>Ui({...Zr,sendToAll:v.target.checked})}),s.jsx("span",{className:"text-sm",children:"Ignorar filtros por grado/grupo"})]})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold",children:"Contenido (HTML)"}),s.jsx("textarea",{value:Zr.messageHtml,onChange:v=>Ui({...Zr,messageHtml:v.target.value}),rows:"6",placeholder:"<b>Hola</b> estudiantes...",className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-sm font-semibold",children:"Contenido (texto plano)"}),s.jsx("textarea",{value:Zr.messageText,onChange:v=>Ui({...Zr,messageText:v.target.value}),rows:"6",placeholder:"Hola estudiantes...",className:`w-full mt-2 p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]})]}),s.jsxs("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[s.jsx("p",{className:"text-sm font-semibold mb-3",children:"Grados"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:[1,2,3,4,5,6].map(v=>s.jsxs("button",{type:"button",onClick:()=>wc(v),className:`px-3 py-2 rounded-xl text-sm font-semibold border ${Zr.grados.includes(v)?f?"bg-blue-600 text-white border-blue-600":"bg-blue-800 text-white border-blue-800":f?"bg-slate-800 text-slate-300 border-slate-700":"bg-slate-50 text-slate-600 border-slate-200"}`,children:[v,""]},v))})]}),s.jsxs("div",{className:`p-4 rounded-2xl border ${f?"bg-slate-900 border-slate-700":"bg-white border-slate-100"}`,children:[s.jsx("p",{className:"text-sm font-semibold mb-3",children:"Grupos"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:(()=>{const v=["A","B","C","D","F"],K=Array.from(new Set(i.map(We=>We.grupo).filter(Boolean))).sort();return(K.length?K:v).map(We=>s.jsx("button",{type:"button",onClick:()=>Su(We),className:`px-3 py-2 rounded-xl text-sm font-semibold border ${Zr.grupos.includes(We)?"bg-green-600 text-white border-green-600":f?"bg-slate-800 text-slate-300 border-slate-700":"bg-slate-50 text-slate-600 border-slate-200"}`,children:We},We))})()})]})]}),qr&&s.jsx("div",{className:`mt-4 p-4 rounded-2xl border ${qr.type==="success"?f?"bg-emerald-900/30 border-emerald-700 text-emerald-200":"bg-emerald-50 border-emerald-200 text-emerald-800":f?"bg-red-900/30 border-red-700 text-red-200":"bg-red-50 border-red-200 text-red-700"}`,children:qr.message}),s.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row gap-3",children:[!sn&&s.jsx("button",{type:"button",onClick:Qd,className:"px-5 py-3 rounded-2xl bg-blue-800 text-white font-bold shadow hover:scale-[1.01] transition-all",children:" Conectar Gmail"}),s.jsx("button",{type:"button",onClick:ju,disabled:$i,className:`px-5 py-3 rounded-2xl font-semibold ${f?"bg-slate-700 text-slate-300":"bg-slate-100 text-slate-600"}`,children:$i?"Verificando...":" Verificar conexin"}),s.jsx("button",{type:"button",onClick:Sc,disabled:Fn||!sn,className:`px-5 py-3 rounded-2xl font-bold ${Fn||!sn?"opacity-50 cursor-not-allowed":"hover:scale-[1.01]"} ${sn?"bg-green-600 text-white":f?"bg-slate-700 text-slate-400":"bg-slate-200 text-slate-500"}`,children:Fn?" Enviando...":" Enviar correo"})]})]}),y==="storage"&&s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-800",children:"storage"})," Almacenamiento"]}),s.jsx("button",{type:"button",onClick:Za,className:`text-sm ${f?"text-blue-400":"text-blue-700"}`,children:"Actualizar"})]}),el?s.jsx("p",{className:"text-sm text-slate-500",children:"Cargando..."}):Ca?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:`w-full h-5 rounded-full overflow-hidden ${f?"bg-slate-800":"bg-slate-200"}`,children:(()=>{const v=Ca.total_bytes||0,K=Ca.db_bytes||0;Ca.storage_bytes;const Fe=v?Math.round(K/v*100):0,We=v?100-Fe:0;return s.jsxs("div",{className:"w-full h-full flex",children:[s.jsx("div",{style:{width:`${Fe}%`},className:"h-full bg-blue-600"}),s.jsx("div",{style:{width:`${We}%`},className:"h-full bg-green-500"})]})})()}),s.jsxs("div",{className:"flex flex-wrap gap-4 text-sm mt-4",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 rounded-full bg-blue-600"}),"BD: ",Nc(Ca.db_bytes)]}),s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"w-3 h-3 rounded-full bg-green-500"}),"Storage: ",Nc(Ca.storage_bytes)]}),s.jsxs("span",{className:"flex items-center gap-2",children:["Total: ",Nc(Ca.total_bytes)]})]}),(($l=Ca.buckets)==null?void 0:$l.length)>0&&s.jsxs("div",{className:"space-y-2 mt-4",children:[s.jsx("h5",{className:"text-sm font-semibold",children:"Buckets"}),Ca.buckets.map(v=>s.jsx("div",{className:`p-3 rounded-xl border ${f?"border-slate-700 bg-slate-900":"border-slate-100 bg-white"}`,children:s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsx("span",{children:v.bucket_id}),s.jsx("span",{children:Nc(v.size_bytes)})]})},v.bucket_id))]})]}):s.jsx("p",{className:"text-sm text-slate-500",children:"Sin datos de almacenamiento."})]}),y==="preregistros"&&s.jsx("section",{className:"space-y-6",children:s.jsxs("div",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2 text-blue-600",children:[s.jsx("span",{className:"material-symbols-outlined",children:"assignment_ind"})," Pre-Registros de Nuevo Ingreso"]}),s.jsx("p",{className:`text-sm ${f?"text-slate-400":"text-slate-500"}`,children:"Gestiona las solicitudes de aspirantes para el ciclo escolar 2025-2026."})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:Gc,className:"p-2 rounded-xl bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors",title:"Actualizar lista",children:s.jsx("span",{className:"material-symbols-outlined",children:"refresh"})}),s.jsx("button",{onClick:Bl,className:"p-2 rounded-xl bg-green-50 text-green-600 hover:bg-green-100 transition-colors",title:"Descargar Excel",children:s.jsx("span",{className:"material-symbols-outlined",children:"download"})}),s.jsxs("button",{onClick:()=>Si(!On),className:`flex items-center gap-2 px-4 py-2 rounded-xl border transition-all ${On?"bg-blue-600 text-white border-blue-600":"bg-white text-slate-600 border-slate-200 hover:bg-slate-50"}`,children:[s.jsx("span",{className:"material-symbols-outlined",children:On?"visibility":"settings"}),s.jsx("span",{className:"font-bold",children:On?"Ver":"Configurar"})]})]})]}),On?cs():s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsxs("div",{className:"relative md:col-span-2",children:[s.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"search"}),s.jsx("input",{type:"text",placeholder:"Buscar por nombre, folio o CURP...",value:ls,onChange:v=>sd(v.target.value),className:`w-full pl-10 pr-4 py-2 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"material-symbols-outlined absolute left-3 top-1/2 -translate-y-1/2 text-slate-400",children:"calendar_today"}),s.jsxs("select",{value:Ps,onChange:v=>Kd(v.target.value),className:`w-full pl-10 pr-4 py-2 rounded-xl border appearance-none cursor-pointer ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,children:[s.jsx("option",{value:"Todos",children:"Todos los aos"}),xc().map(v=>s.jsx("option",{value:v.toString(),children:v},v))]})]}),s.jsx("div",{children:s.jsxs("button",{onClick:Bl,className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-xl bg-green-600 text-white font-bold hover:bg-green-700 transition-all shadow-lg shadow-green-200 hover:shadow-green-300 hover:scale-[1.02]",children:[s.jsx("span",{className:"material-symbols-outlined",children:"table_view"}),s.jsx("span",{children:"Descargar Excel"})]})})]}),s.jsxs("div",{className:`flex items-center gap-3 mb-4 px-4 py-2 rounded-xl text-sm ${f?"bg-slate-700/50 text-slate-300":"bg-blue-50 text-blue-700"}`,children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"info"}),s.jsxs("span",{children:["Mostrando ",s.jsx("strong",{children:Js().length})," de ",s.jsx("strong",{children:Wc.length})," pre-registros",Ps!=="Todos"&&s.jsxs(s.Fragment,{children:[" del ao ",s.jsx("strong",{children:Ps})]}),ls&&s.jsxs(s.Fragment,{children:[' que coinciden con "',s.jsx("strong",{children:ls}),'"']})]})]}),s.jsx("div",{className:"overflow-x-auto rounded-2xl border border-slate-100 dark:border-slate-700",children:s.jsxs("table",{className:"w-full text-left border-collapse",children:[s.jsx("thead",{children:s.jsxs("tr",{className:f?"bg-slate-900/50":"bg-slate-50",children:[s.jsx("th",{className:"p-4 font-bold text-sm",children:"Folio / Fecha"}),s.jsx("th",{className:"p-4 font-bold text-sm",children:"Aspirante"}),s.jsx("th",{className:"p-4 font-bold text-sm",children:"Carrera(s)"}),s.jsx("th",{className:"p-4 font-bold text-sm",children:"Promedio"}),s.jsx("th",{className:"p-4 font-bold text-sm",children:"Acciones"})]})}),s.jsxs("tbody",{children:[Js().map(v=>s.jsxs("tr",{className:`border-t ${f?"border-slate-700 hover:bg-slate-700/30":"border-slate-100 hover:bg-slate-50"} transition-colors`,children:[s.jsxs("td",{className:"p-4",children:[s.jsx("div",{className:"font-bold text-blue-600",children:v.folio}),s.jsx("div",{className:"text-xs text-slate-400",children:new Date(v.created_at).toLocaleDateString()})]}),s.jsxs("td",{className:"p-4",children:[s.jsxs("div",{className:"font-semibold",children:[v.nombre," ",v.apellido_paterno," ",v.apellido_materno]}),s.jsx("div",{className:"text-xs text-slate-400",children:v.curp})]}),s.jsxs("td",{className:"p-4 text-sm",children:[s.jsx("div",{className:"font-semibold",children:v.carrera_nombre}),v.segunda_opcion_carrera&&s.jsxs("div",{className:"text-xs opacity-60",children:["2: ",v.segunda_opcion_carrera]}),v.tercera_opcion_carrera&&s.jsxs("div",{className:"text-xs opacity-50",children:["3: ",v.tercera_opcion_carrera]})]}),s.jsx("td",{className:"p-4 font-bold text-center",children:v.promedio_general}),s.jsx("td",{className:"p-4 text-center",children:s.jsxs("button",{onClick:()=>sl(v),className:"p-2 rounded-lg bg-blue-50 text-blue-600 hover:bg-blue-100 flex items-center gap-2 mx-auto",children:[s.jsx("span",{className:"material-symbols-outlined text-sm",children:"visibility"}),s.jsx("span",{className:"text-xs",children:"Ver Ficha"})]})})]},v.id)),Js().length===0&&s.jsx("tr",{children:s.jsx("td",{colSpan:"5",className:"p-10 text-center text-slate-400",children:s.jsxs("div",{className:"flex flex-col items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-4xl opacity-30",children:"search_off"}),s.jsxs("span",{children:["No hay pre-registros ",Ps!=="Todos"?`para el ao ${Ps}`:""," ",ls?`que coincidan con "${ls}"`:""]})]})})})]})]})})]})]})}),y==="access"&&s.jsxs("section",{className:`rounded-[2rem] p-6 md:p-8 border ${f?"bg-slate-800 border-slate-700":"bg-white border-slate-100 shadow-sm"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-orange-500",children:"security"})," Acceso a la Pgina"]}),s.jsx("button",{type:"button",onClick:Dl,className:`text-sm ${f?"text-blue-400":"text-blue-700"}`,children:"Actualizar"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900":"border-slate-200 bg-slate-50"}`,children:[s.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-4",children:[s.jsx("span",{className:"material-symbols-outlined text-green-500",children:"school"}),"Acceso de Alumnos"]}),s.jsx("p",{className:`text-sm mb-3 ${f?"text-slate-400":"text-slate-600"}`,children:"Solo los correos con este dominio podrn acceder al portal de alumnos."}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Dominio de correo permitido"}),s.jsx("input",{type:"text",value:Ga.alumno_domain,onChange:v=>Hc({...Ga,alumno_domain:v.target.value}),className:`w-full px-4 py-3 rounded-xl border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-300"}`,placeholder:"@cbta134.edu.mx"}),s.jsx("p",{className:`text-xs mt-2 ${f?"text-slate-500":"text-slate-400"}`,children:"Ejemplo: @cbta134.edu.mx (incluir el @)"})]})]}),s.jsxs("div",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900":"border-slate-200 bg-slate-50"}`,children:[s.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-4",children:[s.jsx("span",{className:"material-symbols-outlined text-blue-500",children:"admin_panel_settings"}),"Acceso de Maestros"]}),s.jsx("p",{className:`text-sm mb-3 ${f?"text-slate-400":"text-slate-600"}`,children:"Cdigo de seguridad requerido despus de iniciar sesin con Google."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Usuario de seguridad"}),s.jsx("input",{type:"text",value:Ga.maestro_user,onChange:v=>Hc({...Ga,maestro_user:v.target.value}),className:`w-full px-4 py-3 rounded-xl border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-300"}`,placeholder:"cbta"})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-medium mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Contrasea de seguridad"}),s.jsx("input",{type:"text",value:Ga.maestro_password,onChange:v=>Hc({...Ga,maestro_password:v.target.value}),className:`w-full px-4 py-3 rounded-xl border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-300"}`,placeholder:"cbta134#pagina"})]})]}),s.jsx("p",{className:`text-xs mt-2 ${f?"text-slate-500":"text-slate-400"}`,children:"Los maestros debern ingresar estas credenciales despus de iniciar sesin con Google."})]}),s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("button",{onClick:Ka,disabled:pc,className:"px-6 py-3 bg-blue-600 text-white rounded-xl font-semibold hover:bg-blue-700 transition-colors disabled:opacity-50",children:pc?"Guardando...":"Guardar Configuracin"}),fn&&s.jsxs("span",{className:"text-green-500 font-medium flex items-center gap-1",children:[s.jsx("span",{className:"material-symbols-outlined",children:"check_circle"}),"Guardado correctamente"]})]}),ad&&s.jsxs("div",{className:`p-5 rounded-2xl border ${f?"border-slate-700 bg-slate-900":"border-slate-200 bg-slate-50"}`,children:[s.jsxs("h4",{className:"font-semibold flex items-center gap-2 mb-4",children:[s.jsx("span",{className:"material-symbols-outlined text-purple-500",children:"group_add"}),"Cuentas Permitidas del EduPanel"]}),s.jsx("p",{className:`text-sm mb-4 ${f?"text-slate-400":"text-slate-600"}`,children:"Solo las cuentas en esta lista pueden acceder al panel administrativo."}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx("input",{type:"email",value:No,onChange:v=>Va(v.target.value),className:`flex-1 px-4 py-3 rounded-xl border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-300"}`,placeholder:"correo@ejemplo.com"}),s.jsx("button",{onClick:Qr,disabled:qi||!No.trim(),className:"px-4 py-3 bg-purple-600 text-white rounded-xl font-medium hover:bg-purple-700 transition-colors disabled:opacity-50",children:qi?"...":"Agregar"})]}),s.jsxs("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:[fc.map(v=>s.jsxs("div",{className:`flex items-center justify-between p-3 rounded-xl ${f?"bg-slate-800":"bg-white"} border ${f?"border-slate-700":"border-slate-200"}`,children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined text-slate-400",children:v.is_master?"verified_user":"person"}),s.jsxs("div",{children:[s.jsx("p",{className:`font-medium ${f?"text-white":"text-slate-900"}`,children:v.email}),v.is_master&&s.jsx("span",{className:"text-xs text-purple-500 font-medium",children:"Cuenta Maestra"})]})]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{onClick:()=>ko(v.id,v.email,v.is_master),className:`p-2 rounded-lg transition-colors ${v.is_master?"text-amber-500 hover:bg-amber-50":"text-purple-500 hover:bg-purple-50"}`,title:v.is_master?"Quitar rol de maestra":"Hacer cuenta maestra",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:v.is_master?"remove_moderator":"add_moderator"})}),s.jsx("button",{onClick:()=>on(v.id,v.email,v.is_master),className:"p-2 text-red-500 hover:bg-red-50 rounded-lg transition-colors",title:"Eliminar cuenta",children:s.jsx("span",{className:"material-symbols-outlined text-sm",children:"delete"})})]})]},v.id)),fc.length===0&&s.jsx("p",{className:`text-sm text-center py-4 ${f?"text-slate-500":"text-slate-400"}`,children:"No hay cuentas configuradas."})]})]})]})]})]})]}),s.jsx("button",{onClick:()=>re(!0),className:"lg:hidden fixed bottom-6 right-6 w-14 h-14 bg-blue-800 text-white rounded-full shadow-2xl z-50 flex items-center justify-center active:scale-90 transition-transform",children:s.jsx("span",{className:"material-symbols-outlined",children:"add"})}),Xr&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:`w-full max-w-md rounded-3xl shadow-2xl ${f?"bg-slate-800":"bg-white"}`,children:[s.jsxs("div",{className:`flex items-center justify-between p-6 border-b ${f?"border-slate-700":"border-slate-100"}`,children:[s.jsx("h2",{className:"text-xl font-bold",children:"Editar Alumno"}),s.jsx("button",{onClick:()=>Zs(null),className:`p-2 rounded-xl ${f?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:s.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),s.jsxs("form",{onSubmit:Kc,className:"p-6 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-semibold mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Nombre(s):"}),s.jsx("input",{value:Xr.nombre,onChange:v=>Zs({...Xr,nombre:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-semibold mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Apellidos:"}),s.jsx("input",{value:Xr.apellidos,onChange:v=>Zs({...Xr,apellidos:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-semibold mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"Correo:"}),s.jsx("input",{type:"email",value:Xr.email||"",onChange:v=>Zs({...Xr,email:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-semibold mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"No. Control (14 dgitos):"}),s.jsx("input",{value:Xr.numero_control||"",maxLength:14,onChange:v=>{const K=v.target.value.replace(/[^0-9]/g,"");Zs({...Xr,numero_control:K})},className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsxs("div",{children:[s.jsx("label",{className:`block text-sm font-semibold mb-2 ${f?"text-slate-300":"text-slate-700"}`,children:"CURP:"}),s.jsx("input",{value:Xr.curp,onChange:v=>Zs({...Xr,curp:v.target.value}),className:`w-full p-3 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`})]}),s.jsx("button",{type:"submit",className:"w-full py-3 bg-blue-800 text-white font-bold rounded-xl hover:opacity-90 transition-opacity",children:" Guardar Cambios"})]})]})}),jo&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:`w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-3xl shadow-2xl ${f?"bg-slate-800":"bg-white"}`,children:[s.jsxs("div",{className:`flex items-center justify-between p-6 border-b sticky top-0 ${f?"border-slate-700 bg-slate-800":"border-slate-100 bg-white"}`,children:[s.jsxs("h2",{className:"text-xl font-bold",children:["Calificaciones: ",jo.nombre]}),s.jsx("button",{onClick:()=>il(null),className:`p-2 rounded-xl ${f?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:s.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("label",{className:"font-semibold",children:"Semestre:"}),s.jsx("select",{value:Ol,onChange:v=>{const K=parseInt(v.target.value);xu(K),V(jo.id,K)},className:`px-4 py-2 rounded-xl border ${f?"bg-slate-900 border-slate-700 text-white":"bg-slate-50 border-slate-200"}`,children:[1,2,3,4,5,6].map(v=>s.jsxs("option",{value:v,children:[v," Semestre"]},v))})]}),s.jsx("div",{className:`rounded-2xl overflow-hidden mb-6 ${f?"bg-slate-900":"bg-slate-50"}`,children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{children:s.jsxs("tr",{className:f?"bg-slate-800":"bg-slate-100",children:[s.jsx("th",{className:"p-4 text-left font-semibold",children:"Materia"}),s.jsx("th",{className:"p-4 text-left font-semibold",children:"Tipo"}),s.jsx("th",{className:"p-4 text-center font-semibold",children:"P1"}),s.jsx("th",{className:"p-4 text-center font-semibold",children:"P2"}),s.jsx("th",{className:"p-4 text-center font-semibold",children:"P3"})]})}),s.jsx("tbody",{children:Rl.map(v=>s.jsxs("tr",{className:`border-t ${f?"border-slate-700":"border-slate-200"}`,children:[s.jsx("td",{className:"p-4",children:v.materia}),s.jsx("td",{className:"p-4",children:s.jsx("span",{className:`px-2 py-1 rounded-lg text-xs font-bold text-white ${v.tipo_materia==="especialidad"?"bg-purple-500":"bg-blue-500"}`,children:v.tipo_materia==="especialidad"?"Especialidad":"Bsica"})}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("input",{type:"number",defaultValue:v.parcial1,onBlur:K=>J(v.id,"parcial1",K.target.value),className:`w-16 p-2 text-center rounded-lg border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200"}`})}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("input",{type:"number",defaultValue:v.parcial2,onBlur:K=>J(v.id,"parcial2",K.target.value),className:`w-16 p-2 text-center rounded-lg border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200"}`})}),s.jsx("td",{className:"p-4 text-center",children:s.jsx("input",{type:"number",defaultValue:v.parcial3,onBlur:K=>J(v.id,"parcial3",K.target.value),className:`w-16 p-2 text-center rounded-lg border ${f?"bg-slate-800 border-slate-600 text-white":"bg-white border-slate-200"}`})})]},v.id))})]})}),s.jsxs("div",{className:`p-6 rounded-2xl ${f?"bg-slate-900":"bg-green-50"}`,children:[s.jsx("h4",{className:`font-bold mb-4 ${f?"text-green-400":"text-green-700"}`,children:"Agregar Nueva Materia"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[s.jsx("input",{placeholder:"Nombre de la Materia",value:$n.materia,onChange:v=>Il({...$n,materia:v.target.value}),className:`flex-1 p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`}),s.jsxs("select",{value:$n.tipo,onChange:v=>Il({...$n,tipo:v.target.value}),className:`p-3 rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`,children:[s.jsx("option",{value:"basica",children:"Tronco Comn"}),s.jsx("option",{value:"especialidad",children:"Especialidad"})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-4 items-center",children:[s.jsx("input",{type:"number",placeholder:"P1",value:$n.parcial1,onChange:v=>Il({...$n,parcial1:v.target.value}),className:`w-20 p-3 text-center rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`}),s.jsx("input",{type:"number",placeholder:"P2",value:$n.parcial2,onChange:v=>Il({...$n,parcial2:v.target.value}),className:`w-20 p-3 text-center rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`}),s.jsx("input",{type:"number",placeholder:"P3",value:$n.parcial3,onChange:v=>Il({...$n,parcial3:v.target.value}),className:`w-20 p-3 text-center rounded-xl border ${f?"bg-slate-800 border-slate-700 text-white":"bg-white border-slate-200"}`}),s.jsx("button",{onClick:ee,className:"px-6 py-3 bg-green-500 text-white font-bold rounded-xl hover:bg-green-600 transition-colors",children:"+ Agregar Materia"})]})]})]}),s.jsx("div",{className:`flex justify-end pt-6 border-t mt-6 ${f?"border-slate-700":"border-slate-200"}`,children:s.jsx("button",{onClick:()=>il(null),className:"px-8 py-3 bg-blue-800 text-white font-bold rounded-xl hover:opacity-90 transition-opacity",children:" Guardar y Cerrar"})})]})]})}),Lr&&s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:s.jsxs("div",{className:`w-full max-w-4xl max-h-[90vh] overflow-y-auto rounded-3xl shadow-2xl ${f?"bg-slate-800":"bg-white"}`,children:[s.jsxs("div",{className:`flex items-center justify-between p-6 border-b sticky top-0 z-10 ${f?"border-slate-700 bg-slate-800 text-white":"border-slate-100 bg-white"}`,children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold flex items-center gap-2",children:s.jsxs("span",{className:"text-blue-600",children:["Folio: ",Lr.folio]})}),s.jsx("p",{className:"text-sm opacity-70",children:"Detalles del aspirante seleccionado"})]}),s.jsx("button",{onClick:()=>sl(null),className:`p-2 rounded-xl ${f?"hover:bg-slate-700":"hover:bg-slate-100"}`,children:s.jsx("span",{className:"material-symbols-outlined",children:"close"})})]}),s.jsxs("div",{className:"p-8 space-y-8",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-bold border-l-4 border-blue-600 pl-3 uppercase text-xs tracking-wider opacity-60",children:"Datos Personales"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Nombre:"})," ",Lr.nombre," ",Lr.apellido_paterno," ",Lr.apellido_materno]}),s.jsxs("p",{children:[s.jsx("strong",{children:"CURP:"})," ",Lr.curp]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Fecha Nacimiento:"})," ",Lr.fecha_nacimiento]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Sexo:"})," ",Lr.sexo]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-bold border-l-4 border-blue-600 pl-3 uppercase text-xs tracking-wider opacity-60",children:"Contacto"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Email:"})," ",Lr.correo]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Telfono:"})," ",Lr.telefono]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Domicilio:"})," ",Lr.domicilio,", Col. ",Lr.colonia,", ",Lr.municipio,", C.P. ",Lr.codigo_postal]})]})]})]}),s.jsx("hr",{className:f?"border-slate-700":"border-slate-100"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-bold border-l-4 border-green-600 pl-3 uppercase text-xs tracking-wider opacity-60",children:"Educacin de Origen"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("p",{children:[s.jsx("strong",{children:"Escuela:"})," ",Lr.escuela_nombre]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Municipio:"})," ",Lr.escuela_municipio]}),s.jsxs("p",{children:[s.jsx("strong",{children:"Promedio:"})," ",s.jsx("span",{className:"text-lg font-black text-green-600",children:Lr.promedio_general})]})]})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-bold border-l-4 border-green-600 pl-3 uppercase text-xs tracking-wider opacity-60",children:"Opciones Acadmicas"}),s.jsxs("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-2xl border border-green-100 dark:border-green-800",children:[s.jsx("p",{className:"text-sm opacity-70 mb-1",children:" 1 Opcin de Carrera:"}),s.jsx("p",{className:"text-xl font-bold text-green-700 dark:text-green-400",children:Lr.carrera_nombre})]}),Lr.segunda_opcion_carrera&&s.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-4 rounded-2xl border border-blue-100 dark:border-blue-800",children:[s.jsx("p",{className:"text-sm opacity-70 mb-1",children:" 2 Opcin de Carrera:"}),s.jsx("p",{className:"text-lg font-bold text-blue-700 dark:text-blue-400",children:Lr.segunda_opcion_carrera})]}),Lr.tercera_opcion_carrera&&s.jsxs("div",{className:"bg-purple-50 dark:bg-purple-900/20 p-4 rounded-2xl border border-purple-100 dark:border-purple-800",children:[s.jsx("p",{className:"text-sm opacity-70 mb-1",children:" 3 Opcin de Carrera:"}),s.jsx("p",{className:"text-lg font-bold text-purple-700 dark:text-purple-400",children:Lr.tercera_opcion_carrera})]})]})]}),s.jsx("hr",{className:f?"border-slate-700":"border-slate-100"}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"font-bold border-l-4 border-purple-600 pl-3 uppercase text-xs tracking-wider opacity-60",children:"Datos del Padre/Madre o Tutor"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs opacity-60 mb-1",children:"Nombre Completo"}),s.jsx("p",{className:"font-bold",children:Lr.tutor_nombre})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs opacity-60 mb-1",children:"CURP"}),s.jsx("p",{className:"font-bold",children:Lr.tutor_curp})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs opacity-60 mb-1",children:"Parentesco / Telfono"}),s.jsxs("p",{className:"font-bold",children:[Lr.tutor_parentesco," | ",Lr.tutor_telefono]})]})]})]}),s.jsxs("div",{className:`p-6 rounded-[2rem] flex flex-col md:flex-row items-center justify-between gap-6 ${f?"bg-slate-900":"bg-slate-50"}`,children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("span",{className:"text-xs font-bold opacity-60 w-full mb-2",children:"Cambiar estado de la solicitud:"}),["Pendiente","Revisin","Aceptado","Rechazado"].map(v=>s.jsx("button",{onClick:()=>Qh(Lr.id,v),className:`px-4 py-2 rounded-xl text-sm font-bold transition-all ${Lr.estado_registro===v?"bg-blue-600 text-white shadow-lg":f?"bg-slate-800 text-slate-400":"bg-white text-slate-600 border border-slate-200"}`,children:v},v))]}),s.jsxs("button",{onClick:()=>ol(Lr.id),className:"px-6 py-3 rounded-xl bg-red-50 text-red-600 font-bold hover:bg-red-600 hover:text-white transition-all flex items-center gap-2",children:[s.jsx("span",{className:"material-symbols-outlined",children:"delete"})," Eliminar Registro"]})]})]})]})}),s.jsx(BE,{isOpen:M,onClose:()=>{re(!1),W(null)},onClubAdded:ke,clubToEdit:I}),s.jsx(ME,{isOpen:T,onClose:()=>{R(!1),te(null)},onCareerAdded:ne,careerToEdit:q})]}):s.jsx("div",{className:`min-h-screen flex items-center justify-center ${f?"bg-slate-900":"bg-slate-100"}`,children:s.jsxs("div",{className:`p-8 rounded-3xl shadow-xl max-w-md w-full mx-4 ${f?"bg-slate-800":"bg-white"}`,children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"bg-blue-800 p-3 rounded-2xl inline-block mb-4",children:s.jsx("span",{className:"material-symbols-outlined text-white text-3xl",children:"school"})}),s.jsx("h2",{className:`text-2xl font-bold ${f?"text-white":"text-slate-900"}`,children:"Acceso Administrativo"}),s.jsx("p",{className:`mt-2 ${f?"text-slate-400":"text-slate-500"}`,children:"Inicia sesin para gestionar alumnos y publicaciones."})]}),s.jsxs("button",{onClick:Pa,className:"w-full flex items-center justify-center gap-3 px-6 py-4 bg-white border border-slate-200 rounded-2xl hover:bg-slate-50 transition-all shadow-sm",children:[s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg",alt:"Google",className:"w-6 h-6"}),s.jsx("span",{className:"font-semibold text-slate-700",children:"Entrar como Maestro"})]}),s.jsx("button",{onClick:()=>e("/maestros"),className:"w-full mt-4 py-3 text-slate-500 hover:text-slate-700 transition-colors font-medium",children:" Regresar"})]})})},DP="modulepreload",BP=function(e){return"/"+e},eb={},vg=function(t,r,n){let a=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=Promise.allSettled(r.map(d=>{if(d=BP(d),d in eb)return;eb[d]=!0;const h=d.endsWith(".css"),p=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${p}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":DP,h||(f.as="script"),f.crossOrigin="",f.href=d,c&&f.setAttribute("nonce",c),document.head.appendChild(f),h)return new Promise((b,g)=>{f.addEventListener("load",b),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return a.then(l=>{for(const c of l||[])c.status==="rejected"&&i(c.reason);return t().catch(i)})};function Tn(e){"@babel/helpers - typeof";return Tn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tn(e)}var tc=Uint8Array,qo=Uint16Array,bx=Int32Array,_x=new tc([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),yx=new tc([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),tb=new tc([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Yw=function(e,t){for(var r=new qo(31),n=0;n<31;++n)r[n]=t+=1<<e[n-1];for(var a=new bx(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},Xw=Yw(_x,2),MP=Xw.b,_1=Xw.r;MP[28]=258,_1[258]=28;var UP=Yw(yx,0),rb=UP.r,y1=new qo(32768);for(var ea=0;ea<32768;++ea){var Du=(ea&43690)>>1|(ea&21845)<<1;Du=(Du&52428)>>2|(Du&13107)<<2,Du=(Du&61680)>>4|(Du&3855)<<4,y1[ea]=((Du&65280)>>8|(Du&255)<<8)>>1}var C0=function(e,t,r){for(var n=e.length,a=0,i=new qo(t);a<n;++a)e[a]&&++i[e[a]-1];var l=new qo(t);for(a=1;a<t;++a)l[a]=l[a-1]+i[a-1]<<1;var c;if(r){c=new qo(1<<t);var d=15-t;for(a=0;a<n;++a)if(e[a])for(var h=a<<4|e[a],p=t-e[a],f=l[e[a]-1]++<<p,b=f|(1<<p)-1;f<=b;++f)c[y1[f]>>d]=h}else for(c=new qo(n),a=0;a<n;++a)e[a]&&(c[a]=y1[l[e[a]-1]++]>>15-e[a]);return c},Id=new tc(288);for(var ea=0;ea<144;++ea)Id[ea]=8;for(var ea=144;ea<256;++ea)Id[ea]=9;for(var ea=256;ea<280;++ea)Id[ea]=7;for(var ea=280;ea<288;++ea)Id[ea]=8;var Up=new tc(32);for(var ea=0;ea<32;++ea)Up[ea]=5;var $P=C0(Id,9,0),zP=C0(Up,5,0),Jw=function(e){return(e+7)/8|0},qP=function(e,t,r){return(r==null||r>e.length)&&(r=e.length),new tc(e.subarray(t,r))},Qc=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8},p0=function(e,t,r){r<<=t&7;var n=t/8|0;e[n]|=r,e[n+1]|=r>>8,e[n+2]|=r>>16},bg=function(e,t){for(var r=[],n=0;n<e.length;++n)e[n]&&r.push({s:n,f:e[n]});var a=r.length,i=r.slice();if(!a)return{t:Qw,l:0};if(a==1){var l=new tc(r[0].s+1);return l[r[0].s]=1,{t:l,l:1}}r.sort(function(q,te){return q.f-te.f}),r.push({s:-1,f:25001});var c=r[0],d=r[1],h=0,p=1,f=2;for(r[0]={s:-1,f:c.f+d.f,l:c,r:d};p!=a-1;)c=r[r[h].f<r[f].f?h++:f++],d=r[h!=p&&r[h].f<r[f].f?h++:f++],r[p++]={s:-1,f:c.f+d.f,l:c,r:d};for(var b=i[0].s,n=1;n<a;++n)i[n].s>b&&(b=i[n].s);var g=new qo(b+1),S=w1(r[p-1],g,0);if(S>t){var n=0,y=0,N=S-t,A=1<<N;for(i.sort(function(te,G){return g[G.s]-g[te.s]||te.f-G.f});n<a;++n){var P=i[n].s;if(g[P]>t)y+=A-(1<<S-g[P]),g[P]=t;else break}for(y>>=N;y>0;){var T=i[n].s;g[T]<t?y-=1<<t-g[T]++-1:++n}for(;n>=0&&y;--n){var R=i[n].s;g[R]==t&&(--g[R],++y)}S=t}return{t:new tc(g),l:S}},w1=function(e,t,r){return e.s==-1?Math.max(w1(e.l,t,r+1),w1(e.r,t,r+1)):t[e.s]=r},nb=function(e){for(var t=e.length;t&&!e[--t];);for(var r=new qo(++t),n=0,a=e[0],i=1,l=function(d){r[n++]=d},c=1;c<=t;++c)if(e[c]==a&&c!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)l(32754);i>2&&(l(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(l(a),--i;i>6;i-=6)l(8304);i>2&&(l(i-3<<5|8208),i=0)}for(;i--;)l(a);i=1,a=e[c]}return{c:r.subarray(0,n),n:t}},m0=function(e,t){for(var r=0,n=0;n<t.length;++n)r+=e[n]*t[n];return r},Zw=function(e,t,r){var n=r.length,a=Jw(t+2);e[a]=n&255,e[a+1]=n>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<n;++i)e[a+i+4]=r[i];return(a+4+n)*8},ab=function(e,t,r,n,a,i,l,c,d,h,p){Qc(t,p++,r),++a[256];for(var f=bg(a,15),b=f.t,g=f.l,S=bg(i,15),y=S.t,N=S.l,A=nb(b),P=A.c,T=A.n,R=nb(y),q=R.c,te=R.n,G=new qo(19),H=0;H<P.length;++H)++G[P[H]&31];for(var H=0;H<q.length;++H)++G[q[H]&31];for(var M=bg(G,7),re=M.t,I=M.l,W=19;W>4&&!re[tb[W-1]];--W);var ae=h+5<<3,ge=m0(a,Id)+m0(i,Up)+l,_e=m0(a,b)+m0(i,y)+l+14+3*W+m0(G,re)+2*G[16]+3*G[17]+7*G[18];if(d>=0&&ae<=ge&&ae<=_e)return Zw(t,p,e.subarray(d,d+h));var Le,Te,Q,ye;if(Qc(t,p,1+(_e<ge)),p+=2,_e<ge){Le=C0(b,g,0),Te=b,Q=C0(y,N,0),ye=y;var je=C0(re,I,0);Qc(t,p,T-257),Qc(t,p+5,te-1),Qc(t,p+10,W-4),p+=14;for(var H=0;H<W;++H)Qc(t,p+3*H,re[tb[H]]);p+=3*W;for(var oe=[P,q],j=0;j<2;++j)for(var B=oe[j],H=0;H<B.length;++H){var O=B[H]&31;Qc(t,p,je[O]),p+=re[O],O>15&&(Qc(t,p,B[H]>>5&127),p+=B[H]>>12)}}else Le=$P,Te=Id,Q=zP,ye=Up;for(var H=0;H<c;++H){var D=n[H];if(D>255){var O=D>>18&31;p0(t,p,Le[O+257]),p+=Te[O+257],O>7&&(Qc(t,p,D>>23&31),p+=_x[O]);var Z=D&31;p0(t,p,Q[Z]),p+=ye[Z],Z>3&&(p0(t,p,D>>5&8191),p+=yx[Z])}else p0(t,p,Le[D]),p+=Te[D]}return p0(t,p,Le[256]),p+Te[256]},HP=new bx([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Qw=new tc(0),WP=function(e,t,r,n,a,i){var l=i.z||e.length,c=new tc(n+l+5*(1+Math.ceil(l/7e3))+a),d=c.subarray(n,c.length-a),h=i.l,p=(i.r||0)&7;if(t){p&&(d[0]=i.r>>3);for(var f=HP[t-1],b=f>>13,g=f&8191,S=(1<<r)-1,y=i.p||new qo(32768),N=i.h||new qo(S+1),A=Math.ceil(r/3),P=2*A,T=function(ft){return(e[ft]^e[ft+1]<<A^e[ft+2]<<P)&S},R=new bx(25e3),q=new qo(288),te=new qo(32),G=0,H=0,M=i.i||0,re=0,I=i.w||0,W=0;M+2<l;++M){var ae=T(M),ge=M&32767,_e=N[ae];if(y[ge]=_e,N[ae]=ge,I<=M){var Le=l-M;if((G>7e3||re>24576)&&(Le>423||!h)){p=ab(e,d,0,R,q,te,H,re,W,M-W,p),re=G=H=0,W=M;for(var Te=0;Te<286;++Te)q[Te]=0;for(var Te=0;Te<30;++Te)te[Te]=0}var Q=2,ye=0,je=g,oe=ge-_e&32767;if(Le>2&&ae==T(M-oe))for(var j=Math.min(b,Le)-1,B=Math.min(32767,M),O=Math.min(258,Le);oe<=B&&--je&&ge!=_e;){if(e[M+Q]==e[M+Q-oe]){for(var D=0;D<O&&e[M+D]==e[M+D-oe];++D);if(D>Q){if(Q=D,ye=oe,D>j)break;for(var Z=Math.min(oe,D-2),pe=0,Te=0;Te<Z;++Te){var be=M-oe+Te&32767,Se=y[be],Ee=be-Se&32767;Ee>pe&&(pe=Ee,_e=be)}}}ge=_e,_e=y[ge],oe+=ge-_e&32767}if(ye){R[re++]=268435456|_1[Q]<<18|rb[ye];var Ye=_1[Q]&31,at=rb[ye]&31;H+=_x[Ye]+yx[at],++q[257+Ye],++te[at],I=M+Q,++G}else R[re++]=e[M],++q[e[M]]}}for(M=Math.max(M,I);M<l;++M)R[re++]=e[M],++q[e[M]];p=ab(e,d,h,R,q,te,H,re,W,M-W,p),h||(i.r=p&7|d[p/8|0]<<3,p-=7,i.h=N,i.p=y,i.i=M,i.w=I)}else{for(var M=i.w||0;M<l+h;M+=65535){var st=M+65535;st>=l&&(d[p/8|0]=h,st=l),p=Zw(d,p+1,e.subarray(M,st))}i.i=l}return qP(c,0,n+Jw(p)+a)},e5=function(){var e=1,t=0;return{p:function(r){for(var n=e,a=t,i=r.length|0,l=0;l!=i;){for(var c=Math.min(l+2655,i);l<c;++l)a+=n+=r[l];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}e=n,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},VP=function(e,t,r,n,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),l=new tc(i.length+e.length);l.set(i),l.set(e,i.length),e=l,a.w=i.length}return WP(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,r,n,a)},t5=function(e,t,r){for(;r;++t)e[t]=r,r>>>=8},GP=function(e,t){var r=t.level,n=r==0?0:r<6?1:r==9?3:2;if(e[0]=120,e[1]=n<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=e5();a.p(t.dictionary),t5(e,2,a.d())}};function S1(e,t){t||(t={});var r=e5();r.p(e);var n=VP(e,t,t.dictionary?6:2,4);return GP(n,t),t5(n,n.length-4,r.d()),n}var KP=typeof TextDecoder<"u"&&new TextDecoder,YP=0;try{KP.decode(Qw,{stream:!0}),YP=1}catch{}function XP(e){if(Array.isArray(e))return e}function JP(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,a,i,l,c=[],d=!0,h=!1;try{if(i=(r=r.call(e)).next,t!==0)for(;!(d=(n=i.call(r)).done)&&(c.push(n.value),c.length!==t);d=!0);}catch(p){h=!0,a=p}finally{try{if(!d&&r.return!=null&&(l=r.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}function ib(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ZP(e,t){if(e){if(typeof e=="string")return ib(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ib(e,t):void 0}}function QP(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sb(e,t){return XP(e)||JP(e,t)||ZP(e,t)||QP()}function ob(e,t="utf8"){return new TextDecoder(t).decode(e)}const eL=new TextEncoder;function tL(e){return eL.encode(e)}const rL=1024*8,nL=(()=>{const e=new Uint8Array(4),t=new Uint32Array(e.buffer);return!((t[0]=1)&e[0])})(),_g={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class wx{constructor(t=rL,r={}){kn(this,"buffer");kn(this,"byteLength");kn(this,"byteOffset");kn(this,"length");kn(this,"offset");kn(this,"lastWrittenByte");kn(this,"littleEndian");kn(this,"_data");kn(this,"_mark");kn(this,"_marks");let n=!1;typeof t=="number"?t=new ArrayBuffer(t):(n=!0,this.lastWrittenByte=t.byteLength);const a=r.offset?r.offset>>>0:0,i=t.byteLength-a;let l=a;(ArrayBuffer.isView(t)||t instanceof wx)&&(t.byteLength!==t.buffer.byteLength&&(l=t.byteOffset+a),t=t.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=t,this.length=i,this.byteLength=i,this.byteOffset=l,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,l,i),this._mark=0,this._marks=[]}available(t=1){return this.offset+t<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(t=1){return this.offset+=t,this}back(t=1){return this.offset-=t,this}seek(t){return this.offset=t,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const t=this._marks.pop();if(t===void 0)throw new Error("Mark stack empty");return this.seek(t),this}rewind(){return this.offset=0,this}ensureAvailable(t=1){if(!this.available(t)){const n=(this.offset+t)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(t=1){return this.readArray(t,"uint8")}readArray(t,r){const n=_g[r].BYTES_PER_ELEMENT*t,a=this.byteOffset+this.offset,i=this.buffer.slice(a,a+n);if(this.littleEndian===nL&&r!=="uint8"&&r!=="int8"){const c=new Uint8Array(this.buffer.slice(a,a+n));c.reverse();const d=new _g[r](c.buffer);return this.offset+=n,d.reverse(),d}const l=new _g[r](i);return this.offset+=n,l}readInt16(){const t=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,t}readUint16(){const t=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,t}readInt32(){const t=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,t}readUint32(){const t=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat32(){const t=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,t}readFloat64(){const t=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,t}readBigInt64(){const t=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,t}readBigUint64(){const t=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,t}readChar(){return String.fromCharCode(this.readInt8())}readChars(t=1){let r="";for(let n=0;n<t;n++)r+=this.readChar();return r}readUtf8(t=1){return ob(this.readBytes(t))}decodeText(t=1,r="utf8"){return ob(this.readBytes(t),r)}writeBoolean(t){return this.writeUint8(t?255:0),this}writeInt8(t){return this.ensureAvailable(1),this._data.setInt8(this.offset++,t),this._updateLastWrittenByte(),this}writeUint8(t){return this.ensureAvailable(1),this._data.setUint8(this.offset++,t),this._updateLastWrittenByte(),this}writeByte(t){return this.writeUint8(t)}writeBytes(t){this.ensureAvailable(t.length);for(let r=0;r<t.length;r++)this._data.setUint8(this.offset++,t[r]);return this._updateLastWrittenByte(),this}writeInt16(t){return this.ensureAvailable(2),this._data.setInt16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(t){return this.ensureAvailable(2),this._data.setUint16(this.offset,t,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(t){return this.ensureAvailable(4),this._data.setInt32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(t){return this.ensureAvailable(4),this._data.setUint32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(t){return this.ensureAvailable(4),this._data.setFloat32(this.offset,t,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(t){return this.ensureAvailable(8),this._data.setFloat64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(t){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(t){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,t,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(t){return this.writeUint8(t.charCodeAt(0))}writeChars(t){for(let r=0;r<t.length;r++)this.writeUint8(t.charCodeAt(r));return this}writeUtf8(t){return this.writeBytes(tL(t))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */const aL=4,lb=0,cb=1,iL=2;function Kh(e){let t=e.length;for(;--t>=0;)e[t]=0}const sL=0,r5=1,oL=2,lL=3,cL=258,Sx=29,ff=256,K0=ff+1+Sx,Rh=30,Nx=19,n5=2*K0+1,kd=15,yg=16,uL=7,jx=256,a5=16,i5=17,s5=18,N1=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),hp=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),dL=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),o5=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),hL=512,ru=new Array((K0+2)*2);Kh(ru);const T0=new Array(Rh*2);Kh(T0);const Y0=new Array(hL);Kh(Y0);const X0=new Array(cL-lL+1);Kh(X0);const Ex=new Array(Sx);Kh(Ex);const $p=new Array(Rh);Kh($p);function wg(e,t,r,n,a){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=a,this.has_stree=e&&e.length}let l5,c5,u5;function Sg(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}const d5=e=>e<256?Y0[e]:Y0[256+(e>>>7)],J0=(e,t)=>{e.pending_buf[e.pending++]=t&255,e.pending_buf[e.pending++]=t>>>8&255},oo=(e,t,r)=>{e.bi_valid>yg-r?(e.bi_buf|=t<<e.bi_valid&65535,J0(e,e.bi_buf),e.bi_buf=t>>yg-e.bi_valid,e.bi_valid+=r-yg):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)},Lc=(e,t,r)=>{oo(e,r[t*2],r[t*2+1])},h5=(e,t)=>{let r=0;do r|=e&1,e>>>=1,r<<=1;while(--t>0);return r>>>1},fL=e=>{e.bi_valid===16?(J0(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=e.bi_buf&255,e.bi_buf>>=8,e.bi_valid-=8)},pL=(e,t)=>{const r=t.dyn_tree,n=t.max_code,a=t.stat_desc.static_tree,i=t.stat_desc.has_stree,l=t.stat_desc.extra_bits,c=t.stat_desc.extra_base,d=t.stat_desc.max_length;let h,p,f,b,g,S,y=0;for(b=0;b<=kd;b++)e.bl_count[b]=0;for(r[e.heap[e.heap_max]*2+1]=0,h=e.heap_max+1;h<n5;h++)p=e.heap[h],b=r[r[p*2+1]*2+1]+1,b>d&&(b=d,y++),r[p*2+1]=b,!(p>n)&&(e.bl_count[b]++,g=0,p>=c&&(g=l[p-c]),S=r[p*2],e.opt_len+=S*(b+g),i&&(e.static_len+=S*(a[p*2+1]+g)));if(y!==0){do{for(b=d-1;e.bl_count[b]===0;)b--;e.bl_count[b]--,e.bl_count[b+1]+=2,e.bl_count[d]--,y-=2}while(y>0);for(b=d;b!==0;b--)for(p=e.bl_count[b];p!==0;)f=e.heap[--h],!(f>n)&&(r[f*2+1]!==b&&(e.opt_len+=(b-r[f*2+1])*r[f*2],r[f*2+1]=b),p--)}},f5=(e,t,r)=>{const n=new Array(kd+1);let a=0,i,l;for(i=1;i<=kd;i++)a=a+r[i-1]<<1,n[i]=a;for(l=0;l<=t;l++){let c=e[l*2+1];c!==0&&(e[l*2]=h5(n[c]++,c))}},mL=()=>{let e,t,r,n,a;const i=new Array(kd+1);for(r=0,n=0;n<Sx-1;n++)for(Ex[n]=r,e=0;e<1<<N1[n];e++)X0[r++]=n;for(X0[r-1]=n,a=0,n=0;n<16;n++)for($p[n]=a,e=0;e<1<<hp[n];e++)Y0[a++]=n;for(a>>=7;n<Rh;n++)for($p[n]=a<<7,e=0;e<1<<hp[n]-7;e++)Y0[256+a++]=n;for(t=0;t<=kd;t++)i[t]=0;for(e=0;e<=143;)ru[e*2+1]=8,e++,i[8]++;for(;e<=255;)ru[e*2+1]=9,e++,i[9]++;for(;e<=279;)ru[e*2+1]=7,e++,i[7]++;for(;e<=287;)ru[e*2+1]=8,e++,i[8]++;for(f5(ru,K0+1,i),e=0;e<Rh;e++)T0[e*2+1]=5,T0[e*2]=h5(e,5);l5=new wg(ru,N1,ff+1,K0,kd),c5=new wg(T0,hp,0,Rh,kd),u5=new wg(new Array(0),dL,0,Nx,uL)},p5=e=>{let t;for(t=0;t<K0;t++)e.dyn_ltree[t*2]=0;for(t=0;t<Rh;t++)e.dyn_dtree[t*2]=0;for(t=0;t<Nx;t++)e.bl_tree[t*2]=0;e.dyn_ltree[jx*2]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},m5=e=>{e.bi_valid>8?J0(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},ub=(e,t,r,n)=>{const a=t*2,i=r*2;return e[a]<e[i]||e[a]===e[i]&&n[t]<=n[r]},Ng=(e,t,r)=>{const n=e.heap[r];let a=r<<1;for(;a<=e.heap_len&&(a<e.heap_len&&ub(t,e.heap[a+1],e.heap[a],e.depth)&&a++,!ub(t,n,e.heap[a],e.depth));)e.heap[r]=e.heap[a],r=a,a<<=1;e.heap[r]=n},db=(e,t,r)=>{let n,a,i=0,l,c;if(e.sym_next!==0)do n=e.pending_buf[e.sym_buf+i++]&255,n+=(e.pending_buf[e.sym_buf+i++]&255)<<8,a=e.pending_buf[e.sym_buf+i++],n===0?Lc(e,a,t):(l=X0[a],Lc(e,l+ff+1,t),c=N1[l],c!==0&&(a-=Ex[l],oo(e,a,c)),n--,l=d5(n),Lc(e,l,r),c=hp[l],c!==0&&(n-=$p[l],oo(e,n,c)));while(i<e.sym_next);Lc(e,jx,t)},j1=(e,t)=>{const r=t.dyn_tree,n=t.stat_desc.static_tree,a=t.stat_desc.has_stree,i=t.stat_desc.elems;let l,c,d=-1,h;for(e.heap_len=0,e.heap_max=n5,l=0;l<i;l++)r[l*2]!==0?(e.heap[++e.heap_len]=d=l,e.depth[l]=0):r[l*2+1]=0;for(;e.heap_len<2;)h=e.heap[++e.heap_len]=d<2?++d:0,r[h*2]=1,e.depth[h]=0,e.opt_len--,a&&(e.static_len-=n[h*2+1]);for(t.max_code=d,l=e.heap_len>>1;l>=1;l--)Ng(e,r,l);h=i;do l=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ng(e,r,1),c=e.heap[1],e.heap[--e.heap_max]=l,e.heap[--e.heap_max]=c,r[h*2]=r[l*2]+r[c*2],e.depth[h]=(e.depth[l]>=e.depth[c]?e.depth[l]:e.depth[c])+1,r[l*2+1]=r[c*2+1]=h,e.heap[1]=h++,Ng(e,r,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],pL(e,t),f5(r,d,e.bl_count)},hb=(e,t,r)=>{let n,a=-1,i,l=t[0*2+1],c=0,d=7,h=4;for(l===0&&(d=138,h=3),t[(r+1)*2+1]=65535,n=0;n<=r;n++)i=l,l=t[(n+1)*2+1],!(++c<d&&i===l)&&(c<h?e.bl_tree[i*2]+=c:i!==0?(i!==a&&e.bl_tree[i*2]++,e.bl_tree[a5*2]++):c<=10?e.bl_tree[i5*2]++:e.bl_tree[s5*2]++,c=0,a=i,l===0?(d=138,h=3):i===l?(d=6,h=3):(d=7,h=4))},fb=(e,t,r)=>{let n,a=-1,i,l=t[0*2+1],c=0,d=7,h=4;for(l===0&&(d=138,h=3),n=0;n<=r;n++)if(i=l,l=t[(n+1)*2+1],!(++c<d&&i===l)){if(c<h)do Lc(e,i,e.bl_tree);while(--c!==0);else i!==0?(i!==a&&(Lc(e,i,e.bl_tree),c--),Lc(e,a5,e.bl_tree),oo(e,c-3,2)):c<=10?(Lc(e,i5,e.bl_tree),oo(e,c-3,3)):(Lc(e,s5,e.bl_tree),oo(e,c-11,7));c=0,a=i,l===0?(d=138,h=3):i===l?(d=6,h=3):(d=7,h=4)}},gL=e=>{let t;for(hb(e,e.dyn_ltree,e.l_desc.max_code),hb(e,e.dyn_dtree,e.d_desc.max_code),j1(e,e.bl_desc),t=Nx-1;t>=3&&e.bl_tree[o5[t]*2+1]===0;t--);return e.opt_len+=3*(t+1)+5+5+4,t},xL=(e,t,r,n)=>{let a;for(oo(e,t-257,5),oo(e,r-1,5),oo(e,n-4,4),a=0;a<n;a++)oo(e,e.bl_tree[o5[a]*2+1],3);fb(e,e.dyn_ltree,t-1),fb(e,e.dyn_dtree,r-1)},vL=e=>{let t=4093624447,r;for(r=0;r<=31;r++,t>>>=1)if(t&1&&e.dyn_ltree[r*2]!==0)return lb;if(e.dyn_ltree[9*2]!==0||e.dyn_ltree[10*2]!==0||e.dyn_ltree[13*2]!==0)return cb;for(r=32;r<ff;r++)if(e.dyn_ltree[r*2]!==0)return cb;return lb};let pb=!1;const bL=e=>{pb||(mL(),pb=!0),e.l_desc=new Sg(e.dyn_ltree,l5),e.d_desc=new Sg(e.dyn_dtree,c5),e.bl_desc=new Sg(e.bl_tree,u5),e.bi_buf=0,e.bi_valid=0,p5(e)},g5=(e,t,r,n)=>{oo(e,(sL<<1)+(n?1:0),3),m5(e),J0(e,r),J0(e,~r),r&&e.pending_buf.set(e.window.subarray(t,t+r),e.pending),e.pending+=r},_L=e=>{oo(e,r5<<1,3),Lc(e,jx,ru),fL(e)},yL=(e,t,r,n)=>{let a,i,l=0;e.level>0?(e.strm.data_type===iL&&(e.strm.data_type=vL(e)),j1(e,e.l_desc),j1(e,e.d_desc),l=gL(e),a=e.opt_len+3+7>>>3,i=e.static_len+3+7>>>3,i<=a&&(a=i)):a=i=r+5,r+4<=a&&t!==-1?g5(e,t,r,n):e.strategy===aL||i===a?(oo(e,(r5<<1)+(n?1:0),3),db(e,ru,T0)):(oo(e,(oL<<1)+(n?1:0),3),xL(e,e.l_desc.max_code+1,e.d_desc.max_code+1,l+1),db(e,e.dyn_ltree,e.dyn_dtree)),p5(e),n&&m5(e)},wL=(e,t,r)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=r,t===0?e.dyn_ltree[r*2]++:(e.matches++,t--,e.dyn_ltree[(X0[r]+ff+1)*2]++,e.dyn_dtree[d5(t)*2]++),e.sym_next===e.sym_end);var SL=bL,NL=g5,jL=yL,EL=wL,kL=_L,AL={_tr_init:SL,_tr_stored_block:NL,_tr_flush_block:jL,_tr_tally:EL,_tr_align:kL};const CL=(e,t,r,n)=>{let a=e&65535|0,i=e>>>16&65535|0,l=0;for(;r!==0;){l=r>2e3?2e3:r,r-=l;do a=a+t[n++]|0,i=i+a|0;while(--l);a%=65521,i%=65521}return a|i<<16|0};var Z0=CL;const TL=()=>{let e,t=[];for(var r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=e&1?3988292384^e>>>1:e>>>1;t[r]=e}return t},PL=new Uint32Array(TL()),LL=(e,t,r,n)=>{const a=PL,i=n+r;e^=-1;for(let l=n;l<i;l++)e=e>>>8^a[(e^t[l])&255];return e^-1};var Ci=LL,Uh={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},pf={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:RL,_tr_stored_block:E1,_tr_flush_block:FL,_tr_tally:Vu,_tr_align:OL}=AL,{Z_NO_FLUSH:Gu,Z_PARTIAL_FLUSH:IL,Z_FULL_FLUSH:DL,Z_FINISH:xl,Z_BLOCK:mb,Z_OK:Ji,Z_STREAM_END:gb,Z_STREAM_ERROR:Fc,Z_DATA_ERROR:BL,Z_BUF_ERROR:jg,Z_DEFAULT_COMPRESSION:ML,Z_FILTERED:UL,Z_HUFFMAN_ONLY:tp,Z_RLE:$L,Z_FIXED:zL,Z_DEFAULT_STRATEGY:qL,Z_UNKNOWN:HL,Z_DEFLATED:lm}=pf,WL=9,VL=15,GL=8,KL=29,YL=256,k1=YL+1+KL,XL=30,JL=19,ZL=2*k1+1,QL=15,Vr=3,Hu=258,Oc=Hu+Vr+1,eR=32,$h=42,kx=57,A1=69,C1=73,T1=91,P1=103,Ad=113,b0=666,Bs=1,Yh=2,Dd=3,Xh=4,tR=3,Cd=(e,t)=>(e.msg=Uh[t],t),xb=e=>e*2-(e>4?9:0),$u=e=>{let t=e.length;for(;--t>=0;)e[t]=0},rR=e=>{let t,r,n,a=e.w_size;t=e.hash_size,n=t;do r=e.head[--n],e.head[n]=r>=a?r-a:0;while(--t);t=a,n=t;do r=e.prev[--n],e.prev[n]=r>=a?r-a:0;while(--t)};let nR=(e,t,r)=>(t<<e.hash_shift^r)&e.hash_mask,Ku=nR;const Io=e=>{const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),r!==0&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+r),e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,t.pending===0&&(t.pending_out=0))},Ho=(e,t)=>{FL(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Io(e.strm)},xn=(e,t)=>{e.pending_buf[e.pending++]=t},g0=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=t&255},L1=(e,t,r,n)=>{let a=e.avail_in;return a>n&&(a=n),a===0?0:(e.avail_in-=a,t.set(e.input.subarray(e.next_in,e.next_in+a),r),e.state.wrap===1?e.adler=Z0(e.adler,t,a,r):e.state.wrap===2&&(e.adler=Ci(e.adler,t,a,r)),e.next_in+=a,e.total_in+=a,a)},x5=(e,t)=>{let r=e.max_chain_length,n=e.strstart,a,i,l=e.prev_length,c=e.nice_match;const d=e.strstart>e.w_size-Oc?e.strstart-(e.w_size-Oc):0,h=e.window,p=e.w_mask,f=e.prev,b=e.strstart+Hu;let g=h[n+l-1],S=h[n+l];e.prev_length>=e.good_match&&(r>>=2),c>e.lookahead&&(c=e.lookahead);do if(a=t,!(h[a+l]!==S||h[a+l-1]!==g||h[a]!==h[n]||h[++a]!==h[n+1])){n+=2,a++;do;while(h[++n]===h[++a]&&h[++n]===h[++a]&&h[++n]===h[++a]&&h[++n]===h[++a]&&h[++n]===h[++a]&&h[++n]===h[++a]&&h[++n]===h[++a]&&h[++n]===h[++a]&&n<b);if(i=Hu-(b-n),n=b-Hu,i>l){if(e.match_start=t,l=i,i>=c)break;g=h[n+l-1],S=h[n+l]}}while((t=f[t&p])>d&&--r!==0);return l<=e.lookahead?l:e.lookahead},zh=e=>{const t=e.w_size;let r,n,a;do{if(n=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-Oc)&&(e.window.set(e.window.subarray(t,t+t-n),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),rR(e),n+=t),e.strm.avail_in===0)break;if(r=L1(e.strm,e.window,e.strstart+e.lookahead,n),e.lookahead+=r,e.lookahead+e.insert>=Vr)for(a=e.strstart-e.insert,e.ins_h=e.window[a],e.ins_h=Ku(e,e.ins_h,e.window[a+1]);e.insert&&(e.ins_h=Ku(e,e.ins_h,e.window[a+Vr-1]),e.prev[a&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=a,a++,e.insert--,!(e.lookahead+e.insert<Vr)););}while(e.lookahead<Oc&&e.strm.avail_in!==0)},v5=(e,t)=>{let r=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,n,a,i,l=0,c=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i||(i=e.strm.avail_out-i,a=e.strstart-e.block_start,n>a+e.strm.avail_in&&(n=a+e.strm.avail_in),n>i&&(n=i),n<r&&(n===0&&t!==xl||t===Gu||n!==a+e.strm.avail_in)))break;l=t===xl&&n===a+e.strm.avail_in?1:0,E1(e,0,0,l),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,Io(e.strm),a&&(a>n&&(a=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+a),e.strm.next_out),e.strm.next_out+=a,e.strm.avail_out-=a,e.strm.total_out+=a,e.block_start+=a,n-=a),n&&(L1(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(l===0);return c-=e.strm.avail_in,c&&(c>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=c&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-c,e.strm.next_in),e.strstart),e.strstart+=c,e.insert+=c>e.w_size-e.insert?e.w_size-e.insert:c),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),l?Xh:t!==Gu&&t!==xl&&e.strm.avail_in===0&&e.strstart===e.block_start?Yh:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(L1(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,r=i>e.w_size?e.w_size:i,a=e.strstart-e.block_start,(a>=r||(a||t===xl)&&t!==Gu&&e.strm.avail_in===0&&a<=i)&&(n=a>i?i:a,l=t===xl&&e.strm.avail_in===0&&n===a?1:0,E1(e,e.block_start,n,l),e.block_start+=n,Io(e.strm)),l?Dd:Bs)},Eg=(e,t)=>{let r,n;for(;;){if(e.lookahead<Oc){if(zh(e),e.lookahead<Oc&&t===Gu)return Bs;if(e.lookahead===0)break}if(r=0,e.lookahead>=Vr&&(e.ins_h=Ku(e,e.ins_h,e.window[e.strstart+Vr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),r!==0&&e.strstart-r<=e.w_size-Oc&&(e.match_length=x5(e,r)),e.match_length>=Vr)if(n=Vu(e,e.strstart-e.match_start,e.match_length-Vr),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Vr){e.match_length--;do e.strstart++,e.ins_h=Ku(e,e.ins_h,e.window[e.strstart+Vr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart;while(--e.match_length!==0);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=Ku(e,e.ins_h,e.window[e.strstart+1]);else n=Vu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(Ho(e,!1),e.strm.avail_out===0))return Bs}return e.insert=e.strstart<Vr-1?e.strstart:Vr-1,t===xl?(Ho(e,!0),e.strm.avail_out===0?Dd:Xh):e.sym_next&&(Ho(e,!1),e.strm.avail_out===0)?Bs:Yh},mh=(e,t)=>{let r,n,a;for(;;){if(e.lookahead<Oc){if(zh(e),e.lookahead<Oc&&t===Gu)return Bs;if(e.lookahead===0)break}if(r=0,e.lookahead>=Vr&&(e.ins_h=Ku(e,e.ins_h,e.window[e.strstart+Vr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Vr-1,r!==0&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-Oc&&(e.match_length=x5(e,r),e.match_length<=5&&(e.strategy===UL||e.match_length===Vr&&e.strstart-e.match_start>4096)&&(e.match_length=Vr-1)),e.prev_length>=Vr&&e.match_length<=e.prev_length){a=e.strstart+e.lookahead-Vr,n=Vu(e,e.strstart-1-e.prev_match,e.prev_length-Vr),e.lookahead-=e.prev_length-1,e.prev_length-=2;do++e.strstart<=a&&(e.ins_h=Ku(e,e.ins_h,e.window[e.strstart+Vr-1]),r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart);while(--e.prev_length!==0);if(e.match_available=0,e.match_length=Vr-1,e.strstart++,n&&(Ho(e,!1),e.strm.avail_out===0))return Bs}else if(e.match_available){if(n=Vu(e,0,e.window[e.strstart-1]),n&&Ho(e,!1),e.strstart++,e.lookahead--,e.strm.avail_out===0)return Bs}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Vu(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Vr-1?e.strstart:Vr-1,t===xl?(Ho(e,!0),e.strm.avail_out===0?Dd:Xh):e.sym_next&&(Ho(e,!1),e.strm.avail_out===0)?Bs:Yh},aR=(e,t)=>{let r,n,a,i;const l=e.window;for(;;){if(e.lookahead<=Hu){if(zh(e),e.lookahead<=Hu&&t===Gu)return Bs;if(e.lookahead===0)break}if(e.match_length=0,e.lookahead>=Vr&&e.strstart>0&&(a=e.strstart-1,n=l[a],n===l[++a]&&n===l[++a]&&n===l[++a])){i=e.strstart+Hu;do;while(n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&n===l[++a]&&a<i);e.match_length=Hu-(i-a),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Vr?(r=Vu(e,1,e.match_length-Vr),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Vu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(Ho(e,!1),e.strm.avail_out===0))return Bs}return e.insert=0,t===xl?(Ho(e,!0),e.strm.avail_out===0?Dd:Xh):e.sym_next&&(Ho(e,!1),e.strm.avail_out===0)?Bs:Yh},iR=(e,t)=>{let r;for(;;){if(e.lookahead===0&&(zh(e),e.lookahead===0)){if(t===Gu)return Bs;break}if(e.match_length=0,r=Vu(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(Ho(e,!1),e.strm.avail_out===0))return Bs}return e.insert=0,t===xl?(Ho(e,!0),e.strm.avail_out===0?Dd:Xh):e.sym_next&&(Ho(e,!1),e.strm.avail_out===0)?Bs:Yh};function Ec(e,t,r,n,a){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=a}const _0=[new Ec(0,0,0,0,v5),new Ec(4,4,8,4,Eg),new Ec(4,5,16,8,Eg),new Ec(4,6,32,32,Eg),new Ec(4,4,16,16,mh),new Ec(8,16,32,32,mh),new Ec(8,16,128,128,mh),new Ec(8,32,128,256,mh),new Ec(32,128,258,1024,mh),new Ec(32,258,258,4096,mh)],sR=e=>{e.window_size=2*e.w_size,$u(e.head),e.max_lazy_match=_0[e.level].max_lazy,e.good_match=_0[e.level].good_length,e.nice_match=_0[e.level].nice_length,e.max_chain_length=_0[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Vr-1,e.match_available=0,e.ins_h=0};function oR(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=lm,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(ZL*2),this.dyn_dtree=new Uint16Array((2*XL+1)*2),this.bl_tree=new Uint16Array((2*JL+1)*2),$u(this.dyn_ltree),$u(this.dyn_dtree),$u(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(QL+1),this.heap=new Uint16Array(2*k1+1),$u(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*k1+1),$u(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const mf=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==$h&&t.status!==kx&&t.status!==A1&&t.status!==C1&&t.status!==T1&&t.status!==P1&&t.status!==Ad&&t.status!==b0?1:0},b5=e=>{if(mf(e))return Cd(e,Fc);e.total_in=e.total_out=0,e.data_type=HL;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?kx:t.wrap?$h:Ad,e.adler=t.wrap===2?0:1,t.last_flush=-2,RL(t),Ji},_5=e=>{const t=b5(e);return t===Ji&&sR(e.state),t},lR=(e,t)=>mf(e)||e.state.wrap!==2?Fc:(e.state.gzhead=t,Ji),y5=(e,t,r,n,a,i)=>{if(!e)return Fc;let l=1;if(t===ML&&(t=6),n<0?(l=0,n=-n):n>15&&(l=2,n-=16),a<1||a>WL||r!==lm||n<8||n>15||t<0||t>9||i<0||i>zL||n===8&&l!==1)return Cd(e,Fc);n===8&&(n=9);const c=new oR;return e.state=c,c.strm=e,c.status=$h,c.wrap=l,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=a+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+Vr-1)/Vr),c.window=new Uint8Array(c.w_size*2),c.head=new Uint16Array(c.hash_size),c.prev=new Uint16Array(c.w_size),c.lit_bufsize=1<<a+6,c.pending_buf_size=c.lit_bufsize*4,c.pending_buf=new Uint8Array(c.pending_buf_size),c.sym_buf=c.lit_bufsize,c.sym_end=(c.lit_bufsize-1)*3,c.level=t,c.strategy=i,c.method=r,_5(e)},cR=(e,t)=>y5(e,t,lm,VL,GL,qL),uR=(e,t)=>{if(mf(e)||t>mb||t<0)return e?Cd(e,Fc):Fc;const r=e.state;if(!e.output||e.avail_in!==0&&!e.input||r.status===b0&&t!==xl)return Cd(e,e.avail_out===0?jg:Fc);const n=r.last_flush;if(r.last_flush=t,r.pending!==0){if(Io(e),e.avail_out===0)return r.last_flush=-1,Ji}else if(e.avail_in===0&&xb(t)<=xb(n)&&t!==xl)return Cd(e,jg);if(r.status===b0&&e.avail_in!==0)return Cd(e,jg);if(r.status===$h&&r.wrap===0&&(r.status=Ad),r.status===$h){let a=lm+(r.w_bits-8<<4)<<8,i=-1;if(r.strategy>=tp||r.level<2?i=0:r.level<6?i=1:r.level===6?i=2:i=3,a|=i<<6,r.strstart!==0&&(a|=eR),a+=31-a%31,g0(r,a),r.strstart!==0&&(g0(r,e.adler>>>16),g0(r,e.adler&65535)),e.adler=1,r.status=Ad,Io(e),r.pending!==0)return r.last_flush=-1,Ji}if(r.status===kx){if(e.adler=0,xn(r,31),xn(r,139),xn(r,8),r.gzhead)xn(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),xn(r,r.gzhead.time&255),xn(r,r.gzhead.time>>8&255),xn(r,r.gzhead.time>>16&255),xn(r,r.gzhead.time>>24&255),xn(r,r.level===9?2:r.strategy>=tp||r.level<2?4:0),xn(r,r.gzhead.os&255),r.gzhead.extra&&r.gzhead.extra.length&&(xn(r,r.gzhead.extra.length&255),xn(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=Ci(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=A1;else if(xn(r,0),xn(r,0),xn(r,0),xn(r,0),xn(r,0),xn(r,r.level===9?2:r.strategy>=tp||r.level<2?4:0),xn(r,tR),r.status=Ad,Io(e),r.pending!==0)return r.last_flush=-1,Ji}if(r.status===A1){if(r.gzhead.extra){let a=r.pending,i=(r.gzhead.extra.length&65535)-r.gzindex;for(;r.pending+i>r.pending_buf_size;){let c=r.pending_buf_size-r.pending;if(r.pending_buf.set(r.gzhead.extra.subarray(r.gzindex,r.gzindex+c),r.pending),r.pending=r.pending_buf_size,r.gzhead.hcrc&&r.pending>a&&(e.adler=Ci(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex+=c,Io(e),r.pending!==0)return r.last_flush=-1,Ji;a=0,i-=c}let l=new Uint8Array(r.gzhead.extra);r.pending_buf.set(l.subarray(r.gzindex,r.gzindex+i),r.pending),r.pending+=i,r.gzhead.hcrc&&r.pending>a&&(e.adler=Ci(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=C1}if(r.status===C1){if(r.gzhead.name){let a=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(e.adler=Ci(e.adler,r.pending_buf,r.pending-a,a)),Io(e),r.pending!==0)return r.last_flush=-1,Ji;a=0}r.gzindex<r.gzhead.name.length?i=r.gzhead.name.charCodeAt(r.gzindex++)&255:i=0,xn(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>a&&(e.adler=Ci(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex=0}r.status=T1}if(r.status===T1){if(r.gzhead.comment){let a=r.pending,i;do{if(r.pending===r.pending_buf_size){if(r.gzhead.hcrc&&r.pending>a&&(e.adler=Ci(e.adler,r.pending_buf,r.pending-a,a)),Io(e),r.pending!==0)return r.last_flush=-1,Ji;a=0}r.gzindex<r.gzhead.comment.length?i=r.gzhead.comment.charCodeAt(r.gzindex++)&255:i=0,xn(r,i)}while(i!==0);r.gzhead.hcrc&&r.pending>a&&(e.adler=Ci(e.adler,r.pending_buf,r.pending-a,a))}r.status=P1}if(r.status===P1){if(r.gzhead.hcrc){if(r.pending+2>r.pending_buf_size&&(Io(e),r.pending!==0))return r.last_flush=-1,Ji;xn(r,e.adler&255),xn(r,e.adler>>8&255),e.adler=0}if(r.status=Ad,Io(e),r.pending!==0)return r.last_flush=-1,Ji}if(e.avail_in!==0||r.lookahead!==0||t!==Gu&&r.status!==b0){let a=r.level===0?v5(r,t):r.strategy===tp?iR(r,t):r.strategy===$L?aR(r,t):_0[r.level].func(r,t);if((a===Dd||a===Xh)&&(r.status=b0),a===Bs||a===Dd)return e.avail_out===0&&(r.last_flush=-1),Ji;if(a===Yh&&(t===IL?OL(r):t!==mb&&(E1(r,0,0,!1),t===DL&&($u(r.head),r.lookahead===0&&(r.strstart=0,r.block_start=0,r.insert=0))),Io(e),e.avail_out===0))return r.last_flush=-1,Ji}return t!==xl?Ji:r.wrap<=0?gb:(r.wrap===2?(xn(r,e.adler&255),xn(r,e.adler>>8&255),xn(r,e.adler>>16&255),xn(r,e.adler>>24&255),xn(r,e.total_in&255),xn(r,e.total_in>>8&255),xn(r,e.total_in>>16&255),xn(r,e.total_in>>24&255)):(g0(r,e.adler>>>16),g0(r,e.adler&65535)),Io(e),r.wrap>0&&(r.wrap=-r.wrap),r.pending!==0?Ji:gb)},dR=e=>{if(mf(e))return Fc;const t=e.state.status;return e.state=null,t===Ad?Cd(e,BL):Ji},hR=(e,t)=>{let r=t.length;if(mf(e))return Fc;const n=e.state,a=n.wrap;if(a===2||a===1&&n.status!==$h||n.lookahead)return Fc;if(a===1&&(e.adler=Z0(e.adler,t,r,0)),n.wrap=0,r>=n.w_size){a===0&&($u(n.head),n.strstart=0,n.block_start=0,n.insert=0);let d=new Uint8Array(n.w_size);d.set(t.subarray(r-n.w_size,r),0),t=d,r=n.w_size}const i=e.avail_in,l=e.next_in,c=e.input;for(e.avail_in=r,e.next_in=0,e.input=t,zh(n);n.lookahead>=Vr;){let d=n.strstart,h=n.lookahead-(Vr-1);do n.ins_h=Ku(n,n.ins_h,n.window[d+Vr-1]),n.prev[d&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=d,d++;while(--h);n.strstart=d,n.lookahead=Vr-1,zh(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=Vr-1,n.match_available=0,e.next_in=l,e.input=c,e.avail_in=i,n.wrap=a,Ji};var fR=cR,pR=y5,mR=_5,gR=b5,xR=lR,vR=uR,bR=dR,_R=hR,yR="pako deflate (from Nodeca project)",P0={deflateInit:fR,deflateInit2:pR,deflateReset:mR,deflateResetKeep:gR,deflateSetHeader:xR,deflate:vR,deflateEnd:bR,deflateSetDictionary:_R,deflateInfo:yR};const wR=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var SR=function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const r=t.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)wR(r,n)&&(e[n]=r[n])}}return e},NR=e=>{let t=0;for(let n=0,a=e.length;n<a;n++)t+=e[n].length;const r=new Uint8Array(t);for(let n=0,a=0,i=e.length;n<i;n++){let l=e[n];r.set(l,a),a+=l.length}return r},cm={assign:SR,flattenChunks:NR};let w5=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{w5=!1}const Q0=new Uint8Array(256);for(let e=0;e<256;e++)Q0[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Q0[254]=Q0[254]=1;var jR=e=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(e);let t,r,n,a,i,l=e.length,c=0;for(a=0;a<l;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),c+=r<128?1:r<2048?2:r<65536?3:4;for(t=new Uint8Array(c),i=0,a=0;i<c;a++)r=e.charCodeAt(a),(r&64512)===55296&&a+1<l&&(n=e.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?t[i++]=r:r<2048?(t[i++]=192|r>>>6,t[i++]=128|r&63):r<65536?(t[i++]=224|r>>>12,t[i++]=128|r>>>6&63,t[i++]=128|r&63):(t[i++]=240|r>>>18,t[i++]=128|r>>>12&63,t[i++]=128|r>>>6&63,t[i++]=128|r&63);return t};const ER=(e,t)=>{if(t<65534&&e.subarray&&w5)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let r="";for(let n=0;n<t;n++)r+=String.fromCharCode(e[n]);return r};var kR=(e,t)=>{const r=t||e.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(e.subarray(0,t));let n,a;const i=new Array(r*2);for(a=0,n=0;n<r;){let l=e[n++];if(l<128){i[a++]=l;continue}let c=Q0[l];if(c>4){i[a++]=65533,n+=c-1;continue}for(l&=c===2?31:c===3?15:7;c>1&&n<r;)l=l<<6|e[n++]&63,c--;if(c>1){i[a++]=65533;continue}l<65536?i[a++]=l:(l-=65536,i[a++]=55296|l>>10&1023,i[a++]=56320|l&1023)}return ER(i,a)},AR=(e,t)=>{t=t||e.length,t>e.length&&(t=e.length);let r=t-1;for(;r>=0&&(e[r]&192)===128;)r--;return r<0||r===0?t:r+Q0[e[r]]>t?r:t},ef={string2buf:jR,buf2string:kR,utf8border:AR};function CR(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var S5=CR;const N5=Object.prototype.toString,{Z_NO_FLUSH:TR,Z_SYNC_FLUSH:PR,Z_FULL_FLUSH:LR,Z_FINISH:RR,Z_OK:zp,Z_STREAM_END:FR,Z_DEFAULT_COMPRESSION:OR,Z_DEFAULT_STRATEGY:IR,Z_DEFLATED:DR}=pf;function Ax(e){this.options=cm.assign({level:OR,method:DR,chunkSize:16384,windowBits:15,memLevel:8,strategy:IR},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S5,this.strm.avail_out=0;let r=P0.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==zp)throw new Error(Uh[r]);if(t.header&&P0.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=ef.string2buf(t.dictionary):N5.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,r=P0.deflateSetDictionary(this.strm,n),r!==zp)throw new Error(Uh[r]);this._dict_set=!0}}Ax.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize;let a,i;if(this.ended)return!1;for(t===~~t?i=t:i=t===!0?RR:TR,typeof e=="string"?r.input=ef.string2buf(e):N5.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){if(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),(i===PR||i===LR)&&r.avail_out<=6){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(a=P0.deflate(r,i),a===FR)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),a=P0.deflateEnd(this.strm),this.onEnd(a),this.ended=!0,a===zp;if(r.avail_out===0){this.onData(r.output);continue}if(i>0&&r.next_out>0){this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;continue}if(r.avail_in===0)break}return!0};Ax.prototype.onData=function(e){this.chunks.push(e)};Ax.prototype.onEnd=function(e){e===zp&&(this.result=cm.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};const rp=16209,BR=16191;var MR=function(t,r){let n,a,i,l,c,d,h,p,f,b,g,S,y,N,A,P,T,R,q,te,G,H,M,re;const I=t.state;n=t.next_in,M=t.input,a=n+(t.avail_in-5),i=t.next_out,re=t.output,l=i-(r-t.avail_out),c=i+(t.avail_out-257),d=I.dmax,h=I.wsize,p=I.whave,f=I.wnext,b=I.window,g=I.hold,S=I.bits,y=I.lencode,N=I.distcode,A=(1<<I.lenbits)-1,P=(1<<I.distbits)-1;e:do{S<15&&(g+=M[n++]<<S,S+=8,g+=M[n++]<<S,S+=8),T=y[g&A];t:for(;;){if(R=T>>>24,g>>>=R,S-=R,R=T>>>16&255,R===0)re[i++]=T&65535;else if(R&16){q=T&65535,R&=15,R&&(S<R&&(g+=M[n++]<<S,S+=8),q+=g&(1<<R)-1,g>>>=R,S-=R),S<15&&(g+=M[n++]<<S,S+=8,g+=M[n++]<<S,S+=8),T=N[g&P];r:for(;;){if(R=T>>>24,g>>>=R,S-=R,R=T>>>16&255,R&16){if(te=T&65535,R&=15,S<R&&(g+=M[n++]<<S,S+=8,S<R&&(g+=M[n++]<<S,S+=8)),te+=g&(1<<R)-1,te>d){t.msg="invalid distance too far back",I.mode=rp;break e}if(g>>>=R,S-=R,R=i-l,te>R){if(R=te-R,R>p&&I.sane){t.msg="invalid distance too far back",I.mode=rp;break e}if(G=0,H=b,f===0){if(G+=h-R,R<q){q-=R;do re[i++]=b[G++];while(--R);G=i-te,H=re}}else if(f<R){if(G+=h+f-R,R-=f,R<q){q-=R;do re[i++]=b[G++];while(--R);if(G=0,f<q){R=f,q-=R;do re[i++]=b[G++];while(--R);G=i-te,H=re}}}else if(G+=f-R,R<q){q-=R;do re[i++]=b[G++];while(--R);G=i-te,H=re}for(;q>2;)re[i++]=H[G++],re[i++]=H[G++],re[i++]=H[G++],q-=3;q&&(re[i++]=H[G++],q>1&&(re[i++]=H[G++]))}else{G=i-te;do re[i++]=re[G++],re[i++]=re[G++],re[i++]=re[G++],q-=3;while(q>2);q&&(re[i++]=re[G++],q>1&&(re[i++]=re[G++]))}}else if(R&64){t.msg="invalid distance code",I.mode=rp;break e}else{T=N[(T&65535)+(g&(1<<R)-1)];continue r}break}}else if(R&64)if(R&32){I.mode=BR;break e}else{t.msg="invalid literal/length code",I.mode=rp;break e}else{T=y[(T&65535)+(g&(1<<R)-1)];continue t}break}}while(n<a&&i<c);q=S>>3,n-=q,S-=q<<3,g&=(1<<S)-1,t.next_in=n,t.next_out=i,t.avail_in=n<a?5+(a-n):5-(n-a),t.avail_out=i<c?257+(c-i):257-(i-c),I.hold=g,I.bits=S};const gh=15,vb=852,bb=592,_b=0,kg=1,yb=2,UR=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),$R=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),zR=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),qR=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),HR=(e,t,r,n,a,i,l,c)=>{const d=c.bits;let h=0,p=0,f=0,b=0,g=0,S=0,y=0,N=0,A=0,P=0,T,R,q,te,G,H=null,M;const re=new Uint16Array(gh+1),I=new Uint16Array(gh+1);let W=null,ae,ge,_e;for(h=0;h<=gh;h++)re[h]=0;for(p=0;p<n;p++)re[t[r+p]]++;for(g=d,b=gh;b>=1&&re[b]===0;b--);if(g>b&&(g=b),b===0)return a[i++]=1<<24|64<<16|0,a[i++]=1<<24|64<<16|0,c.bits=1,0;for(f=1;f<b&&re[f]===0;f++);for(g<f&&(g=f),N=1,h=1;h<=gh;h++)if(N<<=1,N-=re[h],N<0)return-1;if(N>0&&(e===_b||b!==1))return-1;for(I[1]=0,h=1;h<gh;h++)I[h+1]=I[h]+re[h];for(p=0;p<n;p++)t[r+p]!==0&&(l[I[t[r+p]]++]=p);if(e===_b?(H=W=l,M=20):e===kg?(H=UR,W=$R,M=257):(H=zR,W=qR,M=0),P=0,p=0,h=f,G=i,S=g,y=0,q=-1,A=1<<g,te=A-1,e===kg&&A>vb||e===yb&&A>bb)return 1;for(;;){ae=h-y,l[p]+1<M?(ge=0,_e=l[p]):l[p]>=M?(ge=W[l[p]-M],_e=H[l[p]-M]):(ge=96,_e=0),T=1<<h-y,R=1<<S,f=R;do R-=T,a[G+(P>>y)+R]=ae<<24|ge<<16|_e|0;while(R!==0);for(T=1<<h-1;P&T;)T>>=1;if(T!==0?(P&=T-1,P+=T):P=0,p++,--re[h]===0){if(h===b)break;h=t[r+l[p]]}if(h>g&&(P&te)!==q){for(y===0&&(y=g),G+=f,S=h-y,N=1<<S;S+y<b&&(N-=re[S+y],!(N<=0));)S++,N<<=1;if(A+=1<<S,e===kg&&A>vb||e===yb&&A>bb)return 1;q=P&te,a[q]=g<<24|S<<16|G-i|0}}return P!==0&&(a[G+P]=h-y<<24|64<<16|0),c.bits=g,0};var L0=HR;const WR=0,j5=1,E5=2,{Z_FINISH:wb,Z_BLOCK:VR,Z_TREES:np,Z_OK:Bd,Z_STREAM_END:GR,Z_NEED_DICT:KR,Z_STREAM_ERROR:vl,Z_DATA_ERROR:k5,Z_MEM_ERROR:A5,Z_BUF_ERROR:YR,Z_DEFLATED:Sb}=pf,um=16180,Nb=16181,jb=16182,Eb=16183,kb=16184,Ab=16185,Cb=16186,Tb=16187,Pb=16188,Lb=16189,qp=16190,eu=16191,Ag=16192,Rb=16193,Cg=16194,Fb=16195,Ob=16196,Ib=16197,Db=16198,ap=16199,ip=16200,Bb=16201,Mb=16202,Ub=16203,$b=16204,zb=16205,Tg=16206,qb=16207,Hb=16208,oa=16209,C5=16210,T5=16211,XR=852,JR=592,ZR=15,QR=ZR,Wb=e=>(e>>>24&255)+(e>>>8&65280)+((e&65280)<<8)+((e&255)<<24);function eF(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Vd=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<um||t.mode>T5?1:0},P5=e=>{if(Vd(e))return vl;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=t.wrap&1),t.mode=um,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(XR),t.distcode=t.distdyn=new Int32Array(JR),t.sane=1,t.back=-1,Bd},L5=e=>{if(Vd(e))return vl;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,P5(e)},R5=(e,t)=>{let r;if(Vd(e))return vl;const n=e.state;return t<0?(r=0,t=-t):(r=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?vl:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,L5(e))},F5=(e,t)=>{if(!e)return vl;const r=new eF;e.state=r,r.strm=e,r.window=null,r.mode=um;const n=R5(e,t);return n!==Bd&&(e.state=null),n},tF=e=>F5(e,QR);let Vb=!0,Pg,Lg;const rF=e=>{if(Vb){Pg=new Int32Array(512),Lg=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(L0(j5,e.lens,0,288,Pg,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;L0(E5,e.lens,0,32,Lg,0,e.work,{bits:5}),Vb=!1}e.lencode=Pg,e.lenbits=9,e.distcode=Lg,e.distbits=5},O5=(e,t,r,n)=>{let a;const i=e.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(t.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(a=i.wsize-i.wnext,a>n&&(a=n),i.window.set(t.subarray(r-n,r-n+a),i.wnext),n-=a,n?(i.window.set(t.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=a,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=a))),0},nF=(e,t)=>{let r,n,a,i,l,c,d,h,p,f,b,g,S,y,N=0,A,P,T,R,q,te,G,H;const M=new Uint8Array(4);let re,I;const W=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Vd(e)||!e.output||!e.input&&e.avail_in!==0)return vl;r=e.state,r.mode===eu&&(r.mode=Ag),l=e.next_out,a=e.output,d=e.avail_out,i=e.next_in,n=e.input,c=e.avail_in,h=r.hold,p=r.bits,f=c,b=d,H=Bd;e:for(;;)switch(r.mode){case um:if(r.wrap===0){r.mode=Ag;break}for(;p<16;){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}if(r.wrap&2&&h===35615){r.wbits===0&&(r.wbits=15),r.check=0,M[0]=h&255,M[1]=h>>>8&255,r.check=Ci(r.check,M,2,0),h=0,p=0,r.mode=Nb;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((h&255)<<8)+(h>>8))%31){e.msg="incorrect header check",r.mode=oa;break}if((h&15)!==Sb){e.msg="unknown compression method",r.mode=oa;break}if(h>>>=4,p-=4,G=(h&15)+8,r.wbits===0&&(r.wbits=G),G>15||G>r.wbits){e.msg="invalid window size",r.mode=oa;break}r.dmax=1<<r.wbits,r.flags=0,e.adler=r.check=1,r.mode=h&512?Lb:eu,h=0,p=0;break;case Nb:for(;p<16;){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}if(r.flags=h,(r.flags&255)!==Sb){e.msg="unknown compression method",r.mode=oa;break}if(r.flags&57344){e.msg="unknown header flags set",r.mode=oa;break}r.head&&(r.head.text=h>>8&1),r.flags&512&&r.wrap&4&&(M[0]=h&255,M[1]=h>>>8&255,r.check=Ci(r.check,M,2,0)),h=0,p=0,r.mode=jb;case jb:for(;p<32;){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}r.head&&(r.head.time=h),r.flags&512&&r.wrap&4&&(M[0]=h&255,M[1]=h>>>8&255,M[2]=h>>>16&255,M[3]=h>>>24&255,r.check=Ci(r.check,M,4,0)),h=0,p=0,r.mode=Eb;case Eb:for(;p<16;){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}r.head&&(r.head.xflags=h&255,r.head.os=h>>8),r.flags&512&&r.wrap&4&&(M[0]=h&255,M[1]=h>>>8&255,r.check=Ci(r.check,M,2,0)),h=0,p=0,r.mode=kb;case kb:if(r.flags&1024){for(;p<16;){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}r.length=h,r.head&&(r.head.extra_len=h),r.flags&512&&r.wrap&4&&(M[0]=h&255,M[1]=h>>>8&255,r.check=Ci(r.check,M,2,0)),h=0,p=0}else r.head&&(r.head.extra=null);r.mode=Ab;case Ab:if(r.flags&1024&&(g=r.length,g>c&&(g=c),g&&(r.head&&(G=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+g),G)),r.flags&512&&r.wrap&4&&(r.check=Ci(r.check,n,g,i)),c-=g,i+=g,r.length-=g),r.length))break e;r.length=0,r.mode=Cb;case Cb:if(r.flags&2048){if(c===0)break e;g=0;do G=n[i+g++],r.head&&G&&r.length<65536&&(r.head.name+=String.fromCharCode(G));while(G&&g<c);if(r.flags&512&&r.wrap&4&&(r.check=Ci(r.check,n,g,i)),c-=g,i+=g,G)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=Tb;case Tb:if(r.flags&4096){if(c===0)break e;g=0;do G=n[i+g++],r.head&&G&&r.length<65536&&(r.head.comment+=String.fromCharCode(G));while(G&&g<c);if(r.flags&512&&r.wrap&4&&(r.check=Ci(r.check,n,g,i)),c-=g,i+=g,G)break e}else r.head&&(r.head.comment=null);r.mode=Pb;case Pb:if(r.flags&512){for(;p<16;){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}if(r.wrap&4&&h!==(r.check&65535)){e.msg="header crc mismatch",r.mode=oa;break}h=0,p=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=eu;break;case Lb:for(;p<32;){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}e.adler=r.check=Wb(h),h=0,p=0,r.mode=qp;case qp:if(r.havedict===0)return e.next_out=l,e.avail_out=d,e.next_in=i,e.avail_in=c,r.hold=h,r.bits=p,KR;e.adler=r.check=1,r.mode=eu;case eu:if(t===VR||t===np)break e;case Ag:if(r.last){h>>>=p&7,p-=p&7,r.mode=Tg;break}for(;p<3;){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}switch(r.last=h&1,h>>>=1,p-=1,h&3){case 0:r.mode=Rb;break;case 1:if(rF(r),r.mode=ap,t===np){h>>>=2,p-=2;break e}break;case 2:r.mode=Ob;break;case 3:e.msg="invalid block type",r.mode=oa}h>>>=2,p-=2;break;case Rb:for(h>>>=p&7,p-=p&7;p<32;){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}if((h&65535)!==(h>>>16^65535)){e.msg="invalid stored block lengths",r.mode=oa;break}if(r.length=h&65535,h=0,p=0,r.mode=Cg,t===np)break e;case Cg:r.mode=Fb;case Fb:if(g=r.length,g){if(g>c&&(g=c),g>d&&(g=d),g===0)break e;a.set(n.subarray(i,i+g),l),c-=g,i+=g,d-=g,l+=g,r.length-=g;break}r.mode=eu;break;case Ob:for(;p<14;){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}if(r.nlen=(h&31)+257,h>>>=5,p-=5,r.ndist=(h&31)+1,h>>>=5,p-=5,r.ncode=(h&15)+4,h>>>=4,p-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=oa;break}r.have=0,r.mode=Ib;case Ib:for(;r.have<r.ncode;){for(;p<3;){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}r.lens[W[r.have++]]=h&7,h>>>=3,p-=3}for(;r.have<19;)r.lens[W[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,re={bits:r.lenbits},H=L0(WR,r.lens,0,19,r.lencode,0,r.work,re),r.lenbits=re.bits,H){e.msg="invalid code lengths set",r.mode=oa;break}r.have=0,r.mode=Db;case Db:for(;r.have<r.nlen+r.ndist;){for(;N=r.lencode[h&(1<<r.lenbits)-1],A=N>>>24,P=N>>>16&255,T=N&65535,!(A<=p);){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}if(T<16)h>>>=A,p-=A,r.lens[r.have++]=T;else{if(T===16){for(I=A+2;p<I;){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}if(h>>>=A,p-=A,r.have===0){e.msg="invalid bit length repeat",r.mode=oa;break}G=r.lens[r.have-1],g=3+(h&3),h>>>=2,p-=2}else if(T===17){for(I=A+3;p<I;){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}h>>>=A,p-=A,G=0,g=3+(h&7),h>>>=3,p-=3}else{for(I=A+7;p<I;){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}h>>>=A,p-=A,G=0,g=11+(h&127),h>>>=7,p-=7}if(r.have+g>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=oa;break}for(;g--;)r.lens[r.have++]=G}}if(r.mode===oa)break;if(r.lens[256]===0){e.msg="invalid code -- missing end-of-block",r.mode=oa;break}if(r.lenbits=9,re={bits:r.lenbits},H=L0(j5,r.lens,0,r.nlen,r.lencode,0,r.work,re),r.lenbits=re.bits,H){e.msg="invalid literal/lengths set",r.mode=oa;break}if(r.distbits=6,r.distcode=r.distdyn,re={bits:r.distbits},H=L0(E5,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,re),r.distbits=re.bits,H){e.msg="invalid distances set",r.mode=oa;break}if(r.mode=ap,t===np)break e;case ap:r.mode=ip;case ip:if(c>=6&&d>=258){e.next_out=l,e.avail_out=d,e.next_in=i,e.avail_in=c,r.hold=h,r.bits=p,MR(e,b),l=e.next_out,a=e.output,d=e.avail_out,i=e.next_in,n=e.input,c=e.avail_in,h=r.hold,p=r.bits,r.mode===eu&&(r.back=-1);break}for(r.back=0;N=r.lencode[h&(1<<r.lenbits)-1],A=N>>>24,P=N>>>16&255,T=N&65535,!(A<=p);){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}if(P&&!(P&240)){for(R=A,q=P,te=T;N=r.lencode[te+((h&(1<<R+q)-1)>>R)],A=N>>>24,P=N>>>16&255,T=N&65535,!(R+A<=p);){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}h>>>=R,p-=R,r.back+=R}if(h>>>=A,p-=A,r.back+=A,r.length=T,P===0){r.mode=zb;break}if(P&32){r.back=-1,r.mode=eu;break}if(P&64){e.msg="invalid literal/length code",r.mode=oa;break}r.extra=P&15,r.mode=Bb;case Bb:if(r.extra){for(I=r.extra;p<I;){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}r.length+=h&(1<<r.extra)-1,h>>>=r.extra,p-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=Mb;case Mb:for(;N=r.distcode[h&(1<<r.distbits)-1],A=N>>>24,P=N>>>16&255,T=N&65535,!(A<=p);){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}if(!(P&240)){for(R=A,q=P,te=T;N=r.distcode[te+((h&(1<<R+q)-1)>>R)],A=N>>>24,P=N>>>16&255,T=N&65535,!(R+A<=p);){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}h>>>=R,p-=R,r.back+=R}if(h>>>=A,p-=A,r.back+=A,P&64){e.msg="invalid distance code",r.mode=oa;break}r.offset=T,r.extra=P&15,r.mode=Ub;case Ub:if(r.extra){for(I=r.extra;p<I;){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}r.offset+=h&(1<<r.extra)-1,h>>>=r.extra,p-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=oa;break}r.mode=$b;case $b:if(d===0)break e;if(g=b-d,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=oa;break}g>r.wnext?(g-=r.wnext,S=r.wsize-g):S=r.wnext-g,g>r.length&&(g=r.length),y=r.window}else y=a,S=l-r.offset,g=r.length;g>d&&(g=d),d-=g,r.length-=g;do a[l++]=y[S++];while(--g);r.length===0&&(r.mode=ip);break;case zb:if(d===0)break e;a[l++]=r.length,d--,r.mode=ip;break;case Tg:if(r.wrap){for(;p<32;){if(c===0)break e;c--,h|=n[i++]<<p,p+=8}if(b-=d,e.total_out+=b,r.total+=b,r.wrap&4&&b&&(e.adler=r.check=r.flags?Ci(r.check,a,b,l-b):Z0(r.check,a,b,l-b)),b=d,r.wrap&4&&(r.flags?h:Wb(h))!==r.check){e.msg="incorrect data check",r.mode=oa;break}h=0,p=0}r.mode=qb;case qb:if(r.wrap&&r.flags){for(;p<32;){if(c===0)break e;c--,h+=n[i++]<<p,p+=8}if(r.wrap&4&&h!==(r.total&4294967295)){e.msg="incorrect length check",r.mode=oa;break}h=0,p=0}r.mode=Hb;case Hb:H=GR;break e;case oa:H=k5;break e;case C5:return A5;case T5:default:return vl}return e.next_out=l,e.avail_out=d,e.next_in=i,e.avail_in=c,r.hold=h,r.bits=p,(r.wsize||b!==e.avail_out&&r.mode<oa&&(r.mode<Tg||t!==wb))&&O5(e,e.output,e.next_out,b-e.avail_out),f-=e.avail_in,b-=e.avail_out,e.total_in+=f,e.total_out+=b,r.total+=b,r.wrap&4&&b&&(e.adler=r.check=r.flags?Ci(r.check,a,b,e.next_out-b):Z0(r.check,a,b,e.next_out-b)),e.data_type=r.bits+(r.last?64:0)+(r.mode===eu?128:0)+(r.mode===ap||r.mode===Cg?256:0),(f===0&&b===0||t===wb)&&H===Bd&&(H=YR),H},aF=e=>{if(Vd(e))return vl;let t=e.state;return t.window&&(t.window=null),e.state=null,Bd},iF=(e,t)=>{if(Vd(e))return vl;const r=e.state;return r.wrap&2?(r.head=t,t.done=!1,Bd):vl},sF=(e,t)=>{const r=t.length;let n,a,i;return Vd(e)||(n=e.state,n.wrap!==0&&n.mode!==qp)?vl:n.mode===qp&&(a=1,a=Z0(a,t,r,0),a!==n.check)?k5:(i=O5(e,t,r,r),i?(n.mode=C5,A5):(n.havedict=1,Bd))};var oF=L5,lF=R5,cF=P5,uF=tF,dF=F5,hF=nF,fF=aF,pF=iF,mF=sF,gF="pako inflate (from Nodeca project)",nu={inflateReset:oF,inflateReset2:lF,inflateResetKeep:cF,inflateInit:uF,inflateInit2:dF,inflate:hF,inflateEnd:fF,inflateGetHeader:pF,inflateSetDictionary:mF,inflateInfo:gF};function xF(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var vF=xF;const I5=Object.prototype.toString,{Z_NO_FLUSH:bF,Z_FINISH:_F,Z_OK:tf,Z_STREAM_END:Rg,Z_NEED_DICT:Fg,Z_STREAM_ERROR:yF,Z_DATA_ERROR:Gb,Z_MEM_ERROR:wF}=pf;function gf(e){this.options=cm.assign({chunkSize:1024*64,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(e&&e.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15||(t.windowBits|=15)),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new S5,this.strm.avail_out=0;let r=nu.inflateInit2(this.strm,t.windowBits);if(r!==tf)throw new Error(Uh[r]);if(this.header=new vF,nu.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=ef.string2buf(t.dictionary):I5.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=nu.inflateSetDictionary(this.strm,t.dictionary),r!==tf)))throw new Error(Uh[r])}gf.prototype.push=function(e,t){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let i,l,c;if(this.ended)return!1;for(t===~~t?l=t:l=t===!0?_F:bF,I5.call(e)==="[object ArrayBuffer]"?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=nu.inflate(r,l),i===Fg&&a&&(i=nu.inflateSetDictionary(r,a),i===tf?i=nu.inflate(r,l):i===Gb&&(i=Fg));r.avail_in>0&&i===Rg&&r.state.wrap>0&&e[r.next_in]!==0;)nu.inflateReset(r),i=nu.inflate(r,l);switch(i){case yF:case Gb:case Fg:case wF:return this.onEnd(i),this.ended=!0,!1}if(c=r.avail_out,r.next_out&&(r.avail_out===0||i===Rg))if(this.options.to==="string"){let d=ef.utf8border(r.output,r.next_out),h=r.next_out-d,p=ef.buf2string(r.output,d);r.next_out=h,r.avail_out=n-h,h&&r.output.set(r.output.subarray(d,d+h),0),this.onData(p)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===tf&&c===0)){if(i===Rg)return i=nu.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};gf.prototype.onData=function(e){this.chunks.push(e)};gf.prototype.onEnd=function(e){e===tf&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=cm.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};function Cx(e,t){const r=new gf(t);if(r.push(e),r.err)throw r.msg||Uh[r.err];return r.result}function SF(e,t){return t=t||{},t.raw=!0,Cx(e,t)}var NF=gf,jF=Cx,EF=SF,kF=Cx,AF=pf,CF={Inflate:NF,inflate:jF,inflateRaw:EF,ungzip:kF,constants:AF};const{Inflate:TF,inflate:PF,inflateRaw:iD,ungzip:sD}=CF;var Kb=TF,LF=PF;const D5=[];for(let e=0;e<256;e++){let t=e;for(let r=0;r<8;r++)t&1?t=3988292384^t>>>1:t=t>>>1;D5[e]=t}const Yb=4294967295;function RF(e,t,r){let n=e;for(let a=0;a<r;a++)n=D5[(n^t[a])&255]^n>>>8;return n}function FF(e,t){return(RF(Yb,e,t)^Yb)>>>0}function Xb(e,t,r){const n=e.readUint32(),a=FF(new Uint8Array(e.buffer,e.byteOffset+e.offset-t-4,t),t);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function B5(e,t,r){for(let n=0;n<r;n++)t[n]=e[n]}function M5(e,t,r,n){let a=0;for(;a<n;a++)t[a]=e[a];for(;a<r;a++)t[a]=e[a]+t[a-n]&255}function U5(e,t,r,n){let a=0;if(r.length===0)for(;a<n;a++)t[a]=e[a];else for(;a<n;a++)t[a]=e[a]+r[a]&255}function $5(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+(t[i-a]>>1)&255}else{for(;i<a;i++)t[i]=e[i]+(r[i]>>1)&255;for(;i<n;i++)t[i]=e[i]+(t[i-a]+r[i]>>1)&255}}function z5(e,t,r,n,a){let i=0;if(r.length===0){for(;i<a;i++)t[i]=e[i];for(;i<n;i++)t[i]=e[i]+t[i-a]&255}else{for(;i<a;i++)t[i]=e[i]+r[i]&255;for(;i<n;i++)t[i]=e[i]+OF(t[i-a],r[i],r[i-a])&255}}function OF(e,t,r){const n=e+t-r,a=Math.abs(n-e),i=Math.abs(n-t),l=Math.abs(n-r);return a<=i&&a<=l?e:i<=l?t:r}function IF(e,t,r,n,a,i){switch(e){case 0:B5(t,r,a);break;case 1:M5(t,r,a,i);break;case 2:U5(t,r,n,a);break;case 3:$5(t,r,n,a,i);break;case 4:z5(t,r,n,a,i);break;default:throw new Error(`Unsupported filter: ${e}`)}}const DF=new Uint16Array([255]),BF=new Uint8Array(DF.buffer),MF=BF[0]===255;function UF(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,l=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],c=Math.ceil(i/8)*a,d=new Uint8Array(n*r*c);let h=0;for(let p=0;p<7;p++){const f=l[p],b=Math.ceil((r-f.x)/f.xStep),g=Math.ceil((n-f.y)/f.yStep);if(b<=0||g<=0)continue;const S=b*c,y=new Uint8Array(S);for(let N=0;N<g;N++){const A=t[h++],P=t.subarray(h,h+S);h+=S;const T=new Uint8Array(S);IF(A,P,T,y,S,c),y.set(T);for(let R=0;R<b;R++){const q=f.x+R*f.xStep,te=f.y+N*f.yStep;if(!(q>=r||te>=n))for(let G=0;G<c;G++)d[(te*r+q)*c+G]=T[R*c+G]}}}if(i===16){const p=new Uint16Array(d.buffer);if(MF)for(let f=0;f<p.length;f++)p[f]=$F(p[f]);return p}else return d}function $F(e){return(e&255)<<8|e>>8&255}const zF=new Uint16Array([255]),qF=new Uint8Array(zF.buffer),HF=qF[0]===255,WF=new Uint8Array(0);function Jb(e){const{data:t,width:r,height:n,channels:a,depth:i}=e,l=Math.ceil(i/8)*a,c=Math.ceil(i/8*a*r),d=new Uint8Array(n*c);let h=WF,p=0,f,b;for(let g=0;g<n;g++){switch(f=t.subarray(p+1,p+1+c),b=d.subarray(g*c,(g+1)*c),t[p]){case 0:B5(f,b,c);break;case 1:M5(f,b,c,l);break;case 2:U5(f,b,h,c);break;case 3:$5(f,b,h,c,l);break;case 4:z5(f,b,h,c,l);break;default:throw new Error(`Unsupported filter: ${t[p]}`)}h=b,p+=c+1}if(i===16){const g=new Uint16Array(d.buffer);if(HF)for(let S=0;S<g.length;S++)g[S]=VF(g[S]);return g}else return d}function VF(e){return(e&255)<<8|e>>8&255}const fp=Uint8Array.of(137,80,78,71,13,10,26,10);function Zb(e){if(!GF(e.readBytes(fp.length)))throw new Error("wrong PNG signature")}function GF(e){if(e.length<fp.length)return!1;for(let t=0;t<fp.length;t++)if(e[t]!==fp[t])return!1;return!0}const KF="tEXt",YF=0,q5=new TextDecoder("latin1");function XF(e){if(ZF(e),e.length===0||e.length>79)throw new Error("keyword length must be between 1 and 79")}const JF=/^[\u0000-\u00FF]*$/;function ZF(e){if(!JF.test(e))throw new Error("invalid latin1 text")}function QF(e,t,r){const n=H5(t);e[n]=eO(t,r-n.length-1)}function H5(e){for(e.mark();e.readByte()!==YF;);const t=e.offset;e.reset();const r=q5.decode(e.readBytes(t-e.offset-1));return e.skip(1),XF(r),r}function eO(e,t){return q5.decode(e.readBytes(t))}const Fo={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},Og={UNKNOWN:-1,DEFLATE:0},Qb={UNKNOWN:-1,ADAPTIVE:0},Ig={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},sp={NONE:0,BACKGROUND:1,PREVIOUS:2},Dg={SOURCE:0,OVER:1};class tO extends wx{constructor(r,n={}){super(r);kn(this,"_checkCrc");kn(this,"_inflator");kn(this,"_png");kn(this,"_apng");kn(this,"_end");kn(this,"_hasPalette");kn(this,"_palette");kn(this,"_hasTransparency");kn(this,"_transparency");kn(this,"_compressionMethod");kn(this,"_filterMethod");kn(this,"_interlaceMethod");kn(this,"_colorType");kn(this,"_isAnimated");kn(this,"_numberOfFrames");kn(this,"_numberOfPlays");kn(this,"_frames");kn(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new Kb,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=Og.UNKNOWN,this._filterMethod=Qb.UNKNOWN,this._interlaceMethod=Ig.UNKNOWN,this._colorType=Fo.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(Zb(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(Zb(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case KF:QF(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Xb(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?Xb(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=rO(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case Fo.GREYSCALE:a=1;break;case Fo.TRUECOLOUR:a=3;break;case Fo.INDEXED_COLOUR:a=1;break;case Fo.GREYSCALE_ALPHA:a=2;break;case Fo.TRUECOLOUR_ALPHA:a=4;break;case Fo.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==Og.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let i=0;i<n;i++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case Fo.GREYSCALE:case Fo.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case Fo.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case Fo.UNKNOWN:case Fo.GREYSCALE_ALPHA:case Fo.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=H5(this),a=this.readUint8();if(a!==Og.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:LF(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=Jb({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(a,i,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case sp.NONE:break;case sp.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let l=0;l<this._png.width;l++){const c=(i*r.width+l)*this._png.channels;for(let d=0;d<this._png.channels;d++)a.data[c+d]=0}break;case sp.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,i=(l,c)=>{const d=((l+n.yOffset)*this._png.width+n.xOffset+c)*this._png.channels,h=(l*n.width+c)*this._png.channels;return{index:d,frameIndex:h}};switch(n.blendOp){case Dg.SOURCE:for(let l=0;l<n.height;l++)for(let c=0;c<n.width;c++){const{index:d,frameIndex:h}=i(l,c);for(let p=0;p<this._png.channels;p++)r.data[d+p]=n.data[h+p]}break;case Dg.OVER:for(let l=0;l<n.height;l++)for(let c=0;c<n.width;c++){const{index:d,frameIndex:h}=i(l,c);for(let p=0;p<this._png.channels;p++){const f=n.data[h+this._png.channels-1]/a,b=p%(this._png.channels-1)===0?1:n.data[h+p],g=Math.floor(f*b+(1-f)*r.data[d+p]);r.data[d+p]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==Qb.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===Ig.NO_INTERLACE)this._png.data=Jb({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===Ig.ADAM7)this._png.data=UF({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:sp.NONE,blendOp:Dg.SOURCE,data:r}),this._inflator=new Kb,this._writingDataChunks=!1}}function rO(e){if(e!==1&&e!==2&&e!==4&&e!==8&&e!==16)throw new Error(`invalid bit depth: ${e}`);return e}var e_;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.METRE=1]="METRE"})(e_||(e_={}));function nO(e,t){return new tO(e,t).decode()}var _r=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Bg(){_r.console&&typeof _r.console.log=="function"&&_r.console.log.apply(_r.console,arguments)}var Hn={log:Bg,warn:function(e){_r.console&&(typeof _r.console.warn=="function"?_r.console.warn.apply(_r.console,arguments):Bg.call(null,arguments))},error:function(e){_r.console&&(typeof _r.console.error=="function"?_r.console.error.apply(_r.console,arguments):Bg(e))}};function Mg(e,t,r){var n=new XMLHttpRequest;n.open("GET",e),n.responseType="blob",n.onload=function(){_d(n.response,t,r)},n.onerror=function(){Hn.error("could not download file")},n.send()}function t_(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function op(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var _d=_r.saveAs||((typeof window>"u"?"undefined":Tn(window))!=="object"||window!==_r?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,r){var n=_r.URL||_r.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?t_(a.href)?Mg(e,t,r):op(a,a.target="_blank"):op(a)):(a.href=n.createObjectURL(e),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){op(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,r){if(t=t||e.name||"download",typeof e=="string")if(t_(e))Mg(e,t,r);else{var n=document.createElement("a");n.href=e,n.target="_blank",setTimeout(function(){op(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Tn(i)!=="object"&&(Hn.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,r),t)}:function(e,t,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof e=="string")return Mg(e,t,r);var a=e.type==="application/octet-stream",i=/constructor/i.test(_r.HTMLElement)||_r.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||a&&i)&&(typeof FileReader>"u"?"undefined":Tn(FileReader))==="object"){var c=new FileReader;c.onloadend=function(){var p=c.result;p=l?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},c.readAsDataURL(e)}else{var d=_r.URL||_r.webkitURL,h=d.createObjectURL(e);n?n.location=h:location.href=h,n=null,setTimeout(function(){d.revokeObjectURL(h)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function W5(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(c){return[parseInt(c[1]),parseInt(c[2]),parseInt(c[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(c){return[parseInt(c[1],16),parseInt(c[2],16),parseInt(c[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(c){return[parseInt(c[1]+c[1],16),parseInt(c[2]+c[2],16),parseInt(c[3]+c[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,l=a.exec(e);l&&(t=i(l),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var c=this.r.toString(16),d=this.g.toString(16),h=this.b.toString(16);return c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),h.length==1&&(h="0"+h),"#"+c+d+h}}var pp=_r.atob.bind(_r),r_=_r.btoa.bind(_r);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ug(e,t){var r=e[0],n=e[1],a=e[2],i=e[3];r=fs(r,n,a,i,t[0],7,-680876936),i=fs(i,r,n,a,t[1],12,-389564586),a=fs(a,i,r,n,t[2],17,606105819),n=fs(n,a,i,r,t[3],22,-1044525330),r=fs(r,n,a,i,t[4],7,-176418897),i=fs(i,r,n,a,t[5],12,1200080426),a=fs(a,i,r,n,t[6],17,-1473231341),n=fs(n,a,i,r,t[7],22,-45705983),r=fs(r,n,a,i,t[8],7,1770035416),i=fs(i,r,n,a,t[9],12,-1958414417),a=fs(a,i,r,n,t[10],17,-42063),n=fs(n,a,i,r,t[11],22,-1990404162),r=fs(r,n,a,i,t[12],7,1804603682),i=fs(i,r,n,a,t[13],12,-40341101),a=fs(a,i,r,n,t[14],17,-1502002290),r=ps(r,n=fs(n,a,i,r,t[15],22,1236535329),a,i,t[1],5,-165796510),i=ps(i,r,n,a,t[6],9,-1069501632),a=ps(a,i,r,n,t[11],14,643717713),n=ps(n,a,i,r,t[0],20,-373897302),r=ps(r,n,a,i,t[5],5,-701558691),i=ps(i,r,n,a,t[10],9,38016083),a=ps(a,i,r,n,t[15],14,-660478335),n=ps(n,a,i,r,t[4],20,-405537848),r=ps(r,n,a,i,t[9],5,568446438),i=ps(i,r,n,a,t[14],9,-1019803690),a=ps(a,i,r,n,t[3],14,-187363961),n=ps(n,a,i,r,t[8],20,1163531501),r=ps(r,n,a,i,t[13],5,-1444681467),i=ps(i,r,n,a,t[2],9,-51403784),a=ps(a,i,r,n,t[7],14,1735328473),r=ms(r,n=ps(n,a,i,r,t[12],20,-1926607734),a,i,t[5],4,-378558),i=ms(i,r,n,a,t[8],11,-2022574463),a=ms(a,i,r,n,t[11],16,1839030562),n=ms(n,a,i,r,t[14],23,-35309556),r=ms(r,n,a,i,t[1],4,-1530992060),i=ms(i,r,n,a,t[4],11,1272893353),a=ms(a,i,r,n,t[7],16,-155497632),n=ms(n,a,i,r,t[10],23,-1094730640),r=ms(r,n,a,i,t[13],4,681279174),i=ms(i,r,n,a,t[0],11,-358537222),a=ms(a,i,r,n,t[3],16,-722521979),n=ms(n,a,i,r,t[6],23,76029189),r=ms(r,n,a,i,t[9],4,-640364487),i=ms(i,r,n,a,t[12],11,-421815835),a=ms(a,i,r,n,t[15],16,530742520),r=gs(r,n=ms(n,a,i,r,t[2],23,-995338651),a,i,t[0],6,-198630844),i=gs(i,r,n,a,t[7],10,1126891415),a=gs(a,i,r,n,t[14],15,-1416354905),n=gs(n,a,i,r,t[5],21,-57434055),r=gs(r,n,a,i,t[12],6,1700485571),i=gs(i,r,n,a,t[3],10,-1894986606),a=gs(a,i,r,n,t[10],15,-1051523),n=gs(n,a,i,r,t[1],21,-2054922799),r=gs(r,n,a,i,t[8],6,1873313359),i=gs(i,r,n,a,t[15],10,-30611744),a=gs(a,i,r,n,t[6],15,-1560198380),n=gs(n,a,i,r,t[13],21,1309151649),r=gs(r,n,a,i,t[4],6,-145523070),i=gs(i,r,n,a,t[11],10,-1120210379),a=gs(a,i,r,n,t[2],15,718787259),n=gs(n,a,i,r,t[9],21,-343485551),e[0]=Wu(r,e[0]),e[1]=Wu(n,e[1]),e[2]=Wu(a,e[2]),e[3]=Wu(i,e[3])}function dm(e,t,r,n,a,i){return t=Wu(Wu(t,e),Wu(n,i)),Wu(t<<a|t>>>32-a,r)}function fs(e,t,r,n,a,i,l){return dm(t&r|~t&n,e,t,a,i,l)}function ps(e,t,r,n,a,i,l){return dm(t&n|r&~n,e,t,a,i,l)}function ms(e,t,r,n,a,i,l){return dm(t^r^n,e,t,a,i,l)}function gs(e,t,r,n,a,i,l){return dm(r^(t|~n),e,t,a,i,l)}function V5(e){var t,r=e.length,n=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Ug(n,aO(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Ug(n,a),t=0;t<16;t++)a[t]=0;return a[14]=8*r,Ug(n,a),n}function aO(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}var n_="0123456789abcdef".split("");function iO(e){for(var t="",r=0;r<4;r++)t+=n_[e>>8*r+4&15]+n_[e>>8*r&15];return t}function sO(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function R1(e){return V5(e).map(sO).join("")}var oO=function(e){for(var t=0;t<e.length;t++)e[t]=iO(e[t]);return e.join("")}(V5("hello"))!="5d41402abc4b2a76b9719d911017c592";function Wu(e,t){if(oO){var r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function F1(e,t){var r,n,a,i;if(e!==r){for(var l=(a=e,i=1+(256/e.length|0),new Array(i+1).join(a)),c=[],d=0;d<256;d++)c[d]=d;var h=0;for(d=0;d<256;d++){var p=c[d];h=(h+p+l.charCodeAt(d))%256,c[d]=c[h],c[h]=p}r=e,n=c}else c=n;var f=t.length,b=0,g=0,S="";for(d=0;d<f;d++)g=(g+(p=c[b=(b+1)%256]))%256,c[b]=c[g],c[g]=p,l=c[(c[b]+c[g])%256],S+=String.fromCharCode(t.charCodeAt(d)^l);return S}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var a_={print:4,modify:8,copy:16,"annot-forms":32};function Sh(e,t,r,n){this.v=1,this.r=2;var a=192;e.forEach(function(c){if(a_.perm!==void 0)throw new Error("Invalid permission: "+c);a+=a_[c]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(t+this.padding).substr(0,32),l=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,l),this.P=-(1+(255^a)),this.encryptionKey=R1(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=F1(this.encryptionKey,this.padding)}function Nh(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",r=e.length,n=0;n<r;n++){var a=e.charCodeAt(n);t+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):e[n]}return t}function i_(e){if(Tn(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(r)||(t[r]={});var i=Math.random().toString(35);return t[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in t)if(t[n][r])return delete t[n][r],Object.keys(t[n]).length===0&&delete t[n],!0;return!1},this.publish=function(r){if(t.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[r]){var l=t[r][i];try{l[0].apply(e,n)}catch(c){_r.console&&Hn.error("jsPDF PubSub Error",c.message,c)}l[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Hp(e){if(!(this instanceof Hp))return new Hp(e);var t="opacity,stroke-opacity".split(",");for(var r in e)e.hasOwnProperty(r)&&t.indexOf(r)>=0&&(this[r]=e[r]);this.id="",this.objectNumber=-1}function G5(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Nd(e,t,r,n,a){if(!(this instanceof Nd))return new Nd(e,t,r,n,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=r,G5.call(this,n,a)}function kh(e,t,r,n,a){if(!(this instanceof kh))return new kh(e,t,r,n,a);this.boundingBox=e,this.xStep=t,this.yStep=r,this.stream="",this.cloneIndex=0,G5.call(this,n,a)}function Yt(e){var t,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],l=[],c=1,d=16,h="S",p=null;Tn(e=e||{})==="object"&&(r=e.orientation,n=e.unit||n,a=e.format||a,i=e.compress||e.compressPdf||i,(p=e.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),c=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(d=e.floatPrecision),h=e.defaultPathOperation||"S"),l=e.filters||(i===!0?["FlateEncode"]:l),n=n||"mm",r=(""+(r||"P")).toLowerCase();var f=e.putOnlyUsedFonts||!1,b={},g={internal:{},__private__:{}};g.__private__.PubSub=i_;var S="1.3",y=g.__private__.getPdfVersion=function(){return S};g.__private__.setPdfVersion=function(E){S=E};var N={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return N};var A=g.__private__.getPageFormat=function(E){return N[E]};a=a||"a4";var P="compat",T="advanced",R=P;function q(){this.saveGraphicsState(),le(new Gt(Qt,0,0,-Qt,0,bi()*Qt).toString()+" cm"),this.setFontSize(this.getFontSize()/Qt),h="n",R=T}function te(){this.restoreGraphicsState(),h="S",R=P}var G=g.__private__.combineFontStyleAndFontWeight=function(E,z){if(E=="bold"&&z=="normal"||E=="bold"&&z==400||E=="normal"&&z=="italic"||E=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(E=z==400||z==="normal"?E==="italic"?"italic":"normal":z!=700&&z!=="bold"||E!=="normal"?(z==700?"bold":z)+""+E:"bold"),E};g.advancedAPI=function(E){var z=R===P;return z&&q.call(this),typeof E!="function"||(E(this),z&&te.call(this)),this},g.compatAPI=function(E){var z=R===T;return z&&te.call(this),typeof E!="function"||(E(this),z&&q.call(this)),this},g.isAdvancedAPI=function(){return R===T};var H,M=function(E){if(R!==T)throw new Error(E+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},re=g.roundToPrecision=g.__private__.roundToPrecision=function(E,z){var de=t||z;if(isNaN(E)||isNaN(de))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return E.toFixed(de).replace(/0+$/,"")};H=g.hpf=g.__private__.hpf=typeof d=="number"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return re(E,d)}:d==="smart"?function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return re(E,E>-1&&E<1?16:5)}:function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.hpf");return re(E,16)};var I=g.f2=g.__private__.f2=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f2");return re(E,2)},W=g.__private__.f3=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.f3");return re(E,3)},ae=g.scale=g.__private__.scale=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.scale");return R===P?E*Qt:R===T?E:void 0},ge=function(E){return ae(function(z){return R===P?bi()-z:R===T?z:void 0}(E))};g.__private__.setPrecision=g.setPrecision=function(E){typeof parseInt(E,10)=="number"&&(t=parseInt(E,10))};var _e,Le="00000000000000000000000000000000",Te=g.__private__.getFileId=function(){return Le},Q=g.__private__.setFileId=function(E){return Le=E!==void 0&&/^[a-fA-F0-9]{32}$/.test(E)?E.toUpperCase():Le.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(la=new Sh(p.userPermissions,p.userPassword,p.ownerPassword,Le)),Le};g.setFileId=function(E){return Q(E),this},g.getFileId=function(){return Te()};var ye=g.__private__.convertDateToPDFDate=function(E){var z=E.getTimezoneOffset(),de=z<0?"+":"-",Ne=Math.floor(Math.abs(z/60)),Oe=Math.abs(z%60),et=[de,O(Ne),"'",O(Oe),"'"].join("");return["D:",E.getFullYear(),O(E.getMonth()+1),O(E.getDate()),O(E.getHours()),O(E.getMinutes()),O(E.getSeconds()),et].join("")},je=g.__private__.convertPDFDateToDate=function(E){var z=parseInt(E.substr(2,4),10),de=parseInt(E.substr(6,2),10)-1,Ne=parseInt(E.substr(8,2),10),Oe=parseInt(E.substr(10,2),10),et=parseInt(E.substr(12,2),10),it=parseInt(E.substr(14,2),10);return new Date(z,de,Ne,Oe,et,it,0)},oe=g.__private__.setCreationDate=function(E){var z;if(E===void 0&&(E=new Date),E instanceof Date)z=ye(E);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(E))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=E}return _e=z},j=g.__private__.getCreationDate=function(E){var z=_e;return E==="jsDate"&&(z=je(_e)),z};g.setCreationDate=function(E){return oe(E),this},g.getCreationDate=function(E){return j(E)};var B,O=g.__private__.padd2=function(E){return("0"+parseInt(E)).slice(-2)},D=g.__private__.padd2Hex=function(E){return("00"+(E=E.toString())).substr(E.length)},Z=0,pe=[],be=[],Se=0,Ee=[],Ye=[],at=!1,st=be;g.__private__.setCustomOutputDestination=function(E){at=!0,st=E};var ft=function(E){at||(st=E)};g.__private__.resetCustomOutputDestination=function(){at=!1,st=be};var le=g.__private__.out=function(E){return E=E.toString(),Se+=E.length+1,st.push(E),st},dt=g.__private__.write=function(E){return le(arguments.length===1?E.toString():Array.prototype.join.call(arguments," "))},Pe=g.__private__.getArrayBuffer=function(E){for(var z=E.length,de=new ArrayBuffer(z),Ne=new Uint8Array(de);z--;)Ne[z]=E.charCodeAt(z);return de},rt=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return rt};var Je=e.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(E){return Je=R===T?E/Qt:E,this};var kt,Ze=g.__private__.getFontSize=g.getFontSize=function(){return R===P?Je:Je*Qt},Et=e.R2L||!1;g.__private__.setR2L=g.setR2L=function(E){return Et=E,this},g.__private__.getR2L=g.getR2L=function(){return Et};var Pt,fr=g.__private__.setZoomMode=function(E){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(E))kt=E;else if(isNaN(E)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(E)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+E+'" is not recognized.');kt=E}else kt=parseInt(E,10)};g.__private__.getZoomMode=function(){return kt};var Zt,Xt=g.__private__.setPageMode=function(E){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(E)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+E+'" is not recognized.');Pt=E};g.__private__.getPageMode=function(){return Pt};var gr=g.__private__.setLayoutMode=function(E){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(E)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+E+'" is not recognized.');Zt=E};g.__private__.getLayoutMode=function(){return Zt},g.__private__.setDisplayMode=g.setDisplayMode=function(E,z,de){return fr(E),gr(z),Xt(de),this};var nr={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(E){if(Object.keys(nr).indexOf(E)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return nr[E]},g.__private__.getDocumentProperties=function(){return nr},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(E){for(var z in nr)nr.hasOwnProperty(z)&&E[z]&&(nr[z]=E[z]);return this},g.__private__.setDocumentProperty=function(E,z){if(Object.keys(nr).indexOf(E)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return nr[E]=z};var Ft,Qt,Ct,rn,Er,pr={},xr={},nn=[],Lt={},Or={},Wt={},er={},Hr=null,hr=0,$t=[],Rr=new i_(g),as=e.hotfixes||[],ra={},Fi={},ai=[],Gt=function E(z,de,Ne,Oe,et,it){if(!(this instanceof E))return new E(z,de,Ne,Oe,et,it);isNaN(z)&&(z=1),isNaN(de)&&(de=0),isNaN(Ne)&&(Ne=0),isNaN(Oe)&&(Oe=1),isNaN(et)&&(et=0),isNaN(it)&&(it=0),this._matrix=[z,de,Ne,Oe,et,it]};Object.defineProperty(Gt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Gt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Gt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Gt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Gt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Gt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Gt.prototype,"a",{get:function(){return this._matrix[0]},set:function(E){this._matrix[0]=E}}),Object.defineProperty(Gt.prototype,"b",{get:function(){return this._matrix[1]},set:function(E){this._matrix[1]=E}}),Object.defineProperty(Gt.prototype,"c",{get:function(){return this._matrix[2]},set:function(E){this._matrix[2]=E}}),Object.defineProperty(Gt.prototype,"d",{get:function(){return this._matrix[3]},set:function(E){this._matrix[3]=E}}),Object.defineProperty(Gt.prototype,"e",{get:function(){return this._matrix[4]},set:function(E){this._matrix[4]=E}}),Object.defineProperty(Gt.prototype,"f",{get:function(){return this._matrix[5]},set:function(E){this._matrix[5]=E}}),Object.defineProperty(Gt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Gt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Gt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Gt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Gt.prototype.join=function(E){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(H).join(E)},Gt.prototype.multiply=function(E){var z=E.sx*this.sx+E.shy*this.shx,de=E.sx*this.shy+E.shy*this.sy,Ne=E.shx*this.sx+E.sy*this.shx,Oe=E.shx*this.shy+E.sy*this.sy,et=E.tx*this.sx+E.ty*this.shx+this.tx,it=E.tx*this.shy+E.ty*this.sy+this.ty;return new Gt(z,de,Ne,Oe,et,it)},Gt.prototype.decompose=function(){var E=this.sx,z=this.shy,de=this.shx,Ne=this.sy,Oe=this.tx,et=this.ty,it=Math.sqrt(E*E+z*z),Rt=(E/=it)*de+(z/=it)*Ne;de-=E*Rt,Ne-=z*Rt;var Bt=Math.sqrt(de*de+Ne*Ne);return Rt/=Bt,E*(Ne/=Bt)<z*(de/=Bt)&&(E=-E,z=-z,Rt=-Rt,it=-it),{scale:new Gt(it,0,0,Bt,0,0),translate:new Gt(1,0,0,1,Oe,et),rotate:new Gt(E,z,-z,E,0,0),skew:new Gt(1,0,Rt,1,0,0)}},Gt.prototype.toString=function(E){return this.join(" ")},Gt.prototype.inversed=function(){var E=this.sx,z=this.shy,de=this.shx,Ne=this.sy,Oe=this.tx,et=this.ty,it=1/(E*Ne-z*de),Rt=Ne*it,Bt=-z*it,rr=-de*it,mr=E*it;return new Gt(Rt,Bt,rr,mr,-Rt*Oe-rr*et,-Bt*Oe-mr*et)},Gt.prototype.applyToPoint=function(E){var z=E.x*this.sx+E.y*this.shx+this.tx,de=E.x*this.shy+E.y*this.sy+this.ty;return new li(z,de)},Gt.prototype.applyToRectangle=function(E){var z=this.applyToPoint(E),de=this.applyToPoint(new li(E.x+E.w,E.y+E.h));return new xo(z.x,z.y,de.x-z.x,de.y-z.y)},Gt.prototype.clone=function(){var E=this.sx,z=this.shy,de=this.shx,Ne=this.sy,Oe=this.tx,et=this.ty;return new Gt(E,z,de,Ne,Oe,et)},g.Matrix=Gt;var $a=g.matrixMult=function(E,z){return z.multiply(E)},za=new Gt(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=za;var na=function(E,z){if(!Or[E]){var de=(z instanceof Nd?"Sh":"P")+(Object.keys(Lt).length+1).toString(10);z.id=de,Or[E]=de,Lt[de]=z,Rr.publish("addPattern",z)}};g.ShadingPattern=Nd,g.TilingPattern=kh,g.addShadingPattern=function(E,z){return M("addShadingPattern()"),na(E,z),this},g.beginTilingPattern=function(E){M("beginTilingPattern()"),os(E.boundingBox[0],E.boundingBox[1],E.boundingBox[2]-E.boundingBox[0],E.boundingBox[3]-E.boundingBox[1],E.matrix)},g.endTilingPattern=function(E,z){M("endTilingPattern()"),z.stream=Ye[B].join(`
`),na(E,z),Rr.publish("endTilingPattern",z),ai.pop().restore()};var Ir,kr=g.__private__.newObject=function(){var E=Rn();return Y(E,!0),E},Rn=g.__private__.newObjectDeferred=function(){return Z++,pe[Z]=function(){return Se},Z},Y=function(E,z){return z=typeof z=="boolean"&&z,pe[E]=Se,z&&le(E+" 0 obj"),E},ue=g.__private__.newAdditionalObject=function(){var E={objId:Rn(),content:""};return Ee.push(E),E},se=Rn(),ce=Rn(),me=g.__private__.decodeColorString=function(E){var z=E.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length!==5||z[4]!=="k"&&z[4]!=="K"||(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var de=parseFloat(z[0]);z=[de,de,de,"r"]}for(var Ne="#",Oe=0;Oe<3;Oe++)Ne+=("0"+Math.floor(255*parseFloat(z[Oe])).toString(16)).slice(-2);return Ne},xe=g.__private__.encodeColorString=function(E){var z;typeof E=="string"&&(E={ch1:E});var de=E.ch1,Ne=E.ch2,Oe=E.ch3,et=E.ch4,it=E.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof de=="string"&&de.charAt(0)!=="#"){var Rt=new W5(de);if(Rt.ok)de=Rt.toHex();else if(!/^\d*\.?\d*$/.test(de))throw new Error('Invalid color "'+de+'" passed to jsPDF.encodeColorString.')}if(typeof de=="string"&&/^#[0-9A-Fa-f]{3}$/.test(de)&&(de="#"+de[1]+de[1]+de[2]+de[2]+de[3]+de[3]),typeof de=="string"&&/^#[0-9A-Fa-f]{6}$/.test(de)){var Bt=parseInt(de.substr(1),16);de=Bt>>16&255,Ne=Bt>>8&255,Oe=255&Bt}if(Ne===void 0||et===void 0&&de===Ne&&Ne===Oe)z=typeof de=="string"?de+" "+it[0]:E.precision===2?I(de/255)+" "+it[0]:W(de/255)+" "+it[0];else if(et===void 0||Tn(et)==="object"){if(et&&!isNaN(et.a)&&et.a===0)return["1.","1.","1.",it[1]].join(" ");z=typeof de=="string"?[de,Ne,Oe,it[1]].join(" "):E.precision===2?[I(de/255),I(Ne/255),I(Oe/255),it[1]].join(" "):[W(de/255),W(Ne/255),W(Oe/255),it[1]].join(" ")}else z=typeof de=="string"?[de,Ne,Oe,et,it[2]].join(" "):E.precision===2?[I(de),I(Ne),I(Oe),I(et),it[2]].join(" "):[W(de),W(Ne),W(Oe),W(et),it[2]].join(" ");return z},Ue=g.__private__.getFilters=function(){return l},Ve=g.__private__.putStream=function(E){var z=(E=E||{}).data||"",de=E.filters||Ue(),Ne=E.alreadyAppliedFilters||[],Oe=E.addLength1||!1,et=z.length,it=E.objectId,Rt=function(yr){return yr};if(p!==null&&it===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Rt=la.encryptor(it,0));var Bt={};de===!0&&(de=["FlateEncode"]);var rr=E.additionalKeyValues||[],mr=(Bt=Yt.API.processDataByFilters!==void 0?Yt.API.processDataByFilters(z,de):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(Ne)?Ne.join(" "):Ne.toString());if(Bt.data.length!==0&&(rr.push({key:"Length",value:Bt.data.length}),Oe===!0&&rr.push({key:"Length1",value:et})),mr.length!=0)if(mr.split("/").length-1==1)rr.push({key:"Filter",value:mr});else{rr.push({key:"Filter",value:"["+mr+"]"});for(var Sr=0;Sr<rr.length;Sr+=1)if(rr[Sr].key==="DecodeParms"){for(var hn=[],Jn=0;Jn<Bt.reverseChain.split("/").length-1;Jn+=1)hn.push("null");hn.push(rr[Sr].value),rr[Sr].value="["+hn.join(" ")+"]"}}le("<<");for(var bn=0;bn<rr.length;bn++)le("/"+rr[bn].key+" "+rr[bn].value);le(">>"),Bt.data.length!==0&&(le("stream"),le(Rt(Bt.data)),le("endstream"))},Be=g.__private__.putPage=function(E){var z=E.number,de=E.data,Ne=E.objId,Oe=E.contentsObjId;Y(Ne,!0),le("<</Type /Page"),le("/Parent "+E.rootDictionaryObjId+" 0 R"),le("/Resources "+E.resourceDictionaryObjId+" 0 R"),le("/MediaBox ["+parseFloat(H(E.mediaBox.bottomLeftX))+" "+parseFloat(H(E.mediaBox.bottomLeftY))+" "+H(E.mediaBox.topRightX)+" "+H(E.mediaBox.topRightY)+"]"),E.cropBox!==null&&le("/CropBox ["+H(E.cropBox.bottomLeftX)+" "+H(E.cropBox.bottomLeftY)+" "+H(E.cropBox.topRightX)+" "+H(E.cropBox.topRightY)+"]"),E.bleedBox!==null&&le("/BleedBox ["+H(E.bleedBox.bottomLeftX)+" "+H(E.bleedBox.bottomLeftY)+" "+H(E.bleedBox.topRightX)+" "+H(E.bleedBox.topRightY)+"]"),E.trimBox!==null&&le("/TrimBox ["+H(E.trimBox.bottomLeftX)+" "+H(E.trimBox.bottomLeftY)+" "+H(E.trimBox.topRightX)+" "+H(E.trimBox.topRightY)+"]"),E.artBox!==null&&le("/ArtBox ["+H(E.artBox.bottomLeftX)+" "+H(E.artBox.bottomLeftY)+" "+H(E.artBox.topRightX)+" "+H(E.artBox.topRightY)+"]"),typeof E.userUnit=="number"&&E.userUnit!==1&&le("/UserUnit "+E.userUnit),Rr.publish("putPage",{objId:Ne,pageContext:$t[z],pageNumber:z,page:de}),le("/Contents "+Oe+" 0 R"),le(">>"),le("endobj");var et=de.join(`
`);return R===T&&(et+=`
Q`),Y(Oe,!0),Ve({data:et,filters:Ue(),objectId:Oe}),le("endobj"),Ne},$e=g.__private__.putPages=function(){var E,z,de=[];for(E=1;E<=hr;E++)$t[E].objId=Rn(),$t[E].contentsObjId=Rn();for(E=1;E<=hr;E++)de.push(Be({number:E,data:Ye[E],objId:$t[E].objId,contentsObjId:$t[E].contentsObjId,mediaBox:$t[E].mediaBox,cropBox:$t[E].cropBox,bleedBox:$t[E].bleedBox,trimBox:$t[E].trimBox,artBox:$t[E].artBox,userUnit:$t[E].userUnit,rootDictionaryObjId:se,resourceDictionaryObjId:ce}));Y(se,!0),le("<</Type /Pages");var Ne="/Kids [";for(z=0;z<hr;z++)Ne+=de[z]+" 0 R ";le(Ne+"]"),le("/Count "+hr),le(">>"),le("endobj"),Rr.publish("postPutPages")},qe=function(E){Rr.publish("putFont",{font:E,out:le,newObject:kr,putStream:Ve}),E.isAlreadyPutted!==!0&&(E.objectNumber=kr(),le("<<"),le("/Type /Font"),le("/BaseFont /"+Nh(E.postScriptName)),le("/Subtype /Type1"),typeof E.encoding=="string"&&le("/Encoding /"+E.encoding),le("/FirstChar 32"),le("/LastChar 255"),le(">>"),le("endobj"))},ct=function(E){E.objectNumber=kr();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[H(E.x),H(E.y),H(E.x+E.width),H(E.y+E.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+E.matrix.toString()+"]"});var de=E.pages[1].join(`
`);Ve({data:de,additionalKeyValues:z,objectId:E.objectNumber}),le("endobj")},bt=function(E,z){z||(z=21);var de=kr(),Ne=function(it,Rt){var Bt,rr=[],mr=1/(Rt-1);for(Bt=0;Bt<1;Bt+=mr)rr.push(Bt);if(rr.push(1),it[0].offset!=0){var Sr={offset:0,color:it[0].color};it.unshift(Sr)}if(it[it.length-1].offset!=1){var hn={offset:1,color:it[it.length-1].color};it.push(hn)}for(var Jn="",bn=0,yr=0;yr<rr.length;yr++){for(Bt=rr[yr];Bt>it[bn+1].offset;)bn++;var Kr=it[bn].offset,da=(Bt-Kr)/(it[bn+1].offset-Kr),Ws=it[bn].color,_i=it[bn+1].color;Jn+=D(Math.round((1-da)*Ws[0]+da*_i[0]).toString(16))+D(Math.round((1-da)*Ws[1]+da*_i[1]).toString(16))+D(Math.round((1-da)*Ws[2]+da*_i[2]).toString(16))}return Jn.trim()}(E.colors,z),Oe=[];Oe.push({key:"FunctionType",value:"0"}),Oe.push({key:"Domain",value:"[0.0 1.0]"}),Oe.push({key:"Size",value:"["+z+"]"}),Oe.push({key:"BitsPerSample",value:"8"}),Oe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Oe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve({data:Ne,additionalKeyValues:Oe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:de}),le("endobj"),E.objectNumber=kr(),le("<< /ShadingType "+E.type),le("/ColorSpace /DeviceRGB");var et="/Coords ["+H(parseFloat(E.coords[0]))+" "+H(parseFloat(E.coords[1]))+" ";E.type===2?et+=H(parseFloat(E.coords[2]))+" "+H(parseFloat(E.coords[3])):et+=H(parseFloat(E.coords[2]))+" "+H(parseFloat(E.coords[3]))+" "+H(parseFloat(E.coords[4]))+" "+H(parseFloat(E.coords[5])),le(et+="]"),E.matrix&&le("/Matrix ["+E.matrix.toString()+"]"),le("/Function "+de+" 0 R"),le("/Extend [true true]"),le(">>"),le("endobj")},Nt=function(E,z){var de=Rn(),Ne=kr();z.push({resourcesOid:de,objectOid:Ne}),E.objectNumber=Ne;var Oe=[];Oe.push({key:"Type",value:"/Pattern"}),Oe.push({key:"PatternType",value:"1"}),Oe.push({key:"PaintType",value:"1"}),Oe.push({key:"TilingType",value:"1"}),Oe.push({key:"BBox",value:"["+E.boundingBox.map(H).join(" ")+"]"}),Oe.push({key:"XStep",value:H(E.xStep)}),Oe.push({key:"YStep",value:H(E.yStep)}),Oe.push({key:"Resources",value:de+" 0 R"}),E.matrix&&Oe.push({key:"Matrix",value:"["+E.matrix.toString()+"]"}),Ve({data:E.stream,additionalKeyValues:Oe,objectId:E.objectNumber}),le("endobj")},gt=function(E){for(var z in E.objectNumber=kr(),le("<<"),E)switch(z){case"opacity":le("/ca "+I(E[z]));break;case"stroke-opacity":le("/CA "+I(E[z]))}le(">>"),le("endobj")},pt=function(E){Y(E.resourcesOid,!0),le("<<"),le("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var z in le("/Font <<"),pr)pr.hasOwnProperty(z)&&(f===!1||f===!0&&b.hasOwnProperty(z))&&le("/"+z+" "+pr[z].objectNumber+" 0 R");le(">>")}(),function(){if(Object.keys(Lt).length>0){for(var z in le("/Shading <<"),Lt)Lt.hasOwnProperty(z)&&Lt[z]instanceof Nd&&Lt[z].objectNumber>=0&&le("/"+z+" "+Lt[z].objectNumber+" 0 R");Rr.publish("putShadingPatternDict"),le(">>")}}(),function(z){if(Object.keys(Lt).length>0){for(var de in le("/Pattern <<"),Lt)Lt.hasOwnProperty(de)&&Lt[de]instanceof g.TilingPattern&&Lt[de].objectNumber>=0&&Lt[de].objectNumber<z&&le("/"+de+" "+Lt[de].objectNumber+" 0 R");Rr.publish("putTilingPatternDict"),le(">>")}}(E.objectOid),function(){if(Object.keys(Wt).length>0){var z;for(z in le("/ExtGState <<"),Wt)Wt.hasOwnProperty(z)&&Wt[z].objectNumber>=0&&le("/"+z+" "+Wt[z].objectNumber+" 0 R");Rr.publish("putGStateDict"),le(">>")}}(),function(){for(var z in le("/XObject <<"),ra)ra.hasOwnProperty(z)&&ra[z].objectNumber>=0&&le("/"+z+" "+ra[z].objectNumber+" 0 R");Rr.publish("putXobjectDict"),le(">>")}(),le(">>"),le("endobj")},ar=function(E){xr[E.fontName]=xr[E.fontName]||{},xr[E.fontName][E.fontStyle]=E.id},Pr=function(E,z,de,Ne,Oe){var et={id:"F"+(Object.keys(pr).length+1).toString(10),postScriptName:E,fontName:z,fontStyle:de,encoding:Ne,isStandardFont:Oe||!1,metadata:{}};return Rr.publish("addFont",{font:et,instance:this}),pr[et.id]=et,ar(et),et.id},wr=g.__private__.pdfEscape=g.pdfEscape=function(E,z){return function(de,Ne){var Oe,et,it,Rt,Bt,rr,mr,Sr,hn;if(it=(Ne=Ne||{}).sourceEncoding||"Unicode",Bt=Ne.outputEncoding,(Ne.autoencode||Bt)&&pr[Ft].metadata&&pr[Ft].metadata[it]&&pr[Ft].metadata[it].encoding&&(Rt=pr[Ft].metadata[it].encoding,!Bt&&pr[Ft].encoding&&(Bt=pr[Ft].encoding),!Bt&&Rt.codePages&&(Bt=Rt.codePages[0]),typeof Bt=="string"&&(Bt=Rt[Bt]),Bt)){for(mr=!1,rr=[],Oe=0,et=de.length;Oe<et;Oe++)(Sr=Bt[de.charCodeAt(Oe)])?rr.push(String.fromCharCode(Sr)):rr.push(de[Oe]),rr[Oe].charCodeAt(0)>>8&&(mr=!0);de=rr.join("")}for(Oe=de.length;mr===void 0&&Oe!==0;)de.charCodeAt(Oe-1)>>8&&(mr=!0),Oe--;if(!mr)return de;for(rr=Ne.noBOM?[]:[254,255],Oe=0,et=de.length;Oe<et;Oe++){if((hn=(Sr=de.charCodeAt(Oe))>>8)>>8)throw new Error("Character at position "+Oe+" of string '"+de+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");rr.push(hn),rr.push(Sr-(hn<<8))}return String.fromCharCode.apply(void 0,rr)}(E,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},dn=g.__private__.beginPage=function(E){Ye[++hr]=[],$t[hr]={objId:0,contentsObjId:0,userUnit:Number(c),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(E[0]),topRightY:Number(E[1])}},Oi(hr),ft(Ye[B])},bs=function(E,z){var de,Ne,Oe;switch(r=z||r,typeof E=="string"&&(de=A(E.toLowerCase()),Array.isArray(de)&&(Ne=de[0],Oe=de[1])),Array.isArray(E)&&(Ne=E[0]*Qt,Oe=E[1]*Qt),isNaN(Ne)&&(Ne=a[0],Oe=a[1]),(Ne>14400||Oe>14400)&&(Hn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ne=Math.min(14400,Ne),Oe=Math.min(14400,Oe)),a=[Ne,Oe],r.substr(0,1)){case"l":Oe>Ne&&(a=[Oe,Ne]);break;case"p":Ne>Oe&&(a=[Oe,Ne])}dn(a),tr(oi),le(go),Uc!==0&&le(Uc+" J"),Ea!==0&&le(Ea+" j"),Rr.publish("addPage",{pageNumber:hr})},ii=function(E){E>0&&E<=hr&&(Ye.splice(E,1),$t.splice(E,1),hr--,B>hr&&(B=hr),this.setPage(B))},Oi=function(E){E>0&&E<=hr&&(B=E)},an=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return Ye.length-1},_s=function(E,z,de){var Ne,Oe=void 0;return de=de||{},E=E!==void 0?E:pr[Ft].fontName,z=z!==void 0?z:pr[Ft].fontStyle,Ne=E.toLowerCase(),xr[Ne]!==void 0&&xr[Ne][z]!==void 0?Oe=xr[Ne][z]:xr[E]!==void 0&&xr[E][z]!==void 0?Oe=xr[E][z]:de.disableWarning===!1&&Hn.warn("Unable to look up font label for font '"+E+"', '"+z+"'. Refer to getFontList() for available fonts."),Oe||de.noFallback||(Oe=xr.times[z])==null&&(Oe=xr.times.normal),Oe},Ar=g.__private__.putInfo=function(){var E=kr(),z=function(Ne){return Ne};for(var de in p!==null&&(z=la.encryptor(E,0)),le("<<"),le("/Producer ("+wr(z("jsPDF "+Yt.version))+")"),nr)nr.hasOwnProperty(de)&&nr[de]&&le("/"+de.substr(0,1).toUpperCase()+de.substr(1)+" ("+wr(z(nr[de]))+")");le("/CreationDate ("+wr(z(_e))+")"),le(">>"),le("endobj")},yl=g.__private__.putCatalog=function(E){var z=(E=E||{}).rootDictionaryObjId||se;switch(kr(),le("<<"),le("/Type /Catalog"),le("/Pages "+z+" 0 R"),kt||(kt="fullwidth"),kt){case"fullwidth":le("/OpenAction [3 0 R /FitH null]");break;case"fullheight":le("/OpenAction [3 0 R /FitV null]");break;case"fullpage":le("/OpenAction [3 0 R /Fit]");break;case"original":le("/OpenAction [3 0 R /XYZ null null 1]");break;default:var de=""+kt;de.substr(de.length-1)==="%"&&(kt=parseInt(kt)/100),typeof kt=="number"&&le("/OpenAction [3 0 R /XYZ null null "+I(kt)+"]")}switch(Zt||(Zt="continuous"),Zt){case"continuous":le("/PageLayout /OneColumn");break;case"single":le("/PageLayout /SinglePage");break;case"two":case"twoleft":le("/PageLayout /TwoColumnLeft");break;case"tworight":le("/PageLayout /TwoColumnRight")}Pt&&le("/PageMode /"+Pt),Rr.publish("putCatalog"),le(">>"),le("endobj")},Sn=g.__private__.putTrailer=function(){le("trailer"),le("<<"),le("/Size "+(Z+1)),le("/Root "+Z+" 0 R"),le("/Info "+(Z-1)+" 0 R"),p!==null&&le("/Encrypt "+la.oid+" 0 R"),le("/ID [ <"+Le+"> <"+Le+"> ]"),le(">>")},Gr=g.__private__.putHeader=function(){le("%PDF-"+S),le("%")},Us=g.__private__.putXRef=function(){var E="0000000000";le("xref"),le("0 "+(Z+1)),le("0000000000 65535 f ");for(var z=1;z<=Z;z++)typeof pe[z]=="function"?le((E+pe[z]()).slice(-10)+" 00000 n "):pe[z]!==void 0?le((E+pe[z]).slice(-10)+" 00000 n "):le("0000000000 00000 n ")},vi=g.__private__.buildDocument=function(){var E;Z=0,Se=0,be=[],pe=[],Ee=[],se=Rn(),ce=Rn(),ft(be),Rr.publish("buildDocument"),Gr(),$e(),function(){Rr.publish("putAdditionalObjects");for(var de=0;de<Ee.length;de++){var Ne=Ee[de];Y(Ne.objId,!0),le(Ne.content),le("endobj")}Rr.publish("postPutAdditionalObjects")}(),E=[],function(){for(var de in pr)pr.hasOwnProperty(de)&&(f===!1||f===!0&&b.hasOwnProperty(de))&&qe(pr[de])}(),function(){var de;for(de in Wt)Wt.hasOwnProperty(de)&&gt(Wt[de])}(),function(){for(var de in ra)ra.hasOwnProperty(de)&&ct(ra[de])}(),function(de){var Ne;for(Ne in Lt)Lt.hasOwnProperty(Ne)&&(Lt[Ne]instanceof Nd?bt(Lt[Ne]):Lt[Ne]instanceof kh&&Nt(Lt[Ne],de))}(E),Rr.publish("putResources"),E.forEach(pt),pt({resourcesOid:ce,objectOid:Number.MAX_SAFE_INTEGER}),Rr.publish("postPutResources"),p!==null&&(la.oid=kr(),le("<<"),le("/Filter /Standard"),le("/V "+la.v),le("/R "+la.r),le("/U <"+la.toHexString(la.U)+">"),le("/O <"+la.toHexString(la.O)+">"),le("/P "+la.P),le(">>"),le("endobj")),Ar(),yl();var z=Se;return Us(),Sn(),le("startxref"),le(""+z),le("%%EOF"),ft(Ye[B]),be.join(`
`)},ys=g.__private__.getBlob=function(E){return new Blob([Pe(E)],{type:"application/pdf"})},$s=g.output=g.__private__.output=(Ir=function(E,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",E){case void 0:return vi();case"save":g.save(z.filename);break;case"arraybuffer":return Pe(vi());case"blob":return ys(vi());case"bloburi":case"bloburl":if(_r.URL!==void 0&&typeof _r.URL.createObjectURL=="function")return _r.URL&&_r.URL.createObjectURL(ys(vi()))||void 0;Hn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var de="",Ne=vi();try{de=r_(Ne)}catch{de=r_(unescape(encodeURIComponent(Ne)))}return"data:application/pdf;filename="+z.filename+";base64,"+de;case"pdfobjectnewwindow":if(Object.prototype.toString.call(_r)==="[object Window]"){var Oe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",et=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(Oe=z.pdfObjectUrl,et="");var it='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Oe+'"'+et+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",Rt=_r.open();return Rt!==null&&Rt.document.write(it),Rt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(_r)==="[object Window]"){var Bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',rr=_r.open();if(rr!==null){rr.document.write(Bt);var mr=this;rr.document.documentElement.querySelector("#pdfViewer").onload=function(){rr.document.title=z.filename,rr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(mr.output("bloburl"))}}return rr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(_r)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',hn=_r.open();if(hn!==null&&(hn.document.write(Sr),hn.document.title=z.filename),hn||typeof safari>"u")return hn;break;case"datauri":case"dataurl":return _r.document.location.href=this.output("datauristring",z);default:return null}},Ir.foo=function(){try{return Ir.apply(this,arguments)}catch(de){var E=de.stack||"";~E.indexOf(" at ")&&(E=E.split(" at ")[1]);var z="Error in function "+E.split(`
`)[0].split("<")[0]+": "+de.message;if(!_r.console)throw new Error(z);_r.console.error(z,de),_r.alert&&alert(z)}},Ir.foo.bar=Ir,Ir.foo),Ii=function(E){return Array.isArray(as)===!0&&as.indexOf(E)>-1};switch(n){case"pt":Qt=1;break;case"mm":Qt=72/25.4;break;case"cm":Qt=72/2.54;break;case"in":Qt=72;break;case"px":Qt=Ii("px_scaling")==1?.75:96/72;break;case"pc":case"em":Qt=12;break;case"ex":Qt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Qt=n}var la=null;oe(),Q();var aa=g.__private__.getPageInfo=g.getPageInfo=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:$t[E].objId,pageNumber:E,pageContext:$t[E]}},zs=g.__private__.getPageInfoByObjId=function(E){if(isNaN(E)||E%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in $t)if($t[z].objId===E)break;return aa(z)},wl=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:$t[B].objId,pageNumber:B,pageContext:$t[B]}};g.addPage=function(){return bs.apply(this,arguments),this},g.setPage=function(){return Oi.apply(this,arguments),ft.call(this,Ye[B]),this},g.insertPage=function(E){return this.addPage(),this.movePage(B,E),this},g.movePage=function(E,z){var de,Ne;if(E>z){de=Ye[E],Ne=$t[E];for(var Oe=E;Oe>z;Oe--)Ye[Oe]=Ye[Oe-1],$t[Oe]=$t[Oe-1];Ye[z]=de,$t[z]=Ne,this.setPage(z)}else if(E<z){de=Ye[E],Ne=$t[E];for(var et=E;et<z;et++)Ye[et]=Ye[et+1],$t[et]=$t[et+1];Ye[z]=de,$t[z]=Ne,this.setPage(z)}return this},g.deletePage=function(){return ii.apply(this,arguments),this},g.__private__.text=g.text=function(E,z,de,Ne,Oe){var et,it,Rt,Bt,rr,mr,Sr,hn,Jn,bn=(Ne=Ne||{}).scope||this;if(typeof E=="number"&&typeof z=="number"&&(typeof de=="string"||Array.isArray(de))){var yr=de;de=z,z=E,E=yr}if(arguments[3]instanceof Gt==0?(Rt=arguments[4],Bt=arguments[5],Tn(Sr=arguments[3])==="object"&&Sr!==null||(typeof Rt=="string"&&(Bt=Rt,Rt=null),typeof Sr=="string"&&(Bt=Sr,Sr=null),typeof Sr=="number"&&(Rt=Sr,Sr=null),Ne={flags:Sr,angle:Rt,align:Bt})):(M("The transform parameter of text() with a Matrix value"),Jn=Oe),isNaN(z)||isNaN(de)||E==null)throw new Error("Invalid arguments passed to jsPDF.text");if(E.length===0)return bn;var Kr,da="",Ws=typeof Ne.lineHeightFactor=="number"?Ne.lineHeightFactor:si,_i=bn.internal.scaleFactor;function vo(qr){return qr=qr.split("	").join(Array(Ne.TabLen||9).join(" ")),wr(qr,Sr)}function Ha(qr){for(var Cr,sn=qr.concat(),Yr=[],$i=sn.length;$i--;)typeof(Cr=sn.shift())=="string"?Yr.push(Cr):Array.isArray(qr)&&(Cr.length===1||Cr[1]===void 0&&Cr[2]===void 0)?Yr.push(Cr[0]):Yr.push([Cr[0],Cr[1],Cr[2]]);return Yr}function Vs(qr,Cr){var sn;if(typeof qr=="string")sn=Cr(qr)[0];else if(Array.isArray(qr)){for(var Yr,$i,uc=qr.concat(),rl=[],ba=uc.length;ba--;)typeof(Yr=uc.shift())=="string"?rl.push(Cr(Yr)[0]):Array.isArray(Yr)&&typeof Yr[0]=="string"&&($i=Cr(Yr[0],Yr[1],Yr[2]),rl.push([$i[0],$i[1],$i[2]]));sn=rl}return sn}var bo=!1,El=!0;if(typeof E=="string")bo=!0;else if(Array.isArray(E)){var Wn=E.concat();it=[];for(var ui,ha=Wn.length;ha--;)(typeof(ui=Wn.shift())!="string"||Array.isArray(ui)&&typeof ui[0]!="string")&&(El=!1);bo=El}if(bo===!1)throw new Error('Type of text must be string or Array. "'+E+'" is not recognized.');typeof E=="string"&&(E=E.match(/[\r?\n]/)?E.split(/\r\n|\r|\n/g):[E]);var Zo=Je/bn.internal.scaleFactor,Gs=Zo*(Ws-1);switch(Ne.baseline){case"bottom":de-=Gs;break;case"top":de+=Zo-Gs;break;case"hanging":de+=Zo-2*Gs;break;case"middle":de+=Zo/2-Gs}if((mr=Ne.maxWidth||0)>0&&(typeof E=="string"?E=bn.splitTextToSize(E,mr):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(qr,Cr){return qr.concat(bn.splitTextToSize(Cr,mr))},[]))),et={text:E,x:z,y:de,options:Ne,mutex:{pdfEscape:wr,activeFontKey:Ft,fonts:pr,activeFontSize:Je}},Rr.publish("preProcessText",et),E=et.text,Rt=(Ne=et.options).angle,Jn instanceof Gt==0&&Rt&&typeof Rt=="number"){Rt*=Math.PI/180,Ne.rotationDirection===0&&(Rt=-Rt),R===T&&(Rt=-Rt);var oc=Math.cos(Rt),lc=Math.sin(Rt);Jn=new Gt(oc,lc,-lc,oc,0,0)}else Rt&&Rt instanceof Gt&&(Jn=Rt);R!==T||Jn||(Jn=za),(rr=Ne.charSpace||Mn)!==void 0&&(da+=H(ae(rr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(hn=Ne.horizontalScale)!==void 0&&(da+=H(100*hn)+` Tz
`),Ne.lang;var Aa=-1,va=Ne.renderingMode!==void 0?Ne.renderingMode:Ne.stroke,Ks=bn.internal.getCurrentPageInfo().pageContext;switch(va){case 0:case!1:case"fill":Aa=0;break;case 1:case!0:case"stroke":Aa=1;break;case 2:case"fillThenStroke":Aa=2;break;case 3:case"invisible":Aa=3;break;case 4:case"fillAndAddForClipping":Aa=4;break;case 5:case"strokeAndAddPathForClipping":Aa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Aa=6;break;case 7:case"addToPathForClipping":Aa=7}var ir=Ks.usedRenderingMode!==void 0?Ks.usedRenderingMode:-1;Aa!==-1?da+=Aa+` Tr
`:ir!==-1&&(da+=`0 Tr
`),Aa!==-1&&(Ks.usedRenderingMode=Aa),Bt=Ne.align||"left";var Vn,_o=Je*Ws,kl=bn.internal.pageSize.getWidth(),Al=pr[Ft];rr=Ne.charSpace||Mn,mr=Ne.maxWidth||0,Sr=Object.assign({autoencode:!0,noBOM:!0},Ne.flags);var yo=[],fa=function(qr){return bn.getStringUnitWidth(qr,{font:Al,charSpace:rr,fontSize:Je,doKerning:!1})*Je/_i};if(Object.prototype.toString.call(E)==="[object Array]"){var di;it=Ha(E),Bt!=="left"&&(Vn=it.map(fa));var Wa,Qo=0;if(Bt==="right"){z-=Vn[0],E=[],ha=it.length;for(var Es=0;Es<ha;Es++)Es===0?(Wa=Di(z),di=ca(de)):(Wa=ae(Qo-Vn[Es]),di=-_o),E.push([it[Es],Wa,di]),Qo=Vn[Es]}else if(Bt==="center"){z-=Vn[0]/2,E=[],ha=it.length;for(var ks=0;ks<ha;ks++)ks===0?(Wa=Di(z),di=ca(de)):(Wa=ae((Qo-Vn[ks])/2),di=-_o),E.push([it[ks],Wa,di]),Qo=Vn[ks]}else if(Bt==="left"){E=[],ha=it.length;for(var Ys=0;Ys<ha;Ys++)E.push(it[Ys])}else if(Bt==="justify"&&Al.encoding==="Identity-H"){E=[],ha=it.length,mr=mr!==0?mr:kl;for(var As=0,Un=0;Un<ha;Un++)if(di=Un===0?ca(de):-_o,Wa=Un===0?Di(z):As,Un<ha-1){var Cl=ae((mr-Vn[Un])/(it[Un].split(" ").length-1)),Cs=it[Un].split(" ");E.push([Cs[0]+" ",Wa,di]),As=0;for(var Ts=1;Ts<Cs.length;Ts++){var wo=(fa(Cs[Ts-1]+" "+Cs[Ts])-fa(Cs[Ts]))*_i+Cl;Ts==Cs.length-1?E.push([Cs[Ts],wo,0]):E.push([Cs[Ts]+" ",wo,0]),As-=wo}}else E.push([it[Un],Wa,di]);E.push(["",As,0])}else{if(Bt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(E=[],ha=it.length,mr=mr!==0?mr:kl,Un=0;Un<ha;Un++){di=Un===0?ca(de):-_o,Wa=Un===0?Di(z):0;var Tl=it[Un].split(" ").length-1,cc=Tl>0?(mr-Vn[Un])/Tl:0;Un<ha-1?yo.push(H(ae(cc))):yo.push(0),E.push([it[Un],Wa,di])}}}(typeof Ne.R2L=="boolean"?Ne.R2L:Et)===!0&&(E=Vs(E,function(qr,Cr,sn){return[qr.split("").reverse().join(""),Cr,sn]})),et={text:E,x:z,y:de,options:Ne,mutex:{pdfEscape:wr,activeFontKey:Ft,fonts:pr,activeFontSize:Je}},Rr.publish("postProcessText",et),E=et.text,Kr=et.mutex.isHex||!1;var Pl=pr[Ft].encoding;Pl!=="WinAnsiEncoding"&&Pl!=="StandardEncoding"||(E=Vs(E,function(qr,Cr,sn){return[vo(qr),Cr,sn]})),it=Ha(E),E=[];for(var Ca,So,el,tl=Array.isArray(it[0])?1:0,Zr="",Ui=function(qr,Cr,sn){var Yr="";return sn instanceof Gt?(sn=typeof Ne.angle=="number"?$a(sn,new Gt(1,0,0,1,qr,Cr)):$a(new Gt(1,0,0,1,qr,Cr),sn),R===T&&(sn=$a(new Gt(1,0,0,-1,0,0),sn)),Yr=sn.join(" ")+` Tm
`):Yr=H(qr)+" "+H(Cr)+` Td
`,Yr},Fn=0;Fn<it.length;Fn++){switch(Zr="",tl){case 1:el=(Kr?"<":"(")+it[Fn][0]+(Kr?">":")"),Ca=parseFloat(it[Fn][1]),So=parseFloat(it[Fn][2]);break;case 0:el=(Kr?"<":"(")+it[Fn]+(Kr?">":")"),Ca=Di(z),So=ca(de)}yo!==void 0&&yo[Fn]!==void 0&&(Zr=yo[Fn]+` Tw
`),Fn===0?E.push(Zr+Ui(Ca,So,Jn)+el):tl===0?E.push(Zr+el):tl===1&&E.push(Zr+Ui(Ca,So,Jn)+el)}E=tl===0?E.join(` Tj
T* `):E.join(` Tj
`),E+=` Tj
`;var hi=`BT
/`;return hi+=Ft+" "+Je+` Tf
`,hi+=H(Je*Ws)+` TL
`,hi+=Ns+`
`,hi+=da,hi+=E,le(hi+="ET"),b[Ft]=!0,bn};var Vo=g.__private__.clip=g.clip=function(E){return le(E==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return Vo("evenodd")},g.__private__.discardPath=g.discardPath=function(){return le("n"),this};var ws=g.__private__.isValidStyle=function(E){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(E)!==-1&&(z=!0),z};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(E){return ws(E)&&(h=E),this};var ac=g.__private__.getStyle=g.getStyle=function(E){var z=h;switch(E){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=E}return z},zr=g.close=function(){return le("h"),this};g.stroke=function(){return le("S"),this},g.fill=function(E){return is("f",E),this},g.fillEvenOdd=function(E){return is("f*",E),this},g.fillStroke=function(E){return is("B",E),this},g.fillStrokeEvenOdd=function(E){return is("B*",E),this};var is=function(E,z){Tn(z)==="object"?Bn(z,E):le(E)},fo=function(E){E===null||R===T&&E===void 0||(E=ac(E),le(E))};function Sl(E,z,de,Ne,Oe){var et=new kh(z||this.boundingBox,de||this.xStep,Ne||this.yStep,this.gState,Oe||this.matrix);et.stream=this.stream;var it=E+"$$"+this.cloneIndex+++"$$";return na(it,et),et}var Bn=function(E,z){var de=Or[E.key],Ne=Lt[de];if(Ne instanceof Nd)le("q"),le(ss(z)),Ne.gState&&g.setGState(Ne.gState),le(E.matrix.toString()+" cm"),le("/"+de+" sh"),le("Q");else if(Ne instanceof kh){var Oe=new Gt(1,0,0,-1,0,bi());E.matrix&&(Oe=Oe.multiply(E.matrix||za),de=Sl.call(Ne,E.key,E.boundingBox,E.xStep,E.yStep,Oe).id),le("q"),le("/Pattern cs"),le("/"+de+" scn"),Ne.gState&&g.setGState(Ne.gState),le(z),le("Q")}},ss=function(E){switch(E){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},po=g.moveTo=function(E,z){return le(H(ae(E))+" "+H(ge(z))+" m"),this},Go=g.lineTo=function(E,z){return le(H(ae(E))+" "+H(ge(z))+" l"),this},ja=g.curveTo=function(E,z,de,Ne,Oe,et){return le([H(ae(E)),H(ge(z)),H(ae(de)),H(ge(Ne)),H(ae(Oe)),H(ge(et)),"c"].join(" ")),this};g.__private__.line=g.line=function(E,z,de,Ne,Oe){if(isNaN(E)||isNaN(z)||isNaN(de)||isNaN(Ne)||!ws(Oe))throw new Error("Invalid arguments passed to jsPDF.line");return R===P?this.lines([[de-E,Ne-z]],E,z,[1,1],Oe||"S"):this.lines([[de-E,Ne-z]],E,z,[1,1]).stroke()},g.__private__.lines=g.lines=function(E,z,de,Ne,Oe,et){var it,Rt,Bt,rr,mr,Sr,hn,Jn,bn,yr,Kr,da;if(typeof E=="number"&&(da=de,de=z,z=E,E=da),Ne=Ne||[1,1],et=et||!1,isNaN(z)||isNaN(de)||!Array.isArray(E)||!Array.isArray(Ne)||!ws(Oe)||typeof et!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(po(z,de),it=Ne[0],Rt=Ne[1],rr=E.length,yr=z,Kr=de,Bt=0;Bt<rr;Bt++)(mr=E[Bt]).length===2?(yr=mr[0]*it+yr,Kr=mr[1]*Rt+Kr,Go(yr,Kr)):(Sr=mr[0]*it+yr,hn=mr[1]*Rt+Kr,Jn=mr[2]*it+yr,bn=mr[3]*Rt+Kr,yr=mr[4]*it+yr,Kr=mr[5]*Rt+Kr,ja(Sr,hn,Jn,bn,yr,Kr));return et&&zr(),fo(Oe),this},g.path=function(E){for(var z=0;z<E.length;z++){var de=E[z],Ne=de.c;switch(de.op){case"m":po(Ne[0],Ne[1]);break;case"l":Go(Ne[0],Ne[1]);break;case"c":ja.apply(this,Ne);break;case"h":zr()}}return this},g.__private__.rect=g.rect=function(E,z,de,Ne,Oe){if(isNaN(E)||isNaN(z)||isNaN(de)||isNaN(Ne)||!ws(Oe))throw new Error("Invalid arguments passed to jsPDF.rect");return R===P&&(Ne=-Ne),le([H(ae(E)),H(ge(z)),H(ae(de)),H(ae(Ne)),"re"].join(" ")),fo(Oe),this},g.__private__.triangle=g.triangle=function(E,z,de,Ne,Oe,et,it){if(isNaN(E)||isNaN(z)||isNaN(de)||isNaN(Ne)||isNaN(Oe)||isNaN(et)||!ws(it))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[de-E,Ne-z],[Oe-de,et-Ne],[E-Oe,z-et]],E,z,[1,1],it,!0),this},g.__private__.roundedRect=g.roundedRect=function(E,z,de,Ne,Oe,et,it){if(isNaN(E)||isNaN(z)||isNaN(de)||isNaN(Ne)||isNaN(Oe)||isNaN(et)||!ws(it))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Rt=4/3*(Math.SQRT2-1);return Oe=Math.min(Oe,.5*de),et=Math.min(et,.5*Ne),this.lines([[de-2*Oe,0],[Oe*Rt,0,Oe,et-et*Rt,Oe,et],[0,Ne-2*et],[0,et*Rt,-Oe*Rt,et,-Oe,et],[2*Oe-de,0],[-Oe*Rt,0,-Oe,-et*Rt,-Oe,-et],[0,2*et-Ne],[0,-et*Rt,Oe*Rt,-et,Oe,-et]],E+Oe,z,[1,1],it,!0),this},g.__private__.ellipse=g.ellipse=function(E,z,de,Ne,Oe){if(isNaN(E)||isNaN(z)||isNaN(de)||isNaN(Ne)||!ws(Oe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var et=4/3*(Math.SQRT2-1)*de,it=4/3*(Math.SQRT2-1)*Ne;return po(E+de,z),ja(E+de,z-it,E+et,z-Ne,E,z-Ne),ja(E-et,z-Ne,E-de,z-it,E-de,z),ja(E-de,z+it,E-et,z+Ne,E,z+Ne),ja(E+et,z+Ne,E+de,z+it,E+de,z),fo(Oe),this},g.__private__.circle=g.circle=function(E,z,de,Ne){if(isNaN(E)||isNaN(z)||isNaN(de)||!ws(Ne))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(E,z,de,de,Ne)},g.setFont=function(E,z,de){return de&&(z=G(z,de)),Ft=_s(E,z,{disableWarning:!1}),this};var Ss=g.__private__.getFont=g.getFont=function(){return pr[_s.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var E,z,de={};for(E in xr)if(xr.hasOwnProperty(E))for(z in de[E]=[],xr[E])xr[E].hasOwnProperty(z)&&de[E].push(z);return de},g.addFont=function(E,z,de,Ne,Oe){var et=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&et.indexOf(arguments[3])!==-1?Oe=arguments[3]:arguments[3]&&et.indexOf(arguments[3])==-1&&(de=G(de,Ne)),Pr.call(this,E,z,de,Oe=Oe||"Identity-H")};var si,oi=e.lineWidth||.200025,qs=g.__private__.getLineWidth=g.getLineWidth=function(){return oi},tr=g.__private__.setLineWidth=g.setLineWidth=function(E){return oi=E,le(H(ae(E))+" w"),this};g.__private__.setLineDash=Yt.API.setLineDash=Yt.API.setLineDashPattern=function(E,z){if(E=E||[],z=z||0,isNaN(z)||!Array.isArray(E))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return E=E.map(function(de){return H(ae(de))}).join(" "),z=H(ae(z)),le("["+E+"] "+z+" d"),this};var qa=g.__private__.getLineHeight=g.getLineHeight=function(){return Je*si};g.__private__.getLineHeight=g.getLineHeight=function(){return Je*si};var ic=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(E){return typeof(E=E||1.15)=="number"&&(si=E),this},sc=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return si};ic(e.lineHeight);var Di=g.__private__.getHorizontalCoordinate=function(E){return ae(E)},ca=g.__private__.getVerticalCoordinate=function(E){return R===T?E:$t[B].mediaBox.topRightY-$t[B].mediaBox.bottomLeftY-ae(E)},Hs=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(E){return H(Di(E))},mo=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(E){return H(ca(E))},go=e.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return me(go)},g.__private__.setStrokeColor=g.setDrawColor=function(E,z,de,Ne){return go=xe({ch1:E,ch2:z,ch3:de,ch4:Ne,pdfColorType:"draw",precision:2}),le(go),this};var Ko=e.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return me(Ko)},g.__private__.setFillColor=g.setFillColor=function(E,z,de,Ne){return Ko=xe({ch1:E,ch2:z,ch3:de,ch4:Ne,pdfColorType:"fill",precision:2}),le(Ko),this};var Ns=e.textColor||"0 g",Nn=g.__private__.getTextColor=g.getTextColor=function(){return me(Ns)};g.__private__.setTextColor=g.setTextColor=function(E,z,de,Ne){return Ns=xe({ch1:E,ch2:z,ch3:de,ch4:Ne,pdfColorType:"text",precision:3}),this};var Mn=e.charSpace,Yo=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(Mn||0)};g.__private__.setCharSpace=g.setCharSpace=function(E){if(isNaN(E))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Mn=E,this};var Uc=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(E){var z=g.CapJoinStyles[E];if(z===void 0)throw new Error("Line cap style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Uc=z,le(z+" J"),this};var Ea=0;g.__private__.setLineJoin=g.setLineJoin=function(E){var z=g.CapJoinStyles[E];if(z===void 0)throw new Error("Line join style of '"+E+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Ea=z,le(z+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(E){if(E=E||0,isNaN(E))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return le(H(ae(E))+" M"),this},g.GState=Hp,g.setGState=function(E){(E=typeof E=="string"?Wt[er[E]]:Bi(null,E)).equals(Hr)||(le("/"+E.id+" gs"),Hr=E)};var Bi=function(E,z){if(!E||!er[E]){var de=!1;for(var Ne in Wt)if(Wt.hasOwnProperty(Ne)&&Wt[Ne].equals(z)){de=!0;break}if(de)z=Wt[Ne];else{var Oe="GS"+(Object.keys(Wt).length+1).toString(10);Wt[Oe]=z,z.id=Oe}return E&&(er[E]=z.id),Rr.publish("addGState",z),z}};g.addGState=function(E,z){return Bi(E,z),this},g.saveGraphicsState=function(){return le("q"),nn.push({key:Ft,size:Je,color:Ns}),this},g.restoreGraphicsState=function(){le("Q");var E=nn.pop();return Ft=E.key,Je=E.size,Ns=E.color,Hr=null,this},g.setCurrentTransformationMatrix=function(E){return le(E.toString()+" cm"),this},g.comment=function(E){return le("#"+E),this};var li=function(E,z){var de=E||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return de},set:function(et){isNaN(et)||(de=parseFloat(et))}});var Ne=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ne},set:function(et){isNaN(et)||(Ne=parseFloat(et))}});var Oe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Oe},set:function(et){Oe=et.toString()}}),this},xo=function(E,z,de,Ne){li.call(this,E,z),this.type="rect";var Oe=de||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Oe},set:function(it){isNaN(it)||(Oe=parseFloat(it))}});var et=Ne||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return et},set:function(it){isNaN(it)||(et=parseFloat(it))}}),this},Xo=function(){this.page=hr,this.currentPage=B,this.pages=Ye.slice(0),this.pagesContext=$t.slice(0),this.x=Ct,this.y=rn,this.matrix=Er,this.width=Mi(B),this.height=Jo(B),this.outputDestination=st,this.id="",this.objectNumber=-1};Xo.prototype.restore=function(){hr=this.page,B=this.currentPage,$t=this.pagesContext,Ye=this.pages,Ct=this.x,rn=this.y,Er=this.matrix,Nl(B,this.width),ci(B,this.height),st=this.outputDestination};var os=function(E,z,de,Ne,Oe){ai.push(new Xo),hr=B=0,Ye=[],Ct=E,rn=z,Er=Oe,dn([de,Ne])};for(var ua in g.beginFormObject=function(E,z,de,Ne,Oe){return os(E,z,de,Ne,Oe),this},g.endFormObject=function(E){return function(z){if(Fi[z])ai.pop().restore();else{var de=new Xo,Ne="Xo"+(Object.keys(ra).length+1).toString(10);de.id=Ne,Fi[z]=Ne,ra[Ne]=de,Rr.publish("addFormObject",de),ai.pop().restore()}}(E),this},g.doFormObject=function(E,z){var de=ra[Fi[E]];return le("q"),le(z.toString()+" cm"),le("/"+de.id+" Do"),le("Q"),this},g.getFormObject=function(E){var z=ra[Fi[E]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},g.save=function(E,z){return E=E||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(_d(ys(vi()),E),typeof _d.unload=="function"&&_r.setTimeout&&setTimeout(_d.unload,911),this):new Promise(function(de,Ne){try{var Oe=_d(ys(vi()),E);typeof _d.unload=="function"&&_r.setTimeout&&setTimeout(_d.unload,911),de(Oe)}catch(et){Ne(et.message)}})},Yt.API)Yt.API.hasOwnProperty(ua)&&(ua==="events"&&Yt.API.events.length?function(E,z){var de,Ne,Oe;for(Oe=z.length-1;Oe!==-1;Oe--)de=z[Oe][0],Ne=z[Oe][1],E.subscribe.apply(E,[de].concat(typeof Ne=="function"?[Ne]:Ne))}(Rr,Yt.API.events):g[ua]=Yt.API[ua]);function Mi(E){return $t[E].mediaBox.topRightX-$t[E].mediaBox.bottomLeftX}function Nl(E,z){$t[E].mediaBox.topRightX=z+$t[E].mediaBox.bottomLeftX}function Jo(E){return $t[E].mediaBox.topRightY-$t[E].mediaBox.bottomLeftY}function ci(E,z){$t[E].mediaBox.topRightY=z+$t[E].mediaBox.bottomLeftY}var js=g.getPageWidth=function(E){return Mi(E=E||B)/Qt},ka=g.setPageWidth=function(E,z){Nl(E,z*Qt)},bi=g.getPageHeight=function(E){return Jo(E=E||B)/Qt},jl=g.setPageHeight=function(E,z){ci(E,z*Qt)};return g.internal={pdfEscape:wr,getStyle:ac,getFont:Ss,getFontSize:Ze,getCharSpace:Yo,getTextColor:Nn,getLineHeight:qa,getLineHeightFactor:sc,getLineWidth:qs,write:dt,getHorizontalCoordinate:Di,getVerticalCoordinate:ca,getCoordinateString:Hs,getVerticalCoordinateString:mo,collections:{},newObject:kr,newAdditionalObject:ue,newObjectDeferred:Rn,newObjectDeferredBegin:Y,getFilters:Ue,putStream:Ve,events:Rr,scaleFactor:Qt,pageSize:{getWidth:function(){return js(B)},setWidth:function(E){ka(B,E)},getHeight:function(){return bi(B)},setHeight:function(E){jl(B,E)}},encryptionOptions:p,encryption:la,getEncryptor:function(E){return p!==null?la.encryptor(E,0):function(z){return z}},output:$s,getNumberOfPages:an,get pages(){return Ye},out:le,f2:I,f3:W,getPageInfo:aa,getPageInfoByObjId:zs,getCurrentPageInfo:wl,getPDFVersion:y,Point:li,Rectangle:xo,Matrix:Gt,hasHotfix:Ii},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return js(B)},set:function(E){ka(B,E)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return bi(B)},set:function(E){jl(B,E)},enumerable:!0,configurable:!0}),(function(E){for(var z=0,de=rt.length;z<de;z++){var Ne=Pr.call(this,E[z][0],E[z][1],E[z][2],rt[z][3],!0);f===!1&&(b[Ne]=!0);var Oe=E[z][0].split("-");ar({id:Ne,fontName:Oe[0],fontStyle:Oe[1]||""})}Rr.publish("addFonts",{fonts:pr,dictionary:xr})}).call(g,rt),Ft="F1",bs(a,r),Rr.publish("initialized"),g}Sh.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Sh.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Sh.prototype.hexToBytes=function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(String.fromCharCode(parseInt(e.substr(r,2),16)));return t.join("")},Sh.prototype.processOwnerPassword=function(e,t){return F1(R1(t).substr(0,5),e)},Sh.prototype.encryptor=function(e,t){var r=R1(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(n){return F1(r,n)}},Hp.prototype.equals=function(e){var t,r="id,objectNumber,equals";if(!e||Tn(e)!==Tn(this))return!1;var n=0;for(t in this)if(!(r.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;n++}for(t in e)e.hasOwnProperty(t)&&r.indexOf(t)<0&&n--;return n===0},Yt.API={events:[]},Yt.version="4.2.0";var ya=Yt.API,Tx=1,Gd=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xh=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Md=function(e){return e.toString().replace(/#/g,"#23").replace(/[\s\n\r()<>[\]{}\/%]/g,function(t){var r=t.charCodeAt(0).toString(16).toUpperCase();return"#"+(r.length===1?"0"+r:r)})},jr=function(e){return e.toFixed(2)},Bu=function(e){return e.toFixed(5)};ya.__acroform__={};var ho=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},s_=function(e){return e*Tx},Tc=function(e){var t=new Y5,r=Ut.internal.getHeight(e)||0,n=Ut.internal.getWidth(e)||0;return t.BBox=[0,0,Number(jr(n)),Number(jr(r))],t},lO=ya.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},cO=ya.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},uO=ya.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},Ba=ya.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return uO(e,t-1)},Ma=ya.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return lO(e,t-1)},Ua=ya.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return cO(e,t-1)},dO=ya.__acroform__.calculateCoordinates=function(e,t){var r=t.internal.getHorizontalCoordinate,n=t.internal.getVerticalCoordinate,a=e[0],i=e[1],l=e[2],c=e[3],d={};return d.lowerLeft_X=r(a)||0,d.lowerLeft_Y=n(i+c)||0,d.upperRight_X=r(a+l)||0,d.upperRight_Y=n(i)||0,[Number(jr(d.lowerLeft_X)),Number(jr(d.lowerLeft_Y)),Number(jr(d.upperRight_X)),Number(jr(d.upperRight_Y))]},hO=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],r=e._V||e.DV,n=O1(e,r),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+jr(n.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(n.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Tc(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},O1=function(e,t){var r=e.fontSize===0?e.maxFontSize:e.fontSize,n={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(I){return I.split(`
`)}):a.map(function(I){return[I]});var i=r,l=Ut.internal.getHeight(e)||0;l=l<0?-l:l;var c=Ut.internal.getWidth(e)||0;c=c<0?-c:c;var d=function(I,W,ae){if(I+1<a.length){var ge=W+" "+a[I+1][0];return lp(ge,e,ae).width<=c-4}return!1};i++;e:for(;i>0;){t="",i--;var h,p,f=lp("3",e,i).height,b=e.multiline?l-i:(l-f)/2,g=b+=2,S=0,y=0,N=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+lp(t,e,i=12).width+", FieldWidth:"+c+`
`;break}for(var A="",P=0,T=0;T<a.length;T++)if(a.hasOwnProperty(T)){var R=!1;if(a[T].length!==1&&N!==a[T].length-1){if((f+2)*(P+2)+2>l)continue e;A+=a[T][N],R=!0,y=T,T--}else{A=(A+=a[T][N]+" ").substr(A.length-1)==" "?A.substr(0,A.length-1):A;var q=parseInt(T),te=d(q,A,i),G=T>=a.length-1;if(te&&!G){A+=" ",N=0;continue}if(te||G){if(G)y=q;else if(e.multiline&&(f+2)*(P+2)+2>l)continue e}else{if(!e.multiline||(f+2)*(P+2)+2>l)continue e;y=q}}for(var H="",M=S;M<=y;M++){var re=a[M];if(e.multiline){if(M===y){H+=re[N]+" ",N=(N+1)%re.length;continue}if(M===S){H+=re[re.length-1]+" ";continue}}H+=re[0]+" "}switch(H=H.substr(H.length-1)==" "?H.substr(0,H.length-1):H,p=lp(H,e,i).width,e.textAlign){case"right":h=c-p-2;break;case"center":h=(c-p)/2;break;default:h=2}t+=jr(h)+" "+jr(g)+` Td
`,t+="("+Gd(H)+`) Tj
`,t+=-jr(h)+` 0 Td
`,g=-(i+2),p=0,S=R?y:y+1,P++,A=""}break}return n.text=t,n.fontSize=i,n},lp=function(e,t,r){var n=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:t.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},fO={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},pO=function(e,t){var r={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(r)},mO=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(rc.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(fO)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Tx=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new X5,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&pO(i,r)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var l in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(l)){var c=n[l],d=[],h=c.Rect;if(c.Rect&&(c.Rect=dO(c.Rect,a)),a.internal.newObjectDeferredBegin(c.objId,!0),c.DA=Ut.createDefaultAppearanceStream(c),Tn(c)==="object"&&typeof c.getKeyValueListForStream=="function"&&(d=c.getKeyValueListForStream()),c.Rect=h,c.hasAppearanceStream&&!c.appearanceStreamContent){var p=hO(c);d.push({key:"AP",value:"<</N "+p+">>"}),a.internal.acroformPlugin.xForms.push(p)}if(c.appearanceStreamContent){var f="";for(var b in c.appearanceStreamContent)if(c.appearanceStreamContent.hasOwnProperty(b)){var g=c.appearanceStreamContent[b];if(f+="/"+b+" ",f+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var l in g)if(g.hasOwnProperty(l)){var S=g[l];typeof S=="function"&&(S=S.call(a,c)),f+="/"+l+" "+S+" ",a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S)}}else typeof(S=g)=="function"&&(S=S.call(a,c)),f+="/"+l+" "+S,a.internal.acroformPlugin.xForms.indexOf(S)>=0||a.internal.acroformPlugin.xForms.push(S);f+=">>"}d.push({key:"AP",value:`<<
`+f+">>"})}a.internal.putStream({additionalKeyValues:d,objectId:c.objId}),a.internal.out("endobj")}i&&function(y,N){for(var A in y)if(y.hasOwnProperty(A)){var P=A,T=y[A];N.internal.newObjectDeferredBegin(T.objId,!0),Tn(T)==="object"&&typeof T.putStream=="function"&&T.putStream(),delete y[P]}}(a.internal.acroformPlugin.xForms,a)})(r,e)}),e.internal.acroformPlugin.isInitialized=!0}},K5=ya.__acroform__.arrayToPdfArray=function(e,t,r){var n=function(l){return l};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),Tn(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)==="/"?a+="/"+Md(e[i].substr(1)):(t!==void 0&&r&&(n=r.internal.getEncryptor(t)),a+="("+Gd(n(e[i].toString()))+")")}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},$g=function(e,t,r){var n=function(a){return a};return t!==void 0&&r&&(n=r.internal.getEncryptor(t)),(e=e||"").toString(),"("+Gd(n(e))+")"},Rc=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Rc.prototype.toString=function(){return this.objId+" 0 R"},Rc.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Rc.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in t)if(Object.getOwnPropertyDescriptor(this,t[r]).configurable===!1){var n=t[r],a=this[n];a&&(Array.isArray(a)?e.push({key:n,value:K5(a,this.objId,this.scope)}):a instanceof Rc?(a.scope=this.scope,e.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:n,value:a}))}return e};var Y5=function(){Rc.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){e=r.trim()},get:function(){return e||null}})};ho(Y5,Rc);var X5=function(){Rc.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Gd(r(e))+")"}},set:function(r){e=r}})};ho(X5,Rc);var rc=function e(){Rc.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute F supplied.');t=A}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ba(t,3)},set:function(A){A?this.F=Ma(t,3):this.F=Ua(t,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(A){if(isNaN(A))throw new Error('Invalid value "'+A+'" for attribute Ff supplied.');r=A}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(A){n=A!==void 0?A:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(A){n[0]=A}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(A){n[1]=A}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(A){n[2]=A}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(A){n[3]=A}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(A){switch(A){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=A;break;default:throw new Error('Invalid value "'+A+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Wp)return;i="FieldObject"+e.FieldNum++}var A=function(P){return P};return this.scope&&(A=this.scope.internal.getEncryptor(this.objId)),"("+Gd(A(i))+")"},set:function(A){i=A.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(A){i=A}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(A){l=A}});var c="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return c},set:function(A){c=A}});var d=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return d},set:function(A){d=A}});var h=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return h===void 0?50/Tx:h},set:function(A){h=A}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(A){p=A}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof Wp||this instanceof Ld))return $g(f,this.objId,this.scope)},set:function(A){A=A.toString(),f=A}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Ti==0?$g(b,this.objId,this.scope):b},set:function(A){A=A.toString(),b=this instanceof Ti==0?A.substr(0,1)==="("?xh(A.substr(1,A.length-2)):xh(A):A}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti==1?xh(b.substr(1,b.length-1)):b},set:function(A){A=A.toString(),b=this instanceof Ti==1?"/"+Md(A):A}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(A){this.V=A}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Ti==0?$g(g,this.objId,this.scope):g},set:function(A){A=A.toString(),g=this instanceof Ti==0?A.substr(0,1)==="("?xh(A.substr(1,A.length-2)):xh(A):A}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti==1?xh(g.substr(1,g.length-1)):g},set:function(A){A=A.toString(),g=this instanceof Ti==1?"/"+Md(A):A}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var S,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(A){A=!!A,y=A}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(S)return S},set:function(A){S=A}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,1)},set:function(A){A?this.Ff=Ma(this.Ff,1):this.Ff=Ua(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,2)},set:function(A){A?this.Ff=Ma(this.Ff,2):this.Ff=Ua(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,3)},set:function(A){A?this.Ff=Ma(this.Ff,3):this.Ff=Ua(this.Ff,3)}});var N=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(N!==null)return N},set:function(A){if([0,1,2].indexOf(A)===-1)throw new Error('Invalid value "'+A+'" for attribute Q supplied.');N=A}}),Object.defineProperty(this,"textAlign",{get:function(){var A;switch(N){case 0:default:A="left";break;case 1:A="center";break;case 2:A="right"}return A},configurable:!0,enumerable:!0,set:function(A){switch(A){case"right":case 2:N=2;break;case"center":case 1:N=1;break;default:N=0}}})};ho(rc,Rc);var Fh=function(){rc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(r){e=r}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return K5(t,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,l,c){c||(c=1);for(var d,h=[];d=l.exec(i);)h.push(d[c]);return h}(n,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(r){t=r,this.sort&&t.sort()},this.addOption=function(r){r=(r=r||"").toString(),t.push(r),this.sort&&t.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();t.indexOf(r)!==-1&&(t.splice(t.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,18)},set:function(r){r?this.Ff=Ma(this.Ff,18):this.Ff=Ua(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Ma(this.Ff,19):this.Ff=Ua(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,20)},set:function(r){r?(this.Ff=Ma(this.Ff,20),t.sort()):this.Ff=Ua(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,22)},set:function(r){r?this.Ff=Ma(this.Ff,22):this.Ff=Ua(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,23)},set:function(r){r?this.Ff=Ma(this.Ff,23):this.Ff=Ua(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,27)},set:function(r){r?this.Ff=Ma(this.Ff,27):this.Ff=Ua(this.Ff,27)}}),this.hasAppearanceStream=!1};ho(Fh,rc);var Oh=function(){Fh.call(this),this.fontName="helvetica",this.combo=!1};ho(Oh,Fh);var Ih=function(){Oh.call(this),this.combo=!0};ho(Ih,Oh);var mp=function(){Ih.call(this),this.edit=!0};ho(mp,Ih);var Ti=function(){rc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,15)},set:function(r){r?this.Ff=Ma(this.Ff,15):this.Ff=Ua(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,16)},set:function(r){r?this.Ff=Ma(this.Ff,16):this.Ff=Ua(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,17)},set:function(r){r?this.Ff=Ma(this.Ff,17):this.Ff=Ua(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,26)},set:function(r){r?this.Ff=Ma(this.Ff,26):this.Ff=Ua(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var n,a=[];for(n in a.push("<<"),t)a.push("/"+n+" ("+Gd(r(t[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Tn(r)==="object"&&(t=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(r){typeof r=="string"&&(t.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(r){var n=r==null?"":r.toString();n.substr(0,1)==="/"&&(n=n.substr(1)),e="/"+Md(n)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(r){e="/"+Md(r)}})};ho(Ti,rc);var gp=function(){Ti.call(this),this.pushButton=!0};ho(gp,Ti);var Dh=function(){Ti.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};ho(Dh,Ti);var Wp=function(){var e,t;rc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(c){return c};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,l=[];for(i in l.push("<<"),n)l.push("/"+i+" ("+Gd(a(n[i]))+")");return l.push(">>"),l.join(`
`)},set:function(a){Tn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){var i=a==null?"":a.toString();i.substr(0,1)==="/"&&(i=i.substr(1)),r="/"+Md(i)}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){var i=a==null?"":a.toString();i.substr(0,1)==="/"&&(i=i.substr(1)),r="/"+Md(i)}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ut.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};ho(Wp,rc),Dh.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var r=this.Kids[t];r.appearanceStreamContent=e.createAppearanceStream(r.optionName),r.caption=e.getCA()}},Dh.prototype.createOption=function(e){var t=new Wp;return t.Parent=this,t.optionName=e,this.Kids.push(t),gO.call(this.scope,t),t};var xp=function(){Ti.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ut.CheckBox.createAppearanceStream()};ho(xp,Ti);var Ld=function(){rc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,13)},set:function(t){t?this.Ff=Ma(this.Ff,13):this.Ff=Ua(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,21)},set:function(t){t?this.Ff=Ma(this.Ff,21):this.Ff=Ua(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,23)},set:function(t){t?this.Ff=Ma(this.Ff,23):this.Ff=Ua(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,24)},set:function(t){t?this.Ff=Ma(this.Ff,24):this.Ff=Ua(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,25)},set:function(t){t?this.Ff=Ma(this.Ff,25):this.Ff=Ua(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,26)},set:function(t){t?this.Ff=Ma(this.Ff,26):this.Ff=Ua(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};ho(Ld,rc);var vp=function(){Ld.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ba(this.Ff,14)},set:function(e){e?this.Ff=Ma(this.Ff,14):this.Ff=Ua(this.Ff,14)}}),this.password=!0};ho(vp,Ld);var Ut={CheckBox:{createAppearanceStream:function(){return{N:{On:Ut.CheckBox.YesNormal},D:{On:Ut.CheckBox.YesPushDown,Off:Ut.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Tc(e);t.scope=e.scope;var r=[],n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=O1(e,e.caption);return r.push("0.749023 g"),r.push("0 0 "+jr(Ut.internal.getWidth(e))+" "+jr(Ut.internal.getHeight(e))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+jr(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),t.stream=r.join(`
`),t},YesNormal:function(e){var t=Tc(e);t.scope=e.scope;var r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color),a=[],i=Ut.internal.getHeight(e),l=Ut.internal.getWidth(e),c=O1(e,e.caption);return a.push("1 g"),a.push("0 0 "+jr(l)+" "+jr(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+jr(l-1)+" "+jr(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+jr(c.fontSize)+" Tf "+n),a.push(c.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Tc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jr(Ut.internal.getWidth(e))+" "+jr(Ut.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Ut.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Ut.RadioButton.Circle.YesNormal,t.D[e]=Ut.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Tc(e);t.scope=e.scope;var r=[],n=Ut.internal.getWidth(e)<=Ut.internal.getHeight(e)?Ut.internal.getWidth(e)/4:Ut.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Ut.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Bu(Ut.internal.getWidth(e)/2)+" "+Bu(Ut.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Tc(e);t.scope=e.scope;var r=[],n=Ut.internal.getWidth(e)<=Ut.internal.getHeight(e)?Ut.internal.getWidth(e)/4:Ut.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ut.internal.Bezier_C).toFixed(5)),l=Number((n*Ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Bu(Ut.internal.getWidth(e)/2)+" "+Bu(Ut.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Bu(Ut.internal.getWidth(e)/2)+" "+Bu(Ut.internal.getHeight(e)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+l+" "+l+" "+n+" 0 "+n+" c"),r.push("-"+l+" "+n+" -"+n+" "+l+" -"+n+" 0 c"),r.push("-"+n+" -"+l+" -"+l+" -"+n+" 0 -"+n+" c"),r.push(l+" -"+n+" "+n+" -"+l+" "+n+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Tc(e);t.scope=e.scope;var r=[],n=Ut.internal.getWidth(e)<=Ut.internal.getHeight(e)?Ut.internal.getWidth(e)/4:Ut.internal.getHeight(e)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Ut.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Bu(Ut.internal.getWidth(e)/2)+" "+Bu(Ut.internal.getHeight(e)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),t.stream=r.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Ut.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Ut.RadioButton.Cross.YesNormal,t.D[e]=Ut.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Tc(e);t.scope=e.scope;var r=[],n=Ut.internal.calculateCross(e);return r.push("q"),r.push("1 1 "+jr(Ut.internal.getWidth(e)-2)+" "+jr(Ut.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(jr(n.x1.x)+" "+jr(n.x1.y)+" m"),r.push(jr(n.x2.x)+" "+jr(n.x2.y)+" l"),r.push(jr(n.x4.x)+" "+jr(n.x4.y)+" m"),r.push(jr(n.x3.x)+" "+jr(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},YesPushDown:function(e){var t=Tc(e);t.scope=e.scope;var r=Ut.internal.calculateCross(e),n=[];return n.push("0.749023 g"),n.push("0 0 "+jr(Ut.internal.getWidth(e))+" "+jr(Ut.internal.getHeight(e))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+jr(Ut.internal.getWidth(e)-2)+" "+jr(Ut.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(jr(r.x1.x)+" "+jr(r.x1.y)+" m"),n.push(jr(r.x2.x)+" "+jr(r.x2.y)+" l"),n.push(jr(r.x4.x)+" "+jr(r.x4.y)+" m"),n.push(jr(r.x3.x)+" "+jr(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Tc(e);t.scope=e.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jr(Ut.internal.getWidth(e))+" "+jr(Ut.internal.getHeight(e))+" re"),r.push("f"),t.stream=r.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+r}};Ut.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Ut.internal.getWidth(e),r=Ut.internal.getHeight(e),n=Math.min(t,r);return{x1:{x:(t-n)/2,y:(r-n)/2+n},x2:{x:(t-n)/2+n,y:(r-n)/2},x3:{x:(t-n)/2,y:(r-n)/2},x4:{x:(t-n)/2+n,y:(r-n)/2+n}}}},Ut.internal.getWidth=function(e){var t=0;return Tn(e)==="object"&&(t=s_(e.Rect[2])),t},Ut.internal.getHeight=function(e){var t=0;return Tn(e)==="object"&&(t=s_(e.Rect[3])),t};var gO=ya.addField=function(e){if(mO(this,e),!(e instanceof rc))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};ya.AcroFormChoiceField=Fh,ya.AcroFormListBox=Oh,ya.AcroFormComboBox=Ih,ya.AcroFormEditBox=mp,ya.AcroFormButton=Ti,ya.AcroFormPushButton=gp,ya.AcroFormRadioButton=Dh,ya.AcroFormCheckBox=xp,ya.AcroFormTextField=Ld,ya.AcroFormPasswordField=vp,ya.AcroFormAppearance=Ut,ya.AcroForm={ChoiceField:Fh,ListBox:Oh,ComboBox:Ih,EditBox:mp,Button:Ti,PushButton:gp,RadioButton:Dh,CheckBox:xp,TextField:Ld,PasswordField:vp,Appearance:Ut},Yt.AcroForm={ChoiceField:Fh,ListBox:Oh,ComboBox:Ih,EditBox:mp,Button:Ti,PushButton:gp,RadioButton:Dh,CheckBox:xp,TextField:Ld,PasswordField:vp,Appearance:Ut};function J5(e){return e.reduce(function(t,r,n){return t[r]=n,t},{})}(function(e){var t="addImage_";e.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=e.__addimage__.getImageFileTypeByImageData=function(I,W){var ae,ge,_e,Le,Te,Q=r;if((W=W||r)==="RGBA"||I.data!==void 0&&I.data instanceof Uint8ClampedArray&&"height"in I&&"width"in I)return"RGBA";if(te(I))for(Te in n)for(_e=n[Te],ae=0;ae<_e.length;ae+=1){for(Le=!0,ge=0;ge<_e[ae].length;ge+=1)if(_e[ae][ge]!==void 0&&_e[ae][ge]!==I[ge]){Le=!1;break}if(Le===!0){Q=Te;break}}else for(Te in n)for(_e=n[Te],ae=0;ae<_e.length;ae+=1){for(Le=!0,ge=0;ge<_e[ae].length;ge+=1)if(_e[ae][ge]!==void 0&&_e[ae][ge]!==I.charCodeAt(ge)){Le=!1;break}if(Le===!0){Q=Te;break}}return Q===r&&W!==r&&(Q=W),Q},i=function I(W){for(var ae=this.internal.write,ge=this.internal.putStream,_e=(0,this.internal.getFilters)();_e.indexOf("FlateEncode")!==-1;)_e.splice(_e.indexOf("FlateEncode"),1);W.objectId=this.internal.newObject();var Le=[];if(Le.push({key:"Type",value:"/XObject"}),Le.push({key:"Subtype",value:"/Image"}),Le.push({key:"Width",value:W.width}),Le.push({key:"Height",value:W.height}),W.colorSpace===A.INDEXED?Le.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(W.palette.length/3-1)+" "+("sMask"in W&&W.sMask!==void 0?W.objectId+2:W.objectId+1)+" 0 R]"}):(Le.push({key:"ColorSpace",value:"/"+W.colorSpace}),W.colorSpace===A.DEVICE_CMYK&&Le.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Le.push({key:"BitsPerComponent",value:W.bitsPerComponent}),"decodeParameters"in W&&W.decodeParameters!==void 0&&Le.push({key:"DecodeParms",value:"<<"+W.decodeParameters+">>"}),"transparency"in W&&Array.isArray(W.transparency)&&W.transparency.length>0){for(var Te="",Q=0,ye=W.transparency.length;Q<ye;Q++)Te+=W.transparency[Q]+" "+W.transparency[Q]+" ";Le.push({key:"Mask",value:"["+Te+"]"})}W.sMask!==void 0&&Le.push({key:"SMask",value:W.objectId+1+" 0 R"});var je=W.filter!==void 0?["/"+W.filter]:void 0;if(ge({data:W.data,additionalKeyValues:Le,alreadyAppliedFilters:je,objectId:W.objectId}),ae("endobj"),"sMask"in W&&W.sMask!==void 0){var oe,j=(oe=W.sMaskBitsPerComponent)!==null&&oe!==void 0?oe:W.bitsPerComponent,B={width:W.width,height:W.height,colorSpace:"DeviceGray",bitsPerComponent:j,data:W.sMask};"filter"in W&&(B.decodeParameters="/Predictor ".concat(W.predictor," /Colors 1 /BitsPerComponent ").concat(j," /Columns ").concat(W.width),B.filter=W.filter),I.call(this,B)}if(W.colorSpace===A.INDEXED){var O=this.internal.newObject();ge({data:H(new Uint8Array(W.palette)),objectId:O}),ae("endobj")}},l=function(){var I=this.internal.collections[t+"images"];for(var W in I)i.call(this,I[W])},c=function(){var I,W=this.internal.collections[t+"images"],ae=this.internal.write;for(var ge in W)ae("/I"+(I=W[ge]).index,I.objectId,"0","R")},d=function(){this.internal.collections[t+"images"]||(this.internal.collections[t+"images"]={},this.internal.events.subscribe("putResources",l),this.internal.events.subscribe("putXobjectDict",c))},h=function(){var I=this.internal.collections[t+"images"];return d.call(this),I},p=function(){return Object.keys(this.internal.collections[t+"images"]).length},f=function(I){return typeof e["process"+I.toUpperCase()]=="function"},b=function(I){return Tn(I)==="object"&&I.nodeType===1},g=function(I,W){if(I.nodeName==="IMG"&&I.hasAttribute("src")){var ae=""+I.getAttribute("src");if(ae.indexOf("data:image/")===0)return pp(unescape(ae).split("base64,").pop());var ge=e.loadFile(ae,!0);if(ge!==void 0)return ge}if(I.nodeName==="CANVAS"){if(I.width===0||I.height===0)throw new Error("Given canvas must have data. Canvas width: "+I.width+", height: "+I.height);var _e;switch(W){case"PNG":_e="image/png";break;case"WEBP":_e="image/webp";break;default:_e="image/jpeg"}return pp(I.toDataURL(_e,1).split("base64,").pop())}},S=function(I){var W=this.internal.collections[t+"images"];if(W){for(var ae in W)if(I===W[ae].alias)return W[ae]}},y=function(I,W,ae){return I||W||(I=-96,W=-96),I<0&&(I=-1*ae.width*72/I/this.internal.scaleFactor),W<0&&(W=-1*ae.height*72/W/this.internal.scaleFactor),I===0&&(I=W*ae.width/ae.height),W===0&&(W=I*ae.height/ae.width),[I,W]},N=function(I,W,ae,ge,_e,Le){var Te=y.call(this,ae,ge,_e),Q=this.internal.getCoordinateString,ye=this.internal.getVerticalCoordinateString,je=h.call(this);if(ae=Te[0],ge=Te[1],je[_e.index]=_e,Le){Le*=Math.PI/180;var oe=Math.cos(Le),j=Math.sin(Le),B=function(D){return D.toFixed(4)},O=[B(oe),B(j),B(-1*j),B(oe),0,0,"cm"]}this.internal.write("q"),Le?(this.internal.write([1,"0","0",1,Q(I),ye(W+ge),"cm"].join(" ")),this.internal.write(O.join(" ")),this.internal.write([Q(ae),"0","0",Q(ge),"0","0","cm"].join(" "))):this.internal.write([Q(ae),"0","0",Q(ge),Q(I),ye(W+ge),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+_e.index+" Do"),this.internal.write("Q")},A=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var P=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},T=e.__addimage__.sHashCode=function(I){var W,ae,ge=0;if(typeof I=="string")for(ae=I.length,W=0;W<ae;W++)ge=(ge<<5)-ge+I.charCodeAt(W),ge|=0;else if(te(I))for(ae=I.byteLength/2,W=0;W<ae;W++)ge=(ge<<5)-ge+I[W],ge|=0;return ge},R=e.__addimage__.validateStringAsBase64=function(I){(I=I||"").toString().trim();var W=!0;return I.length===0&&(W=!1),I.length%4!=0&&(W=!1),/^[A-Za-z0-9+/]+$/.test(I.substr(0,I.length-2))===!1&&(W=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(I.substr(-2))===!1&&(W=!1),W},q=e.__addimage__.extractImageFromDataUrl=function(I){if(I==null||!(I=I.trim()).startsWith("data:"))return null;var W=I.indexOf(",");return W<0?null:I.substring(0,W).trim().endsWith("base64")?I.substring(W+1):null};e.__addimage__.isArrayBuffer=function(I){return I instanceof ArrayBuffer};var te=e.__addimage__.isArrayBufferView=function(I){return I instanceof Int8Array||I instanceof Uint8Array||I instanceof Uint8ClampedArray||I instanceof Int16Array||I instanceof Uint16Array||I instanceof Int32Array||I instanceof Uint32Array||I instanceof Float32Array||I instanceof Float64Array},G=e.__addimage__.binaryStringToUint8Array=function(I){for(var W=I.length,ae=new Uint8Array(W),ge=0;ge<W;ge++)ae[ge]=I.charCodeAt(ge);return ae},H=e.__addimage__.arrayBufferToBinaryString=function(I){for(var W="",ae=te(I)?I:new Uint8Array(I),ge=0;ge<ae.length;ge+=8192)W+=String.fromCharCode.apply(null,ae.subarray(ge,ge+8192));return W};e.addImage=function(){var I,W,ae,ge,_e,Le,Te,Q,ye;if(typeof arguments[1]=="number"?(W=r,ae=arguments[1],ge=arguments[2],_e=arguments[3],Le=arguments[4],Te=arguments[5],Q=arguments[6],ye=arguments[7]):(W=arguments[1],ae=arguments[2],ge=arguments[3],_e=arguments[4],Le=arguments[5],Te=arguments[6],Q=arguments[7],ye=arguments[8]),Tn(I=arguments[0])==="object"&&!b(I)&&"imageData"in I){var je=I;I=je.imageData,W=je.format||W||r,ae=je.x||ae||0,ge=je.y||ge||0,_e=je.w||je.width||_e,Le=je.h||je.height||Le,Te=je.alias||Te,Q=je.compression||Q,ye=je.rotation||je.angle||ye}var oe=this.internal.getFilters();if(Q===void 0&&oe.indexOf("FlateEncode")!==-1&&(Q="SLOW"),isNaN(ae)||isNaN(ge))throw new Error("Invalid coordinates passed to jsPDF.addImage");d.call(this);var j=M.call(this,I,W,Te,Q);return N.call(this,ae,ge,_e,Le,j,ye),this};var M=function(I,W,ae,ge){var _e,Le,Te;if(typeof I=="string"&&a(I)===r){I=unescape(I);var Q=re(I,!1);(Q!==""||(Q=e.loadFile(I,!0))!==void 0)&&(I=Q)}if(b(I)&&(I=g(I,W)),W=a(I,W),!f(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(((Te=ae)==null||Te.length===0)&&(ae=function(ye){return typeof ye=="string"||te(ye)?T(ye):te(ye.data)?T(ye.data):null}(I)),(_e=S.call(this,ae))||(I instanceof Uint8Array||W==="RGBA"||(Le=I,I=G(I)),_e=this["process"+W.toUpperCase()](I,p.call(this),ae,function(ye){return ye&&typeof ye=="string"&&(ye=ye.toUpperCase()),ye in e.image_compression?ye:P.NONE}(ge),Le)),!_e)throw new Error("An unknown error occurred whilst processing the image.");return _e},re=e.__addimage__.convertBase64ToBinaryString=function(I,W){W=typeof W!="boolean"||W;var ae,ge="";if(typeof I=="string"){var _e;ae=(_e=q(I))!==null&&_e!==void 0?_e:I;try{ge=pp(ae)}catch(Le){if(W)throw R(ae)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Le.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ge};e.getImageProperties=function(I){var W,ae,ge="";if(b(I)&&(I=g(I)),typeof I=="string"&&a(I)===r&&((ge=re(I,!1))===""&&(ge=e.loadFile(I)||""),I=ge),ae=a(I),!f(ae))throw new Error("addImage does not support files of type '"+ae+"', please ensure that a plugin for '"+ae+"' support is added.");if(I instanceof Uint8Array||(I=G(I)),!(W=this["process"+ae.toUpperCase()](I)))throw new Error("An unknown error occurred whilst processing the image");return W.fileType=ae,W}})(Yt.API),function(e){var t=function(r){if(r!==void 0&&r!="")return!0};Yt.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(r){for(var n,a,i,l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString,d=this.internal.getPageInfoByObjId(r.objId),h=r.pageContext.annotations,p=!1,f=0;f<h.length&&!p;f++)switch((n=h[f]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var b=0;b<h.length;b++){n=h[b];var g=this.internal.pdfEscape,S=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),N=this.internal.newAdditionalObject(),A=this.internal.getEncryptor(y.objId),P=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+l(n.bounds.x)+" "+c(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y)+"] ")+"/Contents ("+g(A(n.contents))+")",i+=" /Popup "+N.objId+" 0 R",i+=" /P "+d.objId+" 0 R",i+=" /T ("+g(A(P))+") >>",y.content=i;var T=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+l(n.bounds.x+30)+" "+c(n.bounds.y+n.bounds.h)+" "+l(n.bounds.x+n.bounds.w+30)+" "+c(n.bounds.y)+"] ")+" /Parent "+T,n.open&&(i+=" /Open true"),i+=" >>",N.content=i,this.internal.write(y.objId,"0 R",N.objId,"0 R");break;case"freetext":a="/Rect ["+l(n.bounds.x)+" "+c(n.bounds.y)+" "+l(n.bounds.x+n.bounds.w)+" "+c(n.bounds.y+n.bounds.h)+"] ";var R=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+g(S(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+R+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var q=this.annotations._nameMap[n.options.name];n.options.pageNumber=q.page,n.options.top=q.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+g(S(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var te=c(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+te+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},e.link=function(r,n,a,i,l){var c=this.internal.getCurrentPageInfo(),d=this.internal.getCoordinateString,h=this.internal.getVerticalCoordinateString;c.pageContext.annotations.push({finalBounds:{x:d(r),y:h(n),w:d(r+a),h:h(n+i)},options:l,type:"link"})},e.textWithLink=function(r,n,a,i){var l,c,d=this.getTextWidth(r),h=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){c=i.maxWidth;var p=this.splitTextToSize(r,c).length;l=Math.ceil(h*p)}else c=d,l=h;return this.text(r,n,a,i),a+=.2*h,i.align==="center"&&(n-=d/2),i.align==="right"&&(n-=d),this.link(n,a-h,c,l,i),d},e.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Yt.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(y){return t[y.charCodeAt(0)]!==void 0},l=e.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},c=e.__arabicParser__.isArabicEndLetter=function(y){return l(y)&&i(y)&&t[y.charCodeAt(0)].length<=2},d=e.__arabicParser__.isArabicAlfLetter=function(y){return l(y)&&a.indexOf(y.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return l(y)&&i(y)&&t[y.charCodeAt(0)].length>=1};var h=e.__arabicParser__.arabicLetterHasFinalForm=function(y){return l(y)&&i(y)&&t[y.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(y){return l(y)&&i(y)&&t[y.charCodeAt(0)].length>=3};var p=e.__arabicParser__.arabicLetterHasMedialForm=function(y){return l(y)&&i(y)&&t[y.charCodeAt(0)].length==4},f=e.__arabicParser__.resolveLigatures=function(y){var N=0,A=r,P="",T=0;for(N=0;N<y.length;N+=1)A[y.charCodeAt(N)]!==void 0?(T++,typeof(A=A[y.charCodeAt(N)])=="number"&&(P+=String.fromCharCode(A),A=r,T=0),N===y.length-1&&(A=r,P+=y.charAt(N-(T-1)),N-=T-1,T=0)):(A=r,P+=y.charAt(N-T),N-=T,T=0);return P};e.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var b=e.__arabicParser__.getCorrectForm=function(y,N,A){return l(y)?i(y)===!1?-1:!h(y)||!l(N)&&!l(A)||!l(A)&&c(N)||c(y)&&!l(N)||c(y)&&d(N)||c(y)&&c(N)?0:p(y)&&l(N)&&!c(N)&&l(A)&&h(A)?3:c(y)||!l(A)?1:2:-1},g=function(y){var N=0,A=0,P=0,T="",R="",q="",te=(y=y||"").split("\\s+"),G=[];for(N=0;N<te.length;N+=1){for(G.push(""),A=0;A<te[N].length;A+=1)T=te[N][A],R=te[N][A-1],q=te[N][A+1],l(T)?(P=b(T,R,q),G[N]+=P!==-1?String.fromCharCode(t[T.charCodeAt(0)][P]):T):G[N]+=T;G[N]=f(G[N])}return G.join(" ")},S=e.__arabicParser__.processArabic=e.processArabic=function(){var y,N=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,A=[];if(Array.isArray(N)){var P=0;for(A=[],P=0;P<N.length;P+=1)Array.isArray(N[P])?A.push([g(N[P][0]),N[P][1],N[P][2]]):A.push([g(N[P])]);y=A}else y=g(N);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};e.events.push(["preProcessText",S])}(Yt.API),Yt.API.autoPrint=function(e){var t;return(e=e||{}).variant=e.variant||"non-conform",e.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})),this},function(e){var t=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(c){r=c}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(c){n=isNaN(c)||Number.isInteger(c)===!1||c<0?150:c,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(c){a=isNaN(c)||Number.isInteger(c)===!1||c<0?300:c,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(c){i=c}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(c){l=c}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Yt.API),function(e){var t={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var d=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return d},set:function(y){d=y}});var h=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(y){p=y}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(y){b=y}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(y){g=y}});var S=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return S},set:function(y){S=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(d){return n.call(this),this.internal.__cell__.headerFunction=typeof d=="function"?d:void 0,this},e.getTextDimensions=function(d,h){n.call(this);var p=(h=h||{}).fontSize||this.getFontSize(),f=h.font||this.getFont(),b=h.scaleFactor||this.internal.scaleFactor,g=0,S=0,y=0,N=this;if(!Array.isArray(d)&&typeof d!="string"){if(typeof d!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");d=String(d)}var A=h.maxWidth;A>0?typeof d=="string"?d=this.splitTextToSize(d,A):Object.prototype.toString.call(d)==="[object Array]"&&(d=d.reduce(function(T,R){return T.concat(N.splitTextToSize(R,A))},[])):d=Array.isArray(d)?d:[d];for(var P=0;P<d.length;P++)g<(y=this.getStringUnitWidth(d[P],{font:f})*p)&&(g=y);return g!==0&&(S=d.length),{w:g/=b,h:Math.max((S*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/b,0)}},e.cellAddPage=function(){n.call(this),this.addPage();var d=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(d.left,d.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=e.cell=function(){var d;d=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6]),n.call(this);var h=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,f=this.internal.__cell__.margins||t,b=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return h.lineNumber!==void 0&&(h.lineNumber===d.lineNumber?(d.x=(h.x||0)+(h.width||0),d.y=h.y||0):h.y+h.height+d.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),d.y=f.top,g&&b&&(this.printHeaderRow(d.lineNumber,!0),d.y+=b[0].height)):d.y=h.y+h.height||d.y),d.text[0]!==void 0&&(this.rect(d.x,d.y,d.width,d.height,r===!0?"FD":void 0),d.align==="right"?this.text(d.text,d.x+d.width-p,d.y+p,{align:"right",baseline:"top"}):d.align==="center"?this.text(d.text,d.x+d.width/2,d.y+p,{align:"center",baseline:"top",maxWidth:d.width-p-p}):this.text(d.text,d.x+p,d.y+p,{align:"left",baseline:"top",maxWidth:d.width-p-p})),this.internal.__cell__.lastCell=d,this};e.table=function(d,h,p,f,b){if(n.call(this),!p)throw new Error("No data for PDF table.");var g,S,y,N,A=[],P=[],T=[],R={},q={},te=[],G=[],H=(b=b||{}).autoSize||!1,M=b.printHeaders!==!1,re=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,I=b.margins||Object.assign({width:this.getPageWidth()},t),W=typeof b.padding=="number"?b.padding:3,ae=b.headerBackgroundColor||"#c8c8c8",ge=b.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=M,this.internal.__cell__.margins=I,this.internal.__cell__.table_font_size=re,this.internal.__cell__.padding=W,this.internal.__cell__.headerBackgroundColor=ae,this.internal.__cell__.headerTextColor=ge,this.setFontSize(re),f==null)P=A=Object.keys(p[0]),T=A.map(function(){return"left"});else if(Array.isArray(f)&&Tn(f[0])==="object")for(A=f.map(function(je){return je.name}),P=f.map(function(je){return je.prompt||je.name||""}),T=f.map(function(je){return je.align||"left"}),g=0;g<f.length;g+=1)q[f[g].name]=.7499990551181103*f[g].width;else Array.isArray(f)&&typeof f[0]=="string"&&(P=A=f,T=A.map(function(){return"left"}));if(H||Array.isArray(f)&&typeof f[0]=="string")for(g=0;g<A.length;g+=1){for(R[N=A[g]]=p.map(function(je){return je[N]}),this.setFont(void 0,"bold"),te.push(this.getTextDimensions(P[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),S=R[N],this.setFont(void 0,"normal"),y=0;y<S.length;y+=1)te.push(this.getTextDimensions(S[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);q[N]=Math.max.apply(null,te)+W+W,te=[]}if(M){var _e={};for(g=0;g<A.length;g+=1)_e[A[g]]={},_e[A[g]].text=P[g],_e[A[g]].align=T[g];var Le=c.call(this,_e,q);G=A.map(function(je){return new i(d,h,q[je],Le,_e[je].text,void 0,_e[je].align)}),this.setTableHeaderRow(G),this.printHeaderRow(1,!1)}var Te=f.reduce(function(je,oe){return je[oe.name]=oe.align,je},{});for(g=0;g<p.length;g+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:g,data:p[g]},this);var Q=c.call(this,p[g],q);for(y=0;y<A.length;y+=1){var ye=p[g][A[y]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:g,col:y,data:ye},this),l.call(this,new i(d,h,q[A[y]],Q,ye,g+2,Te[A[y]]))}}return this.internal.__cell__.table_x=d,this.internal.__cell__.table_y=h,this};var c=function(d,h){var p=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(d).map(function(g){var S=d[g];return this.splitTextToSize(S.hasOwnProperty("text")?S.text:S,h[g]-p-p)},this).map(function(g){return this.getLineHeightFactor()*g.length*f/b+p+p},this).reduce(function(g,S){return Math.max(g,S)},0)};e.setTableHeaderRow=function(d){n.call(this),this.internal.__cell__.tableHeaderRow=d},e.printHeaderRow=function(d,h){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){p=this.internal.__cell__.tableHeaderRow[g].clone(),h&&(p.y=this.internal.__cell__.margins.top||0,b.push(p)),p.lineNumber=d;var S=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,p),this.setTextColor(S)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),r=!1}}(Yt.API);var Z5={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Q5=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],I1=J5(Q5),e3=[100,200,300,400,500,600,700,800,900],xO=J5(e3);function zg(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return Z5[i=i||"normal"]?i:"normal"}(e.style),n=function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400}(e.weight),a=function(i){return typeof I1[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:r,weight:n,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,r,n].join(" ")}}}function o_(e,t,r,n){var a;for(a=r;a>=0&&a<t.length;a+=n)if(e[t[a]])return e[t[a]];for(a=r;a>=0&&a<t.length;a-=n)if(e[t[a]])return e[t[a]]}var vO={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},l_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function c_(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function u_(e){return e.trimLeft()}function bO(e,t){for(var r=0;r<e.length;){if(e.charAt(r)===t)return[e.substring(0,r),e.substring(r+1)];r+=1}return null}function _O(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var vh,cp,d_,h_,f_,qg=["times"];function p_(e,t,r,n,a){var i=4,l=g_;switch(a){case Yt.API.image_compression.FAST:i=1,l=m_;break;case Yt.API.image_compression.MEDIUM:i=6,l=x_;break;case Yt.API.image_compression.SLOW:i=9,l=v_}e=function(d,h,p,f){for(var b,g=d.length/h,S=new Uint8Array(d.length+g),y=[yO,m_,g_,x_,v_],N=0;N<g;N+=1){var A=N*h,P=d.subarray(A,A+h);if(f)S.set(f(P,p,b),A+N);else{for(var T=y.length,R=[],q=0;q<T;q+=1)R[q]=y[q](P,p,b);var te=SO(R.concat());S.set(R[te],A+N)}b=P}return S}(e,t,Math.ceil(r*n/8),l);var c=S1(e,{level:i});return Yt.API.__addimage__.arrayBufferToBinaryString(c)}function yO(e){var t=Array.apply([],e);return t.unshift(0),t}function m_(e,t){var r=e.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var i=e[a-t]||0;n[a+1]=e[a]-i+256&255}return n}function g_(e,t,r){var n=e.length,a=[];a[0]=2;for(var i=0;i<n;i+=1){var l=r&&r[i]||0;a[i+1]=e[i]-l+256&255}return a}function x_(e,t,r){var n=e.length,a=[];a[0]=3;for(var i=0;i<n;i+=1){var l=e[i-t]||0,c=r&&r[i]||0;a[i+1]=e[i]+256-(l+c>>>1)&255}return a}function v_(e,t,r){var n=e.length,a=[];a[0]=4;for(var i=0;i<n;i+=1){var l=wO(e[i-t]||0,r&&r[i]||0,r&&r[i-t]||0);a[i+1]=e[i]-l+256&255}return a}function wO(e,t,r){if(e===t&&t===r)return e;var n=Math.abs(t-r),a=Math.abs(e-r),i=Math.abs(e+t-r-r);return n<=a&&n<=i?e:a<=i?t:r}function SO(e){var t=e.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return t.indexOf(Math.min.apply(null,t))}function Hg(e,t,r){var n=t*r,a=Math.floor(n/8),i=16-(n-8*a+r),l=(1<<r)-1;return t3(e,a)>>i&l}function b_(e,t,r,n){var a=r*n,i=Math.floor(a/8),l=16-(a-8*i+n),c=(1<<n)-1,d=(t&c)<<l;(function(h,p,f){if(p+1<h.byteLength)h.setUint16(p,f,!1);else{var b=f>>8&255;h.setUint8(p,b)}})(e,i,t3(e,i)&~(c<<l)&65535|d)}function t3(e,t){return t+1<e.byteLength?e.getUint16(t,!1):e.getUint8(t)<<8}function NO(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=e[t++]|e[t++]<<8,n=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,l=1<<1+(7&a);e[t++],e[t++];var c=null,d=null;i&&(c=t,d=l,t+=3*l);var h=!0,p=[],f=0,b=null,g=0,S=null;for(this.width=r,this.height=n;h&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,S=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var y=e[t++];f=e[t++]|e[t++]<<8,b=e[t++],1&y||(b=null),g=y>>2&7,t++;break;case 254:for(;;){if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var N=e[t++]|e[t++]<<8,A=e[t++]|e[t++]<<8,P=e[t++]|e[t++]<<8,T=e[t++]|e[t++]<<8,R=e[t++],q=R>>6&1,te=1<<1+(7&R),G=c,H=d,M=!1;R>>7&&(M=!0,G=t,H=te,t+=3*te);var re=t;for(t++;;){var I;if(!((I=e[t++])>=0))throw Error("Invalid block size");if(I===0)break;t+=I}p.push({x:N,y:A,width:P,height:T,has_local_palette:M,palette_offset:G,palette_size:H,data_offset:re,data_length:t-re,transparent_index:b,interlaced:!!q,delay:f,disposal:g});break;case 59:h=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return S},this.frameInfo=function(W){if(W<0||W>=p.length)throw new Error("Frame index out of range.");return p[W]},this.decodeAndBlitFrameBGRA=function(W,ae){var ge=this.frameInfo(W),_e=ge.width*ge.height;if(_e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var Le=new Uint8Array(_e);__(e,ge.data_offset,Le,_e);var Te=ge.palette_offset,Q=ge.transparent_index;Q===null&&(Q=256);var ye=ge.width,je=r-ye,oe=ye,j=4*(ge.y*r+ge.x),B=4*((ge.y+ge.height)*r+ge.x),O=j,D=4*je;ge.interlaced===!0&&(D+=4*r*7);for(var Z=8,pe=0,be=Le.length;pe<be;++pe){var Se=Le[pe];if(oe===0&&(oe=ye,(O+=D)>=B&&(D=4*je+4*r*(Z-1),O=j+(ye+je)*(Z<<1),Z>>=1)),Se===Q)O+=4;else{var Ee=e[Te+3*Se],Ye=e[Te+3*Se+1],at=e[Te+3*Se+2];ae[O++]=at,ae[O++]=Ye,ae[O++]=Ee,ae[O++]=255}--oe}},this.decodeAndBlitFrameRGBA=function(W,ae){var ge=this.frameInfo(W),_e=ge.width*ge.height;if(_e>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");var Le=new Uint8Array(_e);__(e,ge.data_offset,Le,_e);var Te=ge.palette_offset,Q=ge.transparent_index;Q===null&&(Q=256);var ye=ge.width,je=r-ye,oe=ye,j=4*(ge.y*r+ge.x),B=4*((ge.y+ge.height)*r+ge.x),O=j,D=4*je;ge.interlaced===!0&&(D+=4*r*7);for(var Z=8,pe=0,be=Le.length;pe<be;++pe){var Se=Le[pe];if(oe===0&&(oe=ye,(O+=D)>=B&&(D=4*je+4*r*(Z-1),O=j+(ye+je)*(Z<<1),Z>>=1)),Se===Q)O+=4;else{var Ee=e[Te+3*Se],Ye=e[Te+3*Se+1],at=e[Te+3*Se+2];ae[O++]=Ee,ae[O++]=Ye,ae[O++]=at,ae[O++]=255}--oe}}}function __(e,t,r,n){for(var a=e[t++],i=1<<a,l=i+1,c=l+1,d=a+1,h=(1<<d)-1,p=0,f=0,b=0,g=e[t++],S=new Int32Array(4096),y=null;;){for(;p<16&&g!==0;)f|=e[t++]<<p,p+=8,g===1?g=e[t++]:--g;if(p<d)break;var N=f&h;if(f>>=d,p-=d,N!==i){if(N===l)break;for(var A=N<c?N:y,P=0,T=A;T>i;)T=S[T]>>8,++P;var R=T;if(b+P+(A!==N?1:0)>n)return void Hn.log("Warning, gif stream longer than expected.");r[b++]=R;var q=b+=P;for(A!==N&&(r[b++]=R),T=A;P--;)T=S[T],r[--q]=255&T,T>>=8;y!==null&&c<4096&&(S[c++]=y<<8|R,c>=h+1&&d<12&&(++d,h=h<<1|1)),y=N}else c=l+1,h=(1<<(d=a+1))-1,y=null}return b!==n&&Hn.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Wg(e){var t,r,n,a,i,l=Math.floor,c=new Array(64),d=new Array(64),h=new Array(64),p=new Array(64),f=new Array(65535),b=new Array(65535),g=new Array(64),S=new Array(64),y=[],N=0,A=7,P=new Array(64),T=new Array(64),R=new Array(64),q=new Array(256),te=new Array(2048),G=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],H=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],M=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],I=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],W=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ae=[0,1,2,3,4,5,6,7,8,9,10,11],ge=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],_e=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Le(j,B){for(var O=0,D=0,Z=new Array,pe=1;pe<=16;pe++){for(var be=1;be<=j[pe];be++)Z[B[D]]=[],Z[B[D]][0]=O,Z[B[D]][1]=pe,D++,O++;O*=2}return Z}function Te(j){for(var B=j[0],O=j[1]-1;O>=0;)B&1<<O&&(N|=1<<A),O--,--A<0&&(N==255?(Q(255),Q(0)):Q(N),A=7,N=0)}function Q(j){y.push(j)}function ye(j){Q(j>>8&255),Q(255&j)}function je(j,B,O,D,Z){for(var pe,be=Z[0],Se=Z[240],Ee=function(Je,kt){var Ze,Et,Pt,fr,Zt,Xt,gr,nr,Ft,Qt,Ct=0;for(Ft=0;Ft<8;++Ft){Ze=Je[Ct],Et=Je[Ct+1],Pt=Je[Ct+2],fr=Je[Ct+3],Zt=Je[Ct+4],Xt=Je[Ct+5],gr=Je[Ct+6];var rn=Ze+(nr=Je[Ct+7]),Er=Ze-nr,pr=Et+gr,xr=Et-gr,nn=Pt+Xt,Lt=Pt-Xt,Or=fr+Zt,Wt=fr-Zt,er=rn+Or,Hr=rn-Or,hr=pr+nn,$t=pr-nn;Je[Ct]=er+hr,Je[Ct+4]=er-hr;var Rr=.707106781*($t+Hr);Je[Ct+2]=Hr+Rr,Je[Ct+6]=Hr-Rr;var as=.382683433*((er=Wt+Lt)-($t=xr+Er)),ra=.5411961*er+as,Fi=1.306562965*$t+as,ai=.707106781*(hr=Lt+xr),Gt=Er+ai,$a=Er-ai;Je[Ct+5]=$a+ra,Je[Ct+3]=$a-ra,Je[Ct+1]=Gt+Fi,Je[Ct+7]=Gt-Fi,Ct+=8}for(Ct=0,Ft=0;Ft<8;++Ft){Ze=Je[Ct],Et=Je[Ct+8],Pt=Je[Ct+16],fr=Je[Ct+24],Zt=Je[Ct+32],Xt=Je[Ct+40],gr=Je[Ct+48];var za=Ze+(nr=Je[Ct+56]),na=Ze-nr,Ir=Et+gr,kr=Et-gr,Rn=Pt+Xt,Y=Pt-Xt,ue=fr+Zt,se=fr-Zt,ce=za+ue,me=za-ue,xe=Ir+Rn,Ue=Ir-Rn;Je[Ct]=ce+xe,Je[Ct+32]=ce-xe;var Ve=.707106781*(Ue+me);Je[Ct+16]=me+Ve,Je[Ct+48]=me-Ve;var Be=.382683433*((ce=se+Y)-(Ue=kr+na)),$e=.5411961*ce+Be,qe=1.306562965*Ue+Be,ct=.707106781*(xe=Y+kr),bt=na+ct,Nt=na-ct;Je[Ct+40]=Nt+$e,Je[Ct+24]=Nt-$e,Je[Ct+8]=bt+qe,Je[Ct+56]=bt-qe,Ct++}for(Ft=0;Ft<64;++Ft)Qt=Je[Ft]*kt[Ft],g[Ft]=Qt>0?Qt+.5|0:Qt-.5|0;return g}(j,B),Ye=0;Ye<64;++Ye)S[G[Ye]]=Ee[Ye];var at=S[0]-O;O=S[0],at==0?Te(D[0]):(Te(D[b[pe=32767+at]]),Te(f[pe]));for(var st=63;st>0&&S[st]==0;)st--;if(st==0)return Te(be),O;for(var ft,le=1;le<=st;){for(var dt=le;S[le]==0&&le<=st;)++le;var Pe=le-dt;if(Pe>=16){ft=Pe>>4;for(var rt=1;rt<=ft;++rt)Te(Se);Pe&=15}pe=32767+S[le],Te(Z[(Pe<<4)+b[pe]]),Te(f[pe]),le++}return st!=63&&Te(be),O}function oe(j){j=Math.min(Math.max(j,1),100),i!=j&&(function(B){for(var O=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],D=0;D<64;D++){var Z=l((O[D]*B+50)/100);Z=Math.min(Math.max(Z,1),255),c[G[D]]=Z}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],be=0;be<64;be++){var Se=l((pe[be]*B+50)/100);Se=Math.min(Math.max(Se,1),255),d[G[be]]=Se}for(var Ee=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ye=0,at=0;at<8;at++)for(var st=0;st<8;st++)h[Ye]=1/(c[G[Ye]]*Ee[at]*Ee[st]*8),p[Ye]=1/(d[G[Ye]]*Ee[at]*Ee[st]*8),Ye++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),i=j)}this.encode=function(j,B){B&&oe(B),y=new Array,N=0,A=7,ye(65496),ye(65504),ye(16),Q(74),Q(70),Q(73),Q(70),Q(0),Q(1),Q(1),Q(0),ye(1),ye(1),Q(0),Q(0),function(){ye(65499),ye(132),Q(0);for(var Et=0;Et<64;Et++)Q(c[Et]);Q(1);for(var Pt=0;Pt<64;Pt++)Q(d[Pt])}(),function(Et,Pt){ye(65472),ye(17),Q(8),ye(Pt),ye(Et),Q(3),Q(1),Q(17),Q(0),Q(2),Q(17),Q(1),Q(3),Q(17),Q(1)}(j.width,j.height),function(){ye(65476),ye(418),Q(0);for(var Et=0;Et<16;Et++)Q(H[Et+1]);for(var Pt=0;Pt<=11;Pt++)Q(M[Pt]);Q(16);for(var fr=0;fr<16;fr++)Q(re[fr+1]);for(var Zt=0;Zt<=161;Zt++)Q(I[Zt]);Q(1);for(var Xt=0;Xt<16;Xt++)Q(W[Xt+1]);for(var gr=0;gr<=11;gr++)Q(ae[gr]);Q(17);for(var nr=0;nr<16;nr++)Q(ge[nr+1]);for(var Ft=0;Ft<=161;Ft++)Q(_e[Ft])}(),ye(65498),ye(12),Q(3),Q(1),Q(0),Q(2),Q(17),Q(3),Q(17),Q(0),Q(63),Q(0);var O=0,D=0,Z=0;N=0,A=7,this.encode.displayName="_encode_";for(var pe,be,Se,Ee,Ye,at,st,ft,le,dt=j.data,Pe=j.width,rt=j.height,Je=4*Pe,kt=0;kt<rt;){for(pe=0;pe<Je;){for(Ye=Je*kt+pe,st=-1,ft=0,le=0;le<64;le++)at=Ye+(ft=le>>3)*Je+(st=4*(7&le)),kt+ft>=rt&&(at-=Je*(kt+1+ft-rt)),pe+st>=Je&&(at-=pe+st-Je+4),be=dt[at++],Se=dt[at++],Ee=dt[at++],P[le]=(te[be]+te[Se+256|0]+te[Ee+512|0]>>16)-128,T[le]=(te[be+768|0]+te[Se+1024|0]+te[Ee+1280|0]>>16)-128,R[le]=(te[be+1280|0]+te[Se+1536|0]+te[Ee+1792|0]>>16)-128;O=je(P,h,O,t,n),D=je(T,p,D,r,a),Z=je(R,p,Z,r,a),pe+=32}kt+=8}if(A>=0){var Ze=[];Ze[1]=A+1,Ze[0]=(1<<A+1)-1,Te(Ze)}return ye(65497),new Uint8Array(y)},e=e||50,function(){for(var j=String.fromCharCode,B=0;B<256;B++)q[B]=j(B)}(),t=Le(H,M),r=Le(W,ae),n=Le(re,I),a=Le(ge,_e),function(){for(var j=1,B=2,O=1;O<=15;O++){for(var D=j;D<B;D++)b[32767+D]=O,f[32767+D]=[],f[32767+D][1]=O,f[32767+D][0]=D;for(var Z=-(B-1);Z<=-j;Z++)b[32767+Z]=O,f[32767+Z]=[],f[32767+Z][1]=O,f[32767+Z][0]=B-1+Z;j<<=1,B<<=1}}(),function(){for(var j=0;j<256;j++)te[j]=19595*j,te[j+256|0]=38470*j,te[j+512|0]=7471*j+32768,te[j+768|0]=-11059*j,te[j+1024|0]=-21709*j,te[j+1280|0]=32768*j+8421375,te[j+1536|0]=-27439*j,te[j+1792|0]=-5329*j}(),oe(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Gl(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function y_(e){function t(M){if(!M)throw Error("assert :P")}function r(M,re,I){for(var W=0;4>W;W++)if(M[re+W]!=I.charCodeAt(W))return!0;return!1}function n(M,re,I,W,ae){for(var ge=0;ge<ae;ge++)M[re+ge]=I[W+ge]}function a(M,re,I,W){for(var ae=0;ae<W;ae++)M[re+ae]=I}function i(M){return new Int32Array(M)}function l(M,re){for(var I=[],W=0;W<M;W++)I.push(new re);return I}function c(M,re){var I=[];return function W(ae,ge,_e){for(var Le=_e[ge],Te=0;Te<Le&&(ae.push(_e.length>ge+1?[]:new re),!(_e.length<ge+1));Te++)W(ae[Te],ge+1,_e)}(I,0,M),I}var d=function(){var M=this;function re(x,w){for(var C=1<<w-1>>>0;x&C;)C>>>=1;return C?(x&C-1)+C:x}function I(x,w,C,F,V){t(!(F%C));do x[w+(F-=C)]=V;while(0<F)}function W(x,w,C,F,V){if(t(2328>=V),512>=V)var J=i(512);else if((J=i(V))==null)return 0;return function(ee,ne,ie,he,ke,Me){var fe,Ce,Ie=ne,Qe=1<<ie,De=i(16),Xe=i(16);for(t(ke!=0),t(he!=null),t(ee!=null),t(0<ie),Ce=0;Ce<ke;++Ce){if(15<he[Ce])return 0;++De[he[Ce]]}if(De[0]==ke)return 0;for(Xe[1]=0,fe=1;15>fe;++fe){if(De[fe]>1<<fe)return 0;Xe[fe+1]=Xe[fe]+De[fe]}for(Ce=0;Ce<ke;++Ce)fe=he[Ce],0<he[Ce]&&(Me[Xe[fe]++]=Ce);if(Xe[15]==1)return(he=new ae).g=0,he.value=Me[0],I(ee,Ie,1,Qe,he),Qe;var Ge,ot=-1,lt=Qe-1,zt=0,yt=1,vr=1,It=1<<ie;for(Ce=0,fe=1,ke=2;fe<=ie;++fe,ke<<=1){if(yt+=vr<<=1,0>(vr-=De[fe]))return 0;for(;0<De[fe];--De[fe])(he=new ae).g=fe,he.value=Me[Ce++],I(ee,Ie+zt,ke,It,he),zt=re(zt,fe)}for(fe=ie+1,ke=2;15>=fe;++fe,ke<<=1){if(yt+=vr<<=1,0>(vr-=De[fe]))return 0;for(;0<De[fe];--De[fe]){if(he=new ae,(zt&lt)!=ot){for(Ie+=It,Ge=1<<(ot=fe)-ie;15>ot&&!(0>=(Ge-=De[ot]));)++ot,Ge<<=1;Qe+=It=1<<(Ge=ot-ie),ee[ne+(ot=zt&lt)].g=Ge+ie,ee[ne+ot].value=Ie-ne-ot}he.g=fe-ie,he.value=Me[Ce++],I(ee,Ie+(zt>>ie),ke,It,he),zt=re(zt,fe)}}return yt!=2*Xe[15]-1?0:Qe}(x,w,C,F,V,J)}function ae(){this.value=this.g=0}function ge(){this.value=this.g=0}function _e(){this.G=l(5,ae),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(fa,ge)}function Le(x,w,C,F){t(x!=null),t(w!=null),t(2147483648>F),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=w,x.pa=C,x.Jd=w,x.Yc=C+F,x.Zc=4<=F?C+F-4+1:C,be(x)}function Te(x,w){for(var C=0;0<w--;)C|=Ee(x,128)<<w;return C}function Q(x,w){var C=Te(x,w);return Se(x)?-C:C}function ye(x,w,C,F){var V,J=0;for(t(x!=null),t(w!=null),t(4294967288>F),x.Sb=F,x.Ra=0,x.u=0,x.h=0,4<F&&(F=4),V=0;V<F;++V)J+=w[C+V]<<8*V;x.Ra=J,x.bb=F,x.oa=w,x.pa=C}function je(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Qo-8>>>0,++x.bb,x.u-=8;D(x)&&(x.h=1,x.u=0)}function oe(x,w){if(t(0<=w),!x.h&&w<=Wa){var C=O(x)&di[w];return x.u+=w,je(x),C}return x.h=1,x.u=0}function j(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function B(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function O(x){return x.Ra>>>(x.u&Qo-1)>>>0}function D(x){return t(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Qo}function Z(x,w){x.u=w,x.h=D(x)}function pe(x){x.u>=Es&&(t(x.u>=Es),je(x))}function be(x){t(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(t(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function Se(x){return Te(x,1)}function Ee(x,w){var C=x.Ca;0>x.b&&be(x);var F=x.b,V=C*w>>>8,J=(x.I>>>F>V)+0;for(J?(C-=V,x.I-=V+1<<F>>>0):C=V+1,F=C,V=0;256<=F;)V+=8,F>>=8;return F=7^V+ks[F],x.b-=F,x.Ca=(C<<F)-1,J}function Ye(x,w,C){x[w+0]=C>>24&255,x[w+1]=C>>16&255,x[w+2]=C>>8&255,x[w+3]=255&C}function at(x,w){return x[w+0]|x[w+1]<<8}function st(x,w){return at(x,w)|x[w+2]<<16}function ft(x,w){return at(x,w)|at(x,w+2)<<16}function le(x,w){var C=1<<w;return t(x!=null),t(0<w),x.X=i(C),x.X==null?0:(x.Mb=32-w,x.Xa=w,1)}function dt(x,w){t(x!=null),t(w!=null),t(x.Xa==w.Xa),n(w.X,0,x.X,0,1<<w.Xa)}function Pe(){this.X=[],this.Xa=this.Mb=0}function rt(x,w,C,F){t(C!=null),t(F!=null);var V=C[0],J=F[0];return V==0&&(V=(x*J+w/2)/w),J==0&&(J=(w*V+x/2)/x),0>=V||0>=J?0:(C[0]=V,F[0]=J,1)}function Je(x,w){return x+(1<<w)-1>>>w}function kt(x,w){return((4278255360&x)+(4278255360&w)>>>0&4278255360)+((16711935&x)+(16711935&w)>>>0&16711935)>>>0}function Ze(x,w){M[w]=function(C,F,V,J,ee,ne,ie){var he;for(he=0;he<ee;++he){var ke=M[x](ne[ie+he-1],V,J+he);ne[ie+he]=kt(C[F+he],ke)}}}function Et(){this.ud=this.hd=this.jd=0}function Pt(x,w){return((4278124286&(x^w))>>>1)+(x&w)>>>0}function fr(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function Zt(x,w){return fr(x+(x-w+.5>>1))}function Xt(x,w,C){return Math.abs(w-C)-Math.abs(x-C)}function gr(x,w,C,F,V,J,ee){for(F=J[ee-1],C=0;C<V;++C)J[ee+C]=F=kt(x[w+C],F)}function nr(x,w,C,F,V){var J;for(J=0;J<C;++J){var ee=x[w+J],ne=ee>>8&255,ie=16711935&(ie=(ie=16711935&ee)+((ne<<16)+ne));F[V+J]=(4278255360&ee)+ie>>>0}}function Ft(x,w){w.jd=255&x,w.hd=x>>8&255,w.ud=x>>16&255}function Qt(x,w,C,F,V,J){var ee;for(ee=0;ee<F;++ee){var ne=w[C+ee],ie=ne>>>8,he=ne,ke=255&(ke=(ke=ne>>>16)+((x.jd<<24>>24)*(ie<<24>>24)>>>5));he=255&(he=(he+=(x.hd<<24>>24)*(ie<<24>>24)>>>5)+((x.ud<<24>>24)*(ke<<24>>24)>>>5)),V[J+ee]=(4278255360&ne)+(ke<<16)+he}}function Ct(x,w,C,F,V){M[w]=function(J,ee,ne,ie,he,ke,Me,fe,Ce){for(ie=Me;ie<fe;++ie)for(Me=0;Me<Ce;++Me)he[ke++]=V(ne[F(J[ee++])])},M[x]=function(J,ee,ne,ie,he,ke,Me){var fe=8>>J.b,Ce=J.Ea,Ie=J.K[0],Qe=J.w;if(8>fe)for(J=(1<<J.b)-1,Qe=(1<<fe)-1;ee<ne;++ee){var De,Xe=0;for(De=0;De<Ce;++De)De&J||(Xe=F(ie[he++])),ke[Me++]=V(Ie[Xe&Qe]),Xe>>=fe}else M["VP8LMapColor"+C](ie,he,Ie,Qe,ke,Me,ee,ne,Ce)}}function rn(x,w,C,F,V){for(C=w+C;w<C;){var J=x[w++];F[V++]=J>>16&255,F[V++]=J>>8&255,F[V++]=255&J}}function Er(x,w,C,F,V){for(C=w+C;w<C;){var J=x[w++];F[V++]=J>>16&255,F[V++]=J>>8&255,F[V++]=255&J,F[V++]=J>>24&255}}function pr(x,w,C,F,V){for(C=w+C;w<C;){var J=(ee=x[w++])>>16&240|ee>>12&15,ee=240&ee|ee>>28&15;F[V++]=J,F[V++]=ee}}function xr(x,w,C,F,V){for(C=w+C;w<C;){var J=(ee=x[w++])>>16&248|ee>>13&7,ee=ee>>5&224|ee>>3&31;F[V++]=J,F[V++]=ee}}function nn(x,w,C,F,V){for(C=w+C;w<C;){var J=x[w++];F[V++]=255&J,F[V++]=J>>8&255,F[V++]=J>>16&255}}function Lt(x,w,C,F,V,J){if(J==0)for(C=w+C;w<C;)Ye(F,((J=x[w++])[0]>>24|J[1]>>8&65280|J[2]<<8&16711680|J[3]<<24)>>>0),V+=32;else n(F,V,x,w,C)}function Or(x,w){M[w][0]=M[x+"0"],M[w][1]=M[x+"1"],M[w][2]=M[x+"2"],M[w][3]=M[x+"3"],M[w][4]=M[x+"4"],M[w][5]=M[x+"5"],M[w][6]=M[x+"6"],M[w][7]=M[x+"7"],M[w][8]=M[x+"8"],M[w][9]=M[x+"9"],M[w][10]=M[x+"10"],M[w][11]=M[x+"11"],M[w][12]=M[x+"12"],M[w][13]=M[x+"13"],M[w][14]=M[x+"0"],M[w][15]=M[x+"0"]}function Wt(x){return x==jo||x==il||x==Rl||x==Fl}function er(){this.eb=[],this.size=this.A=this.fb=0}function Hr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function hr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new er,this.f.kb=new Hr,this.sd=null}function $t(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Rr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function as(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function ra(x,w){var C=x.T,F=w.ba.f.RGBA,V=F.eb,J=F.fb+x.ka*F.A,ee=Ta[w.ba.S],ne=x.y,ie=x.O,he=x.f,ke=x.N,Me=x.ea,fe=x.W,Ce=w.cc,Ie=w.dc,Qe=w.Mc,De=w.Nc,Xe=x.ka,Ge=x.ka+x.T,ot=x.U,lt=ot+1>>1;for(Xe==0?ee(ne,ie,null,null,he,ke,Me,fe,he,ke,Me,fe,V,J,null,null,ot):(ee(w.ec,w.fc,ne,ie,Ce,Ie,Qe,De,he,ke,Me,fe,V,J-F.A,V,J,ot),++C);Xe+2<Ge;Xe+=2)Ce=he,Ie=ke,Qe=Me,De=fe,ke+=x.Rc,fe+=x.Rc,J+=2*F.A,ee(ne,(ie+=2*x.fa)-x.fa,ne,ie,Ce,Ie,Qe,De,he,ke,Me,fe,V,J-F.A,V,J,ot);return ie+=x.fa,x.j+Ge<x.o?(n(w.ec,w.fc,ne,ie,ot),n(w.cc,w.dc,he,ke,lt),n(w.Mc,w.Nc,Me,fe,lt),C--):1&Ge||ee(ne,ie,null,null,he,ke,Me,fe,he,ke,Me,fe,V,J+F.A,null,null,ot),C}function Fi(x,w,C){var F=x.F,V=[x.J];if(F!=null){var J=x.U,ee=w.ba.S,ne=ee==mc||ee==Rl;w=w.ba.f.RGBA;var ie=[0],he=x.ka;ie[0]=x.T,x.Kb&&(he==0?--ie[0]:(--he,V[0]-=x.width),x.j+x.ka+x.T==x.o&&(ie[0]=x.o-x.j-he));var ke=w.eb;he=w.fb+he*w.A,x=hc(F,V[0],x.width,J,ie,ke,he+(ne?0:3),w.A),t(C==ie),x&&Wt(ee)&&al(ke,he,ne,J,ie,w.A)}return 0}function ai(x){var w=x.ma,C=w.ba.S,F=11>C,V=C==Ga||C==pc||C==mc||C==fn||C==12||Wt(C);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!kl(w.Oa,x,V?11:12))return 0;if(V&&Wt(C)&&Ha(),x.da)alert("todo:use_scaling");else{if(F){if(w.Ib=as,x.Kb){if(C=x.U+1>>1,w.memory=i(x.U+2*C),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+x.U,w.Mc=w.cc,w.Nc=w.dc+C,w.Ib=ra,Ha()}}else alert("todo:EmitYUV");V&&(w.Jb=Fi,F&&_i())}if(F&&!pa){for(x=0;256>x;++x)ll[x]=89858*(x-128)+cs>>Eo,Zs[x]=-22014*(x-128)+cs,Xr[x]=-45773*(x-128),vc[x]=113618*(x-128)+cs>>Eo;for(x=Qr;x<on;++x)w=76283*(x-16)+cs>>Eo,_u[x-Qr]=Ar(w,255),Yd[x-Qr]=Ar(w+8>>4,15);pa=1}return 1}function Gt(x){var w=x.ma,C=x.U,F=x.T;return t(!(1&x.ka)),0>=C||0>=F?0:(C=w.Ib(x,w),w.Jb!=null&&w.Jb(x,w,C),w.Dc+=C,1)}function $a(x){x.ma.memory=null}function za(x,w,C,F){return oe(x,8)!=47?0:(w[0]=oe(x,14)+1,C[0]=oe(x,14)+1,F[0]=oe(x,1),oe(x,3)!=0?0:!x.h)}function na(x,w){if(4>x)return x+1;var C=x-2>>1;return(2+(1&x)<<C)+oe(w,C)+1}function Ir(x,w){return 120<w?w-120:1<=(C=((C=Jh[w-1])>>4)*x+(8-(15&C)))?C:1;var C}function kr(x,w,C){var F=O(C),V=x[w+=255&F].g-8;return 0<V&&(Z(C,C.u+8),F=O(C),w+=x[w].value,w+=F&(1<<V)-1),Z(C,C.u+x[w].g),x[w].value}function Rn(x,w,C){return C.g+=x.g,C.value+=x.value<<w>>>0,t(8>=C.g),x.g}function Y(x,w,C){var F=x.xc;return t((w=F==0?0:x.vc[x.md*(C>>F)+(w>>F)])<x.Wb),x.Ya[w]}function ue(x,w,C,F){var V=x.ab,J=x.c*w,ee=x.C;w=ee+w;var ne=C,ie=F;for(F=x.Ta,C=x.Ua;0<V--;){var he=x.gc[V],ke=ee,Me=w,fe=ne,Ce=ie,Ie=(ie=F,ne=C,he.Ea);switch(t(ke<Me),t(Me<=he.nc),he.hc){case 2:Un(fe,Ce,(Me-ke)*Ie,ie,ne);break;case 0:var Qe=ke,De=Me,Xe=ie,Ge=ne,ot=(It=he).Ea;Qe==0&&(Ys(fe,Ce,null,null,1,Xe,Ge),gr(fe,Ce+1,0,0,ot-1,Xe,Ge+1),Ce+=ot,Ge+=ot,++Qe);for(var lt=1<<It.b,zt=lt-1,yt=Je(ot,It.b),vr=It.K,It=It.w+(Qe>>It.b)*yt;Qe<De;){var Tr=vr,ia=It,lr=1;for(As(fe,Ce,Xe,Ge-ot,1,Xe,Ge);lr<ot;){var Ot=(lr&~zt)+lt;Ot>ot&&(Ot=ot),(0,Tl[Tr[ia++]>>8&15])(fe,Ce+ +lr,Xe,Ge+lr-ot,Ot-lr,Xe,Ge+lr),lr=Ot}Ce+=ot,Ge+=ot,++Qe&zt||(It+=yt)}Me!=he.nc&&n(ie,ne-Ie,ie,ne+(Me-ke-1)*Ie,Ie);break;case 1:for(Ie=fe,De=Ce,ot=(fe=he.Ea)-(Ge=fe&~(Xe=(Ce=1<<he.b)-1)),Qe=Je(fe,he.b),lt=he.K,he=he.w+(ke>>he.b)*Qe;ke<Me;){for(zt=lt,yt=he,vr=new Et,It=De+Ge,Tr=De+fe;De<It;)Ft(zt[yt++],vr),cc(vr,Ie,De,Ce,ie,ne),De+=Ce,ne+=Ce;De<Tr&&(Ft(zt[yt++],vr),cc(vr,Ie,De,ot,ie,ne),De+=ot,ne+=ot),++ke&Xe||(he+=Qe)}break;case 3:if(fe==ie&&Ce==ne&&0<he.b){for(De=ie,fe=Ie=ne+(Me-ke)*Ie-(Ge=(Me-ke)*Je(he.Ea,he.b)),Ce=ie,Xe=ne,Qe=[],Ge=(ot=Ge)-1;0<=Ge;--Ge)Qe[Ge]=Ce[Xe+Ge];for(Ge=ot-1;0<=Ge;--Ge)De[fe+Ge]=Qe[Ge];Cl(he,ke,Me,ie,Ie,ie,ne)}else Cl(he,ke,Me,fe,Ce,ie,ne)}ne=F,ie=C}ie!=C&&n(F,C,ne,ie,J)}function se(x,w){var C=x.V,F=x.Ba+x.c*x.C,V=w-x.C;if(t(w<=x.l.o),t(16>=V),0<V){var J=x.l,ee=x.Ta,ne=x.Ua,ie=J.width;if(ue(x,V,C,F),V=ne=[ne],t((C=x.C)<(F=w)),t(J.v<J.va),F>J.o&&(F=J.o),C<J.j){var he=J.j-C;C=J.j,V[0]+=he*ie}if(C>=F?C=0:(V[0]+=4*J.v,J.ka=C-J.j,J.U=J.va-J.v,J.T=F-C,C=1),C){if(ne=ne[0],11>(C=x.ca).S){var ke=C.f.RGBA,Me=(F=C.S,V=J.U,J=J.T,he=ke.eb,ke.A),fe=J;for(ke=ke.fb+x.Ma*ke.A;0<fe--;){var Ce=ee,Ie=ne,Qe=V,De=he,Xe=ke;switch(F){case qc:Pl(Ce,Ie,Qe,De,Xe);break;case Ga:Ca(Ce,Ie,Qe,De,Xe);break;case jo:Ca(Ce,Ie,Qe,De,Xe),al(De,Xe,0,Qe,1,0);break;case Hc:tl(Ce,Ie,Qe,De,Xe);break;case pc:Lt(Ce,Ie,Qe,De,Xe,1);break;case il:Lt(Ce,Ie,Qe,De,Xe,1),al(De,Xe,0,Qe,1,0);break;case mc:Lt(Ce,Ie,Qe,De,Xe,0);break;case Rl:Lt(Ce,Ie,Qe,De,Xe,0),al(De,Xe,1,Qe,1,0);break;case fn:So(Ce,Ie,Qe,De,Xe);break;case Fl:So(Ce,Ie,Qe,De,Xe),Ll(De,Xe,Qe,1,0);break;case gc:el(Ce,Ie,Qe,De,Xe);break;default:t(0)}ne+=ie,ke+=Me}x.Ma+=J}else alert("todo:EmitRescaledRowsYUVA");t(x.Ma<=C.height)}}x.C=w,t(x.C<=x.i)}function ce(x){var w;if(0<x.ua)return 0;for(w=0;w<x.Wb;++w){var C=x.Ya[w].G,F=x.Ya[w].H;if(0<C[1][F[1]+0].g||0<C[2][F[2]+0].g||0<C[3][F[3]+0].g)return 0}return 1}function me(x,w,C,F,V,J){if(x.Z!=0){var ee=x.qd,ne=x.rd;for(t(Ka[x.Z]!=null);w<C;++w)Ka[x.Z](ee,ne,F,V,F,V,J),ee=F,ne=V,V+=J;x.qd=ee,x.rd=ne}}function xe(x,w){var C=x.l.ma,F=C.Z==0||C.Z==1?x.l.j:x.C;if(F=x.C<F?F:x.C,t(w<=x.l.o),w>F){var V=x.l.width,J=C.ca,ee=C.tb+V*F,ne=x.V,ie=x.Ba+x.c*F,he=x.gc;t(x.ab==1),t(he[0].hc==3),Ts(he[0],F,w,ne,ie,J,ee),me(C,F,w,J,ee,V)}x.C=x.Ma=w}function Ue(x,w,C,F,V,J,ee){var ne=x.$/F,ie=x.$%F,he=x.m,ke=x.s,Me=C+x.$,fe=Me;V=C+F*V;var Ce=C+F*J,Ie=280+ke.ua,Qe=x.Pb?ne:16777216,De=0<ke.ua?ke.Wa:null,Xe=ke.wc,Ge=Me<Ce?Y(ke,ie,ne):null;t(x.C<J),t(Ce<=V);var ot=!1;e:for(;;){for(;ot||Me<Ce;){var lt=0;if(ne>=Qe){var zt=Me-C;t((Qe=x).Pb),Qe.wd=Qe.m,Qe.xd=zt,0<Qe.s.ua&&dt(Qe.s.Wa,Qe.s.vb),Qe=ne+Vc}if(ie&Xe||(Ge=Y(ke,ie,ne)),t(Ge!=null),Ge.Qb&&(w[Me]=Ge.qb,ot=!0),!ot)if(pe(he),Ge.jc){lt=he,zt=w;var yt=Me,vr=Ge.pd[O(lt)&fa-1];t(Ge.jc),256>vr.g?(Z(lt,lt.u+vr.g),zt[yt]=vr.value,lt=0):(Z(lt,lt.u+vr.g-256),t(256<=vr.value),lt=vr.value),lt==0&&(ot=!0)}else lt=kr(Ge.G[0],Ge.H[0],he);if(he.h)break;if(ot||256>lt){if(!ot)if(Ge.nd)w[Me]=(Ge.qb|lt<<8)>>>0;else{if(pe(he),ot=kr(Ge.G[1],Ge.H[1],he),pe(he),zt=kr(Ge.G[2],Ge.H[2],he),yt=kr(Ge.G[3],Ge.H[3],he),he.h)break;w[Me]=(yt<<24|ot<<16|lt<<8|zt)>>>0}if(ot=!1,++Me,++ie>=F&&(ie=0,++ne,ee!=null&&ne<=J&&!(ne%16)&&ee(x,ne),De!=null))for(;fe<Me;)lt=w[fe++],De.X[(506832829*lt&4294967295)>>>De.Mb]=lt}else if(280>lt){if(lt=na(lt-256,he),zt=kr(Ge.G[4],Ge.H[4],he),pe(he),zt=Ir(F,zt=na(zt,he)),he.h)break;if(Me-C<zt||V-Me<lt)break e;for(yt=0;yt<lt;++yt)w[Me+yt]=w[Me+yt-zt];for(Me+=lt,ie+=lt;ie>=F;)ie-=F,++ne,ee!=null&&ne<=J&&!(ne%16)&&ee(x,ne);if(t(Me<=V),ie&Xe&&(Ge=Y(ke,ie,ne)),De!=null)for(;fe<Me;)lt=w[fe++],De.X[(506832829*lt&4294967295)>>>De.Mb]=lt}else{if(!(lt<Ie))break e;for(ot=lt-280,t(De!=null);fe<Me;)lt=w[fe++],De.X[(506832829*lt&4294967295)>>>De.Mb]=lt;lt=Me,t(!(ot>>>(zt=De).Xa)),w[lt]=zt.X[ot],ot=!0}ot||t(he.h==D(he))}if(x.Pb&&he.h&&Me<V)t(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&dt(x.s.vb,x.s.Wa);else{if(he.h)break e;ee!=null&&ee(x,ne>J?J:ne),x.a=0,x.$=Me-C}return 1}return x.a=3,0}function Ve(x){t(x!=null),x.vc=null,x.yc=null,x.Ya=null;var w=x.Wa;w!=null&&(w.X=null),x.vb=null,t(x!=null)}function Be(){var x=new rr;return x==null?null:(x.a=0,x.xb=Dl,Or("Predictor","VP8LPredictors"),Or("Predictor","VP8LPredictors_C"),Or("PredictorAdd","VP8LPredictorsAdd"),Or("PredictorAdd","VP8LPredictorsAdd_C"),Un=nr,cc=Qt,Pl=rn,Ca=Er,So=pr,el=xr,tl=nn,M.VP8LMapColor32b=Cs,M.VP8LMapColor8b=wo,x)}function $e(x,w,C,F,V){var J=1,ee=[x],ne=[w],ie=F.m,he=F.s,ke=null,Me=0;e:for(;;){if(C)for(;J&&oe(ie,1);){var fe=ee,Ce=ne,Ie=F,Qe=1,De=Ie.m,Xe=Ie.gc[Ie.ab],Ge=oe(De,2);if(Ie.Oc&1<<Ge)J=0;else{switch(Ie.Oc|=1<<Ge,Xe.hc=Ge,Xe.Ea=fe[0],Xe.nc=Ce[0],Xe.K=[null],++Ie.ab,t(4>=Ie.ab),Ge){case 0:case 1:Xe.b=oe(De,3)+2,Qe=$e(Je(Xe.Ea,Xe.b),Je(Xe.nc,Xe.b),0,Ie,Xe.K),Xe.K=Xe.K[0];break;case 3:var ot,lt=oe(De,8)+1,zt=16<lt?0:4<lt?1:2<lt?2:3;if(fe[0]=Je(Xe.Ea,zt),Xe.b=zt,ot=Qe=$e(lt,1,0,Ie,Xe.K)){var yt,vr=lt,It=Xe,Tr=1<<(8>>It.b),ia=i(Tr);if(ia==null)ot=0;else{var lr=It.K[0],Ot=It.w;for(ia[0]=It.K[0][0],yt=1;yt<1*vr;++yt)ia[yt]=kt(lr[Ot+yt],ia[yt-1]);for(;yt<4*Tr;++yt)ia[yt]=0;It.K[0]=null,It.K[0]=ia,ot=1}}Qe=ot;break;case 2:break;default:t(0)}J=Qe}}if(ee=ee[0],ne=ne[0],J&&oe(ie,1)&&!(J=1<=(Me=oe(ie,4))&&11>=Me)){F.a=3;break e}var jt;if(jt=J)t:{var jn,cr,Dr,_n=F,pn=ee,Ya=ne,En=Me,ma=C,Br=_n.m,Zn=_n.s,Mr=[null],Wr=1,In=0,Ur=Zh[En];r:for(;;){if(ma&&oe(Br,1)){var ln=oe(Br,3)+2,La=Je(pn,ln),zn=Je(Ya,ln),fi=La*zn;if(!$e(La,zn,0,_n,Mr))break r;for(Mr=Mr[0],Zn.xc=ln,jn=0;jn<fi;++jn){var Nr=Mr[jn]>>8&65535;Mr[jn]=Nr,Nr>=Wr&&(Wr=Nr+1)}}if(Br.h)break r;for(cr=0;5>cr;++cr){var yn=$n[cr];!cr&&0<En&&(yn+=1<<En),In<yn&&(In=yn)}var pi=l(Wr*Ur,ae),Xa=Wr,Qn=l(Xa,_e);if(Qn==null)var Gn=null;else t(65536>=Xa),Gn=Qn;var Ra=i(In);if(Gn==null||Ra==null||pi==null){_n.a=1;break r}var ji=pi;for(jn=Dr=0;jn<Wr;++jn){var en=Gn[jn],Jr=en.G,Ja=en.H,Fa=0,Ei=1,Kn=0;for(cr=0;5>cr;++cr){yn=$n[cr],Jr[cr]=ji,Ja[cr]=Dr,!cr&&0<En&&(yn+=1<<En);a:{var Ls,bc=yn,Ao=_n,_c=Ra,ld=ji,qn=Dr,yc=0,to=Ao.m,ul=oe(to,1);if(a(_c,0,0,bc),ul){var wu=oe(to,1)+1,cd=oe(to,1),dl=oe(to,cd==0?1:8);_c[dl]=1,wu==2&&(_c[dl=oe(to,8)]=1);var wn=1}else{var Yn=i(19),sa=oe(to,4)+4;if(19<sa){Ao.a=3;var Ml=0;break a}for(Ls=0;Ls<sa;++Ls)Yn[Wc[Ls]]=oe(to,3);var Co=void 0,To=void 0,Xd=Ao,Za=Yn,wc=bc,Su=_c,Yc=0,Oa=Xd.m,Hi=8,Sc=l(128,ae);n:for(;W(Sc,0,7,Za,19);){if(oe(Oa,1)){var Nc=2+2*oe(Oa,3);if((Co=2+oe(Oa,Nc))>wc)break n}else Co=wc;for(To=0;To<wc&&Co--;){pe(Oa);var Nu=Sc[0+(127&O(Oa))];Z(Oa,Oa.u+Nu.g);var Ul=Nu.value;if(16>Ul)Su[To++]=Ul,Ul!=0&&(Hi=Ul);else{var Jd=Ul==16,ud=Ul-16,Zd=xu[ud],ju=oe(Oa,Ol[ud])+Zd;if(To+ju>wc)break n;for(var Qd=Jd?Hi:0;0<ju--;)Su[To++]=Qd}}Yc=1;break n}Yc||(Xd.a=3),wn=Yc}(wn=wn&&!to.h)&&(yc=W(ld,qn,8,_c,bc)),wn&&yc!=0?Ml=yc:(Ao.a=3,Ml=0)}if(Ml==0)break r;if(Ei&&Il[cr]==1&&(Ei=ji[Dr].g==0),Fa+=ji[Dr].g,Dr+=Ml,3>=cr){var $l,v=Ra[0];for($l=1;$l<yn;++$l)Ra[$l]>v&&(v=Ra[$l]);Kn+=v}}if(en.nd=Ei,en.Qb=0,Ei&&(en.qb=(Jr[3][Ja[3]+0].value<<24|Jr[1][Ja[1]+0].value<<16|Jr[2][Ja[2]+0].value)>>>0,Fa==0&&256>Jr[0][Ja[0]+0].value&&(en.Qb=1,en.qb+=Jr[0][Ja[0]+0].value<<8)),en.jc=!en.Qb&&6>Kn,en.jc){var K,Fe=en;for(K=0;K<fa;++K){var We=K,xt=Fe.pd[We],qt=Fe.G[0][Fe.H[0]+We];256<=qt.value?(xt.g=qt.g+256,xt.value=qt.value):(xt.g=0,xt.value=0,We>>=Rn(qt,8,xt),We>>=Rn(Fe.G[1][Fe.H[1]+We],16,xt),We>>=Rn(Fe.G[2][Fe.H[2]+We],0,xt),Rn(Fe.G[3][Fe.H[3]+We],24,xt))}}}Zn.vc=Mr,Zn.Wb=Wr,Zn.Ya=Gn,Zn.yc=pi,jt=1;break t}jt=0}if(!(J=jt)){F.a=3;break e}if(0<Me){if(he.ua=1<<Me,!le(he.Wa,Me)){F.a=1,J=0;break e}}else he.ua=0;var mn=F,At=ee,gn=ne,Ia=mn.s,us=Ia.xc;if(mn.c=At,mn.i=gn,Ia.md=Je(At,us),Ia.wc=us==0?-1:(1<<us)-1,C){F.xb=Xs;break e}if((ke=i(ee*ne))==null){F.a=1,J=0;break e}J=(J=Ue(F,ke,0,ee,ne,ne,null))&&!ie.h;break e}return J?(V!=null?V[0]=ke:(t(ke==null),t(C)),F.$=0,C||Ve(he)):Ve(he),J}function qe(x,w){var C=x.c*x.i,F=C+w+16*w;return t(x.c<=w),x.V=i(F),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+C+w,1)}function ct(x,w){var C=x.C,F=w-C,V=x.V,J=x.Ba+x.c*C;for(t(w<=x.l.o);0<F;){var ee=16<F?16:F,ne=x.l.ma,ie=x.l.width,he=ie*ee,ke=ne.ca,Me=ne.tb+ie*C,fe=x.Ta,Ce=x.Ua;ue(x,ee,V,J),gu(fe,Ce,ke,Me,he),me(ne,C,C+ee,ke,Me,ie),F-=ee,V+=ee*x.c,C+=ee}t(C==w),x.C=x.Ma=w}function bt(){this.ub=this.yd=this.td=this.Rb=0}function Nt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function gt(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function pt(){this.Yb=function(){var x=[];return function w(C,F,V){for(var J=V[F],ee=0;ee<J&&(C.push(V.length>F+1?[]:0),!(V.length<F+1));ee++)w(C[ee],F+1,V)}(x,0,[3,11]),x}()}function ar(){this.jb=i(3),this.Wc=c([4,8],pt),this.Xc=c([4,17],pt)}function Pr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function wr(){this.ld=this.La=this.dd=this.tc=0}function dn(){this.Na=this.la=0}function bs(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ii(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Oi(){this.uc=this.M=this.Nb=0,this.wa=Array(new wr),this.Y=0,this.ya=Array(new ii),this.aa=0,this.l=new yl}function an(){this.y=i(16),this.f=i(8),this.ea=i(8)}function _s(){this.cb=this.a=0,this.sc="",this.m=new j,this.Od=new bt,this.Kc=new Nt,this.ed=new Pr,this.Qa=new gt,this.Ic=this.$c=this.Aa=0,this.D=new Oi,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,j),this.ia=0,this.pb=l(4,bs),this.Pa=new ar,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new an),this.Hd=0,this.rb=Array(new dn),this.sb=0,this.wa=Array(new wr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ii),this.L=this.aa=0,this.gd=c([4,2],wr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ar(x,w){return 0>x?0:x>w?w:x}function yl(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Sn(){var x=new _s;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,ls||(ls=ys)),x}function Gr(x,w,C){return x.a==0&&(x.a=w,x.sc=C,x.cb=0),0}function Us(x,w,C){return 3<=C&&x[w+0]==157&&x[w+1]==1&&x[w+2]==42}function vi(x,w){if(x==null)return 0;if(x.a=0,x.sc="OK",w==null)return Gr(x,2,"null VP8Io passed to VP8GetHeaders()");var C=w.data,F=w.w,V=w.ha;if(4>V)return Gr(x,7,"Truncated header.");var J=C[F+0]|C[F+1]<<8|C[F+2]<<16,ee=x.Od;if(ee.Rb=!(1&J),ee.td=J>>1&7,ee.yd=J>>4&1,ee.ub=J>>5,3<ee.td)return Gr(x,3,"Incorrect keyframe parameters.");if(!ee.yd)return Gr(x,4,"Frame not displayable.");F+=3,V-=3;var ne=x.Kc;if(ee.Rb){if(7>V)return Gr(x,7,"cannot parse picture header");if(!Us(C,F,V))return Gr(x,3,"Bad code word");ne.c=16383&(C[F+4]<<8|C[F+3]),ne.Td=C[F+4]>>6,ne.i=16383&(C[F+6]<<8|C[F+5]),ne.Ud=C[F+6]>>6,F+=7,V-=7,x.za=ne.c+15>>4,x.Ub=ne.i+15>>4,w.width=ne.c,w.height=ne.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,a((J=x.Pa).jb,0,255,J.jb.length),t((J=x.Qa)!=null),J.Cb=0,J.Bb=0,J.Fb=1,a(J.Zb,0,0,J.Zb.length),a(J.Lb,0,0,J.Lb)}if(ee.ub>V)return Gr(x,7,"bad partition length");Le(J=x.m,C,F,ee.ub),F+=ee.ub,V-=ee.ub,ee.Rb&&(ne.Ld=Se(J),ne.Kd=Se(J)),ne=x.Qa;var ie,he=x.Pa;if(t(J!=null),t(ne!=null),ne.Cb=Se(J),ne.Cb){if(ne.Bb=Se(J),Se(J)){for(ne.Fb=Se(J),ie=0;4>ie;++ie)ne.Zb[ie]=Se(J)?Q(J,7):0;for(ie=0;4>ie;++ie)ne.Lb[ie]=Se(J)?Q(J,6):0}if(ne.Bb)for(ie=0;3>ie;++ie)he.jb[ie]=Se(J)?Te(J,8):255}else ne.Bb=0;if(J.Ka)return Gr(x,3,"cannot parse segment header");if((ne=x.ed).zd=Se(J),ne.Tb=Te(J,6),ne.wb=Te(J,3),ne.Pc=Se(J),ne.Pc&&Se(J)){for(he=0;4>he;++he)Se(J)&&(ne.vd[he]=Q(J,6));for(he=0;4>he;++he)Se(J)&&(ne.od[he]=Q(J,6))}if(x.L=ne.Tb==0?0:ne.zd?1:2,J.Ka)return Gr(x,3,"cannot parse filter header");var ke=V;if(V=ie=F,F=ie+ke,ne=ke,x.Xb=(1<<Te(x.m,2))-1,ke<3*(he=x.Xb))C=7;else{for(ie+=3*he,ne-=3*he,ke=0;ke<he;++ke){var Me=C[V+0]|C[V+1]<<8|C[V+2]<<16;Me>ne&&(Me=ne),Le(x.Jc[+ke],C,ie,Me),ie+=Me,ne-=Me,V+=3}Le(x.Jc[+he],C,ie,ne),C=ie<F?0:5}if(C!=0)return Gr(x,C,"cannot parse partitions");for(C=Te(ie=x.m,7),V=Se(ie)?Q(ie,4):0,F=Se(ie)?Q(ie,4):0,ne=Se(ie)?Q(ie,4):0,he=Se(ie)?Q(ie,4):0,ie=Se(ie)?Q(ie,4):0,ke=x.Qa,Me=0;4>Me;++Me){if(ke.Cb){var fe=ke.Zb[Me];ke.Fb||(fe+=C)}else{if(0<Me){x.pb[Me]=x.pb[0];continue}fe=C}var Ce=x.pb[Me];Ce.Sc[0]=Lr[Ar(fe+V,127)],Ce.Sc[1]=sl[Ar(fe+0,127)],Ce.Eb[0]=2*Lr[Ar(fe+F,127)],Ce.Eb[1]=101581*sl[Ar(fe+ne,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=Lr[Ar(fe+he,117)],Ce.Qc[1]=sl[Ar(fe+ie,127)],Ce.lc=fe+ie}if(!ee.Rb)return Gr(x,4,"Not a key frame.");for(Se(J),ee=x.Pa,C=0;4>C;++C){for(V=0;8>V;++V)for(F=0;3>F;++F)for(ne=0;11>ne;++ne)he=Ee(J,od[C][V][F][ne])?Te(J,8):nt[C][V][F][ne],ee.Wc[C][V].Yb[F][ne]=he;for(V=0;17>V;++V)ee.Xc[C][V]=ee.Wc[C][vu[V]]}return x.kc=Se(J),x.kc&&(x.Bd=Te(J,8)),x.cb=1}function ys(x,w,C,F,V,J,ee){var ne=w[V].Yb[C];for(C=0;16>V;++V){if(!Ee(x,ne[C+0]))return V;for(;!Ee(x,ne[C+1]);)if(ne=w[++V].Yb[0],C=0,V==16)return 16;var ie=w[V+1].Yb;if(Ee(x,ne[C+2])){var he=x,ke=0;if(Ee(he,(fe=ne)[(Me=C)+3]))if(Ee(he,fe[Me+6])){for(ne=0,Me=2*(ke=Ee(he,fe[Me+8]))+(fe=Ee(he,fe[Me+9+ke])),ke=0,fe=sd[Me];fe[ne];++ne)ke+=ke+Ee(he,fe[ne]);ke+=3+(8<<Me)}else Ee(he,fe[Me+7])?(ke=7+2*Ee(he,165),ke+=Ee(he,145)):ke=5+Ee(he,159);else ke=Ee(he,fe[Me+4])?3+Ee(he,fe[Me+5]):2;ne=ie[2]}else ke=1,ne=ie[1];ie=ee+Ps[V],0>(he=x).b&&be(he);var Me,fe=he.b,Ce=(Me=he.Ca>>1)-(he.I>>fe)>>31;--he.b,he.Ca+=Ce,he.Ca|=1,he.I-=(Me+1&Ce)<<fe,J[ie]=((ke^Ce)-Ce)*F[(0<V)+0]}return 16}function $s(x){var w=x.rb[x.sb-1];w.la=0,w.Na=0,a(x.zc,0,0,x.zc.length),x.ja=0}function Ii(x,w,C,F,V){V=x[w+C+32*F]+(V>>3),x[w+C+32*F]=-256&V?0>V?0:255:V}function la(x,w,C,F,V,J){Ii(x,w,0,C,F+V),Ii(x,w,1,C,F+J),Ii(x,w,2,C,F-J),Ii(x,w,3,C,F-V)}function aa(x){return(20091*x>>16)+x}function zs(x,w,C,F){var V,J=0,ee=i(16);for(V=0;4>V;++V){var ne=x[w+0]+x[w+8],ie=x[w+0]-x[w+8],he=(35468*x[w+4]>>16)-aa(x[w+12]),ke=aa(x[w+4])+(35468*x[w+12]>>16);ee[J+0]=ne+ke,ee[J+1]=ie+he,ee[J+2]=ie-he,ee[J+3]=ne-ke,J+=4,w++}for(V=J=0;4>V;++V)ne=(x=ee[J+0]+4)+ee[J+8],ie=x-ee[J+8],he=(35468*ee[J+4]>>16)-aa(ee[J+12]),Ii(C,F,0,0,ne+(ke=aa(ee[J+4])+(35468*ee[J+12]>>16))),Ii(C,F,1,0,ie+he),Ii(C,F,2,0,ie-he),Ii(C,F,3,0,ne-ke),J++,F+=32}function wl(x,w,C,F){var V=x[w+0]+4,J=35468*x[w+4]>>16,ee=aa(x[w+4]),ne=35468*x[w+1]>>16;la(C,F,0,V+ee,x=aa(x[w+1]),ne),la(C,F,1,V+J,x,ne),la(C,F,2,V-J,x,ne),la(C,F,3,V-ee,x,ne)}function Vo(x,w,C,F,V){zs(x,w,C,F),V&&zs(x,w+16,C,F+4)}function ws(x,w,C,F){Ui(x,w+0,C,F,1),Ui(x,w+32,C,F+128,1)}function ac(x,w,C,F){var V;for(x=x[w+0]+4,V=0;4>V;++V)for(w=0;4>w;++w)Ii(C,F,w,V,x)}function zr(x,w,C,F){x[w+0]&&qr(x,w+0,C,F),x[w+16]&&qr(x,w+16,C,F+4),x[w+32]&&qr(x,w+32,C,F+128),x[w+48]&&qr(x,w+48,C,F+128+4)}function is(x,w,C,F){var V,J=i(16);for(V=0;4>V;++V){var ee=x[w+0+V]+x[w+12+V],ne=x[w+4+V]+x[w+8+V],ie=x[w+4+V]-x[w+8+V],he=x[w+0+V]-x[w+12+V];J[0+V]=ee+ne,J[8+V]=ee-ne,J[4+V]=he+ie,J[12+V]=he-ie}for(V=0;4>V;++V)ee=(x=J[0+4*V]+3)+J[3+4*V],ne=J[1+4*V]+J[2+4*V],ie=J[1+4*V]-J[2+4*V],he=x-J[3+4*V],C[F+0]=ee+ne>>3,C[F+16]=he+ie>>3,C[F+32]=ee-ne>>3,C[F+48]=he-ie>>3,F+=64}function fo(x,w,C){var F,V=w-32,J=Va,ee=255-x[V-1];for(F=0;F<C;++F){var ne,ie=J,he=ee+x[w-1];for(ne=0;ne<C;++ne)x[w+ne]=ie[he+x[V+ne]];w+=32}}function Sl(x,w){fo(x,w,4)}function Bn(x,w){fo(x,w,8)}function ss(x,w){fo(x,w,16)}function po(x,w){var C;for(C=0;16>C;++C)n(x,w+32*C,x,w-32,16)}function Go(x,w){var C;for(C=16;0<C;--C)a(x,w,x[w-1],16),w+=32}function ja(x,w,C){var F;for(F=0;16>F;++F)a(w,C+32*F,x,16)}function Ss(x,w){var C,F=16;for(C=0;16>C;++C)F+=x[w-1+32*C]+x[w+C-32];ja(F>>5,x,w)}function si(x,w){var C,F=8;for(C=0;16>C;++C)F+=x[w-1+32*C];ja(F>>4,x,w)}function oi(x,w){var C,F=8;for(C=0;16>C;++C)F+=x[w+C-32];ja(F>>4,x,w)}function qs(x,w){ja(128,x,w)}function tr(x,w,C){return x+2*w+C+2>>2}function qa(x,w){var C,F=w-32;for(F=new Uint8Array([tr(x[F-1],x[F+0],x[F+1]),tr(x[F+0],x[F+1],x[F+2]),tr(x[F+1],x[F+2],x[F+3]),tr(x[F+2],x[F+3],x[F+4])]),C=0;4>C;++C)n(x,w+32*C,F,0,F.length)}function ic(x,w){var C=x[w-1],F=x[w-1+32],V=x[w-1+64],J=x[w-1+96];Ye(x,w+0,16843009*tr(x[w-1-32],C,F)),Ye(x,w+32,16843009*tr(C,F,V)),Ye(x,w+64,16843009*tr(F,V,J)),Ye(x,w+96,16843009*tr(V,J,J))}function sc(x,w){var C,F=4;for(C=0;4>C;++C)F+=x[w+C-32]+x[w-1+32*C];for(F>>=3,C=0;4>C;++C)a(x,w+32*C,F,4)}function Di(x,w){var C=x[w-1+0],F=x[w-1+32],V=x[w-1+64],J=x[w-1-32],ee=x[w+0-32],ne=x[w+1-32],ie=x[w+2-32],he=x[w+3-32];x[w+0+96]=tr(F,V,x[w-1+96]),x[w+1+96]=x[w+0+64]=tr(C,F,V),x[w+2+96]=x[w+1+64]=x[w+0+32]=tr(J,C,F),x[w+3+96]=x[w+2+64]=x[w+1+32]=x[w+0+0]=tr(ee,J,C),x[w+3+64]=x[w+2+32]=x[w+1+0]=tr(ne,ee,J),x[w+3+32]=x[w+2+0]=tr(ie,ne,ee),x[w+3+0]=tr(he,ie,ne)}function ca(x,w){var C=x[w+1-32],F=x[w+2-32],V=x[w+3-32],J=x[w+4-32],ee=x[w+5-32],ne=x[w+6-32],ie=x[w+7-32];x[w+0+0]=tr(x[w+0-32],C,F),x[w+1+0]=x[w+0+32]=tr(C,F,V),x[w+2+0]=x[w+1+32]=x[w+0+64]=tr(F,V,J),x[w+3+0]=x[w+2+32]=x[w+1+64]=x[w+0+96]=tr(V,J,ee),x[w+3+32]=x[w+2+64]=x[w+1+96]=tr(J,ee,ne),x[w+3+64]=x[w+2+96]=tr(ee,ne,ie),x[w+3+96]=tr(ne,ie,ie)}function Hs(x,w){var C=x[w-1+0],F=x[w-1+32],V=x[w-1+64],J=x[w-1-32],ee=x[w+0-32],ne=x[w+1-32],ie=x[w+2-32],he=x[w+3-32];x[w+0+0]=x[w+1+64]=J+ee+1>>1,x[w+1+0]=x[w+2+64]=ee+ne+1>>1,x[w+2+0]=x[w+3+64]=ne+ie+1>>1,x[w+3+0]=ie+he+1>>1,x[w+0+96]=tr(V,F,C),x[w+0+64]=tr(F,C,J),x[w+0+32]=x[w+1+96]=tr(C,J,ee),x[w+1+32]=x[w+2+96]=tr(J,ee,ne),x[w+2+32]=x[w+3+96]=tr(ee,ne,ie),x[w+3+32]=tr(ne,ie,he)}function mo(x,w){var C=x[w+0-32],F=x[w+1-32],V=x[w+2-32],J=x[w+3-32],ee=x[w+4-32],ne=x[w+5-32],ie=x[w+6-32],he=x[w+7-32];x[w+0+0]=C+F+1>>1,x[w+1+0]=x[w+0+64]=F+V+1>>1,x[w+2+0]=x[w+1+64]=V+J+1>>1,x[w+3+0]=x[w+2+64]=J+ee+1>>1,x[w+0+32]=tr(C,F,V),x[w+1+32]=x[w+0+96]=tr(F,V,J),x[w+2+32]=x[w+1+96]=tr(V,J,ee),x[w+3+32]=x[w+2+96]=tr(J,ee,ne),x[w+3+64]=tr(ee,ne,ie),x[w+3+96]=tr(ne,ie,he)}function go(x,w){var C=x[w-1+0],F=x[w-1+32],V=x[w-1+64],J=x[w-1+96];x[w+0+0]=C+F+1>>1,x[w+2+0]=x[w+0+32]=F+V+1>>1,x[w+2+32]=x[w+0+64]=V+J+1>>1,x[w+1+0]=tr(C,F,V),x[w+3+0]=x[w+1+32]=tr(F,V,J),x[w+3+32]=x[w+1+64]=tr(V,J,J),x[w+3+64]=x[w+2+64]=x[w+0+96]=x[w+1+96]=x[w+2+96]=x[w+3+96]=J}function Ko(x,w){var C=x[w-1+0],F=x[w-1+32],V=x[w-1+64],J=x[w-1+96],ee=x[w-1-32],ne=x[w+0-32],ie=x[w+1-32],he=x[w+2-32];x[w+0+0]=x[w+2+32]=C+ee+1>>1,x[w+0+32]=x[w+2+64]=F+C+1>>1,x[w+0+64]=x[w+2+96]=V+F+1>>1,x[w+0+96]=J+V+1>>1,x[w+3+0]=tr(ne,ie,he),x[w+2+0]=tr(ee,ne,ie),x[w+1+0]=x[w+3+32]=tr(C,ee,ne),x[w+1+32]=x[w+3+64]=tr(F,C,ee),x[w+1+64]=x[w+3+96]=tr(V,F,C),x[w+1+96]=tr(J,V,F)}function Ns(x,w){var C;for(C=0;8>C;++C)n(x,w+32*C,x,w-32,8)}function Nn(x,w){var C;for(C=0;8>C;++C)a(x,w,x[w-1],8),w+=32}function Mn(x,w,C){var F;for(F=0;8>F;++F)a(w,C+32*F,x,8)}function Yo(x,w){var C,F=8;for(C=0;8>C;++C)F+=x[w+C-32]+x[w-1+32*C];Mn(F>>4,x,w)}function Uc(x,w){var C,F=4;for(C=0;8>C;++C)F+=x[w+C-32];Mn(F>>3,x,w)}function Ea(x,w){var C,F=4;for(C=0;8>C;++C)F+=x[w-1+32*C];Mn(F>>3,x,w)}function Bi(x,w){Mn(128,x,w)}function li(x,w,C){var F=x[w-C],V=x[w+0],J=3*(V-F)+wi[1020+x[w-2*C]-x[w+C]],ee=No[112+(J+4>>3)];x[w-C]=Va[255+F+No[112+(J+3>>3)]],x[w+0]=Va[255+V-ee]}function xo(x,w,C,F){var V=x[w+0],J=x[w+C];return qi[255+x[w-2*C]-x[w-C]]>F||qi[255+J-V]>F}function Xo(x,w,C,F){return 4*qi[255+x[w-C]-x[w+0]]+qi[255+x[w-2*C]-x[w+C]]<=F}function os(x,w,C,F,V){var J=x[w-3*C],ee=x[w-2*C],ne=x[w-C],ie=x[w+0],he=x[w+C],ke=x[w+2*C],Me=x[w+3*C];return 4*qi[255+ne-ie]+qi[255+ee-he]>F?0:qi[255+x[w-4*C]-J]<=V&&qi[255+J-ee]<=V&&qi[255+ee-ne]<=V&&qi[255+Me-ke]<=V&&qi[255+ke-he]<=V&&qi[255+he-ie]<=V}function ua(x,w,C,F){var V=2*F+1;for(F=0;16>F;++F)Xo(x,w+F,C,V)&&li(x,w+F,C)}function Mi(x,w,C,F){var V=2*F+1;for(F=0;16>F;++F)Xo(x,w+F*C,1,V)&&li(x,w+F*C,1)}function Nl(x,w,C,F){var V;for(V=3;0<V;--V)ua(x,w+=4*C,C,F)}function Jo(x,w,C,F){var V;for(V=3;0<V;--V)Mi(x,w+=4,C,F)}function ci(x,w,C,F,V,J,ee,ne){for(J=2*J+1;0<V--;){if(os(x,w,C,J,ee))if(xo(x,w,C,ne))li(x,w,C);else{var ie=x,he=w,ke=C,Me=ie[he-2*ke],fe=ie[he-ke],Ce=ie[he+0],Ie=ie[he+ke],Qe=ie[he+2*ke],De=27*(Ge=wi[1020+3*(Ce-fe)+wi[1020+Me-Ie]])+63>>7,Xe=18*Ge+63>>7,Ge=9*Ge+63>>7;ie[he-3*ke]=Va[255+ie[he-3*ke]+Ge],ie[he-2*ke]=Va[255+Me+Xe],ie[he-ke]=Va[255+fe+De],ie[he+0]=Va[255+Ce-De],ie[he+ke]=Va[255+Ie-Xe],ie[he+2*ke]=Va[255+Qe-Ge]}w+=F}}function js(x,w,C,F,V,J,ee,ne){for(J=2*J+1;0<V--;){if(os(x,w,C,J,ee))if(xo(x,w,C,ne))li(x,w,C);else{var ie=x,he=w,ke=C,Me=ie[he-ke],fe=ie[he+0],Ce=ie[he+ke],Ie=No[112+(4+(Qe=3*(fe-Me))>>3)],Qe=No[112+(Qe+3>>3)],De=Ie+1>>1;ie[he-2*ke]=Va[255+ie[he-2*ke]+De],ie[he-ke]=Va[255+Me+Qe],ie[he+0]=Va[255+fe-Ie],ie[he+ke]=Va[255+Ce-De]}w+=F}}function ka(x,w,C,F,V,J){ci(x,w,C,1,16,F,V,J)}function bi(x,w,C,F,V,J){ci(x,w,1,C,16,F,V,J)}function jl(x,w,C,F,V,J){var ee;for(ee=3;0<ee;--ee)js(x,w+=4*C,C,1,16,F,V,J)}function E(x,w,C,F,V,J){var ee;for(ee=3;0<ee;--ee)js(x,w+=4,1,C,16,F,V,J)}function z(x,w,C,F,V,J,ee,ne){ci(x,w,V,1,8,J,ee,ne),ci(C,F,V,1,8,J,ee,ne)}function de(x,w,C,F,V,J,ee,ne){ci(x,w,1,V,8,J,ee,ne),ci(C,F,1,V,8,J,ee,ne)}function Ne(x,w,C,F,V,J,ee,ne){js(x,w+4*V,V,1,8,J,ee,ne),js(C,F+4*V,V,1,8,J,ee,ne)}function Oe(x,w,C,F,V,J,ee,ne){js(x,w+4,1,V,8,J,ee,ne),js(C,F+4,1,V,8,J,ee,ne)}function et(){this.ba=new hr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Rr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function it(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Rt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Bt(){this.ua=0,this.Wa=new Pe,this.vb=new Pe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new _e,this.yc=new ae}function rr(){this.xb=this.a=0,this.l=new yl,this.ca=new hr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new B,this.Pb=0,this.wd=new B,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Bt,this.ab=0,this.gc=l(4,Rt),this.Oc=0}function mr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new yl,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Sr(x,w,C,F,V,J,ee){for(x=x==null?0:x[w+0],w=0;w<ee;++w)V[J+w]=x+C[F+w]&255,x=V[J+w]}function hn(x,w,C,F,V,J,ee){var ne;if(x==null)Sr(null,null,C,F,V,J,ee);else for(ne=0;ne<ee;++ne)V[J+ne]=x[w+ne]+C[F+ne]&255}function Jn(x,w,C,F,V,J,ee){if(x==null)Sr(null,null,C,F,V,J,ee);else{var ne,ie=x[w+0],he=ie,ke=ie;for(ne=0;ne<ee;++ne)he=ke+(ie=x[w+ne])-he,ke=C[F+ne]+(-256&he?0>he?0:255:he)&255,he=ie,V[J+ne]=ke}}function bn(x,w,C,F){var V=w.width,J=w.o;if(t(x!=null&&w!=null),0>C||0>=F||C+F>J)return null;if(!x.Cc){if(x.ga==null){var ee;if(x.ga=new mr,(ee=x.ga==null)||(ee=w.width*w.o,t(x.Gb.length==0),x.Gb=i(ee),x.Uc=0,x.Gb==null?ee=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,ee=1),ee=!ee),!ee){ee=x.ga;var ne=x.Fa,ie=x.P,he=x.qc,ke=x.mb,Me=x.nb,fe=ie+1,Ce=he-1,Ie=ee.l;if(t(ne!=null&&ke!=null&&w!=null),Ka[0]=null,Ka[1]=Sr,Ka[2]=hn,Ka[3]=Jn,ee.ca=ke,ee.tb=Me,ee.c=w.width,ee.i=w.height,t(0<ee.c&&0<ee.i),1>=he)w=0;else if(ee.$a=3&ne[ie+0],ee.Z=ne[ie+0]>>2&3,ee.Lc=ne[ie+0]>>4&3,ie=ne[ie+0]>>6&3,0>ee.$a||1<ee.$a||4<=ee.Z||1<ee.Lc||ie)w=0;else if(Ie.put=Gt,Ie.ac=ai,Ie.bc=$a,Ie.ma=ee,Ie.width=w.width,Ie.height=w.height,Ie.Da=w.Da,Ie.v=w.v,Ie.va=w.va,Ie.j=w.j,Ie.o=w.o,ee.$a)e:{t(ee.$a==1),w=Be();t:for(;;){if(w==null){w=0;break e}if(t(ee!=null),ee.mc=w,w.c=ee.c,w.i=ee.i,w.l=ee.l,w.l.ma=ee,w.l.width=ee.c,w.l.height=ee.i,w.a=0,ye(w.m,ne,fe,Ce),!$e(ee.c,ee.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&ce(w.s)?(ee.ic=1,ne=w.c*w.i,w.Ta=null,w.Ua=0,w.V=i(ne),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(ee.ic=0,w=qe(w,ee.c)),!w))break t;w=1;break e}ee.mc=null,w=0}else w=Ce>=ee.c*ee.i;ee=!w}if(ee)return null;x.ga.Lc!=1?x.Ga=0:F=J-C}t(x.ga!=null),t(C+F<=J);e:{if(w=(ne=x.ga).c,J=ne.l.o,ne.$a==0){if(fe=x.rc,Ce=x.Vc,Ie=x.Fa,ie=x.P+1+C*w,he=x.mb,ke=x.nb+C*w,t(ie<=x.P+x.qc),ne.Z!=0)for(t(Ka[ne.Z]!=null),ee=0;ee<F;++ee)Ka[ne.Z](fe,Ce,Ie,ie,he,ke,w),fe=he,Ce=ke,ke+=w,ie+=w;else for(ee=0;ee<F;++ee)n(he,ke,Ie,ie,w),fe=he,Ce=ke,ke+=w,ie+=w;x.rc=fe,x.Vc=Ce}else{if(t(ne.mc!=null),w=C+F,t((ee=ne.mc)!=null),t(w<=ee.i),ee.C>=w)w=1;else if(ne.ic||_i(),ne.ic){ne=ee.V,fe=ee.Ba,Ce=ee.c;var Qe=ee.i,De=(Ie=1,ie=ee.$/Ce,he=ee.$%Ce,ke=ee.m,Me=ee.s,ee.$),Xe=Ce*Qe,Ge=Ce*w,ot=Me.wc,lt=De<Ge?Y(Me,he,ie):null;t(De<=Xe),t(w<=Qe),t(ce(Me));t:for(;;){for(;!ke.h&&De<Ge;){if(he&ot||(lt=Y(Me,he,ie)),t(lt!=null),pe(ke),256>(Qe=kr(lt.G[0],lt.H[0],ke)))ne[fe+De]=Qe,++De,++he>=Ce&&(he=0,++ie<=w&&!(ie%16)&&xe(ee,ie));else{if(!(280>Qe)){Ie=0;break t}Qe=na(Qe-256,ke);var zt,yt=kr(lt.G[4],lt.H[4],ke);if(pe(ke),!(De>=(yt=Ir(Ce,yt=na(yt,ke)))&&Xe-De>=Qe)){Ie=0;break t}for(zt=0;zt<Qe;++zt)ne[fe+De+zt]=ne[fe+De+zt-yt];for(De+=Qe,he+=Qe;he>=Ce;)he-=Ce,++ie<=w&&!(ie%16)&&xe(ee,ie);De<Ge&&he&ot&&(lt=Y(Me,he,ie))}t(ke.h==D(ke))}xe(ee,ie>w?w:ie);break t}!Ie||ke.h&&De<Xe?(Ie=0,ee.a=ke.h?5:3):ee.$=De,w=Ie}else w=Ue(ee,ee.V,ee.Ba,ee.c,ee.i,w,ct);if(!w){F=0;break e}}C+F>=J&&(x.Cc=1),F=1}if(!F)return null;if(x.Cc&&((F=x.ga)!=null&&(F.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+C*V}function yr(x,w,C,F,V,J){for(;0<V--;){var ee,ne=x,ie=w+(C?1:0),he=x,ke=w+(C?0:3);for(ee=0;ee<F;++ee){var Me=he[ke+4*ee];Me!=255&&(Me*=32897,ne[ie+4*ee+0]=ne[ie+4*ee+0]*Me>>23,ne[ie+4*ee+1]=ne[ie+4*ee+1]*Me>>23,ne[ie+4*ee+2]=ne[ie+4*ee+2]*Me>>23)}w+=J}}function Kr(x,w,C,F,V){for(;0<F--;){var J;for(J=0;J<C;++J){var ee=x[w+2*J+0],ne=15&(he=x[w+2*J+1]),ie=4369*ne,he=(240&he|he>>4)*ie>>16;x[w+2*J+0]=(240&ee|ee>>4)*ie>>16&240|(15&ee|ee<<4)*ie>>16>>4&15,x[w+2*J+1]=240&he|ne}w+=V}}function da(x,w,C,F,V,J,ee,ne){var ie,he,ke=255;for(he=0;he<V;++he){for(ie=0;ie<F;++ie){var Me=x[w+ie];J[ee+4*ie]=Me,ke&=Me}w+=C,ee+=ne}return ke!=255}function Ws(x,w,C,F,V){var J;for(J=0;J<V;++J)C[F+J]=x[w+J]>>8}function _i(){al=yr,Ll=Kr,hc=da,gu=Ws}function vo(x,w,C){M[x]=function(F,V,J,ee,ne,ie,he,ke,Me,fe,Ce,Ie,Qe,De,Xe,Ge,ot){var lt,zt=ot-1>>1,yt=ne[ie+0]|he[ke+0]<<16,vr=Me[fe+0]|Ce[Ie+0]<<16;t(F!=null);var It=3*yt+vr+131074>>2;for(w(F[V+0],255&It,It>>16,Qe,De),J!=null&&(It=3*vr+yt+131074>>2,w(J[ee+0],255&It,It>>16,Xe,Ge)),lt=1;lt<=zt;++lt){var Tr=ne[ie+lt]|he[ke+lt]<<16,ia=Me[fe+lt]|Ce[Ie+lt]<<16,lr=yt+Tr+vr+ia+524296,Ot=lr+2*(Tr+vr)>>3;It=Ot+yt>>1,yt=(lr=lr+2*(yt+ia)>>3)+Tr>>1,w(F[V+2*lt-1],255&It,It>>16,Qe,De+(2*lt-1)*C),w(F[V+2*lt-0],255&yt,yt>>16,Qe,De+(2*lt-0)*C),J!=null&&(It=lr+vr>>1,yt=Ot+ia>>1,w(J[ee+2*lt-1],255&It,It>>16,Xe,Ge+(2*lt-1)*C),w(J[ee+2*lt+0],255&yt,yt>>16,Xe,Ge+(2*lt+0)*C)),yt=Tr,vr=ia}1&ot||(It=3*yt+vr+131074>>2,w(F[V+ot-1],255&It,It>>16,Qe,De+(ot-1)*C),J!=null&&(It=3*vr+yt+131074>>2,w(J[ee+ot-1],255&It,It>>16,Xe,Ge+(ot-1)*C)))}}function Ha(){Ta[qc]=Gc,Ta[Ga]=ol,Ta[Hc]=Qh,Ta[pc]=xc,Ta[mc]=Js,Ta[fn]=Bl,Ta[gc]=bu,Ta[jo]=ol,Ta[il]=xc,Ta[Rl]=Js,Ta[Fl]=Bl}function Vs(x){return x&~Pa?0>x?0:255:x>>ko}function bo(x,w){return Vs((19077*x>>8)+(26149*w>>8)-14234)}function El(x,w,C){return Vs((19077*x>>8)-(6419*w>>8)-(13320*C>>8)+8708)}function Wn(x,w){return Vs((19077*x>>8)+(33050*w>>8)-17685)}function ui(x,w,C,F,V){F[V+0]=bo(x,C),F[V+1]=El(x,w,C),F[V+2]=Wn(x,w)}function ha(x,w,C,F,V){F[V+0]=Wn(x,w),F[V+1]=El(x,w,C),F[V+2]=bo(x,C)}function Zo(x,w,C,F,V){var J=El(x,w,C);w=J<<3&224|Wn(x,w)>>3,F[V+0]=248&bo(x,C)|J>>5,F[V+1]=w}function Gs(x,w,C,F,V){var J=240&Wn(x,w)|15;F[V+0]=240&bo(x,C)|El(x,w,C)>>4,F[V+1]=J}function oc(x,w,C,F,V){F[V+0]=255,ui(x,w,C,F,V+1)}function lc(x,w,C,F,V){ha(x,w,C,F,V),F[V+3]=255}function Aa(x,w,C,F,V){ui(x,w,C,F,V),F[V+3]=255}function va(x,w,C){M[x]=function(F,V,J,ee,ne,ie,he,ke,Me){for(var fe=ke+(-2&Me)*C;ke!=fe;)w(F[V+0],J[ee+0],ne[ie+0],he,ke),w(F[V+1],J[ee+0],ne[ie+0],he,ke+C),V+=2,++ee,++ie,ke+=2*C;1&Me&&w(F[V+0],J[ee+0],ne[ie+0],he,ke)}}function Ks(x,w,C){return C==0?x==0?w==0?6:5:w==0?4:0:C}function ir(x,w,C,F,V){switch(x>>>30){case 3:Ui(w,C,F,V,0);break;case 2:Fn(w,C,F,V);break;case 1:qr(w,C,F,V)}}function Vn(x,w){var C,F,V=w.M,J=w.Nb,ee=x.oc,ne=x.pc+40,ie=x.oc,he=x.pc+584,ke=x.oc,Me=x.pc+600;for(C=0;16>C;++C)ee[ne+32*C-1]=129;for(C=0;8>C;++C)ie[he+32*C-1]=129,ke[Me+32*C-1]=129;for(0<V?ee[ne-1-32]=ie[he-1-32]=ke[Me-1-32]=129:(a(ee,ne-32-1,127,21),a(ie,he-32-1,127,9),a(ke,Me-32-1,127,9)),F=0;F<x.za;++F){var fe=w.ya[w.aa+F];if(0<F){for(C=-1;16>C;++C)n(ee,ne+32*C-4,ee,ne+32*C+12,4);for(C=-1;8>C;++C)n(ie,he+32*C-4,ie,he+32*C+4,4),n(ke,Me+32*C-4,ke,Me+32*C+4,4)}var Ce=x.Gd,Ie=x.Hd+F,Qe=fe.ad,De=fe.Hc;if(0<V&&(n(ee,ne-32,Ce[Ie].y,0,16),n(ie,he-32,Ce[Ie].f,0,8),n(ke,Me-32,Ce[Ie].ea,0,8)),fe.Za){var Xe=ee,Ge=ne-32+16;for(0<V&&(F>=x.za-1?a(Xe,Ge,Ce[Ie].y[15],4):n(Xe,Ge,Ce[Ie+1].y,0,4)),C=0;4>C;C++)Xe[Ge+128+C]=Xe[Ge+256+C]=Xe[Ge+384+C]=Xe[Ge+0+C];for(C=0;16>C;++C,De<<=2)Xe=ee,Ge=ne+Kc[C],Si[fe.Ob[C]](Xe,Ge),ir(De,Qe,16*+C,Xe,Ge)}else if(Xe=Ks(F,V,fe.Ob[0]),On[Xe](ee,ne),De!=0)for(C=0;16>C;++C,De<<=2)ir(De,Qe,16*+C,ee,ne+Kc[C]);for(C=fe.Gc,Xe=Ks(F,V,fe.Dd),Ni[Xe](ie,he),Ni[Xe](ke,Me),De=Qe,Xe=ie,Ge=he,255&(fe=0|C)&&(170&fe?hi(De,256,Xe,Ge):Cr(De,256,Xe,Ge)),fe=ke,De=Me,255&(C>>=8)&&(170&C?hi(Qe,320,fe,De):Cr(Qe,320,fe,De)),V<x.Ub-1&&(n(Ce[Ie].y,0,ee,ne+480,16),n(Ce[Ie].f,0,ie,he+224,8),n(Ce[Ie].ea,0,ke,Me+224,8)),C=8*J*x.B,Ce=x.sa,Ie=x.ta+16*F+16*J*x.R,Qe=x.qa,fe=x.ra+8*F+C,De=x.Ha,Xe=x.Ia+8*F+C,C=0;16>C;++C)n(Ce,Ie+C*x.R,ee,ne+32*C,16);for(C=0;8>C;++C)n(Qe,fe+C*x.B,ie,he+32*C,8),n(De,Xe+C*x.B,ke,Me+32*C,8)}}function _o(x,w,C,F,V,J,ee,ne,ie){var he=[0],ke=[0],Me=0,fe=ie!=null?ie.kd:0,Ce=ie??new it;if(x==null||12>C)return 7;Ce.data=x,Ce.w=w,Ce.ha=C,w=[w],C=[C],Ce.gb=[Ce.gb];e:{var Ie=w,Qe=C,De=Ce.gb;if(t(x!=null),t(Qe!=null),t(De!=null),De[0]=0,12<=Qe[0]&&!r(x,Ie[0],"RIFF")){if(r(x,Ie[0]+8,"WEBP")){De=3;break e}var Xe=ft(x,Ie[0]+4);if(12>Xe||4294967286<Xe){De=3;break e}if(fe&&Xe>Qe[0]-8){De=7;break e}De[0]=Xe,Ie[0]+=12,Qe[0]-=12}De=0}if(De!=0)return De;for(Xe=0<Ce.gb[0],C=C[0];;){e:{var Ge=x;Qe=w,De=C;var ot=he,lt=ke,zt=Ie=[0];if((It=Me=[Me])[0]=0,8>De[0])De=7;else{if(!r(Ge,Qe[0],"VP8X")){if(ft(Ge,Qe[0]+4)!=10){De=3;break e}if(18>De[0]){De=7;break e}var yt=ft(Ge,Qe[0]+8),vr=1+st(Ge,Qe[0]+12);if(2147483648<=vr*(Ge=1+st(Ge,Qe[0]+15))){De=3;break e}zt!=null&&(zt[0]=yt),ot!=null&&(ot[0]=vr),lt!=null&&(lt[0]=Ge),Qe[0]+=18,De[0]-=18,It[0]=1}De=0}}if(Me=Me[0],Ie=Ie[0],De!=0)return De;if(Qe=!!(2&Ie),!Xe&&Me)return 3;if(J!=null&&(J[0]=!!(16&Ie)),ee!=null&&(ee[0]=Qe),ne!=null&&(ne[0]=0),ee=he[0],Ie=ke[0],Me&&Qe&&ie==null){De=0;break}if(4>C){De=7;break}if(Xe&&Me||!Xe&&!Me&&!r(x,w[0],"ALPH")){C=[C],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];e:{yt=x,De=w,Xe=C;var It=Ce.gb;ot=Ce.na,lt=Ce.P,zt=Ce.Sa,vr=22,t(yt!=null),t(Xe!=null),Ge=De[0];var Tr=Xe[0];for(t(ot!=null),t(zt!=null),ot[0]=null,lt[0]=null,zt[0]=0;;){if(De[0]=Ge,Xe[0]=Tr,8>Tr){De=7;break e}var ia=ft(yt,Ge+4);if(4294967286<ia){De=3;break e}var lr=8+ia+1&-2;if(vr+=lr,0<It&&vr>It){De=3;break e}if(!r(yt,Ge,"VP8 ")||!r(yt,Ge,"VP8L")){De=0;break e}if(Tr[0]<lr){De=7;break e}r(yt,Ge,"ALPH")||(ot[0]=yt,lt[0]=Ge+8,zt[0]=ia),Ge+=lr,Tr-=lr}}if(C=C[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],De!=0)break}C=[C],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];e:if(It=x,De=w,Xe=C,ot=Ce.gb[0],lt=Ce.Ja,zt=Ce.xa,yt=De[0],Ge=!r(It,yt,"VP8 "),vr=!r(It,yt,"VP8L"),t(It!=null),t(Xe!=null),t(lt!=null),t(zt!=null),8>Xe[0])De=7;else{if(Ge||vr){if(It=ft(It,yt+4),12<=ot&&It>ot-12){De=3;break e}if(fe&&It>Xe[0]-8){De=7;break e}lt[0]=It,De[0]+=8,Xe[0]-=8,zt[0]=vr}else zt[0]=5<=Xe[0]&&It[yt+0]==47&&!(It[yt+4]>>5),lt[0]=Xe[0];De=0}if(C=C[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],w=w[0],De!=0)break;if(4294967286<Ce.Ja)return 3;if(ne==null||Qe||(ne[0]=Ce.xa?2:1),ee=[ee],Ie=[Ie],Ce.xa){if(5>C){De=7;break}ne=ee,fe=Ie,Qe=J,x==null||5>C?x=0:5<=C&&x[w+0]==47&&!(x[w+4]>>5)?(Xe=[0],It=[0],ot=[0],ye(lt=new B,x,w,C),za(lt,Xe,It,ot)?(ne!=null&&(ne[0]=Xe[0]),fe!=null&&(fe[0]=It[0]),Qe!=null&&(Qe[0]=ot[0]),x=1):x=0):x=0}else{if(10>C){De=7;break}ne=Ie,x==null||10>C||!Us(x,w+3,C-3)?x=0:(fe=x[w+0]|x[w+1]<<8|x[w+2]<<16,Qe=16383&(x[w+7]<<8|x[w+6]),x=16383&(x[w+9]<<8|x[w+8]),1&fe||3<(fe>>1&7)||!(fe>>4&1)||fe>>5>=Ce.Ja||!Qe||!x?x=0:(ee&&(ee[0]=Qe),ne&&(ne[0]=x),x=1))}if(!x||(ee=ee[0],Ie=Ie[0],Me&&(he[0]!=ee||ke[0]!=Ie)))return 3;ie!=null&&(ie[0]=Ce,ie.offset=w-ie.w,t(4294967286>w-ie.w),t(ie.offset==ie.ha-C));break}return De==0||De==7&&Me&&ie==null?(J!=null&&(J[0]|=Ce.na!=null&&0<Ce.na.length),F!=null&&(F[0]=ee),V!=null&&(V[0]=Ie),0):De}function kl(x,w,C){var F=w.width,V=w.height,J=0,ee=0,ne=F,ie=V;if(w.Da=x!=null&&0<x.Da,w.Da&&(ne=x.cd,ie=x.bd,J=x.v,ee=x.j,11>C||(J&=-2,ee&=-2),0>J||0>ee||0>=ne||0>=ie||J+ne>F||ee+ie>V))return 0;if(w.v=J,w.j=ee,w.va=J+ne,w.o=ee+ie,w.U=ne,w.T=ie,w.da=x!=null&&0<x.da,w.da){if(!rt(ne,ie,C=[x.ib],J=[x.hb]))return 0;w.ib=C[0],w.hb=J[0]}return w.ob=x!=null&&x.ob,w.Kb=x==null||!x.Sd,w.da&&(w.ob=w.ib<3*F/4&&w.hb<3*V/4,w.Kb=0),1}function Al(x){if(x==null)return 2;if(11>x.S){var w=x.f.RGBA;w.fb+=(x.height-1)*w.A,w.A=-w.A}else w=x.f.kb,x=x.height,w.O+=(x-1)*w.fa,w.fa=-w.fa,w.N+=(x-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(x-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(x-1)*w.lb,w.lb=-w.lb);return 0}function yo(x,w,C,F){if(F==null||0>=x||0>=w)return 2;if(C!=null){if(C.Da){var V=C.cd,J=C.bd,ee=-2&C.v,ne=-2&C.j;if(0>ee||0>ne||0>=V||0>=J||ee+V>x||ne+J>w)return 2;x=V,w=J}if(C.da){if(!rt(x,w,V=[C.ib],J=[C.hb]))return 2;x=V[0],w=J[0]}}F.width=x,F.height=w;e:{var ie=F.width,he=F.height;if(x=F.S,0>=ie||0>=he||!(x>=qc&&13>x))x=2;else{if(0>=F.Rd&&F.sd==null){ee=J=V=w=0;var ke=(ne=ie*eo[x])*he;if(11>x||(J=(he+1)/2*(w=(ie+1)/2),x==12&&(ee=(V=ie)*he)),(he=i(ke+2*J+ee))==null){x=1;break e}F.sd=he,11>x?((ie=F.f.RGBA).eb=he,ie.fb=0,ie.A=ne,ie.size=ke):((ie=F.f.kb).y=he,ie.O=0,ie.fa=ne,ie.Fd=ke,ie.f=he,ie.N=0+ke,ie.Ab=w,ie.Cd=J,ie.ea=he,ie.W=0+ke+J,ie.Db=w,ie.Ed=J,x==12&&(ie.F=he,ie.J=0+ke+2*J),ie.Tc=ee,ie.lb=V)}if(w=1,V=F.S,J=F.width,ee=F.height,V>=qc&&13>V)if(11>V)x=F.f.RGBA,w&=(ne=Math.abs(x.A))*(ee-1)+J<=x.size,w&=ne>=J*eo[V],w&=x.eb!=null;else{x=F.f.kb,ne=(J+1)/2,ke=(ee+1)/2,ie=Math.abs(x.fa),he=Math.abs(x.Ab);var Me=Math.abs(x.Db),fe=Math.abs(x.lb),Ce=fe*(ee-1)+J;w&=ie*(ee-1)+J<=x.Fd,w&=he*(ke-1)+ne<=x.Cd,w=(w&=Me*(ke-1)+ne<=x.Ed)&ie>=J&he>=ne&Me>=ne,w&=x.y!=null,w&=x.f!=null,w&=x.ea!=null,V==12&&(w&=fe>=J,w&=Ce<=x.Tc,w&=x.F!=null)}else w=0;x=w?0:2}}return x!=0||C!=null&&C.fd&&(x=Al(F)),x}var fa=64,di=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Wa=24,Qo=32,Es=8,ks=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Ze("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(x){return x},M.Predictor2=function(x,w,C){return w[C+0]},M.Predictor3=function(x,w,C){return w[C+1]},M.Predictor4=function(x,w,C){return w[C-1]},M.Predictor5=function(x,w,C){return Pt(Pt(x,w[C+1]),w[C+0])},M.Predictor6=function(x,w,C){return Pt(x,w[C-1])},M.Predictor7=function(x,w,C){return Pt(x,w[C+0])},M.Predictor8=function(x,w,C){return Pt(w[C-1],w[C+0])},M.Predictor9=function(x,w,C){return Pt(w[C+0],w[C+1])},M.Predictor10=function(x,w,C){return Pt(Pt(x,w[C-1]),Pt(w[C+0],w[C+1]))},M.Predictor11=function(x,w,C){var F=w[C+0];return 0>=Xt(F>>24&255,x>>24&255,(w=w[C-1])>>24&255)+Xt(F>>16&255,x>>16&255,w>>16&255)+Xt(F>>8&255,x>>8&255,w>>8&255)+Xt(255&F,255&x,255&w)?F:x},M.Predictor12=function(x,w,C){var F=w[C+0];return(fr((x>>24&255)+(F>>24&255)-((w=w[C-1])>>24&255))<<24|fr((x>>16&255)+(F>>16&255)-(w>>16&255))<<16|fr((x>>8&255)+(F>>8&255)-(w>>8&255))<<8|fr((255&x)+(255&F)-(255&w)))>>>0},M.Predictor13=function(x,w,C){var F=w[C-1];return(Zt((x=Pt(x,w[C+0]))>>24&255,F>>24&255)<<24|Zt(x>>16&255,F>>16&255)<<16|Zt(x>>8&255,F>>8&255)<<8|Zt(255&x,255&F))>>>0};var Ys=M.PredictorAdd0;M.PredictorAdd1=gr,Ze("Predictor2","PredictorAdd2"),Ze("Predictor3","PredictorAdd3"),Ze("Predictor4","PredictorAdd4"),Ze("Predictor5","PredictorAdd5"),Ze("Predictor6","PredictorAdd6"),Ze("Predictor7","PredictorAdd7"),Ze("Predictor8","PredictorAdd8"),Ze("Predictor9","PredictorAdd9"),Ze("Predictor10","PredictorAdd10"),Ze("Predictor11","PredictorAdd11"),Ze("Predictor12","PredictorAdd12"),Ze("Predictor13","PredictorAdd13");var As=M.PredictorAdd2;Ct("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),Ct("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var Un,Cl=M.ColorIndexInverseTransform,Cs=M.MapARGB,Ts=M.VP8LColorIndexInverseTransformAlpha,wo=M.MapAlpha,Tl=M.VP8LPredictorsAdd=[];Tl.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var cc,Pl,Ca,So,el,tl,Zr,Ui,Fn,hi,qr,Cr,sn,Yr,$i,uc,rl,ba,$c,zi,mu,dc,yi,nl,al,Ll,hc,gu,fc=i(511),nd=i(2041),ad=i(225),zc=i(767),id=0,wi=nd,No=ad,Va=zc,qi=fc,qc=0,Ga=1,Hc=2,pc=3,mc=4,fn=5,gc=6,jo=7,il=8,Rl=9,Fl=10,Ol=[2,3,7],xu=[3,3,11],$n=[280,256,256,256,40],Il=[0,1,1,1,0],Wc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Jh=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Zh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Vc=8,Lr=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],sl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ls=null,sd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ps=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Kd=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],nt=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Jt=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],od=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],vu=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],On=[],Si=[],Ni=[],Xs=1,Dl=2,Ka=[],Ta=[];vo("UpsampleRgbLinePair",ui,3),vo("UpsampleBgrLinePair",ha,3),vo("UpsampleRgbaLinePair",Aa,4),vo("UpsampleBgraLinePair",lc,4),vo("UpsampleArgbLinePair",oc,4),vo("UpsampleRgba4444LinePair",Gs,2),vo("UpsampleRgb565LinePair",Zo,2);var Gc=M.UpsampleRgbLinePair,Qh=M.UpsampleBgrLinePair,ol=M.UpsampleRgbaLinePair,xc=M.UpsampleBgraLinePair,Js=M.UpsampleArgbLinePair,Bl=M.UpsampleRgba4444LinePair,bu=M.UpsampleRgb565LinePair,Eo=16,cs=1<<Eo-1,Qr=-227,on=482,ko=6,Pa=(256<<ko)-1,pa=0,ll=i(256),vc=i(256),Xr=i(256),Zs=i(256),_u=i(on-Qr),Yd=i(on-Qr);va("YuvToRgbRow",ui,3),va("YuvToBgrRow",ha,3),va("YuvToRgbaRow",Aa,4),va("YuvToBgraRow",lc,4),va("YuvToArgbRow",oc,4),va("YuvToRgba4444Row",Gs,2),va("YuvToRgb565Row",Zo,2);var Kc=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],cl=[0,2,8],Qs=[8,7,6,4,4,2,2,2,1,1,1,1],yu=1;this.WebPDecodeRGBA=function(x,w,C,F,V){var J=Ga,ee=new et,ne=new hr;ee.ba=ne,ne.S=J,ne.width=[ne.width],ne.height=[ne.height];var ie=ne.width,he=ne.height,ke=new $t;if(ke==null||x==null)var Me=2;else t(ke!=null),Me=_o(x,w,C,ke.width,ke.height,ke.Pd,ke.Qd,ke.format,null);if(Me!=0?ie=0:(ie!=null&&(ie[0]=ke.width[0]),he!=null&&(he[0]=ke.height[0]),ie=1),ie){ne.width=ne.width[0],ne.height=ne.height[0],F!=null&&(F[0]=ne.width),V!=null&&(V[0]=ne.height);e:{if(F=new yl,(V=new it).data=x,V.w=w,V.ha=C,V.kd=1,w=[0],t(V!=null),((x=_o(V.data,V.w,V.ha,null,null,null,w,null,V))==0||x==7)&&w[0]&&(x=4),(w=x)==0){if(t(ee!=null),F.data=V.data,F.w=V.w+V.offset,F.ha=V.ha-V.offset,F.put=Gt,F.ac=ai,F.bc=$a,F.ma=ee,V.xa){if((x=Be())==null){ee=1;break e}if(function(fe,Ce){var Ie=[0],Qe=[0],De=[0];t:for(;;){if(fe==null)return 0;if(Ce==null)return fe.a=2,0;if(fe.l=Ce,fe.a=0,ye(fe.m,Ce.data,Ce.w,Ce.ha),!za(fe.m,Ie,Qe,De)){fe.a=3;break t}if(fe.xb=Dl,Ce.width=Ie[0],Ce.height=Qe[0],!$e(Ie[0],Qe[0],1,fe,null))break t;return 1}return t(fe.a!=0),0}(x,F)){if(F=(w=yo(F.width,F.height,ee.Oa,ee.ba))==0){t:{F=x;r:for(;;){if(F==null){F=0;break t}if(t(F.s.yc!=null),t(F.s.Ya!=null),t(0<F.s.Wb),t((C=F.l)!=null),t((V=C.ma)!=null),F.xb!=0){if(F.ca=V.ba,F.tb=V.tb,t(F.ca!=null),!kl(V.Oa,C,pc)){F.a=2;break r}if(!qe(F,C.width)||C.da)break r;if((C.da||Wt(F.ca.S))&&_i(),11>F.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),F.ca.f.kb.F!=null&&_i()),F.Pb&&0<F.s.ua&&F.s.vb.X==null&&!le(F.s.vb,F.s.Wa.Xa)){F.a=1;break r}F.xb=0}if(!Ue(F,F.V,F.Ba,F.c,F.i,C.o,se))break r;V.Dc=F.Ma,F=1;break t}t(F.a!=0),F=0}F=!F}F&&(w=x.a)}else w=x.a}else{if((x=new Sn)==null){ee=1;break e}if(x.Fa=V.na,x.P=V.P,x.qc=V.Sa,vi(x,F)){if((w=yo(F.width,F.height,ee.Oa,ee.ba))==0){if(x.Aa=0,C=ee.Oa,t((V=x)!=null),C!=null){if(0<(ie=0>(ie=C.Md)?0:100<ie?255:255*ie/100)){for(he=ke=0;4>he;++he)12>(Me=V.pb[he]).lc&&(Me.ia=ie*Qs[0>Me.lc?0:Me.lc]>>3),ke|=Me.ia;ke&&(alert("todo:VP8InitRandom"),V.ia=1)}V.Ga=C.Id,100<V.Ga?V.Ga=100:0>V.Ga&&(V.Ga=0)}(function(fe,Ce){if(fe==null)return 0;if(Ce==null)return Gr(fe,2,"NULL VP8Io parameter in VP8Decode().");if(!fe.cb&&!vi(fe,Ce))return 0;if(t(fe.cb),Ce.ac==null||Ce.ac(Ce)){Ce.ob&&(fe.L=0);var Ie=cl[fe.L];if(fe.L==2?(fe.yb=0,fe.zb=0):(fe.yb=Ce.v-Ie>>4,fe.zb=Ce.j-Ie>>4,0>fe.yb&&(fe.yb=0),0>fe.zb&&(fe.zb=0)),fe.Va=Ce.o+15+Ie>>4,fe.Hb=Ce.va+15+Ie>>4,fe.Hb>fe.za&&(fe.Hb=fe.za),fe.Va>fe.Ub&&(fe.Va=fe.Ub),0<fe.L){var Qe=fe.ed;for(Ie=0;4>Ie;++Ie){var De;if(fe.Qa.Cb){var Xe=fe.Qa.Lb[Ie];fe.Qa.Fb||(Xe+=Qe.Tb)}else Xe=Qe.Tb;for(De=0;1>=De;++De){var Ge=fe.gd[Ie][De],ot=Xe;if(Qe.Pc&&(ot+=Qe.vd[0],De&&(ot+=Qe.od[0])),0<(ot=0>ot?0:63<ot?63:ot)){var lt=ot;0<Qe.wb&&(lt=4<Qe.wb?lt>>2:lt>>1)>9-Qe.wb&&(lt=9-Qe.wb),1>lt&&(lt=1),Ge.dd=lt,Ge.tc=2*ot+lt,Ge.ld=40<=ot?2:15<=ot?1:0}else Ge.tc=0;Ge.La=De}}}Ie=0}else Gr(fe,6,"Frame setup failed"),Ie=fe.a;if(Ie=Ie==0){if(Ie){fe.$c=0,0<fe.Aa||(fe.Ic=yu);t:{Ie=fe.Ic,Qe=4*(lt=fe.za);var zt=32*lt,yt=lt+1,vr=0<fe.L?lt*(0<fe.Aa?2:1):0,It=(fe.Aa==2?2:1)*lt;if((Ge=Qe+832+(De=3*(16*Ie+cl[fe.L])/2*zt)+(Xe=fe.Fa!=null&&0<fe.Fa.length?fe.Kc.c*fe.Kc.i:0))!=Ge)Ie=0;else{if(Ge>fe.Vb){if(fe.Vb=0,fe.Ec=i(Ge),fe.Fc=0,fe.Ec==null){Ie=Gr(fe,1,"no memory during frame initialization.");break t}fe.Vb=Ge}Ge=fe.Ec,ot=fe.Fc,fe.Ac=Ge,fe.Bc=ot,ot+=Qe,fe.Gd=l(zt,an),fe.Hd=0,fe.rb=l(yt+1,dn),fe.sb=1,fe.wa=vr?l(vr,wr):null,fe.Y=0,fe.D.Nb=0,fe.D.wa=fe.wa,fe.D.Y=fe.Y,0<fe.Aa&&(fe.D.Y+=lt),t(!0),fe.oc=Ge,fe.pc=ot,ot+=832,fe.ya=l(It,ii),fe.aa=0,fe.D.ya=fe.ya,fe.D.aa=fe.aa,fe.Aa==2&&(fe.D.aa+=lt),fe.R=16*lt,fe.B=8*lt,lt=(zt=cl[fe.L])*fe.R,zt=zt/2*fe.B,fe.sa=Ge,fe.ta=ot+lt,fe.qa=fe.sa,fe.ra=fe.ta+16*Ie*fe.R+zt,fe.Ha=fe.qa,fe.Ia=fe.ra+8*Ie*fe.B+zt,fe.$c=0,ot+=De,fe.mb=Xe?Ge:null,fe.nb=Xe?ot:null,t(ot+Xe<=fe.Fc+fe.Vb),$s(fe),a(fe.Ac,fe.Bc,0,Qe),Ie=1}}if(Ie){if(Ce.ka=0,Ce.y=fe.sa,Ce.O=fe.ta,Ce.f=fe.qa,Ce.N=fe.ra,Ce.ea=fe.Ha,Ce.Vd=fe.Ia,Ce.fa=fe.R,Ce.Rc=fe.B,Ce.F=null,Ce.J=0,!id){for(Ie=-255;255>=Ie;++Ie)fc[255+Ie]=0>Ie?-Ie:Ie;for(Ie=-1020;1020>=Ie;++Ie)nd[1020+Ie]=-128>Ie?-128:127<Ie?127:Ie;for(Ie=-112;112>=Ie;++Ie)ad[112+Ie]=-16>Ie?-16:15<Ie?15:Ie;for(Ie=-255;510>=Ie;++Ie)zc[255+Ie]=0>Ie?0:255<Ie?255:Ie;id=1}Zr=is,Ui=Vo,hi=ws,qr=ac,Cr=zr,Fn=wl,sn=ka,Yr=bi,$i=z,uc=de,rl=jl,ba=E,$c=Ne,zi=Oe,mu=ua,dc=Mi,yi=Nl,nl=Jo,Si[0]=sc,Si[1]=Sl,Si[2]=qa,Si[3]=ic,Si[4]=Di,Si[5]=Hs,Si[6]=ca,Si[7]=mo,Si[8]=Ko,Si[9]=go,On[0]=Ss,On[1]=ss,On[2]=po,On[3]=Go,On[4]=si,On[5]=oi,On[6]=qs,Ni[0]=Yo,Ni[1]=Bn,Ni[2]=Ns,Ni[3]=Nn,Ni[4]=Ea,Ni[5]=Uc,Ni[6]=Bi,Ie=1}else Ie=0}Ie&&(Ie=function(Tr,ia){for(Tr.M=0;Tr.M<Tr.Va;++Tr.M){var lr,Ot=Tr.Jc[Tr.M&Tr.Xb],jt=Tr.m,jn=Tr;for(lr=0;lr<jn.za;++lr){var cr=jt,Dr=jn,_n=Dr.Ac,pn=Dr.Bc+4*lr,Ya=Dr.zc,En=Dr.ya[Dr.aa+lr];if(Dr.Qa.Bb?En.$b=Ee(cr,Dr.Pa.jb[0])?2+Ee(cr,Dr.Pa.jb[2]):Ee(cr,Dr.Pa.jb[1]):En.$b=0,Dr.kc&&(En.Ad=Ee(cr,Dr.Bd)),En.Za=!Ee(cr,145)+0,En.Za){var ma=En.Ob,Br=0;for(Dr=0;4>Dr;++Dr){var Zn,Mr=Ya[0+Dr];for(Zn=0;4>Zn;++Zn){Mr=Jt[_n[pn+Zn]][Mr];for(var Wr=Kd[Ee(cr,Mr[0])];0<Wr;)Wr=Kd[2*Wr+Ee(cr,Mr[Wr])];Mr=-Wr,_n[pn+Zn]=Mr}n(ma,Br,_n,pn,4),Br+=4,Ya[0+Dr]=Mr}}else Mr=Ee(cr,156)?Ee(cr,128)?1:3:Ee(cr,163)?2:0,En.Ob[0]=Mr,a(_n,pn,Mr,4),a(Ya,0,Mr,4);En.Dd=Ee(cr,142)?Ee(cr,114)?Ee(cr,183)?1:3:2:0}if(jn.m.Ka)return Gr(Tr,7,"Premature end-of-partition0 encountered.");for(;Tr.ja<Tr.za;++Tr.ja){if(jn=Ot,cr=(jt=Tr).rb[jt.sb-1],_n=jt.rb[jt.sb+jt.ja],lr=jt.ya[jt.aa+jt.ja],pn=jt.kc?lr.Ad:0)cr.la=_n.la=0,lr.Za||(cr.Na=_n.Na=0),lr.Hc=0,lr.Gc=0,lr.ia=0;else{var In,Ur;if(cr=_n,_n=jn,pn=jt.Pa.Xc,Ya=jt.ya[jt.aa+jt.ja],En=jt.pb[Ya.$b],Dr=Ya.ad,ma=0,Br=jt.rb[jt.sb-1],Mr=Zn=0,a(Dr,ma,0,384),Ya.Za)var ln=0,La=pn[3];else{Wr=i(16);var zn=cr.Na+Br.Na;if(zn=ls(_n,pn[1],zn,En.Eb,0,Wr,0),cr.Na=Br.Na=(0<zn)+0,1<zn)Zr(Wr,0,Dr,ma);else{var fi=Wr[0]+3>>3;for(Wr=0;256>Wr;Wr+=16)Dr[ma+Wr]=fi}ln=1,La=pn[0]}var Nr=15&cr.la,yn=15&Br.la;for(Wr=0;4>Wr;++Wr){var pi=1&yn;for(fi=Ur=0;4>fi;++fi)Nr=Nr>>1|(pi=(zn=ls(_n,La,zn=pi+(1&Nr),En.Sc,ln,Dr,ma))>ln)<<7,Ur=Ur<<2|(3<zn?3:1<zn?2:Dr[ma+0]!=0),ma+=16;Nr>>=4,yn=yn>>1|pi<<7,Zn=(Zn<<8|Ur)>>>0}for(La=Nr,ln=yn>>4,In=0;4>In;In+=2){for(Ur=0,Nr=cr.la>>4+In,yn=Br.la>>4+In,Wr=0;2>Wr;++Wr){for(pi=1&yn,fi=0;2>fi;++fi)zn=pi+(1&Nr),Nr=Nr>>1|(pi=0<(zn=ls(_n,pn[2],zn,En.Qc,0,Dr,ma)))<<3,Ur=Ur<<2|(3<zn?3:1<zn?2:Dr[ma+0]!=0),ma+=16;Nr>>=2,yn=yn>>1|pi<<5}Mr|=Ur<<4*In,La|=Nr<<4<<In,ln|=(240&yn)<<In}cr.la=La,Br.la=ln,Ya.Hc=Zn,Ya.Gc=Mr,Ya.ia=43690&Mr?0:En.ia,pn=!(Zn|Mr)}if(0<jt.L&&(jt.wa[jt.Y+jt.ja]=jt.gd[lr.$b][lr.Za],jt.wa[jt.Y+jt.ja].La|=!pn),jn.Ka)return Gr(Tr,7,"Premature end-of-file encountered.")}if($s(Tr),jt=ia,jn=1,lr=(Ot=Tr).D,cr=0<Ot.L&&Ot.M>=Ot.zb&&Ot.M<=Ot.Va,Ot.Aa==0)t:{if(lr.M=Ot.M,lr.uc=cr,Vn(Ot,lr),jn=1,lr=(Ur=Ot.D).Nb,cr=(Mr=cl[Ot.L])*Ot.R,_n=Mr/2*Ot.B,Wr=16*lr*Ot.R,fi=8*lr*Ot.B,pn=Ot.sa,Ya=Ot.ta-cr+Wr,En=Ot.qa,Dr=Ot.ra-_n+fi,ma=Ot.Ha,Br=Ot.Ia-_n+fi,yn=(Nr=Ur.M)==0,Zn=Nr>=Ot.Va-1,Ot.Aa==2&&Vn(Ot,Ur),Ur.uc)for(pi=(zn=Ot).D.M,t(zn.D.uc),Ur=zn.yb;Ur<zn.Hb;++Ur){ln=Ur,La=pi;var Xa=(Qn=(Kn=zn).D).Nb;In=Kn.R;var Qn=Qn.wa[Qn.Y+ln],Gn=Kn.sa,Ra=Kn.ta+16*Xa*In+16*ln,ji=Qn.dd,en=Qn.tc;if(en!=0)if(t(3<=en),Kn.L==1)0<ln&&dc(Gn,Ra,In,en+4),Qn.La&&nl(Gn,Ra,In,en),0<La&&mu(Gn,Ra,In,en+4),Qn.La&&yi(Gn,Ra,In,en);else{var Jr=Kn.B,Ja=Kn.qa,Fa=Kn.ra+8*Xa*Jr+8*ln,Ei=Kn.Ha,Kn=Kn.Ia+8*Xa*Jr+8*ln;Xa=Qn.ld,0<ln&&(Yr(Gn,Ra,In,en+4,ji,Xa),uc(Ja,Fa,Ei,Kn,Jr,en+4,ji,Xa)),Qn.La&&(ba(Gn,Ra,In,en,ji,Xa),zi(Ja,Fa,Ei,Kn,Jr,en,ji,Xa)),0<La&&(sn(Gn,Ra,In,en+4,ji,Xa),$i(Ja,Fa,Ei,Kn,Jr,en+4,ji,Xa)),Qn.La&&(rl(Gn,Ra,In,en,ji,Xa),$c(Ja,Fa,Ei,Kn,Jr,en,ji,Xa))}}if(Ot.ia&&alert("todo:DitherRow"),jt.put!=null){if(Ur=16*Nr,Nr=16*(Nr+1),yn?(jt.y=Ot.sa,jt.O=Ot.ta+Wr,jt.f=Ot.qa,jt.N=Ot.ra+fi,jt.ea=Ot.Ha,jt.W=Ot.Ia+fi):(Ur-=Mr,jt.y=pn,jt.O=Ya,jt.f=En,jt.N=Dr,jt.ea=ma,jt.W=Br),Zn||(Nr-=Mr),Nr>jt.o&&(Nr=jt.o),jt.F=null,jt.J=null,Ot.Fa!=null&&0<Ot.Fa.length&&Ur<Nr&&(jt.J=bn(Ot,jt,Ur,Nr-Ur),jt.F=Ot.mb,jt.F==null&&jt.F.length==0)){jn=Gr(Ot,3,"Could not decode alpha data.");break t}Ur<jt.j&&(Mr=jt.j-Ur,Ur=jt.j,t(!(1&Mr)),jt.O+=Ot.R*Mr,jt.N+=Ot.B*(Mr>>1),jt.W+=Ot.B*(Mr>>1),jt.F!=null&&(jt.J+=jt.width*Mr)),Ur<Nr&&(jt.O+=jt.v,jt.N+=jt.v>>1,jt.W+=jt.v>>1,jt.F!=null&&(jt.J+=jt.v),jt.ka=Ur-jt.j,jt.U=jt.va-jt.v,jt.T=Nr-Ur,jn=jt.put(jt))}lr+1!=Ot.Ic||Zn||(n(Ot.sa,Ot.ta-cr,pn,Ya+16*Ot.R,cr),n(Ot.qa,Ot.ra-_n,En,Dr+8*Ot.B,_n),n(Ot.Ha,Ot.Ia-_n,ma,Br+8*Ot.B,_n))}if(!jn)return Gr(Tr,6,"Output aborted.")}return 1}(fe,Ce)),Ce.bc!=null&&Ce.bc(Ce),Ie&=1}return Ie?(fe.cb=0,Ie):0})(x,F)||(w=x.a)}}else w=x.a}w==0&&ee.Oa!=null&&ee.Oa.fd&&(w=Al(ee.ba))}ee=w}J=ee!=0?null:11>J?ne.f.RGBA.eb:ne.f.kb.y}else J=null;return J};var eo=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function h(M,re){for(var I="",W=0;W<4;W++)I+=String.fromCharCode(M[re++]);return I}function p(M,re){return M[re+0]|M[re+1]<<8}function f(M,re){return(M[re+0]|M[re+1]<<8|M[re+2]<<16)>>>0}function b(M,re){return(M[re+0]|M[re+1]<<8|M[re+2]<<16|M[re+3]<<24)>>>0}new d;var g=[0],S=[0],y=[],N=new d,A=e,P=function(M,re){var I={},W=0,ae=!1,ge=0,_e=0;if(I.frames=[],!function(j,B){for(var O=0;O<4;O++)if(j[B+O]!="RIFF".charCodeAt(O))return!0;return!1}(M,re)){for(b(M,re+=4),re+=8;re<M.length;){var Le=h(M,re),Te=b(M,re+=4);re+=4;var Q=Te+(1&Te);switch(Le){case"VP8 ":case"VP8L":I.frames[W]===void 0&&(I.frames[W]={}),(oe=I.frames[W]).src_off=ae?_e:re-8,oe.src_size=ge+Te+8,W++,ae&&(ae=!1,ge=0,_e=0);break;case"VP8X":(oe=I.header={}).feature_flags=M[re];var ye=re+4;oe.canvas_width=1+f(M,ye),ye+=3,oe.canvas_height=1+f(M,ye),ye+=3;break;case"ALPH":ae=!0,ge=Q+8,_e=re-8;break;case"ANIM":(oe=I.header).bgcolor=b(M,re),ye=re+4,oe.loop_count=p(M,ye),ye+=2;break;case"ANMF":var je,oe;(oe=I.frames[W]={}).offset_x=2*f(M,re),re+=3,oe.offset_y=2*f(M,re),re+=3,oe.width=1+f(M,re),re+=3,oe.height=1+f(M,re),re+=3,oe.duration=f(M,re),re+=3,je=M[re++],oe.dispose=1&je,oe.blend=je>>1&1}Le!="ANMF"&&(re+=Q)}return I}}(A,0);P.response=A,P.rgbaoutput=!0,P.dataurl=!1;var T=P.header?P.header:null,R=P.frames?P.frames:null;if(T){T.loop_counter=T.loop_count,g=[T.canvas_height],S=[T.canvas_width];for(var q=0;q<R.length&&R[q].blend!=0;q++);}var te=R[0],G=N.WebPDecodeRGBA(A,te.src_off,te.src_size,S,g);te.rgba=G,te.imgwidth=S[0],te.imgheight=g[0];for(var H=0;H<S[0]*g[0]*4;H++)y[H]=G[H];return this.width=S,this.height=g,this.data=y,this}/** ====================================================================
 * @license
 * jsPDF XMP metadata plugin
 * Copyright (c) 2016 Jussi Utunen, u-jussi@suomi24.fi
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */function jO(){var e,t=this.internal.__metadata__.metadata,r=unescape(encodeURIComponent(t));e=this.internal.__metadata__.rawXml?r:'<x:xmpmeta xmlns:x="adobe:ns:meta/"><rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceUri+'"><jspdf:metadata>'+r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")+"</jspdf:metadata></rdf:Description></rdf:RDF></x:xmpmeta>",this.internal.__metadata__.metadataObjectNumber=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+e.length+" >>"),this.internal.write("stream"),this.internal.write(e),this.internal.write("endstream"),this.internal.write("endobj")}function EO(){this.internal.__metadata__.metadataObjectNumber&&this.internal.write("/Metadata "+this.internal.__metadata__.metadataObjectNumber+" 0 R")}(function(e){var t,r,n,a,i,l,c,d,h,p=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new d,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new l,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new l,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new f(this),t=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,l=this.internal.Point,c=this.internal.Rectangle,d=this.internal.Matrix,h=new p}]);var f=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=j;Object.defineProperty(this,"pdf",{get:function(){return B}});var O=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return O},set:function(le){O=!!le}});var D=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return D},set:function(le){D=!!le}});var Z=0;Object.defineProperty(this,"posX",{get:function(){return Z},set:function(le){isNaN(le)||(Z=le)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(le){isNaN(le)||(pe=le)}}),Object.defineProperty(this,"margin",{get:function(){return h.margin},set:function(le){var dt;typeof le=="number"?dt=[le,le,le,le]:((dt=new Array(4))[0]=le[0],dt[1]=le.length>=2?le[1]:dt[0],dt[2]=le.length>=3?le[2]:dt[0],dt[3]=le.length>=4?le[3]:dt[1]),h.margin=dt}});var be=!1;Object.defineProperty(this,"autoPaging",{get:function(){return be},set:function(le){be=le}});var Se=0;Object.defineProperty(this,"lastBreak",{get:function(){return Se},set:function(le){Se=le}});var Ee=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ee},set:function(le){Ee=le}}),Object.defineProperty(this,"ctx",{get:function(){return h},set:function(le){le instanceof p&&(h=le)}}),Object.defineProperty(this,"path",{get:function(){return h.path},set:function(le){h.path=le}});var Ye=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ye},set:function(le){Ye=le}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(le){var dt;dt=b(le),this.ctx.fillStyle=dt.style,this.ctx.isFillTransparent=dt.a===0,this.ctx.fillOpacity=dt.a,this.pdf.setFillColor(dt.r,dt.g,dt.b,{a:dt.a}),this.pdf.setTextColor(dt.r,dt.g,dt.b,{a:dt.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(le){var dt=b(le);this.ctx.strokeStyle=dt.style,this.ctx.isStrokeTransparent=dt.a===0,this.ctx.strokeOpacity=dt.a,dt.a===0?this.pdf.setDrawColor(255,255,255):(dt.a,this.pdf.setDrawColor(dt.r,dt.g,dt.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(le){["butt","round","square"].indexOf(le)!==-1&&(this.ctx.lineCap=le,this.pdf.setLineCap(le))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(le){isNaN(le)||(this.ctx.lineWidth=le,this.pdf.setLineWidth(le))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(le){["bevel","round","miter"].indexOf(le)!==-1&&(this.ctx.lineJoin=le,this.pdf.setLineJoin(le))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(le){isNaN(le)||(this.ctx.miterLimit=le,this.pdf.setMiterLimit(le))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(le){this.ctx.textBaseline=le}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(le){["right","end","center","left","start"].indexOf(le)!==-1&&(this.ctx.textAlign=le)}});var at=null,st=null,ft=null;Object.defineProperty(this,"fontFaces",{get:function(){return ft},set:function(le){at=null,st=null,ft=le}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(le){var dt;if(this.ctx.font=le,(dt=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z0-9]+?)\s*$/i.exec(le))!==null){var Pe=dt[1];dt[2];var rt=dt[3],Je=dt[4];dt[5];var kt=dt[6],Ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Je)[2];Je=Math.floor(Ze==="px"?parseFloat(Je)*this.pdf.internal.scaleFactor:Ze==="em"?parseFloat(Je)*this.pdf.getFontSize():parseFloat(Je)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Je);var Et=function(Ct){var rn,Er,pr=[],xr=Ct.trim();if(xr==="")return qg;if(xr in l_)return[l_[xr]];for(;xr!=="";){switch(Er=null,rn=(xr=u_(xr)).charAt(0)){case'"':case"'":Er=bO(xr.substring(1),rn);break;default:Er=_O(xr)}if(Er===null||(pr.push(Er[0]),(xr=u_(Er[1]))!==""&&xr.charAt(0)!==","))return qg;xr=xr.replace(/^,/,"")}return pr}(kt);if(this.fontFaces){var Pt=function(Ct,rn){var Er=Ct.getFontList(),pr=JSON.stringify(Er);if(at===null||st!==pr){var xr=function(nn){var Lt=[];return Object.keys(nn).forEach(function(Or){nn[Or].forEach(function(Wt){var er=null;switch(Wt){case"bold":er={family:Or,weight:"bold"};break;case"italic":er={family:Or,style:"italic"};break;case"bolditalic":er={family:Or,weight:"bold",style:"italic"};break;case"":case"normal":er={family:Or}}er!==null&&(er.ref={name:Or,style:Wt},Lt.push(er))})}),Lt}(Er);at=function(nn){for(var Lt={},Or=0;Or<nn.length;++Or){var Wt=zg(nn[Or]),er=Wt.family,Hr=Wt.stretch,hr=Wt.style,$t=Wt.weight;Lt[er]=Lt[er]||{},Lt[er][Hr]=Lt[er][Hr]||{},Lt[er][Hr][hr]=Lt[er][Hr][hr]||{},Lt[er][Hr][hr][$t]=Wt}return Lt}(xr.concat(rn)),st=pr}return at}(this.pdf,this.fontFaces),fr=Et.map(function(Ct){return{family:Ct,stretch:"normal",weight:rt,style:Pe}}),Zt=function(Ct,rn,Er){for(var pr=(Er=Er||{}).defaultFontFamily||"times",xr=Object.assign({},vO,Er.genericFontFamilies||{}),nn=null,Lt=null,Or=0;Or<rn.length;++Or)if(xr[(nn=zg(rn[Or])).family]&&(nn.family=xr[nn.family]),Ct.hasOwnProperty(nn.family)){Lt=Ct[nn.family];break}if(!(Lt=Lt||Ct[pr]))throw new Error("Could not find a font-family for the rule '"+c_(nn)+"' and default family '"+pr+"'.");if(Lt=function(Wt,er){if(er[Wt])return er[Wt];var Hr=I1[Wt],hr=Hr<=I1.normal?-1:1,$t=o_(er,Q5,Hr,hr);if(!$t)throw new Error("Could not find a matching font-stretch value for "+Wt);return $t}(nn.stretch,Lt),Lt=function(Wt,er){if(er[Wt])return er[Wt];for(var Hr=Z5[Wt],hr=0;hr<Hr.length;++hr)if(er[Hr[hr]])return er[Hr[hr]];throw new Error("Could not find a matching font-style for "+Wt)}(nn.style,Lt),!(Lt=function(Wt,er){if(er[Wt])return er[Wt];if(Wt===400&&er[500])return er[500];if(Wt===500&&er[400])return er[400];var Hr=xO[Wt],hr=o_(er,e3,Hr,Wt<400?-1:1);if(!hr)throw new Error("Could not find a matching font-weight for value "+Wt);return hr}(nn.weight,Lt)))throw new Error("Failed to resolve a font for the rule '"+c_(nn)+"'.");return Lt}(Pt,fr);this.pdf.setFont(Zt.ref.name,Zt.ref.style)}else{var Xt="";(rt==="bold"||parseInt(rt,10)>=700||Pe==="bold")&&(Xt="bold"),Pe==="italic"&&(Xt+="italic"),Xt.length===0&&(Xt="normal");for(var gr="",nr={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ft=0;Ft<Et.length;Ft++){if(this.pdf.internal.getFont(Et[Ft],Xt,{noFallback:!0,disableWarning:!0})!==void 0){gr=Et[Ft];break}if(Xt==="bolditalic"&&this.pdf.internal.getFont(Et[Ft],"bold",{noFallback:!0,disableWarning:!0})!==void 0)gr=Et[Ft],Xt="bold";else if(this.pdf.internal.getFont(Et[Ft],"normal",{noFallback:!0,disableWarning:!0})!==void 0){gr=Et[Ft],Xt="normal";break}}if(gr===""){for(var Qt=0;Qt<Et.length;Qt++)if(nr[Et[Qt]]){gr=nr[Et[Qt]];break}}gr=gr===""?"Times":gr,this.pdf.setFont(gr,Xt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(le){this.ctx.globalCompositeOperation=le}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(le){this.ctx.globalAlpha=le}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(le){this.ctx.lineDashOffset=le,oe.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(le){this.ctx.lineDash=le,oe.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(le){this.ctx.ignoreClearRect=!!le}})};f.prototype.setLineDash=function(j){this.lineDash=j},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){R.call(this,"fill",!1)},f.prototype.stroke=function(){R.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(j,B){if(isNaN(j)||isNaN(B))throw Hn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var O=this.ctx.transform.applyToPoint(new l(j,B));this.path.push({type:"mt",x:O.x,y:O.y}),this.ctx.lastPoint=new l(j,B)},f.prototype.closePath=function(){var j=new l(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&Tn(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){j=new l(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(j.x,j.y)},f.prototype.lineTo=function(j,B){if(isNaN(j)||isNaN(B))throw Hn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var O=this.ctx.transform.applyToPoint(new l(j,B));this.path.push({type:"lt",x:O.x,y:O.y}),this.ctx.lastPoint=new l(O.x,O.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),R.call(this,null,!0)},f.prototype.quadraticCurveTo=function(j,B,O,D){if(isNaN(O)||isNaN(D)||isNaN(j)||isNaN(B))throw Hn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Z=this.ctx.transform.applyToPoint(new l(O,D)),pe=this.ctx.transform.applyToPoint(new l(j,B));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:Z.x,y:Z.y}),this.ctx.lastPoint=new l(Z.x,Z.y)},f.prototype.bezierCurveTo=function(j,B,O,D,Z,pe){if(isNaN(Z)||isNaN(pe)||isNaN(j)||isNaN(B)||isNaN(O)||isNaN(D))throw Hn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var be=this.ctx.transform.applyToPoint(new l(Z,pe)),Se=this.ctx.transform.applyToPoint(new l(j,B)),Ee=this.ctx.transform.applyToPoint(new l(O,D));this.path.push({type:"bct",x1:Se.x,y1:Se.y,x2:Ee.x,y2:Ee.y,x:be.x,y:be.y}),this.ctx.lastPoint=new l(be.x,be.y)},f.prototype.arc=function(j,B,O,D,Z,pe){if(isNaN(j)||isNaN(B)||isNaN(O)||isNaN(D)||isNaN(Z))throw Hn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var be=this.ctx.transform.applyToPoint(new l(j,B));j=be.x,B=be.y;var Se=this.ctx.transform.applyToPoint(new l(0,O)),Ee=this.ctx.transform.applyToPoint(new l(0,0));O=Math.sqrt(Math.pow(Se.x-Ee.x,2)+Math.pow(Se.y-Ee.y,2))}Math.abs(Z-D)>=2*Math.PI&&(D=0,Z=2*Math.PI),this.path.push({type:"arc",x:j,y:B,radius:O,startAngle:D,endAngle:Z,counterclockwise:pe})},f.prototype.arcTo=function(j,B,O,D,Z){throw new Error("arcTo not implemented.")},f.prototype.rect=function(j,B,O,D){if(isNaN(j)||isNaN(B)||isNaN(O)||isNaN(D))throw Hn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,B),this.lineTo(j+O,B),this.lineTo(j+O,B+D),this.lineTo(j,B+D),this.lineTo(j,B),this.lineTo(j+O,B),this.lineTo(j,B)},f.prototype.fillRect=function(j,B,O,D){if(isNaN(j)||isNaN(B)||isNaN(O)||isNaN(D))throw Hn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var Z={};this.lineCap!=="butt"&&(Z.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Z.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,B,O,D),this.fill(),Z.hasOwnProperty("lineCap")&&(this.lineCap=Z.lineCap),Z.hasOwnProperty("lineJoin")&&(this.lineJoin=Z.lineJoin)}},f.prototype.strokeRect=function(j,B,O,D){if(isNaN(j)||isNaN(B)||isNaN(O)||isNaN(D))throw Hn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");S.call(this)||(this.beginPath(),this.rect(j,B,O,D),this.stroke())},f.prototype.clearRect=function(j,B,O,D){if(isNaN(j)||isNaN(B)||isNaN(O)||isNaN(D))throw Hn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,B,O,D))},f.prototype.save=function(j){j=typeof j!="boolean"||j;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,O=0;O<this.pdf.internal.getNumberOfPages();O++)this.pdf.setPage(O+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var D=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=D}},f.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,O=0;O<this.pdf.internal.getNumberOfPages();O++)this.pdf.setPage(O+1),this.pdf.internal.out("Q");this.pdf.setPage(B),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(j){var B,O,D,Z;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))B=0,O=0,D=0,Z=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(pe!==null)B=parseInt(pe[1]),O=parseInt(pe[2]),D=parseInt(pe[3]),Z=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)B=parseInt(pe[1]),O=parseInt(pe[2]),D=parseInt(pe[3]),Z=parseFloat(pe[4]);else{if(Z=1,typeof j=="string"&&j.charAt(0)!=="#"){var be=new W5(j);j=be.ok?be.toHex():"#000000"}j.length===4?(B=j.substring(1,2),B+=B,O=j.substring(2,3),O+=O,D=j.substring(3,4),D+=D):(B=j.substring(1,3),O=j.substring(3,5),D=j.substring(5,7)),B=parseInt(B,16),O=parseInt(O,16),D=parseInt(D,16)}}return{r:B,g:O,b:D,a:Z,style:j}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},S=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(j,B,O,D){if(isNaN(B)||isNaN(O)||typeof j!="string")throw Hn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(D=isNaN(D)?void 0:D,!g.call(this)){var Z=Q(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;W.call(this,{text:j,x:B,y:O,scale:pe,angle:Z,align:this.textAlign,maxWidth:D})}},f.prototype.strokeText=function(j,B,O,D){if(isNaN(B)||isNaN(O)||typeof j!="string")throw Hn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!S.call(this)){D=isNaN(D)?void 0:D;var Z=Q(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;W.call(this,{text:j,x:B,y:O,scale:pe,renderingMode:"stroke",angle:Z,align:this.textAlign,maxWidth:D})}},f.prototype.measureText=function(j){if(typeof j!="string")throw Hn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,O=this.pdf.internal.scaleFactor,D=B.internal.getFontSize(),Z=B.getStringUnitWidth(j)*D/B.internal.scaleFactor;return new function(pe){var be=(pe=pe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return be}}),this}({width:Z*=Math.round(96*O/72*1e4)/1e4})},f.prototype.scale=function(j,B){if(isNaN(j)||isNaN(B))throw Hn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var O=new d(j,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(O)},f.prototype.rotate=function(j){if(isNaN(j))throw Hn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new d(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.translate=function(j,B){if(isNaN(j)||isNaN(B))throw Hn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var O=new d(1,0,0,1,j,B);this.ctx.transform=this.ctx.transform.multiply(O)},f.prototype.transform=function(j,B,O,D,Z,pe){if(isNaN(j)||isNaN(B)||isNaN(O)||isNaN(D)||isNaN(Z)||isNaN(pe))throw Hn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var be=new d(j,B,O,D,Z,pe);this.ctx.transform=this.ctx.transform.multiply(be)},f.prototype.setTransform=function(j,B,O,D,Z,pe){j=isNaN(j)?1:j,B=isNaN(B)?0:B,O=isNaN(O)?0:O,D=isNaN(D)?1:D,Z=isNaN(Z)?0:Z,pe=isNaN(pe)?0:pe,this.ctx.transform=new d(j,B,O,D,Z,pe)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(j,B,O,D,Z,pe,be,Se,Ee){var Ye=this.pdf.getImageProperties(j),at=1,st=1,ft=1,le=1;D!==void 0&&Se!==void 0&&(ft=Se/D,le=Ee/Z,at=Ye.width/D*Se/D,st=Ye.height/Z*Ee/Z),pe===void 0&&(pe=B,be=O,B=0,O=0),D!==void 0&&Se===void 0&&(Se=D,Ee=Z),D===void 0&&Se===void 0&&(Se=Ye.width,Ee=Ye.height);var dt=this.ctx.transform.decompose(),Pe=Q(dt.rotate.shx),rt=new d,Je=(rt=(rt=(rt=rt.multiply(dt.translate)).multiply(dt.skew)).multiply(dt.scale)).applyToRectangle(new c(pe-B*ft,be-O*le,D*at,Z*st));if(this.autoPaging){for(var kt,Ze=N.call(this,Je),Et=[],Pt=0;Pt<Ze.length;Pt+=1)Et.indexOf(Ze[Pt])===-1&&Et.push(Ze[Pt]);T(Et);for(var fr=Et[0],Zt=Et[Et.length-1],Xt=fr;Xt<Zt+1;Xt++){this.pdf.setPage(Xt);var gr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nr=Xt===1?this.posY+this.margin[0]:this.margin[0],Ft=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ct=Xt===1?0:Ft+(Xt-2)*Qt;if(this.ctx.clip_path.length!==0){var rn=this.path;kt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(kt,this.posX+this.margin[3],-Ct+nr+this.ctx.prevPageLastElemOffset),q.call(this,"fill",!0),this.path=rn}var Er=JSON.parse(JSON.stringify(Je));Er=P([Er],this.posX+this.margin[3],-Ct+nr+this.ctx.prevPageLastElemOffset)[0];var pr=(Xt>fr||Xt<Zt)&&y.call(this);pr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],gr,Qt,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Er.x,Er.y,Er.w,Er.h,null,null,Pe),pr&&this.pdf.restoreGraphicsState()}}else this.pdf.addImage(j,"JPEG",Je.x,Je.y,Je.w,Je.h,null,null,Pe)};var N=function(j,B,O){var D=[];B=B||this.pdf.internal.pageSize.width,O=O||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Z=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":D.push(Math.floor((j.y+Z)/O)+1);break;case"arc":D.push(Math.floor((j.y+Z-j.radius)/O)+1),D.push(Math.floor((j.y+Z+j.radius)/O)+1);break;case"qct":var pe=ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);D.push(Math.floor((pe.y+Z)/O)+1),D.push(Math.floor((pe.y+pe.h+Z)/O)+1);break;case"bct":var be=je(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);D.push(Math.floor((be.y+Z)/O)+1),D.push(Math.floor((be.y+be.h+Z)/O)+1);break;case"rect":D.push(Math.floor((j.y+Z)/O)+1),D.push(Math.floor((j.y+j.h+Z)/O)+1)}for(var Se=0;Se<D.length;Se+=1)for(;this.pdf.internal.getNumberOfPages()<D[Se];)A.call(this);return D},A=function(){var j=this.fillStyle,B=this.strokeStyle,O=this.font,D=this.lineCap,Z=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=B,this.font=O,this.lineCap=D,this.lineWidth=Z,this.lineJoin=pe},P=function(j,B,O){for(var D=0;D<j.length;D++)switch(j[D].type){case"bct":j[D].x2+=B,j[D].y2+=O;case"qct":j[D].x1+=B,j[D].y1+=O;default:j[D].x+=B,j[D].y+=O}return j},T=function(j){return j.sort(function(B,O){return B-O})},R=function(j,B){var O=this.fillStyle,D=this.strokeStyle,Z=this.lineCap,pe=this.lineWidth,be=Math.abs(pe*this.ctx.transform.scaleX),Se=this.lineJoin;if(this.autoPaging){for(var Ee,Ye,at=JSON.parse(JSON.stringify(this.path)),st=JSON.parse(JSON.stringify(this.path)),ft=[],le=0;le<st.length;le++)if(st[le].x!==void 0)for(var dt=N.call(this,st[le]),Pe=0;Pe<dt.length;Pe+=1)ft.indexOf(dt[Pe])===-1&&ft.push(dt[Pe]);for(var rt=0;rt<ft.length;rt++)for(;this.pdf.internal.getNumberOfPages()<ft[rt];)A.call(this);T(ft);for(var Je=ft[0],kt=ft[ft.length-1],Ze=Je;Ze<kt+1;Ze++){this.pdf.setPage(Ze),this.fillStyle=O,this.strokeStyle=D,this.lineCap=Z,this.lineWidth=be,this.lineJoin=Se;var Et=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Pt=Ze===1?this.posY+this.margin[0]:this.margin[0],fr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xt=Ze===1?0:fr+(Ze-2)*Zt;if(this.ctx.clip_path.length!==0){var gr=this.path;Ee=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(Ee,this.posX+this.margin[3],-Xt+Pt+this.ctx.prevPageLastElemOffset),q.call(this,j,!0),this.path=gr}if(Ye=JSON.parse(JSON.stringify(at)),this.path=P(Ye,this.posX+this.margin[3],-Xt+Pt+this.ctx.prevPageLastElemOffset),B===!1||Ze===0){var nr=(Ze>Je||Ze<kt)&&y.call(this);nr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Et,Zt,null).clip().discardPath()),q.call(this,j,B),nr&&this.pdf.restoreGraphicsState()}this.lineWidth=pe}this.path=at}else this.lineWidth=be,q.call(this,j,B),this.lineWidth=pe},q=function(j,B){if((j!=="stroke"||B||!S.call(this))&&(j==="stroke"||B||!g.call(this))){for(var O,D,Z=[],pe=this.path,be=0;be<pe.length;be++){var Se=pe[be];switch(Se.type){case"begin":Z.push({begin:!0});break;case"close":Z.push({close:!0});break;case"mt":Z.push({start:Se,deltas:[],abs:[]});break;case"lt":var Ee=Z.length;if(pe[be-1]&&!isNaN(pe[be-1].x)&&(O=[Se.x-pe[be-1].x,Se.y-pe[be-1].y],Ee>0)){for(;Ee>=0;Ee--)if(Z[Ee-1].close!==!0&&Z[Ee-1].begin!==!0){Z[Ee-1].deltas.push(O),Z[Ee-1].abs.push(Se);break}}break;case"bct":O=[Se.x1-pe[be-1].x,Se.y1-pe[be-1].y,Se.x2-pe[be-1].x,Se.y2-pe[be-1].y,Se.x-pe[be-1].x,Se.y-pe[be-1].y],Z[Z.length-1].deltas.push(O);break;case"qct":var Ye=pe[be-1].x+2/3*(Se.x1-pe[be-1].x),at=pe[be-1].y+2/3*(Se.y1-pe[be-1].y),st=Se.x+2/3*(Se.x1-Se.x),ft=Se.y+2/3*(Se.y1-Se.y),le=Se.x,dt=Se.y;O=[Ye-pe[be-1].x,at-pe[be-1].y,st-pe[be-1].x,ft-pe[be-1].y,le-pe[be-1].x,dt-pe[be-1].y],Z[Z.length-1].deltas.push(O);break;case"arc":Z.push({deltas:[],abs:[],arc:!0}),Array.isArray(Z[Z.length-1].abs)&&Z[Z.length-1].abs.push(Se)}}D=B?null:j==="stroke"?"stroke":"fill";for(var Pe=!1,rt=0;rt<Z.length;rt++)if(Z[rt].arc)for(var Je=Z[rt].abs,kt=0;kt<Je.length;kt++){var Ze=Je[kt];Ze.type==="arc"?H.call(this,Ze.x,Ze.y,Ze.radius,Ze.startAngle,Ze.endAngle,Ze.counterclockwise,void 0,B,!Pe):ae.call(this,Ze.x,Ze.y),Pe=!0}else if(Z[rt].close===!0)this.pdf.internal.out("h"),Pe=!1;else if(Z[rt].begin!==!0){var Et=Z[rt].start.x,Pt=Z[rt].start.y;ge.call(this,Z[rt].deltas,Et,Pt),Pe=!0}D&&M.call(this,D),B&&re.call(this)}},te=function(j){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,O=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-O;case"top":return j+B-O;case"hanging":return j+B-2*O;case"middle":return j+B/2-O;default:return j}},G=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(B,O){this.colorStops.push([B,O])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var H=function(j,B,O,D,Z,pe,be,Se,Ee){for(var Ye=Le.call(this,O,D,Z,pe),at=0;at<Ye.length;at++){var st=Ye[at];at===0&&(Ee?I.call(this,st.x1+j,st.y1+B):ae.call(this,st.x1+j,st.y1+B)),_e.call(this,j,B,st.x2,st.y2,st.x3,st.y3,st.x4,st.y4)}Se?re.call(this):M.call(this,be)},M=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},re=function(){this.pdf.clip(),this.pdf.discardPath()},I=function(j,B){this.pdf.internal.out(r(j)+" "+n(B)+" m")},W=function(j){var B;switch(j.align){case"right":case"end":B="right";break;case"center":B="center";break;default:B="left"}var O,D,Z,pe=this.pdf.getTextDimensions(j.text),be=te.call(this,j.y),Se=G.call(this,be)-pe.h,Ee=this.ctx.transform.applyToPoint(new l(j.x,be));if(this.autoPaging){var Ye=this.ctx.transform.decompose(),at=new d;at=(at=(at=at.multiply(Ye.translate)).multiply(Ye.skew)).multiply(Ye.scale);for(var st=this.ctx.transform.applyToRectangle(new c(j.x,be,pe.w,pe.h)),ft=at.applyToRectangle(new c(j.x,Se,pe.w,pe.h)),le=N.call(this,ft),dt=[],Pe=0;Pe<le.length;Pe+=1)dt.indexOf(le[Pe])===-1&&dt.push(le[Pe]);T(dt);for(var rt=dt[0],Je=dt[dt.length-1],kt=rt;kt<Je+1;kt++){this.pdf.setPage(kt);var Ze=kt===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[2],fr=Pt-this.margin[0],Zt=this.pdf.internal.pageSize.width-this.margin[1],Xt=Zt-this.margin[3],gr=kt===1?0:Et+(kt-2)*fr;if(this.ctx.clip_path.length!==0){var nr=this.path;O=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=P(O,this.posX+this.margin[3],-1*gr+Ze),q.call(this,"fill",!0),this.path=nr}var Ft=P([JSON.parse(JSON.stringify(ft))],this.posX+this.margin[3],-gr+Ze+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(D=this.pdf.internal.getFontSize(),this.pdf.setFontSize(D*j.scale),Z=this.lineWidth,this.lineWidth=Z*j.scale);var Qt=this.autoPaging!=="text";if(Qt||Ft.y+Ft.h<=Pt){if(Qt||Ft.y>=Ze&&Ft.x<=Zt){var Ct=Qt?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||Zt-Ft.x)[0],rn=P([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-gr+Ze+this.ctx.prevPageLastElemOffset)[0],Er=Qt&&(kt>rt||kt<Je)&&y.call(this);Er&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Xt,fr,null).clip().discardPath()),this.pdf.text(Ct,rn.x,rn.y,{angle:j.angle,align:B,renderingMode:j.renderingMode}),Er&&this.pdf.restoreGraphicsState()}}else Ft.y<Pt&&(this.ctx.prevPageLastElemOffset+=Pt-Ft.y);j.scale>=.01&&(this.pdf.setFontSize(D),this.lineWidth=Z)}}else j.scale>=.01&&(D=this.pdf.internal.getFontSize(),this.pdf.setFontSize(D*j.scale),Z=this.lineWidth,this.lineWidth=Z*j.scale),this.pdf.text(j.text,Ee.x+this.posX,Ee.y+this.posY,{angle:j.angle,align:B,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(D),this.lineWidth=Z)},ae=function(j,B,O,D){O=O||0,D=D||0,this.pdf.internal.out(r(j+O)+" "+n(B+D)+" l")},ge=function(j,B,O){return this.pdf.lines(j,B,O,null,null)},_e=function(j,B,O,D,Z,pe,be,Se){this.pdf.internal.out([t(a(O+j)),t(i(D+B)),t(a(Z+j)),t(i(pe+B)),t(a(be+j)),t(i(Se+B)),"c"].join(" "))},Le=function(j,B,O,D){for(var Z=2*Math.PI,pe=Math.PI/2;B>O;)B-=Z;var be=Math.abs(O-B);be<Z&&D&&(be=Z-be);for(var Se=[],Ee=D?-1:1,Ye=B;be>1e-5;){var at=Ye+Ee*Math.min(be,pe);Se.push(Te.call(this,j,Ye,at)),be-=Math.abs(at-Ye),Ye=at}return Se},Te=function(j,B,O){var D=(O-B)/2,Z=j*Math.cos(D),pe=j*Math.sin(D),be=Z,Se=-pe,Ee=be*be+Se*Se,Ye=Ee+be*Z+Se*pe,at=4/3*(Math.sqrt(2*Ee*Ye)-Ye)/(be*pe-Se*Z),st=be-at*Se,ft=Se+at*be,le=st,dt=-ft,Pe=D+B,rt=Math.cos(Pe),Je=Math.sin(Pe);return{x1:j*Math.cos(B),y1:j*Math.sin(B),x2:st*rt-ft*Je,y2:st*Je+ft*rt,x3:le*rt-dt*Je,y3:le*Je+dt*rt,x4:j*Math.cos(O),y4:j*Math.sin(O)}},Q=function(j){return 180*j/Math.PI},ye=function(j,B,O,D,Z,pe){var be=j+.5*(O-j),Se=B+.5*(D-B),Ee=Z+.5*(O-Z),Ye=pe+.5*(D-pe),at=Math.min(j,Z,be,Ee),st=Math.max(j,Z,be,Ee),ft=Math.min(B,pe,Se,Ye),le=Math.max(B,pe,Se,Ye);return new c(at,ft,st-at,le-ft)},je=function(j,B,O,D,Z,pe,be,Se){var Ee,Ye,at,st,ft,le,dt,Pe,rt,Je,kt,Ze,Et,Pt,fr=O-j,Zt=D-B,Xt=Z-O,gr=pe-D,nr=be-Z,Ft=Se-pe;for(Ye=0;Ye<41;Ye++)rt=(dt=(at=j+(Ee=Ye/40)*fr)+Ee*((ft=O+Ee*Xt)-at))+Ee*(ft+Ee*(Z+Ee*nr-ft)-dt),Je=(Pe=(st=B+Ee*Zt)+Ee*((le=D+Ee*gr)-st))+Ee*(le+Ee*(pe+Ee*Ft-le)-Pe),Ye==0?(kt=rt,Ze=Je,Et=rt,Pt=Je):(kt=Math.min(kt,rt),Ze=Math.min(Ze,Je),Et=Math.max(Et,rt),Pt=Math.max(Pt,Je));return new c(Math.round(kt),Math.round(Ze),Math.round(Et-kt),Math.round(Pt-Ze))},oe=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,B,O=(j=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:B}));this.prevLineDash!==O&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=O)}}})(Yt.API),function(e){var t=function(l){var c,d,h,p,f,b,g,S,y,N;for(d=[],h=0,p=(l+=c="\0\0\0\0".slice(l.length%4||4)).length;p>h;h+=4)(f=(l.charCodeAt(h)<<24)+(l.charCodeAt(h+1)<<16)+(l.charCodeAt(h+2)<<8)+l.charCodeAt(h+3))!==0?(b=(f=((f=((f=((f=(f-(N=f%85))/85)-(y=f%85))/85)-(S=f%85))/85)-(g=f%85))/85)%85,d.push(b+33,g+33,S+33,y+33,N+33)):d.push(122);return function(A,P){for(var T=P;T>0;T--)A.pop()}(d,c.length),String.fromCharCode.apply(String,d)+"~>"},r=function(l){var c,d,h,p,f,b=String,g="length",S=255,y="charCodeAt",N="slice",A="replace";for(l[N](-2),l=l[N](0,-2)[A](/\s/g,"")[A]("z","!!!!!"),h=[],p=0,f=(l+=c="uuuuu"[N](l[g]%5||5))[g];f>p;p+=5)d=52200625*(l[y](p)-33)+614125*(l[y](p+1)-33)+7225*(l[y](p+2)-33)+85*(l[y](p+3)-33)+(l[y](p+4)-33),h.push(S&d>>24,S&d>>16,S&d>>8,S&d);return function(P,T){for(var R=T;R>0;R--)P.pop()}(h,c[g]),b.fromCharCode.apply(b,h)},n=function(l){return l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(l){var c=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((l=l.replace(/\s/g,"")).indexOf(">")!==-1&&(l=l.substr(0,l.indexOf(">"))),l.length%2&&(l+="0"),c.test(l)===!1)return"";for(var d="",h=0;h<l.length;h+=2)d+=String.fromCharCode("0x"+(l[h]+l[h+1]));return d},i=function(l){for(var c=new Uint8Array(l.length),d=l.length;d--;)c[d]=l.charCodeAt(d);return(c=S1(c)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};e.processDataByFilters=function(l,c){var d=0,h=l||"",p=[];for(typeof(c=c||[])=="string"&&(c=[c]),d=0;d<c.length;d+=1)switch(c[d]){case"ASCII85Decode":case"/ASCII85Decode":h=r(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=t(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=a(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=n(h),p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=i(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+c[d]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}}(Yt.API),function(e){e.loadFile=function(t,r,n){return function(a,i,l){i=i!==!1,l=typeof l=="function"?l:function(){};var c=void 0;try{c=function(d,h,p){var f=new XMLHttpRequest,b=0,g=function(S){var y=S.length,N=[],A=String.fromCharCode;for(b=0;b<y;b+=1)N.push(A(255&S.charCodeAt(b)));return N.join("")};if(f.open("GET",d,!h),f.overrideMimeType("text/plain; charset=x-user-defined"),h===!1&&(f.onload=function(){f.status===200?p(g(this.responseText)):p(void 0)}),f.send(null),h&&f.status===200)return g(f.responseText)}(a,i,l)}catch{}return c}(t,r,n)},e.allowFsRead=void 0,e.loadImageFile=e.loadFile}(Yt.API),function(e){function t(){return(_r.html2canvas?Promise.resolve(_r.html2canvas):vg(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load html2canvas: "+c))}).then(function(c){return c.default?c.default:c})}function r(){return(_r.DOMPurify?Promise.resolve(_r.DOMPurify):vg(()=>import("./purify.es-C5KSVp3G.js"),[])).catch(function(c){return Promise.reject(new Error("Could not load dompurify: "+c))}).then(function(c){return c.default?c.default:c})}var n=function(c){var d=Tn(c);return d==="undefined"?"undefined":d==="string"||c instanceof String?"string":d==="number"||c instanceof Number?"number":d==="function"||c instanceof Function?"function":c&&c.constructor===Array?"array":c&&c.nodeType===1?"element":d==="object"?"object":"unknown"},a=function(c,d){var h=document.createElement(c);for(var p in d.className&&(h.className=d.className),d.innerHTML&&d.dompurify&&(h.innerHTML=d.dompurify.sanitize(d.innerHTML)),d.style)h.style[p]=d.style[p];return h},i=function c(d,h){for(var p=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),f=d.firstChild;f;f=f.nextSibling)h!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||p.appendChild(c(f,h));return d.nodeType===1&&(d.nodeName==="CANVAS"?(p.width=d.width,p.height=d.height,p.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(p.value=d.value),p.addEventListener("load",function(){p.scrollTop=d.scrollTop,p.scrollLeft=d.scrollLeft},!0)),p},l=function c(d){var h=Object.assign(c.convert(Promise.resolve()),JSON.parse(JSON.stringify(c.template))),p=c.convert(Promise.resolve(),h);return(p=p.setProgress(1,c,1,[c])).set(d)};(l.prototype=Object.create(Promise.prototype)).constructor=l,l.convert=function(c,d){return c.__proto__=d||l.prototype,c},l.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},l.prototype.from=function(c,d){return this.then(function(){switch(d=d||function(h){switch(n(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(c),d){case"string":return this.then(r).then(function(h){return this.set({src:a("div",{innerHTML:c,dompurify:h})})});case"element":return this.set({src:c});case"canvas":return this.set({canvas:c});case"img":return this.set({img:c});default:return this.error("Unknown source type.")}})},l.prototype.to=function(c){switch(c){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},l.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var c={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},d=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);d.tagName==="BODY"&&(c.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:c}),this.prop.container.appendChild(d),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},l.prototype.toCanvas=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(d){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,d(this.prop.container,h)}).then(function(d){(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toContext2d=function(){var c=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(c).then(t).then(function(d){var h=this.opt.jsPDF,p=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,b=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete b.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var g=0;g<p.length;++g){var S=p[g],y=S.src.find(function(N){return N.format==="truetype"});y&&h.addFont(y.url,S.ref.name,S.ref.style)}return b.windowHeight=b.windowHeight||0,b.windowHeight=b.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):b.windowHeight,h.context2d.save(!0),d(this.prop.container,b)}).then(function(d){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(d),this.prop.canvas=d,document.body.removeChild(this.prop.overlay)})},l.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var c=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=c})},l.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},l.prototype.output=function(c,d,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(c,d):this.outputPdf(c,d)},l.prototype.outputPdf=function(c,d){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(c,d)})},l.prototype.outputImg=function(c){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(c){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+c+'" is not supported.'}})},l.prototype.save=function(c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(c?{filename:c}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},l.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},l.prototype.set=function(c){if(n(c)!=="object")return this;var d=Object.keys(c||{}).map(function(h){if(h in l.template.prop)return function(){this.prop[h]=c[h]};switch(h){case"margin":return this.setMargin.bind(this,c.margin);case"jsPDF":return function(){return this.opt.jsPDF=c.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,c.pageSize);default:return function(){this.opt[h]=c[h]}}},this);return this.then(function(){return this.thenList(d)})},l.prototype.get=function(c,d){return this.then(function(){var h=c in l.template.prop?this.prop[c]:this.opt[c];return d?d(h):h})},l.prototype.setMargin=function(c){return this.then(function(){switch(n(c)){case"number":c=[c,c,c,c];case"array":if(c.length===2&&(c=[c[0],c[1],c[0],c[1]]),c.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=c}).then(this.setPageSize)},l.prototype.setPageSize=function(c){function d(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(c=c||Yt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(c.inner={width:c.width-this.opt.margin[1]-this.opt.margin[3],height:c.height-this.opt.margin[0]-this.opt.margin[2]},c.inner.px={width:d(c.inner.width,c.k),height:d(c.inner.height,c.k)},c.inner.ratio=c.inner.height/c.inner.width),this.prop.pageSize=c})},l.prototype.setProgress=function(c,d,h,p){return c!=null&&(this.progress.val=c),d!=null&&(this.progress.state=d),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},l.prototype.updateProgress=function(c,d,h,p){return this.setProgress(c?this.progress.val+c:null,d||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},l.prototype.then=function(c,d){var h=this;return this.thenCore(c,d,function(p,f){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(b){return h.updateProgress(null,p),b}).then(p,f).then(function(b){return h.updateProgress(1),b})})},l.prototype.thenCore=function(c,d,h){h=h||Promise.prototype.then;var p=this;c&&(c=c.bind(p)),d&&(d=d.bind(p));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?p:l.convert(Object.assign({},p),Promise.prototype),b=h.call(f,c,d);return l.convert(b,p.__proto__)},l.prototype.thenExternal=function(c,d){return Promise.prototype.then.call(this,c,d)},l.prototype.thenList=function(c){var d=this;return c.forEach(function(h){d=d.thenCore(h)}),d},l.prototype.catch=function(c){c&&(c=c.bind(this));var d=Promise.prototype.catch.call(this,c);return l.convert(d,this)},l.prototype.catchExternal=function(c){return Promise.prototype.catch.call(this,c)},l.prototype.error=function(c){return this.then(function(){throw new Error(c)})},l.prototype.using=l.prototype.set,l.prototype.saveAs=l.prototype.save,l.prototype.export=l.prototype.output,l.prototype.run=l.prototype.then,Yt.getPageSize=function(c,d,h){if(Tn(c)==="object"){var p=c;c=p.orientation,d=p.unit||d,h=p.format||h}d=d||"mm",h=h||"a4",c=(""+(c||"P")).toLowerCase();var f,b=(""+h).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(d){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+d}var S,y=0,N=0;if(g.hasOwnProperty(b))y=g[b][1]/f,N=g[b][0]/f;else try{y=h[1],N=h[0]}catch{throw new Error("Invalid format: "+h)}if(c==="p"||c==="portrait")c="p",N>y&&(S=N,N=y,y=S);else{if(c!=="l"&&c!=="landscape")throw"Invalid orientation: "+c;c="l",y>N&&(S=N,N=y,y=S)}return{width:N,height:y,unit:d,k:f,orientation:c}},e.html=function(c,d){(d=d||{}).callback=d.callback||function(){},d.html2canvas=d.html2canvas||{},d.html2canvas.canvas=d.html2canvas.canvas||this.canvas,d.jsPDF=d.jsPDF||this,d.fontFaces=d.fontFaces?d.fontFaces.map(zg):null;var h=new l(d);return d.worker?h:h.from(c).doCallback()}}(Yt.API),Yt.API.addJS=function(e){var t,r,n=function(a){for(var i="",l=0;l<a.length;l++){var c=a[l];if(c==="("||c===")"){for(var d=0,h=l-1;h>=0&&a[h]==="\\";h--)d++;i+=d%2==0?"\\"+c:c}else i+=c}return i}(e);return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(t+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),r=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+n+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){t!==void 0&&r!==void 0&&this.internal.out("/Names <</JavaScript "+t+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var l=a[i],c=n.exec(l);if(c!=null){var d=c[1];r.internal.newObjectDeferredBegin(d,!1)}r.internal.write(l)}if(this.outline.createNamedDestinations){var h=this.internal.pages.length,p=[];for(i=0;i<h;i++){var f=r.internal.newObject();p.push(f);var b=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<p.length;i++)r.internal.write("(page_"+(i+1)+")"+p[i]+" 0 R");r.internal.write(" ] >>","endobj"),t=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var l={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(l),l},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var l=n.children[i];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var c=this.count=this.count_r({count:0},l);if(c>0&&this.line("/Count "+c),l.options&&l.options.pageNumber){var d=r.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+d.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var h=0;h<n.children.length;h++)this.renderItems(n.children[h])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(Yt.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(r,n,a,i,l,c){var d,h=this.decode.DCT_DECODE,p=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=l||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,d=function(f){for(var b,g=256*f.charCodeAt(4)+f.charCodeAt(5),S=f.length,y={width:0,height:0,numcomponents:1},N=4;N<S;N+=2){if(N+=g,t.indexOf(f.charCodeAt(N+1))!==-1){b=256*f.charCodeAt(N+5)+f.charCodeAt(N+6),y={width:256*f.charCodeAt(N+7)+f.charCodeAt(N+8),height:b,numcomponents:f.charCodeAt(N+9)};break}g=256*f.charCodeAt(N+2)+f.charCodeAt(N+3)}return y}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),d.numcomponents){case 1:c=this.color_spaces.DEVICE_GRAY;break;case 4:c=this.color_spaces.DEVICE_CMYK;break;case 3:c=this.color_spaces.DEVICE_RGB}p={data:r,width:d.width,height:d.height,colorSpace:c,bitsPerComponent:8,filter:h,index:n,alias:a}}return p}}(Yt.API),Yt.API.processPNG=function(e,t,r,n){if(this.__addimage__.isArrayBuffer(e)&&(e=new Uint8Array(e)),this.__addimage__.isArrayBufferView(e)){var a,i=nO(e,{checkCrc:!0}),l=i.width,c=i.height,d=i.channels,h=i.palette,p=i.depth;a=h&&d===1?function(H){for(var M=H.width,re=H.height,I=H.data,W=H.palette,ae=H.depth,ge=!1,_e=[],Le=[],Te=void 0,Q=!1,ye=0,je=0;je<W.length;je++){var oe=sb(W[je],4),j=oe[0],B=oe[1],O=oe[2],D=oe[3];_e.push(j,B,O),D!=null&&(D===0?(ye++,Le.length<1&&Le.push(je)):D<255&&(Q=!0))}if(Q||ye>1){ge=!0,Le=void 0;var Z=M*re;Te=new Uint8Array(Z);for(var pe=new DataView(I.buffer),be=0;be<Z;be++){var Se=Hg(pe,be,ae),Ee=sb(W[Se],4)[3];Te[be]=Ee}}else ye===0&&(Le=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:ge?8:void 0,colorBytes:I,alphaBytes:Te,needSMask:ge,palette:_e,mask:Le}}(i):d===2||d===4?function(H){for(var M=H.data,re=H.width,I=H.height,W=H.channels,ae=H.depth,ge=W===2?"DeviceGray":"DeviceRGB",_e=W-1,Le=re*I,Te=_e,Q=Le*Te,ye=1*Le,je=Math.ceil(Q*ae/8),oe=Math.ceil(ye*ae/8),j=new Uint8Array(je),B=new Uint8Array(oe),O=new DataView(M.buffer),D=new DataView(j.buffer),Z=new DataView(B.buffer),pe=!1,be=0;be<Le;be++){for(var Se=be*W,Ee=0;Ee<Te;Ee++)b_(D,Hg(O,Se+Ee,ae),be*Te+Ee,ae);var Ye=Hg(O,Se+Te,ae);Ye<(1<<ae)-1&&(pe=!0),b_(Z,Ye,1*be,ae)}return{colorSpace:ge,colorsPerPixel:_e,sMaskBitsPerComponent:pe?ae:void 0,colorBytes:j,alphaBytes:B,needSMask:pe}}(i):function(H){var M=H.data,re=H.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:re,colorsPerPixel:re==="DeviceGray"?1:3,colorBytes:M instanceof Uint16Array?function(I){for(var W=I.length,ae=new Uint8Array(2*W),ge=new DataView(ae.buffer,ae.byteOffset,ae.byteLength),_e=0;_e<W;_e++)ge.setUint16(2*_e,I[_e],!1);return ae}(M):M,needSMask:!1}}(i);var f,b,g,S=a,y=S.colorSpace,N=S.colorsPerPixel,A=S.sMaskBitsPerComponent,P=S.colorBytes,T=S.alphaBytes,R=S.needSMask,q=S.palette,te=S.mask,G=null;return n!==Yt.API.image_compression.NONE&&typeof S1=="function"?(G=function(H){var M;switch(H){case Yt.API.image_compression.FAST:M=11;break;case Yt.API.image_compression.MEDIUM:M=13;break;case Yt.API.image_compression.SLOW:M=14;break;default:M=12}return M}(n),f=this.decode.FLATE_DECODE,b="/Predictor ".concat(G," /Colors ").concat(N," /BitsPerComponent ").concat(p," /Columns ").concat(l),e=p_(P,Math.ceil(l*N*p/8),N,p,n),R&&(g=p_(T,Math.ceil(l*A/8),1,A,n))):(f=void 0,b=void 0,e=P,R&&(g=T)),(this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e))&&(e=this.__addimage__.arrayBufferToBinaryString(e)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:e,index:t,filter:f,decodeParameters:b,transparency:te,palette:q,sMask:g,predictor:G,width:l,height:c,bitsPerComponent:p,sMaskBitsPerComponent:A,colorSpace:y}}},function(e){e.processGIF89A=function(t,r,n,a){var i=new NO(t),l=i.width,c=i.height,d=[];i.decodeAndBlitFrameRGBA(0,d);var h={data:d,width:l,height:c},p=new Wg(100).encode(h,100);return e.processJPEG.call(this,p,r,n,a)},e.processGIF87A=e.processGIF89A}(Yt.API),Gl.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Gl.prototype.parseBGR=function(){this.pos=this.offset;var e="bit"+this.bitPP,t=this.width*this.height*4;if(t>536870912)throw new Error("Image dimensions exceed 512MB, which is too large.");this.data=new Uint8Array(t);try{this[e]()}catch(r){Hn.log("bit decode error:"+r)}},Gl.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),r=t%4;for(e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+8*a*4,c=0;c<8&&8*a+c<this.width;c++){var d=this.palette[i>>7-c&1];this.data[l+4*c]=d.blue,this.data[l+4*c+1]=d.green,this.data[l+4*c+2]=d.red,this.data[l+4*c+3]=255}r!==0&&(this.pos+=4-r)}},Gl.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),l=n*this.width*4+2*a*4,c=i>>4,d=15&i,h=this.palette[c];if(this.data[l]=h.blue,this.data[l+1]=h.green,this.data[l+2]=h.red,this.data[l+3]=255,2*a+1>=this.width)break;h=this.palette[d],this.data[l+4]=h.blue,this.data[l+4+1]=h.green,this.data[l+4+2]=h.red,this.data[l+4+3]=255}t!==0&&(this.pos+=4-t)}},Gl.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var l=this.palette[a];this.data[i]=l.red,this.data[i+1]=l.green,this.data[i+2]=l.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},Gl.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(i&t)/t*255|0,c=(i>>5&t)/t*255|0,d=(i>>10&t)/t*255|0,h=i>>15?255:0,p=n*this.width*4+4*a;this.data[p]=d,this.data[p+1]=c,this.data[p+2]=l,this.data[p+3]=h}this.pos+=e}},Gl.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var c=(l&t)/t*255|0,d=(l>>5&r)/r*255|0,h=(l>>11)/t*255|0,p=a*this.width*4+4*i;this.data[p]=h,this.data[p+1]=d,this.data[p+2]=c,this.data[p+3]=255}this.pos+=e}},Gl.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=t*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=255}this.pos+=this.width%4}},Gl.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),c=t*this.width*4+4*r;this.data[c]=i,this.data[c+1]=a,this.data[c+2]=n,this.data[c+3]=l}},Gl.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,r,n,a){var i=new Gl(t,!1),l=i.width,c=i.height,d={data:i.getData(),width:l,height:c},h=new Wg(100).encode(d,100);return e.processJPEG.call(this,h,r,n,a)}}(Yt.API),y_.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,r,n,a){var i=new y_(t),l=i.width,c=i.height,d={data:i.getData(),width:l,height:c},h=new Wg(100).encode(d,100);return e.processJPEG.call(this,h,r,n,a)}}(Yt.API),Yt.API.processRGBA=function(e,t,r){for(var n=e.data,a=n.length,i=new Uint8Array(a/4*3),l=new Uint8Array(a/4),c=0,d=0,h=0;h<a;h+=4){var p=n[h],f=n[h+1],b=n[h+2],g=n[h+3];i[c++]=p,i[c++]=f,i[c++]=b,l[d++]=g}var S=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:S,index:t,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Yt.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},vh=Yt.API,cp=vh.getCharWidthsArray=function(e,t){var r,n,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),l=t.charSpace||this.internal.getCharSpace(),c=t.widths?t.widths:a.metadata.Unicode.widths,d=c.fof?c.fof:1,h=t.kerning?t.kerning:a.metadata.Unicode.kerning,p=h.fof?h.fof:1,f=t.doKerning!==!1,b=0,g=e.length,S=0,y=c[0]||d,N=[];for(r=0;r<g;r++)n=e.charCodeAt(r),typeof a.metadata.widthOfString=="function"?N.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+l*(1e3/i)||0)/1e3):(b=f&&Tn(h[n])==="object"&&!isNaN(parseInt(h[n][S],10))?h[n][S]/p:0,N.push((c[n]||y)/d+b)),S=n;return N},d_=vh.getStringUnitWidth=function(e,t){var r=(t=t||{}).fontSize||this.internal.getFontSize(),n=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return vh.processArabic&&(e=vh.processArabic(e)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(e,r,a)/r:cp.apply(this,arguments).reduce(function(i,l){return i+l},0)},h_=function(e,t,r,n){for(var a=[],i=0,l=e.length,c=0;i!==l&&c+t[i]<r;)c+=t[i],i++;a.push(e.slice(0,i));var d=i;for(c=0;i!==l;)c+t[i]>n&&(a.push(e.slice(d,i)),c=0,d=i),c+=t[i],i++;return d!==i&&a.push(e.slice(d,i)),a},f_=function(e,t,r){r||(r={});var n,a,i,l,c,d,h,p=[],f=[p],b=r.textIndent||0,g=0,S=0,y=e.split(" "),N=cp.apply(this,[" ",r])[0];if(d=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var A=Array(d).join(" "),P=[];y.map(function(R){(R=R.split(/\s*\n/)).length>1?P=P.concat(R.map(function(q,te){return(te&&q.length?`
`:"")+q})):P.push(R[0])}),y=P,d=d_.apply(this,[A,r])}for(i=0,l=y.length;i<l;i++){var T=0;if(n=y[i],d&&n[0]==`
`&&(n=n.substr(1),T=1),b+g+(S=(a=cp.apply(this,[n,r])).reduce(function(R,q){return R+q},0))>t||T){if(S>t){for(c=h_.apply(this,[n,a,t-(b+g),t]),p.push(c.shift()),p=[c.pop()];c.length;)f.push([c.shift()]);S=a.slice(n.length-(p[0]?p[0].length:0)).reduce(function(R,q){return R+q},0)}else p=[n];f.push(p),b=S+d,g=N}else p.push(n),b+=g+S,g=N}return h=d?function(R,q){return(q?A:"")+R.join(" ")}:function(R){return R.join(" ")},f.map(h)},vh.splitTextToSize=function(e,t,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var f=this.internal.getFont(p.fontName,p.fontStyle),b="Unicode";return f.metadata[b]?{widths:f.metadata[b].widths||{0:1},kerning:f.metadata[b].kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(e)?e:String(e).split(/\r?\n/);var l=1*this.internal.scaleFactor*t/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var c,d,h=[];for(c=0,d=n.length;c<d;c++)h=h.concat(f_.apply(this,[n[c],l,i]));return h},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},i=0;i<16;i++)n[r[i]]=t[i],a[t[i]]=r[i];var l=function(b){return"0x"+parseInt(b,10).toString(16)},c=e.__fontmetrics__.compress=function(b){var g,S,y,N,A=["{"];for(var P in b){if(g=b[P],isNaN(parseInt(P,10))?S="'"+P+"'":(P=parseInt(P,10),S=(S=l(P).slice(2)).slice(0,-1)+a[S.slice(-1)]),typeof g=="number")g<0?(y=l(g).slice(3),N="-"):(y=l(g).slice(2),N=""),y=N+y.slice(0,-1)+a[y.slice(-1)];else{if(Tn(g)!=="object")throw new Error("Don't know what to do with value type "+Tn(g)+".");y=c(g)}A.push(S+y)}return A.push("}"),A.join("")},d=e.__fontmetrics__.uncompress=function(b){if(typeof b!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,S,y,N,A={},P=1,T=A,R=[],q="",te="",G=b.length-1,H=1;H<G;H+=1)(N=b[H])=="'"?g?(y=g.join(""),g=void 0):g=[]:g?g.push(N):N=="{"?(R.push([T,y]),T={},y=void 0):N=="}"?((S=R.pop())[0][S[1]]=T,y=void 0,T=S[0]):N=="-"?P=-1:y===void 0?n.hasOwnProperty(N)?(q+=n[N],y=parseInt(q,16)*P,P=1,q=""):q+=N:n.hasOwnProperty(N)?(te+=n[N],T[y]=parseInt(te,16)*P,P=1,y=void 0,te=""):te+=N;return A},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:d("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},f={Unicode:{"Courier-Oblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":d("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":d("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:d("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":d("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:d("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":d("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":d("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":d("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":d("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(b){var g=b.font,S=f.Unicode[g.postScriptName];S&&(g.metadata.Unicode={},g.metadata.Unicode.widths=S.widths,g.metadata.Unicode.kerning=S.kerning);var y=p.Unicode[g.postScriptName];y&&(g.metadata.Unicode.encoding=y,g.encoding=y.codePages[0])}])}(Yt.API),function(e){var t=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};e.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(l,c){c=/^\x00\x01\x00\x00/.test(c)?t(c):t(pp(c)),l.metadata=e.API.TTFFont.open(c),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(a,n)}}])}(Yt),Yt.API.addSvgAsImage=function(e,t,r,n,a,i,l,c){if(isNaN(t)||isNaN(r))throw Hn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Hn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var d=document.createElement("canvas");d.width=n,d.height=a;var h=d.getContext("2d");h.fillStyle="#fff",h.fillRect(0,0,d.width,d.height);var p={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return(_r.canvg?Promise.resolve(_r.canvg):vg(()=>import("./index.es-CnwYDyAy.js"),[])).catch(function(b){return Promise.reject(new Error("Could not load canvg: "+b))}).then(function(b){return b.default?b.default:b}).then(function(b){return b.fromString(h,e,p)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(p)}).then(function(){f.addImage(d.toDataURL("image/jpeg",1),t,r,n,a,l,c)})},Yt.API.putTotalPages=function(e){var t,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),r=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(t,r);return this},Yt.API.viewerPreferences=function(e,t){var r;e=e||{},t=t||!1;var n,a,i,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},c=Object.keys(l),d=[],h=0,p=0,f=0;function b(S,y){var N,A=!1;for(N=0;N<S.length;N+=1)S[N]===y&&(A=!0);return A}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var g=c.length;for(f=0;f<g;f+=1)r[c[f]].value=r[c[f]].defaultValue,r[c[f]].explicitSet=!1}if(Tn(e)==="object"){for(a in e)if(i=e[a],b(c,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&b(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(h=0;h<i.length;h+=1)if(n=!0,i[h].length===1&&typeof i[h][0]=="number")d.push(String(i[h]-1));else if(i[h].length>1){for(p=0;p<i[h].length;p+=1)typeof i[h][p]!="number"&&(n=!1);n===!0&&d.push([i[h][0]-1,i[h][1]-1].join(" "))}r[a].value="["+d.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var S,y=[];for(S in r)r[S].explicitSet===!0&&(r[S].type==="name"?y.push("/"+S+" /"+r[S].value):y.push("/"+S+" "+r[S].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},Yt.API.addMetadata=function(e,t){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:e,namespaceUri:t??"http://jspdf.default.namespaceuri/",rawXml:typeof t=="boolean"&&t},this.internal.events.subscribe("putCatalog",EO),this.internal.events.subscribe("postPutResources",jO)),this},function(e){var t=e.API,r=t.pdfEscape16=function(i,l){for(var c,d=l.metadata.Unicode.widths,h=["","0","00","000","0000"],p=[""],f=0,b=i.length;f<b;++f){if(c=l.metadata.characterToGlyph(i.charCodeAt(f)),l.metadata.glyIdsUsed.push(c),l.metadata.toUnicode[c]=i.charCodeAt(f),d.indexOf(c)==-1&&(d.push(c),d.push([parseInt(l.metadata.widthOfGlyph(c),10)])),c=="0")return p.join("");c=c.toString(16),p.push(h[4-c.length],c)}return p.join("")},n=function(i){var l,c,d,h,p,f,b;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,d=[],f=0,b=(c=Object.keys(i).sort(function(g,S){return g-S})).length;f<b;f++)l=c[f],d.length>=100&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar`,d=[]),i[l]!==void 0&&i[l]!==null&&typeof i[l].toString=="function"&&(h=("0000"+i[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),d.push("<"+l+"><"+h+">"));return d.length&&(p+=`
`+d.length+` beginbfchar
`+d.join(`
`)+`
endbfchar
`),p+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(l){var c=l.font,d=l.out,h=l.newObject,p=l.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="Identity-H"){for(var f=c.metadata.Unicode.widths,b=c.metadata.subset.encode(c.metadata.glyIdsUsed,1),g="",S=0;S<b.length;S++)g+=String.fromCharCode(b[S]);var y=h();p({data:g,addLength1:!0,objectId:y}),d("endobj");var N=h();p({data:n(c.metadata.toUnicode),addLength1:!0,objectId:N}),d("endobj");var A=h();d("<<"),d("/Type /FontDescriptor"),d("/FontName /"+Nh(c.fontName)),d("/FontFile2 "+y+" 0 R"),d("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),d("/Flags "+c.metadata.flags),d("/StemV "+c.metadata.stemV),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d(">>"),d("endobj");var P=h();d("<<"),d("/Type /Font"),d("/BaseFont /"+Nh(c.fontName)),d("/FontDescriptor "+A+" 0 R"),d("/W "+e.API.PDFObject.convert(f)),d("/CIDToGIDMap /Identity"),d("/DW 1000"),d("/Subtype /CIDFontType2"),d("/CIDSystemInfo"),d("<<"),d("/Supplement 0"),d("/Registry (Adobe)"),d("/Ordering ("+c.encoding+")"),d(">>"),d(">>"),d("endobj"),c.objectNumber=h(),d("<<"),d("/Type /Font"),d("/Subtype /Type0"),d("/ToUnicode "+N+" 0 R"),d("/BaseFont /"+Nh(c.fontName)),d("/Encoding /"+c.encoding),d("/DescendantFonts ["+P+" 0 R]"),d(">>"),d("endobj"),c.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(l){var c=l.font,d=l.out,h=l.newObject,p=l.putStream;if(c.metadata instanceof e.API.TTFFont&&c.encoding==="WinAnsiEncoding"){for(var f=c.metadata.rawData,b="",g=0;g<f.length;g++)b+=String.fromCharCode(f[g]);var S=h();p({data:b,addLength1:!0,objectId:S}),d("endobj");var y=h();p({data:n(c.metadata.toUnicode),addLength1:!0,objectId:y}),d("endobj");var N=h();d("<<"),d("/Descent "+c.metadata.decender),d("/CapHeight "+c.metadata.capHeight),d("/StemV "+c.metadata.stemV),d("/Type /FontDescriptor"),d("/FontFile2 "+S+" 0 R"),d("/Flags 96"),d("/FontBBox "+e.API.PDFObject.convert(c.metadata.bbox)),d("/FontName /"+Nh(c.fontName)),d("/ItalicAngle "+c.metadata.italicAngle),d("/Ascent "+c.metadata.ascender),d(">>"),d("endobj"),c.objectNumber=h();for(var A=0;A<c.metadata.hmtx.widths.length;A++)c.metadata.hmtx.widths[A]=parseInt(c.metadata.hmtx.widths[A]*(1e3/c.metadata.head.unitsPerEm));d("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+Nh(c.fontName)+"/FontDescriptor "+N+" 0 R/Encoding/"+c.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(c.metadata.hmtx.widths)+">>"),d("endobj"),c.isAlreadyPutted=!0}})(i)}]);var a=function(i){var l,c=i.text||"",d=i.x,h=i.y,p=i.options||{},f=i.mutex||{},b=f.pdfEscape,g=f.activeFontKey,S=f.fonts,y=g,N="",A=0,P="",T=S[y].encoding;if(S[y].encoding!=="Identity-H")return{text:c,x:d,y:h,options:p,mutex:f};for(P=c,y=g,Array.isArray(c)&&(P=c[0]),A=0;A<P.length;A+=1)S[y].metadata.hasOwnProperty("cmap")&&(l=S[y].metadata.cmap.unicode.codeMap[P[A].charCodeAt(0)]),l||P[A].charCodeAt(0)<256&&S[y].metadata.hasOwnProperty("Unicode")?N+=P[A]:N+="";var R="";return parseInt(y.slice(1))<14||T==="WinAnsiEncoding"?R=b(N,y).split("").map(function(q){return q.charCodeAt(0).toString(16)}).join(""):T==="Identity-H"&&(R=r(N,S[y])),f.isHex=!0,{text:R,x:d,y:h,options:p,mutex:f}};t.events.push(["postProcessText",function(i){var l=i.text||"",c=[],d={text:l,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(l)){var h=0;for(h=0;h<l.length;h+=1)Array.isArray(l[h])&&l[h].length===3?c.push([a(Object.assign({},d,{text:l[h][0]})).text,l[h][1],l[h][2]]):c.push(a(Object.assign({},d,{text:l[h]})).text);i.text=c}else i.text=a(Object.assign({},d,{text:l})).text}])}(Yt),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0},e.addFileToVFS=function(r,n){return t.call(this),this.internal.vFS[r]=n,this},e.getFileFromVFS=function(r){return t.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Yt.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(n){var a,i,l,c,d,h,p,f=t,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],S={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},N=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],A=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),P=!1,T=0;this.__bidiEngine__={};var R=function(I){var W=I.charCodeAt(),ae=W>>8,ge=y[ae];return ge!==void 0?f[256*ge+(255&W)]:ae===252||ae===253?"AL":A.test(ae)?"L":ae===8?"R":"N"},q=function(I){for(var W,ae=0;ae<I.length;ae++){if((W=R(I.charAt(ae)))==="L")return!1;if(W==="R")return!0}return!1},te=function(I,W,ae,ge){var _e,Le,Te,Q,ye=W[ge];switch(ye){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":P=!1;break;case"N":case"AN":break;case"EN":P&&(ye="AN");break;case"AL":P=!0,ye="R";break;case"WS":case"BN":ye="N";break;case"CS":ge<1||ge+1>=W.length||(_e=ae[ge-1])!=="EN"&&_e!=="AN"||(Le=W[ge+1])!=="EN"&&Le!=="AN"?ye="N":P&&(Le="AN"),ye=Le===_e?Le:"N";break;case"ES":ye=(_e=ge>0?ae[ge-1]:"B")==="EN"&&ge+1<W.length&&W[ge+1]==="EN"?"EN":"N";break;case"ET":if(ge>0&&ae[ge-1]==="EN"){ye="EN";break}if(P){ye="N";break}for(Te=ge+1,Q=W.length;Te<Q&&W[Te]==="ET";)Te++;ye=Te<Q&&W[Te]==="EN"?"EN":"N";break;case"NSM":if(l&&!c){for(Q=W.length,Te=ge+1;Te<Q&&W[Te]==="NSM";)Te++;if(Te<Q){var je=I[ge],oe=je>=1425&&je<=2303||je===64286;if(_e=W[Te],oe&&(_e==="R"||_e==="AL")){ye="R";break}}}ye=ge<1||(_e=W[ge-1])==="B"?"N":ae[ge-1];break;case"B":P=!1,a=!0,ye=T;break;case"S":i=!0,ye="N"}return ye},G=function(I,W,ae){var ge=I.split("");return ae&&H(ge,ae,{hiLevel:T}),ge.reverse(),W&&W.reverse(),ge.join("")},H=function(I,W,ae){var ge,_e,Le,Te,Q,ye=-1,je=I.length,oe=0,j=[],B=T?g:b,O=[];for(P=!1,a=!1,i=!1,_e=0;_e<je;_e++)O[_e]=R(I[_e]);for(Le=0;Le<je;Le++){if(Q=oe,j[Le]=te(I,O,j,Le),ge=240&(oe=B[Q][S[j[Le]]]),oe&=15,W[Le]=Te=B[oe][5],ge>0)if(ge===16){for(_e=ye;_e<Le;_e++)W[_e]=1;ye=-1}else ye=-1;if(B[oe][6])ye===-1&&(ye=Le);else if(ye>-1){for(_e=ye;_e<Le;_e++)W[_e]=Te;ye=-1}O[Le]==="B"&&(W[Le]=0),ae.hiLevel|=Te}i&&function(D,Z,pe){for(var be=0;be<pe;be++)if(D[be]==="S"){Z[be]=T;for(var Se=be-1;Se>=0&&D[Se]==="WS";Se--)Z[Se]=T}}(O,W,je)},M=function(I,W,ae,ge,_e){if(!(_e.hiLevel<I)){if(I===1&&T===1&&!a)return W.reverse(),void(ae&&ae.reverse());for(var Le,Te,Q,ye,je=W.length,oe=0;oe<je;){if(ge[oe]>=I){for(Q=oe+1;Q<je&&ge[Q]>=I;)Q++;for(ye=oe,Te=Q-1;ye<Te;ye++,Te--)Le=W[ye],W[ye]=W[Te],W[Te]=Le,ae&&(Le=ae[ye],ae[ye]=ae[Te],ae[Te]=Le);oe=Q}oe++}}},re=function(I,W,ae){var ge=I.split(""),_e={hiLevel:T};return ae||(ae=[]),H(ge,ae,_e),function(Le,Te,Q){if(Q.hiLevel!==0&&p)for(var ye,je=0;je<Le.length;je++)Te[je]===1&&(ye=N.indexOf(Le[je]))>=0&&(Le[je]=N[ye+1])}(ge,ae,_e),M(2,ge,W,ae,_e),M(1,ge,W,ae,_e),ge.join("")};return this.__bidiEngine__.doBidiReorder=function(I,W,ae){if(function(_e,Le){if(Le)for(var Te=0;Te<_e.length;Te++)Le[Te]=Te;c===void 0&&(c=q(_e)),h===void 0&&(h=q(_e))}(I,W),l||!d||h)if(l&&d&&c^h)T=c?1:0,I=G(I,W,ae);else if(!l&&d&&h)T=c?1:0,I=re(I,W,ae),I=G(I,W);else if(!l||c||d||h){if(l&&!d&&c^h)I=G(I,W),c?(T=0,I=re(I,W,ae)):(T=1,I=re(I,W,ae),I=G(I,W));else if(l&&c&&!d&&h)T=1,I=re(I,W,ae),I=G(I,W);else if(!l&&!d&&c^h){var ge=p;c?(T=1,I=re(I,W,ae),T=0,p=!1,I=re(I,W,ae),p=ge):(T=0,I=re(I,W,ae),I=G(I,W),T=1,p=!1,I=re(I,W,ae),p=ge,I=G(I,W))}}else T=0,I=re(I,W,ae);else T=c?1:0,I=re(I,W,ae);return I},this.__bidiEngine__.setOptions=function(I){I&&(l=I.isInputVisual,d=I.isOutputVisual,c=I.isInputRtl,h=I.isOutputRtl,p=I.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var l=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var c=0;for(l=[],c=0;c<a.length;c+=1)Object.prototype.toString.call(a[c])==="[object Array]"?l.push([r.doBidiReorder(a[c][0]),a[c][1],a[c][2]]):l.push([r.doBidiReorder(a[c])]);n.text=l}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(Yt),Yt.API.TTFFont=function(){function e(t){var r;if(this.rawData=t,r=this.contents=new Qu(t),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new $O(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new kO(this.contents),this.head=new CO(this),this.name=new FO(this),this.cmap=new r3(this),this.toUnicode={},this.hhea=new TO(this),this.maxp=new OO(this),this.hmtx=new IO(this),this.post=new LO(this),this.os2=new PO(this),this.loca=new UO(this),this.glyf=new DO(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,c,d,h;for(h=[],l=0,c=(d=this.bbox).length;l<c;l++)t=d[l],h.push(Math.round(t*this.scaleFactor));return h}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var r;return((r=this.cmap.unicode)!=null?r.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*r},e.prototype.widthOfString=function(t,r,n){var a,i,l,c;for(l=0,i=0,c=(t=""+t).length;0<=c?i<c:i>c;i=0<=c?++i:--i)a=t.charCodeAt(i),l+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return l*(r/1e3)},e.prototype.lineHeight=function(t,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*t},e}();var nc,Qu=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var r,n;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(t){var r,n,a;for(a=[],r=0,n=t.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(t.charCodeAt(r)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,r,n,a,i,l,c,d;return t=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),l=this.readByte(),c=this.readByte(),d=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^l)+256*(255^c)+(255^d)+1):72057594037927940*t+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*l+256*c+d},e.prototype.writeLongLong=function(t){var r,n;return r=Math.floor(t/4294967296),n=4294967295&t,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var r,n;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r.push(this.readByte());return r},e.prototype.write=function(t){var r,n,a,i;for(i=[],n=0,a=t.length;n<a;n++)r=t[n],i.push(this.writeByte(r));return i},e}(),kO=function(){var e;function t(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return t.prototype.encode=function(r){var n,a,i,l,c,d,h,p,f,b,g,S,y;for(y in g=Object.keys(r).length,d=Math.log(2),f=16*Math.floor(Math.log(g)/d),l=Math.floor(f/d),p=16*g-f,(a=new Qu).writeInt(this.scalarType),a.writeShort(g),a.writeShort(f),a.writeShort(l),a.writeShort(p),i=16*g,h=a.pos+i,c=null,S=[],r)for(b=r[y],a.writeString(y),a.writeInt(e(b)),a.writeInt(h),a.writeInt(b.length),S=S.concat(b),y==="head"&&(c=h),h+=b.length;h%4;)S.push(0),h++;return a.write(S),n=2981146554-e(a.data),a.pos=c+8,a.writeUInt32(n),a.data},e=function(r){var n,a,i,l;for(r=n3.call(r);r.length%4;)r.push(0);for(i=new Qu(r),a=0,n=0,l=r.length;n<l;n=n+=4)a+=i.readUInt32();return 4294967295&a},t}(),AO={}.hasOwnProperty,Mc=function(e,t){for(var r in t)AO.call(t,r)&&(e[r]=t[r]);function n(){this.constructor=e}return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};nc=function(){function e(t){var r;this.file=t,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var CO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mc(e,nc),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new Qu).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),w_=function(){function e(t,r){var n,a,i,l,c,d,h,p,f,b,g,S,y,N,A,P,T;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=r+t.readInt(),f=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(d=0;d<256;++d)this.codeMap[d]=t.readByte();break;case 4:for(g=t.readUInt16(),b=g/2,t.pos+=6,i=function(){var R,q;for(q=[],d=R=0;0<=b?R<b:R>b;d=0<=b?++R:--R)q.push(t.readUInt16());return q}(),t.pos+=2,y=function(){var R,q;for(q=[],d=R=0;0<=b?R<b:R>b;d=0<=b?++R:--R)q.push(t.readUInt16());return q}(),h=function(){var R,q;for(q=[],d=R=0;0<=b?R<b:R>b;d=0<=b?++R:--R)q.push(t.readUInt16());return q}(),p=function(){var R,q;for(q=[],d=R=0;0<=b?R<b:R>b;d=0<=b?++R:--R)q.push(t.readUInt16());return q}(),a=(this.length-t.pos+this.offset)/2,c=function(){var R,q;for(q=[],d=R=0;0<=a?R<a:R>a;d=0<=a?++R:--R)q.push(t.readUInt16());return q}(),d=A=0,T=i.length;A<T;d=++A)for(N=i[d],n=P=S=y[d];S<=N?P<=N:P>=N;n=S<=N?++P:--P)p[d]===0?l=n+h[d]:(l=c[p[d]/2+(n-S)-(b-d)]||0)!==0&&(l+=h[d]),this.codeMap[n]=65535&l}t.pos=f}return e.encode=function(t,r){var n,a,i,l,c,d,h,p,f,b,g,S,y,N,A,P,T,R,q,te,G,H,M,re,I,W,ae,ge,_e,Le,Te,Q,ye,je,oe,j,B,O,D,Z,pe,be,Se,Ee,Ye,at;switch(ge=new Qu,l=Object.keys(t).sort(function(st,ft){return st-ft}),r){case"macroman":for(y=0,N=function(){var st=[];for(S=0;S<256;++S)st.push(0);return st}(),P={0:0},i={},_e=0,ye=l.length;_e<ye;_e++)P[Se=t[a=l[_e]]]==null&&(P[Se]=++y),i[a]={old:t[a],new:P[t[a]]},N[a]=P[t[a]];return ge.writeUInt16(1),ge.writeUInt16(0),ge.writeUInt32(12),ge.writeUInt16(0),ge.writeUInt16(262),ge.writeUInt16(0),ge.write(N),{charMap:i,subtable:ge.data,maxGlyphID:y+1};case"unicode":for(W=[],f=[],T=0,P={},n={},A=h=null,Le=0,je=l.length;Le<je;Le++)P[q=t[a=l[Le]]]==null&&(P[q]=++T),n[a]={old:q,new:P[q]},c=P[q]-a,A!=null&&c===h||(A&&f.push(A),W.push(a),h=c),A=a;for(A&&f.push(A),f.push(65535),W.push(65535),re=2*(M=W.length),H=2*Math.pow(Math.log(M)/Math.LN2,2),b=Math.log(H/2)/Math.LN2,G=2*M-H,d=[],te=[],g=[],S=Te=0,oe=W.length;Te<oe;S=++Te){if(I=W[S],p=f[S],I===65535){d.push(0),te.push(0);break}if(I-(ae=n[I].new)>=32768)for(d.push(0),te.push(2*(g.length+M-S)),a=Q=I;I<=p?Q<=p:Q>=p;a=I<=p?++Q:--Q)g.push(n[a].new);else d.push(ae-I),te.push(0)}for(ge.writeUInt16(3),ge.writeUInt16(1),ge.writeUInt32(12),ge.writeUInt16(4),ge.writeUInt16(16+8*M+2*g.length),ge.writeUInt16(0),ge.writeUInt16(re),ge.writeUInt16(H),ge.writeUInt16(b),ge.writeUInt16(G),pe=0,j=f.length;pe<j;pe++)a=f[pe],ge.writeUInt16(a);for(ge.writeUInt16(0),be=0,B=W.length;be<B;be++)a=W[be],ge.writeUInt16(a);for(Ee=0,O=d.length;Ee<O;Ee++)c=d[Ee],ge.writeUInt16(c);for(Ye=0,D=te.length;Ye<D;Ye++)R=te[Ye],ge.writeUInt16(R);for(at=0,Z=g.length;at<Z;at++)y=g[at],ge.writeUInt16(y);return{charMap:n,subtable:ge.data,maxGlyphID:T+1}}},e}(),r3=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mc(e,nc),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,n,a;for(t.pos=this.offset,this.version=t.readUInt16(),a=t.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new w_(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var n,a;return r==null&&(r="macroman"),n=w_.encode(t,r),(a=new Qu).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},e}(),TO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mc(e,nc),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),PO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mc(e,nc),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,n;for(n=[],r=0;r<10;++r)n.push(t.readByte());return n}(),this.charRange=function(){var r,n;for(n=[],r=0;r<4;++r)n.push(t.readInt());return n}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(t.readInt());return n}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),LO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mc(e,nc),e.prototype.tag="post",e.prototype.parse=function(t){var r,n,a;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=t.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],a=[];t.pos<this.offset+this.length;)r=t.readByte(),a.push(this.names.push(t.readString(r)));return a;case 151552:return n=t.readUInt16(),this.offsets=t.read(n);case 262144:return this.map=(function(){var l,c,d;for(d=[],i=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;i=0<=c?++l:--l)d.push(t.readUInt32());return d}).call(this)}},e}(),RO=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},FO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mc(e,nc),e.prototype.tag="name",e.prototype.parse=function(t){var r,n,a,i,l,c,d,h,p,f,b;for(t.pos=this.offset,t.readShort(),r=t.readShort(),c=t.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+c+t.readShort()});for(d={},i=p=0,f=n.length;p<f;i=++p)a=n[i],t.pos=a.offset,h=t.readString(a.length),l=new RO(h,a),d[b=a.nameID]==null&&(d[b]=[]),d[a.nameID].push(l);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),OO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mc(e,nc),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),IO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mc(e,nc),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,n,a,i,l,c,d;for(t.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var h,p;for(p=[],r=h=0;0<=a?h<a:h>a;r=0<=a?++h:--h)p.push(t.readInt16());return p}(),this.widths=(function(){var h,p,f,b;for(b=[],h=0,p=(f=this.metrics).length;h<p;h++)i=f[h],b.push(i.advance);return b}).call(this),n=this.widths[this.widths.length-1],d=[],r=l=0;0<=a?l<a:l>a;r=0<=a?++l:--l)d.push(this.widths.push(n));return d},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),n3=[].slice,DO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mc(e,nc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,n,a,i,l,c,d,h,p,f;return t in this.cache?this.cache[t]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(t),(a=i.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+n,l=(c=new Qu(r.read(a))).readShort(),h=c.readShort(),f=c.readShort(),d=c.readShort(),p=c.readShort(),this.cache[t]=l===-1?new MO(c,h,f,d,p):new BO(c,l,h,f,d,p),this.cache[t]))},e.prototype.encode=function(t,r,n){var a,i,l,c,d;for(l=[],i=[],c=0,d=r.length;c<d;c++)a=t[r[c]],i.push(l.length),a&&(l=l.concat(a.encode(n)));return i.push(l.length),{table:l,offsets:i}},e}(),BO=function(){function e(t,r,n,a,i,l){this.raw=t,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=l,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),MO=function(){function e(t,r,n,a,i){var l,c;for(this.raw=t,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;c=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&c;)l.pos+=1&c?4:2,128&c?l.pos+=8:64&c?l.pos+=4:8&c&&(l.pos+=2)}return e.prototype.encode=function(){var t,r,n;for(r=new Qu(n3.call(this.raw.data)),t=0,n=this.glyphIDs.length;t<n;++t)r.pos=this.glyphOffsets[t];return r.data},e}(),UO=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return Mc(e,nc),e.prototype.tag="loca",e.prototype.parse=function(t){var r,n;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=2)i.push(2*t.readUInt16());return i}).call(this):(function(){var a,i;for(i=[],n=0,a=this.length;n<a;n+=4)i.push(t.readUInt32());return i}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var n=new Uint32Array(this.offsets.length),a=0,i=0,l=0;l<n.length;++l)if(n[l]=a,i<r.length&&r[i]==l){++i,n[l]=a;var c=this.offsets[l],d=this.offsets[l+1]-c;d>0&&(a+=d)}for(var h=new Array(4*n.length),p=0;p<n.length;++p)h[4*p+3]=255&n[p],h[4*p+2]=(65280&n[p])>>8,h[4*p+1]=(16711680&n[p])>>16,h[4*p]=(4278190080&n[p])>>24;return h},e}(),$O=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)n=i[r],t[r]=a[n];return t},e.prototype.glyphsFor=function(t){var r,n,a,i,l,c,d;for(a={},l=0,c=t.length;l<c;l++)a[i=t[l]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in d=this.glyphsFor(r))n=d[i],a[i]=n;return a},e.prototype.encode=function(t,r){var n,a,i,l,c,d,h,p,f,b,g,S,y,N,A;for(a in n=r3.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(t),g={0:0},A=n.charMap)g[(d=A[a]).old]=d.new;for(S in b=n.maxGlyphID,l)S in g||(g[S]=b++);return p=function(P){var T,R;for(T in R={},P)R[P[T]]=T;return R}(g),f=Object.keys(p).sort(function(P,T){return P-T}),y=function(){var P,T,R;for(R=[],P=0,T=f.length;P<T;P++)c=f[P],R.push(p[c]);return R}(),i=this.font.glyf.encode(l,y,g),h=this.font.loca.encode(i.offsets,y),N={cmap:this.font.cmap.raw(),glyf:i.table,loca:h,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(N["OS/2"]=this.font.os2.raw()),this.font.directory.encode(N)},e}();Yt.API.PDFObject=function(){var e;function t(){}return e=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},t.convert=function(r){var n,a,i,l;if(Array.isArray(r))return"["+function(){var c,d,h;for(h=[],c=0,d=r.length;c<d;c++)n=r[c],h.push(t.convert(n));return h}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+e(r.getUTCFullYear(),4)+e(r.getUTCMonth(),2)+e(r.getUTCDate(),2)+e(r.getUTCHours(),2)+e(r.getUTCMinutes(),2)+e(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)l=r[a],i.push("/"+a+" "+t.convert(l));return i.push(">>"),i.join(`
`)}return""+r},t}();function a3(e,t,r,n,a){n=n||{};var i=1.15,l=a.internal.scaleFactor,c=a.internal.getFontSize()/l,d=a.getLineHeightFactor?a.getLineHeightFactor():i,h=c*d,p=/\r\n|\r|\n/g,f="",b=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(f=typeof e=="string"?e.split(p):e,b=f.length||1),r+=c*(2-i),n.valign==="middle"?r-=b/2*h:n.valign==="bottom"&&(r-=b*h),n.halign==="center"||n.halign==="right"){var g=c;if(n.halign==="center"&&(g*=.5),f&&b>=1){for(var S=0;S<f.length;S++)a.text(f[S],t-a.getStringUnitWidth(f[S])*g,r),r+=h;return a}t-=a.getStringUnitWidth(e)*g}return n.halign==="justify"?a.text(e,t,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(e,t,r),a}var S_={},Bh=function(){function e(t){this.jsPDFDocument=t,this.userStyles={textColor:t.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:t.internal.getFontSize(),fontStyle:t.internal.getFont().fontStyle,font:t.internal.getFont().fontName,lineWidth:t.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:t.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(t,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=t:S_=t},e.unifyColor=function(t){return Array.isArray(t)?t:typeof t=="number"?[t,t,t]:typeof t=="string"?[t]:null},e.prototype.applyStyles=function(t,r){var n,a,i;r===void 0&&(r=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var l=this.jsPDFDocument.internal.getFont(),c=l.fontStyle,d=l.fontName;if(t.font&&(d=t.font),t.fontStyle){c=t.fontStyle;var h=this.getFontList()[d];h&&h.indexOf(c)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(h[0]),c=h[0])}if(this.jsPDFDocument.setFont(d,c),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!r){var p=e.unifyColor(t.fillColor);p&&(n=this.jsPDFDocument).setFillColor.apply(n,p),p=e.unifyColor(t.textColor),p&&(a=this.jsPDFDocument).setTextColor.apply(a,p),p=e.unifyColor(t.lineColor),p&&(i=this.jsPDFDocument).setDrawColor.apply(i,p),typeof t.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(t,r,n){return this.jsPDFDocument.splitTextToSize(t,r,n)},e.prototype.rect=function(t,r,n,a,i){return this.jsPDFDocument.rect(t,r,n,a,i)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(t){return this.jsPDFDocument.getTextWidth(t)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(t){this.jsPDFDocument.setPage(t)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return S_||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var t=this.jsPDFDocument.internal.pageSize;return t.width==null&&(t={width:t.getWidth(),height:t.getHeight()}),t},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var t=this.jsPDFDocument;return t.getLineHeightFactor?t.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(t){return t/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var t=this.jsPDFDocument.internal.getCurrentPageInfo();return t?t.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}(),D1=function(e,t){return D1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},D1(e,t)};function i3(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");D1(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}var s3=function(e){i3(t,e);function t(r){var n=e.call(this)||this;return n._element=r,n}return t}(Array);function zO(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function qO(e){var t={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return t[e]}function Vp(e,t,r){r.applyStyles(t,!0);var n=Array.isArray(e)?e:[e],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,l){return Math.max(i,l)},0);return a}function o3(e,t,r,n){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var l=l3(a,!1);l&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),n.y-r.y,l)}function l3(e,t){var r=e>0,n=t||t===0;return r&&n?"DF":r?"S":n?"F":null}function hm(e,t){var r,n,a,i;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(e.length===3)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(e.length===2)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e.length===1?e=e[0]:e=t}return typeof e=="object"?(typeof e.vertical=="number"&&(e.top=e.vertical,e.bottom=e.vertical),typeof e.horizontal=="number"&&(e.right=e.horizontal,e.left=e.horizontal),{left:(r=e.left)!==null&&r!==void 0?r:t,top:(n=e.top)!==null&&n!==void 0?n:t,right:(a=e.right)!==null&&a!==void 0?a:t,bottom:(i=e.bottom)!==null&&i!==void 0?i:t}):(typeof e!="number"&&(e=t),{top:e,right:e,bottom:e,left:e})}function c3(e,t){var r=hm(t.settings.margin,0);return e.pageSize().width-(r.left+r.right)}function HO(e,t,r,n,a){var i={},l=1.3333333333333333,c=Vg(t,function(T){return a.getComputedStyle(T).backgroundColor});c!=null&&(i.fillColor=c);var d=Vg(t,function(T){return a.getComputedStyle(T).color});d!=null&&(i.textColor=d);var h=VO(n,r);h&&(i.cellPadding=h);var p="borderTopColor",f=l*r,b=n.borderTopWidth;if(n.borderBottomWidth===b&&n.borderRightWidth===b&&n.borderLeftWidth===b){var g=(parseFloat(b)||0)/f;g&&(i.lineWidth=g)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/f,right:(parseFloat(n.borderRightWidth)||0)/f,bottom:(parseFloat(n.borderBottomWidth)||0)/f,left:(parseFloat(n.borderLeftWidth)||0)/f},i.lineWidth.top||(i.lineWidth.right?p="borderRightColor":i.lineWidth.bottom?p="borderBottomColor":i.lineWidth.left&&(p="borderLeftColor"));var S=Vg(t,function(T){return a.getComputedStyle(T)[p]});S!=null&&(i.lineColor=S);var y=["left","right","center","justify"];y.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),y=["middle","bottom","top"],y.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var N=parseInt(n.fontSize||"");isNaN(N)||(i.fontSize=N/l);var A=WO(n);A&&(i.fontStyle=A);var P=(n.fontFamily||"").toLowerCase();return e.indexOf(P)!==-1&&(i.font=P),i}function WO(e){var t="";return(e.fontWeight==="bold"||e.fontWeight==="bolder"||parseInt(e.fontWeight)>=700)&&(t="bold"),(e.fontStyle==="italic"||e.fontStyle==="oblique")&&(t+="italic"),t}function Vg(e,t){var r=u3(e,t);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function u3(e,t){var r=t(e);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?e.parentElement==null?null:u3(e.parentElement,t):r}function VO(e,t){var r=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],n=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=r.map(function(c){return parseInt(c||"0")/n}),l=hm(i,0);return a>l.top&&(l.top=a),a>l.bottom&&(l.bottom=a),l}function d3(e,t,r,n,a){var i,l;n===void 0&&(n=!1),a===void 0&&(a=!1);var c;typeof t=="string"?c=r.document.querySelector(t):c=t;var d=Object.keys(e.getFontList()),h=e.scaleFactor(),p=[],f=[],b=[];if(!c)return console.error("Html table could not be found with input: ",t),{head:p,body:f,foot:b};for(var g=0;g<c.rows.length;g++){var S=c.rows[g],y=(l=(i=S==null?void 0:S.parentElement)===null||i===void 0?void 0:i.tagName)===null||l===void 0?void 0:l.toLowerCase(),N=GO(d,h,r,S,n,a);N&&(y==="thead"?p.push(N):y==="tfoot"?b.push(N):f.push(N))}return{head:p,body:f,foot:b}}function GO(e,t,r,n,a,i){for(var l=new s3(n),c=0;c<n.cells.length;c++){var d=n.cells[c],h=r.getComputedStyle(d);if(a||h.display!=="none"){var p=void 0;i&&(p=HO(e,d,t,h,r)),l.push({rowSpan:d.rowSpan,colSpan:d.colSpan,styles:p,_element:d,content:KO(d)})}}var f=r.getComputedStyle(n);if(l.length>0&&(a||f.display!=="none"))return l}function KO(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),t.innerText||t.textContent||""}function YO(e,t,r){for(var n=0,a=[e,t,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function au(e,t,r,n,a){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),l=1;l<arguments.length;l++){var c=arguments[l];if(c!=null)for(var d in c)Object.prototype.hasOwnProperty.call(c,d)&&(i[d]=c[d])}return i}function h3(e,t){var r=new Bh(e),n=r.getDocumentOptions(),a=r.getGlobalOptions();YO(a,n,t);var i=au({},a,n,t),l;typeof window<"u"&&(l=window);var c=XO(a,n,t),d=JO(a,n,t),h=ZO(r,i),p=eI(r,i,l);return{id:t.tableId,content:p,hooks:d,styles:c,settings:h}}function XO(e,t,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(d){if(d==="columnStyles"){var h=e[d],p=t[d],f=r[d];n.columnStyles=au({},h,p,f)}else{var b=[e,t,r],g=b.map(function(S){return S[d]||{}});n[d]=au({},g[0],g[1],g[2])}},i=0,l=Object.keys(n);i<l.length;i++){var c=l[i];a(c)}return n}function JO(e,t,r){for(var n=[e,t,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,l=n;i<l.length;i++){var c=l[i];c.didParseCell&&a.didParseCell.push(c.didParseCell),c.willDrawCell&&a.willDrawCell.push(c.willDrawCell),c.didDrawCell&&a.didDrawCell.push(c.didDrawCell),c.willDrawPage&&a.willDrawPage.push(c.willDrawPage),c.didDrawPage&&a.didDrawPage.push(c.didDrawPage)}return a}function ZO(e,t){var r,n,a,i,l,c,d,h,p,f,b,g,S=hm(t.margin,40/e.scaleFactor()),y=(r=QO(e,t.startY))!==null&&r!==void 0?r:S.top,N;t.showFoot===!0?N="everyPage":t.showFoot===!1?N="never":N=(n=t.showFoot)!==null&&n!==void 0?n:"everyPage";var A;t.showHead===!0?A="everyPage":t.showHead===!1?A="never":A=(a=t.showHead)!==null&&a!==void 0?a:"everyPage";var P=(i=t.useCss)!==null&&i!==void 0?i:!1,T=t.theme||(P?"plain":"striped"),R=!!t.horizontalPageBreak,q=(l=t.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(c=t.includeHiddenHtml)!==null&&c!==void 0?c:!1,useCss:P,theme:T,startY:y,margin:S,pageBreak:(d=t.pageBreak)!==null&&d!==void 0?d:"auto",rowPageBreak:(h=t.rowPageBreak)!==null&&h!==void 0?h:"auto",tableWidth:(p=t.tableWidth)!==null&&p!==void 0?p:"auto",showHead:A,showFoot:N,tableLineWidth:(f=t.tableLineWidth)!==null&&f!==void 0?f:0,tableLineColor:(b=t.tableLineColor)!==null&&b!==void 0?b:200,horizontalPageBreak:R,horizontalPageBreakRepeat:q,horizontalPageBreakBehaviour:(g=t.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function QO(e,t){var r=e.getLastAutoTable(),n=e.scaleFactor(),a=e.pageNumber(),i=!1;if(r&&r.startPageNumber){var l=r.startPageNumber+r.pageNumber-1;i=l===a}return typeof t=="number"?t:(t==null||t===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function eI(e,t,r){var n=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var l=t.includeHiddenHtml;if(r){var c=d3(e,t.html,r,l,t.useCss)||{};n=c.head||n,a=c.body||n,i=c.foot||n}else console.error("Cannot parse html in non browser environment")}var d=t.columns||tI(n,a,i);return{columns:d,head:n,body:a,foot:i}}function tI(e,t,r){var n=e[0]||t[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var l=1,c;Array.isArray(n)?c=n[parseInt(i)]:c=n[i],typeof c=="object"&&!Array.isArray(c)&&(l=(c==null?void 0:c.colSpan)||1);for(var d=0;d<l;d++){var h=void 0;Array.isArray(n)?h=a.length:h=i+(d>0?"_".concat(d):"");var p={dataKey:h};a.push(p)}}),a}var B1=function(){function e(t,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=t.getDocument()}return e}(),rI=function(e){i3(t,e);function t(r,n,a,i,l,c){var d=e.call(this,r,n,c)||this;return d.cell=a,d.row=i,d.column=l,d.section=i.section,d}return t}(B1),nI=function(){function e(t,r){this.pageNumber=1,this.id=t.id,this.settings=t.settings,this.styles=t.styles,this.hooks=t.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return e.prototype.getHeadHeight=function(t){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.getFootHeight=function(t){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(t)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(t,r,n,a,i,l){for(var c=0,d=r;c<d.length;c++){var h=d[c],p=new rI(t,this,n,a,i,l),f=h(p)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],f)return!1}return!0},e.prototype.callEndPageHooks=function(t,r){t.applyStyles(t.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new B1(t,this,r))}},e.prototype.callWillDrawPageHooks=function(t,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new B1(t,this,r))}},e.prototype.getWidth=function(t){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return t-n.left-n.right}},e}(),f3=function(){function e(t,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=t,t instanceof s3&&(this.raw=t._element,this.element=t._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return e.prototype.getMaxCellHeight=function(t){var r=this;return t.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},e.prototype.hasRowSpan=function(t){var r=this;return t.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},e.prototype.canEntireRowFit=function(t,r){return this.getMaxCellHeight(r)<=t},e.prototype.getMinimumRowHeight=function(t,r){var n=this;return t.reduce(function(a,i){var l=n.cells[i.index];if(!l)return 0;var c=r.getLineHeight(l.styles.fontSize),d=l.padding("vertical"),h=d+c;return h>a?h:a},0)},e}(),p3=function(){function e(t,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=t;var i=t;t!=null&&typeof t=="object"&&!Array.isArray(t)?(this.rowSpan=t.rowSpan||1,this.colSpan=t.colSpan||1,i=(a=t.content)!==null&&a!==void 0?a:t,t._element&&(this.raw=t._element)):(this.rowSpan=1,this.colSpan=1);var l=i!=null?""+i:"",c=/\r\n|\r|\n/g;this.text=l.split(c)}return e.prototype.getTextPos=function(){var t;if(this.styles.valign==="top")t=this.y+this.padding("top");else if(this.styles.valign==="bottom")t=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");t=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:t}},e.prototype.getContentHeight=function(t,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/t*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},e.prototype.padding=function(t){var r=hm(this.styles.cellPadding,0);return t==="vertical"?r.top+r.bottom:t==="horizontal"?r.left+r.right:r[t]},e}(),aI=function(){function e(t,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=t,this.raw=r,this.index=n}return e.prototype.getMaxCustomCellWidth=function(t){for(var r=0,n=0,a=t.allRows();n<a.length;n++){var i=a[n],l=i.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(r=Math.max(r,l.styles.cellWidth))}return r},e}();function iI(e,t){sI(e,t);var r=[],n=0;t.columns.forEach(function(i){var l=i.getMaxCustomCellWidth(t);l?i.width=l:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=t.getWidth(e.pageSize().width)-n;a&&(a=M1(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=M1(r,a,function(i){return i.minWidth})),a=Math.abs(a),!t.settings.horizontalPageBreak&&a>.1/e.scaleFactor()&&(a=a<1?a:Math.round(a),console.log("Of the table content, ".concat(a," units width could not fit page"))),lI(t),cI(t,e),oI(t)}function sI(e,t){var r=e.scaleFactor(),n=t.settings.horizontalPageBreak,a=c3(e,t);t.allRows().forEach(function(i){for(var l=0,c=t.columns;l<c.length;l++){var d=c[l],h=i.cells[d.index];if(h){var p=t.hooks.didParseCell;t.callCellHooks(e,p,h,i,d,null);var f=h.padding("horizontal");h.contentWidth=Vp(h.text,h.styles,e)+f;var b=Vp(h.text.join(" ").split(/[^\S\u00A0]+/),h.styles,e);if(h.minReadableWidth=b+h.padding("horizontal"),typeof h.styles.cellWidth=="number")h.minWidth=h.styles.cellWidth,h.wrappedWidth=h.styles.cellWidth;else if(h.styles.cellWidth==="wrap"||n===!0)h.contentWidth>a?(h.minWidth=a,h.wrappedWidth=a):(h.minWidth=h.contentWidth,h.wrappedWidth=h.contentWidth);else{var g=10/r;h.minWidth=h.styles.minCellWidth||g,h.wrappedWidth=h.contentWidth,h.minWidth>h.wrappedWidth&&(h.wrappedWidth=h.minWidth)}}}}),t.allRows().forEach(function(i){for(var l=0,c=t.columns;l<c.length;l++){var d=c[l],h=i.cells[d.index];if(h&&h.colSpan===1)d.wrappedWidth=Math.max(d.wrappedWidth,h.wrappedWidth),d.minWidth=Math.max(d.minWidth,h.minWidth),d.minReadableWidth=Math.max(d.minReadableWidth,h.minReadableWidth);else{var p=t.styles.columnStyles[d.dataKey]||t.styles.columnStyles[d.index]||{},f=p.cellWidth||p.minCellWidth;f&&typeof f=="number"&&(d.minWidth=f,d.wrappedWidth=f)}h&&(h.colSpan>1&&!d.minWidth&&(d.minWidth=h.minWidth),h.colSpan>1&&!d.wrappedWidth&&(d.wrappedWidth=h.minWidth))}})}function M1(e,t,r){for(var n=t,a=e.reduce(function(g,S){return g+S.wrappedWidth},0),i=0;i<e.length;i++){var l=e[i],c=l.wrappedWidth/a,d=n*c,h=l.width+d,p=r(l),f=h<p?p:h;t-=f-l.width,l.width=f}if(t=Math.round(t*1e10)/1e10,t){var b=e.filter(function(g){return t<0?g.width>r(g):!0});b.length&&(t=M1(b,t,r))}return t}function oI(e){for(var t={},r=1,n=e.allRows(),a=0;a<n.length;a++)for(var i=n[a],l=0,c=e.columns;l<c.length;l++){var d=c[l],h=t[d.index];if(r>1)r--,delete i.cells[d.index];else if(h)h.cell.height+=i.height,r=h.cell.colSpan,delete i.cells[d.index],h.left--,h.left<=1&&delete t[d.index];else{var p=i.cells[d.index];if(!p)continue;if(p.height=i.height,p.rowSpan>1){var f=n.length-a,b=p.rowSpan>f?f:p.rowSpan;t[d.index]={cell:p,left:b,row:i}}}}}function lI(e){for(var t=e.allRows(),r=0;r<t.length;r++)for(var n=t[r],a=null,i=0,l=0,c=0;c<e.columns.length;c++){var d=e.columns[c];if(l-=1,l>1&&e.columns[c+1])i+=d.width,delete n.cells[d.index];else if(a){var h=a;delete n.cells[d.index],a=null,h.width=d.width+i}else{var h=n.cells[d.index];if(!h)continue;if(l=h.colSpan,i=0,h.colSpan>1){a=h,i+=d.width;continue}h.width=d.width+i}}}function cI(e,t){for(var r={count:0,height:0},n=0,a=e.allRows();n<a.length;n++){for(var i=a[n],l=0,c=e.columns;l<c.length;l++){var d=c[l],h=i.cells[d.index];if(h){t.applyStyles(h.styles,!0);var p=h.width-h.padding("horizontal");if(h.styles.overflow==="linebreak")h.text=t.splitTextToSize(h.text,p+1/t.scaleFactor(),{fontSize:h.styles.fontSize});else if(h.styles.overflow==="ellipsize")h.text=N_(h.text,p,h.styles,t,"...");else if(h.styles.overflow==="hidden")h.text=N_(h.text,p,h.styles,t,"");else if(typeof h.styles.overflow=="function"){var f=h.styles.overflow(h.text,p);typeof f=="string"?h.text=[f]:h.text=f}h.contentHeight=h.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var b=h.contentHeight/h.rowSpan;h.rowSpan>1&&r.count*r.height<b*h.rowSpan?r={height:b,count:h.rowSpan}:r&&r.count>0&&r.height>b&&(b=r.height),b>i.height&&(i.height=b)}}r.count--}}function N_(e,t,r,n,a){return e.map(function(i){return uI(i,t,r,n,a)})}function uI(e,t,r,n,a){var i=1e4*n.scaleFactor();if(t=Math.ceil(t*i)/i,t>=Vp(e,r,n))return e;for(;t<Vp(e+a,r,n)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}function m3(e,t){var r=new Bh(e),n=dI(t,r.scaleFactor()),a=new nI(t,n);return iI(r,a),r.applyStyles(r.userStyles),a}function dI(e,t){var r=e.content,n=fI(r.columns);if(r.head.length===0){var a=j_(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=j_(n,"foot");a&&r.foot.push(a)}var i=e.settings.theme,l=e.styles;return{columns:n,head:Gg("head",r.head,n,l,i,t),body:Gg("body",r.body,n,l,i,t),foot:Gg("foot",r.foot,n,l,i,t)}}function Gg(e,t,r,n,a,i){var l={},c=t.map(function(d,h){for(var p=0,f={},b=0,g=0,S=0,y=r;S<y.length;S++){var N=y[S];if(l[N.index]==null||l[N.index].left===0)if(g===0){var A=void 0;Array.isArray(d)?A=d[N.index-b-p]:A=d[N.dataKey];var P={};typeof A=="object"&&!Array.isArray(A)&&(P=(A==null?void 0:A.styles)||{});var T=pI(e,N,h,a,n,i,P),R=new p3(A,T,e);f[N.dataKey]=R,f[N.index]=R,g=R.colSpan-1,l[N.index]={left:R.rowSpan-1,times:g}}else g--,b++;else l[N.index].left--,g=l[N.index].times,p++}return new f3(d,h,e,f)});return c}function j_(e,t){var r={};return e.forEach(function(n){if(n.raw!=null){var a=hI(t,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function hI(e,t){if(e==="head"){if(typeof t=="object")return t.header||null;if(typeof t=="string"||typeof t=="number")return t}else if(e==="foot"&&typeof t=="object")return t.footer;return null}function fI(e){return e.map(function(t,r){var n,a;return typeof t=="object"?a=(n=t.dataKey)!==null&&n!==void 0?n:r:a=r,new aI(a,t,r)})}function pI(e,t,r,n,a,i,l){var c=qO(n),d;e==="head"?d=a.headStyles:e==="body"?d=a.bodyStyles:e==="foot"&&(d=a.footStyles);var h=au({},c.table,c[e],a.styles,d),p=a.columnStyles[t.dataKey]||a.columnStyles[t.index]||{},f=e==="body"?p:{},b=e==="body"&&r%2===0?au({},c.alternateRow,a.alternateRowStyles):{},g=zO(i),S=au({},g,h,b,f);return au(S,l)}function mI(e,t,r){var n;r===void 0&&(r={});var a=c3(e,t),i=new Map,l=[],c=[],d=[];Array.isArray(t.settings.horizontalPageBreakRepeat)?d=t.settings.horizontalPageBreakRepeat:(typeof t.settings.horizontalPageBreakRepeat=="string"||typeof t.settings.horizontalPageBreakRepeat=="number")&&(d=[t.settings.horizontalPageBreakRepeat]),d.forEach(function(b){var g=t.columns.find(function(S){return S.dataKey===b||S.index===b});g&&!i.has(g.index)&&(i.set(g.index,!0),l.push(g.index),c.push(t.columns[g.index]),a-=g.wrappedWidth)});for(var h=!0,p=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;p<t.columns.length;){if(i.has(p)){p++;continue}var f=t.columns[p].wrappedWidth;if(h||a>=f)h=!1,l.push(p),c.push(t.columns[p]),a-=f;else break;p++}return{colIndexes:l,columns:c,lastIndex:p-1}}function gI(e,t){for(var r=[],n=0;n<t.columns.length;n++){var a=mI(e,t,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function g3(e,t){var r=t.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},l=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),c=n+a.bottom+l;if(r.pageBreak==="avoid"){var d=t.body,h=d.reduce(function(b,g){return b+g.height},0);c+=h}var p=new Bh(e);(r.pageBreak==="always"||r.startY!=null&&c>p.pageSize().height)&&(v3(p),i.y=a.top),t.callWillDrawPageHooks(p,i);var f=au({},i);t.startPageNumber=p.pageNumber(),r.horizontalPageBreak?xI(p,t,f,i):(p.applyStyles(p.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&t.head.forEach(function(b){return du(p,t,b,i,t.columns)}),p.applyStyles(p.userStyles),t.body.forEach(function(b,g){var S=g===t.body.length-1;Gp(p,t,b,S,f,i,t.columns)}),p.applyStyles(p.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&t.foot.forEach(function(b){return du(p,t,b,i,t.columns)})),o3(p,t,f,i),t.callEndPageHooks(p,i),t.finalY=i.y,e.lastAutoTable=t,p.applyStyles(p.userStyles)}function xI(e,t,r,n){var a=gI(e,t),i=t.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(h,p){e.applyStyles(e.userStyles),p>0?R0(e,t,r,n,h.columns,!0):E_(e,t,n,h.columns),vI(e,t,r,n,h.columns),Kg(e,t,n,h.columns)});else for(var l=-1,c=a[0],d=function(){var h=l;if(c){e.applyStyles(e.userStyles);var p=c.columns;l>=0?R0(e,t,r,n,p,!0):E_(e,t,n,p),h=k_(e,t,l+1,n,p),Kg(e,t,n,p)}var f=h-l;a.slice(1).forEach(function(b){e.applyStyles(e.userStyles),R0(e,t,r,n,b.columns,!0),k_(e,t,l+1,n,b.columns,f),Kg(e,t,n,b.columns)}),l=h};l<t.body.length-1;)d()}function E_(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&t.head.forEach(function(i){return du(e,t,i,r,n)})}function vI(e,t,r,n,a){e.applyStyles(e.userStyles),t.body.forEach(function(i,l){var c=l===t.body.length-1;Gp(e,t,i,c,r,n,a)})}function k_(e,t,r,n,a,i){e.applyStyles(e.userStyles),i=i??t.body.length;var l=Math.min(r+i,t.body.length),c=-1;return t.body.slice(r,l).forEach(function(d,h){var p=r+h===t.body.length-1,f=x3(e,t,p,n);d.canEntireRowFit(f,a)&&(du(e,t,d,n,a),c=r+h)}),c}function Kg(e,t,r,n){var a=t.settings;e.applyStyles(e.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&t.foot.forEach(function(i){return du(e,t,i,r,n)})}function bI(e,t,r){var n=r.getLineHeight(e.styles.fontSize),a=e.padding("vertical"),i=Math.floor((t-a)/n);return Math.max(0,i)}function _I(e,t,r,n){var a={};e.spansMultiplePages=!0,e.height=0;for(var i=0,l=0,c=r.columns;l<c.length;l++){var d=c[l],h=e.cells[d.index];if(h){Array.isArray(h.text)||(h.text=[h.text]);var p=new p3(h.raw,h.styles,h.section);p=au(p,h),p.text=[];var f=bI(h,t,n);h.text.length>f&&(p.text=h.text.splice(f,h.text.length));var b=n.scaleFactor(),g=n.getLineHeightFactor();h.contentHeight=h.getContentHeight(b,g),h.contentHeight>=t&&(h.contentHeight=t,p.styles.minCellHeight-=t),h.contentHeight>e.height&&(e.height=h.contentHeight),p.contentHeight=p.getContentHeight(b,g),p.contentHeight>i&&(i=p.contentHeight),a[d.index]=p}}var S=new f3(e.raw,-1,e.section,a,!0);S.height=i;for(var y=0,N=r.columns;y<N.length;y++){var d=N[y],p=S.cells[d.index];p&&(p.height=S.height);var h=e.cells[d.index];h&&(h.height=e.height)}return S}function yI(e,t,r,n){var a=e.pageSize().height,i=n.settings.margin,l=i.top+i.bottom,c=a-l;t.section==="body"&&(c-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var d=t.getMinimumRowHeight(n.columns,e),h=d<r;if(d>c)return console.log("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!h)return!1;var p=t.hasRowSpan(n.columns),f=t.getMaxCellHeight(n.columns)>c;return f?(p&&console.log("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(p||n.settings.rowPageBreak==="avoid")}function Gp(e,t,r,n,a,i,l){var c=x3(e,t,n,i);if(r.canEntireRowFit(c,l))du(e,t,r,i,l);else if(yI(e,r,c,t)){var d=_I(r,c,t,e);du(e,t,r,i,l),R0(e,t,a,i,l),Gp(e,t,d,n,a,i,l)}else R0(e,t,a,i,l),Gp(e,t,r,n,a,i,l)}function du(e,t,r,n,a){n.x=t.settings.margin.left;for(var i=0,l=a;i<l.length;i++){var c=l[i],d=r.cells[c.index];if(!d){n.x+=c.width;continue}e.applyStyles(d.styles),d.x=n.x,d.y=n.y;var h=t.callCellHooks(e,t.hooks.willDrawCell,d,r,c,n);if(h===!1){n.x+=c.width;continue}wI(e,d,n);var p=d.getTextPos();a3(d.text,p.x,p.y,{halign:d.styles.halign,valign:d.styles.valign,maxWidth:Math.ceil(d.width-d.padding("left")-d.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,d,r,c,n),n.x+=c.width}n.y+=r.height}function wI(e,t,r){var n=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=l3(n.lineWidth,n.fillColor);a&&e.rect(t.x,r.y,t.width,t.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&e.rect(t.x,r.y,t.width,t.height,"F"),SI(e,t,r,n.lineWidth))}function SI(e,t,r,n){var a,i,l,c;n.top&&(a=r.x,i=r.y,l=r.x+t.width,c=r.y,n.right&&(l+=.5*n.right),n.left&&(a-=.5*n.left),d(n.top,a,i,l,c)),n.bottom&&(a=r.x,i=r.y+t.height,l=r.x+t.width,c=r.y+t.height,n.right&&(l+=.5*n.right),n.left&&(a-=.5*n.left),d(n.bottom,a,i,l,c)),n.left&&(a=r.x,i=r.y,l=r.x,c=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(c+=.5*n.bottom),d(n.left,a,i,l,c)),n.right&&(a=r.x+t.width,i=r.y,l=r.x+t.width,c=r.y+t.height,n.top&&(i-=.5*n.top),n.bottom&&(c+=.5*n.bottom),d(n.right,a,i,l,c));function d(h,p,f,b,g){e.getDocument().setLineWidth(h),e.getDocument().line(p,f,b,g,"S")}}function x3(e,t,r,n){var a=t.settings.margin.bottom,i=t.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=t.getFootHeight(t.columns)),e.pageSize().height-n.y-a}function R0(e,t,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),e.applyStyles(e.userStyles),t.settings.showFoot==="everyPage"&&!i&&t.foot.forEach(function(c){return du(e,t,c,n,a)}),t.callEndPageHooks(e,n);var l=t.settings.margin;o3(e,t,r,n),v3(e),t.pageNumber++,n.x=l.left,n.y=l.top,r.y=l.top,t.callWillDrawPageHooks(e,n),t.settings.showHead==="everyPage"&&(t.head.forEach(function(c){return du(e,t,c,n,a)}),e.applyStyles(e.userStyles))}function v3(e){var t=e.pageNumber();e.setPage(t+1);var r=e.pageNumber();return r===t?(e.addPage(),!0):!1}function NI(e){e.API.autoTable=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t[0],a=h3(this,n),i=m3(this,a);return g3(this,i),this},e.API.lastAutoTable=!1,e.API.autoTableText=function(t,r,n,a){a3(t,r,n,a,this)},e.API.autoTableSetDefaults=function(t){return Bh.setDefaults(t,this),this},e.autoTableSetDefaults=function(t,r){Bh.setDefaults(t,r)},e.API.autoTableHtmlToJson=function(t,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Bh(this),i=d3(a,t,window,r,!1),l=i.head,c=i.body,d=((n=l[0])===null||n===void 0?void 0:n.map(function(h){return h.content}))||[];return{columns:d,rows:c,data:c}}}var Yg;function jI(e,t){var r=h3(e,t),n=m3(e,r);g3(e,n)}try{if(typeof window<"u"&&window){var A_=window,C_=A_.jsPDF||((Yg=A_.jspdf)===null||Yg===void 0?void 0:Yg.jsPDF);C_&&NI(C_)}}catch(e){console.error("Could not apply autoTable plugin",e)}async function T_(e){const t=new Yt({orientation:"portrait",unit:"mm",format:"letter"}),r=t.internal.pageSize.getWidth(),n=15,a=[4,102,56],i=[245,245,245],l=[30,30,30],c=[100,100,100],d=[255,255,255],h=42;t.setFillColor(...a),t.rect(0,0,r,h,"F");const p=27,f=34;t.setFillColor(...d),t.roundedRect(n,4,p,f,1,1,"F"),t.setDrawColor(200,200,200),t.setLineWidth(.2),t.rect(n,4,p,f,"S"),t.setFontSize(6.5),t.setTextColor(...c),t.setFont("helvetica","normal"),t.text(`PEGAR FOTO
AQU`,n+p/2,18,{align:"center",lineHeightFactor:1.4}),t.setTextColor(255,255,255),t.setFontSize(14),t.setFont("helvetica","bold"),t.text("CENTRO DE BACHILLERATO TECNOLGICO",r/2+10,12,{align:"center"}),t.text("AGROPECUARIO No. 134",r/2+10,19,{align:"center"}),t.setFontSize(11),t.setFont("helvetica","normal"),t.text("FICHA DE PRE-REGISTRO DE NUEVO INGRESO",r/2+10,27,{align:"center"});const b=new Date().getFullYear();t.setFontSize(9.5),t.text(`Ciclo Escolar ${b}${b+1}`,r/2+10,34,{align:"center"});let g=h+6;t.setFillColor(...i),t.roundedRect(n,g,r-n*2,12,1.5,1.5,"F"),t.setFont("helvetica","bold"),t.setFontSize(11),t.setTextColor(...a),t.text(`FOLIO: ${e.folio}`,n+6,g+7.5),t.setFont("helvetica","normal"),t.setFontSize(9),t.setTextColor(...c);const S=new Date().toLocaleDateString("es-MX",{day:"2-digit",month:"long",year:"numeric"});t.text(`Fecha de emisin: ${S}`,r-n-6,g+7.5,{align:"right"}),g+=16;const y=(T,R)=>(t.setFillColor(...a),t.rect(n,R,r-n*2,7,"F"),t.setFillColor(212,175,55),t.rect(n,R,2,7,"F"),t.setFont("helvetica","bold"),t.setFontSize(9.5),t.setTextColor(255,255,255),t.text(T,n+5,R+5),R+8),N=(T,R)=>(jI(t,{body:T,startY:R,margin:{left:n,right:n},theme:"grid",styles:{fontSize:8.5,cellPadding:{top:1.2,bottom:1.2,left:3,right:3},textColor:l,lineColor:[220,220,220],lineWidth:.15},columnStyles:{0:{fontStyle:"bold",fillColor:[235,245,238],cellWidth:55},1:{cellWidth:"auto"}},alternateRowStyles:{fillColor:[252,254,252]}}),t.lastAutoTable.finalY+3);g=y("1. DATOS PERSONALES DEL ASPIRANTE",g),g=N([["Nombre Completo",`${e.nombre} ${e.apellido_paterno} ${e.apellido_materno}`.toUpperCase()],["CURP",e.curp],["Sexo",e.sexo],["Fecha de Nacimiento",e.fecha_nacimiento],["Telfono de Contacto",e.telefono],["Correo Electrnico",e.correo],["Estado Civil",e.estado_civil],["Lugar de Nacimiento",e.lugar_nacimiento],["Domicilio (Calle y N)",e.domicilio],["Colonia",e.colonia],["Municipio",e.municipio],["Cdigo Postal",e.codigo_postal]],g),g=y("2. CARRERAS TCNICAS SELECCIONADAS",g);const A=[["PRIMERA OPCIN",(e.carrera_nombre||"").toUpperCase()]];e.segunda_opcion_carrera&&A.push(["SEGUNDA OPCIN",e.segunda_opcion_carrera.toUpperCase()]),e.tercera_opcion_carrera&&A.push(["TERCERA OPCIN",e.tercera_opcion_carrera.toUpperCase()]),g=N(A,g),g=y("3. ESCUELA DE PROCEDENCIA",g),g=N([["Nombre de la Escuela",e.escuela_nombre],["Tipo de Subsistema",e.escuela_tipo],["Municipio de la Escuela",e.escuela_municipio],["Promedio General",`${e.promedio_general} / 10.0`]],g),g=y("4. DATOS DEL PADRE, MADRE O TUTOR LEGAL",g),g=N([["Nombre Completo",e.tutor_nombre],["Parentesco",e.tutor_parentesco],["CURP del Tutor",e.tutor_curp],["Ocupacin",e.tutor_ocupacion],["Grado Mximo de Estudios",e.tutor_grado_estudios],["Telfono de Contacto",e.tutor_telefono]],g);const P=t.internal.pageSize.getHeight();return t.setFillColor(...a),t.rect(0,P-12,r,12,"F"),t.setFontSize(8.5),t.setFont("helvetica","normal"),t.setTextColor(255,255,255),t.text("CBTa 134  Este documento no tiene validez oficial sin sello de la institucin y firmas originales.",r/2,P-6.5,{align:"center"}),t.setFontSize(7.5),t.text(`Folio de Pre-Registro: ${e.folio}`,n,P-3),t.text(`Documento generado el ${new Date().toLocaleDateString()}`,r-n,P-3,{align:"right"}),t.output("blob")}const EI=["Aguascalientes","Baja California","Baja California Sur","Campeche","Chiapas","Chihuahua","Ciudad de Mxico","Coahuila","Colima","Durango","Estado de Mxico","Guanajuato","Guerrero","Hidalgo","Jalisco","Michoacn","Morelos","Nayarit","Nuevo Len","Oaxaca","Puebla","Quertaro","Quintana Roo","San Luis Potos","Sinaloa","Sonora","Tabasco","Tamaulipas","Tlaxcala","Veracruz","Yucatn","Zacatecas"],kI=["Ama de casa","Agricultor/a","Albail","Artesano/a","Chofer","Comerciante","Docente","Empleado/a","Empleado/a de gobierno","Enfermero/a","Ganadero/a","Ingeniero/a","Mecnico/a","Mdico/a","Militar","Obrero/a","Pensionado/a","Profesionista","Servidor/a pblico","Trabajador/a independiente","Otro"],AI=["Sin estudios","Primaria incompleta","Primaria completa","Secundaria incompleta","Secundaria completa","Preparatoria/Bachillerato","Tcnico","Licenciatura","Posgrado"],CI=["Pblica","Privada","Indgena","Comunitaria"],TI=["Masculino","Femenino","Otro"],PI=["Soltero/a","Casado/a","Otro"],LI=["Padre","Madre","Tutor/a","Otro"];function b3(e=""){const t=e.toLowerCase();return t.includes("contab")||t.includes("admin")?"":t.includes("ofimtic")||t.includes("ofimatica")?"":t.includes("program")||t.includes("software")||t.includes("informtic")?"":t.includes("agropecuari")||t.includes("agrco")||t.includes("agricol")?"":t.includes("pecuari")||t.includes("ganader")?"":t.includes("aliment")?"":t.includes("electr")?"":t.includes("mecn")||t.includes("mecan")||t.includes("industrial")?"":""}const RI={nombre:"",apellido_paterno:"",apellido_materno:"",curp:"",sexo:"",fecha_nacimiento:"",correo:"",estado_civil:"",telefono:"",lugar_nacimiento:"",domicilio:"",colonia:"",municipio:"",codigo_postal:""},FI={carrera_nombre:"",segunda_opcion_carrera:"",tercera_opcion_carrera:""},OI={escuela_tipo:"",escuela_nombre:"",escuela_municipio:"",promedio_general:""},II={tutor_nombre:"",tutor_ocupacion:"",tutor_curp:"",tutor_grado_estudios:"",tutor_telefono:"",tutor_parentesco:""};function DI({setCurrentView:e}){var B;const[t,r]=U.useState(null),[n,a]=U.useState(1),[i,l]=U.useState(RI),[c,d]=U.useState(FI),[h,p]=U.useState(OI),[f,b]=U.useState(II),[g,S]=U.useState({}),[y,N]=U.useState(!0),[A,P]=U.useState(!1),[T,R]=U.useState(""),[q,te]=U.useState(null),[G,H]=U.useState([]),[M,re]=U.useState(null),[I,W]=U.useState({form_badge:"Nuevo Ingreso 20252026",form_titulo:"Pre-Registro de Aspirantes",form_subtitulo:"Completa tu pre-registro para obtener tu ficha de inscripcin. Es rpido y seguro.",form_titulo_paso1:" Datos del Aspirante",form_titulo_paso2:" Carrera Tcnica",form_desc_paso2:"Selecciona la carrera tcnica de tu preferencia. Considera tus intereses y vocacin.",form_titulo_paso3:" Escuela de Procedencia",form_desc_paso3:"Proporciona los datos de la secundaria de la que egresaste o ests por egresar.",form_titulo_paso4:" Datos del Tutor / Padre o Madre",form_desc_paso4:"Proporciona los datos de la persona responsable del aspirante.",form_titulo_paso5:" Confirmacin de Datos",form_desc_paso5:"Revisa que todos tus datos sean correctos antes de enviar.",exito_icono:"",exito_titulo:"Pre-Registro Exitoso!",exito_mensaje:"Tu pre-registro ha sido recibido. Guarda tu folio y descarga tu ficha.",exito_btn_pdf:" Descargar Ficha PDF",exito_btn_inicio:"Ir al Inicio",stepper_json:[{id:1,label:"Datos Personales",icon:""},{id:2,label:"Carrera",icon:""},{id:3,label:"Escuela Origen",icon:""},{id:4,label:"Datos del Tutor",icon:""},{id:5,label:"Confirmacin",icon:""}]}),ae=U.useRef(null);U.useEffect(()=>{const O=async Z=>{var pe;r(Z),(pe=Z==null?void 0:Z.user)!=null&&pe.email&&(l(be=>({...be,correo:Z.user.email})),await ge(Z.user.email))};ve.auth.getSession().then(({data:{session:Z},error:pe})=>{pe&&pe.name!=="AbortError"&&console.error("Error fetching session:",pe),O(Z).finally(()=>N(!1))}).catch(Z=>{Z.name!=="AbortError"&&console.error("Session promise error:",Z),N(!1)});const{data:{subscription:D}}=ve.auth.onAuthStateChange((Z,pe)=>{O(pe).then(()=>N(!1))});return()=>D.unsubscribe()},[]);const ge=async O=>{N(!0);try{const{data:D,error:Z}=await ve.from("preregistros").select("*").eq("correo",O).maybeSingle();if(D){re(D),R(D.folio);const pe=await T_(D);te(pe)}}catch(D){console.error("Error buscando registro previo:",D)}finally{N(!1)}},_e=async()=>{const{error:O}=await ve.auth.signInWithOAuth({provider:"google",options:{redirectTo:window.location.origin+"/preregistro/formulario"}});O&&alert("Error al iniciar sesin: "+O.message)},Le=async()=>{await ve.auth.signOut(),r(null),re(null),P(!1),a(1)};U.useEffect(()=>{(async()=>{const{data:D}=await ve.from("preregistro_config").select("form_badge, form_titulo, form_subtitulo, form_titulo_paso1, form_titulo_paso2, form_desc_paso2, form_titulo_paso3, form_desc_paso3, form_titulo_paso4, form_desc_paso4, form_titulo_paso5, form_desc_paso5, exito_icono, exito_titulo, exito_mensaje, exito_btn_pdf, exito_btn_inicio, stepper_json").eq("id",1).single();D&&W(Z=>({...Z,...Object.fromEntries(Object.entries(D).filter(([pe,be])=>be!=null&&be!=="")),stepper_json:D.stepper_json||Z.stepper_json}))})()},[]),U.useEffect(()=>{(async()=>{try{const{data:D,error:Z}=await ve.from("carreras_tecnicas").select("id, nombre, descripcion, imagen_url").order("nombre",{ascending:!0});D&&H(D.map(pe=>({...pe,icono:b3(pe.nombre),descripcion_corta:pe.descripcion?pe.descripcion.substring(0,100)+(pe.descripcion.length>100?"...":""):""})))}catch(D){console.error("Error fetching carreras:",D)}})()},[]);const Te=O=>D=>O(Z=>({...Z,[D.target.name]:D.target.value})),Q=()=>{const O={};return n===1&&(i.nombre.trim()||(O.nombre="Requerido"),i.apellido_paterno.trim()||(O.apellido_paterno="Requerido"),i.apellido_materno.trim()||(O.apellido_materno="Requerido"),i.curp.trim()?/^[A-Z]{4}\d{6}[HM][A-Z]{5}[A-Z0-9]\d$/.test(i.curp.toUpperCase())||(O.curp="CURP invlida"):O.curp="Requerido",i.sexo||(O.sexo="Requerido"),i.fecha_nacimiento||(O.fecha_nacimiento="Requerido"),i.correo.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i.correo)||(O.correo="Correo invlido"):O.correo="Requerido",i.estado_civil||(O.estado_civil="Requerido"),i.telefono.trim()?/^\d{10}$/.test(i.telefono)||(O.telefono="10 dgitos requeridos"):O.telefono="Requerido",i.lugar_nacimiento||(O.lugar_nacimiento="Requerido"),i.domicilio.trim()||(O.domicilio="Requerido"),i.colonia.trim()||(O.colonia="Requerido"),i.municipio||(O.municipio="Requerido"),i.codigo_postal.trim()?/^\d{5}$/.test(i.codigo_postal)||(O.codigo_postal="5 dgitos requeridos"):O.codigo_postal="Requerido"),n===2&&(c.carrera_nombre||(O.carrera_nombre="Selecciona tu primera opcin de carrera")),n===3&&(h.escuela_tipo||(O.escuela_tipo="Requerido"),h.escuela_nombre.trim()||(O.escuela_nombre="Requerido"),h.escuela_municipio||(O.escuela_municipio="Requerido"),h.promedio_general?(parseFloat(h.promedio_general)<0||parseFloat(h.promedio_general)>10)&&(O.promedio_general="Entre 0 y 10"):O.promedio_general="Requerido"),n===4&&(f.tutor_nombre.trim()||(O.tutor_nombre="Requerido"),f.tutor_ocupacion||(O.tutor_ocupacion="Requerido"),f.tutor_curp.trim()?/^[A-Z]{4}\d{6}[HM][A-Z]{5}[A-Z0-9]\d$/.test(f.tutor_curp.toUpperCase())||(O.tutor_curp="CURP invlida"):O.tutor_curp="Requerido",f.tutor_grado_estudios||(O.tutor_grado_estudios="Requerido"),f.tutor_telefono.trim()?/^\d{10}$/.test(f.tutor_telefono)||(O.tutor_telefono="10 dgitos requeridos"):O.tutor_telefono="Requerido",f.tutor_parentesco||(O.tutor_parentesco="Requerido")),S(O),Object.keys(O).length===0},ye=()=>{Q()&&(a(O=>Math.min(O+1,5)),window.scrollTo({top:0,behavior:"smooth"}))},je=()=>{S({}),a(O=>Math.max(O-1,1)),window.scrollTo({top:0,behavior:"smooth"})},oe=async()=>{N(!0);try{const O={...i,curp:i.curp.toUpperCase(),carrera_nombre:c.carrera_nombre,segunda_opcion_carrera:c.segunda_opcion_carrera||null,tercera_opcion_carrera:c.tercera_opcion_carrera||null,...h,promedio_general:parseFloat(h.promedio_general),...f,tutor_curp:f.tutor_curp.toUpperCase(),folio:""},{data:D,error:Z}=await ve.from("preregistros").insert([O]).select().single();if(Z)throw Z;const pe={...O,folio:D.folio,id:D.id},be=await T_(pe);te(be),R(D.folio),P(!0)}catch(O){console.error("Error al guardar:",O),alert(`Ocurri un error al guardar tu pre-registro. Intenta de nuevo.
`+O.message)}finally{N(!1)}},j=()=>{if(!q)return;const O=URL.createObjectURL(q),D=document.createElement("a");D.href=O,D.download=`Ficha_PreRegistro_${T}.pdf`,D.click(),URL.revokeObjectURL(O)};return y&&!t?s.jsx("div",{className:"prereg-wrapper",style:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"60vh"},children:s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("div",{className:"loader",style:{marginBottom:"1rem"}}),s.jsx("p",{children:"Verificando identidad..."})]})}):t?A||M?s.jsxs("div",{className:"bg-background-light min-h-screen flex flex-col font-sans transition-colors duration-500 overflow-x-hidden",children:[s.jsxs("header",{className:"w-full pt-16 pb-12 px-6 text-center relative",children:[s.jsx("div",{className:"absolute top-0 left-1/2 -translate-x-1/2 w-full h-96 bg-gradient-to-b from-emerald-50/50 to-transparent -z-10 animate-gradient-flow"}),s.jsx("div",{className:"mb-6 inline-flex items-center justify-center w-24 h-24 bg-white rounded-[32px] text-5xl shadow-2xl border border-emerald-50 animate-pulse-icon",children:""}),s.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold text-slate-900 tracking-tight mb-4",children:["Hola de nuevo, ",s.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-emerald-600 to-teal-500 font-black",children:"aspirante"}),"!"]}),s.jsx("p",{className:"text-lg text-slate-500 mb-10 max-w-2xl mx-auto font-medium",children:"Tu proceso de pre-registro est casi listo. Sigue estos pasos para finalizar satisfactoriamente."}),s.jsxs("div",{className:"relative group inline-flex items-center gap-4 bg-white px-8 py-4 rounded-[28px] border border-emerald-100 shadow-2xl shadow-emerald-900/10",children:[s.jsxs("div",{className:"flex flex-col items-start",children:[s.jsx("span",{className:"text-[10px] font-black text-emerald-600 uppercase tracking-[0.2em] mb-1",children:"Folio de Aspirante"}),s.jsx("span",{className:"text-xl md:text-2xl font-mono font-black text-slate-800 tracking-wider",children:T})]}),s.jsx("div",{className:"w-px h-10 bg-slate-100 mx-2"}),s.jsx("div",{className:"flex items-center gap-2 text-emerald-600",children:s.jsx("span",{className:"material-symbols-outlined font-bold text-3xl",children:"verified"})})]})]}),s.jsx("main",{className:"flex-grow w-full max-w-7xl mx-auto px-6 pb-24",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-10",children:[s.jsxs("div",{className:"instruction-card relative group bg-white p-8 md:p-10 rounded-[40px] border border-slate-100 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50/50 to-white opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),s.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-all duration-700 -rotate-12 translate-x-4",children:s.jsx("span",{className:"material-symbols-outlined text-[150px]",children:"download"})}),s.jsx("div",{className:"glow-effect absolute inset-0 opacity-0 bg-[radial-gradient(circle_at_50%_0%,rgba(16,185,129,0.08),transparent_70%)] pointer-events-none"}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[s.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 bg-primary text-white rounded-2xl flex items-center justify-center font-black text-xl shadow-lg shadow-emerald-900/20",children:"1"}),s.jsxs("div",{className:"relative mb-10",children:[s.jsx("div",{className:"absolute inset-0 bg-emerald-400/20 rounded-full blur-3xl group-hover:bg-emerald-400/40 transition-all duration-700 animate-wave"}),s.jsxs("div",{className:"relative w-32 h-32 bg-white rounded-full flex items-center justify-center shadow-inner border border-emerald-50/50 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-emerald-50 to-transparent opacity-50"}),s.jsx("div",{className:"animate-3d",children:s.jsx("span",{className:"material-symbols-outlined text-6xl text-emerald-600 animate-pulse-icon",children:"file_download"})})]}),s.jsx("div",{className:"absolute -top-2 -right-2 w-4 h-4 bg-emerald-400 rounded-full animate-float-particle opacity-40"})]}),s.jsx("h3",{className:"text-2xl font-extrabold text-slate-800 mb-4",children:"Descarga tu ficha"}),s.jsx("p",{className:"text-slate-500 leading-relaxed font-medium",children:"Obtn tu comprobante oficial en formato PDF. Es el documento ms importante de esta etapa."})]})]}),s.jsxs("div",{className:"instruction-card relative group bg-white p-8 md:p-10 rounded-[40px] border border-slate-100 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50/50 to-white opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),s.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-all duration-700 rotate-12 translate-x-4",children:s.jsx("span",{className:"material-symbols-outlined text-[150px]",children:"print"})}),s.jsx("div",{className:"glow-effect absolute inset-0 opacity-0 bg-[radial-gradient(circle_at_50%_0%,rgba(16,185,129,0.08),transparent_70%)] pointer-events-none"}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[s.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 bg-primary text-white rounded-2xl flex items-center justify-center font-black text-xl shadow-lg shadow-emerald-900/20",children:"2"}),s.jsxs("div",{className:"relative mb-10",children:[s.jsx("div",{className:"absolute inset-0 bg-emerald-400/20 rounded-full blur-3xl group-hover:bg-emerald-400/40 transition-all duration-700 animate-wave",style:{animationDelay:"-3s"}}),s.jsxs("div",{className:"relative w-32 h-32 bg-white rounded-full flex items-center justify-center shadow-inner border border-emerald-50/50 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-emerald-50 to-transparent opacity-50"}),s.jsxs("div",{className:"relative animate-3d",style:{animationDelay:"-1s"},children:[s.jsx("span",{className:"material-symbols-outlined text-6xl text-emerald-600",children:"print"}),s.jsx("div",{className:"absolute -bottom-2 left-1/2 -translate-x-1/2 w-8 h-5 bg-emerald-100 rounded-sm animate-paper border-x border-emerald-300"})]})]})]}),s.jsx("h3",{className:"text-2xl font-extrabold text-slate-800 mb-4",children:"Imprime 2 veces"}),s.jsx("p",{className:"text-slate-500 leading-relaxed font-medium",children:"Prepara dos copias fsicas legibles del documento para su entrega."})]})]}),s.jsxs("div",{className:"instruction-card relative group bg-white p-8 md:p-10 rounded-[40px] border border-slate-100 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-50/50 to-white opacity-0 group-hover:opacity-100 transition-opacity duration-700"}),s.jsx("div",{className:"absolute top-0 right-0 p-8 opacity-10 group-hover:opacity-20 transition-all duration-700 -rotate-6 translate-x-4",children:s.jsx("span",{className:"material-symbols-outlined text-[150px]",children:"apartment"})}),s.jsx("div",{className:"glow-effect absolute inset-0 opacity-0 bg-[radial-gradient(circle_at_50%_0%,rgba(16,185,129,0.08),transparent_70%)] pointer-events-none"}),s.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center",children:[s.jsx("div",{className:"absolute -top-4 -left-4 w-12 h-12 bg-primary text-white rounded-2xl flex items-center justify-center font-black text-xl shadow-lg shadow-emerald-900/20",children:"3"}),s.jsxs("div",{className:"relative mb-10",children:[s.jsx("div",{className:"absolute inset-0 bg-emerald-400/20 rounded-full blur-3xl group-hover:bg-emerald-400/40 transition-all duration-700 animate-wave",style:{animationDelay:"-5s"}}),s.jsxs("div",{className:"relative w-32 h-32 bg-white rounded-full flex items-center justify-center shadow-inner border border-emerald-50/50 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-tr from-emerald-50 to-transparent opacity-50"}),s.jsx("div",{className:"animate-3d",style:{animationDelay:"-2s"},children:s.jsx("span",{className:"material-symbols-outlined text-6xl text-emerald-600 animate-pulse-icon",children:"account_balance"})})]})]}),s.jsx("h3",{className:"text-2xl font-extrabold text-slate-800 mb-4",children:"Acude a ventanilla"}),s.jsx("p",{className:"text-slate-500 leading-relaxed font-medium",children:"Visita el rea de Servicios Escolares con tus documentos originales para el cotejo final."})]})]})]})}),s.jsx("footer",{className:"sticky bottom-0 w-full bg-white/60 backdrop-blur-2xl border-t border-emerald-50 py-6 px-8 z-40",children:s.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between gap-6",children:[s.jsxs("div",{className:"hidden lg:flex items-center gap-4",children:[s.jsx("div",{className:"w-10 h-10 bg-emerald-600 rounded-xl flex items-center justify-center text-white shadow-lg",children:s.jsx("span",{className:"material-symbols-outlined",children:"school"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-[10px] font-black text-slate-400 uppercase tracking-widest mb-0.5",children:"Institucin"}),s.jsx("p",{className:"text-sm font-bold text-slate-700",children:"CBTA No. 134 - Control Escolar"})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-auto",children:[s.jsxs("button",{onClick:j,disabled:!q,className:"relative group overflow-hidden flex items-center justify-center gap-3 bg-emerald-600 hover:bg-emerald-700 disabled:opacity-50 text-white font-black py-4 px-8 rounded-2xl transition-all shadow-lg active:scale-95 text-lg",children:[s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/0 via-white/20 to-white/0 -translate-x-full group-hover:translate-x-full transition-transform duration-1000 ease-in-out"}),s.jsx("span",{className:"material-symbols-outlined text-2xl",children:"download_for_offline"}),s.jsx("span",{children:q?"Descargar Mi Ficha":"Generando..."})]}),s.jsxs("button",{onClick:()=>e&&e("home"),className:"flex items-center justify-center gap-3 bg-slate-100 text-slate-700 hover:bg-slate-200 font-bold py-4 px-8 rounded-2xl transition-all active:scale-95 text-lg border border-slate-200",children:[s.jsx("span",{className:"material-symbols-outlined text-2xl",children:"logout"}),s.jsx("span",{children:"Finalizar"})]})]}),s.jsx("div",{className:"text-center md:text-right",children:s.jsxs("button",{onClick:Le,className:"group flex items-center justify-center md:justify-end gap-2 text-xs font-bold text-slate-400 hover:text-emerald-600 transition-colors",children:[s.jsx("span",{className:"material-symbols-outlined text-base",children:"person"}),s.jsxs("span",{className:"border-b border-transparent group-hover:border-emerald-500/30 pb-0.5 transition-all",children:["Cerrar sesin de ",(B=t==null?void 0:t.user)==null?void 0:B.email]})]})})]})})]}):s.jsxs("div",{className:"prereg-wrapper",ref:ae,children:[s.jsx("div",{className:"prereg-hero",children:s.jsxs("div",{className:"prereg-hero__content",children:[s.jsx("span",{className:"prereg-hero__badge",children:I.form_badge}),s.jsx("h1",{className:"prereg-hero__title",children:I.form_titulo}),s.jsx("p",{className:"prereg-hero__subtitle",children:I.form_subtitulo})]})}),s.jsx("div",{className:"prereg-stepper",children:(I.stepper_json||[]).map(O=>s.jsxs("div",{className:`prereg-step ${n===O.id?"active":""} ${n>O.id?"done":""}`,children:[s.jsx("div",{className:"prereg-step__circle",children:n>O.id?"":O.icon}),s.jsx("span",{className:"prereg-step__label",children:O.label})]},O.id))}),s.jsxs("div",{className:"prereg-form-container",children:[n===1&&s.jsx(BI,{data:i,onChange:Te(l),errors:g,cfg:I}),n===2&&s.jsx(MI,{data:c,onChange:Te(d),errors:g,carreras:G,cfg:I}),n===3&&s.jsx(UI,{data:h,onChange:Te(p),errors:g,cfg:I}),n===4&&s.jsx($I,{data:f,onChange:Te(b),errors:g,cfg:I}),n===5&&s.jsx(zI,{aspirante:i,carrera:c,escuela:h,tutor:f,cfg:I}),s.jsxs("div",{className:"prereg-nav",children:[n>1&&s.jsx("button",{className:"btn-secondary",onClick:je,disabled:y,children:" Anterior"}),n<5&&s.jsx("button",{className:"btn-primary",onClick:ye,children:"Siguiente "}),n===5&&s.jsx("button",{className:"btn-success",onClick:oe,disabled:y,children:y?" Guardando...":" Enviar Pre-Registro"})]})]})]}):s.jsxs("div",{className:"prereg-wrapper",children:[s.jsx("div",{className:"prereg-hero",children:s.jsxs("div",{className:"prereg-hero__content",children:[s.jsx("span",{className:"prereg-hero__badge",children:I.form_badge}),s.jsx("h1",{className:"prereg-hero__title",children:I.form_titulo}),s.jsx("p",{className:"prereg-hero__subtitle",children:I.form_subtitulo})]})}),s.jsxs("div",{className:"prereg-form-container",style:{textAlign:"center",padding:"4rem 2rem"},children:[s.jsx("div",{style:{fontSize:"4rem",marginBottom:"1.5rem"},children:""}),s.jsx("h2",{style:{marginBottom:"1rem",color:"#2c3e50"},children:"Identificacin de Aspirante"}),s.jsx("p",{style:{marginBottom:"2rem",opacity:.8,maxWidth:"500px",margin:"0 auto 2rem",color:"#5f6368"},children:"Para iniciar tu proceso de pre-registro o **recuperar un folio anterior**, es necesario ingresar con tu cuenta de correo personal."}),s.jsxs("button",{onClick:_e,className:"btn-primary",style:{display:"flex",alignItems:"center",gap:"12px",margin:"0 auto",padding:"12px 28px",background:"#fff",color:"#3c4043",border:"1px solid #dadce0",borderRadius:"24px",fontSize:"1rem",fontWeight:"500",boxShadow:"0 1px 3px rgba(60,64,67,0.3)",cursor:"pointer",transition:"background-color .2s,box-shadow .2s"},children:[s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/c/c1/Google_%22G%22_logo.svg",alt:"Google",style:{width:"20px"}}),s.jsx("span",{children:"Continuar con Google"})]}),s.jsxs("div",{style:{marginTop:"3.5rem",padding:"1.5rem",background:"#f8f9fa",borderRadius:"1rem",maxWidth:"450px",margin:"3.5rem auto 0",border:"1px dashed #dee2e6"},children:[s.jsx("h4",{style:{margin:"0 0 0.5rem 0",color:"#1a73e8",fontSize:"0.9rem"},children:" Recuperacin Automtica"}),s.jsx("p",{style:{fontSize:"0.85rem",color:"#5f6368",margin:0,lineHeight:"1.5"},children:"Si ya completaste tu pre-registro anteriormente, al iniciar sesin vers directamente tu folio y el botn para descargar tu ficha PDF nuevamente."})]})]})]})}function BI({data:e,onChange:t,errors:r,cfg:n}){return s.jsxs("div",{className:"prereg-section",children:[s.jsx("h2",{className:"prereg-section__title",children:n.form_titulo_paso1}),s.jsxs("div",{className:"form-grid form-grid--3",children:[s.jsx(Zi,{label:"Nombre(s)",name:"nombre",value:e.nombre,onChange:t,error:r.nombre,required:!0}),s.jsx(Zi,{label:"Apellido Paterno",name:"apellido_paterno",value:e.apellido_paterno,onChange:t,error:r.apellido_paterno,required:!0}),s.jsx(Zi,{label:"Apellido Materno",name:"apellido_materno",value:e.apellido_materno,onChange:t,error:r.apellido_materno,required:!0})]}),s.jsxs("div",{className:"form-grid form-grid--2",children:[s.jsx(Zi,{label:"CURP",name:"curp",value:e.curp,onChange:t,error:r.curp,required:!0,placeholder:"XXXX000000XXXXXXXX",maxLength:18,onInput:a=>a.target.value=a.target.value.toUpperCase()}),s.jsx(Ic,{label:"Sexo",name:"sexo",value:e.sexo,onChange:t,error:r.sexo,required:!0,options:TI,placeholder:"-- Selecciona tu sexo --"})]}),s.jsxs("div",{className:"form-grid form-grid--2",children:[s.jsx(Zi,{label:"Fecha de Nacimiento",name:"fecha_nacimiento",type:"date",value:e.fecha_nacimiento,onChange:t,error:r.fecha_nacimiento,required:!0}),s.jsx(Ic,{label:"Estado Civil",name:"estado_civil",value:e.estado_civil,onChange:t,error:r.estado_civil,required:!0,options:PI,placeholder:"-- Selecciona --"})]}),s.jsxs("div",{className:"form-grid form-grid--2",children:[s.jsx(Zi,{label:"Correo Electrnico Verified (Google)",name:"correo",type:"email",value:e.correo,onChange:t,error:r.correo,required:!0,readOnly:!0}),s.jsx(Zi,{label:"Telfono (10 dgitos)",name:"telefono",type:"tel",value:e.telefono,onChange:t,error:r.telefono,required:!0,maxLength:10,placeholder:"5512345678"})]}),s.jsx(Ic,{label:"Lugar de Nacimiento (Estado)",name:"lugar_nacimiento",value:e.lugar_nacimiento,onChange:t,error:r.lugar_nacimiento,required:!0,options:EI,placeholder:"-- Selecciona tu estado de nacimiento --"}),s.jsx("h3",{className:"prereg-section__subtitle",children:" Domicilio Actual"}),s.jsx(Zi,{label:"Domicilio (calle y nmero)",name:"domicilio",value:e.domicilio,onChange:t,error:r.domicilio,required:!0,placeholder:"Calle Ejemplo #123"}),s.jsxs("div",{className:"form-grid form-grid--3",children:[s.jsx(Zi,{label:"Colonia",name:"colonia",value:e.colonia,onChange:t,error:r.colonia,required:!0}),s.jsx(Zi,{label:"Municipio",name:"municipio",value:e.municipio,onChange:t,error:r.municipio,required:!0,placeholder:"Escribe tu municipio"}),s.jsx(Zi,{label:"Cdigo Postal",name:"codigo_postal",value:e.codigo_postal,onChange:t,error:r.codigo_postal,required:!0,maxLength:5,placeholder:"12345"})]})]})}function MI({data:e,onChange:t,errors:r,carreras:n,cfg:a}){const i=n.filter(c=>c.nombre!==e.carrera_nombre),l=n.filter(c=>c.nombre!==e.carrera_nombre&&c.nombre!==e.segunda_opcion_carrera);return s.jsxs("div",{className:"prereg-section",children:[s.jsx("h2",{className:"prereg-section__title",children:a.form_titulo_paso2}),s.jsx("p",{className:"prereg-section__desc",children:a.form_desc_paso2}),s.jsxs("h3",{className:"prereg-section__subtitle",style:{marginTop:"0.5rem"},children:[" Primera Opcin de Carrera ",s.jsx("span",{className:"required",children:"*"})]}),s.jsx("div",{className:"carrera-cards",children:n.map(c=>s.jsxs("label",{className:`carrera-card ${e.carrera_nombre===c.nombre?"selected":""}`,children:[s.jsx("input",{type:"radio",name:"carrera_nombre",value:c.nombre,checked:e.carrera_nombre===c.nombre,onChange:d=>{t(d),e.segunda_opcion_carrera===d.target.value&&t({target:{name:"segunda_opcion_carrera",value:""}}),e.tercera_opcion_carrera===d.target.value&&t({target:{name:"tercera_opcion_carrera",value:""}})},hidden:!0}),s.jsx("div",{className:"carrera-card__icon",children:c.imagen_url?s.jsx("img",{src:c.imagen_url,alt:c.nombre,style:{width:"40px",height:"40px",objectFit:"cover",borderRadius:"8px"}}):c.icono||b3(c.nombre)}),s.jsx("div",{className:"carrera-card__name",children:c.nombre}),c.descripcion_corta&&s.jsx("div",{className:"carrera-card__desc",children:c.descripcion_corta})]},c.nombre))}),r.carrera_nombre&&s.jsx("span",{className:"field-error",children:r.carrera_nombre}),s.jsx("div",{style:{marginTop:"1.5rem"},children:s.jsx(Ic,{label:"O selecciona desde el men desplegable",name:"carrera_nombre",value:e.carrera_nombre,onChange:t,error:null,options:n.map(c=>c.nombre),placeholder:"-- Selecciona tu 1 opcin --"})}),s.jsxs("div",{style:{marginTop:"2.5rem",padding:"1.5rem",background:"rgba(59,130,246,0.05)",borderRadius:"1rem",border:"1px dashed rgba(59,130,246,0.3)"},children:[s.jsxs("h3",{className:"prereg-section__subtitle",style:{margin:"0 0 0.5rem 0"},children:[" Segunda Opcin de Carrera ",s.jsx("span",{style:{fontSize:"0.75rem",opacity:.6,fontWeight:"normal"},children:"(opcional)"})]}),s.jsx("p",{style:{fontSize:"0.85rem",opacity:.7,marginBottom:"1rem"},children:"En caso de no haber cupo en tu primera opcin, se considerar esta alternativa."}),s.jsx(Ic,{label:"Segunda opcin de carrera",name:"segunda_opcion_carrera",value:e.segunda_opcion_carrera,onChange:c=>{t(c),e.tercera_opcion_carrera===c.target.value&&t({target:{name:"tercera_opcion_carrera",value:""}})},error:null,options:i.map(c=>c.nombre),placeholder:"-- Selecciona tu 2 opcin (opcional) --"})]}),s.jsxs("div",{style:{marginTop:"1rem",padding:"1.5rem",background:"rgba(168,85,247,0.05)",borderRadius:"1rem",border:"1px dashed rgba(168,85,247,0.3)"},children:[s.jsxs("h3",{className:"prereg-section__subtitle",style:{margin:"0 0 0.5rem 0"},children:[" Tercera Opcin de Carrera ",s.jsx("span",{style:{fontSize:"0.75rem",opacity:.6,fontWeight:"normal"},children:"(opcional)"})]}),s.jsx("p",{style:{fontSize:"0.85rem",opacity:.7,marginBottom:"1rem"},children:"Otra alternativa en caso de que no haya disponibilidad en las dos primeras opciones."}),s.jsx(Ic,{label:"Tercera opcin de carrera",name:"tercera_opcion_carrera",value:e.tercera_opcion_carrera,onChange:t,error:null,options:l.map(c=>c.nombre),placeholder:"-- Selecciona tu 3 opcin (opcional) --"})]})]})}function UI({data:e,onChange:t,errors:r,cfg:n}){return s.jsxs("div",{className:"prereg-section",children:[s.jsx("h2",{className:"prereg-section__title",children:n.form_titulo_paso3}),s.jsx("p",{className:"prereg-section__desc",children:n.form_desc_paso3}),s.jsxs("div",{className:"form-grid form-grid--2",children:[s.jsx(Ic,{label:"Tipo de Escuela",name:"escuela_tipo",value:e.escuela_tipo,onChange:t,error:r.escuela_tipo,required:!0,options:CI,placeholder:"-- Selecciona el tipo --"}),s.jsx(Zi,{label:"Nombre de la Escuela",name:"escuela_nombre",value:e.escuela_nombre,onChange:t,error:r.escuela_nombre,required:!0,placeholder:"Ej. Sec. Tec. No. 5"})]}),s.jsxs("div",{className:"form-grid form-grid--2",children:[s.jsx(Zi,{label:"Municipio de la Escuela",name:"escuela_municipio",value:e.escuela_municipio,onChange:t,error:r.escuela_municipio,required:!0,placeholder:"Escribe el municipio"}),s.jsx(Zi,{label:"Promedio General (0  10)",name:"promedio_general",type:"number",value:e.promedio_general,onChange:t,error:r.promedio_general,required:!0,min:0,max:10,step:.1,placeholder:"8.5"})]})]})}function $I({data:e,onChange:t,errors:r,cfg:n}){return s.jsxs("div",{className:"prereg-section",children:[s.jsx("h2",{className:"prereg-section__title",children:n.form_titulo_paso4}),s.jsx("p",{className:"prereg-section__desc",children:n.form_desc_paso4}),s.jsxs("div",{className:"form-grid form-grid--2",children:[s.jsx(Zi,{label:"Nombre Completo del Tutor",name:"tutor_nombre",value:e.tutor_nombre,onChange:t,error:r.tutor_nombre,required:!0}),s.jsx(Ic,{label:"Parentesco",name:"tutor_parentesco",value:e.tutor_parentesco,onChange:t,error:r.tutor_parentesco,required:!0,options:LI,placeholder:"-- Selecciona parentesco --"})]}),s.jsxs("div",{className:"form-grid form-grid--2",children:[s.jsx(Zi,{label:"CURP del Tutor",name:"tutor_curp",value:e.tutor_curp,onChange:t,error:r.tutor_curp,required:!0,placeholder:"XXXX000000XXXXXXXX",maxLength:18,onInput:a=>a.target.value=a.target.value.toUpperCase()}),s.jsx(Ic,{label:"Ocupacin",name:"tutor_ocupacion",value:e.tutor_ocupacion,onChange:t,error:r.tutor_ocupacion,required:!0,options:kI,placeholder:"-- Selecciona ocupacin --"})]}),s.jsxs("div",{className:"form-grid form-grid--2",children:[s.jsx(Ic,{label:"ltimo Grado de Estudios",name:"tutor_grado_estudios",value:e.tutor_grado_estudios,onChange:t,error:r.tutor_grado_estudios,required:!0,options:AI,placeholder:"-- Selecciona grado de estudios --"}),s.jsx(Zi,{label:"Telfono del Tutor (10 dgitos)",name:"tutor_telefono",type:"tel",value:e.tutor_telefono,onChange:t,error:r.tutor_telefono,required:!0,maxLength:10,placeholder:"5512345678"})]})]})}function zI({aspirante:e,carrera:t,escuela:r,tutor:n,cfg:a}){var l,c;const i=[{label:"Nombre Completo",value:`${e.nombre} ${e.apellido_paterno} ${e.apellido_materno}`},{label:"CURP",value:(l=e.curp)==null?void 0:l.toUpperCase()},{label:"Sexo",value:e.sexo},{label:"Fecha de Nacimiento",value:e.fecha_nacimiento},{label:"Correo",value:e.correo},{label:"Estado Civil",value:e.estado_civil},{label:"Telfono",value:e.telefono},{label:"Lugar de Nacimiento",value:e.lugar_nacimiento},{label:"Domicilio",value:`${e.domicilio}, Col. ${e.colonia}, ${e.municipio}, C.P. ${e.codigo_postal}`},{label:" CARRERA ",value:""},{label:"1 Opcin de Carrera",value:t.carrera_nombre},...t.segunda_opcion_carrera?[{label:"2 Opcin de Carrera",value:t.segunda_opcion_carrera}]:[],...t.tercera_opcion_carrera?[{label:"3 Opcin de Carrera",value:t.tercera_opcion_carrera}]:[],{label:" ESCUELA ",value:""},{label:"Tipo de Escuela",value:r.escuela_tipo},{label:"Escuela",value:r.escuela_nombre},{label:"Municipio Escuela",value:r.escuela_municipio},{label:"Promedio General",value:r.promedio_general},{label:" TUTOR ",value:""},{label:"Tutor",value:`${n.tutor_nombre} (${n.tutor_parentesco})`},{label:"CURP Tutor",value:(c=n.tutor_curp)==null?void 0:c.toUpperCase()},{label:"Ocupacin",value:n.tutor_ocupacion},{label:"Grado de Estudios",value:n.tutor_grado_estudios},{label:"Telfono Tutor",value:n.tutor_telefono}];return s.jsxs("div",{className:"prereg-section",children:[s.jsx("h2",{className:"prereg-section__title",children:a.form_titulo_paso5}),s.jsxs("p",{className:"prereg-section__desc",children:[a.form_desc_paso5," ","Al hacer clic en ",s.jsx("strong",{children:'"Enviar Pre-Registro"'})," se generar tu ficha en PDF."]}),s.jsx("div",{className:"confirm-table",children:i.map((d,h)=>d.label.startsWith("")?s.jsx("div",{className:"confirm-table__header",children:d.label.replace(//g,"").trim()},h):s.jsxs("div",{className:"confirm-table__row",children:[s.jsxs("span",{className:"confirm-table__label",children:[d.label,":"]}),s.jsx("span",{className:"confirm-table__value",children:d.value||""})]},h))})]})}function Zi({label:e,name:t,value:r,onChange:n,error:a,required:i,type:l="text",placeholder:c,maxLength:d,min:h,max:p,step:f,onInput:b}){return s.jsxs("div",{className:"form-field",children:[s.jsxs("label",{className:"form-label",children:[e," ",i&&s.jsx("span",{className:"required",children:"*"})]}),s.jsx("input",{className:`form-input ${a?"input-error":""}`,type:l,name:t,value:r,onChange:n,onInput:b,placeholder:c,maxLength:d,min:h,max:p,step:f,autoComplete:"off"}),a&&s.jsx("span",{className:"field-error",children:a})]})}function Ic({label:e,name:t,value:r,onChange:n,error:a,required:i,options:l,placeholder:c}){return s.jsxs("div",{className:"form-field",children:[s.jsxs("label",{className:"form-label",children:[e," ",i&&s.jsx("span",{className:"required",children:"*"})]}),s.jsxs("select",{className:`form-input form-select ${a?"input-error":""}`,name:t,value:r,onChange:n,children:[s.jsx("option",{value:"",children:c||"-- Selecciona --"}),l.map(d=>s.jsx("option",{value:d,children:d},d))]}),a&&s.jsx("span",{className:"field-error",children:a})]})}function qI(e=""){const t=e.toLowerCase();return t.includes("contab")||t.includes("admin")?"":t.includes("ofimtic")||t.includes("ofimatica")?"":t.includes("program")||t.includes("software")||t.includes("informtic")?"":t.includes("agropecuari")||t.includes("agrco")||t.includes("agricol")?"":t.includes("pecuari")||t.includes("ganader")?"":t.includes("aliment")?"":t.includes("electr")?"":t.includes("mecn")||t.includes("mecan")||t.includes("industrial")?"":""}function Xg(){const e=td(),[t,r]=U.useState({dias:0,horas:0,minutos:0,segundos:0}),[n,a]=U.useState(null),[i,l]=U.useState(!0),[c,d]=U.useState([]),[h,p]=U.useState([]),[f,b]=U.useState([]),[g,S]=U.useState(null),[y,N]=U.useState(null);U.useEffect(()=>{const D=async()=>{try{const{data:be,error:Se}=await ve.from("preregistro_config").select("*").eq("id",1).single();be&&a(be)}catch(be){console.error("Error fetching preregistro config:",be)}finally{l(!1)}},Z=async()=>{try{const{data:be,error:Se}=await ve.from("carreras_tecnicas").select("id, nombre, descripcion, imagen_url");be&&be.length>0?d(be.map(Ee=>({...Ee,icono:qI(Ee.nombre),descripcion_corta:Ee.descripcion?Ee.descripcion.substring(0,120)+(Ee.descripcion.length>120?"...":""):Ee.nombre}))):d([{icono:"",nombre:"Tcnico en Contabilidad",descripcion_corta:"Finanzas, contabilidad y administracin."},{icono:"",nombre:"Tcnico en Ofimtica",descripcion_corta:"Herramientas digitales y productividad."},{icono:"",nombre:"Tcnico en Programacin",descripcion_corta:"Desarrollo de software y apps."},{icono:"",nombre:"Tcnico Agropecuario",descripcion_corta:"Produccin agrcola sustentable."},{icono:"",nombre:"Tcnico en Sistemas de Prod. Pecuaria",descripcion_corta:"Ganadera y produccin animal."}])}catch(be){console.error("Error fetching carreras:",be)}},pe=async()=>{try{const{data:be}=await ve.from("admission_dates").select("*").order("order_index",{ascending:!0}),{data:Se}=await ve.from("admission_requirements").select("*").order("order_index",{ascending:!0}),{data:Ee}=await ve.from("admission_contact").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:Ye}=await ve.from("contact_location").select("*").order("created_at",{ascending:!1}).limit(1).single();be&&p(be),Se&&b(Se),Ee&&S(Ee),Ye&&N(Ye)}catch(be){console.error("Error fetching admission data:",be)}};D(),Z(),pe()},[]),U.useEffect(()=>{if(!(n!=null&&n.fecha_cierre))return;const D=new Date(n.fecha_cierre),Z=()=>{const be=D-new Date;be>0?r({dias:Math.floor(be/864e5),horas:Math.floor(be%864e5/36e5),minutos:Math.floor(be%36e5/6e4),segundos:Math.floor(be%6e4/1e3)}):r({dias:0,horas:0,minutos:0,segundos:0})};Z();const pe=setInterval(Z,1e3);return()=>clearInterval(pe)},[n]);const A=()=>e("/preregistro/formulario");if(i)return s.jsx("div",{className:"prl-page",children:s.jsx("div",{className:"prl-section-header",children:s.jsx("h2",{children:"Cargando..."})})});if(n&&!n.habilitado)return s.jsx("div",{className:"prl-page",children:s.jsxs("section",{className:"prl-hero",children:[s.jsx("div",{className:"prl-hero__bg","aria-hidden":"true"}),s.jsxs("div",{className:"prl-hero__content",children:[s.jsx("span",{className:"prl-badge prl-badge--closed",children:(n==null?void 0:n.cerrada_badge)||" Convocatoria Cerrada"}),s.jsx("h1",{className:"prl-hero__title",dangerouslySetInnerHTML:{__html:((n==null?void 0:n.cerrada_titulo)||"El proceso de pre-registro ha finalizado").replace(/\n/g,"<br />")}}),s.jsx("p",{className:"prl-hero__sub",children:(n==null?void 0:n.cerrada_mensaje)||"Gracias por tu inters en el CBTa 134. Mantente pendiente de nuestras redes sociales para prximas convocatorias."}),s.jsx("button",{className:"prl-cta",onClick:()=>e("/"),children:"Regresar al Inicio"})]})]})});const P=n||{},T=P.badge_texto||" Convocatoria Abierta  Ciclo 20252026",R=P.titulo_header||"Tu futuro comienza en el CBTa 134!",q=P.subtitulo_header||"Realiza tu pre-registro en lnea de forma rpida y segura.",te=P.cta_texto||"Pre-Regstrate Ahora!",G=P.cta_subtexto||"Es rpido, gratuito y 100% en lnea",H=P.mensaje_cierre||"Cierre de convocatoria en:",M=P.card_titulo||"Pre-Regstrate",re=P.card_descripcion||"Completa el formulario de pre-registro para aspirantes de nuevo ingreso. Al terminar recibirs tu ficha oficial en PDF lista para imprimir.",I=Array.isArray(P.card_checklist_json)&&P.card_checklist_json.length>0?P.card_checklist_json:["Datos personales y de contacto","Eleccin de carrera tcnica","Datos de escuela de procedencia","Informacin del padre, madre o tutor","Ficha PDF descargable al instante"],W=P.card_boton_texto||"Iniciar Pre-Registro ",ae=P.pasos_titulo||"Cmo funciona?",ge=P.pasos_subtitulo||"Sigue estos sencillos pasos para completar tu pre-registro",_e=Array.isArray(P.pasos_json)&&P.pasos_json.length>0?P.pasos_json:[{num:"01",titulo:"Llena el formulario",desc:"Ingresa tus datos personales, carrera y escuela de procedencia."},{num:"02",titulo:"Selecciona tu carrera",desc:"Elige la especialidad tcnica que ms te interese."},{num:"03",titulo:"Descarga tu ficha",desc:"Obtn tu ficha oficial en PDF con tu folio nico."},{num:"04",titulo:"Presntate al plantel",desc:"Acude con tu ficha impresa en las fechas indicadas."}],Le=P.carreras_titulo||"Carreras Tcnicas Disponibles",Te=P.carreras_subtitulo||"Elige la que mejor se adapte a tus intereses y vocacin",Q=P.requisitos_titulo||"Qu necesitas para pre-registrarte?",ye=P.requisitos_subtitulo||"Ten a la mano la siguiente informacin antes de iniciar",je=Array.isArray(P.requisitos_json)&&P.requisitos_json.length>0?P.requisitos_json:[{icon:"",txt:"CURP del aspirante"},{icon:"",txt:"Fecha de nacimiento"},{icon:"",txt:"Correo electrnico (Gmail)"},{icon:"",txt:"Telfono de contacto (10 dgitos)"},{icon:"",txt:"Datos de escuela de procedencia"},{icon:"",txt:"CURP y datos del padre, madre o tutor"}],oe=P.cta_final_titulo||"Listo para unirte al CBTa 134?",j=P.cta_final_subtitulo||"El proceso tarda menos de 10 minutos. Hazlo ahora!",B=P.cta_final_boton||"Comenzar Pre-Registro",O=P.cta_final_boton_sub||"Formulario en lnea  Ficha PDF inmediata";return s.jsxs("div",{className:"prl-page",children:[s.jsxs("section",{className:"prl-hero",children:[s.jsx("div",{className:"prl-hero__bg","aria-hidden":"true"}),s.jsx("div",{className:"prl-hero__particles","aria-hidden":"true",children:[...Array(12)].map((D,Z)=>s.jsx("span",{className:"prl-particle"},Z))}),s.jsxs("div",{className:"prl-hero__content",children:[s.jsx("span",{className:"prl-badge",children:T}),s.jsx("h1",{className:"prl-hero__title",dangerouslySetInnerHTML:{__html:R.replace(/\n/g,"<br />")}}),s.jsx("p",{className:"prl-hero__sub",children:q}),s.jsxs("button",{id:"btn-preregistrate",className:"prl-cta",onClick:A,children:[s.jsx("span",{className:"prl-cta__icon",children:""}),s.jsxs("span",{className:"prl-cta__text",children:[s.jsx("strong",{children:te}),s.jsx("small",{children:G})]}),s.jsx("span",{className:"prl-cta__arrow",children:""})]}),s.jsxs("div",{className:"prl-countdown",children:[s.jsx("p",{className:"prl-countdown__label",children:H}),s.jsx("div",{className:"prl-countdown__grid",children:[{val:t.dias,lbl:"Das"},{val:t.horas,lbl:"Horas"},{val:t.minutos,lbl:"Min"},{val:t.segundos,lbl:"Seg"}].map(D=>s.jsxs("div",{className:"prl-countdown__unit",children:[s.jsx("span",{className:"prl-countdown__num",children:String(D.val).padStart(2,"0")}),s.jsx("span",{className:"prl-countdown__lbl",children:D.lbl})]},D.lbl))})]})]})]}),s.jsx("section",{className:"prl-main-card-section",children:s.jsxs("div",{className:"prl-main-card",children:[s.jsxs("div",{className:"prl-main-card__left",children:[s.jsx("div",{className:"prl-main-card__icon-wrap",children:s.jsx("span",{className:"prl-main-card__big-icon",children:""})}),s.jsx("h2",{className:"prl-main-card__title",children:M}),s.jsx("p",{className:"prl-main-card__desc",dangerouslySetInnerHTML:{__html:re}}),s.jsx("ul",{className:"prl-main-card__list",children:I.map((D,Z)=>s.jsxs("li",{children:[" ",D]},Z))}),s.jsx("button",{className:"prl-main-card__btn",onClick:A,children:W})]}),s.jsx("div",{className:"prl-main-card__right",children:s.jsxs("div",{className:"prl-ficha-preview",children:[s.jsxs("div",{className:"prl-ficha-preview__header",children:[s.jsxs("div",{className:"prl-ficha-preview__logo",children:["CBTa",s.jsx("br",{}),"134"]}),s.jsxs("div",{children:[s.jsx("div",{className:"prl-ficha-preview__school",children:"CBTA No. 134"}),s.jsx("div",{className:"prl-ficha-preview__subtitle",children:"Ficha de Pre-Registro"})]})]}),s.jsx("div",{className:"prl-ficha-preview__folio",children:"Folio: PRE-2025-0001"}),["Nombre","CURP","Carrera","Escuela origen","Tutor"].map(D=>s.jsxs("div",{className:"prl-ficha-preview__row",children:[s.jsxs("span",{children:[D,":"]}),s.jsx("span",{className:"prl-ficha-preview__bar"})]},D)),s.jsx("div",{className:"prl-ficha-preview__sello",children:" CBTa 134"})]})})]})}),s.jsxs("section",{className:"prl-steps",children:[s.jsxs("div",{className:"prl-section-header",children:[s.jsx("h2",{children:ae}),s.jsx("p",{children:ge})]}),s.jsx("div",{className:"prl-steps__grid",children:_e.map(D=>s.jsxs("div",{className:"prl-step-card",children:[s.jsx("div",{className:"prl-step-card__num",children:D.num}),s.jsx("h3",{className:"prl-step-card__title",children:D.titulo}),s.jsx("p",{className:"prl-step-card__desc",children:D.desc})]},D.num))})]}),s.jsxs("section",{className:"prl-carreras",children:[s.jsxs("div",{className:"prl-section-header",children:[s.jsx("h2",{children:Le}),s.jsx("p",{children:Te})]}),s.jsx("div",{className:"prl-carreras__grid",children:c.map(D=>s.jsxs("div",{className:"prl-carrera-card",children:[s.jsx("span",{className:"prl-carrera-card__icon",children:D.icono||""}),s.jsx("h3",{className:"prl-carrera-card__name",children:D.nombre}),s.jsx("p",{className:"prl-carrera-card__desc",children:D.descripcion_corta})]},D.nombre))})]}),s.jsxs("section",{className:"prl-requisitos",children:[s.jsxs("div",{className:"prl-section-header prl-section-header--light",children:[s.jsx("h2",{children:Q}),s.jsx("p",{children:ye})]}),s.jsx("div",{className:"prl-req-grid",children:f.length>0?f.map(D=>s.jsxs("div",{className:"prl-req-item",children:[s.jsx("span",{className:"prl-req-item__icon",children:""}),s.jsx("span",{children:D.requirement})]},D.id)):je.map((D,Z)=>s.jsxs("div",{className:"prl-req-item",children:[s.jsx("span",{className:"prl-req-item__icon",children:D.icon}),s.jsx("span",{children:D.txt})]},Z))})]}),s.jsxs("section",{className:"prl-steps",style:{background:"var(--bg-secondary)",marginTop:"0"},children:[s.jsxs("div",{className:"prl-section-header",children:[s.jsx("h2",{children:" Fechas del Proceso de Admisin"}),s.jsx("p",{children:"Calendario oficial para aspirantes ciclo 2026"})]}),s.jsx("div",{className:"prl-steps__grid",children:h.map((D,Z)=>s.jsxs("div",{className:"prl-step-card",style:{borderTop:"4px solid #1877f2"},children:[s.jsx("div",{className:"prl-step-card__num",children:Z+1}),s.jsx("h3",{className:"prl-step-card__title",children:D.title}),s.jsx("p",{className:"prl-step-card__desc",style:{fontWeight:"bold",color:"#1877f2"},children:D.date_range}),s.jsx("p",{className:"prl-step-card__desc",children:D.subtitle})]},D.id))})]}),s.jsxs("section",{className:"prl-carreras",style:{background:"#fff"},children:[s.jsxs("div",{className:"prl-section-header",children:[s.jsx("h2",{children:" Nuestra Ubicacin"}),s.jsx("p",{children:(y==null?void 0:y.address_text)||(g==null?void 0:g.address)||"Carretera Tetlanohcan a Malintzin Km 3, San Francisco Tetlanohcan, Tlaxcala"})]}),s.jsx("div",{className:"prl-map-container",style:{borderRadius:"24px",overflow:"hidden",boxShadow:"0 10px 30px rgba(0,0,0,0.1)",maxWidth:"1100px",margin:"0 auto",border:"1px solid #eee"},children:s.jsx("iframe",{src:(y==null?void 0:y.map_embed_url)||"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3766.4767792435587!2d-98.1400007!3d19.261621699999996!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85cfdd8ebaaaaaab%3A0x27dafbca82bfb2a0!2sCentro%20De%20Bachillerato%20Tecnol%C3%B3gico%20Agropecuario%20N%C3%BAm.%20134!5e0!3m2!1ses-419!2smx!4v1772321237884!5m2!1ses-419!2smx",width:"100%",height:"450",style:{border:0,display:"block"},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})}),s.jsx("div",{style:{textAlign:"center",marginTop:"30px"},children:s.jsxs("p",{style:{color:"#666"},children:[" ",(g==null?void 0:g.phone_value)||"01 (246) 46 2 34 56"," |  ",(g==null?void 0:g.email_value)||"cbta134@yahoo.com.mx"]})})]}),s.jsxs("section",{className:"prl-cta-final",children:[s.jsx("h2",{children:oe}),s.jsx("p",{children:j}),s.jsxs("button",{className:"prl-cta prl-cta--lg",onClick:A,children:[s.jsx("span",{className:"prl-cta__icon",children:""}),s.jsxs("span",{className:"prl-cta__text",children:[s.jsx("strong",{children:B}),s.jsx("small",{children:O})]}),s.jsx("span",{className:"prl-cta__arrow",children:""})]})]})]})}const HI=()=>{try{return typeof document<"u"&&document.body.classList.contains("dark-mode")}catch{return!1}},WI=({setCurrentView:e})=>{const t=HI(),r={paddingTop:"80px",minHeight:"100vh",backgroundColor:t?"#07111a":"#f8f9fa"},n={padding:"40px 20px",maxWidth:"100%",margin:"0 auto"},a={fontSize:"28px",fontWeight:"bold",color:"#2c3e50",marginBottom:"25px",textAlign:"center"},i={fontSize:"16px",lineHeight:"1.6",color:t?"#c8cdd3":"#555",marginBottom:"30px",textAlign:"justify",background:t?"rgba(255,255,255,0.03)":"white",padding:"25px",borderRadius:"10px",boxShadow:t?"0 10px 30px rgba(2,6,23,0.7)":"0 4px 15px rgba(0,0,0,0.1)"},l={textAlign:"center",marginBottom:"40px"},c={maxWidth:"300px",width:"100%",height:"auto",borderRadius:"10px",boxShadow:t?"0 10px 30px rgba(2,6,23,0.7)":"0 4px 15px rgba(0,0,0,0.2)"},d={display:"flex",flexDirection:"column",gap:"20px",marginTop:"30px"},h={background:t?"rgba(255,255,255,0.03)":"white",padding:"25px",borderRadius:"10px",boxShadow:t?"0 12px 36px rgba(2,6,23,0.7)":"0 4px 15px rgba(0,0,0,0.1)",border:t?"1px solid rgba(255,255,255,0.03)":"2px solid #e9ecef"},p={fontSize:"20px",fontWeight:"bold",color:t?"#e6eef8":"#2c3e50",marginBottom:"15px",textAlign:"center"},f={fontSize:"16px",lineHeight:"1.6",color:t?"#c8cdd3":"#555",textAlign:"center"},b={...h,borderColor:"#28a745"},g={...h,borderColor:"#007bff"},S={...h,borderColor:"#ffc107"};return s.jsxs("div",{style:r,children:[s.jsx(bl,{onBack:()=>e("home")}),s.jsxs("main",{children:[s.jsxs("section",{style:n,children:[s.jsx("h2",{style:a,children:"Nosotros"}),s.jsxs("div",{style:i,children:[s.jsx("p",{style:{marginBottom:"20px"},children:"El Centro de Bachillerato Tecnolgico Agropecuario (CBTA) no. 134 se ha convertido en una de las mejores oportunidades para que las y los jvenes realicen sus estudios de nivel medio superior, porque al trmino de estos, no solo reciben su certificado sino tambin un ttulo de carrera tcnica."}),s.jsx("p",{style:{marginBottom:"20px"},children:"La escuela se ubica en el municipio de San Francisco Tetlanohcan, cuenta con un rea total de 27 hectreas, de ellas, 5 ya tienen construccin con aulas, canchas y reas para el fomento agropecuario, que la hace nica en su estilo en todo el Estado de Tlaxcala."}),s.jsx("p",{children:"Los estudiantes pueden optar por las carreras: Tcnico Agropecuario, Tcnico en Sistemas de Produccin Pecuaria, Tcnico en Programacin, Tcnico en Contabilidad y Tcnico en Ofimtica."})]}),s.jsx("div",{style:l,children:s.jsx("img",{src:"/images/campus.png",alt:"Campus CBTA 134",style:c})})]}),s.jsxs("section",{style:n,children:[s.jsx("h2",{style:a,children:"Misin, Visin y Lema"}),s.jsxs("div",{style:d,children:[s.jsxs("div",{style:b,children:[s.jsx("h3",{style:p,children:" Misin"}),s.jsx("p",{style:f,children:"Contribuir activamente en la formacin integral de nuestros estudiantes del bachillerato tecnolgico con un enfoque de desarrollo sustentable y emprendedor que los integre plenamente a la sociedad."})]}),s.jsxs("div",{style:g,children:[s.jsx("h3",{style:p,children:" Visin"}),s.jsx("p",{style:f,children:"Ser una institucin de calidad formadora de lderes del maana, reconocida por su excelencia educativa y compromiso con el desarrollo sustentable."})]}),s.jsxs("div",{style:S,children:[s.jsx("h3",{style:p,children:" Lema"}),s.jsx("p",{style:{...f,fontSize:"18px",fontWeight:"bold",color:"#2c3e50"},children:'"Formar e innovar para transformar"'})]})]})]}),s.jsxs("section",{style:n,children:[s.jsx("h2",{style:a,children:"Nuestros Valores"}),s.jsxs("div",{style:d,children:[s.jsxs("div",{style:h,children:[s.jsx("h3",{style:p,children:" Excelencia Acadmica"}),s.jsx("p",{style:f,children:"Nos comprometemos a brindar una educacin de la ms alta calidad, fomentando el pensamiento crtico y la innovacin."})]}),s.jsxs("div",{style:h,children:[s.jsx("h3",{style:p,children:" Responsabilidad Social"}),s.jsx("p",{style:f,children:"Formamos ciudadanos comprometidos con su comunidad y el desarrollo sostenible de la regin."})]}),s.jsxs("div",{style:h,children:[s.jsx("h3",{style:p,children:" Desarrollo Sustentable"}),s.jsx("p",{style:f,children:"Promovemos prcticas respetuosas con el medio ambiente y el uso responsable de los recursos naturales."})]}),s.jsxs("div",{style:h,children:[s.jsx("h3",{style:p,children:" Innovacin"}),s.jsx("p",{style:f,children:"Fomentamos la creatividad y el uso de nuevas tecnologas para preparar a nuestros estudiantes para el futuro."})]})]})]})]})]})},VI=()=>typeof document>"u"?!1:document.body.classList.contains("dark-mode"),GI=({setCurrentView:e})=>{const t=VI(),[r,n]=U.useState([]),a={paddingTop:"80px",minHeight:"100vh",backgroundColor:t?"transparent":"#f8f9fa"},i={padding:"20px",maxWidth:"100%",margin:"0 auto"},l={fontSize:"28px",fontWeight:"bold",color:"#2c3e50",marginBottom:"25px",textAlign:"center"},c={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"20px",marginBottom:"30px"},d={background:t?"rgba(255,255,255,0.02)":"white",borderRadius:"10px",overflow:"hidden",boxShadow:t?"0 8px 30px rgba(0,0,0,0.6)":"0 4px 15px rgba(0,0,0,0.1)",transition:"transform 0.3s ease"},h={width:"100%",height:"200px",objectFit:"cover"},p={padding:"15px"},f={fontSize:"16px",fontWeight:"bold",color:"#2c3e50",marginBottom:"8px"},b={fontSize:"14px",color:"#666",lineHeight:"1.4"},g={fontSize:"22px",fontWeight:"bold",color:"#2c3e50",marginBottom:"20px",marginTop:"40px",textAlign:"center",borderBottom:"2px solid #3498db",paddingBottom:"10px"},S=({src:N,title:A,desc:P})=>s.jsxs("div",{style:d,onMouseEnter:T=>T.currentTarget.style.transform="translateY(-5px)",onMouseLeave:T=>T.currentTarget.style.transform="translateY(0)",children:[s.jsx("img",{src:N,alt:A,style:h}),s.jsxs("div",{style:p,children:[s.jsx("h3",{style:f,children:A}),s.jsx("p",{style:b,children:P})]})]});U.useEffect(()=>{(async()=>{const{data:A}=await ve.from("gallery_items").select("*").order("order_index",{ascending:!0});n(A||[])})()},[]);const y=U.useMemo(()=>{const N=r.reduce((P,T)=>{const R=T.section||"galeria";return P[R]||(P[R]=[]),P[R].push(T),P},{}),A={instalaciones:" Nuestras Instalaciones",actividades:" Actividades Deportivas",clubs:" Participaciones de nuestros Clubes",cbta:" CBTa 134",galeria:" Galera General"};return Object.entries(N).map(([P,T])=>({id:P,name:A[P]||P.charAt(0).toUpperCase()+P.slice(1).replace(/_/g," "),items:T}))},[r]);return s.jsxs("div",{style:a,children:[s.jsx(bl,{onClick:()=>e("home")}),s.jsxs("div",{style:i,children:[s.jsx("h1",{style:l,children:" Galera CBTA 134"}),y.map(N=>s.jsxs("section",{children:[s.jsx("h2",{style:g,children:N.name}),s.jsx("div",{style:c,children:N.items.map((A,P)=>s.jsx(S,{src:A.image_url||A.src,title:A.title,desc:A.desc||A.description},A.id||P))})]},N.id)),s.jsxs("section",{style:{textAlign:"center",marginTop:"50px",padding:"30px",background:t?"rgba(255,255,255,0.02)":"white",borderRadius:"10px",boxShadow:t?"0 8px 30px rgba(0,0,0,0.6)":"0 4px 15px rgba(0,0,0,0.1)"},children:[s.jsx("h3",{style:{color:"#2c3e50",marginBottom:"15px"},children:"Quieres ver ms?"}),s.jsx("p",{style:{color:"#666",marginBottom:"20px"},children:"Sguenos en nuestras redes sociales para ver ms fotos y videos de la vida estudiantil en el CBTA 134"}),s.jsx("a",{href:"https://www.facebook.com/share/15g75ZdJRg/",target:"_blank",rel:"noopener noreferrer",style:{display:"inline-block",background:"#1877f2",color:"white",padding:"12px 25px",textDecoration:"none",borderRadius:"25px",fontSize:"16px",fontWeight:"bold",transition:"transform 0.3s"},onMouseEnter:N=>N.target.style.transform="translateY(-2px)",onMouseLeave:N=>N.target.style.transform="translateY(0)",children:" Visitar Facebook"})]})]})]})},KI=()=>typeof document>"u"?!1:document.body.classList.contains("dark-mode"),YI=({setCurrentView:e})=>{const t=KI(),[r,n]=U.useState([]),[a,i]=U.useState(!0);U.useEffect(()=>{l()},[]);const l=async()=>{try{const{data:q,error:te}=await ve.from("clubs").select("*").order("created_at",{ascending:!1});if(te)throw te;n(q||[])}catch(q){console.error("Error fetching clubs:",q)}finally{i(!1)}},c={paddingTop:"80px",minHeight:"100vh",backgroundColor:t?"transparent":"#f8f9fa"},d={padding:"20px",maxWidth:"1200px",margin:"0 auto"},h={fontSize:"28px",fontWeight:"bold",color:t?"#e6eef8":"#2c3e50",marginBottom:"25px",textAlign:"center"},p={fontSize:"16px",color:t?"#bfc7cf":"#666",textAlign:"center",marginBottom:"40px",lineHeight:"1.6",maxWidth:"800px",margin:"0 auto 40px auto"},f={display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"25px",marginBottom:"40px"},b={padding:"20px"},g={fontSize:"18px",fontWeight:"bold",color:t?"#e6eef8":"#2c3e50",marginBottom:"10px"},S={fontSize:"14px",color:t?"#c8cdd3":"#666",lineHeight:"1.5",marginBottom:"15px"},y={fontSize:"13px",color:"#28a745",fontWeight:"bold"},N={fontSize:"22px",fontWeight:"bold",color:t?"#e6eef8":"#2c3e50",marginBottom:"20px",marginTop:"50px",textAlign:"center",borderBottom:"3px solid #3498db",paddingBottom:"10px"},A=({club:q})=>{const te={background:t?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",overflow:"hidden",boxShadow:t?"0 12px 36px rgba(0,0,0,0.6)":"0 8px 25px rgba(0,0,0,0.1)",transition:"transform 0.3s ease, box-shadow 0.3s ease",border:t?"1px solid rgba(255,255,255,0.03)":"none",position:"relative",cursor:q.link?"pointer":"default",display:"flex",flexDirection:"column",height:"100%"},G=()=>{q.link&&window.open(q.link,"_blank")};return s.jsxs("div",{style:te,onClick:G,onMouseEnter:H=>{H.currentTarget.style.transform="translateY(-8px)",H.currentTarget.style.boxShadow=t?"0 15px 35px rgba(0,0,0,0.8)":"0 15px 35px rgba(0,0,0,0.15)"},onMouseLeave:H=>{H.currentTarget.style.transform="translateY(0)",H.currentTarget.style.boxShadow=t?"0 12px 36px rgba(0,0,0,0.6)":"0 8px 25px rgba(0,0,0,0.1)"},children:[q.foto_url?s.jsx("div",{style:{width:"100%",height:"180px",overflow:"hidden",flexShrink:0},children:s.jsx("img",{src:q.foto_url,alt:q.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}):s.jsx("div",{style:{width:"100%",height:"150px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"56px",background:q.color||"linear-gradient(135deg, #6c5ce7, #a29bfe)",color:"white",flexShrink:0},children:s.jsx("span",{style:{filter:"drop-shadow(0 2px 4px rgba(0,0,0,0.3))"},children:q.icono||""})}),s.jsxs("div",{style:b,children:[s.jsxs("h3",{style:g,children:[q.nombre,q.link&&s.jsx("span",{style:{fontSize:"12px",marginLeft:"5px"},children:""})]}),s.jsx("p",{style:S,children:q.descripcion}),s.jsx("div",{style:{marginTop:"auto"},children:s.jsx("p",{style:y,children:q.beneficios})})]})]})},P=r.filter(q=>q.categoria==="Deportivo"),T=r.filter(q=>q.categoria==="Cultural"),R=r.filter(q=>q.categoria==="Academico");return s.jsxs("div",{style:c,children:[s.jsx(bl,{onBack:()=>e("home")}),s.jsxs("div",{style:d,children:[s.jsx("h1",{style:h,children:" Clubes y Actividades Extracurriculares"}),s.jsx("p",{style:p,children:"En el CBTA 134 creemos en la formacin integral de nuestros estudiantes. Por eso ofrecemos una amplia variedad de clubes y actividades que complementan tu educacin acadmica, desarrollando habilidades sociales, fsicas y culturales."}),a?s.jsx("p",{style:{textAlign:"center",color:t?"white":"black"},children:"Cargando clubes..."}):s.jsxs(s.Fragment,{children:[P.length>0&&s.jsxs("section",{children:[s.jsx("h2",{style:N,children:" Clubes Deportivos"}),s.jsx("div",{style:f,children:P.map(q=>s.jsx(A,{club:q},q.id))})]}),T.length>0&&s.jsxs("section",{children:[s.jsx("h2",{style:N,children:" Clubes Culturales"}),s.jsx("div",{style:f,children:T.map(q=>s.jsx(A,{club:q},q.id))})]}),R.length>0&&s.jsxs("section",{children:[s.jsx("h2",{style:N,children:" Clubes Acadmicos"}),s.jsx("div",{style:f,children:R.map(q=>s.jsx(A,{club:q},q.id))})]}),r.length===0&&s.jsx("div",{style:{textAlign:"center",padding:"40px",color:"#999"},children:s.jsx("p",{children:"No hay clubes registrados por el momento."})})]}),s.jsxs("section",{style:{background:"linear-gradient(135deg, var(--primary-color), var(--secondary-color))",borderRadius:"20px",padding:"40px 20px",textAlign:"center",color:"white",marginTop:"50px"},children:[s.jsx("h3",{style:{fontSize:"24px",marginBottom:"20px"},children:" Por qu unirte a un club?"}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"20px",marginTop:"30px"},children:[s.jsxs("div",{children:[s.jsx("h4",{style:{fontSize:"18px",marginBottom:"10px"},children:" Socializacin"}),s.jsx("p",{style:{fontSize:"14px",opacity:"0.9"},children:"Conoce nuevos amigos con intereses similares"})]}),s.jsxs("div",{children:[s.jsx("h4",{style:{fontSize:"18px",marginBottom:"10px"},children:" Habilidades"}),s.jsx("p",{style:{fontSize:"14px",opacity:"0.9"},children:"Desarrolla talentos y competencias especiales"})]}),s.jsxs("div",{children:[s.jsx("h4",{style:{fontSize:"18px",marginBottom:"10px"},children:" Logros"}),s.jsx("p",{style:{fontSize:"14px",opacity:"0.9"},children:"Participa en competencias y eventos"})]}),s.jsxs("div",{children:[s.jsx("h4",{style:{fontSize:"18px",marginBottom:"10px"},children:" Crecimiento"}),s.jsx("p",{style:{fontSize:"14px",opacity:"0.9"},children:"Fortalece tu desarrollo personal"})]})]})]}),s.jsxs("section",{style:{background:t?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",padding:"30px",marginTop:"30px",boxShadow:t?"0 12px 35px rgba(0,0,0,0.6)":"0 8px 25px rgba(0,0,0,0.1)",textAlign:"center"},children:[s.jsx("h3",{style:{color:t?"#e6eef8":"#2c3e50",marginBottom:"15px"},children:" Cmo inscribirse?"}),s.jsx("p",{style:{color:t?"#c8cdd3":"#666",marginBottom:"20px",lineHeight:"1.6"},children:"Las inscripciones a clubes se realizan al inicio de cada semestre. Acrcate con el coordinador de actividades extracurriculares o pregunta a tu maestro tutor para ms informacin sobre horarios y requisitos."})]})]})]})},XI=({setCurrentView:e})=>{const[t,r]=U.useState([]),[n,a]=U.useState(!0),[i,l]=U.useState(null);U.useEffect(()=>{c()},[]);const c=async()=>{try{const{data:P,error:T}=await ve.from("carreras_tecnicas").select("*").order("created_at",{ascending:!1});if(T)throw T;r(P||[])}catch(P){console.error("Error fetching careers:",P)}finally{a(!1)}};if(i)return s.jsx(JI,{career:i,onBack:()=>l(null),setCurrentView:e});const d={paddingTop:"80px",minHeight:"100vh",backgroundColor:"#ffffff"},h={padding:"20px",maxWidth:"100%",margin:"0 auto"},p={fontSize:"28px",fontWeight:"bold",color:"#28a745",marginBottom:"25px",textAlign:"center"},f={background:"#e9f7ef",borderRadius:"15px",padding:"25px",marginBottom:"30px",boxShadow:"0 8px 25px rgba(0,0,0,0.1)",textAlign:"center"},b={display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(300px, 1fr))",gap:"25px",marginBottom:"40px"},g={background:"#f8fdf8",borderRadius:"15px",overflow:"hidden",boxShadow:"0 8px 25px rgba(0,0,0,0.1)",transition:"transform 0.3s ease, box-shadow 0.3s ease",border:"1px solid #28a745",cursor:"pointer"},S={padding:"25px"},y={fontSize:"20px",fontWeight:"bold",marginBottom:"15px",color:"#28a745"},N={fontSize:"14px",color:"#555",lineHeight:"1.6",marginBottom:"20px",minHeight:"60px"},A=({career:P})=>s.jsxs("div",{style:g,onClick:()=>l(P),onMouseEnter:T=>{T.currentTarget.style.transform="translateY(-8px)",T.currentTarget.style.boxShadow="0 15px 35px rgba(40, 167, 69, 0.3)"},onMouseLeave:T=>{T.currentTarget.style.transform="translateY(0)",T.currentTarget.style.boxShadow="0 8px 25px rgba(0,0,0,0.1)"},children:[P.imagen_url&&s.jsx("div",{style:{width:"100%",height:"180px",overflow:"hidden"},children:s.jsx("img",{src:P.imagen_url,alt:P.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),s.jsxs("div",{style:S,children:[s.jsx("h3",{style:y,children:P.nombre}),s.jsx("p",{style:N,children:P.descripcion||"Formacin tcnica de excelencia"}),s.jsx("button",{style:{display:"inline-block",background:"#28a745",color:"white",padding:"10px 20px",borderRadius:"20px",border:"none",fontSize:"14px",fontWeight:"bold",cursor:"pointer",transition:"background-color 0.3s ease",width:"100%"},onMouseEnter:T=>T.target.style.backgroundColor="#218838",onMouseLeave:T=>T.target.style.backgroundColor="#28a745",children:"Ver ms informacin "})]})]});return s.jsxs("div",{style:d,children:[s.jsx(bl,{onClick:()=>e("home")}),s.jsxs("div",{style:h,children:[s.jsx("h1",{style:p,children:" Programas Educativos"}),s.jsxs("section",{style:f,children:[s.jsx("h2",{style:{color:"#28a745",marginBottom:"20px"},children:"Formacin Tcnica de Excelencia"}),s.jsx("p",{style:{color:"#555",fontSize:"16px",lineHeight:"1.6",marginBottom:"20px"},children:"En el CBTA 134 ofrecemos programas educativos de nivel medio superior que combinan formacin acadmica slida con competencias tcnicas especializadas. Nuestros egresados estn preparados tanto para incorporarse al mercado laboral como para continuar estudios superiores."}),s.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"20px",marginTop:"30px"},children:[s.jsxs("div",{children:[s.jsx("h4",{style:{color:"#28a745",fontSize:"24px",margin:"0 0 5px 0"},children:t.length}),s.jsx("p",{style:{color:"#555",fontSize:"14px",margin:0},children:"Carreras Tcnicas"})]}),s.jsxs("div",{children:[s.jsx("h4",{style:{color:"#28a745",fontSize:"24px",margin:"0 0 5px 0"},children:"3"}),s.jsx("p",{style:{color:"#555",fontSize:"14px",margin:0},children:"Aos de Duracin"})]}),s.jsxs("div",{children:[s.jsx("h4",{style:{color:"#28a745",fontSize:"24px",margin:"0 0 5px 0"},children:"100%"}),s.jsx("p",{style:{color:"#555",fontSize:"14px",margin:0},children:"Validez Oficial"})]})]})]}),s.jsx("section",{children:n?s.jsx("p",{style:{textAlign:"center",color:"#666"},children:"Cargando carreras tcnicas..."}):t.length>0?s.jsx("div",{style:b,children:t.map(P=>s.jsx(A,{career:P},P.id))}):s.jsx("p",{style:{textAlign:"center",color:"#999",padding:"40px"},children:"No hay carreras registradas por el momento."})})]})]})},JI=({career:e,onBack:t,setCurrentView:r})=>{const n={paddingTop:"80px",minHeight:"100vh",backgroundColor:"#ffffff",padding:"80px 20px 40px 20px"},a={maxWidth:"900px",margin:"0 auto"},i={background:"#28a745",color:"white",padding:"40px",borderRadius:"15px",marginBottom:"30px",textAlign:"center"},l={background:"white",padding:"30px",borderRadius:"15px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)",border:"1px solid #e0e0e0"},c={fontSize:"20px",fontWeight:"bold",color:"#28a745",marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px"},d={fontSize:"16px",color:"#555",lineHeight:"1.8",whiteSpace:"pre-wrap"};return s.jsxs("div",{style:n,children:[s.jsx(bl,{onClick:t,text:" Regresar a Carreras"}),s.jsxs("div",{style:a,children:[e.imagen_url&&s.jsx("div",{style:{width:"100%",height:"300px",borderRadius:"15px",overflow:"hidden",marginBottom:"20px"},children:s.jsx("img",{src:e.imagen_url,alt:e.nombre,style:{width:"100%",height:"100%",objectFit:"cover"}})}),s.jsxs("div",{style:i,children:[s.jsx("h1",{style:{margin:"0 0 10px 0",fontSize:"32px"},children:e.nombre}),e.descripcion&&s.jsx("p",{style:{margin:0,fontSize:"18px",opacity:.95},children:e.descripcion})]}),e.programa_competencia&&s.jsxs("div",{style:l,children:[s.jsx("h2",{style:c,children:" Programa de Competencias"}),s.jsx("p",{style:d,children:e.programa_competencia})]}),e.justificacion&&s.jsxs("div",{style:l,children:[s.jsx("h2",{style:c,children:" Justificacin"}),s.jsx("p",{style:d,children:e.justificacion})]}),e.perfil_egreso&&s.jsxs("div",{style:l,children:[s.jsx("h2",{style:c,children:" Perfil de Egreso"}),s.jsx("p",{style:d,children:e.perfil_egreso})]}),e.area_especializacion&&s.jsxs("div",{style:l,children:[s.jsx("h2",{style:c,children:" rea de Especializacin"}),s.jsx("p",{style:d,children:e.area_especializacion})]}),e.habilidades_socioemocionales&&s.jsxs("div",{style:l,children:[s.jsx("h2",{style:c,children:" Habilidades Socioemocionales"}),s.jsx("p",{style:d,children:e.habilidades_socioemocionales})]}),e.oportunidades_profesionales&&s.jsxs("div",{style:l,children:[s.jsx("h2",{style:c,children:" Oportunidades Profesionales"}),s.jsx("p",{style:d,children:e.oportunidades_profesionales})]}),e.plan_estudios_url&&s.jsxs("div",{style:{...l,padding:"30px"},children:[s.jsx("h2",{style:{...c,justifyContent:"center",textAlign:"center"},children:" Plan de Estudios"}),s.jsx("p",{style:{marginBottom:"20px",color:"#555",textAlign:"center"},children:"Vista previa del documento oficial del plan de estudios"}),s.jsx("div",{style:{marginBottom:"20px",borderRadius:"10px",overflow:"hidden",boxShadow:"0 4px 15px rgba(0,0,0,0.15)"},children:s.jsx("iframe",{src:`${e.plan_estudios_url}#page=${e.pdf_start_page||1}`,style:{width:"100%",height:"600px",border:"none"},title:"Plan de Estudios"})}),s.jsxs("div",{style:{textAlign:"center"},children:[s.jsx("a",{href:e.plan_estudios_url,download:!0,style:{display:"inline-block",background:"#28a745",color:"white",padding:"15px 30px",borderRadius:"25px",textDecoration:"none",fontSize:"16px",fontWeight:"bold",transition:"background-color 0.3s ease",boxShadow:"0 4px 10px rgba(40, 167, 69, 0.3)"},onMouseEnter:h=>h.target.style.backgroundColor="#218838",onMouseLeave:h=>h.target.style.backgroundColor="#28a745",children:" Descargar Plan de Estudios (PDF)"}),s.jsxs("p",{style:{marginTop:"10px",fontSize:"13px",color:"#777"},children:["Mostrando desde la pgina ",e.pdf_start_page||1]})]})]})]})]})},ZI=()=>{try{return typeof document<"u"&&document.body.classList.contains("dark-mode")}catch{return!1}},QI=({setCurrentView:e})=>{const t=ZI(),[r,n]=U.useState(null),[a,i]=U.useState([]),[l,c]=U.useState([]),[d,h]=U.useState(null),[p,f]=U.useState([]),[b,g]=U.useState(null);U.useEffect(()=>{(async()=>{const{data:M}=await ve.from("contact_main").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:re}=await ve.from("contact_directory").select("*").order("order_index",{ascending:!0}),{data:I}=await ve.from("contact_social").select("*").order("order_index",{ascending:!0}),{data:W}=await ve.from("contact_location").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:ae}=await ve.from("contact_faq").select("*").order("order_index",{ascending:!0}),{data:ge}=await ve.from("contact_cta").select("*").order("created_at",{ascending:!1}).limit(1).single();n(M||null),i(re||[]),c(I||[]),h(W||null),f(ae||[]),g(ge||null)})()},[]);const S={paddingTop:"80px",minHeight:"100vh",backgroundColor:t?"#0f1720":"#f8f9fa"},y={padding:"20px",maxWidth:"100%",margin:"0 auto"},N={fontSize:"28px",fontWeight:"bold",color:t?"#e6eef8":"#2c3e50",marginBottom:"25px",textAlign:"center"},A={background:t?"rgba(255,255,255,0.03)":"white",borderRadius:"15px",padding:"25px",marginBottom:"25px",boxShadow:t?"0 12px 35px rgba(2,6,23,0.7)":"0 8px 25px rgba(0,0,0,0.1)"},P={fontSize:"20px",fontWeight:"bold",color:t?"#93c5fd":"#3498db",marginBottom:"20px",textAlign:"center"},T={display:"flex",alignItems:"flex-start",marginBottom:"20px",padding:"15px",backgroundColor:t?"rgba(255,255,255,0.02)":"#f8f9fa",borderRadius:"10px",border:t?"1px solid rgba(255,255,255,0.05)":"1px solid #e9ecef"},R={fontSize:"24px",marginRight:"15px",marginTop:"2px",flexShrink:0},q={color:t?"#93c5fd":"#3498db",textDecoration:"none",transition:"color 0.3s ease"},te={borderRadius:"15px",overflow:"hidden",boxShadow:t?"0 8px 25px rgba(0,0,0,0.6)":"0 4px 15px rgba(0,0,0,0.2)"},G={display:"inline-block",background:"linear-gradient(135deg, #1877f2, #42a5f5)",color:"white",padding:"15px 30px",borderRadius:"25px",textDecoration:"none",fontSize:"16px",fontWeight:"bold",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(24, 119, 242, 0.3)"};return s.jsxs("div",{style:S,children:[s.jsx(bl,{onClick:()=>e("home")}),s.jsxs("div",{style:y,children:[s.jsx("h1",{style:N,children:" Contacto"}),s.jsxs("section",{style:A,children:[s.jsx("h2",{style:P,children:" Informacin de Contacto"}),s.jsxs("div",{style:T,children:[s.jsx("span",{style:R,children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Direccin:"}),s.jsx("br",{}),(r==null?void 0:r.address_line1)||"CARRETERA TETLANOHCAN A MALINTZIN KILMETRO NUM. 3",s.jsx("br",{}),(r==null?void 0:r.address_line2)||"San Francisco, Mxico, 90800",r!=null&&r.address_line3?s.jsxs(s.Fragment,{children:[s.jsx("br",{}),r.address_line3]}):null]})]}),s.jsxs("div",{style:T,children:[s.jsx("span",{style:R,children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Telfono:"}),s.jsx("br",{}),s.jsx("a",{href:r!=null&&r.phone?`tel:${r.phone.replace(/\s/g,"")}`:"tel:+522464623456",style:q,children:(r==null?void 0:r.phone)||"01 (246) 46 2 34 56"})]})]}),s.jsxs("div",{style:T,children:[s.jsx("span",{style:R,children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Correo Electrnico:"}),s.jsx("br",{}),s.jsx("a",{href:r!=null&&r.email?`mailto:${r.email}`:"mailto:cbta134@yahoo.com.mx",style:q,children:(r==null?void 0:r.email)||"cbta134@yahoo.com.mx"})]})]}),s.jsxs("div",{style:T,children:[s.jsx("span",{style:R,children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Sitio Web:"}),s.jsx("br",{}),s.jsx("a",{href:(r==null?void 0:r.website)||"http://www.cbta134.edu.mx/",target:"_blank",rel:"noopener noreferrer",style:q,children:(r==null?void 0:r.website)||"www.cbta134.edu.mx"})]})]}),s.jsxs("div",{style:T,children:[s.jsx("span",{style:R,children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Calificacin:"}),s.jsx("br",{}),(r==null?void 0:r.rating_text)||"Recomendado por el 92% (17 opiniones)"]})]}),s.jsxs("div",{style:T,children:[s.jsx("span",{style:R,children:""}),s.jsxs("div",{children:[s.jsx("strong",{children:"Horario de Atencin:"}),s.jsx("br",{}),s.jsx("span",{style:{color:"#28a745",fontWeight:"bold"},children:(r==null?void 0:r.status_text)||" Abierto ahora"}),s.jsx("br",{}),(r==null?void 0:r.hours_line1)||"Lunes a Viernes: 7:00 AM - 4:00 PM",s.jsx("br",{}),(r==null?void 0:r.hours_line2)||"Sbados: 8:00 AM - 12:00 PM"]})]})]}),s.jsxs("section",{style:A,children:[s.jsx("h2",{style:P,children:" Directorio"}),a.map(H=>s.jsxs("div",{style:T,children:[s.jsx("span",{style:R,children:H.icon||""}),s.jsxs("div",{children:[s.jsx("strong",{children:H.title}),s.jsx("br",{}),H.detail]})]},H.id))]}),s.jsxs("section",{style:A,children:[s.jsx("h2",{style:P,children:" Sguenos en Redes Sociales"}),s.jsx("div",{style:{textAlign:"center"},children:l.length===0?s.jsxs(s.Fragment,{children:[s.jsx("a",{href:"https://www.facebook.com/share/15g75ZdJRg/",target:"_blank",rel:"noopener noreferrer",style:G,onMouseEnter:H=>H.target.style.transform="translateY(-3px)",onMouseLeave:H=>H.target.style.transform="translateY(0)",children:" Facebook Oficial"}),s.jsx("p",{style:{color:t?"#bfc7cf":"#666",marginTop:"15px"},children:"Mantente informado sobre noticias, eventos y actividades de nuestra institucin"})]}):l.map(H=>s.jsxs("div",{style:{marginBottom:"16px"},children:[s.jsxs("a",{href:H.url,target:"_blank",rel:"noopener noreferrer",style:G,onMouseEnter:M=>M.target.style.transform="translateY(-3px)",onMouseLeave:M=>M.target.style.transform="translateY(0)",children:[H.icon||""," ",H.name]}),s.jsx("p",{style:{color:t?"#bfc7cf":"#666",marginTop:"10px"},children:H.description})]},H.id))})]}),s.jsxs("section",{style:A,children:[s.jsx("h2",{style:P,children:" Ubicacin"}),s.jsx("p",{style:{textAlign:"center",marginBottom:"20px",color:"#666"},children:(d==null?void 0:d.address_text)||"CARRETERA TETLANOHCAN A MALINTZIN KILMETRO NUM. 3, San Francisco, Mxico"}),s.jsx("div",{style:te,children:s.jsx("iframe",{title:"Ubicacin CBTA 134",src:(d==null?void 0:d.map_embed_url)||"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3766.4767792435587!2d-98.1400007!3d19.261621699999996!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x85cfdd8ebaaaaaab%3A0x27dafbca82bfb2a0!2sCentro%20De%20Bachillerato%20Tecnol%C3%B3gico%20Agropecuario%20N%C3%BAm.%20134!5e0!3m2!1ses-419!2smx!4v1772321237884!5m2!1ses-419!2smx",width:"100%",height:"400",style:{border:0},allowFullScreen:"",loading:"lazy",referrerPolicy:"no-referrer-when-downgrade"})})]}),s.jsxs("section",{style:A,children:[s.jsx("h2",{style:P,children:" Preguntas Frecuentes"}),p.map(H=>s.jsxs("div",{style:{marginBottom:"20px"},children:[s.jsx("h4",{style:{color:t?"#e6eef8":"#2c3e50",marginBottom:"8px"},children:H.question}),s.jsx("p",{style:{color:t?"#bfc7cf":"#666",marginBottom:"15px"},children:H.answer})]},H.id))]}),s.jsxs("section",{className:"contacto-info-section",style:{...A,background:t?"linear-gradient(135deg, #1e3c72, #2a5298)":"linear-gradient(135deg, #667eea, #764ba2)",color:"white",textAlign:"center"},children:[s.jsx("h2",{style:{...P,color:"white"},children:(b==null?void 0:b.title)||" Necesitas ms informacin?"}),s.jsx("p",{style:{marginBottom:"20px",fontSize:"16px",color:"white"},children:(b==null?void 0:b.description)||"Estamos aqu para ayudarte. No dudes en contactarnos para resolver todas tus dudas sobre nuestros programas educativos, proceso de admisin o cualquier otra consulta."}),s.jsx("div",{style:{background:"rgba(255,255,255,0.2)",borderRadius:"10px",padding:"20px",marginTop:"20px",backdropFilter:"blur(10px)"},children:s.jsx("p",{style:{margin:0,fontWeight:"bold",color:"white"},children:(b==null?void 0:b.highlight_text)||" Tu futuro comienza aqu en el CBTA 134! "})})]})]})]})},eD=()=>{const[e,t]=U.useState(null),[r,n]=U.useState([]);return U.useEffect(()=>{(async()=>{const{data:i}=await ve.from("credits_config").select("*").order("created_at",{ascending:!1}).limit(1).maybeSingle(),{data:l}=await ve.from("credits_authors").select("*").order("order_index",{ascending:!0});t(i||null),n(l||[])})()},[]),s.jsxs("div",{style:{minHeight:"100vh",padding:"80px 20px 40px",background:"#f8f9fa"},children:[s.jsx(bl,{onClick:()=>window.history.back()}),s.jsxs("div",{style:{maxWidth:"1000px",margin:"0 auto",background:"white",borderRadius:"20px",padding:"30px",boxShadow:"0 15px 35px rgba(0,0,0,0.1)"},children:[s.jsx("h1",{style:{textAlign:"center",color:"#2c3e50",marginBottom:"10px"},children:(e==null?void 0:e.title)||"Crditos"}),s.jsx("p",{style:{textAlign:"center",color:"#666",marginBottom:"30px"},children:(e==null?void 0:e.subtitle)||"Autores de la pgina"}),s.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(260px, 1fr))",gap:"20px"},children:r.map(a=>s.jsxs("div",{style:{background:"#f8f9fa",borderRadius:"15px",padding:"20px",border:"1px solid #e9ecef"},children:[s.jsx("img",{src:a.photo_url||"/images/cbta134.png",alt:a.full_name,style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"12px",marginBottom:"12px"}}),s.jsx("h3",{style:{color:"#2c3e50",marginBottom:"6px"},children:a.full_name}),s.jsx("p",{style:{color:"#28a745",fontWeight:"bold",marginBottom:"8px"},children:a.career}),s.jsx("p",{style:{color:"#666",fontSize:"0.95rem"},children:a.description})]},a.id))}),(e==null?void 0:e.license_text)&&s.jsxs("div",{style:{marginTop:"30px",background:"#eef2ff",borderRadius:"12px",padding:"20px"},children:[s.jsx("h3",{style:{color:"#1e3a8a",marginBottom:"10px"},children:(e==null?void 0:e.license_title)||"Licencia"}),s.jsx("p",{style:{color:"#374151"},children:e.license_text})]})]})]})},tD=()=>{const[e,t]=U.useState({conversations:[],activeId:null}),[r,n]=U.useState(""),[a,i]=U.useState(!1),[l,c]=U.useState(null),d=U.useRef(null);U.useEffect(()=>{(async()=>{const R=await py();if(R.conversations.length)t(R);else{const q=m1("Camalen IA");q.messages.push({id:`msg-${Date.now()}`,text:"Hola! Soy **Camalen IA**, tu asistente virtual del CBTA 134. En qu puedo ayudarte hoy?",sender:"bot",createdAt:new Date().toISOString()});const te={conversations:[q],activeId:q.id};t(te),await Np(te)}})()},[]),U.useEffect(()=>{e.conversations.length&&Np(e)},[e]),U.useEffect(()=>{(async()=>{const{data:R,error:q}=await ve.from("chatbot_config").select("*").order("updated_at",{ascending:!1}).limit(1).maybeSingle();q||c(R||null)})()},[]),U.useEffect(()=>{var T;(T=d.current)==null||T.scrollIntoView({behavior:"smooth"})},[e,a]);const h=U.useMemo(()=>Pc(e),[e]),p=T=>T?T.replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/\n/g,"<br />"):"",f=T=>T.replace(/<[^>]*>/g,""),b=(T,R)=>R?R.replace(/\/$/,""):T==="groq"?"https://api.groq.com/openai/v1":T==="gemini"?"https://generativelanguage.googleapis.com/v1beta":"https://api.groq.com/openai/v1",g=T=>T==="groq"?(l==null?void 0:l.groq_api_key)||(l==null?void 0:l.api_key)||"":T==="gemini"?(l==null?void 0:l.gemini_api_key)||(l==null?void 0:l.api_key)||"":(l==null?void 0:l.api_key)||"",S=async()=>{if(!(l!=null&&l.enable_db_context))return"";const{data:T,error:R}=await ve.rpc("get_chatbot_context");return R?"":JSON.stringify(T||{},null,2)},y=async({providerToUse:T,fullSystemPrompt:R,historyMessages:q})=>{var W,ae,ge,_e,Le,Te,Q,ye;const te=g(T);if(!te)throw new Error(`No hay API key configurada para ${T}.`);const G=b(T,(l==null?void 0:l.base_url)||""),H=(l==null?void 0:l.model)||(T==="gemini"?"gemini-3.0-flash":"llama-3.1-8b-instant"),M=T==="gemini"?`${G}/models/${H}:generateContent?key=${te}`:`${G}/chat/completions`,re=await fetch(M,{method:"POST",headers:{"Content-Type":"application/json",...T==="gemini"?{}:{Authorization:`Bearer ${te}`}},body:JSON.stringify(T==="gemini"?{contents:[{parts:[{text:`${R}

Historial de la conversacin:
${q.map(je=>`${je.role==="user"?"Usuario":"Chatbot"}: ${je.content}`).join(`
`)}

Usuario: ${r}`}]}]}:{model:H,messages:[{role:"system",content:R},...q,{role:"user",content:r}],temperature:.3})});if(!re.ok){const je=await re.text();throw new Error(`Error de la API (${T}): ${re.status} - ${je}`)}const I=await re.json();if(T==="gemini"&&((Le=(_e=(ge=(ae=(W=I.candidates)==null?void 0:W[0])==null?void 0:ae.content)==null?void 0:ge.parts)==null?void 0:_e[0])!=null&&Le.text))return I.candidates[0].content.parts[0].text;if((ye=(Q=(Te=I.choices)==null?void 0:Te[0])==null?void 0:Q.message)!=null&&ye.content)return I.choices[0].message.content;throw I.error?new Error(I.error.message):new Error("Respuesta no vlida del proveedor.")},N=async T=>{if(T.preventDefault(),!r.trim()||!h||l&&l.enabled===!1)return;const R={id:`msg-${Date.now()}`,text:r,sender:"user",createdAt:new Date().toISOString()};try{await ve.from("chatbot_questions").insert([{question_text:r,source_page:window.location.pathname,conversation_id:h.id,user_agent:navigator.userAgent}])}catch{}t(q=>{const te=Pc(q);if(!te)return q;const G={...te,messages:[...te.messages,R]};return Ed(q,G)}),n(""),i(!0);try{const q=await S(),te=((l==null?void 0:l.system_prompt)||J1).trim(),G=q?`${te}

Contexto de la base de datos (JSON):
${q}`:te,H=h.messages.slice(-10).map(_e=>({role:_e.sender==="user"?"user":"assistant",content:f(_e.text)})),M=((l==null?void 0:l.provider)||"groq").toLowerCase(),re=((l==null?void 0:l.primary_provider)||M||"groq").toLowerCase(),I=(l==null?void 0:l.fallback_enabled)===!0,W=re==="groq"?"gemini":"groq";let ae=null;try{ae=await y({providerToUse:I?re:M,fullSystemPrompt:G,historyMessages:H})}catch(_e){if(I)ae=await y({providerToUse:W,fullSystemPrompt:G,historyMessages:H});else throw _e}const ge={id:`msg-${Date.now()}`,text:ae,sender:"bot",createdAt:new Date().toISOString()};t(_e=>{const Le=Pc(_e);if(!Le)return _e;const Te={...Le,messages:[...Le.messages,ge]};return Ed(_e,Te)})}catch(q){const te={id:`msg-${Date.now()}`,text:`Error: ${q.message}`,sender:"bot",createdAt:new Date().toISOString()};t(G=>{const H=Pc(G);if(!H)return G;const M={...H,messages:[...H.messages,te]};return Ed(G,M)})}i(!1)},A=()=>{const T=m1("Nueva conversacin"),R={conversations:[T,...e.conversations],activeId:T.id};t(R)},P=T=>{t(R=>yE(R,T))};return s.jsxs("div",{className:"chatbot-full",children:[s.jsxs("aside",{className:"chatbot-sidebar",children:[s.jsxs("div",{className:"sidebar-header",children:[s.jsx("h2",{children:"Camalen IA"}),s.jsx("button",{onClick:A,children:"Nueva"})]}),s.jsx("div",{className:"chat-list",children:e.conversations.map(T=>s.jsxs("button",{className:`chat-list-item ${T.id===e.activeId?"active":""}`,onClick:()=>P(T.id),children:[s.jsx("span",{children:T.title}),s.jsxs("small",{children:[T.messages.length," mensajes"]})]},T.id))})]}),s.jsxs("main",{className:"chatbot-main",children:[s.jsxs("header",{className:"chatbot-main-header",children:[s.jsxs("div",{children:[s.jsx("h3",{children:(h==null?void 0:h.title)||"Camalen IA"}),s.jsx("p",{children:"Asistente institucional CBTa 134"})]}),s.jsx("button",{onClick:()=>window.close(),className:"close-full",children:"Cerrar"})]}),s.jsxs("section",{className:"chatbot-main-messages",children:[h==null?void 0:h.messages.map(T=>s.jsx("div",{className:`full-message ${T.sender}`,children:s.jsx("div",{dangerouslySetInnerHTML:{__html:p(T.text)}})},T.id)),a&&s.jsx("div",{className:"full-message bot",children:"Escribiendo..."}),s.jsx("div",{ref:d})]}),s.jsxs("form",{className:"chatbot-main-input",onSubmit:N,children:[s.jsx("input",{value:r,onChange:T=>n(T.target.value),placeholder:"Escribe tu mensaje..."}),s.jsx("button",{type:"submit",disabled:a,children:"Enviar"})]})]})]})},rD=({onBack:e})=>{const[t,r]=U.useState(!0),[n,a]=U.useState(null),[i,l]=U.useState([]),[c,d]=U.useState([]),[h,p]=U.useState([]),[f,b]=U.useState([]),[g,S]=U.useState({days:0,hours:0,minutes:0,seconds:0});return U.useEffect(()=>{const y=()=>{const A=(n==null?void 0:n.target_date)||"2026-06-15T00:00:00",R=new Date(A)-new Date;R>0?S({days:Math.floor(R/864e5),hours:Math.floor(R/36e5%24),minutes:Math.floor(R/1e3/60%60),seconds:Math.floor(R/1e3%60)}):S({days:0,hours:0,minutes:0,seconds:0})};y();const N=setInterval(y,1e3);return()=>clearInterval(N)},[n]),U.useEffect(()=>{(async()=>{r(!0);const{data:N}=await ve.from("baetam_config").select("*").order("created_at",{ascending:!1}).limit(1).single(),{data:A}=await ve.from("baetam_info_cards").select("*").order("order_index",{ascending:!0}),{data:P}=await ve.from("baetam_requirements").select("*").order("order_index",{ascending:!0}),{data:T}=await ve.from("baetam_advantages").select("*").order("order_index",{ascending:!0}),{data:R}=await ve.from("baetam_contact_lines").select("*").order("order_index",{ascending:!0});a(N||null),l(A||[]),d(P||[]),p(T||[]),b(R||[]),r(!1)})()},[]),s.jsxs("div",{className:"baetam-page",children:[s.jsx("button",{className:"back-button",onClick:e,children:" Regresar al inicio"}),s.jsxs("div",{className:"baetam-container",children:[s.jsxs("div",{className:"baetam-header",children:[s.jsx("img",{src:(n==null?void 0:n.hero_image_url)||"/baetam/baetam.jpg",alt:"BAETAM - Bachillerato Autoplaneado",className:"baetam-hero-image"}),s.jsxs("div",{className:"baetam-header-content",children:[s.jsx("h1",{className:"baetam-title",children:(n==null?void 0:n.title)||"BAETAM"}),s.jsx("h2",{className:"baetam-subtitle",children:(n==null?void 0:n.subtitle)||"Bachillerato Autoplaneado de Educacin Tecnolgica Agropecuaria y del Mar"})]})]}),s.jsx("div",{className:"baetam-info",children:i.map(y=>s.jsxs("div",{className:"info-card",children:[s.jsx("h3",{children:y.title}),s.jsx("p",{children:y.description})]},y.id))}),s.jsxs("div",{className:"inscriptions-section",children:[s.jsx("h2",{className:"section-title",children:(n==null?void 0:n.inscriptions_title)||"Prximas Inscripciones"}),s.jsxs("div",{className:"inscription-period",children:[s.jsx("h3",{children:(n==null?void 0:n.inscriptions_period_title)||" Perodo de Inscripciones: Mayo - Junio 2026"}),s.jsx("p",{children:(n==null?void 0:n.inscriptions_period_description)||"Las inscripciones para el nuevo ciclo escolar estarn abiertas durante los meses de mayo y junio de 2026."})]}),s.jsxs("div",{className:"countdown-section",children:[s.jsx("h3",{children:(n==null?void 0:n.countdown_label)||" Tiempo restante para las inscripciones:"}),s.jsxs("div",{className:"countdown-timer",children:[s.jsxs("div",{className:"time-unit",children:[s.jsx("span",{className:"time-number",children:g.days}),s.jsx("span",{className:"time-label",children:"Das"})]}),s.jsx("div",{className:"time-separator",children:":"}),s.jsxs("div",{className:"time-unit",children:[s.jsx("span",{className:"time-number",children:g.hours.toString().padStart(2,"0")}),s.jsx("span",{className:"time-label",children:"Horas"})]}),s.jsx("div",{className:"time-separator",children:":"}),s.jsxs("div",{className:"time-unit",children:[s.jsx("span",{className:"time-number",children:g.minutes.toString().padStart(2,"0")}),s.jsx("span",{className:"time-label",children:"Minutos"})]}),s.jsx("div",{className:"time-separator",children:":"}),s.jsxs("div",{className:"time-unit",children:[s.jsx("span",{className:"time-number",children:g.seconds.toString().padStart(2,"0")}),s.jsx("span",{className:"time-label",children:"Segundos"})]})]}),s.jsx("p",{className:"countdown-date",children:(n==null?void 0:n.countdown_date_text)||" Inicio de inscripciones: 15 de Junio de 2026"})]})]}),s.jsxs("div",{className:"requirements-section",children:[s.jsx("h2",{className:"section-title",children:(n==null?void 0:n.requirements_title)||"Requisitos de Ingreso"}),s.jsx("div",{className:"requirements-grid",children:c.map(y=>s.jsxs("div",{className:"requirement-item",children:[s.jsx("span",{className:"requirement-icon",children:y.icon}),s.jsx("p",{children:y.text})]},y.id))})]}),s.jsxs("div",{className:"advantages-section",children:[s.jsx("h2",{className:"section-title",children:(n==null?void 0:n.advantages_title)||"Por qu elegir BAETAM?"}),s.jsx("div",{className:"advantages-grid",children:h.map(y=>s.jsxs("div",{className:"advantage-card",children:[s.jsx("h4",{children:y.title}),s.jsx("p",{children:y.description})]},y.id))})]}),s.jsxs("div",{className:"contact-section",children:[s.jsx("h2",{className:"section-title",children:(n==null?void 0:n.contact_title)||"Necesitas ms informacin?"}),s.jsx("p",{children:(n==null?void 0:n.contact_description)||"Contctanos para resolver todas tus dudas sobre BAETAM"}),s.jsx("div",{className:"contact-info",children:f.map(y=>s.jsx("p",{children:y.line_text},y.id))})]})]})]})},nD=()=>{const[e,t]=U.useState([]),r=[{image:"/images/valores.png",title:"Acerca de CBTa 134",description:"Conoce nuestra historia, misin, visin y valores que nos definen como institucin.",path:"acerca"},{image:"/images/programacion.jpg",title:"Carreras Tcnicas",description:"Descubre nuestras especialidades tcnicas y elige tu futuro profesional.",path:"carreras"},{image:"/images/galeria.png",title:"Galera",description:"Explora nuestra coleccin de fotos y eventos destacados.",path:"galeria"},{image:"/images/campus.png",title:"Clubs Estudiantiles",description:"nete a nuestros clubs deportivos, culturales y acadmicos.",path:"clubs"},{image:"/images/ofimatica.jpg",title:"Contacto",description:"Informacin de contacto y ubicacin de nuestra institucin.",path:"contacto"},{image:"/images/baetam.jpg",title:"BAETAM",description:"Bachillerato Autoplaneado - Educacin flexible para adultos.",path:"baetam"},{image:"/images/maestros-hero.png",title:"Maestros",description:"Recursos y enlaces utiles para el personal docente.",path:"maestros"},{image:"/images/alumnos-hero.png",title:"Alumnos",description:"Portal de alumnos para acceso a calificaciones y servicios.",path:"alumnos"},{image:"/images/proceso de admincion.jpg",title:"Proceso de Admisin y Pre-Registro",description:"Informacin sobre requisitos, fechas y pre-registro para nuevo ingreso.",path:"preregistro"}];U.useEffect(()=>{(async()=>{const{data:I}=await ve.from("home_options").select("*").order("order_index",{ascending:!0});I&&I.length>0?t(I.filter(W=>W.is_visible!==!1)):t(r.map((W,ae)=>({id:ae+1,image_url:W.image,title:W.title,description:W.description,path:W.path})))})()},[]);const[n,a]=U.useState(()=>{const re=localStorage.getItem("appOptions");return re?JSON.parse(re):r}),[i,l]=U.useState("home"),[c,d]=U.useState(!1);U.useState("phone");const h=()=>{const re=new Date().getHours();return re>=6&&re<18},p=td(),f=ed(),[b,g]=U.useState(()=>{const re=localStorage.getItem("manualModeOverride");return re!==null?JSON.parse(re):h()}),[S,y]=U.useState(()=>{const re=localStorage.getItem("isAutoMode");return re?JSON.parse(re):!0});U.useEffect(()=>{localStorage.setItem("appOptions",JSON.stringify(n))},[n]),U.useEffect(()=>{localStorage.setItem("isLightMode",JSON.stringify(!0)),localStorage.setItem("isAutoMode",JSON.stringify(S)),document.body.className="light-mode"},[S]),U.useEffect(()=>{if(S){const re=setInterval(()=>{const I=h();I!==b&&g(I)},6e4);return()=>clearInterval(re)}},[S,b]);const[N,A]=U.useState(!0),[P,T]=U.useState({home_badge:"NUEVO INGRESO 2025",home_titulo:"Pre-Regstrate Hoy!",home_descripcion:"Inicia tu proceso de admisin para el prximo ciclo escolar. Obtn tu ficha oficial de manera fcil y rpida.",home_boton:"Ir al Pre-Registro ",home_icono:""});U.useEffect(()=>{(async()=>{try{const{data:I,error:W}=await ve.from("preregistro_config").select("habilitado, home_badge, home_titulo, home_descripcion, home_boton, home_icono").eq("id",1).single();I&&(A(I.habilitado),T({home_badge:I.home_badge||"NUEVO INGRESO 2025",home_titulo:I.home_titulo||"Pre-Regstrate Hoy!",home_descripcion:I.home_descripcion||"Inicia tu proceso de admisin para el prximo ciclo escolar. Obtn tu ficha oficial de manera fcil y rpida.",home_boton:I.home_boton||"Ir al Pre-Registro ",home_icono:I.home_icono||""}))}catch(I){console.error("Error fetching prereg status:",I)}})()},[]);const R=re=>()=>{if(re.external_url){window.open(re.external_url,"_blank");return}if(re.post_id){l("avisos"),window.scrollTo({top:0,behavior:"smooth"}),p("/"),d(!1);return}const I=re.path;I==="alumnos"?p("/alumnos"):I==="maestros"?p("/maestros"):(l(I),f.pathname!=="/"&&p("/")),d(!1)},q=()=>{S?(y(!1),g(!b),localStorage.setItem("manualModeOverride",JSON.stringify(!b))):(g(!b),localStorage.setItem("manualModeOverride",JSON.stringify(!b)))},te=()=>{S?(y(!1),localStorage.setItem("manualModeOverride",JSON.stringify(b))):(y(!0),g(h()),localStorage.removeItem("manualModeOverride"))},G=()=>{d(!c)},H=()=>{const re=()=>l("home");switch(i){case"acerca":return s.jsx(PE,{onBack:re});case"valores":return s.jsx(TE,{onBack:re});case"noticias":return s.jsx(IE,{onBack:re});case"carreras":return s.jsx(XI,{setCurrentView:l});case"galeria":return s.jsx(GI,{setCurrentView:l});case"admission":case"preregistro":return s.jsx(Xg,{setCurrentView:l});case"nosotros":return s.jsx(WI,{setCurrentView:l});case"clubs":return s.jsx(YI,{setCurrentView:l});case"contacto":return s.jsx(QI,{setCurrentView:l});case"saetam":return s.jsx(RE,{onBack:re});case"maestros":return null;case"preregistro":return s.jsx(Xg,{setCurrentView:l});case"baetam":return s.jsx(rD,{onBack:re});default:return s.jsxs(s.Fragment,{children:[s.jsx(sE,{}),s.jsxs("main",{className:"main-content",children:[N&&s.jsxs("div",{className:"home-featured-card",onClick:()=>p("/preregistro"),children:[s.jsxs("div",{className:"featured-card-content",children:[s.jsx("div",{className:"featured-badge",children:P.home_badge}),s.jsx("h2",{className:"featured-title",children:P.home_titulo}),s.jsx("p",{className:"featured-desc",children:P.home_descripcion}),s.jsx("button",{className:"featured-btn",children:P.home_boton})]}),s.jsx("div",{className:"featured-icon",children:P.home_icono})]}),s.jsxs("div",{className:"navigation-cards",children:[s.jsx("h2",{className:"navigation-title",children:"Navega por Nuestras Secciones"}),s.jsx("div",{className:"options-grid",children:e.map(I=>s.jsxs("div",{className:"option-card",onClick:R(I),children:[s.jsx("img",{src:I.image_url,alt:I.title,className:"option-image"}),s.jsxs("div",{className:"option-content",children:[s.jsx("h3",{className:"option-title",children:I.title}),s.jsx("p",{className:"option-description",children:I.description}),s.jsx("button",{className:"option-button",children:I.button_text||"Ver ms"})]})]},I.id))})]})]})]})}},M=f.pathname!=="/alumnos"&&f.pathname!=="/maestros"&&f.pathname!=="/maestros/admin"&&f.pathname!=="/chatbot"&&!f.pathname.startsWith("/preregistro");return s.jsxs("div",{className:"app light-mode",children:[M&&s.jsx(iE,{toggleMode:q,toggleAutoMode:te,isLightMode:b,isAutoMode:S,toggleNav:G,isNavActive:c,currentView:i,setCurrentView:l}),s.jsx("div",{className:M?"app-content":"app-content-fullscreen",children:s.jsxs(W4,{children:[s.jsx(kc,{path:"/",element:H()}),s.jsx(kc,{path:"/creditos",element:s.jsx(eD,{})}),s.jsx(kc,{path:"/alumnos",element:s.jsx(DE,{})}),s.jsx(kc,{path:"/maestros",element:s.jsx(OE,{})}),s.jsx(kc,{path:"/maestros/admin",element:s.jsx(IP,{})}),s.jsx(kc,{path:"/chatbot",element:s.jsx(tD,{})}),s.jsx(kc,{path:"/preregistro",element:s.jsx(Xg,{setCurrentView:l})}),s.jsx(kc,{path:"/preregistro/formulario",element:s.jsx(DI,{setCurrentView:l})}),s.jsx(kc,{path:"*",element:H()})]})}),M&&s.jsxs(s.Fragment,{children:[s.jsx(oE,{}),s.jsx(wE,{})]})]})};t4.createRoot(document.getElementById("root")).render(s.jsx(U.StrictMode,{children:s.jsx(mS,{children:s.jsx(nD,{})})}));export{Tn as _};
